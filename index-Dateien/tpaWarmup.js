function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}define("tpaWarmup/bi/events.json",[],function(){return{APP_IFRAME_START_LOADING:{eventId:642,src:42,params:{widget_id:"widgetId",widget_name:"widgetName",instance_id:"compId",appId:"appDefinitionId",loading_time:"loadingTime",pid:"pageId",pn:"pageNo",iss:"ssr",tts:"totalLoadingTime",external_app_id:"externalAppDefinitionId",external_widget_id:"externalWidgetId"}},APP_LOADED_SUCCESSFULLY:{eventId:643,src:42,params:{widget_id:"widgetId",instance_id:"compId",appId:"appDefinitionId",loading_time:"loadingTime",pid:"pageId",pn:"pageNo",iss:"ssr",tts:"totalLoadingTime",external_app_id:"externalAppDefinitionId",external_widget_id:"externalWidgetId"}},APP_LOADED_PARTIALLY:{eventId:644,src:42,params:{widget_id:"widgetId",instance_id:"compId",appId:"appDefinitionId",loading_time:"loadingTime",stage:"stage",stage_number:"stageNum",pid:"pageId",pn:"pageNo",iss:"ssr",tts:"totalLoadingTime",external_app_id:"externalAppDefinitionId",external_widget_id:"externalWidgetId"}},APP_SDK_START_LOADING:{eventId:645,src:42,params:{widget_id:"widgetId",instance_id:"compId",appId:"appDefinitionId",loading_time:"loadingTime",pid:"pageId",pn:"pageNo",iss:"ssr",tts:"totalLoadingTime",external_app_id:"externalAppDefinitionId",external_widget_id:"externalWidgetId"}}}}),define("tpaWarmup/bi/events",["tpaWarmup/bi/events.json","lodash","warmupUtils"],function(e,t,i){"use strict";return i.loggingUtils.logger.register("tpaWarmup","event",e),e}),define("tpaWarmup/services/tpaDataService",["lodash"],function(e){"use strict";var t={APP:"APP",COMPONENT:"COMPONENT"},i=function(e,t,i){var a=e.getDataByQuery(t,i);return a&&a.content?JSON.parse(a.content):null},a=function(t,a,n,r){if(!e.isEmpty(n)){var d=i(t,n,r);if(d)return e.pick(d,a)}return null};return{SCOPE:t,getValue:function(i,n,r,d){var p=n.data.key,o=n.data.scope,g=void 0;return g=o===t.APP?a(i,p,"tpaData-"+d.applicationId,"masterPage"):a(i,p,d.tpaData,r),e.isEmpty(g)?{error:{message:"key "+p+" not found in "+o+" scope"}}:g},getTpaDataContent:i}}),define("tpaWarmup",["lodash","warmupUtils","tpaWarmup/bi/events","tpaWarmup/services/tpaDataService","experiment"],function(e,t,i,a,n){"use strict";var r,d,p=(d={},_defineProperty(d,"14409595-f076-4753-8303-9a86f9f71469",!0),_defineProperty(d,"14bcded7-0066-7c35-14d7-466cb3f09103",!0),_defineProperty(d,"1380b703-ce81-ff05-f115-39571d94dfcd",(r={},_defineProperty(r,"1380bba0-253e-a800-a235-88821cf3f8a4",!0),_defineProperty(r,"13ec3e79-e668-cc0c-2d48-e99d53a213dd",!0),r)),d);function o(t,i,a,n,r,d,p,o){var g=a.getTime(),s={compId:n,pageId:a.getPageId(),pageNo:a.getPageNumber(),ssr:r,loadingTime:g.loadingTime,totalLoadingTime:g.totalLoadingTime};e.get(d,"isWixTPA")?(s.widgetId=p,s.appDefinitionId=e.get(d,"appDefinitionId")):(s.externalWidgetId=p,s.externalAppDefinitionId=e.get(d,"appDefinitionId")),e.merge(s,o),i(t,s)}function g(t,i){var a=e.get(t,"widgetId");if(!a){var n=e.find(i.widgets,["appPage.hidden",!1]);a=e.get(n,"widgetId")}return a}function s(t,i){var a=e.get(t,"appDefinitionId");return!!p[a]&&(!e.isObject(p[a])||p[a][i])}return{tpaDataService:a,events:i,reportPerformanceBiEvent:o,reportWarmupPerformanceBiEvent:function(i,a,n,r){var d=void 0,p=void 0,s=a.getCurrentUrlPageId(),l=e.find(a.pagesData[s].structure[a.getViewMode()],{id:n});if(l){var u=a.getDataByQuery(l.dataQuery);d=g(u,p=a.rendererModel.clientSpecMap[e.get(u,"applicationId")])}var c=e.partial(t.loggingUtils.logger.reportBI,a),f=a.isClientAfterSSR();o(i,c,a.biData,n,f,p,d,r)},isTpaSupportedInWarmup:function(t,i){if(n.isOpen("sv_ssrLoadTpa",t)){var a=t.getCurrentUrlPageId(),r=e.get(t,["pagesData",a,"structure",t.getViewMode()]),d=e.find(r,{id:i});if(d){var p=t.getDataByQuery(d.dataQuery),o=t.rendererModel.clientSpecMap[e.get(p,"applicationId")];if(o)return s(o,g(p,o))}}return!1},isTpaSupported:s}});
//# sourceMappingURL=tpaWarmup.min.js.map