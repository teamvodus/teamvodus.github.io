function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}function _defineProperty(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var _slicedToArray=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var o=[],i=!0,n=!1,r=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(e){n=!0,r=e}finally{try{!i&&s.return&&s.return()}finally{if(n)throw r}}return o}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();define("rEditor/rootComps/keyboard/config/topContextShortcuts",["lodash"],function(e){"use strict";var t=function(e){e.preventDefault()},o={esc:t,"ctrl + t, command + t":t,"ctrl + y, command + y":t,"ctrl + d, command + d":t,"ctrl + s, command + s":t,"ctrl + ], command + ]":t,"ctrl + [, command + [":t,"ctrl + shift + ], command + shift + ]":t,"ctrl + shift + [, command + shift + [":t,backspace:t,"ctrl + left, command + left":t,"ctrl + right, command + right":t,"ctrl + shift + left, command + shift + left":t,"ctrl + shift + right, command + shift + right":t,"ctrl + m, command + m":t,"ctrl + shift + m, command + shift + m":t};return{init:e.once(e.noop),shortcuts:o}}),define("rEditor/rootComps/keyboard/config/keyboardShortcutsActionMap",["util"],function(e){"use strict";var t=e.browserUtil.getKeyboardSpecialKey(),o=t.value,i=t.label;return{editor:{SELECT_ALL:{key:o+" + a",label:""},GROUP_COMPONENTS:{key:o+" + g",label:""},UNGROUP_COMPONENTS:{key:o+" + shift + g",label:""},COPY:{key:o+" + c",label:i+" + C"},PASTE:{key:o+" + v",label:i+" + V"},APPLY_MODE:{key:o+" + shift + v",label:i+" + Shift + V"},CUT:{key:o+" + x",label:i+" + X"},DUPLICATE:{key:o+" + d",label:i+" + D"},UNDO:{key:o+" + z",label:i+" + Z"},REDO:{key:[o+" + y",o+" + shift + z"].join(","),label:i+" + Y"},DELETE:{key:["del","backspace"].join(","),label:"Del"},SAVE:{key:o+" + s",label:i+" + S"},SAVE_AS_TEMPLATE:{key:o+" + alt + t",label:""},SELECT_NEXT_COMP:{key:o+" + m",label:""},SELECT_PREV_COMP:{key:o+" + shift + m",label:""},CLOSE_PANELS:{key:"esc",label:""},MOVE_RIGHT:{key:"right",label:""},SHIFT_RIGHT:{key:"shift + right",label:""},MOVE_LEFT:{key:"left",label:""},SHIFT_LEFT:{key:"shift + left",label:""},MOVE_UP:{key:"up",label:""},SHIFT_UP:{key:"shift + up",label:""},MOVE_DOWN:{key:"down",label:""},SHIFT_DOWN:{key:"shift + down",label:""},SEND_FORWARD:{key:o+" + up",label:i+" + ↑"},SEND_TO_FRONT:{key:o+" + shift + up",label:i+" + Shift + ↑"},SEND_BACKWARD:{key:o+" + down",label:i+" + ↓"},SEND_TO_BACK:{key:o+" + shift + down",label:i+" + Shift + ↓"},TOGGLE_MOBILE:{key:o+" + j",label:i+" + j"},TOGGLE_PREVIEW:{key:o+" + p",label:i+" + P"},PUBLISH_SITE:{key:o+" + shift + p",label:i+" + Shift + P"},HIDE_TOOLS:{key:"shift + f",label:"Shift + F"},TOGGLE_RULERS:{key:"shift + r",label:"Shift + R"},PLATFORM_APP_CONFIGURATION:{key:o+"+ shift + e",label:i+"+ shift + e"},ADD_APPLICATIVE_MODE:{key:o+"+ shift + a",label:i+"+ shift + e"}},preview:{EXIT_PREVIEW:{key:"esc",label:""},TOGGLE_MOBILE:{key:o+" + j",label:i+" + j"},TOGGLE_PREVIEW:{key:o+" + p",label:i+" + P"},PUBLISH_SITE:{key:o+" + shift + p",label:i+" + Shift + P"}},topBar:{CLOSE_DROP_PANEL:{key:"esc",label:""}},imageCrop:{APPLY:{key:"enter",label:"Enter"},CANCEL:{key:"esc",label:"Esc"}}}}),define("rEditor/rootComps/keyboard/actions/selectComponentShortcutsActions",["lodash","core","stateManagement"],function(e,t,o){"use strict";function i(t){var o=t.documentServices.pages.getFocusedPageId(),i=t.components.getAllComponents(o);return e.filter(i,function(t){return!e.includes(l,t.id)})}function n(t,o,i){var r=e.findIndex(o,{id:i}),a=r+1===o.length?0:r+1;return t.components.is.selectable(o[a])?o[a]:n(t,o,o[a].id)}function r(t,o,i){var n=e.findIndex(o,{id:i}),a=0===n?o.length-1:n-1;return t.components.is.selectable(o[a])?o[a]:r(t,o,o[a].id)}function a(e,o){var i=t.utils.stageUtils.getStageLayout(),n=e.components.layout.getRelativeToScreen(o);t.utils.scrollUtils.setScroll({scrollTop:function(e,t){var o=e.height/2;return Math.max(t-o,0)}(i,n.y)})}function s(e,t){e.selection.selectComponentByCompRef(t),a(e,t)}var l=["PAGES_CONTAINER","SITE_PAGES","BACK_TO_TOP_BUTTON"];return{selectNextComponent:function(e){var t=e.selection.getSelectedComponentId();if(t){s(e,n(e,i(e),t))}},selectPreviousComponent:function(e){var t=e.selection.getSelectedComponentId();if(t){s(e,r(e,i(e),t))}},moveComponent:function(t,i,n){var r=t.components.getComponentsWhichDontHaveAncestorsInTheArray(t.selection.getSelectedComponents());return r&&function(e,t,i){return"x"===i&&o.editorPlugins.componentMetaData.isHorizontallyMovable(t,e.documentServices)||"y"===i&&e.components.is.verticallyMovable(t)}(t,r,i)&&t.documentServices.waitForChangesApplied(function(){var o=t.components.layout.getRelativeToStructure(r),a=e.clone(o);a[i]+=n,t.components.layout.updateRelativeToStructure(r,a)}),r}}}),define("rEditor/rootComps/keyboard/util/editorDebugShortcutsUtil",["lodash","util","savePublish"],function(e,t,o){"use strict";var i=t.browserUtil.getKeyboardSpecialKey().value;return function(t){var n={},r=e(window.editorModel.runningExperiments).pickBy(function(e){return"new"===e}).keys().value();n["ctrl + alt + shift + v"]=t.openEditorVersionInfoPanel.bind(t),n["ctrl + alt + shift + e"]=function(){window.alert("Active Experiments:\n"+r.join("\n"))};var a=window.location.search&&window.location.search.toLowerCase();return(e.includes(a,"debug=")||e.includes(a,"isqa=true"))&&(n[i+" + shift + alt + s"]=e.partial(o.configureSave,t),n[i+" + shift + alt + p"]=t.publishManager.configureMockPostPublish),n}}),define("rEditor/rootComps/keyboard/util/sendBIAndActionUtil",["lodash"],function(e){"use strict";function t(t,o,i){if(t&&o){var n=t.selection.getSelectedComponents(),r=t.bi.getComponentsBIParams(n);e.forEach(r,function(t,o){e.assign(o,t)}.bind(null,i)),e.isEmpty(r)&&i&&r.push(i),t.bi.reportBI(o,r)}}return t}),define("rEditor/rootComps/keyboard/config/editorShortcuts",["lodash","util","rEditor/rootComps/keyboard/config/keyboardShortcutsActionMap","rEditor/rootComps/keyboard/actions/selectComponentShortcutsActions","rEditor/rootComps/keyboard/util/editorDebugShortcutsUtil","rEditor/rootComps/keyboard/util/sendBIAndActionUtil","coreBi","experiment"],function(e,t,o,i,n,r,a,s){"use strict";function l(t){var o={};o[u.GROUP_COMPONENTS.key]=function(e,t){var o=e.selection.getSelectedComponents();e.components.is.groupable(o)&&p(o)&&e.groupComponents(o);t.preventDefault()}.bind(null,t),o[u.UNGROUP_COMPONENTS.key]=function(e,t){var o=e.selection.getSelectedComponents();if(e.components.is.group(o)){var i=e.components.getChildren(o);e.selection.selectComponentByCompRef(i),e.components.ungroup(o)}t.preventDefault()}.bind(null,t),o[u.COPY.key]=function(e){var t=a.events.rightClickMenu,o=e.selection.getSelectedComponents(),i=e.components.layout.isPinned(o)?1:0;if(e.selectedComponent.copy(),o){var n=e.components.getType(o);r(e,t.COPY,{origin:"keyboard",is_component_pinned:i,component_type:n})}}.bind(null,t),o[u.CUT.key]=function(e){var t=a.events.rightClickMenu,o=e.selection.getSelectedComponents(),i=e.components.layout.isPinned(o)?1:0;e.selectedComponent.cut(),e.history.add("component - cut"),r(e,t.CUT,{origin:"keyboard",is_component_pinned:i})}.bind(null,t),o[u.DUPLICATE.key]=function(e){var t=a.events.rightClickMenu,o=e.selection.getSelectedComponents(),i=e.components.layout.isPinned(o)?1:0;e.selectedComponent.duplicate(),"Column"!==e.selection.getSelectedComponentType()&&e.history.add("component - duplicate");r(e,t.DUPLICATE,{origin:"keyboard",is_component_pinned:i})}.bind(null,t),o[u.MOVE_RIGHT.key]=c.bind(null,t,"x",1),o[u.MOVE_LEFT.key]=c.bind(null,t,"x",-1),o[u.MOVE_UP.key]=c.bind(null,t,"y",-1),o[u.MOVE_DOWN.key]=c.bind(null,t,"y",1),o[u.SHIFT_RIGHT.key]=c.bind(null,t,"x",10),o[u.SHIFT_LEFT.key]=c.bind(null,t,"x",-10),o[u.SHIFT_UP.key]=c.bind(null,t,"y",-10),o[u.SHIFT_DOWN.key]=c.bind(null,t,"y",10),o[u.ADD_APPLICATIVE_MODE.key]=function(){if(s.isOpen("applicativeModes")){var o=e.head(t.selection.getSelectedComponents());if(o){var i=t.components.modes.getModes(o),n="mode-"+(i?i.length:"0");t.components.modes.addModeDefinition(o,"APPLICATIVE",null,n)}}};var i=n(t);e.merge(o,i),e.merge(d,o)}function c(e,t,o,n){n&&n.preventDefault(),i.moveComponent(e,t,o)}var p=t.array.isMultiselect,d={},u=o.editor;return{init:function(e){l(e)},shortcuts:d}}),define("rEditor/rootComps/keyboard/config/previewShortcuts",["lodash","coreBi","rEditor/rootComps/keyboard/config/keyboardShortcutsActionMap"],function(e,t,o){"use strict";function i(e){e.preventDefault()}var n=o.preview,r={};return{init:e.once(function(e){r[n.EXIT_PREVIEW.key]=e.preview.togglePreview,r[n.TOGGLE_PREVIEW.key]=function(e,t){t.preventDefault(),e.preview.togglePreview()}.bind(this,e),r[n.TOGGLE_MOBILE.key]=function(e,o){o.preventDefault(),e.bi.event(t.events.topbar.editor_view_mode_switch,{origin:"keyboard"});var i=e.isMobileEditor();e.setEditorMode(!i)}.bind(null,e),r[n.PUBLISH_SITE.key]=i}),shortcuts:r}}),define("rEditor/rootComps/keyboard/config/pinModeShortcuts",["lodash","rEditor/rootComps/keyboard/config/keyboardShortcutsActionMap","rEditor/rootComps/keyboard/util/editorDebugShortcutsUtil","coreBi","rEditor/rootComps/keyboard/actions/selectComponentShortcutsActions"],function(e,t,o,i){"use strict";function n(t,o,i){if(t&&o){var n=t.selection.getSelectedComponents(),r=t.bi.getComponentsBIParams(n);e.forEach(r,function(t,o){e.assign(o,t)}.bind(null,i)),e.isEmpty(r)&&i&&r.push(i),t.bi.reportBI(o,r)}}function r(e){e.preventDefault()}var a={},s=t.editor;return{init:function(t){!function(t){var l=i.events.rightClickMenu,c={};c[s.GROUP_COMPONENTS.key]=r,c[s.UNGROUP_COMPONENTS.key]=r,c[s.COPY.key]=n.bind(null,t,l.COPY,{is_component_pinned:1}),c[s.CUT.key]=n.bind(null,t,l.CUT,{is_component_pinned:1}),c[s.DUPLICATE.key]=n.bind(null,t,l.DUPLICATE,{is_component_pinned:1}),c[s.MOVE_RIGHT.key]=r,c[s.MOVE_LEFT.key]=r,c[s.MOVE_UP.key]=r,c[s.MOVE_DOWN.key]=r,c[s.SHIFT_RIGHT.key]=r,c[s.SHIFT_LEFT.key]=r,c[s.SHIFT_UP.key]=r,c[s.SHIFT_DOWN.key]=r;var p=o(t);e.merge(c,p),e.merge(a,c)}(t)},shortcuts:a}}),define("rEditor/rootComps/keyboard/util/commonKeyboardActions",["rEditor/rootComps/keyboard/util/sendBIAndActionUtil","coreBi","coreUtilsLib"],function(e,t,o){"use strict";function i(o,i){var n=t.events.editor.undo_redo_component_change;e(o,n,{type:i,origin:"keyboard"})}return{undoFromKeyboard:function(e){i(e,"undo"),e.history.undo()},redoFromKeyboard:function(e){i(e,"redo"),e.history.redo()},saveSiteFromKeyboard:function(e){e.saveManager.save({origin:"keyboard"})},saveSiteAsTemplateFromKeyboard:function(e){e.saveManager.saveAsTemplate(function(){o.log.info("Saved successfully as Template.")})},publishSiteFromKeyboard:function(e,o){e.savePublish.canUserPublish()&&(o.preventDefault(),e.bi.event(t.events.publish.PUBLISH_CLICK,{origin:"keyboard"}),e.publishManager.saveAndPublish("keyboard_publish"))}}}),define("rEditor/rootComps/keyboard/config/zoomModeShortcuts",["lodash","rEditor/rootComps/keyboard/util/commonKeyboardActions","rEditor/rootComps/keyboard/config/keyboardShortcutsActionMap"],function(e,t,o){"use strict";var i={},n=o.editor;return{init:function(o){!function(o){var r={};r[n.UNDO.key]=t.undoFromKeyboard.bind(null,o),r[n.REDO.key]=t.redoFromKeyboard.bind(null,o),r[n.SAVE.key]=t.saveSiteFromKeyboard.bind(null,o),r[n.SAVE_AS_TEMPLATE.key]=t.saveSiteAsTemplateFromKeyboard.bind(null,o),r[n.PUBLISH_SITE.key]=t.publishSiteFromKeyboard.bind(null,o),e.assign(i,r)}(o)},shortcuts:i}}),define("rEditor/rootComps/keyboard/config/imageCropShortcuts",["lodash","coreBi","rEditor/rootComps/keyboard/config/keyboardShortcutsActionMap"],function(e,t,o){"use strict";function i(o){var i={};i[r.APPLY.key]=function(o){var i=o.selection.getSelectedComponents(),n=o.selection.getSelectedComponentData().crop;o.imageCrop.updateCrop(),o.imageCrop.toggleCropMode(!1),o.documentServices.waitForChangesApplied(function(){var r=o.components.data.get(i).crop,a=!e.isEqual(n,r);o.bi.event(t.events.imageCrop.apply_crop,{is_changed:a,origin:"enter"})})}.bind(null,o),i[r.CANCEL.key]=function(e){e.imageCrop.toggleCropMode(!1)}.bind(null,o),e.merge(n,i)}var n={},r=o.imageCrop;return{init:function(e){i(e)},shortcuts:n}}),define("rEditor/rootComps/keyboard/config/baseEditorShortcuts",["lodash","experiment","stateManagement","rEditor/rootComps/keyboard/config/keyboardShortcutsActionMap","rEditor/rootComps/keyboard/actions/selectComponentShortcutsActions","rEditor/rootComps/keyboard/util/editorDebugShortcutsUtil","rEditor/rootComps/keyboard/util/commonKeyboardActions","coreBi","constants","rEditor/rootComps/keyboard/util/sendBIAndActionUtil"],function(e,t,o,i,n,r,a,s,l,c){"use strict";function p(i){var p={};p[u.SELECT_ALL.key]=i.selection.selectAll,p[u.PASTE.key]=function(t){var i=s.events.rightClickMenu,n=t.clipboard.getItem(l.EDITOR_CLIPBOARD_TYPES.COMPONENT);if(n){var r=e.map(n.components,"serializedComp.layout"),a=o.editorPlugins.componentMetaData.isPinnedBySerializedLayout(r,t.documentServices);t.copyPaste.paste(),t.history.add("component - paste"),c(t,i.PASTE,{origin:"keyboard",is_component_pinned:a})}}.bind(null,i),p[u.APPLY_MODE.key]=function(e){var o=s.events.rightClickMenu;t.isOpen("se_hoverBox")&&e.copyPaste.canApplyModeFromClipboard()&&(e.copyPaste.applyModeFromClipboard(e.selection.getSelectedComponents()),c(e,o.APPLY_MODE_FROM_CLIPBOARD,{origin:"keyboard"}))}.bind(null,i),p[u.UNDO.key]=a.undoFromKeyboard.bind(null,i),p[u.REDO.key]=a.redoFromKeyboard.bind(null,i),p[u.DELETE.key]=function(e){var t=e.selection.getSelectedComponents(),o=e.components.layout.isPinned(t)?1:0;c(e,s.events.editor.component_removed,{removal_method:"keyboard",is_component_pinned:o}),e.selectedComponent.remove().then(function(t){t&&e.history.add("component - remove")})}.bind(null,i),p[u.SAVE.key]=a.saveSiteFromKeyboard.bind(null,i),p[u.SAVE_AS_TEMPLATE.key]=a.saveSiteAsTemplateFromKeyboard.bind(null,i),p[u.SELECT_NEXT_COMP.key]=function(e){e.panelManager.closeAllPanels(),n.selectNextComponent(e)}.bind(null,i),p[u.SELECT_PREV_COMP.key]=function(e){e.panelManager.closeAllPanels(),n.selectPreviousComponent(e)}.bind(null,i),p[u.TOGGLE_RULERS.key]=function(e){e.store.dispatch(o.editorPlugins.rulers.actions.toggleRulers())}.bind(null,i),p[u.CLOSE_PANELS.key]=function(t){var i=t.panelManager;i.getOpenPanels().length>0?e.forEach(g,i.closeAllPanelsOfType):o.editorPlugins.panels.selectors.selectHelpProps(t.store.getState())?i.closeHelpCenter():t.selection.isComponentSelected()?t.selection.deselectComponents():(t.toolsControl.toggleHideTools(!1),t.bi.event(s.events.editor.hide_tools.show_controls,{origin:"shortcut"}))}.bind(null,i),p[u.SEND_TO_FRONT.key]=f.toFront.bind(null,i),p[u.SEND_TO_BACK.key]=f.toBack.bind(null,i),p[u.SEND_FORWARD.key]=f.forward.bind(null,i),p[u.SEND_BACKWARD.key]=f.backward.bind(null,i),p[u.TOGGLE_PREVIEW.key]=function(e,t){t.preventDefault(),e.bi.event(s.events.preview.PREVIEW_CLICK,{origin:"keyboard"}),e.preview.togglePreview()}.bind(null,i),p[u.TOGGLE_MOBILE.key]=function(e,t){t.preventDefault(),e.bi.event(s.events.topbar.editor_view_mode_switch,{origin:"keyboard"});var o=e.isMobileEditor();e.setEditorMode(!o)}.bind(null,i),p[u.PLATFORM_APP_CONFIGURATION.key]=function(e){if(m>=8){var t=e.documentServices.platform.getAppDataByAppDefId("editorPlatformWixComponents");t?e.documentServices.platform.notifyApplication(t.applicationId,{eventType:"openModal"}):e.documentServices.platform.initApp({appDefinitionId:"editorPlatformWixComponents",editorUrl:"https://static.parastorage.com/services/editor-platform-app-configuration-ui-node/1.33.0/assets/editor.js"}),m=0}else m++}.bind(null,i),p[u.PUBLISH_SITE.key]=a.publishSiteFromKeyboard.bind(null,i),p[u.HIDE_TOOLS.key]=function(e){var t=e.toolsControl.toggleHideTools()?"hide_controls":"show_controls";e.bi.event(s.events.editor.hide_tools[t],{origin:"shortcut"})}.bind(null,i);var h=r(i);e.merge(p,h),e.merge(d,p)}var d={},u=i.editor,m=0,g=["leftPanelFrame","compPanelFrame","focusPanelFrame","messagePanelFrame","toolPanelFrame","tpaSettingsPanelFrame"],f={toFront:function(e){var t=e.selection.getSelectedComponents();e.components.is.controlledByParent(t)||(e.components.arrangement.moveToFront(t),c(e,s.events.rightClickMenu.BRING_TO_FRONT,{origin:"keyboard"}))},toBack:function(e){var t=e.selection.getSelectedComponents();e.components.is.controlledByParent(t)||(e.components.arrangement.moveToBack(t),c(e,s.events.rightClickMenu.SEND_TO_BACK,{origin:"keyboard"}))},forward:function(e){var t=e.selection.getSelectedComponents();e.components.is.controlledByParent(t)||(e.components.arrangement.moveForward(t),c(e,s.events.rightClickMenu.MOVE_FORWARD,{origin:"keyboard"}))},backward:function(e){var t=e.selection.getSelectedComponents();e.components.is.controlledByParent(t)||(e.components.arrangement.moveBackward(t),c(e,s.events.rightClickMenu.MOVE_BACKWARDS,{origin:"keyboard"}))}};return{init:function(e){p(e)},shortcuts:d}}),define("rEditor/rootComps/keyboard/config/shortcutsConfig",["util","lodash","core","stateManagement","rEditor/rootComps/keyboard/config/topContextShortcuts","rEditor/rootComps/keyboard/config/editorShortcuts","rEditor/rootComps/keyboard/config/previewShortcuts","rEditor/rootComps/keyboard/config/pinModeShortcuts","rEditor/rootComps/keyboard/config/zoomModeShortcuts","rEditor/rootComps/keyboard/config/imageCropShortcuts","rEditor/rootComps/keyboard/config/baseEditorShortcuts"],function(e,t,o,i,n,r,a,s,l,c,p){"use strict";function d(e,o){return t.mapValues(e,function(e){return function(e,t){return function(){return t(),e.apply(null,arguments)}}(e,o)})}var u=e.keyboardShortcuts,m=function(e){var t=20,n=setInterval(function(){t||clearInterval(n),t--,function(e){e(i.editorPlugins.easterEggs.actions.showFlyingMusa(o.utils.stageUtils.getViewPort()))}(e)},1e3)},g=function(e){var t=u.extendContext(u.CONTEXTS.EDITOR,e);u.registerContext(u.CONTEXTS.EDITOR,t)},f=function(e,t){var o=0,i=void 0;g(_defineProperty({},e[o],function n(){if(clearTimeout(i),o===e.length-1){var r;t(),g((r={},_defineProperty(r,e[o],null),_defineProperty(r,e[0],n),r)),o=0}else{var a;g((a={},_defineProperty(a,e[++o-1],null),_defineProperty(a,e[o],n),a)),i=setTimeout(function(){var t;g((t={},_defineProperty(t,e[o],null),_defineProperty(t,e[0],n),t))},500)}}))};return{init:t.once(function(e){n.init(e),a.init(e),p.init(e),s.init(e),c.init(e),l.init(e),r.init(e),function(e,t){u.registerContext(u.CONTEXTS.TOP_CONTEXT,d(n.shortcuts,t),e);var o=u.extendContext(u.CONTEXTS.TOP_CONTEXT,d(p.shortcuts,t));u.registerContext(u.CONTEXTS.BASE_EDITOR,o,e);var i=u.extendContext(u.CONTEXTS.TOP_CONTEXT,d(a.shortcuts,t));u.registerContext(u.CONTEXTS.PREVIEW,i,e);var g=u.extendContext(u.CONTEXTS.BASE_EDITOR,d(r.shortcuts,t));u.registerContext(u.CONTEXTS.EDITOR,g,e);var h=u.extendContext(u.CONTEXTS.BASE_EDITOR,d(s.shortcuts,t));u.registerContext(u.CONTEXTS.PIN_MODE,h,e);var b=u.extendContext(u.CONTEXTS.TOP_CONTEXT,d(c.shortcuts,t));u.registerContext(u.CONTEXTS.IMAGE_CROP,b,e);var y=u.extendContext(u.CONTEXTS.TOP_CONTEXT,d(l.shortcuts,t));u.registerContext(u.CONTEXTS.ZOOM_MODE,y,e),f("ilovewix",function(){return m(e.store.dispatch)})}(e,e.closeRightClickMenu)})}}),define("rEditor/utils/isRightClickWithCtrlInDebugMode",["util"],function(e){"use strict";return function(t){var o=e.url.parseUrlParams(window.location);return t.ctrlKey&&"all"===o.debug}}),define("rEditor/rootComps/leftBar/leftBarMapper",["lodash","stateManagement"],function(e,t){"use strict";return function(o){var i=o.store,n=i.dispatch,r=i.getState,a=t.editorPlugins.leftBar.selectors.getOverriddenItems(r()),s=t.editorPlugins.leftBar.selectors.getMenuItems(r(),o.isPopUpMode());return{sendBIButtonsCount:function(){n(t.editorPlugins.leftBar.actions.sendBIButtonsCount(o.isPopUpMode()))},superAppsDesktopCount:t.editorPlugins.leftBar.selectors.getDesktopSuperAppsCount(r()),isCollapsed:t.editorPlugins.leftBar.selectors.isCollapsed(r()),leftBarMenuItems:e.reject(s,function(t){var o=t.panelName;return e.get(a[o],"isHidden",!1)}),isMobileEditor:o.isMobileEditor(),openPanels:o.getOpenPanels(),isEnabled:o.editorIsInit(),halfOpacityTools:o.toolsControl.isHalfOpacityTools(),isHidden:o.toolsControl.areToolsHidden(),reportBI:o.bi.event,leftBarNotifications:t.editorPlugins.leftBar.selectors.getNotifications(r()),collapseMenu:function(){n(t.editorPlugins.leftBar.actions.collapseMenu())},openPanel:o.panelManager.openPanel,collapseButton:function(e){n(t.editorPlugins.leftBar.actions.collapseButton(e))},hideFloatingBubble:o.hideFloatingBubble,updateLeftBarButtonsBoundingRect:function(e){n(t.editorPlugins.leftBar.actions.updateButtonsBoundingRect(e))}}}}),define("rEditor/rootComps/leftBar/leftBarButton/leftBarButton.rt",["react","lodash","symbols","experiment"],function(e,t,o,i){"use strict";return function(){return e.createElement("li",{className:t(this.getButtonClasses()).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),ref:"root",onClick:this.handleOnClick},this.shouldShowSelectedSvg()?e.createElement(o.symbol,t.assign({},{key:"selectedSvg"},this.getSelectedButtonSvgProps())):null,e.createElement(o.symbol,{name:this.props.symbolName,className:"icon"}),e.createElement("span",{className:"mask"}),e.createElement("span",{className:"text"},this.props.label),this.shouldShowNotificationCounter()?e.createElement("span",{key:"notificationCount",className:"notifications"},this.props.notificationCount):null)}}),define("rEditor/rootComps/leftBar/leftBarButton/leftBarButton",["lodash","create-react-class","prop-types","constants","baseUI","rEditor/rootComps/leftBar/leftBarButton/leftBarButton.rt","symbols"],function(e,t,o,i,n,r){"use strict";var a=n.tooltipManager;return t({displayName:"leftBarButton",propTypes:{className:o.string.isRequired,symbolName:o.string.isRequired,label:o.string.isRequired,isSelected:o.bool.isRequired,isMobileEditor:o.bool.isRequired,onClick:o.func.isRequired,isMenuCollapsed:o.bool,notificationCount:o.number.isRequired,isFirstPanel:o.bool,collapseOnClick:o.bool,isButtonOpen:o.bool,hintProps:o.object,tooltips:o.array},getInitialState:function(){return{activeState:null}},componentDidMount:function(){this.setButtonTooltips()},setButtonTooltips:function(){e.forEach(this.props.tooltips,function(e){a.createTooltip(!1,{id:e.id,targetNode:this.refs.root,value:e.value,width:e.width,alignment:i.UI.TOOLTIP.ALIGNMENT.LEFT,closeTriggers:[i.UI.TOOLTIP.TRIGGERS.OUTER_CLICK],onOpen:this.setState.bind(this,{activeState:"force-hover"}),onClose:this.setState.bind(this,{activeState:null})})}.bind(this))},closeTooltips:function(){e.forEach(this.props.tooltips,function(e){a.isDisplayed(e.id)&&a.hide(e.id)})},getButtonClasses:function(){var e={"left-bar-item":!0,selected:this.props.isSelected,"first-panel":this.props.isFirstPanel,"wait-for-click":this.props.collapseOnClick};return this.state.activeState&&(e[this.state.activeState]=!0),e[this.props.className]=!0,e},shouldShowNotificationCounter:function(){return this.props.notificationCount>0},handleOnClick:function(){this.closeTooltips(),this.props.onClick&&this.props.onClick()},getSelectedButtonSvgProps:function(){var e=void 0,t=void 0;return this.props.isFirstPanel?(e="leftBarButtonEarTop",t="ear-top"):(e="leftBarButtonEarMiddle",t="ear-middle"),{name:e,className:"ear "+t}},shouldShowSelectedSvg:function(){return this.props.isMenuCollapsed&&this.props.isSelected},render:r})}),define("rEditor/rootComps/leftBar/leftBar.rt",["react","lodash","rEditor/rootComps/leftBar/leftBarButton/leftBarButton","util"],function(e,t,o,i){"use strict";return function(){return e.createElement("div",{className:t({"left-bar":!0,"is-hidden":this.props.isHidden,"half-opacity":this.props.halfOpacityTools,"menu-collapsed-wrapper":this.props.isCollapsed}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),style:{left:this.getLeftOffset()},onContextMenu:this.onContextMenu,onMouseMove:this.props.onMouseMove,onMouseEnter:this.props.onMouseEnter},e.createElement.apply(this,["ul",{ref:"buttons",className:t({"left-bar-items":!0,"menu-collapsed":this.props.isCollapsed,"menu-opened":this.isMenuOpened()}).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},t.map(this.props.leftBarMenuItems,function(t,n){return e.createElement(o,{tooltips:t.tooltips,key:t.panelName,label:i.translate(t.label),isMenuCollapsed:this.props.isCollapsed,className:t.className,symbolName:t.symbolName,isMobileEditor:this.props.isMobileEditor,isSelected:this.isSelected(t.panelName),onClick:function(e,t){this.handleOnClick(e.panelName,e.panelProps)}.bind(this,t,n),isFirstPanel:0===n,collapseOnClick:t.collapseOnClick,isButtonOpen:t.isButtonOpen,notificationCount:this.getNotificationCount(t.panelName),hintProps:t.hintProps,getUserSitePreferences:this.props.getUserSitePreferences,setUserSitePreferences:this.props.setUserSitePreferences})}.bind(this))]))}}),define("rEditor/rootComps/leftBar/leftBar",["reactDOM","lodash","create-react-class","prop-types","higherOrderComponents","zepto","rEditor/utils/isRightClickWithCtrlInDebugMode","rEditor/rootComps/leftBar/leftBarMapper","rEditor/rootComps/leftBar/leftBar.rt"],function(e,t,o,i,n,r,a,s,l){"use strict";function c(e){var o=t.find(e.openPanels,{frameType:"leftPanelFrame"});return o&&o.name}var p=o({displayName:"leftBar",propTypes:{superAppsDesktopCount:i.number,isCollapsed:i.bool,leftBarMenuItems:i.array.isRequired,isMobileEditor:i.bool.isRequired,openPanels:i.array.isRequired,isEnabled:i.bool.isRequired,isHidden:i.bool.isRequired,halfOpacityTools:i.bool.isRequired,reportBI:i.func,sendBIButtonsCount:i.func,leftBarNotifications:i.object.isRequired,collapseMenu:i.func.isRequired,openPanel:i.func.isRequired,collapseButton:i.func.isRequired,hideFloatingBubble:i.func.isRequired,updateLeftBarButtonsBoundingRect:i.func.isRequired},componentDidMount:function(){this.mounted=!0,this.updateButtonsBoundingRect(),this.props.isHidden&&r(e.findDOMNode(this)).css({left:this.getLeftOffset()})},componentWillUnmount:function(){this.mounted=!1},componentDidUpdate:function(e){this.updateButtonsBoundingRect(),this.sendBIButtonsCountIfNeeded(e)},getNotificationCount:function(e){return this.props.leftBarNotifications[e]||0},sendBIButtonsCountIfNeeded:function(e){this.props.superAppsDesktopCount!==e.superAppsDesktopCount&&this.props.sendBIButtonsCount()},componentWillReceiveProps:function(e){c(e)&&(this.props.isCollapsed||this.props.collapseMenu())},handleOnClick:function(e,t){var o=c(this.props);this.props.isEnabled&&e!==o&&(this.props.collapseMenu(),this.props.openPanel(e,t),t.openPanelBiEvent&&this.props.reportBI(t.openPanelBiEvent,t.openPanelBiParams)),this.props.collapseButton(e),this.props.hideFloatingBubble()},isMenuOpened:function(){return!!c(this.props)},updateButtonsBoundingRect:function(){var o=void 0,i=t.some(this.props.leftBarMenuItems,"collapseOnClick");o=this.props.isCollapsed&&!i?null:e.findDOMNode(this.refs.buttons).getBoundingClientRect(),this.props.updateLeftBarButtonsBoundingRect(o)},getLeftOffset:function(){if(!this.props.isHidden)return"";var t="";if(this.mounted){t=-(e.findDOMNode(this).offsetWidth+12)}else t=-1e3;return t+"px"},onContextMenu:function(e){a(e)||e.preventDefault()},isSelected:function(e){var t=c(this.props);return!(!t||t!==e)},render:function(){return l.call(this)}}),d=n.connectEditorAPI(s)(n.renderWhenMutated(p));return d.pure=p,d}),define("rEditor/rootComps/toolBar/toolBarLogic",[],function(){"use strict";return{isPasteEnabled:function(e){return e.clipboardContainsComp()&&e.isDesktopEditor()&&!e.components.layout.isPinned(e.selection.getSelectedComponents())}}}),define("rEditor/rootComps/toolBar/toolBarMapper",["lodash","util","rEditor/utils/isRightClickWithCtrlInDebugMode","stateManagement","rEditor/rootComps/toolBar/toolBarLogic"],function(e,t,o,i,n){"use strict";function r(e){o(e)||e.preventDefault()}function a(t){var o=t.store.getState(),a=c.selectors.getSelectedCompsRefs(o),d=void 0;e.isEmpty(a)?(a=null,d={}):d=c.selectors.getSelectedCompRestrictions(o);return{hidden:l.selectors.isOpen(o)||t.imageCrop.isCropMode(),toolsHidden:t.toolsControl.areToolsHidden(),halfOpacityTools:t.toolsControl.isHalfOpacityTools(),components:a,componentsWithoutAncestor:t.components.getComponentsWhichDontHaveAncestorsInTheArray(a),onContextMenu:r,previewTopPosition:p(o).top,layout:function(t,o){if(!o)return{componentLayout:null,update:e.noop,updateAndPreserveProportions:e.noop};var i=t.components.layout.isHorizontallyStretchedToScreen(o),n=t.pages.getPrimaryContainer(),r=!t.utils.isPage(n),a=i?t.components.layout.getRelativeToScreen(n):t.components.layout.getRelativeToStructure(n),s=function(t){return r?e.defaultsDeep({x:t.x-a.x,y:t.y-a.y,bounding:{x:t.bounding.x-a.bounding.x,y:t.bounding.y-a.bounding.y}},t):t},l=function(t){return r?function(o,i){for(var n=arguments.length,r=Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];t.apply(void 0,[o,e({x:i.x+a.x,y:i.y+a.y}).pick(e.keys(i)).defaultsDeep(i).value()].concat(r))}:t};return i?{componentLayout:s(t.components.layout.getRelativeToScreen(o)),update:l(t.components.layout.updateRelativeToScreen),updateAndPreserveProportions:l(t.components.layout.updateRelativeToScreenAndPreserveProportions)}:{componentLayout:s(t.components.layout.getRelativeToStructure(o)),update:l(t.components.layout.updateRelativeToStructure),updateAndPreserveProportions:l(t.components.layout.updateRelativeToStructureAndPreserveProportions)}}(t,a),componentsRestrictions:d,areComponentsMultiSelectedOrGrouped:function(e,t){if(!t)return!1;var o=e.components.getComponentsWhichDontHaveAncestorsInTheArray(t);return s(o)||e.components.is.group(o)}(t,a),componentsProportions:function(e,t){var o=e.components.getComponentsWhichDontHaveAncestorsInTheArray(t);return s(o)||e.components.is.group(o)?e.components.layout.getProportionStructure(o):null}(t,a),componentLayoutLimits:a?t.documentServices.components.layout.getLimits(e.head(a)):{},addHistory:t.history.add,toggleShowOnAllPages:e.partial(t.components.toggleShowOnAllPages,a),shouldDisableShowOnAllPages:Boolean(a&&t.components.shouldDisableShowOnAllPages(a)),isPage:Boolean(a&&t.utils.isPage(a)),reportBI:t.bi.event,isComponentShowOnAllPages:Boolean(a&&t.components.isShowOnAllPages(a)),isPasteEnabled:n.isPasteEnabled(t),toggleToolbar:t.toolbar.toggleToolbar,componentType:t.selection.getSelectedComponentType(),onHelp:function(e,o){t.panelManager.openHelpCenter(e,null,o)},openComponentInspectorFinder:function(){t.panelManager.openComponentPanel("debugTools.componentInspector.finderPanel",{comp:a})},toggleFixedPosition:t.selectedComponent.toggleFixedPosition,compDeleteTooltipText:t.tooltipTextService.getComponentTooltipText(a,"DELETE"),compBIParams:t.bi.getComponentsBIParams(a),isCompControlledByParent:d.isControlledByParent,copyPasteAPI:e.pick(t.copyPaste,["duplicate","paste","copy"]),canDistributeAllDirections:t.components.multiComponents.canDistributeAllDirections(a),distribute:t.components.multiComponents.distribute,canMatchAllSizes:t.components.multiComponents.canMatchAllSizes(a),matchSize:t.components.multiComponents.matchSize,isMobileEditor:t.isMobileEditor(),canAlignAllDirections:t.components.alignment.canAlignAllDirections(a),alignComp:t.components.alignment.align,removeComp:t.components.remove,arrangementAPI:e.pick(t.components.arrangement,["moveToFront","moveForward","moveToBack","moveBackward"]),isRightPanelOpen:i.sectionedPanel.selectors.openDockedSections(o).length>0}}var s=t.array.isMultiselect,l=i.editorPlugins.pinMode,c=i.editorPlugins.selection,p=i.editorPlugins.domMeasurements.selectors.getPreviewPosition;return a}),define("rEditor/rootComps/toolBar/toolSelector.rt",["react","lodash","baseUI"],function(e,t,o){"use strict";return function(){return e.createElement("div",{className:t(this.getClasses()).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),style:{position:"relative"}},this.state.isMenuDisplayed?e.createElement("div",{className:t(this.getDropDownClasses()).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),key:"menuDropDown",onMouseLeave:this.hideMenu},this.props.children):null,e.createElement(o.tooltip,{disabled:!this.props.tooltip,value:this.props.tooltip,className:this.props.tooltipClass,delay:"600"},e.createElement("span",{className:t({button:!0,disabled:this.props.disabled}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onClick:this.displayMenu},e.createElement(o.symbol,{name:this.props.symbol}))),this.props.children&&this.props.children.length>1?e.createElement("div",{key:"smallIndicator",className:"small-indicator"}):null)}}),define("rEditor/rootComps/toolBar/toolSelector",["create-react-class","prop-types","lodash","rEditor/rootComps/toolBar/toolSelector.rt"],function(e,t,o,i){"use strict";return e({displayName:"toolSelector",propTypes:{symbol:t.string.isRequired,columns:t.number,onShow:t.func,tooltipClass:t.string,disabled:t.bool},getDefaultProps:function(){return{columns:3,disable:!1}},getInitialState:function(){return{isMenuDisplayed:!1}},displayMenu:function(){this.props.disabled||(this.setState({isMenuDisplayed:!0}),o.isFunction(this.props.onShow)&&this.props.onShow())},hideMenu:function(){var e=this;window.setTimeout(function(){e.safelySetState({isMenuDisplayed:!1})},300)},componentDidMount:function(){this._isMounted=!0},componentWillUnmount:function(){this._isMounted=!1},safelySetState:function(e){this._isMounted&&this.setState(e)},getDropDownClasses:function(){var e={"drop-down":!0,disabled:this.props.disabled};return e["grid-"+this.props.columns+"-col"]=!0,e},getClasses:function(){var e={"tool-selector":!0};if(this.props.className){var t=this.props.className.split(" ");o.forEach(t,function(t){e[t]=!0})}return this.props.disabled&&(e.disabled=!0),e},render:i})}),define("rEditor/rootComps/toolBar/toolbarTop.rt",["react","lodash","baseUI","rEditor/rootComps/keyboard/config/keyboardShortcutsActionMap","coreBi","rEditor/rootComps/toolBar/toolSelector","constants"],function(e,t,o,i,n,r,a){"use strict";return function(){return function(){var s=this.props.restrictions,l=i.editor;return e.createElement("div",{},e.createElement("div",{className:"inner button-grid"},e.createElement(o.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_copy",l.COPY.label),styleType:a.UI.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:t({button:!0,disabled:!s.duplicatable}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onClick:this.handleCopy},e.createElement(o.symbol,{name:"toolbarCopy"}))),e.createElement(o.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_paste",l.PASTE.label),styleType:a.UI.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:t({button:!0,disabled:!this.props.pasteEnabled}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onClick:this.handlePaste},e.createElement(o.symbol,{name:"toolbarPaste"}))),e.createElement(o.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_duplicate",l.DUPLICATE.label),styleType:a.UI.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:t({button:!0,disabled:!s.duplicatable}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onClick:this.handleDuplicate},e.createElement(o.symbol,{name:"toolbarDuplicate"}))),e.createElement(o.tooltip,{value:this.getDeleteTooltipText(),styleType:a.UI.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:t({button:!0,disabled:!s.removable}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onClick:this.handleDelete},this.props.isMobileEditor?null:e.createElement(o.symbol,{key:"deleteSymbol",name:"toolbarDelete"}),this.props.isMobileEditor?e.createElement(o.symbol,{key:"hideSymbol",name:"gfpp_hide"}):null))),e.createElement("div",{className:"seperator"}),e.createElement("div",{className:"inner button-grid"},e.createElement(r,{disabled:!(s.canMoveForward||s.canMoveBackward)||this.props.isCompControlledByParent,symbol:"toolbarMoveForward",columns:2,tooltip:this.getInfoTooltip("toolbar_tooltip_arrange","toolbar_tooltip_arrange_info"),tooltipClass:"control-tooltip-small"},e.createElement(o.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_arrange_move_forward",l.SEND_FORWARD.label),styleType:a.UI.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:t({button:!0,disabled:!s.canMoveForward}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onClick:function(e,t){this.moveForward()}.bind(this,s,l)},e.createElement(o.symbol,{name:"toolbarMoveForward"}))),e.createElement(o.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_arrange_move_backward",l.SEND_BACKWARD.label),styleType:a.UI.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:t({button:!0,disabled:!s.canMoveBackward}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onClick:function(e,t){this.moveBackward()}.bind(this,s,l)},e.createElement(o.symbol,{name:"toolbarMoveBackward"}))),e.createElement(o.tooltip,{alignment:"bottom",value:this.getShortcutTooltip("toolbar_tooltip_arrange_bring_to_front",l.SEND_TO_FRONT.label),styleType:a.UI.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:t({button:!0,disabled:!s.canMoveForward}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onClick:function(e,t){this.moveToFront()}.bind(this,s,l)},e.createElement(o.symbol,{name:"toolbarMoveToFront"}))),e.createElement(o.tooltip,{alignment:"bottom",value:this.getShortcutTooltip("toolbar_tooltip_arrange_send_to_back",l.SEND_TO_BACK.label),styleType:a.UI.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:t({button:!0,disabled:!s.canMoveBackward}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onClick:function(e,t){this.moveToBack()}.bind(this,s,l)},e.createElement(o.symbol,{name:"toolbarMoveToBack"})))),e.createElement(r,{disabled:!this.isAlignEnabled(),symbol:"toolbarAlignRight",columns:3,onShow:t.partial(this.props.reportBI,n.events.toolbar.TOOL_BAR_ALIGNMENT_CLICK,{}),tooltip:this.getInfoTooltip("toolbar_tooltip_align","toolbar_tooltip_align_info"),tooltipClass:"control-tooltip-small"},e.createElement(o.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_align_left"),styleType:a.UI.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:"button",onClick:function(e,t){this.align("left")}.bind(this,s,l)},e.createElement(o.symbol,{name:"toolbarAlignLeft"}))),e.createElement(o.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_align_center"),styleType:a.UI.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:"button",onClick:function(e,t){this.align("center")}.bind(this,s,l)},e.createElement(o.symbol,{name:"toolbarAlignCenter"}))),e.createElement(o.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_align_right"),styleType:a.UI.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:"button",onClick:function(e,t){this.align("right")}.bind(this,s,l)},e.createElement(o.symbol,{name:"toolbarAlignRight"}))),e.createElement(o.tooltip,{alignment:"bottom",value:this.getShortcutTooltip("toolbar_tooltip_align_top"),styleType:a.UI.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:"button",onClick:function(e,t){this.align("top")}.bind(this,s,l)},e.createElement(o.symbol,{name:"toolbarAlignTop"}))),e.createElement(o.tooltip,{alignment:"bottom",value:this.getShortcutTooltip("toolbar_tooltip_align_middle"),styleType:a.UI.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:"button",onClick:function(e,t){this.align("middle")}.bind(this,s,l)},e.createElement(o.symbol,{name:"toolbarAlignMiddle"}))),e.createElement(o.tooltip,{alignment:"bottom",value:this.getShortcutTooltip("toolbar_tooltip_align_bottom"),styleType:a.UI.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:"button",onClick:function(e,t){this.align("bottom")}.bind(this,s,l)},e.createElement(o.symbol,{name:"toolbarAlignBottom"})))),e.createElement(r,{key:"distributeButtons",disabled:!this.isDistributeEnabled(),symbol:"distribute-vertical-btn-bld",columns:3,onShow:t.partial(this.props.reportBI,n.events.toolbar.TOOL_BAR_DISTRIBUTION_CLICK,{}),tooltip:this.getInfoTooltip("toolbar_tooltip_distribute","toolbar_tooltip_distribute_info"),tooltipClass:"control-tooltip-small"},e.createElement(o.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_distribute_horizontally"),styleType:a.UI.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:"button",onClick:function(e,t){this.distribute("horizontal")}.bind(this,s,l)},e.createElement(o.symbol,{name:"distribute-horizontal-btn-bld"}))),e.createElement(o.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_distribute_both"),styleType:a.UI.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:"button",onClick:function(e,t){this.distribute("verticalAndHorizontal")}.bind(this,s,l)},e.createElement(o.symbol,{name:"distribute-hw-btn-bld"}))),e.createElement(o.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_distribute_vertically"),styleType:a.UI.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:"button",onClick:function(e,t){this.distribute("vertical")}.bind(this,s,l)},e.createElement(o.symbol,{name:"distribute-vertical-btn-bld"})))),e.createElement(r,{key:"matchSizeButtons",disabled:!this.isMatchSizeEnabled(),symbol:"mech-to-height-btn-bld",columns:3,onShow:t.partial(this.props.reportBI,n.events.toolbar.TOOL_BAR_MATCH_SIZE_CLICK,{}),tooltip:this.getInfoTooltip("toolbar_tooltip_match_size","toolbar_tooltip_match_size_info"),tooltipClass:"control-tooltip-small"},e.createElement(o.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_match_size_width"),styleType:a.UI.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:"button",onClick:function(e,t){this.matchSize("width")}.bind(this,s,l)},e.createElement(o.symbol,{name:"mech-to-width-btn-bld"}))),e.createElement(o.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_match_size_both"),styleType:a.UI.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:"button",onClick:function(e,t){this.matchSize("heightAndWidth")}.bind(this,s,l)},e.createElement(o.symbol,{name:"mech-hw-btn-bld"}))),e.createElement(o.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_match_size_height"),styleType:a.UI.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:"button",onClick:function(e,t){this.matchSize("height")}.bind(this,s,l)},e.createElement(o.symbol,{name:"mech-to-height-btn-bld"}))))))}.apply(this,[])}}),define("rEditor/rootComps/toolBar/toolbarTop",["react","create-react-class","prop-types","lodash","baseUI","util","higherOrderComponents","coreBi","rEditor/rootComps/toolBar/toolbarTop.rt"],function(e,t,o,i,n,r,a,s,l){"use strict";var c=s,p=t({displayName:"toolbarTop",propTypes:{restrictions:o.object,components:o.arrayOf(o.object),pasteEnabled:o.bool,compDeleteTooltipText:o.func,compBIParams:o.array,isCompControlledByParent:o.bool,reportBI:o.func,copyPasteAPI:o.shape({copy:o.func,paste:o.func,duplicate:o.func}),canDistributeAllDirections:o.bool,distribute:o.func,canMatchAllSizes:o.bool,matchSize:o.func,addHistory:o.func,isMobileEditor:o.bool,canAlignAllDirections:o.bool,alignComp:o.func,removeComp:o.func,arrangementAPI:o.shape({moveToFront:o.func,moveForward:o.func,moveToBack:o.func,moveBackward:o.func})},getShortcutTooltip:function(t,o){return e.createElement(n.popoverTemplates.keyboardShortcutTooltip,{label:t,shortcut:o})},getDeleteTooltipText:function(){var e=this.props.isMobileEditor?"toolbar_tooltip_hide":"toolbar_tooltip_delete";return this.props.restrictions.removable?this.getShortcutTooltip(e,r.translate("toolbar_tooltip_delete_shortcut")):this.getDisabledDeleteTooltipText(e,r.translate("toolbar_tooltip_delete_shortcut"))},getDisabledDeleteTooltipText:function(e,t){var o=this.props.compDeleteTooltipText;return o||this.getShortcutTooltip(e,t)},getInfoTooltip:function(t,o){return e.createElement(n.popoverTemplates.titleBodyAndLinkTooltip,{title:t,text:o})},handleCopy:function(){this.props.restrictions.duplicatable&&(i.forEach(this.props.compBIParams,this.assignToolbarSpecificBI.bind(null,"origin")),this.props.reportBI(c.events.rightClickMenu.COPY,this.props.compBIParams),this.props.copyPasteAPI.copy(this.props.components))},handlePaste:function(){if(this.props.pasteEnabled){var e=this.props.compBIParams;i.forEach(e,this.assignToolbarSpecificBI.bind(null,"origin")),this.props.copyPasteAPI.paste(),this.props.addHistory("component - paste"),this.props.reportBI(c.events.rightClickMenu.PASTE,e)}},handleDuplicate:function(){if(this.props.restrictions.duplicatable){var e=this.props.compBIParams;i.forEach(e,this.assignToolbarSpecificBI.bind(null,"origin")),this.props.copyPasteAPI.duplicate(this.props.components),this.props.addHistory("component - duplicate"),this.props.reportBI(c.events.rightClickMenu.DUPLICATE,e)}},handleDelete:function(){var e=this;if(this.props.restrictions.removable){var t=this.props.compBIParams;i.forEach(t,this.assignToolbarSpecificBI.bind(null,"removal_method")),this.props.removeComp(this.props.components).then(function(o){o&&(e.props.addHistory("component - remove"),e.props.reportBI(c.events.editor.component_removed,t))})}},moveToFront:function(){this.props.arrangementAPI.moveToFront(this.props.components),this.props.reportBI(c.events.rightClickMenu.BRING_TO_FRONT,{origin:"toolbar"})},moveForward:function(){this.props.arrangementAPI.moveForward(this.props.components),this.props.reportBI(c.events.rightClickMenu.MOVE_FORWARD,{origin:"toolbar"})},moveToBack:function(){this.props.arrangementAPI.moveToBack(this.props.components),this.props.reportBI(c.events.rightClickMenu.SEND_TO_BACK,{origin:"toolbar"})},moveBackward:function(){this.props.arrangementAPI.moveBackward(this.props.components),this.props.reportBI(c.events.rightClickMenu.MOVE_BACKWARDS,{origin:"toolbar"})},isAlignEnabled:function(){return!this.props.isCompControlledByParent&&this.props.canAlignAllDirections},align:function(e){this.props.alignComp(this.props.components,e),this.props.reportBI(c.events.toolbar.TOOL_BAR_ALIGNMENT_MENU_CLICK,{category:e})},isDistributeEnabled:function(){return!this.props.isCompControlledByParent&&this.props.canDistributeAllDirections},distribute:function(e){this.props.distribute(this.props.components,e),this.props.reportBI(c.events.toolbar.TOOL_BAR_DISTRIBUTION_MENU_CLICK,{category:e})},isMatchSizeEnabled:function(){return!this.props.isCompControlledByParent&&this.props.canMatchAllSizes},matchSize:function(e){this.props.matchSize(this.props.components,e),this.props.reportBI(c.events.toolbar.TOOL_BAR_MATCH_SIZE_MENU_CLICK,{category:e})},assignToolbarSpecificBI:function(e,t){var o={};o[e]="toolbar",i.assign(t,o)},render:l});return a.renderWhenMutated(p)}),define("rEditor/rootComps/showOnAllPagesToggle/showOnAllPagesToggle.rt",["react","lodash","baseUI","constants","baseUILib"],function(e,t,o,i,n){"use strict";return function(){return e.createElement("label",{className:"row show-on-all-pages-row"},e.createElement(o.tooltip,{disabled:this.shouldHideTooltip(),value:"RightClick_Menu_Show_on_All_Pages_Disabled_Tooltip",styleType:i.UI.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement(n.ToggleSwitch,{disabled:this.props.disabled,value:this.props.isComponentShowOnAllPages,onChange:this.handleShowOnAllPages,className:"show-on-all-pages emphasise "+this.props.className,size:"MEDIUM",labelType:this.props.labelType,widthByTextLength:this.props.widthByTextLength,label:this.props.label})))}}),define("rEditor/rootComps/showOnAllPagesToggle/showOnAllPagesToggle",["lodash","create-react-class","prop-types","coreBi","rEditor/rootComps/showOnAllPagesToggle/showOnAllPagesToggle.rt"],function(e,t,o,i,n){"use strict";return t({displayName:"showOnAllPages",propTypes:{selectedComponents:o.arrayOf(o.object),selectedComponentsTypes:o.arrayOf(o.string),isComponentShowOnAllPages:o.bool,disabled:o.bool,isPage:o.bool,componentsRestrictions:o.object,toggleShowOnAllPages:o.func,reportBI:o.func,origin:o.string},shouldHideTooltip:function(){return!this.props.selectedComponents||!this.props.disabled||this.props.isPage},handleShowOnAllPages:function(){var t=void 0,o=this.props.componentsRestrictions;this.props.selectedComponents&&o.canToggleShowOnAllPages&&(t=this.props.toggleShowOnAllPages(),this.props.reportBI(i.events.rightClickMenu.SHOW_ON_ALL_PAGES,{new_status:t,origin:this.props.origin,component_id:e.toString(e.map(this.props.selectedComponents,"id")),component_type:e.toString(this.props.selectedComponentsTypes)}))},render:n})}),define("rEditor/rootComps/toolBar/toolBar.rt",["react","lodash","baseUI","baseUILib","util","higherOrderComponents","rEditor/rootComps/toolBar/toolbarTop","rEditor/rootComps/showOnAllPagesToggle/showOnAllPagesToggle","experiment","constants"],function(e,t,o,i,n,r,a,s,l,c){"use strict";return function(){return function(){var t=this.getLayout();return e.createElement("div",{onMouseMove:this.props.onMouseMove,onMouseEnter:this.props.onMouseEnter,onContextMenu:this.props.onContextMenu},e.createElement("div",{className:"header"},e.createElement("div",{className:"drag-zone",onMouseDown:function(e,t){this.props.startDrag(t,this.dragLimits)}.bind(this,t)},e.createElement("span",{className:"drag-handle"},e.createElement(o.symbol,{name:"toolbarDragHandle"}))),e.createElement("button",{className:"help",onClick:this.onHelp},"?"),e.createElement("span",{className:"close",onClick:this.props.toggleToolbar},e.createElement(o.symbol,{name:"toolbarClose"}))),e.createElement("div",{className:"header-seperator"}),e.createElement(a,{restrictions:this.props.componentsRestrictions,components:this.props.components,pasteEnabled:this.props.isPasteEnabled,compDeleteTooltipText:this.props.compDeleteTooltipText,compBIParams:this.props.compBIParams,isCompControlledByParent:this.props.isCompControlledByParent,reportBI:this.props.reportBI,copyPasteAPI:this.props.copyPasteAPI,canDistributeAllDirections:this.props.canDistributeAllDirections,distribute:this.props.distribute,canMatchAllSizes:this.props.canMatchAllSizes,matchSize:this.props.matchSize,addHistory:this.props.addHistory,isMobileEditor:this.props.isMobileEditor,canAlignAllDirections:this.props.canAlignAllDirections,alignComp:this.props.alignComp,removeComp:this.props.removeComp,arrangementAPI:this.props.arrangementAPI}),e.createElement("div",{className:"seperator"}),e.createElement("div",{className:"inner form"},e.createElement("label",{"data-input-title":"input_rotation",className:"row"},e.createElement(o.tooltip,{value:"toolbar_tooltip_rotation",styleType:c.UI.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{},e.createElement(o.symbol,{name:"toolbarRotation"}))),e.createElement(o.stepper,{className:"small degrees",disabled:!this.props.componentsRestrictions.rotatable,min:-1/0,max:1/0,value:parseInt(t.rotationInDegrees,10),units:"°",onChange:function(e,t){this.rotateComponent("rotationInDegrees",t)}.bind(this,t)}))),e.createElement("div",{className:"seperator"}),e.createElement("div",{className:"inner form"},e.createElement("span",{className:"layout-title"},n.translate("toolbar_size")),e.createElement("label",{className:"row"},e.createElement(o.tooltip,{value:"toolbar_tooltip_width",styleType:c.UI.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:"label",style:{paddingRight:"4px"}},n.translate("toolbar_width")+":")),e.createElement(o.stepper,{disabled:this.checkHorizontalResizable(),className:"small",value:parseInt(t.width,10),min:-1/0,max:1/0,onChange:function(e,t){this.resizeComponent("width",t)}.bind(this,t)})),e.createElement("label",{className:"row"},e.createElement(o.tooltip,{value:"toolbar_tooltip_height",styleType:c.UI.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:"label"},n.translate("toolbar_height")+":")),e.createElement(o.stepper,{disabled:!this.props.componentsRestrictions.verticallyResizable,className:"small",min:-1/0,max:1/0,value:parseInt(t.height,10),onChange:function(e,t){this.resizeComponent("height",t)}.bind(this,t)}))),e.createElement("div",{className:"seperator"}),e.createElement("div",{className:"inner form"},e.createElement("span",{className:"layout-title"},n.translate("toolbar_position")),e.createElement("label",{"data-input-title":"input_x",className:"row input_x"},e.createElement(o.tooltip,{value:"toolbar_tooltip_x_position",styleType:c.UI.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:"input_x_label label"},n.translate("toolbar_x")+":")),e.createElement(o.stepper,{disabled:!this.props.componentsRestrictions.horizontallyMovable,className:"small",min:-1/0,max:1/0,value:parseInt(t.bounding.x,10),onChange:function(e,t){this.moveComponent("x",t)}.bind(this,t)})),e.createElement("label",{"data-input-title":"input_y",className:"row"},e.createElement(o.tooltip,{value:"toolbar_tooltip_y_position",styleType:c.UI.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:"label"},n.translate("toolbar_y")+":")),e.createElement(o.stepper,{disabled:!this.props.componentsRestrictions.verticallyMovable,className:"small",min:-1/0,max:1/0,value:parseInt(t.bounding.y,10),onChange:function(e,t){this.moveComponent("y",t)}.bind(this,t)}))),e.createElement("div",{className:"seperator",key:"seperator-inner-form"}),e.createElement("div",{className:"inner form",key:"inner-form"},this.shouldShowFreezePositionToggle()?null:e.createElement("div",{key:"containable"},e.createElement("span",{className:"layout-title show-on-all-pages-title"},n.translate("toolbar_show_on_all_pages")),e.createElement("label",{},e.createElement(s,{origin:"toolbar",selectedComponents:this.props.components,",":!0,selectedComponentsTypes:this.getSelectedComponentsTypes(),isComponentShowOnAllPages:this.props.isComponentShowOnAllPages,disabled:this.isShowOnAllPagesToggleDisabled(),isPage:this.props.isPage,componentsRestrictions:this.props.componentsRestrictions,toggleShowOnAllPages:this.props.toggleShowOnAllPages,reportBI:this.props.reportBI}))),this.shouldShowFreezePositionToggle()?e.createElement("div",{key:"canBeFixed"},e.createElement("span",{className:"layout-title show-on-all-pages-title"},n.translate("toolbar_fixed_position")),e.createElement("label",{className:"row show-on-all-pages-row"},e.createElement(i.ToggleSwitch,{key:"fixedPosition",className:"show-on-all-pages emphasise",value:this.props.componentsRestrictions.fixed,onChange:this.props.toggleFixedPosition,size:"MEDIUM"}))):null),this.shouldShowComponentInspectorFinder()?e.createElement("div",{key:"component-finder-feature"},e.createElement("div",{className:"seperator"}),e.createElement("div",{key:"component-finder"},e.createElement("button",{onClick:this.openComponentInspectorFinder,className:"component-finder"},"Layers"))):null)}.apply(this,[])}}),define("rEditor/rootComps/toolBar/toolBar",["react","create-react-class","lodash","prop-types","util","core","higherOrderComponents","rEditor/rootComps/toolBar/toolBarMapper","coreBi","constants","rEditor/rootComps/toolBar/toolBar.rt"],function(e,t,o,i,n,r,a,s,l,c,p){"use strict";var d=l,u={rotationInDegrees:0,width:0,height:0,x:0,y:0,bounding:{x:0,y:0}},m=t({displayName:"toolBar",propTypes:{halfOpacityTools:i.bool.isRequired,hidden:i.bool,components:i.arrayOf(i.object),componentsWithoutAncestor:i.arrayOf(i.object),toolsHidden:i.bool,isRightPanelOpen:i.bool,previewTopPosition:i.number,layout:i.shape({componentLayout:i.object,update:i.func,updateAndPreserveProportions:i.func}),componentsRestrictions:i.object,areComponentsMultiSelectedOrGrouped:i.bool,componentsProportions:i.object,componentLayoutLimits:i.object,addHistory:i.func,toggleShowOnAllPages:i.func,canToggleShowOnAllPages:i.bool,shouldDisableShowOnAllPages:i.bool,isPage:i.bool,reportBI:i.func,isComponentShowOnAllPages:i.bool,isPasteEnabled:i.bool,toggleToolbar:i.func,componentType:i.string,onHelp:i.func,openComponentInspectorFinder:i.func,toggleFixedPosition:i.func,startDrag:i.func.isRequired,isCustomPosition:i.bool.isRequired,registerDragCallbacks:i.func.isRequired,compDeleteTooltipText:i.string,compBIParams:i.array,isCompControlledByParent:i.bool,copyPasteAPI:i.shape({copy:i.func,paste:i.func,duplicate:i.func}),canDistributeAllDirections:i.bool,distribute:i.func,canMatchAllSizes:i.bool,matchSize:i.func,isMobileEditor:i.bool,canAlignAllDirections:i.bool,alignComp:i.func,removeComp:i.func,arrangementAPI:i.shape({moveToFront:i.func,moveForward:i.func,moveToBack:i.func,moveBackward:i.func}),registerMeasureFunc:i.func.isRequired,measuredRes:i.object},getInitialState:function(){return this.props.registerDragCallbacks({onDragEnd:this.onDragEnd}),{}},getInitialPosition:function(){return{right:42+(this.props.isRightPanelOpen?c.RIGHT_AREA.WIDTH:0),top:42+this.props.previewTopPosition}},getLayout:function(){return this.props.layout.componentLayout||u},updateLayout:function(e,t,o){this.props.layout.update(e,t,o)},updateLayoutProportionally:function(e,t,o,i){this.props.layout.updateAndPreserveProportions(e,t,o,i)},onDragEnd:function(e){this.updateLastCustomXPosition(e.left)},getClasses:function(){return["rootcomp-toolbar",this.props.halfOpacityTools?"half-opacity":"",this.props.hidden?"hidden":""].join(" ")},resizeComponent:function(e,t){this.props.reportBI(d.events.editBox.RESIZE,{origin:"toolbar"}),this.setComponentLayoutChange(e,t)},moveComponent:function(e,t){this.setComponentLayoutChange(e,t)},rotateComponent:function(e,t){var o=parseInt(t,10);if(0===o)this.props.reportBI(d.events.editBox.CANCEL_ROTATE_COMPONENT);else{var i=this.getSelectedComponentsTypes()[0];this.props.reportBI(d.events.editBox.ROTATE_COMPONENT,{origin:"toolbar",value:o,component_type:i})}this.setComponentLayoutChange(e,t)},checkHorizontalResizable:function(){return"Column"===this.props.componentType||!this.props.componentsRestrictions.horizontallyResizable},setComponentLayoutChange:function(e,t){var i=this.getLayout();if(t=parseInt(t,10),isNaN(t))this.forceUpdate();else{"y"!==e&&"x"!==e||(t=function(e,t,o){return e[t]+o-e.bounding[t]}(i,e,t));var n=this.props.componentsWithoutAncestor;if(i[e]!==t){var r={};r[e]=t;var a=void 0;this.props.areComponentsMultiSelectedOrGrouped?(a=i.width/i.height,"height"===e?r.width=t*a:"width"===e&&(r.height=t/a),r=o.mapValues(r,o.round),this.updateLayoutProportionally(n,r,this.props.componentsProportions,!0)):(o.includes(["width","height"],e)&&this.props.componentsRestrictions.resizeOnlyProportionally&&(a=this.props.componentLayoutLimits.aspectRatio,"width"===e?(r.width=t,r.height=Math.round(t/a)):(r.height=t,r.width=t*a)),this.updateLayout(n,r,!0)),this.props.addHistory("toolbar - set selected component layout - "+e)}}},onHelp:function(){var e={origin:c.BI.HELP.ORIGIN.TOOLBAR,component:this.props.componentType,learn_more:!1,panel_name:c.BI.HELP.ORIGIN.TOOLBAR};this.props.onHelp("4ab49cd7-2ea4-4873-904e-f65d17d2f1dd",e)},openComponentInspectorFinder:function(){this.props.openComponentInspectorFinder()},handleShowOnAllPages:function(){if(this.props.componentsRestrictions.canToggleShowOnAllPages){var e=this.props.toggleShowOnAllPages();this.props.reportBI(d.events.rightClickMenu.SHOW_ON_ALL_PAGES,{new_status:e,origin:c.BI.HELP.ORIGIN.TOOLBAR})}},shouldShowFreezePositionToggle:function(){return this.props.componentsRestrictions.showLegacyFixedPosition},shouldShowComponentInspectorFinder:function(){return"true"===n.url.parseUrl(window.location.href).query.showCompFinder},isShowOnAllPagesToggleDisabled:function(){return!this.props.componentsRestrictions.canToggleShowOnAllPages||this.props.shouldDisableShowOnAllPages},getSelectedComponentsTypes:function(){return o.map(this.props.compBIParams,"component_type")},updateLastCustomXPosition:function(e){this.setState({lastCustomXPosition:e})},renderWithPositioning:function(t){return e.createElement(r.utils.toolbarPositioning,{isCustomPosition:this.props.isCustomPosition,lastCustomXPosition:this.state.lastCustomXPosition,isHidden:this.props.toolsHidden,initialPos:this.getInitialPosition(),dragRightLimit:42,className:this.getClasses(),registerMeasureFunc:this.props.registerMeasureFunc,measuredRes:this.props.measuredRes},t)},render:function(){var e=this;return this.renderWithPositioning(function(t){return e.dragLimits=t,p.call(e)})}}),g=o.flowRight(a.connectEditorAPI(s),a.withMeasurements(),a.draggable,a.renderWhenMutated)(m);return g.pure=m,g}),define("rEditor/rootComps/topBar/dropPanels/topBarDropPanel.rt",["react","lodash"],function(e,t){"use strict";return function(){return e.createElement("div",{className:"top-bar-drop-panel "+(this.props.dropPanelClass||"")},e.createElement("div",{className:"drop-panel-left-side"},this.getLeftContent()),this.hasRightContent()?e.createElement("div",{className:"drop-panel-right-side",key:"rightContent"},this.getRightContent()):null,this.props.bottomContent?e.createElement("div",{className:"drop-panel-bottom-side",key:"bottomContent"},this.props.bottomContent):null)}}),define("rEditor/rootComps/topBar/dropPanels/topBarDropPanel",["react","create-react-class","prop-types","lodash","rEditor/rootComps/topBar/dropPanels/topBarDropPanel.rt"],function(e,t,o,i,n){"use strict";return t({displayName:"topBarDropPanel",propTypes:{leftContent:o.object.isRequired,bottomContent:o.object,rightContentOptions:o.object,dropPanelClass:o.string,closeHandle:o.func,hintContainerId:o.string},getInitialState:function(){return{displayedRightContentKey:"main"}},componentWillReceiveProps:function(e){var t=i.keys(this.props.rightContentOptions),o=i.keys(e.rightContentOptions);i.intersection(o,t).length!==t.length&&this.setState({displayedRightContentKey:"main"})},getLeftContent:function(){return e.cloneElement(this.props.leftContent,{onMenuItemHover:this.onSubMenuItemHover,closeDropDownHandle:this.props.closeHandle})},getRightContent:function(){return this.props.rightContentOptions[this.state.displayedRightContentKey]},hasRightContent:function(){return!!this.props.rightContentOptions},onSubMenuItemHover:function(e){e.rightPanel&&this.setState({displayedRightContentKey:e.key})},render:function(){return n.call(this)}})}),define("rEditor/rootComps/topBar/buttons/topBarButton/topBarButton.rt",["react","lodash","baseUI","experiment"],function(e,t,o,i){"use strict";return function(){return e.createElement("div",{className:this.getClasses(),style:this.props.style},e.createElement(o.tooltip,this.getTooltipProps(),function(){var i=this.isDoneSuccessfully();return e.createElement("div",{className:"wrapper-to-perserve-ref"},e.createElement(o.button2,{key:"buttonContent-"+this.props.iconSymbol,label:this.props.label,style:this.props.buttonStyle,symbolName:this.props.iconSymbol,customLabelClass:"top-bar-button-label",className:t({"top-bar-button-content":!0,"icon-and-label":this.props.iconSymbol&&this.props.label,invisible:i}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onClick:this.onClick,onMouseOver:this.handleMouseOverButton,onMouseLeave:this.handleMouseLeftButton,disabled:this.props.isDisabled}),i?e.createElement(o.symbol,{key:"successSymbol",name:"topBarButtonVSign",className:"button-symbol vSign"}):null,this.isInProgress()?e.createElement("div",{key:"progressIndicator",className:"progress-indicator"}):null)}.apply(this,[])),this.state.isDropDownDisplayed?e.createElement(o.bubble,t.assign({},{key:"topBarButtonDropDown"},this.getDropDownProps())):null)}}),define("rEditor/rootComps/topBar/buttons/topBarButton/topBarButton",["reactDOM","react","react-dom-factories","create-react-class","prop-types","lodash","core","baseUI","constants","rEditor/rootComps/topBar/dropPanels/topBarDropPanel","rEditor/rootComps/topBar/buttons/topBarButton/topBarButton.rt"],function(e,t,o,i,n,r,a,s,l,c,p){"use strict";return i({displayName:"topBarButton",mixins:[t.addons.PureRenderMixin,a.mixins.editorAPIMixin],propTypes:{label:n.string,classes:n.string,iconSymbol:n.string,dropPanelProps:n.object,actions:n.array,bi:n.oneOfType([n.array,n.object]),biFunc:n.func,isDisabled:n.bool,onMenuOpened:n.func,onMenuClosed:n.func,buttonStyle:n.object,dropPanelContent:n.oneOfType([n.object,n.func]),tooltipData:n.object,progressStatus:n.oneOf(r.values(l.PROGRESS_STATUS))},getInitialState:function(){return this._domNode=null,{isDropDownDisplayed:!1,isMouseOverButton:!1}},getDefaultProps:function(){return{buttonStyle:{}}},componentDidMount:function(){this.mounted=!0,this._domNode=e.findDOMNode(this),this.showTooltipIfNeeded()},componentDidUpdate:function(){this.showTooltipIfNeeded()},componentWillUnmount:function(){this.mounted=!1,this._domNode=null},getClasses:function(){var e="top-bar-button "+this.props.classes;return this.state.isDropDownDisplayed&&(e+=" top-bar-button-selected"),this.isInProgress()||this.props.isDisabled?e+=" disabled-button":this.isInIdleSaved()&&(e+=" saved-button"),e},getTooltipValue:function(){var e=this.props.tooltipData;if(e&&e.presenter)return t.createElement(e.presenter,e.props)},hideTooltip:function(){if(this.props.tooltipData){var e=r.isFunction(this.props.tooltipData.onClose)?this.props.tooltipData.onClose:r.noop;s.tooltipManager.hide(this.props.tooltipData.id,e)}},showTooltipIfNeeded:function(){var e=this.props.tooltipData;e&&r.includes(e.openTriggers,l.UI.TOOLTIP.TRIGGERS.IMMEDIATE)&&s.tooltipManager.show(e.id)},onClick:function(){if(!this.props.isDisabled){this.props.dropPanelContent&&this.toggleDropDown(),this.hideTooltip();var e=this.getEditorAPI(),t=e.selection.getSelectedComponents(),o=e.bi.getComponentsBIParams(t);this.props.actions&&r.forEach([].concat(this.props.actions),function(e){e()}),this.sendButtonBI(o)}},handleMouseOverButton:function(){this.setState({isMouseOverButton:!0})},handleMouseLeftButton:function(){this.setState({isMouseOverButton:!1})},getDropDownId:function(){return"top-bar-dropdown-"+(this.props.label||this.props.iconSymbol)},getDropDownProps:function(){if(!this._domNode)return{};var e=this.getDropDownContent();return{id:this.getDropDownId(),value:e,width:"1000px",interactive:!0,closeTriggers:[l.UI.TOOLTIP.TRIGGERS.MOUSE_LEAVE],className:"top-bar-drop-down",overridePositionAdjustments:this.props.dropPanelProps&&this.props.dropPanelProps.overridePositionAdjustments,targetNode:this._domNode,hideMethod:this.handleDropDownWantsToClose,mouseLeftTargetNode:!this.state.isMouseOverButton,timeoutForMouseOverBubble:500}},getDropDownContent:function(){var e=this.getDropPanelLeftContent(),o={main:this.getDropPanelRightContent()};return e?t.createElement(c,{closeHandle:this.closeDropDown,leftContent:e,rightContentOptions:o,dropPanelClass:this.props.dropPanelProps&&this.props.dropPanelProps.dropPanelClass}):null},getDropPanelLeftContent:function(){var e=this.props.dropPanelContent,o=this.props.dropPanelProps;return e?(o.closeHandle=this.closeDropDown,t.createElement(e,this.props.dropPanelProps)):null},getDropPanelRightContent:function(){var e=this.props.dropPanelProps&&this.props.dropPanelProps.dropPanelPromotion;if(e){var i=r.cloneDeep(e.props);return i=r.merge({moduleName:e.type},i),o.div({className:e.classes},[t.createElement(a.lazyComponent,i)])}return null},openDropDown:function(){this.setState({isDropDownDisplayed:!0,isMouseOverButton:!0}),this.props.onMenuOpened&&this.props.onMenuOpened()},closeDropDown:function(){this.setState({isDropDownDisplayed:!1}),this.props.onMenuClosed&&this.props.onMenuClosed()},toggleDropDown:function(){this.state.isDropDownDisplayed?this.closeDropDown():this.openDropDown()},handleDropDownWantsToClose:function(){this.mounted&&!this.state.isMouseOverButton&&this.closeDropDown()},sendButtonBI:function(e){if(this.props.bi){var t=[].concat(this.props.bi);r.forEach(t,r.bind(function(e){e.type&&this.getEditorAPI().bi.event(e.type,e.fields)},this))}this.props.biFunc&&this.props.biFunc(e)},getTooltipProps:function(){var e=this.getTooltipValue(),t={value:e,disabled:!e||this.state.isDropDownDisplayed},o=this.props.tooltipData||{};return r.assign(t,r.pick(o,["id","interactive","onClose","closeDelay","openTriggers","closeTriggers"])),t},isInIdleSaved:function(){return this.props.progressStatus===l.PROGRESS_STATUS.IDLE_SAVED},isInProgress:function(){return this.props.progressStatus===l.PROGRESS_STATUS.IN_PROGRESS},isProgressDone:function(){return this.isDoneSuccessfully()||this.isDoneUnSuccessfully()},isDoneSuccessfully:function(){return this.props.progressStatus===l.PROGRESS_STATUS.DONE_SUCCESS},isDoneUnSuccessfully:function(){return this.props.progressStatus===l.PROGRESS_STATUS.DONE_FAILED},render:p})}),define("rEditor/rootComps/topBar/zoomModeBar.rt",["react","lodash","baseUI","symbols","uiAnimations","util","rEditor/rootComps/topBar/buttons/topBarButton/topBarButton"],function(e,t,o,i,n,r,a){"use strict";return function(){return e.createElement(n.contentSlideCSS,{distance:"60px"},this.inZoomMode()?e.createElement("div",{className:"zoom-bar-wrapper",key:"zoomModeBarWrapper",ref:"zoomModeBarWrapper",style:{width:"calc("+100*this.getSiteScale()+"% - "+this.getVerticalScrollWidth()+")",left:"calc(50% - "+this.getVerticalScrollWidth()+")"}},e.createElement("div",{className:t({"zoom-mode-bar":!0}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),key:"zoom-mode-bar"},e.createElement("div",{className:"left-zoom-bar",onClick:function(){this.exitZoomMode()}.bind(this)},e.createElement("span",{className:"zoom-bar-text"},r.translate("TOPBAR_Exit_ZoomOut")),e.createElement(a,{iconSymbol:"zoomClose",classes:"zoom-bar-symbol",actions:[this.exitZoomMode]})),e.createElement("div",{className:"right-zoom-bar"},e.createElement(a,{iconSymbol:"undo2",classes:"zoom-bar-btn-seperator top-bar-item-margin",actions:[this.callUndo],tooltipData:this.getTooltipData("topBarUndoTooltipID","TOPBAR_UNDO_TOOLTIP_TITLE")}),e.createElement(a,{iconSymbol:"redo2",classes:"zoom-bar-btn-seperator top-bar-item-margin",actions:[this.callRedo],tooltipData:this.getTooltipData("topBarRedoTooltipID","TOPBAR_REDO_TOOLTIP_TITLE")}),e.createElement(a,{iconSymbol:"zoomBarHelp",classes:"zoom-bar-btn",actions:[this.openHelp],tooltipData:this.getTooltipData("zoomBarHelpTooltipID","gfpp_tooltip_help")})))):null)}}),define("rEditor/rootComps/topBar/zoomModeBar",["create-react-class","lodash","core","util","baseUI","coreBi","stateManagement","constants","rEditor/rootComps/topBar/zoomModeBar.rt"],function(e,t,o,i,n,r,a,s,l){"use strict";var c=a.editorPlugins.leftBar.selectors.getDeviceType;return e({displayName:"zoomModeBar",mixins:[o.mixins.editorAPIMixin],exitZoomMode:function(){var e=this.getEditorAPI();e.zoomMode.exitZoomMode();var t=e.store.getState();e.store.dispatch(a.editorPlugins.bi.actions.event(r.events.topbar.zoombar.zoom_mode_bar_exit_zoom_mode,{editor_view_mode:c(t)})),window.setTimeout(function(){e.toolsControl.toggleHideTools(!1,!0)},300)},inZoomMode:function(){return this.getEditorAPI().zoomMode.isInZoomMode()},callUndo:function(){this.getEditorAPI().history.undo()},callRedo:function(){this.getEditorAPI().history.redo()},getSiteScale:function(){return this.getEditorAPI().getSiteScale()},openHelp:function(){var e="DESKTOP"===this.getEditorAPI().viewMode.get()?"00d369ed-aedf-4fbd-b11c-3fcc51459cef":"65ff699a-dc0c-4c42-b2af-8df5e022d350";this.getEditorAPI().panelManager.openHelpCenter(e,null,{origin:s.BI.HELP.ORIGIN.TOPBAR,component:"zoomModeBar",panel_name:s.BI.HELP.ORIGIN.TOPBAR})},getTooltipData:function(e,t){return{presenter:n.popoverTemplates.titleBodyAndLinkTooltip,id:e,props:{text:t}}},getVerticalScrollWidth:function(){return 0===i.uiUtils.getScrollbarWidth()?"0px":"6px"},render:l})}),define("rEditor/rootComps/topBar/dynamicPagesComboBox.rt",["react","lodash","baseUI","symbols","util","baseUILib"],function(e,t,o,i,n,r){"use strict";return function(){function a(){var o=this.getInnerRoutesToRender();return e.createElement.apply(this,[r.DropDown,{value:this.props.selectedInnerRoute,shouldTranslate:!1,searchBox:!0,key:"innerRouteDropDown",className:"dynamic-pages-combobox",optionsContainerClassName:"dynamic-pages-options",onChange:this.onInnerRouteChange},this.shouldShowPrevButton()?e.createElement(r.Button,{className:"btn-text",key:"prevButton",onClick:this.decreaseRange},e.createElement("span",{},n.translate("dynamic_pages_routes_navigation_button_back"))):null,t.map(o,function(t,o,i){return e.createElement(r.DropDownOption,{key:o.url,value:o.url,label:o.title,shouldTranslate:!1})}.bind(this,o)),this.shouldShowNextButton()?e.createElement(r.Button,{className:"btn-text",key:"nextButton",onClick:this.increaseRange},e.createElement("span",{},n.translate("dynamic_pages_routes_navigation_button_next"))):null])}return this.shouldShowInnerRoutesDropDown()?e.createElement("div",{className:"dynamic-pages-combo-box "+t({preview:this.props.previewMode}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),key:"dynamicPageComboBox"},e.createElement("div",{className:"dragable-area",onMouseDown:function(e){this.startDrag(e,this.getDragLimits())}.bind(this),onMouseUp:function(e){this.endDrag()}.bind(this)},e.createElement(o.symbol,{name:"smalldragHandle",className:"symbol-smallDragHandle"})),this.props.previewMode?e.createElement("div",{key:"prevRouteNavButtonWrapper",className:"prev-route-wrapper"},e.createElement("div",{key:"prevRouteNavButton",className:"prev-route nav-btn",onClick:this.prevRoute},e.createElement(i.symbol,{name:"arrowPrev"}))):null,e.createElement("div",{className:"combo-box-wrapper"},a.apply(this,[])),this.props.previewMode?null:e.createElement(o.button,{key:"goToPreviewButton",className:"go-to-preview",label:"INNER_ROUTES_NAVIGATION_BOX_GO_TO_PREVIEW",onClick:this.goToPreview}),this.props.previewMode?e.createElement("div",{key:"nextRouteNavButton",className:"next-route nav-btn",onClick:this.nextRoute},e.createElement(i.symbol,{name:"arrowNext"})):null,e.createElement("div",{className:"close-area",onClick:this.close},e.createElement("div",{className:"close-sign"},e.createElement(i.symbol,{name:"close"})))):null}}),define("rEditor/rootComps/topBar/dynamicPagesComboBox",["create-react-class","lodash","core","util","prop-types","stateManagement","higherOrderComponents","coreBi","constants","rEditor/rootComps/topBar/dynamicPagesComboBox.rt"],function(e,t,o,i,n,r,a,s,l,c){"use strict";function p(e,t){return(e%t+t)%t}function d(e){for(var t=0;t+u<=e;)t+=u;return t}var u=100,m=e({displayName:"dynamicPagesComboBox",render:c,mixins:[o.mixins.editorAPIMixin,i.draggableMixin],getInitialState:function(){return{shouldShowNavigation:!0,rangeStartIndex:0}},propTypes:{previewMode:n.bool.isRequired,editorIsInit:n.bool.isRequired,devModeContext:n.object.isRequired,innerRoutes:n.array.isRequired,selectedInnerRoute:n.string,routerId:n.string,setSelectedInnerRoute:n.func.isRequired},componentWillReceiveProps:function(e){if(e.editorIsInit&&e.selectedInnerRoute&&!t.isEmpty(e.innerRoutes)&&!this.isCollectionPageOrHasOneRoute()){var o=this.findInnerRouteIndex(e.selectedInnerRoute,e.innerRoutes);this.setState({rangeStartIndex:o>=0?d(o):0})}e.routerId===this.props.routerId&&t.isEqual(this.props.innerRoutes,e.innerRoutes)||this.setState({shouldShowNavigation:!0})},shouldComponentUpdate:function(e,o){return!t.isEqual(this.state,o)||!t.isEqual(this.props,e)},isCollectionPageOrHasOneRoute:function(){var e=this.props.innerRoutes;return!!e&&1===e.length},shouldShowInnerRoutesDropDown:function(){var e=this.getEditorAPI(),o=(e.documentServices&&e.documentServices.pages.getFocusedPageId?e.developerMode.getContext():{}).type===l.DEVELOPER_MODE.CONTEXT_TYPES.PAGE,i=!e.documentServices||!e.documentServices.documentMode||e.documentServices.documentMode.isShowingFixedComponentsEnabled();return(!e.documentServices||!e.documentServices.pages.getFocusedPageId||e.documentServices.pages.getFocusedPageId()===e.documentServices.pages.getPrimaryPageId())&&!this.isCollectionPageOrHasOneRoute()&&this.state.shouldShowNavigation&&this.props.routerId&&!t.isEmpty(this.props.innerRoutes)&&(this.props.previewMode||o)&&i},sendBI:function(e,t){this.getEditorAPI().bi.event(e,t)},getInnerRoutesToRender:function(){return t.slice(this.props.innerRoutes,this.state.rangeStartIndex,this.state.rangeStartIndex+u)},increaseRange:function(){var e=this.state.rangeStartIndex+u,t=this.shouldShowPrevButton(e)?this.props.innerRoutes[e].url:this.props.innerRoutes[e-1].url;this.sendBI(s.events.dynamicPageComboBox.preview_navigate,this.getBIParams(t)),this.setState({rangeStartIndex:e}),this.props.setSelectedInnerRoute(t,this.props.routerId)},decreaseRange:function(){var e=this.state.rangeStartIndex-u,t=this.props.innerRoutes[e].url;this.sendBI(s.events.dynamicPageComboBox.preview_navigate,this.getBIParams(t)),this.setState({rangeStartIndex:e}),this.props.setSelectedInnerRoute(t,this.props.routerId)},shouldShowPrevButton:function(e){e=e||this.state.rangeStartIndex;var t=this.props.innerRoutes.length<u;return!(0===e)&&!t},shouldShowNextButton:function(){var e=this.props.innerRoutes.length<u;return!(this.state.rangeStartIndex+u>=this.props.innerRoutes.length)&&!e},goToPreview:function(){var e=this.getEditorAPI();this.props.previewMode||(this.sendBI(s.events.dynamicPageComboBox.preview_clicked,this.getBIParams(this.props.selectedInnerRoute)),e.preview.togglePreview())},getBIParams:function(e){var t=this.getEditorAPI(),o=t.documentServices.pages.getPrimaryPageId(),i=t.documentServices.routers.getRouterDataForPageIfExist(o);return{item_name:e,item_path:i.prefix+"/"+e,pageId:o,appName:i.appDefinitionId}},onInnerRouteChange:function(e){this.sendBI(s.events.dynamicPageComboBox.preview_select_page,this.getBIParams(e)),this.props.setSelectedInnerRoute(e,this.props.routerId)},close:function(){var e=this.getEditorAPI(),t=e.documentServices.pages.getPrimaryPageId(),o=e.documentServices.routers.getRouterDataForPageIfExist(t);this.sendBI(s.events.dynamicPageComboBox.preview_closed,{pageId:t,appName:o.appDefinitionId}),this.setState({shouldShowNavigation:!1})},openHelpCenter:function(){var e=this.getEditorAPI(),t={origin:"display-combo-box",panel_name:"dynamic-pages-display-combo-box",component:this.props.id};e.panelManager.openHelpCenter("b853c294-8ff1-418f-b4d2-29d7b59a85c3",null,t)},findInnerRouteIndex:function(e,o){var i=t.findIndex(o,["url",e]);return-1===i?0:i},prevRoute:function(){var e=function(e,t){return p(e-1,t)}(this.findInnerRouteIndex(this.props.selectedInnerRoute,this.props.innerRoutes),this.props.innerRoutes.length);this.moveToItem(e)},nextRoute:function(){var e=function(e,t){return p(e+1,t)}(this.findInnerRouteIndex(this.props.selectedInnerRoute,this.props.innerRoutes),this.props.innerRoutes.length);this.moveToItem(e)},moveToItem:function(e){var o=!t.isEmpty(this.props.innerRoutes)&&e<this.props.innerRoutes.length?this.props.innerRoutes[e].url:null;this.sendBI(s.events.dynamicPageComboBox.preview_navigate,this.getBIParams(o)),this.props.setSelectedInnerRoute(o,this.props.routerId),this.setState({rangeStartIndex:d(e)})},getDragLimits:function(){var e=o.utils.stageUtils.getStageLayout();return e||(e=window.document.body.getBoundingClientRect()),{x:[e.left,e.right],y:[e.top,e.bottom]}}}),g=a.connect(function(e){return{innerRoutes:r.editorPlugins.dynamicPages.selectors.getInnerRoutes(e),selectedInnerRoute:r.editorPlugins.dynamicPages.selectors.getSelectedInnerRoute(e),routerId:r.editorPlugins.dynamicPages.selectors.getRouterId(e)}},function(e){return{setSelectedInnerRoute:function(t,o){e(r.editorPlugins.dynamicPages.actions.setSelectedInnerRouteAndNavigate(t,o))}}})(m);return g.pure=m,g}),define("rEditor/rootComps/gfpp/platformConnectedGfpp",["lodash","platformEvents","constants"],function(e,t,o){"use strict";function i(o,i,n,r,a,s){function c(r,a){return r&&r!==l.DEFAULT?e.isObject(r)?function(o,i,n,r,a){return e(i).omit(["actionId"]).assign({onClick:function(){o.platform.notifyApplication(n,t.factory.componentGfppClicked({id:i.actionId,role:a,componentRef:r}))},shouldTranslate:!1}).value()}(o,r,i,n,s):void 0:a}var p=e(r).map(function(e,t){return c(e,a?a[t]:null)}).compact().value();return e.compact(p)}function n(o,i,n,r,a,s){var l=e(i).mapValues(function(i,s){if(e.isObject(i)&&i.actionId&&e.includes(c,s))return{isSelected:function(){return o.panelManager.findPlatformPanelByType(s)},onClick:function(){o.platform.notifyApplication(n,t.factory.componentGfppClicked({id:i.actionId,role:r,componentRef:a}))}}}).pickBy(function(t){return!e.isNil(t)}).value();return e.assign({},s,l)}function r(t,o,i){if(e.isNil(t)||e.isEmpty(t))return o;var n=e.filter(o,function(o){var i=t[o];return e.includes(u,o)||i!==l.HIDE}),r=e.filter(i,function(o){var i=e.includes(c,o)&&t[o]&&e.isObject(t[o]),r=e.includes(n,o);return i||r});return e.forEach(c,function(i){if(t[i]&&e.isObject(t[i])&&!e.includes(o,i)){var a=r.indexOf(i);n.splice(a,0,i)}}),n}function a(t,o,a,s,l){var c=e.head(t.platform.controllers.connections.get(o));if(c){var u=t.components.data.get(c.controllerRef).applicationId,m=t.platform.getAppDataByAppDefId(u).applicationId,g=void 0,f=void 0,h=void 0;if(l){g=i(t,m,o,[e.get(s,"mobile.mainAction1"),e.get(s,"mobile.mainAction2")],a.mobileMainActions,c.role);var b=e.get(s,"mobile.iconButtons");!function(t){e.isEmpty(t)||(t.textSize?(t.scale_up=t.textSize,t.scale_down=t.textSize):(delete t.scale_up,delete t.scale_down))}(b),h=n(t,b,m,c.role,o,a.presetActions),f=r(b,a.mobileEnabledActions,p);var y=e.get(s,"mobile.helpId");y&&(h.help={mobileHelpId:y})}else{g=i(t,m,o,[e.get(s,"desktop.mainAction1"),e.get(s,"desktop.mainAction2")],a.mainActions,c.role);var v=e.get(a,"mainActions");e.isEmpty(g)&&!e.isEmpty(v)&&(g=[v[0]]);var S=e.get(s,"desktop.iconButtons");h=n(t,S,m,c.role,o,a.presetActions),f=r(S,a.enabledActions,d);var P=e.get(s,"desktop.helpId");P&&(h.help={helpId:P})}return{mainActions:g,enabledActions:f,presetActionData:h}}}var s=o.ROOT_COMPS.GFPP.ACTIONS,l={DEFAULT:"DEFAULT",HIDE:"HIDE"},c=[s.SETTINGS,s.LAYOUT,s.DESIGN,s.UPGRADE],p=[s.MANAGE,s.SCALE_UP,s.SCALE_DOWN,s.SETTINGS,s.LAYOUT,s.DESIGN,s.CUSTOMIZE_DESIGN,s.APPLY_TO_OTHER_VIEW,s.CROP,s.FILTERS,s.EFFECTS,s.ANIMATION,s.AVIARY,s.STRETCH,s.UPGRADE,s.HIDE,s.HELP],d=[s.MANAGE,s.SETTINGS,s.LINK,s.LAYOUT,s.DESIGN,s.CUSTOMIZE_DESIGN,s.APPLY_TO_OTHER_VIEW,s.CROP,s.FILTERS,s.EFFECTS,s.ANIMATION,s.AVIARY,s.STRETCH,s.STRETCH_FOR_COLUMNS,s.UPGRADE,s.HELP,s.CONNECT,s.PIN_MODE],u=[s.HELP,s.HIDE];return{getCompGfppOverrides:a}}),define("rEditor/rootComps/gfpp/enhancers/postMainActions/connectedComponentGfppEnhancer",["lodash","rEditor/rootComps/gfpp/platformConnectedGfpp"],function(e,t){"use strict";return function(o,i,n){if(!e.isEmpty(i)&&1===i.length){var r=i[0],a=o.platform.controllers.connections.getPrimaryConnection(r);if(!a)return;var s=e.get(o.platform.controllers.getStageData(a.controllerRef),["connections",a.role,"gfpp"]);if(!s)return;var l=o.isMobileEditor(),c=t.getCompGfppOverrides(o,r,n,s,l);n.mainActions=c.mainActions,l?n.mobileEnabledActions=c.enabledActions:n.enabledActions=c.enabledActions,n.presetActionsData=c.presetActionData}}}),define("rEditor/rootComps/gfpp/enhancers/postMainActions/repeaterGfppEnhancer",["lodash","gfppData"],function(e,t){"use strict";return function(e,o,i){e.components.is.repeaterItem(o)&&i.mainActions&&i.mainActions.push(t.repeaterGfppUtils.getManageItemAction())}}),define("rEditor/rootComps/gfpp/enhancers/postMainActions/enhancers",["rEditor/rootComps/gfpp/enhancers/postMainActions/connectedComponentGfppEnhancer","rEditor/rootComps/gfpp/enhancers/postMainActions/repeaterGfppEnhancer"],function(){"use strict";return Array.prototype.slice.call(arguments)}),define("rEditor/rootComps/gfpp/enhancers/postPresetActions/stripGfppEnhancer",["lodash"],function(e){"use strict";return function(t,o,i){var n=i.presetActions.connect;if(t.columns.isStrip(o)&&n)if(t.columns.isSingleColumnStrip(e.head(o))){var r=n.isApplied,a=n.className;n.isApplied=function(t,o){var i=t.components.getChildren(e.head(o));return r(t,i)},n.className=function(t,o){var i=t.components.getChildren(e.head(o));return a(t,i)}}else delete i.presetActions.connect}}),define("rEditor/rootComps/gfpp/enhancers/postPresetActions/widgetGfppEnhancer",["lodash","experiment"],function(e,t){"use strict";return function(o,i,n){t.isOpen("se_appStudioPackagesView")&&function(t,o){if(o.length>1||"platform.components.AppController"!==t.components.getType(o))return!1;var i=t.documentServices.components.data.get(o[0]),n=i.applicationId,r=e.get(t.platform.getAppManifest(n),"widgets");return e.has(r,i.controllerType)}(o,i)&&(n.presetActions.settings={onClick:function(){o.closeCompPanelIfExists(),o.panelManager.openComponentPanel("compPanels.panels.Widget.settingsPanel")},tooltip:"gfpp_tooltip_settings",icon:"settings",className:"widget-settings"},n.enabledActions=e.concat(n.enabledActions,"settings"))}}),define("rEditor/rootComps/gfpp/enhancers/postPresetActions/enhancers",["rEditor/rootComps/gfpp/enhancers/postPresetActions/stripGfppEnhancer","rEditor/rootComps/gfpp/enhancers/postPresetActions/widgetGfppEnhancer"],function(){"use strict";return Array.prototype.slice.call(arguments)}),define("rEditor/rootComps/gfpp/gfppDataEnhancer",["lodash","rEditor/rootComps/gfpp/enhancers/postMainActions/enhancers","rEditor/rootComps/gfpp/enhancers/postPresetActions/enhancers"],function(e,t,o){"use strict";function i(t,o,i,n){e.forEach(t,function(e){e(o,i,n)})}return{applyPostMainActionsOverrides:e.partial(i,t),applyPostPresetActionsOverrides:e.partial(i,o)}}),define("rEditor/rootComps/gfpp/gfppModel",["lodash","gfppData","constants","helpIds","stateManagement","rEditor/rootComps/gfpp/gfppDataEnhancer","experiment"],function(e,t,o,i,n,r,a){"use strict";function s(e,t,o){var i=e?1.05:1/1.05,n=function(e,t){return e.components.layout.get(t).scale}(t,o)*i;t.components.layout.updateAndAdjustLayout(o,{scale:n})}function l(t,o,i){return e.some(i,function(e){return"DEFAULT"!==e.type&&t.components.modes.isComponentDisplayedInModes(o,[e.modeId])})}function c(e,t){var i=e.components.getContainer(t),n=e.components.modes.getModes(i);if(n&&n.length>0){var r=e.components.modes.getFirstAncestorWithActiveModes(t);if(a.isOpen("widthModes")||a.isOpen("scrollModes"))return l(e,t,n)?o.COMPONENT_DISPLAY.IN_MODE_AND_DEFAULT:o.COMPONENT_DISPLAY.ONLY_IN_NON_DEFAULT_MODES;if(e.components.modes.isCompDefaultModeActive(r))return l(e,t,n)?o.COMPONENT_DISPLAY.IN_MODE_AND_DEFAULT:o.COMPONENT_DISPLAY.ONLY_IN_DEFAULT_MODE;return e.components.modes.isDisplayedByDefault(t)?o.COMPONENT_DISPLAY.IN_MODE_AND_DEFAULT:o.COMPONENT_DISPLAY.ONLY_IN_NON_DEFAULT_MODES}return o.COMPONENT_DISPLAY.OUT_OF_MODES_BOX}function p(t,n){var r=e.map(n,c.bind(null,t)),a=e.every(r,function(e){return e===o.COMPONENT_DISPLAY.ONLY_IN_NON_DEFAULT_MODES}),s=e.every(r,function(e){return e===o.COMPONENT_DISPLAY.IN_MODE_AND_DEFAULT}),l=e.isArray(n)?n:[n],p=e.keys(t.components.modes.getFirstAncestorActiveModes(l[0]));return a?function(e){return{panelAction:o.ACTIONS.MODE_IN,panelExitAction:o.ACTIONS.MODE_EXIT,shouldAddExit:!0,dataOverridesKey:o.ACTIONS.MODE_IN,allowOnlyShowOnceUI:!1,extraBehaviorParams:{modeIds:e}}}(p):s?function(e){return{panelAction:o.ACTIONS.MODE_CHANGE,dataOverridesKey:o.ACTIONS.MODE_CHANGE,explanationText:"ANIMATION_PANEL_HOVER_BOX_DESCRIPTION_TEXT",allowPreviewUI:!1,allowOnlyShowOnceUI:!1,helpId:i.ANIMATION.TRANSITION,extraBehaviorParams:{modeIds:e}}}(p):{}}function d(t,o){return e.some(o,function(e){var o=t.components.modes.getFirstAncestorWithActiveModes(e);return t.components.modes.isCompDefaultModeActive(o)})}function u(t,o,i){return e.isFunction(t)?t(o,i):t}function m(t,o,i,n){e.forEach(o,function(o){t[o]=function(t,o,i){return t?(t=e.cloneDeep(t),e.forEach(t,function(n,r){e.isString(n)&&E[n]&&(n=e.cloneDeep(E[n]),t[r]=n),e.forEach(n,function(t,r){e.includes(v,r)||(n[r]=u(t,o,i))})}),t):null}(t[o],i,n)})}function g(o,i){var n=function(t,o){var i=t.components.getType(o);return e.last(i.split("."))}(o,i),a=e.cloneDeep(t.getComponentData(n))||P;return a.mainActions=function(e,t,o){var i=t.isMobileEditor()?e.mobileMainActions:e.mainActions;return i=u(i,t,o)}(a,o,i),r.applyPostMainActionsOverrides(o,i,a),a.extraActions=function(e,t,o){var i=t.isMobileEditor()?e.mobileExtraActions:e.extraActions;return i=u(i,t,o)}(a,o,i),a.presetActions=function(t,o,i){var n=o.isMobileEditor(),r=n?t.mobileEnabledActions:t.enabledActions;r=e.clone(u(r,o,i)||[]),r=e.union(r,S),e.includes(r,y.ACTIONS.APPLY_TO_OTHER_VIEW)||r.push(y.ACTIONS.APPLY_TO_OTHER_VIEW);var a=u(t.presetActions,o,i);return a=e.merge({},e.pick(E,r),n?e.pick(T,r):{},e.pick(a,r),e.pick(C,r)),a=e.merge(a,e.pickBy(e.get(t,"presetActionsData"),function(t,o){return!e.isEmpty(t)&&e.includes(r,o)}))}(a,o,i),r.applyPostPresetActionsOverrides(o,i,a),m(a,["mainActions","extraActions","presetActions"],o,i),a.presetActions.help&&(a.presetActions.help=function(o,i){var n=o.isMobileEditor();return i.helpId=n?i.mobileHelpId:i.helpId,i.isSelected=e.isUndefined(i.isSelected)?t.utils.isHelpPanelOpen(o,i.helpId):i.isSelected,i}(o,a.presetActions.help)),a.presetActions=function(t,o,i){var n=function(t,o,i){var n=[];t[y.ACTIONS.HIDE]&&(o.components.is.removable(i)||n.push(y.ACTIONS.HIDE));if(t[y.ACTIONS.ANIMATION]){if(e.some(y.ANIMATION_TYPES,function(e){return o.components.is.animatable(i,e)})&&o.components.areComponentsOfSamePage(i)){var r=e.map(i,c.bind(null,o)),a=e.every(r,e.isEqual.bind(e,r[0]));o.components.modes.areComponentsOfSameModefulContainer(i)&&a||n.push(y.ACTIONS.ANIMATION)}else n.push(y.ACTIONS.ANIMATION)}if(t[y.ACTIONS.STRETCH]){o.components.layout.canBeStretched(i)&&!o.isMobileEditor()||n.push(y.ACTIONS.STRETCH)}t[y.ACTIONS.PIN_MODE]&&(o.components.layout.isPinned(i)||n.push(y.ACTIONS.PIN_MODE));t[y.ACTIONS.LAYOUT]&&e.isArray(i)&&i.length>1&&e.some(i,o.components.is.controlledByParent)&&n.push(y.ACTIONS.LAYOUT);t[y.ACTIONS.APPLY_TO_OTHER_VIEW]&&!function(t,o){if(1===e.size(o)){var i=e.head(o),n=t.components.modes.getModes(i),r=t.components.getContainer(i),a=t.components.modes.getModes(r);return!t.isMobileEditor()&&(e.size(n)>1||e.size(a)>1)}return!1}(o,i)&&n.push(y.ACTIONS.APPLY_TO_OTHER_VIEW);t[y.ACTIONS.CONNECT]&&!o.developerMode.isEnabled()&&n.push(y.ACTIONS.CONNECT);return n}(t,o,i);return e.isEmpty(n)?t:e.omit(t,n)}(a.presetActions,o,i),{mainActions:a.mainActions,extraActions:a.extraActions,presetActions:a.presetActions,previewState:a.previewState,untranslatable:a.untranslatable,translateAction:a.translateAction}}function f(e){return t.utils.getTogglePanelFn(e)}var h=n.editorPlugins.pinMode.actions,b=n.editorPlugins.selection.selectors.getFocusedContainer,y=o.ROOT_COMPS.GFPP,v=["onClick","template","onTemplatePropsChange"],S=[y.ACTIONS.PIN_MODE,y.ACTIONS.STRETCH],P={enabledActions:[y.ACTIONS.SETTINGS,y.ACTIONS.LAYOUT,y.ACTIONS.ANIMATION,y.ACTIONS.HELP].concat(S)},E={settings:{isSelected:t.utils.getPanelStateFn("settings"),tooltip:"gfpp_tooltip_settings",icon:"settings",onClick:t.utils.getTogglePanelFn("settings")},design:{isSelected:t.utils.getPanelStateFn("design"),tooltip:"gfpp_tooltip_design",icon:"design",onClick:f("design")},layout:{isSelected:t.utils.getPanelStateFn("layout"),tooltip:"gfpp_tooltip_layout",icon:"layout",onClick:f("layout")},filters:{isApplied:function(t,o){var i=t.components.properties.get(o).filterEffect;return!e.isEmpty(i)&&"none"!==i.effectType},isSelected:t.utils.getPanelStateFn("filters"),tooltip:"gfpp_tooltip_image_filters",tooltip_active:"gfpp_tooltip_applied_image_filters",icon:"filters",onClick:t.utils.getTogglePanelFn("filters",{origin:"gfpp"})},effects:{isSelected:t.utils.getPanelStateFn("effects"),tooltip:function(o,i){var n=t.columnsUtils.getColumnOrStripContainer(o,i),r=o.components.design.get(n[0]),a=e.get(r,"background"),s=e.get(a,["mediaRef","type"]);return s?"WixVideo"===s?"gfpp_tooltip_bg_filters_video_disabled":"Image"===s?"gfpp_tooltip_bg_filters":"":"gfpp_tooltip_bg_filters_color_disabled"},icon:"filters",isDisabled:function(e,o){var i=t.columnsUtils.getColumnOrStripContainer(e,o);return!t.columnsUtils.isImageFiltersSupported(e,i)},onClick:function(e,o){t.utils.getTogglePanelFn("effects",{origin:"gfpp",selectedComponent:t.columnsUtils.getColumnOrStripContainer(e,o)})(e)}},stretch:{isSelected:t.utils.getPanelStateFn("stretching"),tooltip:function(e,t){return e.components.layout.isStretchedToScreen(t)?"gfpp_tooltip_unstretch":"gfpp_tooltip_stretch"},rightClickMenuLabel:"gfpp_tooltip_stretch",icon:"gfpp_stretch",onClick:t.utils.getTogglePanelFn("stretching")},stretchForColumns:{isSelected:t.utils.getPanelStateFn("stretching"),tooltip:"gfpp_tooltip_unstretch",rightClickMenuLabel:"gfpp_tooltip_stretch",icon:"gfpp_stretch",onClick:t.utils.getTogglePanelFn("stretching")},upgrade:{isSelected:!1,tooltip:"gfpp_tooltip_upgrade",icon:"",onClick:t.utils.getTogglePanelFn("upgrade")},crop:{isApplied:t.utils.isCropApplied,isSelected:!1,isDisabled:function(e,o){return!t.utils.isCropAllowed(e,o)&&t.utils.isExternalImage(e,o)},tooltip:function(e,o){return t.utils.isCropAllowed(e,o)?"gfpp_tooltip_crop":t.utils.isExternalImage(e,o)?"gfpp_tooltip_crop_unsupported":"gfpp_tooltip_crop_gif_unsupported"},tooltip_active:"gfpp_tooltip_applied_crop",icon:"effects",className:"gfpp_button_crop",onClick:function(e,o){t.utils.isCropAllowed(e,o)&&t.utils.openImageCrop(e,o)}},aviary:{isSelected:!1,tooltip:"gfpp_tooltip_imageeffects",icon:"effects",onClick:t.utils.openAviaryPanel},animation:{isSelected:t.utils.getPanelStateFn("animation"),isDisabled:function(e,t){return d(e,t)},isApplied:t.utils.isAnimationApplied,tooltip:function(t,i){if(!d(t,i))return"gfpp_tooltip_animation";var n=e.map(i,c.bind(null,t)),r=e.every(n,function(e){return e===o.COMPONENT_DISPLAY.IN_MODE_AND_DEFAULT}),a=e.every(n,function(e){return e===o.COMPONENT_DISPLAY.ONLY_IN_DEFAULT_MODE});return r?"gfpp_tooltip_hover_animation_disabled_linked_element_in_regular":a?"gfpp_tooltip_hover_animation_disabled_single_element_in_regular":void 0},tooltip_active:"gfpp_tooltip_applied_animation",icon:"animation",onClick:function(o,i,n,r){var a=e.merge(p(o,i),r);t.utils.getTogglePanelFn("animation",a)(o,i,"gfpp",a)}},mobileAnimation:{isSelected:t.utils.getPanelStateFn("mobileAnimation"),isDisabled:t.utils.isAnimationDisabled,isApplied:t.utils.isMobileAnimationApplied,tooltip:t.utils.getMobileAnimationTooltip,icon:"animation",onClick:function(o,i,n,r){var a=e.merge(p(o,i),r);t.utils.getTogglePanelFn("mobileAnimation",a)(o,i,"gfpp",a)}},link:{isSelected:t.utils.getPanelStateFn("link"),isApplied:t.utils.getDataDefinedFn("link"),isDisabled:function(e,t){return d(e,t)},tooltip:"gfpp_tooltip_linkto",tooltip_active:"gfpp_tooltip_applied_linkto",icon:"link",onClick:t.utils.openLinkPanel},hide:{isSelected:!1,tooltip:"gfpp_tooltip_mobile_hide",icon:"gfpp_hide",onClick:function(e){e.selectedComponent.remove().then(function(t){t&&(e.mobile.hideHiddenItemsCounter(),e.history.add("component - remove"))})}},help:{tooltip:"gfpp_tooltip_help",icon:"gfpp_help",mobileHelpId:"b6d9a270-f9c5-4837-995b-c3818b13a643"},pinMode:{isApplied:!0,isSelected:t.utils.getPanelStateFn("panels.pinnedDockPanel"),tooltip:"gfpp_tooltip_pin_to_screen",tooltip_active:"gfpp_tooltip_applied_pin_to_screen",icon:"gfpp_pin",className:"gfpp-pin",onClick:function(e){e.store.dispatch(h.open("gfpp"))}},preview:{tooltip:"gfpp_tooltip_preview",icon:"gfpp_preview",onClick:function(e){e.preview.togglePreview()}},scale_up:{icon:y.ACTIONS.SCALE_UP,tooltip:"gfpp_tooltip_textscaleup",onClick:function(e,t){s(!0,e,t)}},scale_down:{icon:y.ACTIONS.SCALE_DOWN,tooltip:"gfpp_tooltip_textscaledown",onClick:function(e,t){s(!1,e,t)}}},C={},T={},I={isSelected:t.utils.getPanelStateFn("customizeDesign"),tooltip:"gfpp_tooltip_customize",icon:"gfpp_customize_design_drop",onClick:t.utils.getTogglePanelFn("customizeDesign")};return T.customizeDesign=I,a.isOpen("fastStyling")&&(E.customizeDesign=I),E.applyToOtherView={isSelected:t.utils.getPanelStateFn("apply"),tooltip:function(e){var t=e.store.getState(),o=b(t);return e.components.modes.isCompDefaultModeActive(o)?"RightClick_Menu_Apply_Regular_ToHover_Label":"RightClick_Menu_Apply_Hover_ToRegular_Label"},icon:"gfpp_applyTo",onClick:t.utils.getTogglePanelFn("apply")},{getData:g,registerGfppActions:function(t){e.merge(C,t)},getComponentMainActionClick:function(t,o){var i=g(t,e.isArray(o)?o:[o]),n=t.isMobileEditor()?i.mobileMainActions:i.mainActions;e.isFunction(n)&&(n=n(t,o));var r=e.head(n);return r&&r.onClick}}}),define("rEditor/rootComps/rightClickMenu/util/rcmDataParser",["lodash","constants","rEditor/rootComps/gfpp/gfppModel","stateManagement","experiment"],function(e,t,o,i,n){"use strict";function r(e,t){return u.components.is.duplicatable(e,t)&&!u.components.layout.isPinned(e)}function a(e){if(e)return null;return{enabled:!!u.clipboard.getItem(u.clipboard.types.COMPONENT)}}function s(t){if(u.components.is.controlledByParent(t))return null;var o=u.getCompMoveRestrictions(t),i=o.canMoveBackward||o.canMoveForward,n=u.components.is.fixed(t)&&e.includes(g,u.components.getType(t));return!i||n?null:{type:"subItems",enabled:!0,subItems:function(e){var t=u.getCompMoveRestrictions(e);return{moveToFront:{icon:{svgName:"bringToFront"},enabled:t.canMoveForward},moveToBack:{icon:{svgName:"sendToBack"},enabled:t.canMoveBackward},moveForward:{icon:{svgName:"moveForward"},enabled:t.canMoveForward},moveBackward:{icon:{svgName:"moveBackward"},enabled:t.canMoveBackward}}}(t)}}function l(t,o){var i=function(t){var o=e(t).reject(function(t){return e.includes(["SITE_PAGES","PAGES_CONTAINER"],t.id)||function(e){return"platform.components.AppController"===e}(u.components.getType(t))}).map(function(e){return{component:e,key:"overlappingSubItem_"+e.id,icon:u.components.getIconInfo(e),label:u.components.getDisplayName(e),enabled:!0}}).value();return 1===o.length?[]:o}(o);return i.length>1||1===i.length&&u.utils.isPage(t)?{type:"subItems",shouldShowCount:!0,enabled:!0,subItems:i}:null}function c(e){var t=u.components.is.fixed(e),o=u.documentServices.tpa.isTpaByCompType(u.components.getType(e))&&t;return u.components.canToggleShowOnAllPages(e)||o?{value:o||u.components.isShowOnAllPages(e),enabled:!o,operationKey:"SHOW_ON_ALL_PAGES"}:null}function p(e){return u.components.is.showLegacyFixedPosition(e)&&u.components.layout.canBeFixedPosition(e)?{value:u.components.is.fixed(e),enabled:!0}:null}function d(i,d,g){return i?{undo:{enabled:!0},copy:function(e){return r(e)?{enabled:!0}:null}(i),paste:a(g),applyModeFromClipboard:function(e){return!e&&u.copyPaste.canApplyModeFromClipboard()?{enabled:!0}:null}(g),cut:function(e){return r(e)?{enabled:!0}:null}(i),duplicate:function(e){return r(e,u.components.getContainer(e))?{enabled:!0}:null}(i),copyDesign:function(e){return u.hasExternalDesign(e)?null:{enabled:!0}}(i),pasteDesign:function(e){return u.hasExternalDesign(e)?null:{enabled:!!u.clipboard.getItem(u.clipboard.types.COMPONENT_DESIGN)}}(i),arrange:s(i),overlappingItems:l(i,d),remove:function(e){var t=void 0,o=void 0;return n.isOpen("us_groupRightClick")?(t=u.documentServices.tpa.isTpaByCompType(u.components.getType(e)),(o=t||u.components.is.removable(e))?{enabled:o,operationKey:"DELETE"}:null):(t=u.documentServices.tpa.isTpaByCompType(u.components.getType(e)),o=u.components.is.removable(e),t||o?{enabled:o,operationKey:"DELETE"}:null)}(i),showOnAllPages:c(i),fixedPosition:p(i),gfppItems:function(i){var n=o.getData(u,i),r=t.ROOT_COMPS.GFPP.ACTIONS,a=[r.SETTINGS,r.DESIGN,r.CUSTOMIZE_DESIGN,r.LAYOUT,r.UPGRADE,r.CROP,r.FILTERS,r.ANIMATION,r.LINK,r.CONNECT,r.STRETCH,r.STRETCH_FOR_COLUMNS],s=(n.mainActions||[]).concat(e(n.presetActions).pick(a).toArray().value());return e.transform(s,function(t,o){o.onClick&&t.push({shouldTranslate:!e.isBoolean(o.shouldTranslate)||o.shouldTranslate,item:{enabled:!o.isDisabled,label:o.rightClickMenuLabel||o.label||o.tooltip},onClick:function(){o.onClick(u,i),u.closeRightClickMenu()}})},[])}(i),styleCanBeApplied:function(e){return u.components.is.styleCanBeApplied(e)?{enabled:!0}:null}(i),pin:function(e,t){if(t||!u.components.is.pinnable(e))return null;var o=u.components.is.fixed(e);return{value:o,label:o?"RightClick_Menu_Unpin":"RightClick_Menu_PinToScreen",enabled:!0}}(i,g),applyToAllModes:function(t){if(t)return null;var o=u.store.getState(),i=m(o);if(!i)return null;var n=u.components.modes.getModes(i);return!n||e.isEmpty(n)?null:{enabled:!0,label:u.components.modes.isCompDefaultModeActive(i)?"RightClick_Menu_Apply_Regular_ToHover_Label":"RightClick_Menu_Apply_Hover_ToRegular_Label"}}(g),saveToTheme:function(t){if(n.isOpen("themeStyle")){var o=u.components.getType(t),i=u.components.COMPONENT_DEFINITION_MAP[o],r=i&&i.styles&&e.keys(i.styles);if(r)return{enabled:!0,styleIds:r}}return null}(i)}:{paste:a(g),undo:{enabled:!0}}}var u=void 0,m=i.editorPlugins.selection.selectors.getFocusedContainer,g=["wysiwyg.viewer.components.tpapps.TPAGluedWidget"];return{buildMenuItems:function(e,t,o){return u=e,d(o,t,u.isMobileEditor())},buildShowOnAllPagesItem:function(e,t){return u=e,c(t)},buildFixedPositionItem:function(e,t){return u=e,p(t)},buildArrangeMenu:function(e,t){return u=t,s(e)}}}),define("rEditor/rootComps/rightClickMenu/customActions/stripColumnsContainer",["coreBi"],function(e){"use strict";var t=[{label:function(e,t){return 1===e.components.getChildren(t).length?"STRIP_CONTAINER_LAYOUTS_ADD_COLUMNS":"STRIP_CONTAINER_LAYOUTS_ADD_EXTRA_COLUMNS"},enabled:function(e,t){return e.columns.canAdd(t)},onClick:function(t,o){var i={num_of_columns_before:t.components.getChildren(o).length,origin:"rcm"};t.columns.addColumn(o),t.bi.event(e.events.columns.COLUMNS_ADD_COLUMN_CLICK,i),t.closeRightClickMenu()}}];return function(e){return e.isMobileEditor()?[]:t}}),define("rEditor/rootComps/rightClickMenu/customActions/column",["coreBi"],function(e){"use strict";function t(e,t){return function(o){return o.isMobileEditor()?t:e}}function o(t){var o=t.isDesktopEditor()?e.events.columns.COLUMNS_MOVE_LEFT_RIGHT:e.events.columns.COLUMNS_MOVE_UP_DOWN;t.bi.event(o,{origin:"rcm"})}return[{label:t("RightClick_Menu_Move_Column_Left_Label","RightClick_Menu_Mobile_Move_Column_Up_Label"),enabled:function(e,t){return e.components.arrangement.canMoveBackward(t)},onClick:function(e,t){e.columns.move.left(t),o(e),e.closeRightClickMenu()}},{label:t("RightClick_Menu_Move_Column_Right_Label","RightClick_Menu_Mobile_Move_Column_Down_Label"),enabled:function(e,t){return e.components.arrangement.canMoveForward(t)},onClick:function(e,t){e.columns.move.right(t),o(e),e.closeRightClickMenu()}}]}),define("rEditor/rootComps/rightClickMenu/customActions",["rEditor/rootComps/rightClickMenu/customActions/stripColumnsContainer","rEditor/rootComps/rightClickMenu/customActions/column"],function(e,t){"use strict";return{"wysiwyg.viewer.components.StripColumnsContainer":e,"wysiwyg.viewer.components.Column":t}}),define("rEditor/rootComps/rightClickMenu/menuItems/rcmItemBasic.rt",["react","lodash","baseUI"],function(e,t,o){"use strict";return function(){return function(){var i=this.isEnabled();return e.createElement("li",{className:t({"item-basic":!0,disabled:!i,hoverable:i}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onClick:i?this.props.onClick:function(){},onContextMenu:i?this.props.onClick:function(){},onMouseEnter:this.props.onMouseEnter||t.noop,onMouseLeave:this.props.onMouseLeave||t.noop},this.props.item.icon?e.createElement("span",{className:"icon",key:"icon"},this.props.item.icon.svgName?e.createElement(o.symbol,{name:this.props.item.icon.svgName,key:"svg"}):null,this.props.item.icon.css?e.createElement("span",{style:this.getImageIconStyle(),key:"style"}):null):null,e.createElement("span",{className:"label"},this.translateIfNeeded(this.props.label||this.props.item.label)))}.apply(this,[])}}),define("rEditor/rootComps/rightClickMenu/menuItems/rcmItemBasic",["create-react-class","lodash","util","rEditor/rootComps/rightClickMenu/menuItems/rcmItemBasic.rt"],function(e,t,o,i){"use strict";return e({displayName:"rcmItemBasic",mixins:[o.translationMixin],getImageIconStyle:function(){return t.merge({},this.props.item.icon.css,{backgroundImage:"url("+this.props.item.icon.src+")"})},isEnabled:function(){return t.isFunction(this.props.enabled)?this.props.enabled():this.props.item.enabled},render:i})}),define("rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithShortcut.rt",["react","lodash","baseUI"],function(e,t,o){"use strict";return function(){return e.createElement(o.tooltip,{value:this.getTooltipText(),alignment:"right",disabled:!this.getTooltipText()},e.createElement("li",{className:t({"item-shortcut":!0,disabled:!this.props.item.enabled,hoverable:this.props.item.enabled}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onClick:this.props.item.enabled?this.props.onClick:function(){},onContextMenu:this.props.item.enabled?this.props.onClick:function(){}},this.props.item.icon?e.createElement("span",{className:"icon",key:"icon"},this.props.item.icon.svgName?e.createElement(o.symbol,{name:this.props.item.icon.svgName,key:"svg"}):null):null,e.createElement("span",{className:"label label-shortcut"},this.translateIfNeeded(this.props.label)),e.createElement("span",{className:"action action-shortcut"},this.props.shortcut)))}}),define("rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithShortcut",["create-react-class","core","lodash","util","rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithShortcut.rt"],function(e,t,o,i,n){"use strict";return e({displayName:"rcmItemWithShortcut",mixins:[i.translationMixin,t.mixins.editorAPIMixin],getTooltipText:function(){return this.getEditorAPI().tooltipTextService.getSelectedComponentTooltipText(this.props.item.operationKey)},render:n})}),define("rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithSubItems.rt",["react","lodash","rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithShortcut"],function(e,t,o){"use strict";return function(){return e.createElement("li",{className:t({disabled:!this.props.item.enabled,hoverable:this.props.item.enabled}).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},e.createElement("span",{className:"label label-sub-item"},e.createElement("span",{"data-hint-id":this.props.hintId},this.translateIfNeeded(this.props.label)),this.props.item.shouldShowCount?e.createElement("span",{key:"count"}," ("+e.Children.count(this.props.children)+")"):null),e.createElement("span",{className:"action action-expand"}),e.createElement("div",{className:"rightClickMenu subMenu"},e.createElement("ul",{},this.props.children)))}}),define("rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithSubItems",["create-react-class","lodash","util","rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithSubItems.rt"],function(e,t,o,i){"use strict";return e({displayName:"rcmItemWithSubItems",mixins:[o.translationMixin],render:i})}),define("rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithSubItemsRecursive.rt",["react","lodash","rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithShortcut"],function(e,t,o){"use strict";return function(){return e.createElement("li",{className:t({disabled:!this.props.item.enabled,hoverable:this.props.item.enabled}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onClick:this.props.onClick},e.createElement("span",{className:"label label-sub-item"},e.createElement("span",{},this.translateIfNeeded(this.props.label)),this.props.item.shouldShowCount?e.createElement("span",{key:"count"}," ("+e.Children.count(this.props.children)+")"):null),e.createElement("span",{className:t({action:!0,"action-expand":this.props.items.length>0}).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")}),e.createElement("div",{className:"rightClickMenu subMenu"},e.createElement("ul",{},this.getChildren())))}}),define("rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithSubItemsRecursive",["react","create-react-class","lodash","util","rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithSubItemsRecursive.rt"],function(e,t,o,i,n){"use strict";var r=t({displayName:"rcmItemWithSubItemsRecursive",mixins:[i.translationMixin],getChildren:function(){return o.map(this.props.items,function(t){return e.createElement(r,t)})},render:n});return r}),define("rEditor/rootComps/rightClickMenu/rightClickMenu.rt",["react","lodash","rEditor/rootComps/rightClickMenu/menuItems/rcmItemBasic","rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithShortcut","rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithSubItems","rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithSubItemsRecursive","rEditor/rootComps/keyboard/config/keyboardShortcutsActionMap","rEditor/rootComps/showOnAllPagesToggle/showOnAllPagesToggle","util","baseUI","baseUILib","experiment"],function(e,t,o,i,n,r,a,s,l,c,p,d){"use strict";return function(){function c(){var l=this.state.menuItems,c=this.getEditorAPI(),u=a.editor,m=this.getCustomActions(),g=t.head(this.props.selectedComponents);return e.createElement("div",{style:{top:this.state.position.y,left:this.state.position.x},className:t(this.getClasses()).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onContextMenu:this.onRightClick,key:"rcm",ref:"rcmRoot"},this.props.selectedComponents?null:e.createElement("ul",{key:"noCompSelectedItems"},l.paste?e.createElement(i,{item:l.paste,label:"RightClick_Menu_Paste_Label",shortcut:u.PASTE.label,onClick:this.pasteComponent,key:"noCompSelectedPaste"}):null),this.props.selectedComponents?e.createElement("div",{key:"selectedCompItems"},l.applyToAllModes||l.applyModeFromClipboard?e.createElement("ul",{key:"rcmApplyGroup"},l.applyToAllModes?e.createElement(o,{item:l.applyToAllModes,key:"rcmApplyToAllModes",label:l.applyToAllModes.label,onClick:this.applyToAllModes}):null,l.applyModeFromClipboard?e.createElement(i,{item:l.applyModeFromClipboard,label:"RightClick_Menu_HB_Apply_From_Clipboard",shortcut:u.APPLY_MODE.label,onClick:this.applyModeFromClipboard,key:"rcmApplyModeFromClipboard"}):null):null,t.isEmpty(l.gfppItems)?null:e.createElement.apply(this,["ul",{key:"gfppItems","data-section":"gfppItems"},t.map(l.gfppItems,function(t,i,n,r,a,s,l){return e.createElement(o,{shouldTranslate:s.shouldTranslate,item:s.item,label:s.item.label,key:s.item.label,onClick:s.onClick})}.bind(this,l,c,u,m,g))]),m.length?e.createElement.apply(this,["ul",{key:"customActions"},t.map(m,function(i,n,r,a,s,l,c){return e.createElement(o,{key:"customAction_"+c,item:l,label:t.isFunction(l.label)?l.label(n,s):l.label,onClick:l.onClick.bind(null,n,s),enabled:t.isFunction(l.enabled)&&l.enabled.bind(null,n,s)})}.bind(this,l,c,u,m,g))]):null,e.createElement.apply(this,["ul",{},e.createElement(i,{item:l.undo,label:"TOPBAR_Edit_Undo",shortcut:u.UNDO.label,onClick:this.undo}),l.cut?e.createElement(i,{item:l.cut,label:"RightClick_Menu_Cut_Label",shortcut:u.CUT.label,onClick:this.cutComponent,key:"rcmCut"}):null,l.copy?e.createElement(i,{item:l.copy,label:"RightClick_Menu_Copy_Label",shortcut:u.COPY.label,onClick:this.copyComponent,key:"rcmCopy"}):null,l.styleCanBeApplied?t.map(this.props.selectedComponents,function(t,i,n,r,a,s,l){return e.createElement(o,{key:"rcmApplyStyle",label:"RightClick_Menu_Copy_Design_Label",item:this.getApplyToInfoItem(),onClick:function(e,t,o,i,n,r,a){this.openApplyToDialog(r)}.bind(this,t,i,n,r,a,s,l)})}.bind(this,l,c,u,m,g)):null,l.paste?e.createElement(i,{item:l.paste,label:"RightClick_Menu_Paste_Label",shortcut:u.PASTE.label,onClick:this.pasteComponent,key:"rcmPaste"}):null,l.duplicate?e.createElement(i,{item:l.duplicate,label:"RightClick_Menu_Duplicate_Label",shortcut:u.DUPLICATE.label,onClick:this.duplicateComponent,key:"rcmDuplicate"}):null]),l.arrange||l.overlappingItems?e.createElement("ul",{key:"rcmArrangeOverlapping"},l.overlappingItems?e.createElement.apply(this,[n,{ref:"overlappingItems",label:"RightClick_Menu_Overlapping_Items_Label",item:l.overlappingItems,key:"rcmOverlapping"},t.map(l.overlappingItems.subItems,function(t,i,n,r,a,s,l){return e.createElement(o,{item:s,label:s.label,key:s.key,onClick:this.onOverlappingItemClick.bind(this,s),shouldTranslate:!1,onMouseEnter:this.onOverlappingItemMouseEnter.bind(this,s),onMouseLeave:this.onOverlappingItemMouseLeave})}.bind(this,l,c,u,m,g))]):null,l.arrange?e.createElement(n,{item:l.arrange,label:"RightClick_Menu_Arrange_Label",key:"rcmArrange",onMouseOver:this.onArrangeHover},e.createElement(i,{item:l.arrange.subItems.moveToFront,label:"RightClick_Menu_Bring_to_Front_Label",shortcut:u.SEND_TO_FRONT.label,onClick:this.moveToFront}),e.createElement(i,{item:l.arrange.subItems.moveForward,label:"RightClick_Menu_Move_Forward_Label",shortcut:u.SEND_FORWARD.label,onClick:this.moveForward}),e.createElement(i,{item:l.arrange.subItems.moveBackward,label:"RightClick_Menu_Move_Backward_Label",shortcut:u.SEND_BACKWARD.label,onClick:this.moveBackward}),e.createElement(i,{item:l.arrange.subItems.moveToBack,label:"RightClick_Menu_Send_to_Back_Label",shortcut:u.SEND_TO_BACK.label,onClick:this.moveToBack})):null):null,l.remove?e.createElement("ul",{key:"rcmRemove"},e.createElement(i,{item:l.remove,label:this.shouldPresentHideOverDelete()?"RightClick_Menu_Mobile_Hide_Label":"RightClick_Menu_Delete_Label",shortcut:"Del",onClick:this.removeComponent})):null,l.pin?e.createElement("ul",{key:"rcmPin"},l.pin?e.createElement(i,{item:l.pin,label:l.pin.label,value:l.pin.value,onClick:this.handlePinClick,key:"rcmPin"}):null):null,l.saveToTheme&&1===this.props.selectedComponents.length?e.createElement("ul",{key:"themeStylesExperiment"},e.createElement.apply(this,[n,{item:{enabled:!0},label:"Save to theme",shouldTranslate:!1,key:"saveToTheme"},t.map(l.saveToTheme.styleIds,function(t,i,n,r,a,s,l){return e.createElement(o,{shouldTranslate:!1,item:{label:s,enabled:!0},key:this.props.selectedComponents[0]+"_themeStyle_"+s,onClick:function(e,t,o,i,n,r,a){this.saveStyleToTheme(this.props.selectedComponents[0],r)}.bind(this,t,i,n,r,a,s,l)})}.bind(this,l,c,u,m,g))])):null,l.showOnAllPages||l.fixedPosition?e.createElement("ul",{key:"rcmShowOnAllPagesFixPosition"},l.showOnAllPages?e.createElement("li",{key:"rcmShowOnAllPages"},e.createElement(s,{className:"secondary-color",origin:"rightClickMenu",selectedComponents:this.props.selectedComponents,selectedComponentsTypes:this.getSelectedComponentsTypes(),isComponentShowOnAllPages:this.props.selectedComponents&&c.components.isShowOnAllPages(this.props.selectedComponents),disabled:this.isShowOnAllPagesToggleDisabled(),isPage:c.utils.isPage(this.props.selectedComponents),componentsRestrictions:this.getSelectedCompsRestrictions(),toggleShowOnAllPages:t.partial(c.components.toggleShowOnAllPages,this.props.selectedComponents),reportBI:c.bi.event,labelType:"T17",widthByTextLength:!0,label:"toolbar_show_on_all_pages"})):null,l.fixedPosition?e.createElement("li",{key:"rcmFixedPosition",className:t({disabled:!l.fixedPosition.enabled}).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},e.createElement(p.ToggleSwitch,{value:l.fixedPosition.value,label:"RightClick_Menu_Fixed_Position_Label",onChange:this.toggleFixedPosition,disabled:!l.fixedPosition.enabled,className:this.props.className+" secondary-color",size:"MEDIUM",labelType:"T17",widthByTextLength:!0})):null):null,d.isOpen("rightClickDebug")?e.createElement("ul",{key:"debug"},e.createElement.apply(this,[n,{item:{enabled:!0},label:"Debug",shouldTranslate:!1,key:"debug"},t.map(this.props.selectedComponents,function(t,o,i,n,a,s,l){return e.createElement(r,{shouldTranslate:!1,key:s.id,label:o.components.getDisplayName(s)+" - "+s.id,item:{enabled:!0},items:this.getDebugItems(s)})}.bind(this,l,c,u,m,g)),t.map(this.props.selectedComponents,function(t,i,n,r,a,s,l){return e.createElement(o,{shouldTranslate:!1,item:this.getExportDebugInfoItem(s),key:s.id+".debugInfo",onClick:function(e,t,o,i,n,r,a){this.exportDebugInfo(r)}.bind(this,t,i,n,r,a,s,l)})}.bind(this,l,c,u,m,g)),this.isSingleController()?e.createElement(o,{shouldTranslate:!1,item:{label:"Inspect controller",enabled:!0},key:"controllerInspector",onClick:this.controllerInspector}):null,this.isSingleController()?e.createElement(o,{shouldTranslate:!1,item:{label:"Select connected components",enabled:!0},key:"selectConnectedComponents",onClick:this.selectControllerConnectedComponents}):null,this.isSingleNonController()?e.createElement(o,{shouldTranslate:!1,item:{label:"Inspect connections to controllers",enabled:!0},key:"connectionInspector",onClick:this.connectionsInspector}):null,e.createElement(o,{shouldTranslate:!1,item:{label:"Add controller",enabled:!0},key:"add-controller",onClick:this.openAddController}),e.createElement(o,{shouldTranslate:!1,item:{label:"Component Finder",enabled:!0},key:"component-finder",onClick:this.componentInspectorFinder})])):null,c.developerMode.isEnabled()?e.createElement("ul",{key:"rcmDevMode"},e.createElement(o,{label:"PLATFORM_RightClick_Menu_Open_Properties_Panel",ref:"openDevTools",item:{enabled:!0},onClick:this.openPropertiesPanel})):null):null)}return e.createElement(l.outerClick,{onOuterClick:this.onOuterClick},this.state.menuItems?c.apply(this,[]):null)}}),define("rEditor/rootComps/rightClickMenu/rightClickMenuUsGroupRightClick.rt",["react","lodash","rEditor/rootComps/rightClickMenu/menuItems/rcmItemBasic","rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithShortcut","rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithSubItems","rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithSubItemsRecursive","rEditor/rootComps/keyboard/config/keyboardShortcutsActionMap","rEditor/rootComps/showOnAllPagesToggle/showOnAllPagesToggle","util","baseUI","baseUILib","experiment"],function(e,t,o,i,n,r,a,s,l,c,p,d){"use strict";return function(){function l(){var l=this.state.menuItems,c=this.getEditorAPI(),u=a.editor,m=this.getCustomActions(),g=t.head(this.props.selectedComponents);return e.createElement("div",{style:{top:this.state.position.y,left:this.state.position.x},className:t(this.getClasses()).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onContextMenu:this.onRightClick,key:"rcm",ref:"rcmRoot"},this.props.selectedComponents?null:e.createElement("ul",{key:"noCompSelectedItems"},l.paste?e.createElement(i,{item:l.paste,label:"RightClick_Menu_Paste_Label",shortcut:u.PASTE.label,onClick:this.pasteComponent,key:"noCompSelectedPaste"}):null),this.props.selectedComponents?e.createElement("div",{key:"selectedCompItems"},l.applyToAllModes||l.applyModeFromClipboard?e.createElement("ul",{key:"rcmApplyGroup"},l.applyToAllModes?e.createElement(o,{item:l.applyToAllModes,key:"rcmApplyToAllModes",label:l.applyToAllModes.label,onClick:this.applyToAllModes}):null,l.applyModeFromClipboard?e.createElement(i,{item:l.applyModeFromClipboard,label:"RightClick_Menu_HB_Apply_From_Clipboard",shortcut:u.APPLY_MODE.label,onClick:this.applyModeFromClipboard,key:"rcmApplyModeFromClipboard"}):null):null,t.isEmpty(l.gfppItems)?null:e.createElement.apply(this,["ul",{key:"gfppItems","data-section":"gfppItems"},t.map(l.gfppItems,function(t,i,n,r,a,s,l){return e.createElement(o,{shouldTranslate:s.shouldTranslate,item:s.item,label:s.item.label,key:s.item.label,onClick:s.onClick})}.bind(this,l,c,u,m,g))]),m.length?e.createElement.apply(this,["ul",{key:"customActions"},t.map(m,function(i,n,r,a,s,l,c){return e.createElement(o,{key:"customAction_"+c,item:l,label:t.isFunction(l.label)?l.label(n,s):l.label,onClick:l.onClick.bind(null,n,s),enabled:t.isFunction(l.enabled)&&l.enabled.bind(null,n,s)})}.bind(this,l,c,u,m,g))]):null,l.arrange||l.overlappingItems?e.createElement("ul",{key:"rcmArrangeOverlapping"},e.createElement(i,{item:l.undo,label:"TOPBAR_Edit_Undo",shortcut:u.UNDO.label,onClick:this.undo}),l.overlappingItems?e.createElement.apply(this,[n,{ref:"overlappingItems",label:"Select",shouldTranslate:!1,item:l.overlappingItems,key:"rcmOverlapping"},t.map(l.overlappingItems.subItems,function(t,i,n,r,a,s,l){return e.createElement(o,{item:s,label:s.label,key:s.key,onClick:this.onOverlappingItemClick.bind(this,s),shouldTranslate:!1,onMouseEnter:this.onOverlappingItemMouseEnter.bind(this,s),onMouseLeave:this.onOverlappingItemMouseLeave})}.bind(this,l,c,u,m,g))]):null,e.createElement.apply(this,[n,{ref:"editItems",label:"Copy/Paste",shouldTranslate:!1,item:this.getEditItems(),key:"editItems"},l.cut?e.createElement(i,{item:l.cut,label:"RightClick_Menu_Cut_Label",shortcut:u.CUT.label,onClick:this.cutComponent,key:"rcmCut"}):null,l.copy?e.createElement(i,{item:l.copy,label:"RightClick_Menu_Copy_Label",shortcut:u.COPY.label,onClick:this.copyComponent,key:"rcmCopy"}):null,l.styleCanBeApplied?t.map(this.props.selectedComponents,function(t,i,n,r,a,s,l){return e.createElement(o,{key:"rcmApplyStyle",label:"RightClick_Menu_Copy_Design_Label",item:this.getApplyToInfoItem(),onClick:function(e,t,o,i,n,r,a){this.openApplyToDialog(r)}.bind(this,t,i,n,r,a,s,l)})}.bind(this,l,c,u,m,g)):null,l.paste?e.createElement(i,{item:l.paste,label:"RightClick_Menu_Paste_Label",shortcut:u.PASTE.label,onClick:this.pasteComponent,key:"rcmPaste"}):null,l.duplicate?e.createElement(i,{item:l.duplicate,label:"RightClick_Menu_Duplicate_Label",shortcut:u.DUPLICATE.label,onClick:this.duplicateComponent,key:"rcmDuplicate"}):null]),l.arrange?e.createElement(n,{item:l.arrange,label:"RightClick_Menu_Arrange_Label",key:"rcmArrange",onMouseOver:this.onArrangeHover},e.createElement(i,{item:l.arrange.subItems.moveToFront,label:"RightClick_Menu_Bring_to_Front_Label",shortcut:u.SEND_TO_FRONT.label,onClick:this.moveToFront}),e.createElement(i,{item:l.arrange.subItems.moveToBack,label:"RightClick_Menu_Send_to_Back_Label",shortcut:u.SEND_TO_BACK.label,onClick:this.moveToBack}),e.createElement(i,{item:l.arrange.subItems.moveForward,label:"RightClick_Menu_Move_Forward_Label",shortcut:u.SEND_FORWARD.label,onClick:this.moveForward}),e.createElement(i,{item:l.arrange.subItems.moveBackward,label:"RightClick_Menu_Move_Backward_Label",shortcut:u.SEND_BACKWARD.label,onClick:this.moveBackward})):null):null,l.arrange||l.overlappingItems?null:e.createElement("ul",{key:"rcmArrangeOverlapping"},e.createElement(i,{item:l.undo,label:"TOPBAR_Edit_Undo",shortcut:u.UNDO.label,onClick:this.undo}),e.createElement.apply(this,[n,{ref:"editItems",label:"Copy/Paste",shouldTranslate:!1,item:this.getEditItems(),key:"editItems"},l.cut?e.createElement(i,{item:l.cut,label:"RightClick_Menu_Cut_Label",shortcut:u.CUT.label,onClick:this.cutComponent,key:"rcmCut"}):null,l.copy?e.createElement(i,{item:l.copy,label:"RightClick_Menu_Copy_Label",shortcut:u.COPY.label,onClick:this.copyComponent,key:"rcmCopy"}):null,l.styleCanBeApplied?t.map(this.props.selectedComponents,function(t,i,n,r,a,s,l){return e.createElement(o,{key:"rcmApplyStyle",label:"RightClick_Menu_Copy_Design_Label",item:this.getApplyToInfoItem(),onClick:function(e,t,o,i,n,r,a){this.openApplyToDialog(r)}.bind(this,t,i,n,r,a,s,l)})}.bind(this,l,c,u,m,g)):null,l.paste?e.createElement(i,{item:l.paste,label:"RightClick_Menu_Paste_Label",shortcut:u.PASTE.label,onClick:this.pasteComponent,key:"rcmPaste"}):null,l.duplicate?e.createElement(i,{item:l.duplicate,label:"RightClick_Menu_Duplicate_Label",shortcut:u.DUPLICATE.label,onClick:this.duplicateComponent,key:"rcmDuplicate"}):null])),l.remove?e.createElement("ul",{key:"rcmRemove"},e.createElement(i,{item:l.remove,label:c.isMobileEditor()?"RightClick_Menu_Mobile_Hide_Label":"RightClick_Menu_Delete_Label",shortcut:"Del",onClick:this.removeComponent})):null,this.isPageSelected()?e.createElement("ul",{key:"rcmRemovePage"},e.createElement(i,{item:{enabled:!0},label:"Delete Page",shouldTranslate:!1,onClick:this.deletePage})):null,l.pin?e.createElement("ul",{key:"rcmPin"},l.pin?e.createElement(i,{item:l.pin,label:"RightClick_Menu_PinToScreen",value:l.pin.value,onClick:this.handlePinClick,key:"rcmPin"}):null):null,l.saveToTheme&&1===this.props.selectedComponents.length?e.createElement("ul",{key:"themeStylesExperiment"},e.createElement.apply(this,[n,{item:{enabled:!0},label:"Save to theme",shouldTranslate:!1,key:"saveToTheme"},t.map(l.saveToTheme.styleIds,function(t,i,n,r,a,s,l){return e.createElement(o,{shouldTranslate:!1,item:{label:s,enabled:!0},key:this.props.selectedComponents[0]+"_themeStyle_"+s,onClick:function(e,t,o,i,n,r,a){this.saveStyleToTheme(this.props.selectedComponents[0],r)}.bind(this,t,i,n,r,a,s,l)})}.bind(this,l,c,u,m,g))])):null,l.showOnAllPages||l.fixedPosition?e.createElement("ul",{key:"rcmShowOnAllPagesFixPosition"},l.showOnAllPages?e.createElement("li",{key:"rcmShowOnAllPages"},e.createElement(s,{className:"secondary-color",origin:"rightClickMenu",selectedComponents:this.props.selectedComponents,isComponentShowOnAllPages:this.props.selectedComponents&&c.components.isShowOnAllPages(this.props.selectedComponents),disabled:this.isShowOnAllPagesToggleDisabled(),isPage:c.utils.isPage(this.props.selectedComponents),componentsRestrictions:this.getSelectedCompsRestrictions(),toggleShowOnAllPages:t.partial(c.components.toggleShowOnAllPages,this.props.selectedComponents),reportBI:c.bi.event,labelType:"T17",widthByTextLength:!0,label:"toolbar_show_on_all_pages"})):null,l.fixedPosition?e.createElement("li",{key:"rcmFixedPosition",className:t({disabled:!l.fixedPosition.enabled}).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},e.createElement(p.ToggleSwitch,{value:l.fixedPosition.value,label:"RightClick_Menu_Fixed_Position_Label",onChange:this.toggleFixedPosition,disabled:!l.fixedPosition.enabled,className:this.props.className+" secondary-color",size:"MEDIUM",labelType:"T17",widthByTextLength:!0})):null):null,d.isOpen("rightClickDebug")?e.createElement("ul",{key:"debug"},e.createElement.apply(this,[n,{item:{enabled:!0},label:"Debug",shouldTranslate:!1,key:"debug"},t.map(this.props.selectedComponents,function(t,o,i,n,a,s,l){return e.createElement(r,{shouldTranslate:!1,key:s.id,label:o.components.getDisplayName(s)+" - "+s.id,item:{enabled:!0},items:this.getDebugItems(s)})}.bind(this,l,c,u,m,g)),t.map(this.props.selectedComponents,function(t,i,n,r,a,s,l){return e.createElement(o,{shouldTranslate:!1,item:this.getExportDebugInfoItem(s),key:s.id+".debugInfo",onClick:function(e,t,o,i,n,r,a){this.exportDebugInfo(r)}.bind(this,t,i,n,r,a,s,l)})}.bind(this,l,c,u,m,g)),this.isSingleController()?e.createElement(o,{shouldTranslate:!1,item:{label:"Inspect controller",enabled:!0},key:"controllerInspector",onClick:this.controllerInspector}):null,this.isSingleController()?e.createElement(o,{shouldTranslate:!1,item:{label:"Select connected components",enabled:!0},key:"selectConnectedComponents",onClick:this.selectControllerConnectedComponents}):null,this.isSingleNonController()?e.createElement(o,{shouldTranslate:!1,item:{label:"Inspect connections to controllers",enabled:!0},key:"connectionInspector",onClick:this.connectionsInspector}):null,e.createElement(o,{shouldTranslate:!1,item:{label:"Add controller",enabled:!0},key:"add-controller",onClick:this.openAddController}),e.createElement(o,{shouldTranslate:!1,item:{label:"Component Finder",enabled:!0},key:"component-finder",onClick:this.componentInspectorFinder})])):null,c.developerMode.isEnabled()?e.createElement("ul",{key:"rcmDevMode"},e.createElement(o,{label:"PLATFORM_RightClick_Menu_Open_Properties_Panel",ref:"openDevTools",item:{enabled:!0},onClick:this.openPropertiesPanel})):null):null)}return this.state.menuItems?l.apply(this,[]):null}}),define("rEditor/rootComps/rightClickMenu/rightClickMenu",["create-react-class","prop-types","lodash","core","stateManagement","rEditor/rootComps/rightClickMenu/util/rcmDataParser","rEditor/rootComps/rightClickMenu/customActions","util","experiment","rEditor/rootComps/rightClickMenu/rightClickMenu.rt","rEditor/rootComps/rightClickMenu/rightClickMenuUsGroupRightClick.rt","coreBi","coreUtilsLib"],function(e,t,o,i,n,r,a,s,l,c,p,d,u){"use strict";function m(e,t){return o.some(t,function(t){return o.isEqual(t,e)})}function g(e,t,i){return o.map(o.keys(t),function(n){var r=t[n],a=i.concat(n);return{key:n,label:n,onClick:function(t){u.log.info(e,a.join("."),r),t.stopPropagation()},items:o.isString(r)||o.isNumber(r)?[]:g(e,r,a),item:{enabled:!0}}})}function f(e,t){var o=i.utils.stageUtils.getViewPort();return{x:function(e,t,o){var i=o,n=s.elementUtils.getOuterWidth(t);if(i+n-window.pageXOffset>e.rightX){var r=i-n;return r<e.x?i+e.x:r}return i}(o,e,t.x),y:function(e,t,o){var i=o,n=s.elementUtils.getOuterHeight(t);if(i+n>e.bottomY){var r=i-n;return r<e.y?e.y:r}return i}(o,e,t.y)}}function h(e){var t=this.state.menuItems;t.arrange=r.buildArrangeMenu(e,this.getEditorAPI()),this.setState({menuItems:t})}function b(e,t,i){o.set(i,e,t)}var y=n.editorPlugins.pinMode.actions,v=void 0,S=d;return e({displayName:"rightClickMenu",mixins:[i.mixins.editorAPIMixin,s.translationMixin],compType:null,propTypes:{selectedComponents:t.array,editorMousePosition:t.object.isRequired,viewerMousePosition:t.object.isRequired,setHoverBox:t.func.isRequired,clearHoverBox:t.func.isRequired},onOuterClick:function(){v.closeRightClickMenu()},getInitialState:function(){return v=this.getEditorAPI(),this.shouldMeasureRCMRelativeToViewPort=!0,{position:this.props.editorMousePosition,openSubMenuToLeft:!1,menuItems:this.getAllMenuItems(this.props.selectedComponents,this.props.viewerMousePosition)}},componentDidMount:function(){this.compType=v.components.getType(this.props.selectedComponents),v.bi.event(S.events.rightClickMenu.RIGHT_CLICK_MENU_OPEN,{component:this.compType}),this.updatePositionRelativeToViewPort()},getAllMenuItems:function(e,t){var i=function(e,t){var i=v.selection.getComponentsByXY(e,t);return o.filter(i,v.components.is.selectable)}(t.x,t.y);return r.buildMenuItems(v,i,e)},rebuildItemsForSameComponent:function(e){var t=o.pickBy({showOnAllPages:r.buildShowOnAllPagesItem(v,e),fixedPosition:r.buildFixedPositionItem(v,e)},o.bind(function(e,t){return!o.isEqual(e,this.state.menuItems[t])},this));if(!o.isEmpty(t)){var i=o.assign({},this.state.menuItems,t);this.setState({menuItems:i})}},componentWillReceiveProps:function(e){if(e.selectedComponents){o.isEqual(e.selectedComponents,this.props.selectedComponents)?this.rebuildItemsForSameComponent(e.selectedComponents):(this.shouldMeasureRCMRelativeToViewPort=!0,this.setState({menuItems:this.getAllMenuItems(e.selectedComponents,e.viewerMousePosition)}))}},componentDidUpdate:function(){this.shouldMeasureRCMRelativeToViewPort&&this.updatePositionRelativeToViewPort()},componentWillUnmount:function(){v.bi.event(S.events.rightClickMenu.RIGHT_CLICK_MENU_CLOSE,{origin:"rcm",component:this.compType})},getSelectedCompsRestrictions:function(){var e=v.store.getState();return n.editorPlugins.selection.selectors.getSelectedCompRestrictions(e)},updatePositionRelativeToViewPort:function(){var e=this.refs.rcmRoot,t=f(e,this.state.position),n=function(e,t){var n=i.utils.stageUtils.getViewPort(),r=e.querySelectorAll(".subMenu");if(0===r.length)return!1;var a=o.maxBy(r,function(e){return s.elementUtils.getOuterWidth(e)});return t.x+s.elementUtils.getOuterWidth(e)+s.elementUtils.getOuterWidth(a)>n.rightX}(e,this.state.position);this.shouldMeasureRCMRelativeToViewPort=!1,this.setState({position:t,openSubMenuToLeft:n})},onOverlappingItemMouseEnter:function(e){v.bi.event(S.events.rightClickMenu.OVERLAPPING_ITEMS_HOVER,{component:m(e.component,this.props.selectedComponents)?"selected":"other"}),this.props.setHoverBox(e.component)},onOverlappingItemMouseLeave:function(){this.props.clearHoverBox()},getClasses:function(){return{rightClickMenu:!0,"open-sub-menu-left":this.state.openSubMenuToLeft,"fixed-position":this.getEditorAPI().components.layout.isShowOnFixedPosition(this.props.selectedComponents)}},onRightClick:function(e){e.preventDefault()},undo:function(){this.getEditorAPI().history.undo(),v.closeRightClickMenu()},cutComponent:function(){var e=v.bi.getComponentsBIParams(this.props.selectedComponents);o.forEach(e,o.partial(b,"origin","rcm")),v.bi.reportBI(S.events.rightClickMenu.CUT,e),v.closeRightClickMenu(function(){v.selectedComponent.cut(),v.history.add("cut component via rightClickMenu")})},copyComponent:function(){var e=v.bi.getComponentsBIParams(this.props.selectedComponents);o.forEach(e,o.partial(b,"origin","rcm")),v.selectedComponent.copy(),v.closeRightClickMenu(),v.bi.reportBI(S.events.rightClickMenu.COPY,e)},pasteComponent:function(){var e=v.bi.getComponentsBIParams(this.props.selectedComponents);o.forEach(e,o.partial(b,"origin","rcm"));var t=void 0;if(l.isOpen("se_pasteBehaviorFix"))t={x:this.props.editorMousePosition.x,y:this.props.editorMousePosition.y},v.copyPaste.paste(t,!1);else{var i=v.ui.scroll.getScroll();t={x:this.props.editorMousePosition.x-v.site.getXPos()+i.scrollLeft,y:this.props.editorMousePosition.y-v.components.layout.get(v.documentServices.siteSegments.getPagesContainer()).y+i.scrollTop},v.copyPaste.paste(t,!0)}v.closeRightClickMenu(),v.history.add("paste component via rightClickMenu"),v.bi.reportBI(S.events.rightClickMenu.PASTE,e)},applyModeFromClipboard:function(){var e=v.bi.getComponentsBIParams(this.props.selectedComponents);o.forEach(e,o.partial(b,"origin","rcm")),v.copyPaste.applyModeFromClipboard(v.selection.getSelectedComponents()),v.closeRightClickMenu(),v.bi.reportBI(S.events.rightClickMenu.APPLY_MODE_FROM_CLIPBOARD,e)},duplicateComponent:function(){var e=v.bi.getComponentsBIParams(this.props.selectedComponents);o.forEach(e,o.partial(b,"origin","rcm")),v.selectedComponent.duplicate(),v.closeRightClickMenu(),"Column"!==v.selection.getSelectedComponentType()&&v.history.add("duplicate component via rightClickMenu"),v.bi.reportBI(S.events.rightClickMenu.DUPLICATE,e)},removeComponent:function(){var e=v.bi.getComponentsBIParams(this.props.selectedComponents);return o.forEach(e,o.partial(b,"removal_method","rcm")),v.bi.reportBI(S.events.editor.component_removed,e),new Promise(function(e){v.closeRightClickMenu(function(){v.selectedComponent.remove().then(function(t){t&&(v.history.add("removed component via rightClickMenu"),e())})})})},toggleShowOnAllPages:function(){v.components.toggleShowOnAllPages(this.props.selectedComponents),v.documentServices.waitForChangesApplied(function(){var e=v.components.isShowOnAllPages(this.props.selectedComponents);v.bi.event(S.events.rightClickMenu.SHOW_ON_ALL_PAGES,{new_status:e,origin:"rcm"})}.bind(this))},toggleFixedPosition:function(){v.selectedComponent.toggleFixedPosition(),v.documentServices.waitForChangesApplied(function(){var e=v.components.is.fixed(this.props.selectedComponents),t=v.components.getType(this.props.selectedComponents[0]);v.bi.event(S.events.rightClickMenu.FIXED_POSITION,{origin:"rcm",new_status:e,component:t})}.bind(this))},handlePinClick:function(){v.closeRightClickMenu();var e=v.components.layout.isPinned(this.props.selectedComponents);if(l.isOpen("se_autoPinToScreen")&&!e){s.fedopsLogger.interactionStarted(s.fedopsLogger.INTERACTIONS.AUTO_PIN_TO_SCREEN);var t=this.props.selectedComponents[0],o=v.components.layout.getRelativeToScreen(t),i=o.x+o.width/2,n=o.y+o.height/2,r=v.ui.stage.getEditingAreaLayout(),a=r.width/3;if(v.components.layout.setFixed(this.props.selectedComponents,!0),n<=r.height/2)if(i<=a){var c=s.pinModeUtils.getRightDockLayoutAfterRotation("TOP_LEFT",v);v.components.layout.setDock(t,c)}else if(i<=2*a){var p=s.pinModeUtils.getRightDockLayoutAfterRotation("TOP",v);v.components.layout.setDock(t,p)}else{var d=s.pinModeUtils.getRightDockLayoutAfterRotation("TOP_RIGHT",v);v.components.layout.setDock(t,d)}else if(i<=a){var u=s.pinModeUtils.getRightDockLayoutAfterRotation("BOTTOM_LEFT",v);v.components.layout.setDock(t,u)}else if(i<=2*a){var m=s.pinModeUtils.getRightDockLayoutAfterRotation("BOTTOM",v);v.components.layout.setDock(t,m)}else{var g=s.pinModeUtils.getRightDockLayoutAfterRotation("BOTTOM_RIGHT",v);v.components.layout.setDock(t,g)}s.fedopsLogger.interactionEnded(s.fedopsLogger.INTERACTIONS.AUTO_PIN_TO_SCREEN)}v.store.dispatch(y.open(e?"rcm_reopen":"rcm"))},moveForward:function(){v.components.arrangement.moveForward(this.props.selectedComponents),h.call(this,this.props.selectedComponents),v.bi.event(S.events.rightClickMenu.MOVE_FORWARD,{origin:"rcm"})},moveBackward:function(){v.components.arrangement.moveBackward(this.props.selectedComponents),h.call(this,this.props.selectedComponents),v.bi.event(S.events.rightClickMenu.MOVE_BACKWARDS,{origin:"rcm"})},moveToFront:function(){v.components.arrangement.moveToFront(this.props.selectedComponents),h.call(this,this.props.selectedComponents),v.bi.event(S.events.rightClickMenu.BRING_TO_FRONT,{origin:"rcm"})},moveToBack:function(){v.components.arrangement.moveToBack(this.props.selectedComponents),h.call(this,this.props.selectedComponents),v.history.add("component - move to back"),v.bi.event(S.events.rightClickMenu.SEND_TO_BACK,{origin:"rcm"})},onArrangeHover:function(){v.bi.event(S.events.rightClickMenu.ARRANGE_HOVER,{origin:"rcm"})},onOverlappingItemClick:function(e){v.selection.selectComponentByCompRef(e.component),v.selection.setIsHiddenComponentDraggedNext(!0),v.bi.event(S.events.rightClickMenu.OVERLAPPING_ITEM_CLICK,{component:m(e.component,this.props.selectedComponents)?"selected":"other"})},componentInspectorFinder:function(){v.panelManager.openComponentPanel("debugTools.componentInspector.finderPanel",{comp:this.props.selectedComponents[0]}),v.closeRightClickMenu()},getDebugItems:function(e){var t=v.components.serialize(e);return g(e.id,t,["structure"])},getExportDebugInfoItem:function(e){return{label:"Export ["+e.id+"] to console",enabled:!0}},exportDebugInfo:function(e){var t=v.components.serialize(e,null,!1,!0);window.selectedComp=o.cloneDeep(t),u.log.info("Exported ["+e.id+"] to window.selectedComp"),v.closeRightClickMenu()},controllerInspector:function(){u.log.info("Opening controller panel"),v.panelManager.openComponentPanel("debugTools.platform.controllerInspectorPanel",{comp:this.props.selectedComponents[0]}),v.closeRightClickMenu()},connectionsInspector:function(){u.log.info("Opening connections panel"),v.panelManager.openComponentPanel("debugTools.platform.connectionsInspectorPanel",{comp:this.props.selectedComponents[0]}),v.closeRightClickMenu()},isSingleController:function(){return 1===this.props.selectedComponents.length&&"platform.components.AppController"===this.getEditorAPI().components.getType(this.props.selectedComponents[0])},isSingleNonController:function(){return 1===this.props.selectedComponents.length&&"platform.components.AppController"!==this.getEditorAPI().components.getType(this.props.selectedComponents[0])},selectControllerConnectedComponents:function(){var e=this.props.selectedComponents[0];require(["debugTools"],function(t){t.platform.utils.selectControllerConnectedComponents(v,e)}),v.closeRightClickMenu()},openAddController:function(){v.panelManager.openPanel("debugTools.platform.addControllerPanel",{}),v.closeRightClickMenu()},getApplyToInfoItem:function(){return{label:"RightClick_Menu_Copy_Design_Label",enabled:!0}},openApplyToDialog:function(e){v.bi.event(d.events.applyStyle.COPY_STYLE_RCM_CLICK,{component_id:e.id,component_type:v.components.getType(e)}),v.styles.openApplyStylePanel(e)},applyToAllModes:function(){v.components.modes.applyCurrentToAllModes(v.selection.getSelectedComponents()),v.closeRightClickMenu()},getCustomActions:function(){var e=a[v.components.getType(this.props.selectedComponents)]||[];return o.isFunction(e)?e(this.getEditorAPI()):e},saveStyleToTheme:function(e,t){var i=v.documentServices.theme.styles.get(t),n=v.documentServices.theme.styles.get(v.components.style.getId(e)),r=o.assign(n,o.pick(i,["id","type","styleType"]));v.theme.styles.update(t,r),v.components.style.setId(e,t)},openPropertiesPanel:function(){v.developerToolBar.isEnabled()||v.developerToolBar.toggle(),v.closeRightClickMenu()},isShowOnAllPagesToggleDisabled:function(){return!this.props.selectedComponents||(!v.components.canToggleShowOnAllPages(this.props.selectedComponents)||v.components.shouldDisableShowOnAllPages(this.props.selectedComponents))},render:function(){var e=c;return l.isOpen("us_groupRightClick")&&(e=p),e.call(this)},getEditItems:function(){return{cut:this.state.menuItems.cut,copy:this.state.menuItems.copy,styleCanBeApplied:this.state.menuItems.styleCanBeApplied,paste:this.state.menuItems.paste,duplicate:this.state.menuItems.duplicate,enabled:!0}},isPageSelected:function(){return"mobile.core.components.Page"===this.compType},deletePage:function(){var e=this.getEditorAPI().documentServices.pages.getFocusedPageId();this.getEditorAPI().documentServices.waitForChangesApplied(v.pages.remove(e,function(){}))},shouldPresentHideOverDelete:function(){return v.isMobileEditor()&&o.some(this.props.selectedComponents,v.components.is.hiddenable)},getSelectedComponentsTypes:function(){var e=this.getEditorAPI().components.data.get(this.props.selectedComponents)||[];return o.map(e,"type")}})}),define("rEditor/rootComps/panels/openedPanels.rt",["react","lodash","core","uiAnimations","panels"],function(e,t,o,i,n){"use strict";return function(){return e.createElement("div",{className:"opened-panels"},e.createElement.apply(this,[i.panelsAnimation,{},this.props.withHelpPanel&&this.props.helpPanelProps?e.createElement(n.frames.helpPanelFrame,t.assign({},{key:"helpPanel",isMobileEditor:this.props.isMobileEditor},this.props.helpPanelProps)):null,t.map(this.props.openPanels,function(i,n){return e.createElement(o.lazyComponent,t.assign({},{moduleName:i.name,key:i.name,onModuleLoaded:function(e,t){this.forceUpdate()}.bind(this,i,n)},this.getPanelProps(i)))}.bind(this))]))}}),define("rEditor/rootComps/panels/openedPanels",["create-react-class","prop-types","core","lodash","rEditor/rootComps/panels/openedPanels.rt"],function(e,t,o,i,n){"use strict";return e({displayName:"openedPanels",propTypes:{isMobileEditor:t.bool,openPanels:t.array,withHelpPanel:t.bool,helpPanelProps:t.object,selectedComponents:t.array},getDefaultProps:function(){return{withHelpPanel:!0}},getPanelProps:function(e){return i.assign({},e.props,{selectedComponents:this.props.selectedComponents,key:function(e){var t=e.key;return o.lazyComponent.isLoaded(e.name)&&(t+="-loading"),t}(e.props)})},render:n})}),define("rEditor/rootComps/portal/portal.rt",["react","lodash"],function(e,t){"use strict";return function(){return e.createElement("div",{id:"portal"},this.getChildren())}}),define("rEditor/rootComps/portal/portal",["react","create-react-class","prop-types","lodash","rEditor/rootComps/portal/portal.rt"],function(e,t,o,i,n){"use strict";return t({displayName:"Portal (AKA Comps Day-Care)",propTypes:{comps:o.object},getChildren:function(){return i.reduce(this.props.comps,function(t,o,n){return t.concat(function(t,o){return i.map(t,function(t){return e.createElement(t.reactClass,i.assign({},t.props,{origin:o}))})}(o,n))},[])},render:n})}),define("rEditor/rootComps/gfpp/gfppMapper",["lodash","stateManagement","rEditor/rootComps/gfpp/gfppModel","constants","experiment"],function(e,t,o,i,n){"use strict";function r(){var t=s.slice(0);return n.isOpen("switchLayoutDesignOrder")&&function(t){var o=e.indexOf(t,"layout"),i=e.indexOf(t,"design"),n=t[o];t[o]=t[i],t[i]=n}(t),t}function a(t){var o=t.mainActions||[],i=t.extraActions||[],n=function(t,o){var i=e.map(o,function(e){return t[e]});return e.compact(i)}(t.presetActions,r());return o.concat(n).concat(i)}var s=["scale_up","scale_down","settings","effects","layout","design","customizeDesign","upgrade","crop","filters","animation","mobileAnimation","link","hide","stretch","stretchForColumns","applyToOtherView","help","connect","pinMode","preview"];return function(r,s){var l=r.selection.getSelectedComponents(),c=o.getData(r,l),p=a(c);if(n.isOpen("se_multilingual")){var d=!c.untranslatable,u=c.translateAction,m=r.language.current.get(),g=r.language.original.get(),f=g&&g.languageCode;if(f&&m&&f!==m){var h={icon:"moreRegular",onClick:function(){s.toggleGfpp()}};if(d){var b=void 0;if(b=u?{onClick:c.presetActions[u].onClick,label:"gfpp_mainaction_translate"}:{onClick:p[0].onClick,label:"gfpp_mainaction_translate"},s.gfppIsCollapsed)p=[b,h];else{var y=p.slice(1);p=[b,h].concat(_toConsumableArray(y))}}else p=s.gfppIsCollapsed?[h]:[h].concat(_toConsumableArray(p))}}return{selectedComponents:l,buttons:p,previewState:c.previewState,setComponentPreviewState:r.documentMode.setComponentPreviewState,openHelpCenter:function(o){var n=e.get(r.selection.getSelectedComponentData(),"appPartName"),a=r.selection.getSelectedComponentType(),s={component:n||a,origin:i.BI.HELP.ORIGIN.GFPP,learn_more:!1};r.store.dispatch(t.editorPlugins.panels.actions.openHelpCenter(o,null,s))}}}}),define("rEditor/rootComps/gfpp/gfppButton.rt",["react","lodash","baseUI"],function(e,t,o){"use strict";return function(){return e.createElement(o.tooltip,{value:this.props.tooltip,styleType:"small",disabled:!this.props.tooltip,shouldTranslate:this.props.shouldTranslate},function(){var t=this.translateIfNeeded;return e.createElement("li",{className:"gfpp-btn "+this.props.className,onClick:this.onClick},this.props.icon?e.createElement(o.symbol,{key:"gfppButtonIcon",name:this.props.icon}):null,this.props.label?e.createElement("span",{key:"gfppButtonLabel",className:"gfpp-label"},t(this.props.label)):null)}.apply(this,[]))}}),define("rEditor/rootComps/gfpp/gfppButton",["create-react-class","prop-types","lodash","core","util","coreBi","constants","rEditor/rootComps/gfpp/gfppButton.rt"],function(e,t,o,i,n,r,a,s){"use strict";return e({displayName:"GFPP Button",propTypes:{selectedComponent:t.arrayOf(t.object).isRequired},mixins:[i.mixins.editorAPIMixin],translateIfNeeded:function(e){return o.isBoolean(this.props.shouldTranslate)&&!this.props.shouldTranslate?e:n.translate(e)},onClick:function(){if(!this.props.isDisabled){var e=this.getEditorAPI(),t=this.props.selectedComponent;if(!e.components.is.exist(t))return;var i=(t.length?o.head(t):t).id,n=e.selection.getSelectedComponentData(t),s=e.components.getType(t);this.props.onClick(e,t,a.USER_ACTIONS.ORIGIN.GFPP,{title:this.props.title}),e.bi.event(r.events.gfpp.GFPP_BUTTON_CLICK,{action_name:this.props.label||this.props.tooltip,component_id:i,component_type:o.get(n,"sourceType")||s,icon:this.props.tooltip,app_Id:this.props.appId})}},render:s})}),define("rEditor/rootComps/gfpp/gfppCustomButton",["react","create-react-class"],function(e,t){"use strict";return t({displayName:"gfppCustomButton",render:function(){return e.createElement(this.props.template,this.props)}})}),define("rEditor/rootComps/gfpp/gfppButtonGenerator",["react","create-react-class","lodash","rEditor/rootComps/gfpp/gfppButton","rEditor/rootComps/gfpp/gfppCustomButton"],function(e,t,o,i,n){"use strict";return t({displayName:"gfppButtonGenerator",render:function(){return e.createElement(this.props.template?n:i,o.assign({},this.props))}})}),define("rEditor/rootComps/gfpp/gfpp.rt",["react","lodash","uiAnimations","baseUI","rEditor/rootComps/gfpp/gfppButtonGenerator"],function(e,t,o,i,n){"use strict";return function(){return e.createElement(o.gfppAnimation,{},e.createElement.apply(this,["ul",t.assign({},{id:"gfpp",ref:"gfpp",className:t({gfpp:!0}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),key:this.getKey(),onMouseDown:this.stopEventPropagation,onMouseUp:this.stopEventPropagation,onDoubleClick:this.stopEventPropagation,onContextMenu:this.stopEventPropagation,onMouseMove:this.stopEventPropagation,onClick:this.stopEventPropagation},this.getTopLevelProps()),t.map(this.getButtons(),function(o,i){return e.createElement(n,t.assign({},{key:o.icon||o.label||o.tooltip,className:t(this.getButtonClasses(o)).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")+" "+(o.className||"")},t.omit(this.getButtonProps(o),"className")))}.bind(this))]))}}),define("rEditor/rootComps/gfpp/gfpp",["lodash","reactDOM","create-react-class","prop-types","coreUtilsLib","higherOrderComponents","rEditor/rootComps/gfpp/gfppMapper","rEditor/rootComps/gfpp/gfpp.rt","experiment"],function(e,t,o,i,n,r,a,s,l){"use strict";var c=o({displayName:"GFPP",propTypes:{selectedComponents:i.arrayOf(i.object).isRequired,buttons:i.arrayOf(i.object).isRequired,previewState:i.string,setComponentPreviewState:i.func.isRequired,openHelpCenter:i.func.isRequired,style:i.object,setGFPPMeasureFunc:i.func.isRequired,toggleGfpp:i.func.isRequired,gfppIsCollapsed:i.bool.isRequired},componentWillMount:function(){this.props.setComponentPreviewState(e.head(this.props.selectedComponents).id,this.props.previewState||null)},componentDidMount:function(){this.props.setGFPPMeasureFunc(this.getSize)},componentWillUnmount:function(){this.props.setGFPPMeasureFunc(null),this.props.setComponentPreviewState(e.head(this.props.selectedComponents).id,null)},componentWillReceiveProps:function(t){!e.isEqual(this.props.selectedComponents,t.selectedComponents)&&(this.props.toggleGfpp(!0),this.props.setComponentPreviewState(e.head(this.props.selectedComponents).id,null),this.props.setComponentPreviewState(e.head(t.selectedComponents).id,t.previewState||null))},getTopLevelProps:function(){return e.pick(this.props,["style"])},getButtonProps:function(t){return t.isApplied&&e.assign(t,{label:t.label_active||t.label,icon:t.icon_active||t.icon,tooltip:t.tooltip_active||t.tooltip}),t.helpId&&e.isUndefined(t.onClick)&&(t.onClick=function(){this.props.openHelpCenter(t.helpId)}.bind(this)),t.selectedComponent=this.props.selectedComponents,t},getSize:function(){if(this.refs.gfpp){var o=n.domMeasurements.getBoundingRect(t.findDOMNode(this.refs.gfpp));return e.pick(o,["width","height"])}},getButtons:function(){return this.props.buttons},stopEventPropagation:function(e){e.stopPropagation()},getKey:function(){return e.head([].concat(this.props.selectedComponents)).id+"_"+e.size([].concat(this.props.selectedComponents))},getButtonClasses:function(e){return{disabled:e.isDisabled,selected:e.isSelected,applied:l.isOpen("se_gfpp_indications")&&e.isApplied}},render:s}),p=e.flow(r.renderWhenMutated,r.connectEditorAPI(a))(c);return p.pure=c,p}),define("rEditor/rootComps/selectionBox/selectionBoxCommons",["lodash","experiment"],function(e,t){"use strict";function o(t,o,i){for(var n=e.head(o);n&&!function(t,o){return e.some(t,function(e){return e(o)})}(i,n);)n=t.components.getContainer(n);return n}function i(e){return e?"fixed":"absolute"}return{getPosition:i,getBoundingStyle:function(o,n,r,a){var s=0,l=0;e.size(r)>1&&(l=2*(s=2));var c=n.bounding,p={position:i(o),top:n.bounding.y-a-s,left:n.bounding.x-a-s,width:c.width+l,height:c.height+l};if(t.isOpen("se_editBoxPerformance")){var d="translate3d("+(c.x-a-s)+"px,"+(c.y-a-s)+"px,0)";p.top=0,p.left=0,p.WebkitTransform=d,p.transform=d}return p},findFirstContainerMatchingConditions:o}}),define("rEditor/rootComps/selectionBox/focusBoxMapper",["constants","stateManagement"],function(e,t){"use strict";var o=t.editorPlugins.domMeasurements.selectors.getPreviewPosition,i=t.editorPlugins.selection.selectors,n=i.getFocusedContainer,r=i.getSelectedCompsRefs;return function(t,i){var a=t.store.getState(),s=i.focusedContainer||n(a);return{focusedContainer:s,containerLayout:t.components.layout.getRelativeToScreen(s),previewPosition:o(a),componentUIColor:function(t,o){return t.components.isShowOnAllPages(o)||t.components.isShowOnSomePages(o)?e.COMPONENT_UI_COLORS.ORANGE:e.COMPONENT_UI_COLORS.BLUE}(t,s),isShowOnFixedPosition:t.components.layout.isShowOnFixedPosition([s]),focusBoxNavType:t.components.is.focusBoxNavType(s),modesAvailableInView:t.components.modes.getComponentModesAvailableInView(s),modes:t.components.modes.getModes(s),focusBoxNavContent:t.components.is.focusBoxNavContent(s),activeModeIds:t.components.modes.getComponentActiveModeIds(s),activateComponentMode:t.components.modes.activateComponentMode,deactivateComponentMode:t.components.modes.deactivateComponentMode,closePanelByName:t.panelManager.closePanelByName,selectComponentByCompRef:t.selection.selectComponentByCompRef,biError:t.documentServices.bi.error,refreshNavControlsSize:t.refreshNavControlsSize,hasOpacity:function(e,t){return e.components.is.descendantOfRepeaterItem(t)}(t,r(a))}}}),define("rEditor/rootComps/selectionBox/controllers/tab.rt",["react","lodash","util"],function(e,t,o){"use strict";return function(){return e.createElement("label",{className:"label-controller tab "+this.props.tabClass+" "+t({active:this.props.tab.active}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onClick:function(){this.props.onTabClick(this.props.tab)}.bind(this)},e.createElement("div",{className:"label"},"\n        ",this.getTabLabel(),"\n    "),e.createElement("div",{className:"action",key:this.props.tabsAnimationText},"\n        ",o.translate(this.props.tabsAnimationText),"\n    "))}}),define("rEditor/rootComps/selectionBox/controllers/tab",["lodash","create-react-class","prop-types","util","rEditor/rootComps/selectionBox/controllers/tab.rt"],function(e,t,o,i,n){"use strict";return t({displayName:"selectionBoxTab",propTypes:{tab:o.oneOfType([o.shape({modeId:o.string.isRequired,label:o.string.isRequired,active:o.bool.isRequired}),o.shape({id:o.string.isRequired,label:o.string.isRequired,active:o.bool.isRequired})]).isRequired,onTabClick:o.func.isRequired,translate:o.bool,tabClass:o.string.isRequired,tabsAnimationText:o.string},getTabLabel:function(){return this.props.translate?i.translate(this.props.tab.label):this.props.tab.label},render:n})}),define("rEditor/rootComps/selectionBox/controllers/tabsController.rt",["react","lodash","rEditor/rootComps/selectionBox/controllers/tab","uiAnimations"],function(e,t,o,i){"use strict";return function(){return e.createElement.apply(this,["div",{className:this.getTabControllerClasses()},t.map(this.props.tabs,function(t,n){return e.createElement(i.tabIndicationAnimation,{selectors:{label:".label",action:".action"},key:n+"-"+t.id,direction:this.props.isPositionTop?1:-1,immediatePlay:this.state.tabsAnimationStatus[n]},e.createElement(o,{tab:t,tabClass:this.tabIndexClass(n),translate:this.props.translate,onTabClick:this.props.onTabClick,tabsAnimationText:this.state.tabsAnimationText}))}.bind(this))])}}),define("rEditor/rootComps/selectionBox/controllers/tabsController",["lodash","constants","create-react-class","prop-types","rEditor/rootComps/selectionBox/controllers/tabsController.rt"],function(e,t,o,i,n){"use strict";function r(t){if(!t.tabIndicationState)return{tabsAnimationStatus:e.times(t.tabs.length,e.constant(!1)),tabsAnimationText:""};switch(t.tabIndicationState.indication){case"DELETE":return{tabsAnimationStatus:e.map(t.tabs,"active"),tabsAnimationText:"HOVER_BOX_NAVBAR_INDICATION_DELETED"};case"APPLY":return t.tabIndicationState.activeMode?{tabsAnimationStatus:e.map(t.tabs,"active"),tabsAnimationText:"HOVER_BOX_NAVBAR_INDICATION_APPLIED"}:{tabsAnimationStatus:e(t.tabs).map("active").map(e.negate(e.identity)).value(),tabsAnimationText:"HOVER_BOX_NAVBAR_INDICATION_APPLIED"};case"ADD":return t.tabIndicationState.activeMode?{tabsAnimationStatus:e.map(t.tabs,"active"),tabsAnimationText:"HOVER_BOX_NAVBAR_INDICATION_ATTACHED"}:{tabsAnimationStatus:e.times(t.tabs.length,e.constant(!0)),tabsAnimationText:"HOVER_BOX_NAVBAR_INDICATION_ATTACHED"};default:return{tabsAnimationStatus:e.times(t.tabs.length,e.constant(!1))}}}return o({displayName:"tabsController",propTypes:{tabs:i.oneOfType([i.arrayOf(i.shape({modeId:i.string,label:i.string.isRequired,active:i.bool.isRequired})),i.arrayOf(i.shape({id:i.string,label:i.string.isRequired,active:i.bool.isRequired}))]).isRequired,translate:i.bool,tabIndicationState:i.shape({indication:i.string.isRequired,activeMode:i.bool}),onTabClick:i.func.isRequired,isPositionTop:i.bool.isRequired,componentUIColor:i.oneOf(e.values(t.COMPONENT_UI_COLORS))},getInitialState:function(){return r(this.props)},componentWillReceiveProps:function(e){this.setState(r(e))},getReversedTabs:function(){return e(this.props.tabs).cloneDeep().reverse()},getTabControllerClasses:function(){var o=e({"tabs-controller":!0,"components-ui-color-orange":this.props.componentUIColor===t.COMPONENT_UI_COLORS.ORANGE}).pickBy().keys().value();return(this.props.className||"")+" "+o.join(" ")},tabIndexClass:function(e){return 1===this.props.tabs.length?"left-most-tab right-most-tab":e===this.props.tabs.length-1?"right-most-tab":0===e?"left-most-tab":""},render:n})}),define("rEditor/rootComps/selectionBox/controllers/paginationController.rt",["react","lodash"],function(e,t){"use strict";return function(){return e.createElement("div",{className:this.getPaginationControllerClasses(),'"':!0},e.createElement("span",{className:"arrow prev-arrow",onClick:this.onPrev}),e.createElement("span",{className:"middle-label",onClick:this.onLabelClick},this.getLabel()),e.createElement("span",{className:"arrow next-arrow",onClick:this.onNext}))}}),define("rEditor/rootComps/selectionBox/controllers/paginationController",["create-react-class","prop-types","lodash","constants","util","rEditor/rootComps/selectionBox/controllers/paginationController.rt"],function(e,t,o,i,n,r){"use strict";return e({displayName:"paginationController",render:r,mixins:[n.translationMixin],propTypes:{label:t.string.isRequired,labelParams:t.object.isRequired,onNext:t.func.isRequired,onPrev:t.func.isRequired,onLabelClick:t.func.isRequired,componentUIColor:t.oneOf(o.values(i.COMPONENT_UI_COLORS))},getLabel:function(){return this.translateTemplate(this.props.label,this.props.labelParams)},onNext:function(){this.props.onNext()},onPrev:function(){this.props.onPrev()},getPaginationControllerClasses:function(){var e=o({"pagination-controller":!0,"components-ui-color-orange":this.props.componentUIColor===i.COMPONENT_UI_COLORS.ORANGE}).pickBy().keys().value();return(this.props.className||"")+" "+e.join(" ")},onLabelClick:function(){this.props.onLabelClick()}})}),define("rEditor/rootComps/selectionBox/navControls.rt",["react","lodash","rEditor/rootComps/selectionBox/controllers/tabsController","rEditor/rootComps/selectionBox/controllers/paginationController","constants"],function(e,t,o,i,n){"use strict";return function(){function r(e,o){var i=t.assign({},e,o);return e.hasOwnProperty("style")&&(i.style=t.defaults(i.style,e.style)),e.hasOwnProperty("className")&&o.hasOwnProperty("className")&&(i.className=o.className+" "+e.className),i}return e.createElement("div",{onMouseDown:this.stopEventPropagation,onMouseUp:this.stopEventPropagation,onDoubleClick:this.stopEventPropagation,onContextMenu:this.stopEventPropagation,onMouseMove:this.stopEventPropagation,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,style:this.getCalculatedStyle(),className:"nav-controls "+this.getPositionClass()},this.props.navType===n.UI.NAVIGATION_TYPES.TABS?e.createElement(o,r({key:"tabsController",className:this.getPositionClass(),isPositionTop:this.isPositionTop(),componentUIColor:this.props.componentUIColor,tabIndicationState:this.props.tabIndicationState},this.props.content)):null,this.props.navType===n.UI.NAVIGATION_TYPES.PAGINATION?e.createElement(i,r({key:"paginationController",componentUIColor:this.props.componentUIColor,biError:this.props.biError,className:this.getPositionClass()},this.props.content)):null)}}),define("rEditor/rootComps/selectionBox/navControls",["create-react-class","prop-types","lodash","constants","rEditor/rootComps/selectionBox/navControls.rt"],function(e,t,o,i,n){"use strict";return e({displayName:"navControls",propTypes:{navType:t.oneOf(o.values(i.UI.NAVIGATION_TYPES)),content:t.object.isRequired,componentUIColor:t.oneOf(o.values(i.COMPONENT_UI_COLORS)),style:t.object,onMouseEnterControls:t.func,onMouseLeaveControls:t.func},onMouseEnter:function(){o.isFunction(this.props.onMouseEnterControls)&&this.props.onMouseEnterControls()},onMouseLeave:function(){o.isFunction(this.props.onMouseLeaveControls)&&this.props.onMouseLeaveControls()},stopEventPropagation:function(e){e.stopPropagation()},getPositionClass:function(){return this.isPositionTop()?"comp-top":"comp-bottom"},isPositionTop:function(){return o.get(this.props,"style.top")!==i.UI.NAVIGATION_CONTROLS_POS.BOTTOM},getCalculatedStyle:function(){return{marginLeft:this.props.style&&this.props.style.left||0}},render:n})}),define("rEditor/rootComps/selectionBox/focusBox.rt",["react","lodash","rEditor/rootComps/selectionBox/navControls"],function(e,t,o){"use strict";return function(){return function(){this.getFocusedContainerLayout();var i=this.getNavControlsContent();return e.createElement("div",{className:t(this.getFocusBoxClasses()).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),style:this.getFocusBoxStyle()},e.createElement(o,{ref:"navControls",style:this.props.navControlsStyle,navType:this.getNavType(),content:i,biError:this.props.biError,componentUIColor:this.props.componentUIColor,isShowOnSomePages:this.props.isShowOnSomePages,onMouseEnterControls:this.onMouseEnterControls,onMouseLeaveControls:this.onMouseLeaveControls,tabIndicationState:this.props.tabIndicationState}),e.createElement("div",{className:"focus-frame"}))}.apply(this,[])}}),define("rEditor/rootComps/selectionBox/focusBox",["create-react-class","prop-types","reactDOM","lodash","constants","coreUtilsLib","higherOrderComponents","rEditor/rootComps/selectionBox/selectionBoxCommons","experiment","rEditor/rootComps/selectionBox/focusBoxMapper","rEditor/rootComps/selectionBox/focusBox.rt"],function(e,t,o,i,n,r,a,s,l,c,p){"use strict";function d(e,t){var o=void 0;switch(t.type){case"DEFAULT":o="HOVER_BOX_STATE_REGULAR";break;case"HOVER":o="HOVER_BOX_STATE_HOVER";break;case"SCROLL":o="scroll > "+t.params.scrollPos;break;case"WIDTH":o="width > "+t.params.width;break;default:o=t.label||"unknown-mode"}return i.assign({},t,{active:!!e[t.modeId],label:o})}var u=e({displayName:"focusBox",propTypes:{tabIndicationState:t.object.isRequired,navControlsStyle:t.object.isRequired,componentUIColor:t.oneOf(i.values(n.COMPONENT_UI_COLORS)),isShowOnFixedPosition:t.bool.isRequired,hasOpacity:t.bool.isRequired,focusedContainer:t.object.isRequired,containerLayout:t.object.isRequired,previewPosition:t.object.isRequired,focusBoxNavType:t.string,modes:t.array,focusBoxNavContent:t.object,activeModeIds:t.object.isRequired,activateComponentMode:t.func.isRequired,closePanelByName:t.func.isRequired,selectComponentByCompRef:t.func.isRequired,selectedComponents:t.oneOfType([t.object,t.arrayOf(t.object)]).isRequired,biError:t.func.isRequired,deactivateComponentMode:t.func.isRequired,refreshNavControlsSize:t.func.isRequired,modesAvailableInView:t.arrayOf(t.object)},getInitialState:function(){return{mouseOverNavControls:!1}},componentDidMount:function(){this.props.refreshNavControlsSize(this.getNavControlsSize())},componentDidUpdate:function(){this.props.refreshNavControlsSize(this.getNavControlsSize())},componentWillUnmount:function(){this.props.refreshNavControlsSize(!1)},getFocusedContainerLayout:function(){return s.getBoundingStyle(this.props.isShowOnFixedPosition,this.props.containerLayout,[this.props.focusedContainer],0)},getFocusBoxClasses:function(){return{focusbox:!0,"components-ui-color-orange":this.props.componentUIColor===n.COMPONENT_UI_COLORS.ORANGE,"with-opacity":this.props.hasOpacity}},getFocusBoxStyle:function(){var e=this.getFocusedContainerLayout();return"fixed"===e.position&&(e.top+=this.props.previewPosition.top,e.left+=this.props.previewPosition.left),e},getNavControlsSize:function(){if(this.refs.navControls){var e=r.domMeasurements.getBoundingRect(o.findDOMNode(this.refs.navControls));return i.pick(e,["width","height"])}return!1},onMouseEnterControls:function(){this.state.mouseOverNavControls||this.setState({mouseOverNavControls:!0})},onMouseLeaveControls:function(){this.state.mouseOverNavControls&&this.setState({mouseOverNavControls:!1})},getNavType:function(){return this.componentHaveModes()?n.UI.NAVIGATION_TYPES.TABS:this.props.focusBoxNavType},getNavControlsContent:function(){return this.componentHaveModes()?this.getModesTabsContent():this.props.focusBoxNavContent},getModesTabsContent:function(){return{tabs:this.createModeTabs(),translate:!0,onTabClick:function(e){return this.handleTabClick(e)}.bind(this)}},createModeTabs:function(){return i.map(this.props.modesAvailableInView,i.partial(d,this.props.activeModeIds))},handleTabClick:function(e){if(this.props.activeModeIds[e.modeId])this.props.selectComponentByCompRef(this.props.focusedContainer),l.isOpen("applicativeModes")&&this.props.deactivateComponentMode(this.props.focusedContainer,e.modeId);else{this.props.activateComponentMode(this.props.focusedContainer,e.modeId);var t=i.head(i.filter(this.props.modes,{type:"DEFAULT"}));t&&t.modeId===e.modeId&&function(e){i.forEach(["compPanels.dynamicPanels.animationPanel"],e)}(this.props.closePanelByName)}},componentHaveModes:function(){return!i.isEmpty(this.props.modes)},render:p}),m=a.connectEditorAPI(c)(a.renderWhenMutated(u));return m.pure=u,m}),define("rEditor/utils/mouseMoveActions/closeGaps",["lodash","stateManagement","coreBi","constants"],function(e,t,o,i){"use strict";var n=t.editorPlugins.domMeasurements.selectors.translateToViewerCoordinates,r=void 0,a=void 0,s=void 0,l=void 0,c=void 0,p=void 0,d=void 0;return{start:function(e,t){a=e,r=t.comps,s=a.components.is.page(r);var o=a.siteSegments.getGaps();p=o[l=s?"headerToPagesGap":"pagesToFooterGap"]||0;var i=a.store.getState(),c=n(i,t.evt);d=c.pageY},on:function(t){var o=a.store.getState(),i=n(o,t),r=d-i.pageY,s=e.max([0,p-r]),u=e.set({},l,s);c=s,a.siteSegments.updateGaps(u)},end:function(e){var t=a.store.getState();n(t,e).pageY<d&&(a.bi.event(o.events.editBox.DRAG_GAP,{gap_type:l,gap_size_start:p,gap_size_end:c}),a.history.add("gap updated"))},type:i.MOUSE_ACTION_TYPES.CLOSE_GAPS}}),define("rEditor/utils/mouseMoveActions/baseResize",["lodash","core","experiment","constants","stateManagement","util"],function(e,t,o,i,n,r){"use strict";function a(e){return{x:e.pageX,y:e.pageY}}function s(){return function(t){var o=I.components.getType(t);return e.has(w,o)}(b)?function(t){var o=I.components.getType(t),i=I.store.getState(),n=m(i),r=w[o],a=e.isFunction(r)?r(b):!!r,s=e.pick(R,["topRight","topLeft","bottomRight","bottomLeft"]),l=e.includes(s,E),c=e.map(b,"id"),p=e.map(n,"id");return((e.difference(c,p).length?I.getCompRestrictions(b).resizeOnlyProportionally:g(i).resizeOnlyProportionally)||!v)&&l&&a}(b):(v||I.components.is.group(b)||d(b))&&I.components.is.proportionallyResizable(b)}function l(t){var o=a(t),i=function(e){return D[e]}(S),n=I.components.layout.getRelativeToScreen(b),r=I.components.getType(b);C=s(),function(t){return e.has(A,t)}(r)&&(n=function(e,t){return A[t](e)}(n,r));var l=function(t){if(I.components.is.repeaterItem(b)){var o=I.components.getContainer(b),i=I.components.layout.get(o),n=I.components.getChildren(o),r=e.findIndex(n,b[0]);if("right"===S||"left"===S){var a=Math.floor(i.width/t.width),s=(r+1)%a;return 0===s?a:s}if("bottom"===S||"top"===S){var l=Math.floor(i.height/t.height),c=(r+1)%l;return 0===c?l:c}}return 1}(n);y=new h.Resize(n,o,i,C,l),_=I.components.layout.getProportionStructure(b,i)}function c(t,i){b=(I=t).components.getComponentsWhichDontHaveAncestorsInTheArray(i.comps),T=I.documentServices.pages.isWidgetPage(I.pages.getFocusedPageId());var n=e.map(b,"id");I.documentServices.renderPlugins.setCompsToShowOnTop(n),o.isOpen("changeOpacityOnDrag")&&I.documentServices.renderPlugins.setCompsToShowWithOpacity(n,.9),v=i.evt.shiftKey,S=i.directionName,P=new f(I,i.comps),E=function(e){return R[e]}(i.directionName),M=e.map(b,function(e){return new O(I,e)}),e.forEach(M,function(e){e.highlightDragConstraints()}),l(i.evt)}function p(e){var o=a(e),i=e.altKey;v!==e.shiftKey&&(v=e.shiftKey,l(e));var n=y.getLayout(o);I.getViewTools().snapToEnabled&&0===n.rotationInDegrees&&function(e){var t=P.getClosestLayoutDistance(I,e,E);Math.abs(t.x)<5&&(E.right?(s()&&e.height&&(e.height+=t.x),e.width+=t.x):E.left&&(s()&&e.height&&(e.height-=t.x),e.x+=t.x,e.width-=t.x)),Math.abs(t.y)<5&&(E.top?(s()&&e.width&&(e.width-=t.y),e.y+=t.y,e.height-=t.y):E.bottom&&(s()&&e.width&&(e.width+=t.y),e.height+=t.y))}(n);var r=I.components.layout.getRelativeToScreen(b);n=t.utils.updateLayoutUtil.getLayoutRelativeToScreenAfterConstraints(I,b[0],n,r),C?I.components.layout.updateRelativeToScreenAndPreserveProportions(b,n,_):I.components.layout.updateRelativeToScreen(b,n,!0),I.documentServices.waitForChangesApplied(function(){if(P){var e=I.components.layout.getRelativeToScreen(b);i?function(e){if(E.right)e.width-=e.width%5;else if(E.left){var t=e.x%5;e.x-=t,e.width+=t}if(E.top){var o=e.y%5;e.y-=o,e.height+=o}else E.bottom&&(e.height-=e.height%5)}(e):I.getViewTools().snapToEnabled&&0===e.rotationInDegrees&&function(e){var t=P.getSnapData(e,E,T);I.snapData.set(t)}(e)}})}var d=r.array.isMultiselect,u=n.editorPlugins.selection.selectors,m=u.getSelectedCompsRefs,g=u.getSelectedCompRestrictions,f=t.utils.SnapToHandler,h=t.utils.layoutTransitionsUtil,b=void 0,y=void 0,v=void 0,S=void 0,P=void 0,E=void 0,C=void 0,T=void 0,I=void 0,_=void 0,O=t.utils.DragConstraintsHandler,M=[],w={"wysiwyg.viewer.components.WPhoto":function(e){return"stretch"!==I.components.properties.get(e).displayMode},"wysiwyg.viewer.components.SiteButton":!0,"wysiwyg.viewer.components.inputs.Checkbox":!0,"wysiwyg.common.components.imagebutton.viewer.ImageButton":!0,"wysiwyg.viewer.components.ClipArt":!0,"wysiwyg.viewer.components.svgshape.SvgShape":!0,"wysiwyg.viewer.components.MatrixGallery":!0,"tpa.viewer.components.Thumbnails":!0,"wysiwyg.viewer.components.PaginatedGridGallery":!0,"wysiwyg.viewer.components.SlideShowGallery":!0,"wysiwyg.viewer.components.Video":!0,"wysiwyg.viewer.components.mobile.TinyMenu":!0,"wysiwyg.viewer.components.inputs.RadioButton":!0,"wysiwyg.viewer.components.MediaPlayer":!0,"wysiwyg.viewer.components.MediaOverlayControls":!0,"wysiwyg.viewer.components.VectorImage":!0,"wysiwyg.viewer.components.WRichText":!1,"wixui.ToggleSwitch":!0},A={"wysiwyg.viewer.components.PopupContainer":function(t){var o=I.components.properties.get(b);return e.assign({},t,{symmetry:{horizontal:"center"===o.horizontalAlignment,vertical:"center"===o.verticalAlignment}})}},R={right:{right:!0},left:{left:!0},top:{top:!0},bottom:{bottom:!0},topRight:{top:!0,right:!0},topLeft:{top:!0,left:!0},bottomRight:{bottom:!0,right:!0},bottomLeft:{bottom:!0,left:!0}},D={right:{x:1,y:0},left:{x:-1,y:0},top:{x:0,y:-1},bottom:{x:0,y:1},topRight:{x:1,y:-1},topLeft:{x:-1,y:-1},bottomRight:{x:1,y:1},bottomLeft:{x:-1,y:1}};return{start:c,on:p,end:function(){if(P=null,I.snapData.clear(),I.documentServices.renderPlugins.setCompsToShowOnTop(null),o.isOpen("changeOpacityOnDrag")&&I.documentServices.renderPlugins.setCompsToShowWithOpacity(null),I.history.add("Resize component"),e.forEach(M,function(e){e.removeHighlightDragConstraints()}),M=[],I.components.layout.isPinned(b)){var t=I.components.layout.getDock(b),i=r.pinModeUtils.getDockedDirection(t),n=I.components.layout.get(b);r.pinModeUtils.checkSizeRestrictions(i,n)&&I.panelHelpers.openPinModeSizeRestrictionPanel({state:"on resize",title:"Notification_Box_PinToScreen_ElementTooLarge_postPin_Title",content:"Notification_Box_PinToScreen_ElementTooLarge_postPin_Message"})}},type:i.MOUSE_ACTION_TYPES.RESIZE}}),define("rEditor/utils/mouseMoveActions/pageResize",["lodash","coreBi","core","constants"],function(e,t,o,i){"use strict";function n(e){return{x:e.pageX,y:e.pageY}}function r(t){var o=n(t).y-c.y;d=Math.max(function(e){var t=p+e,o=l.isMobileEditor()?i.CONSTRAINS.PAGE_MIN_HEIGHT.MOBILE:i.CONSTRAINS.PAGE_MIN_HEIGHT.DESKTOP;return Math.max(t,o)}(o),g),l.pages.properties.update(u,{minHeight:d}),l.documentServices.waitForChangesApplied(function(){if(f){var e=l.components.layout.getRelativeToScreen(u);!function(e){if(f){var t=f.getClosestLayoutDistance(l,e.bounding,h);Math.abs(t.x)<5&&(e.x+=t.x,e.bounding.x+=t.x),Math.abs(t.y)<5&&(e.y+=t.y,e.bounding.y+=t.y)}}(e),function(e,t){var o=f.getSnapData(t,{top:!0,bottom:!0},!0);e.snapData.set(o)}(l,e)}}),m=!e.isEqual(d,p)}function a(){l.history.add("Resize page")}var s=o.utils.SnapToHandler,l=void 0,c=void 0,p=void 0,d=void 0,u=void 0,m=void 0,g=void 0,f=void 0,h={top:!0};return{start:function(e,t){var o=(l=e).documentServices.pages.getPrimaryPageId();c=n(t.evt),u=l.documentServices.pages.getReference(o),f=new s(l,u),g=l.pages.getPageBottomByComponents(u.id),p=l.components.layout.get(u).height},on:r,end:function(){m&&(a(),l.bi.event(t.events.pageResize.PAGE_MIN_HEIGHT_RESIZE,{yCoordinate_new:d,yCoordinate_old:p}),m=!1),l.snapData.clear(),f=null},reset:function(){l.pages.properties.update(u,{minHeight:null}),a()},type:i.MOUSE_ACTION_TYPES.RESIZE_PAGE}}),define("rEditor/utils/mouseMoveActions/pushingComponentSnapper",["lodash","core"],function(e,t){"use strict";function o(e,t,o){e.waitForChangesApplied(function(){if(r){var i=e.getRelativeToScreen(o);e.snapToEnabled&&0===t.rotationInDegrees&&function(e,t){var o=r.getSnapData(t,n,!0);e(o)}(e.snapDataSetter,i)}})}var i=t.utils.SnapToHandler,n=void 0,r=void 0,a=function(e,t,o){var i=e.width?e.width:t,n=e.x,r=n+i,a=o.x,s=a+o.width,l=!1;return a>=n&&a<=r?l=!0:s>=n&&s<=r?l=!0:n>=a&&n<=s?l=!0:r>=a&&r<=s&&(l=!0),l};return{init:function(e,t,o){n=o,r=new i(e,t)},snapIfPossible:function(t,o,i){var s=e(a).negate().partial(o,i).value(),l=r.getClosestLayoutDistance(t,o,n,s);Math.abs(l.y)<5&&(n.top&&n.bottom?(o.y+=l.y,o.height-=l.y):n.bottom&&(o.height+=l.y))},waitForChangesAppliedAndDrawSnapLines:o,clear:function(e){r=null,n=null,e.snapData.clear()}}}),define("rEditor/utils/mouseMoveActions/baseResizeAndPush",["lodash","core","stateManagement","experiment","constants","rEditor/utils/mouseMoveActions/pushingComponentSnapper"],function(e,t,o,i,n,r){"use strict";function a(e){var t=p.store.getState(),o=s(t,e);return{x:o.pageX,y:o.pageY}}var s=o.editorPlugins.domMeasurements.selectors.translateToViewerCoordinates,l=t.utils.layoutTransitionsUtil,c=void 0,p=void 0,d=void 0;return{start:function(t,o){p=t,c=o.comps,r.init(p,c,{bottom:!0}),p.selection.setIsMouseUpSelectionEnabled(!1);var n=e.map(c,"id");p.documentServices.renderPlugins.setCompsToShowOnTop(n),i.isOpen("se_continuous_actions")&&p.components.layout.continuousUpdateAndAdjustLayout.start();var s=a(o.evt),u=p.components.layout.getRelativeToScreen(c);d=new l.Resize(u,s,{x:0,y:1},!1)},on:function(t){var o=a(t),n=d.getLayout(o),s=p.components.layout.getMinDimensions(c);n.bounding=p.utils.getBoundingLayout(n);var l=p.components.layout.getRelativeToScreen(c).width;r.snapIfPossible(p,n,l),n.height>=s.height&&(i.isOpen("se_continuous_actions")?p.components.layout.continuousUpdateAndAdjustLayout.on(c,e.pick(n,["height","width"]),!0):p.components.layout.updateRelativeToScreenAndAdjustLayout(c,e.pick(n,["height","width"]),!0));var u={waitForChangesApplied:p.documentServices.waitForChangesApplied,getRelativeToScreen:p.components.layout.getRelativeToScreen,snapToEnabled:p.getViewTools().snapToEnabled,snapDataSetter:p.snapData.set};r.waitForChangesAppliedAndDrawSnapLines(u,n,c)},end:function(){i.isOpen("se_continuous_actions")&&p.components.layout.continuousUpdateAndAdjustLayout.end(),r.clear(p),p.documentServices.renderPlugins.setCompsToShowOnTop(null),p.history.add("Resize component")},type:n.MOUSE_ACTION_TYPES.RESIZE_PUSH}}),define("rEditor/utils/mouseMoveActions/baseRotate",["lodash","core","coreBi","stateManagement","constants"],function(e,t,o,i,n){"use strict";function r(e){!function(e){e.rotationInDegrees<0&&(e.rotationInDegrees+=360);var t=e.rotationInDegrees%h;t<=f?e.rotationInDegrees-=t:t>=h-f&&(e.rotationInDegrees+=h-t)}(e),g.components.layout.updateRelativeToScreen(m,e,!0)}function a(e){var t=g.store.getState(),o=c(t,e),i={x:o.pageX,y:o.pageY},n=u.getLayout(i);e.shiftKey?(p||(d=g.components.layout.getRelativeToScreen(m).rotationInDegrees),function(e){var t=Math.floor(d<0?d+360:d),o=Math.floor(e.rotationInDegrees<0?e.rotationInDegrees+360:e.rotationInDegrees)-t,i=Math.floor(o/b);e.rotationInDegrees=d+i*b,g.components.layout.updateRelativeToScreen(m,e,!0)}(n)):r(n),p=e.shiftKey}var s=i.editorPlugins.domMeasurements.selectors.getPreviewPosition,l=t.utils.layoutTransitionsUtil,c=i.editorPlugins.domMeasurements.selectors.translateToViewerCoordinates,p=!1,d=void 0,u=void 0,m=void 0,g=void 0,f=3,h=90,b=15;return{start:function(t,o){m=o.comps,(g=t).selection.setIsMouseUpSelectionEnabled(!1);var i=g.store.getState(),n=e.map(m,"id");g.documentServices.renderPlugins.setCompsToShowOnTop(n);var r=g.components.layout.getRelativeToScreen(m),a=s(i),p=e.defaults({y:r.y+a.top,x:r.x+a.left},r),d=c(i,o.evt),f={x:d.pageX,y:d.pageY};u=new l.Rotate(r,f,p)},on:a,end:function(){var e=g.components.getType(m);g.documentServices.waitForChangesApplied(function(){var t=g.components.layout.get(m).rotationInDegrees;g.bi.event(o.events.editBox.ROTATE_COMPONENT,{value:parseInt(t,10),origin:"editBox",component_type:e})}),g.documentServices.renderPlugins.setCompsToShowOnTop(null),g.history.add("Rotate component")},type:n.MOUSE_ACTION_TYPES.ROTATE}}),define("rEditor/utils/mouseMoveActions/baseDragAndPush",["lodash","core","stateManagement","constants","rEditor/utils/mouseMoveActions/pushingComponentSnapper"],function(e,t,o,i,n){"use strict";function r(t){var o=p.components.getContainer(c),i=p.components.layout.getRelativeToScreen(o),n=function(t){var o=p.components.getSiblings(c),i=e(o).map(function(e){return p.components.layout.getRelativeToScreen(e)}).filter(function(e){return function(e,t){var o=t.x+t.width<=e.x,i=t.x>=e.x+e.width;return!(o||i)&&t.y+t.height<=e.y}(t,e)}).value();if(0===i.length)return 0;var n=e.maxBy(i,function(e){return e.y+e.height});return n.y+n.height}(t);return Math.max(n,i.y)}var a=t.utils.layoutTransitionsUtil,s=o.editorPlugins.domMeasurements.selectors.translateToViewerCoordinates,l=void 0,c=void 0,p=void 0,d=void 0,u=0,m=void 0;return{start:function(t,o){p=t,c=o.comps,n.init(p,c,{top:!0,bottom:!0,centerY:!0}),m=o.onDragAndPushEnd;var i=e.map(c,"id");p.documentServices.renderPlugins.setCompsToShowOnTop(i);var d=e.omit(p.components.layout.getRelativeToScreen(c),"bounding"),g=e.map(c,function(t){return e.omit(p.components.layout.getRelativeToScreen(t),"bounding")});u=r(d);var f=p.store.getState(),h=s(f,o.evt),b={x:h.pageX,y:h.pageY};l=new a.Drag(d,b,g)},on:function(t){var o=p.store.getState(),i=s(o,t),r={x:i.pageX,y:i.pageY},a=l.getLayout(r);a.y=Math.max(a.y,u),n.snapIfPossible(p,a),d=l.getBoundComponentLayouts(a);for(var m=0;m<c.length;m++)p.components.layout.updateRelativeToScreenAndAdjustLayout(c[m],e.pick(d[m],"y"));var g={waitForChangesApplied:p.documentServices.waitForChangesApplied,getRelativeToScreen:p.components.layout.getRelativeToScreen,snapToEnabled:p.getViewTools().snapToEnabled,snapDataSetter:p.snapData.set};n.waitForChangesAppliedAndDrawSnapLines(g,a,c)},end:function(){if(d){for(var t=0;t<c.length;t++)p.components.layout.updateRelativeToScreen(c[t],e.pick(d[t],"y"));d=null}p.documentServices.waitForChangesApplied(function(){n.clear(p),p.documentServices.renderPlugins.setCompsToShowOnTop(null)}),e.isFunction(m)&&m()},type:i.MOUSE_ACTION_TYPES.DRAG_PUSH}}),define("rEditor/rootComps/selectionBox/applyModeFromClipboardSuggestion.rt",["react","lodash","util","symbols"],function(e,t,o,i){"use strict";return function(){return e.createElement("div",{className:"quick-tip",onMouseDown:this.onMouseDown,style:{padding:"6px"}},e.createElement("div",{className:"close-quick-tip",onClick:this.close},e.createElement("span",{},e.createElement(i.symbol,{name:"bubble-close"}))),e.createElement("div",{className:"quick-tip-image"},e.createElement(i.symbol,{name:"idea-bulb"})),e.createElement("div",{className:"text-container",style:{textAlign:"left"}},e.createElement("div",{className:"text"},"\n            ",o.translate(this.props.text),"\n        "),e.createElement("div",{className:"text link-action",onClick:this.onLinkClick},"\n\n            ",o.translate(this.props.linkActionText),"\n        ")))}}),define("rEditor/rootComps/selectionBox/applyModeFromClipboardSuggestion",["create-react-class","prop-types","core","rEditor/rootComps/selectionBox/applyModeFromClipboardSuggestion.rt"],function(e,t,o,i){"use strict";return e({displayName:"applyModeFromClipboardSuggestion",mixins:[o.mixins.editorAPIMixin],propTypes:{text:t.string.isRequired,linkActionText:t.string.isRequired},componentWillUnmount:function(){this.getEditorAPI().copyPaste.hideApplyModeFromClipboardSuggestion()},close:function(){this.getEditorAPI().copyPaste.hideApplyModeFromClipboardSuggestion()},onMouseDown:function(e){e.stopPropagation()},onLinkClick:function(e){e.preventDefault(),this.getEditorAPI().copyPaste.removePastedComponentAndApplyModeFromClipboard()},render:i})}),define("rEditor/utils/mouseMoveActions/baseDoubleClick",["lodash","constants","rEditor/rootComps/gfpp/gfppModel"],function(e,t,o){"use strict";return{doubleClick:function(i,n){var r=i.components.getType(n.comp),a=i.pluginService.getPlugin(i.pluginService.pluginConstants.DOUBLE_CLICK,r);if(e.isFunction(a))a(i,n);else{var s=o.getComponentMainActionClick(i,n.comp);e.isFunction(s)&&s(i,n.comp,t.USER_ACTIONS.ORIGIN.DOUBLE_CLICK)}}}}),define("rEditor/rootComps/selectionBox/editBoxMapper",["lodash","constants","rEditor/utils/mouseMoveActions/baseDoubleClick","util","stateManagement","rEditor/rootComps/selectionBox/selectionBoxCommons"],function(e,t,o,i,n,r){"use strict";function a(e,t,o){var i=e.components.layout.getRelativeToScreen(t),n=e.store.getState();if(o){var r=f(n);i.y+=r.top,i.bounding.y+=r.top,i.x+=r.left,i.bounding.x+=r.left}return i}function s(e,o){return e.components.isShowOnAllPages(o)||e.components.isShowOnSomePages(o)?t.COMPONENT_UI_COLORS.ORANGE:t.COMPONENT_UI_COLORS.BLUE}function l(o,n,r,a,s,l,c){var p=o.components.is.page(n),d=o.documentServices.components.layout.RESIZE_SIDES,u=e.difference(a.resizeableSides,a.disabledKnobs),m=o.components.layout.isPinned(n),g=!i.array.isMultiselect(n)&&o.components.layout.getDock(n)||{},f=o.components.layout.isHorizontallyStretchedToScreen(n),h=a.canResizeDiagonally,y=a.resizeOnlyProportionally,v=o.components.is.group(n),S=function(t,o){var i=t?b.MOBILE:b.DESKTOP;return e.some(o,function(e){return i[e]})}(o.isMobileEditor(),l),P=e.includes(u,d.TOP)&&!S&&(m||a.verticallyResizable),E=e.includes(u,d.BOTTOM)&&!S&&(m||a.verticallyResizable),C=e.includes(u,d.LEFT)&&(m||a.horizontallyResizable),T=e.includes(u,d.RIGHT)&&(m||a.horizontallyResizable),I=!f&&(P&&C&&h||y&&!g.top&&!g.left),_=!f&&(P&&T&&h||y&&!g.top&&!g.right),O=!f&&(E&&C&&h||y&&!g.bottom&&!g.left),M=!f&&(E&&T&&h||y&&!g.bottom&&!g.right),w=o.siteSegments.getGaps(),A="FooterContainer"===s,R=e.has(w,"pagesToFooterGap"),D=A&&R,k=p&&e.has(w,"headerToPagesGap"),x=p&&e.some(n,function(e){return o.pages.popupPages.isPopup(e.id)});return{top:!c&&!v&&P,bottom:!c&&!v&&E,left:!c&&!v&&C,right:!c&&!v&&T,topLeft:I,topRight:_,bottomLeft:O,bottomRight:M,closeGaps:k||D,dragAndPush:function(e,t,o,i){var n=e.components.layout.containsSiblingsOnly(t),r=e.components.layout.isPinned(t),a=e.components.is.repeaterItem(t)||e.components.is.descendantOfRepeaterItem(t),s=0!==o.rotationInDegrees;return n&&(i.verticallyMovable||i.canMoveUp)&&i.anchorableFrom&&!r&&!a&&!s}(o,n,r,a),resizeOnlyProportionally:a.resizeOnlyProportionally,resizeAndPush:function(o,n,r,a){var s=e.some(n,function(e){return o.components.getType(e)===t.COMP_TYPES.POPUP_CONTAINER}),l=o.components.is.repeaterItem(n)||o.components.is.descendantOfRepeaterItem(n),c=0!==r.rotationInDegrees,p=i.array.isMultiselect(n),d=o.components.is.group(n),u=o.components.layout.isPinned(n);return!p&&a.verticallyResizable&&a.canResizeWithAnchors&&!a.resizeOnlyProportionally&&!u&&!s&&!d&&!l&&!c}(o,n,r,a),rotate:a.rotatable&&!m,bottomPage:p&&!x||A&&!R}}function c(n){var c=n.store.getState(),d=m(c),f=g(c),b=n.components.layout.isShowOnFixedPosition(f),y=a(n,f,b),v=i.array.isMultiselect(f),S=v?f:n.components.getChildren(f),P=r.getPosition(b),E=p.getCompTypeSuffix(f,n.documentServices),C=e.map(f,function(e){return n.components.getType(e)}),T=n.components.data.get(e.head(f)),I=n.components.is.groupedComponent(f),_=r.getBoundingStyle(b,y,f,1),O=n.components.is.page(f),M=n.documentServices.siteSegments.getPagesContainer(),w=n.documentServices.siteSegments.getFooter(),A=n.documentServices.siteSegments.getSiteStructure(),R=O?n.getCompRestrictions(M):u(c),D=!v&&("SITE_FOOTER"===f[0].id||"SITE_HEADER"===f[0].id||O),k=R.isControlledByParent&&n.getCompRestrictions(n.components.getContainer(f));return{comps:f,compType:E,compTypes:C,position:P,layout:y,subComps:S,isSiteSegmentComponent:D,focusedContainer:d,subCompLayouts:function(e,t){return t.reduce(function(o,i){var n=t&&e.components.layout.isShowOnFixedPosition(i);return o[i.id]=a(e,i,n),o},{})}(n,S),isShowOnAllPages:n.components.isShowOnAllPages(f),componentUIColor:s(n,f),subComponentsUIColor:function(e,t){return t.reduce(function(t,o){return t[o.id]=s(e,o),t},{})}(n,S),possibleLayoutActionsMap:R,relativeToStructureLayout:n.components.layout.getRelativeToStructure(f),isHorizontallyStretchedToScreen:n.components.layout.isHorizontallyStretchedToScreen(f),isSameRef:n.utils.isSameRef,registerMouseMoveAction:n.mouseActions.registerMouseMoveAction,biEvent:n.bi.event,componentType:v?"multiselect":E,setIsMouseUpSelectionEnabled:n.selection.setIsMouseUpSelectionEnabled,updateLayout:n.components.layout.update,addToHistory:n.history.add,isGroupedComponent:I,areComponentsOfSamePage:n.components.areComponentsOfSamePage(f),isMultiSelectKeyPressed:n.selection.isMultiSelectKeyPressed,doubleClick:e.partial(o.doubleClick,n),compsWithoutSelectedAncestors:n.components.getComponentsWhichDontHaveAncestorsInTheArray(f),moveToFooter:n.components.moveToFooter,compsData:T,isMultiselect:v,isMobile:n.documentServices.viewMode.get()===n.documentServices.viewMode.VIEW_MODES.MOBILE,isMobileEditor:n.isMobileEditor(),boundingStyle:_,isShowOnFixedPosition:b,isCurrentPageLandingPage:n.isCurrentPageLandingPage(),pagesContainer:M,isPage:O,isDirectChildOfMasterPage:n.utils.isSameRef(n.components.getContainer(f),A),pagesContainerLayout:n.components.layout.getRelativeToScreen(M),footerLayout:n.components.layout.getRelativeToScreen(w),getGaps:n.siteSegments.getGaps,updateGaps:n.siteSegments.updateGaps,isUsingSectionsLayout:n.siteSegments.isUsingSectionsLayout(),canToggleShowOnAllPages:R.canToggleShowOnAllPages,isEditingText:n.text.isEditingText(),reAddedHiddenElement:n.mobile.hiddenComponents.getReAddedHiddenElement(),dimCompLabels:n.panelManager.getPanelsOfType(t.PANEL_TYPES.COMP).length>0,isContainsSiblingsOnly:n.components.layout.containsSiblingsOnly(f),isDeveloperModeEnabled:n.developerMode.isEnabled(),hideApplyModeFromClipboardSuggestion:n.copyPaste.hideApplyModeFromClipboardSuggestion,compNickname:n.components.getNickname(f[0]),siteSegmentsLabelsOffset:n.isMobileEditor()?0:n.siteSegments.getPagesContainerAbsLayout().x+h,compLinkValue:T&&i.link.getLinkValueAsString(n,T.link),groupAncestorStyle:function(e,t,o,i,n){var a=!o&&i?r.findFirstContainerMatchingConditions(e,t,[e.components.is.group]):null;if(!a)return null;var s=e.components.layout.getRelativeToScreen(a);return r.getBoundingStyle(n,s,t,1)}(n,f,v,I,b),setRotateKnobRect:n.setEditBoxRotateKnobRect,knobsMap:l(n,f,y,R,E,C,v),dimmedHandles:!1,draggable:k?(k.horizontallyMovable||k.verticallyMovable)&&!v:(R.horizontallyMovable||R.verticallyMovable)&&!v}}var p=n.editorPlugins.components.selectors,d=n.editorPlugins.selection.selectors,u=d.getSelectedCompRestrictions,m=d.getFocusedContainer,g=d.getSelectedCompsRefs,f=n.editorPlugins.domMeasurements.selectors.getPreviewPosition,h=2,b={DESKTOP:{"wysiwyg.viewer.components.HeaderContainer":!0,"wysiwyg.viewer.components.FooterContainer":!0},MOBILE:{"wysiwyg.viewer.components.HeaderContainer":!0,"wysiwyg.viewer.components.SiteRegionContainer":!0,"wysiwyg.viewer.components.FooterContainer":!0}};return c}),define("rEditor/rootComps/selectionBox/groupSelectionFrame.rt",["react","lodash"],function(e,t){"use strict";return function(){return e.createElement("div",{},this.props.groupAncestorStyle?e.createElement("div",{key:"markContainer",className:t({layout:!0,"secondary-component":!0}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),style:this.props.groupAncestorStyle}):null)}}),define("rEditor/rootComps/selectionBox/groupSelectionFrame",["create-react-class","prop-types","lodash","rEditor/rootComps/selectionBox/groupSelectionFrame.rt"],function(e,t,o,i){"use strict";return e({displayName:"groupSelectionFrame",PropTypes:{selectedComponents:t.oneOfType([t.object,t.arrayOf(t.object)]).isRequired,groupAncestorStyle:t.object},render:i})}),define("rEditor/rootComps/selectionBox/componentLabels.rt",["react","lodash","baseUI","constants"],function(e,t,o,i){"use strict";return function(){return e.createElement("span",{className:t(this.getContainerClasses()).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),style:this.props.labelInlineStyles},this.props.isPinnedToPage?e.createElement("span",{key:"pinModeIndicator",className:t(this.getPinSymbolContainerClasses()).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},e.createElement(o.symbol,{name:"pinModeIndicator",className:"symbol-pinModeIndicator"})):null,this.props.showComponentType&&this.props.componentType?e.createElement("span",{key:"componentTypeLabel",className:t(this.getComponentTypeLabelClasses()).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},this.props.componentType):null,this.props.showComponentNickname&&this.props.componentNickname?e.createElement(o.tooltip,{value:"PLATFORM_CONNECTED_ELEMENT_SETTINGS_TOOLTIP",styleType:"normal",alignment:i.UI.TOOLTIP.ALIGNMENT.TOP,key:"componentNicknameLabel",disabled:!this.props.isConnected,shouldTranslate:!0},e.createElement("span",{className:t(this.getComponentNicknameClasses()).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")}," ",this.props.componentNickname)):null,this.props.infoText&&this.props.shouldShowConnectionIndication?e.createElement(o.infoIcon,{key:"infoIcon",className:"label-info-icon-container",text:this.props.infoText,symbolName:"connectedInfoIcon"}):null)}}),define("rEditor/rootComps/selectionBox/componentLabels",["lodash","constants","create-react-class","prop-types","rEditor/rootComps/selectionBox/componentLabels.rt"],function(e,t,o,i,n){"use strict";return o({displayName:"componentLabels",propTypes:{showComponentType:i.bool,showComponentNickname:i.bool,shouldShowConnectionIndication:i.bool,isLabelLarge:i.bool,isLabelBelowLine:i.bool,componentUIColor:i.oneOf(e.values(t.COMPONENT_UI_COLORS)),isPinnedToPage:i.bool,componentType:i.string,componentNickname:i.string,labelInlineStyles:i.object,isDimmed:i.bool,isLabelBottom:i.bool},getContainerClasses:function(){return{"component-labels":!0,"label-small":!this.props.isLabelLarge,"label-large":this.props.isLabelLarge,"label-above-line":!this.props.isLabelBelowLine,dimmed:this.props.isDimmed,"label-bottom":this.props.isLabelBottom,"label-top":!this.props.isLabelBottom}},getComponentTypeLabelClasses:function(){return{"label-comp-type":!0,"components-ui-color-orange":this.props.componentUIColor===t.COMPONENT_UI_COLORS.ORANGE}},getComponentNicknameClasses:function(){return{"label-comp-nickname":!0,"components-ui-color-orange":this.props.componentUIColor===t.COMPONENT_UI_COLORS.ORANGE}},getPinSymbolContainerClasses:function(){return{"symbol-container":!0,"connected-comp":this.props.showComponentNickname&&this.props.isConnected,"components-ui-color-orange":this.props.componentUIColor===t.COMPONENT_UI_COLORS.ORANGE}},render:n})}),define("rEditor/rootComps/selectionBox/editBox.rt",["react","lodash","coreBi","baseUI","baseUILib","util","rEditor/rootComps/selectionBox/groupSelectionFrame","rEditor/rootComps/selectionBox/componentLabels","experiment","constants"],function(e,t,o,i,n,r,a,s,l,c){"use strict";return function(){function l(){var l=this.props.knobsMap,p=r.translate;return e.createElement.apply(this,["div",{className:t(this.getEditBoxClasses()).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onContextMenu:this.props.onContextMenu,onDoubleClick:this.onDoubleClick},this.hasSubComponents()?t.map(this.props.subComps,function(o,i,n,r){return e.createElement("div",{className:t(this.getSubComponentLayoutClasses(n.id)).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),key:r,style:this.getLayoutStyle(this.props.subCompLayouts[n.id])})}.bind(this,l,p)):null,e.createElement(a,{selectedComponents:this.props.comps,groupAncestorStyle:this.props.groupAncestorStyle}),this.shouldShowPadding()?function(t,o){var i=this.getPaddingStyle();return e.createElement("div",{className:"padding-wrapper",key:"paddingWrapper",style:i.wrapper},e.createElement("div",{className:"left-padding",style:i.left},e.createElement("div",{className:"min-indicator-margin",style:{top:this.getMarginLabelTop()}},this.props.possibleLayoutActionsMap.resizable&&this.isHorizontallyStretchedToScreen?e.createElement("span",{className:"indicator resizing",key:"resizeBoundingStyleLeft"},this.getMarginValue("left"),"\n                "):null)),e.createElement("div",{className:"right-padding",style:i.right},e.createElement("div",{className:"min-indicator-margin",style:this.props.layout.x<56?{right:0,position:"absolute",top:this.getMarginLabelTop()}:{top:this.getMarginLabelTop()}},this.props.possibleLayoutActionsMap.resizable&&this.isHorizontallyStretchedToScreen?e.createElement("span",{className:"indicator resizing",key:"resizeBoundingStyleRight"},this.getMarginValue("right"),"\n                "):null)))}.apply(this,[l,p]):null,e.createElement(n.Tooltip,this.getTooltipProps(),e.createElement("div",{className:t(this.getBoundingClasses()).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),style:this.props.boundingStyle},this.shouldShowDragBounding()?e.createElement("span",{className:"indicator dragging",key:"dragBoundingStyle"},"\n                x: ",parseInt(this.props.relativeToStructureLayout.bounding.x,10),", y: ",parseInt(this.props.relativeToStructureLayout.bounding.y,10),"\n            "):null,!this.props.possibleLayoutActionsMap.resizable&&!this.props.possibleLayoutActionsMap.resizeOnlyProportionally||this.isHorizontallyStretchedToScreen?null:e.createElement("span",{className:"indicator resizing",key:"resizeBoundingStyle"},"\n                     W: ",parseInt(this.props.relativeToStructureLayout.bounding.width,10),", H: ",parseInt(this.props.relativeToStructureLayout.bounding.height,10),"\n            "))),e.createElement(i.tooltip,{id:this.getLinkedToTooltipId(this.props.compsData),key:this.getLinkedToTooltipId(this.props.compsData),value:this.getLinkDescriptionFromData(this.props.compsData),alignment:"right",delay:"500",width:"260px",marginsFromElement:9,disabled:!this.shouldShowLinkedToTooltip(),shouldTranslate:!1,openTriggers:[c.UI.TOOLTIP.TRIGGERS.IMMEDIATE,c.UI.TOOLTIP.TRIGGERS.MOUSE_ENTER]},e.createElement("div",{className:t(this.getLayoutClasses()).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),style:this.props.isMultiselect?this.props.boundingStyle:this.getLayoutStyle(this.props.layout)},this.props.comps&&1===this.props.comps.length?e.createElement(s,{key:"compLabels",shouldShowConnectionIndication:this.shouldShowConnectionIndication(),showComponentNickname:this.props.isDeveloperModeEnabled,infoText:"PLATFORM_ONSTAGE_CONNECTED_ELEMENT_LABEL",isLabelLarge:this.props.isSiteSegmentComponent,isLabelBelowLine:this.isSiteHeaderSelected(this.props.comps[0]),componentUIColor:this.props.componentUIColor,componentNickname:this.getComponentNickname(),labelInlineStyles:this.getComponentLabelsInlineStyles(),isDimmed:this.props.dimCompLabels,isLabelBottom:this.isSiteHeaderSelected(this.props.comps[0])}):null,l.topLeft?e.createElement("span",{className:this.getResizeHandleCursorClass("TOP_LEFT")+" handle handle-resize-corner top left","data-direction-name":"topLeft",ref:"resizeTopLeft",onMouseDown:this.startResize,key:"resizeTopLeft"}):null,l.top?e.createElement("span",{className:this.getResizeHandleCursorClass("TOP")+" handle handle-resize-side top","data-direction-name":"top",onMouseDown:this.startResize,key:"resizeTopCenter"}):null,l.topRight?e.createElement("span",{className:this.getResizeHandleCursorClass("TOP_RIGHT")+" handle handle-resize-corner top right","data-direction-name":"topRight",onMouseDown:this.startResize,key:"resizeTopRight"}):null,l.right?e.createElement("span",{className:this.getResizeHandleCursorClass("RIGHT")+" handle handle-resize-side right","data-direction-name":"right",onMouseDown:this.startResize,key:"resizeMiddleRight"}):null,l.bottomRight?e.createElement("span",{className:this.getResizeHandleCursorClass("BOTTOM_RIGHT")+" handle handle-resize-corner bottom right","data-direction-name":"bottomRight",onMouseDown:this.startResize,key:"resizeBottomRight"}):null,l.bottom?e.createElement("span",{className:this.getResizeHandleCursorClass("BOTTOM")+" handle handle-resize-side bottom","data-direction-name":"bottom",onMouseDown:this.startResize,key:"resizeBottomCenter"}):null,l.bottomPage?e.createElement(i.tooltip,{id:"pageResizeKnobTooltip",key:"pageResizeKnobTooltip",value:"OnStage_PageMinHeightHandle_Tooltip",alignment:"top",delay:"500",openTriggers:[],closeTriggers:[],onOpen:function(e,t){this.props.biEvent(o.events.pageResize.PAGE_MIN_HEIGHT_TOOLTIP_APPEARED)}.bind(this,l,p)},e.createElement("span",{id:"resize-page",className:t({"footer-handle":"FooterContainer"===this.props.compType}).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")+" "+this.getDragHandlersClass("resize","push"),onMouseDown:this.startPageResize,onDoubleClick:this.resetPageSize,onMouseEnter:this.showPageResizeKnobTooltip,onMouseLeave:this.hidePageResizeKnobTooltip,key:"resizeBottomPage"},e.createElement(i.symbol,{name:"adjustPageHeightButtonIcon"}),"\n                ",r.translate("OnStage_PageMinHeightHandle_Label"),"\n\n            ")):null,l.bottomLeft?e.createElement("span",{className:this.getResizeHandleCursorClass("BOTTOM_LEFT")+" handle handle-resize-corner bottom left","data-direction-name":"bottomLeft",onMouseDown:this.startResize,key:"resizeBottomLeft"}):null,l.left?e.createElement("span",{className:this.getResizeHandleCursorClass("LEFT")+" handle handle-resize-side left","data-direction-name":"left",onMouseDown:this.startResize,key:"resizeMiddleLeft"}):null,l.rotate?e.createElement("span",{className:"handle handle-rotate",onMouseDown:this.startRotate,key:"rotate",ref:"rotate"},e.createElement(i.symbol,{name:"rotate"})):null,l.rotate&&this.isComponentRotated()?e.createElement("span",{className:"handle handle-rotate-cancel",onMouseDown:this.cancelRotation,style:{transform:"rotate("+(360-this.props.layout.rotationInDegrees)+"deg) translate3d(0,0,0)"},key:"cancelRotate",ref:"cancelRotate"},e.createElement(i.symbol,{name:"rotateCancel"})):null,l.dragAndPush?e.createElement(i.tooltip,{id:"dragWithAnchorsVerticalTooltip",key:"dragWithAnchorsVerticalTooltip",value:"ONSTAGE_DragHandle_Tooltip",alignment:"top",openTriggers:[],closeTriggers:[]},e.createElement("span",{className:this.getDragHandlersClass("drag","push"),onMouseEnter:this.showDragWithAnchorsKnobTooltip,onMouseLeave:this.hideDragWithAnchorsKnobTooltip,onMouseDown:this.startDragAndPush,key:"dragWithAnchorsVertical"},e.createElement(i.symbol,{name:"pushAndEnforceAnchors"}),"\n            ",r.translate("ONSTAGE_DragHandle_Hover_Text"))):null,l.closeGaps?e.createElement(i.tooltip,{id:"closeGapsKnobTooltip",key:"closeGapsTooltip",value:this.props.isPage?"Onstage_DragPage_CloseGap_Tooltip":"OnStage_DragFooter_CloseGap_Tooltip",alignment:"top",openTriggers:[],closeTriggers:[]},e.createElement("span",{className:this.getDragHandlersClass("drag","pull"),onMouseEnter:this.showCloseGapsKnobTooltip,onMouseLeave:this.hideCloseGapsKnobTooltip,onDoubleClick:this.closeGap.bind(this,this.props.isPage),onMouseDown:this.startCloseGap},e.createElement(i.symbol,{name:"pullAndEnforceAnchors"}),r.translate(this.props.isPage?"Onstage_DragPage_CloseGap_Label":"OnStage_DragFooter_CloseGap_Label"))):null,l.resizeAndPush?e.createElement(i.tooltip,{id:"resizeWithAnchorsBottomTooltip",key:"resizeWithAnchorsBottomTooltip",value:"OnStage_StretchHandle_Tooltip",alignment:"bottom",openTriggers:[],closeTriggers:[]},e.createElement("span",{className:this.getDragHandlersClass("resize","push"),onMouseEnter:this.showResizeWithAnchorsKnobTooltip,onMouseLeave:this.hideResizeWithAnchorsKnobTooltip,onMouseDown:this.startResizeAndPush,key:"resizeWithAnchorsBottom"},e.createElement(i.symbol,{name:"resizeAndEnforceAnchors"}),"\n            ",r.translate("OnStage_StretchHandle_Hover_Text"))):null,this.props.possibleLayoutActionsMap.rotatable?e.createElement("span",{className:"indicator",style:{transform:"rotate("+(360-this.props.layout.rotationInDegrees)+"deg) translate3d(0,0,0)"},key:"rotationIndicator"},Math.floor(this.props.layout.rotationInDegrees),"°\n        "):null)),this.canBeMovedToFooter()?e.createElement("span",{className:"move-to-footer",key:"moveToFooter",style:this.getMoveToFooterStyle(),onMouseDown:this.moveToFooter},p("OnStage_MoveToFooter_Button"),"\n\n            ",e.createElement(i.symbol,{name:"moveToFooterArrow"})):null])}return l.apply(this,[])}}),define("rEditor/rootComps/selectionBox/editBox",["react","create-react-class","prop-types","lodash","constants","baseUI","experiment","rEditor/utils/mouseMoveActions/closeGaps","rEditor/utils/mouseMoveActions/baseResize","rEditor/utils/mouseMoveActions/pageResize","rEditor/utils/mouseMoveActions/baseResizeAndPush","rEditor/utils/mouseMoveActions/baseRotate","rEditor/utils/mouseMoveActions/baseDragAndPush","rEditor/rootComps/selectionBox/applyModeFromClipboardSuggestion","util","higherOrderComponents","rEditor/rootComps/selectionBox/editBoxMapper","coreBi","rEditor/rootComps/selectionBox/editBox.rt"],function(e,t,o,i,n,r,a,s,l,c,p,d,u,m,g,f,h,b,y){"use strict";function v(e,t){var o=t-(e.bounding.y+e.bounding.height);return o>=0&&o<=S}var S=21,P={px:"px",pct:"%",vw:"%"},E=["TOP_LEFT","TOP","TOP_RIGHT","RIGHT","BOTTOM_RIGHT","BOTTOM","BOTTOM_LEFT","LEFT"],C=["top-left-resize-cursor","top-resize-cursor","top-right-resize-cursor","right-resize-cursor","bottom-right-resize-cursor","bottom-resize-cursor","bottom-left-resize-cursor","left-resize-cursor"],T=t({displayName:"editBox",propTypes:{comps:o.oneOfType([o.object,o.arrayOf(o.object)]).isRequired,isPinMode:o.bool,isConnectedToDataBinding:o.bool,isSiteSegmentComponent:o.bool,isDim:o.bool,isResizing:o.bool,isDragging:o.bool,isRotating:o.bool,applyModeFromClipboardSuggestion:o.object,labelsOffset:o.number,siteSegmentsLabelsOffset:o.number,layout:o.object,subComps:o.array,subCompLayouts:o.object,isShowOnAllPages:o.bool,componentUIColor:o.oneOf(i.values(n.COMPONENT_UI_COLORS)),subComponentsUIColor:o.object,possibleLayoutActionsMap:o.object,relativeToStructureLayout:o.object,isHorizontallyStretchedToScreen:o.bool,isSameRef:o.func,registerMouseMoveAction:o.func,biEvent:o.func,componentType:o.string,setIsMouseUpSelectionEnabled:o.func,updateLayout:o.func,addToHistory:o.func,isGroupedComponent:o.bool,isGroup:o.bool,areComponentsOfSamePage:o.bool,compType:o.oneOfType([o.string,o.arrayOf(o.string)]),compTypes:o.array,isMultiSelectKeyPressed:o.func,doubleClick:o.func,compsWithoutSelectedAncestors:o.oneOfType([o.object,o.arrayOf(o.object)]),moveToFooter:o.func,compsData:o.object,isMultiselect:o.bool,isMobile:o.bool,isMobileEditor:o.bool,boundingStyle:o.object,isShowOnFixedPosition:o.bool,isCurrentPageLandingPage:o.bool,pagesContainer:o.object,isPage:o.bool,pagesContainerLayout:o.object,footerLayout:o.object,updateGaps:o.func,getGaps:o.func,isDirectChildOfMasterPage:o.bool,isUsingSectionsLayout:o.bool,canToggleShowOnAllPages:o.bool,isEditingText:o.bool,reAddedHiddenElement:o.object,dimCompLabels:o.bool,isDeveloperModeEnabled:o.bool,hideApplyModeFromClipboardSuggestion:o.func,compNickname:o.string,compLinkValue:o.string,groupAncestorStyle:o.object,position:o.string,setRotateKnobRect:o.func,knobsMap:o.object,dimmedHandles:o.bool,draggable:o.bool},getEditBoxClasses:function(){return{"edit-box":!0,small:this.props.layout.width<=50,"dimmed-handles":this.props.dimmedHandles,draggable:this.props.draggable,"show-move-to-footer-button":this.shouldShowMoveToFooterButton,dragging:this.props.isDragging,resizing:this.props.isResizing,rotating:this.props.isRotating,"multi-select":this.props.isMultiselect}},isComponentRotated:function(){return 0!==this.props.layout.rotationInDegrees},getLayoutStyle:function(e){var t="rotate("+e.rotationInDegrees+"deg)",o={position:this.props.position,top:e.y-1,left:e.x-1,width:e.width,height:e.height,transform:t,WebkitTransform:t};if("StripColumnsContainer"===this.props.compType&&(o.boxSizing="border-box",o.height+=1),this.props.isSiteSegmentComponent&&(o.top=e.y-3,o.left=e.x-3),a.isOpen("se_editBoxPerformance")){var i="translate3d("+(e.x-1)+"px,"+(e.y-1)+"px,0) "+t;o.left=0,o.top=0,o.transform=i,o.WebkitTransform=i}return o},getMoveToFooterStyle:function(e){return{top:(e=e||this.props.layout).bounding.y+e.bounding.height-14,left:e.bounding.x+e.bounding.width/2}},shouldShowPadding:function(){return a.isOpen("se_screenWidthEditBox")&&this.isHorizontallyStretchedToScreen},getPaddingStyle:function(){var e=this.props.isShowOnFixedPosition?"fixed":"absolute";return{wrapper:{top:this.props.layout.y-1,height:this.props.layout.height+2,position:e},left:{top:0,bottom:0,left:0,width:this.props.layout.x},right:{top:0,bottom:0,left:this.props.layout.x+this.props.layout.width,right:0}}},componentWillReceiveProps:function(e){var t=!e.isSameRef(this.props.comps,e.comps);this.props.isResizing||this.props.isRotating||this.props.isPinMode||t?this.shouldShowMoveToFooterButton=!1:e.isDragging&&(this.shouldShowMoveToFooterButton=this.getShouldShowMoveToFooterButton(e))},getResizeHandleCursorClass:function(e){var t=i.indexOf(E,e),o=this.props.layout.rotationInDegrees+22.5;o>=360&&(o-=360);var n=t+Math.floor(o/45);n>=C.length&&(n-=C.length);return C[n]},getShouldShowMoveToFooterButton:function(e){return!(e.isMobileEditor||e.isCurrentPageLandingPage||e.isShowOnFixedPosition||e.isEditingText)&&(e.isUsingSectionsLayout&&e.isDirectChildOfMasterPage?v(e.layout,e.footerLayout.y):!(e.isShowOnAllPages||!e.canToggleShowOnAllPages)&&v(e.layout,e.pagesContainerLayout.y+e.pagesContainerLayout.height))},startPageResize:function(e){this.props.registerMouseMoveAction(c,{evt:e,comps:this.props.comps}),this.hidePageResizeKnobTooltip(),e.stopPropagation()},resetPageSize:function(e){c.reset(),this.props.biEvent(b.events.pageResize.PAGE_MIN_HEIGHT_RESET_MIN_HEIGHT),e.stopPropagation()},startResize:function(e){var t=e.target.getAttribute("data-direction-name");this.props.registerMouseMoveAction(l,{evt:e,directionName:t,comps:this.props.comps}),this.props.biEvent(b.events.editBox.RESIZE,{origin:"editBox",handle_value:t,component_type:this.props.componentType}),e.stopPropagation()},startRotate:function(e){this.props.registerMouseMoveAction(d,{evt:e,comps:this.props.comps}),e.stopPropagation()},cancelRotation:function(e){this.props.setIsMouseUpSelectionEnabled(!1),this.props.updateLayout(this.props.comps,{rotationInDegrees:0}),this.props.biEvent(b.events.editBox.CANCEL_ROTATE_COMPONENT),this.props.addToHistory("Rotation canceled"),e.stopPropagation()},canBeMovedToFooter:function(){return!this.props.isGroupedComponent&&this.props.areComponentsOfSamePage},startDragAndPush:function(e){this.props.registerMouseMoveAction(u,{evt:e,comps:this.getCompToDragAndPush()}),this.props.biEvent(b.events.editBox.DRAG_BY_HANDLE,{component_type:this.props.compType}),this.hideKnobTooltip("dragWithAnchorsVerticalTooltip"),e.stopPropagation()},startCloseGap:function(e){this.props.registerMouseMoveAction(s,{evt:e,comps:this.props.comps}),this.hideKnobTooltip("closeGapsKnobTooltip"),e.stopPropagation()},closeGap:function(e,t){var o=e?"headerToPagesGap":"pagesToFooterGap",n=i.set({},o,0);this.props.updateGaps(n),this.props.biEvent(b.events.editBox.DRAG_GAP,{gap_type:o,gap_size_start:i.get(this.props.getGaps(),o),gap_size_end:0}),this.props.addToHistory("gap removed"),t.stopPropagation()},startResizeAndPush:function(e){this.props.registerMouseMoveAction(p,{evt:e,comps:this.props.comps}),this.props.biEvent(b.events.editBox.RESIZE_BY_HANDLE,{component_type:this.props.compType}),this.hideKnobTooltip("resizeWithAnchorsBottomTooltip"),e.stopPropagation()},onDoubleClick:function(e){if(!this.props.isMultiSelectKeyPressed(e)){var t={evt:e,comp:this.props.comps};this.props.doubleClick(t)}},showKnobTooltip:function(e){this.props.isResizing||this.props.isDragging||(this.showTooltipTimeout=window.setTimeout(function(){r.tooltipManager.show(e)},800))},hideKnobTooltip:function(e){this.showTooltipTimeout&&(window.clearTimeout(this.showTooltipTimeout),this.showTooltipTimeout=null),r.tooltipManager.hide(e)},showDragWithAnchorsKnobTooltip:function(){this.showKnobTooltip("dragWithAnchorsVerticalTooltip")},showResizeWithAnchorsKnobTooltip:function(){this.showKnobTooltip("resizeWithAnchorsBottomTooltip")},showPageResizeKnobTooltip:function(){this.showKnobTooltip("pageResizeKnobTooltip")},showCloseGapsKnobTooltip:function(){this.showKnobTooltip("closeGapsKnobTooltip")},hidePageResizeKnobTooltip:function(){this.hideKnobTooltip("pageResizeKnobTooltip")},hideDragWithAnchorsKnobTooltip:function(){this.hideKnobTooltip("dragWithAnchorsVerticalTooltip")},hideCloseGapsKnobTooltip:function(){this.hideKnobTooltip("closeGapsKnobTooltip")},hideResizeWithAnchorsKnobTooltip:function(){this.hideKnobTooltip("resizeWithAnchorsBottomTooltip")},moveToFooter:function(e){this.props.moveToFooter(this.props.compsWithoutSelectedAncestors),this.props.biEvent(b.events.editBox.MOVE_TO_FOOTER,{component_type:this.props.compType}),this.shouldShowMoveToFooterButton=!1,e.stopPropagation()},hasSubComponents:function(){return this.props.isGroup||"StripColumnsContainer"===this.props.compType||this.props.isMultiselect},setRotateKnobRect:function(){if(!this.isDuringMouseAction()){var e=this.props.layout.rotationInDegrees?this.refs.cancelRotate&&this.refs.cancelRotate.getBoundingClientRect():this.refs.rotate&&this.refs.rotate.getBoundingClientRect(),t=i.pick(e,["x","y","width","height","top","right","bottom","left"]);e&&this.props.setRotateKnobRect(t)}},getMarginLabelTop:function(){return this.props.layout.height/2-30},getLinkedToTooltipId:function(e){return e?"linkedTo-"+e.id:"linkedTo"},getLinkDescriptionFromData:function(t){if(!t)return"";var o=g.translate("mobile_link_notification_tooltip"),i=this.props.compLinkValue;return e.createElement(r.popoverTemplates.iconAndText,{text:o+" "+i,icon:"mobileCompWithLink",shouldTranslate:!1})},isDuringMouseAction:function(){return this.props.isDragging||this.props.isResizing||this.props.isRotating},shouldShowLinkedToTooltip:function(){var e=!(!this.props.compsData||!this.props.compsData.link),t=i.get(this.props.reAddedHiddenElement,"addingPhase")!==n.LEFT_BAR.MOBILE_HIDDEN_ELEMENTS.PROGRESS.IDLE;return this.props.isMobile&&!this.isDuringMouseAction()&&!this.props.isMultiselect&&e&&!t},getMarginValue:function(e){var t=this.props.layout.docked&&this.props.layout.docked[e].px>=0?"px":"vw";return this.props.layout.docked&&this.props.layout.docked[e][t]+P[t]},getApplyModeFromClipboardSuggestion:function(){return e.createElement(m,{text:"HOVER_BOX_PASTE_FROM_CLIPBOARD_MSG_TEXT",linkActionText:"HOVER_BOX_PASTE_FROM_CLIPBOARD_MSG_BUTTON"})},shouldShowDragBounding:function(){var e=i.every(this.props.compTypes,function(e){return"platform.components.AppController"===e});return this.props.possibleLayoutActionsMap.movable&&!e},shouldShowConnectionIndication:function(){return this.props.isConnectedToDataBinding&&!this.props.isDragging},isSiteHeaderSelected:function(e){return"SITE_HEADER"===e.id},shouldShowMobileReAddedBubble:function(){var e=i.get(this.props.reAddedHiddenElement,["compRef","id"]),t=!!e&&i.get(i.head(this.props.comps),"id")===e,o=i.get(this.props.reAddedHiddenElement,"addingPhase")===n.LEFT_BAR.MOBILE_HIDDEN_ELEMENTS.PROGRESS.FINISH;return this.props.isMobileEditor&&t&&o},getComponentNickname:function(){return"#"+this.props.compNickname},getComponentLabelsInlineStyles:function(){return this.props.isSiteSegmentComponent?{left:this.props.siteSegmentsLabelsOffset}:{left:this.props.labelsOffset}},getCompToDragAndPush:function(){return this.props.isPage?[this.props.pagesContainer]:this.props.compsWithoutSelectedAncestors},componentDidMount:function(){this.setRotateKnobRect()},componentDidUpdate:function(){this.setRotateKnobRect()},getTooltipProps:function(){if(this.shouldShowMobileReAddedBubble())return{id:"reAddedMobileCompRef",key:"reAddedMobileCompRef",content:"mobile_hidden_items_show_success_tooltip",alignment:"RIGHT",isOpen:!0,openOnMouseEnter:!1,closeOnMouseLeave:!1};if(this.props.applyModeFromClipboardSuggestion){var e=this.props.isSameRef(this.props.comps,this.props.applyModeFromClipboardSuggestion.selectedComponents);return{id:"applyModeFromClipboardSuggestion",key:"applyModeFromClipboardSuggestion",content:this.getApplyModeFromClipboardSuggestion(),onOuterClick:this.props.hideApplyModeFromClipboardSuggestion,maxWidth:320,isOpen:e,alignment:"LEFT"}}return{isOpen:!1,openOnMouseEnter:!1}},getDragHandlersClass:function(e,t){var o="handle handle-"+t+" handle-"+e+"-with-anchors";if(a.isOpen("se_showTextOnDragAnchors")){if(this.props.layout.width>=400)return o+" showHover"}return o},getSubComponentLayoutClasses:function(e){return{layout:!0,"secondary-component":this.props.isGroup,"components-ui-color-orange":this.props.subComponentsUIColor[e]===n.COMPONENT_UI_COLORS.ORANGE}},getBoundingClasses:function(){return{bounding:!0,"components-ui-color-orange":this.props.componentUIColor===n.COMPONENT_UI_COLORS.ORANGE}},getLayoutClasses:function(){return{layout:!0,"secondary-component":this.props.isMultiselect,"components-ui-color-orange":this.props.componentUIColor===n.COMPONENT_UI_COLORS.ORANGE,"site-segments-component":this.props.isSiteSegmentComponent}},render:y}),I=f.connectEditorAPI(h)(f.renderWhenMutated(T));return I.pure=T,I}),define("rEditor/rootComps/compControls/compControls.rt",["react","lodash","rEditor/rootComps/gfpp/gfpp","rEditor/rootComps/selectionBox/focusBox","rEditor/rootComps/selectionBox/editBox","core","experiment"],function(e,t,o,i,n,r,a){"use strict";return function(){return e.createElement("div",{style:{visibility:1===this.props.siteScale?"visible":"hidden"},onMouseEnter:this.props.clearHoverBox},this.props.panel?e.createElement(r.lazyComponent,t.assign({},{ref:"compPanel",moduleName:this.props.panel.name,key:r.lazyComponent.isLoaded(this.props.panel.name)?this.props.panel.name:"loading",onModuleLoaded:function(){this.forceUpdate()}.bind(this)},this.getPanelProps())):null,this.getColumnsContainer()?e.createElement(r.lazyComponent,t.assign({},{moduleName:"columnsControls",key:"columnsControls"},this.getColumnsControlsProps())):null,this.shouldShowFocusBox()?e.createElement(i,{key:this.getFocusedContainerFocusBoxKey(),ref:"focusBox",navControlsStyle:this.state.navControlsStyle,focusedContainer:this.props.focusedContainer,selectedComponents:this.props.selectedComponents,tabIndicationState:this.props.tabIndicationState}):null,this.shouldShowAttachFocusBox()?e.createElement(i,{key:"attachFocusBox",navControlsStyle:this.state.attachCandidateNavControlsStyle,focusedContainer:this.props.attachCandidate,selectedComponents:this.props.selectedComponents}):null,this.shouldRenderEditBox()?e.createElement(n,{ref:"editBox",key:"editBox",isDragging:this.props.isDragging,isResizing:this.props.isResizing,isRotating:this.props.isRotating,isPinMode:this.props.isPinMode,isDim:this.isDesignPanelOpen(),isConnectedToDataBinding:this.isConnectedToDataBinding(),performingMouseMoveAction:this.props.performingMouseMoveAction,onContextMenu:this.props.onContextMenu,applyModeFromClipboardSuggestion:this.props.applyModeFromClipboardSuggestion,labelsOffset:this.state.editBoxLabelsOffset}):null,this.shouldShowGfpp()?e.createElement(o,{"data-hook":"gfpp",key:"gfpp",setGFPPMeasureFunc:this.setGFPPMeasureFunc,toggleGfpp:this.toggleGfpp,gfppIsCollapsed:this.state.gfppIsCollapsed,style:this.state.gfppStyle,selectedComponent:this.props.selectedComponents}):null)}}),define("rEditor/rootComps/compControls/compControls",["reactDOM","create-react-class","prop-types","lodash","core","zepto","constants","stateManagement","rEditor/rootComps/compControls/compControls.rt"],function(e,t,o,i,n,r,a,s,l){"use strict";function c(e,t){return Math.ceil(e-t+y)}function p(e,t,o,r){var s=this.getEditorAPI(),l=s.store.getState,c=void 0,p={id:i.head(this.props.selectedComponents).id,layout:e},u=i.head(this.props.selectedComponents),m=u&&s.documentServices.platform.controllers.connections.get(u);p=u?{id:u.id,layout:e,hasLabels:!i.isEmpty(m)}:{};var h=l();this.isCompRequiresCustomGfppPos(e,this.props.selectedComponents)&&(c=f(h));var b=s.getLeftBarButtonsBoundingRect(),y=g(h),v=(y&&(y.id,this.props.selectedComponents[0].id),s.getNavControlsSize()),S=y&&this.getBoundingLayoutRelativeToScreen(y),P=y?{id:y.id,layout:S}:null,E={gfppSize:o,viewPort:function(e,t,o,i,r){var s=!t.fixedPosition,l=n.utils.stageUtils.getViewPort(s,o);return r&&(l.y=s?n.utils.scrollUtils.getScroll().scrollTop+a.UI.VIEWPORT_VERTICAL_MARGINS_NAV_CONTROLS:a.UI.VIEWPORT_VERTICAL_MARGINS_NAV_CONTROLS),l||{}}(0,e,b,0,v),navControlsSize:v,pageXBoundary:function(e){var t=e.documentServices.siteSegments.getPagesContainer();return e.components.layout.getRelativeToScreen(t).x}(s),rotateKnobMargins:r,alignToPageBoundaries:s.documentServices.viewMode.get()===s.documentServices.viewMode.VIEW_MODES.MOBILE},C=s.components.is.gfppMargins(this.props.selectedComponents);return d.getCompControlsPositions(P,t,p,E,c,C)}var d=n.utils.compControlsMeasurer,u=s.editorPlugins.selection.selectors,m=u.isSelectedCompConnectedToDataBindingController,g=u.getFocusedContainer,f=u.getLastSelectionClickPos,h=["wysiwyg.common.components.anchor.viewer.Anchor"],b=["wysiwyg.viewer.components.WRichText","wysiwyg.viewer.components.HoverBox","wysiwyg.viewer.components.BoxSlideShow","wysiwyg.viewer.components.StripContainerSlideShow",a.COMP_TYPES.POPUP_CONTAINER],y=3,v={top:0,bottom:0,left:0,right:0};return t({displayName:"compControls",mixins:[n.mixins.editorAPIMixin],propTypes:{panel:o.shape({name:o.string,props:o.object}),isDragging:o.bool,isResizing:o.bool,isRotating:o.bool,isSectionDragging:o.bool,selectedComponents:o.arrayOf(o.object).isRequired,hoveredComp:o.oneOfType([o.bool,o.object]),clearHoverBox:o.func,performingMouseMoveAction:o.bool,onContextMenu:o.func,previewPosition:o.object.isRequired,attachCandidate:o.object,applyModeFromClipboardSuggestion:o.object},getInitialState:function(){return this.panelReady=!1,this.lastMeasuredPanelHeight=0,this.throttledSetCompsStyle=i.throttle(this.setCompsStyle,50,{leading:!1,trailing:!0}),{gfppIsCollapsed:!0,gfppStyle:{top:0,left:0,visibility:"hidden",position:"absolute"},compPanelStyle:{top:0,left:0,opacity:0,visibility:"hidden"},navControlsStyle:{top:0,left:0},editBoxLabelsOffset:0,isSelectedComponentConnected:!1}},setGFPPMeasureFunc:function(e){this.gfppMeasureFunc=e},isCompsStyleSet:function(){return!this.props.panel||"hidden"!==this.state.compPanelStyle.visibility&&!!this.lastMeasuredPanelHeight&&0!==this.state.compPanelStyle.left&&0!==this.state.compPanelStyle.top},shouldShowGfpp:function(){return!this.props.isDragging&&!this.props.isResizing&&!this.props.isRotating},getBoundingLayoutRelativeToScreen:function(e){var t=this.getEditorAPI(),o=t.components.layout.getRelativeToScreen(e);return i.assign(o.bounding,{fixedPosition:t.components.layout.isShowOnFixedPosition(e),rotationInDegrees:o.rotationInDegrees})},getCompControlsStyles:function(e,t,o,n,r){var a=this.getEditorAPI(),s=this.props.panel&&(e||!this.isCompsStyleSet()),l=p.call(this,n,o,t,r);if(l.gfppStyle.visibility="inherit",l.gfppStyle.visibility="inherit",s){if(l.compPanelStyle.top+=this.props.previewPosition.top,i.has(l.compPanelStyle,"left")&&(l.compPanelStyle.left+=this.props.previewPosition.left),!n.fixedPosition){var c=a.ui.scroll.getScroll();l.compPanelStyle.top-=c.scrollTop}i.assign(l.compPanelStyle,this.getPanelStyle())}else l=i.pick(l,["gfppStyle","navControlsStyle","editBoxLabelsOffset"]);return n.fixedPosition?(l.gfppStyle.top+=this.props.previewPosition.top,i.has(l.gfppStyle,"left")&&(l.gfppStyle.left+=this.props.previewPosition.left),l.gfppStyle.position="fixed"):l.gfppStyle.position="absolute",this.props.isPinMode&&(l.gfppStyle.visibility="hidden"),l},getPanelStyle:function(){var e={};return this.panelReady?(e.visibility="inherit",e.opacity=1):(e.visibility="hidden",e.opacity=0),e},isCompRequiresCustomGfppPos:function(e){var t=this.getEditorAPI();if(i.includes(b,t.components.getType(this.props.selectedComponents)))return!1;var o=a.UI.CUSTOM_GFPP_POS.HEIGHT_TO_APPLY;return e.height>=o},getRotateKnobRect:function(){return this.getEditorAPI().getEditBoxRotateKnobRect()},isDesignPanelOpen:function(){var e=this.getEditorAPI().panelManager.getOpenPanels();return!!i.find(e,{name:a.componentPanels.design})},getRotateKnobMargins:function(e){if(!e.rotationInDegrees)return v;var t=this.getRotateKnobRect();if(!t)return v;var o=this.getEditorAPI().ui.scroll.getScroll(),i=o.scrollTop-this.props.previewPosition.top,n=o.scrollLeft-this.props.previewPosition.left;return t={top:t.top+i,bottom:t.bottom+i,left:t.left+n,right:t.right+n},function(e,t){return t?{top:c(e.y,t.top),bottom:c(t.bottom,e.y+e.height),left:c(e.x,t.left),right:c(t.right,e.x+e.width)}:v}(e,t)},setCompsStyle:function(t){var o=this.gfppMeasureFunc?this.gfppMeasureFunc():null;if(this.props.isPinMode&&(o={width:0,height:0}),o){var n=this.refs.compPanel?e.findDOMNode(this.refs.compPanel):null;this.lastMeasuredPanelHeight=n?r(n).height():0;var a=this.getBoundingLayoutRelativeToScreen(this.props.selectedComponents),s=this.getRotateKnobMargins(a),l=this.getCompControlsStyles(t,o,n,a,s);this.lastMeasuredPanelHeight||(l.compPanelStyle={top:0,left:0,opacity:0,visibility:"hidden"});var c=i.pick(this.state,i.keys(l));i.every(l,function(e,t){var o=c[t];return i.every(e,function(e,t){var n=o[t];return i.isFinite(n)&&i.isFinite(e)?function(e,t,o){return o=o||0,Math.abs(e-t)<=o}(n,e,2):i.isEqual(n,e)})})||this.setState(l)}},onWindowScroll:function(){this.setCompsStyle()},onWindowResize:function(){this.debouncedSetCompsStyle||(this.debouncedSetCompsStyle=i.debounce(this.setCompsStyle,200)),this.debouncedSetCompsStyle(!0)},shouldShowFocusBox:function(){var e=this.getEditorAPI().store.getState(),t=i.head(this.props.selectedComponents),o=g(e),n=i.get(o,"id")===t.id;return o&&(!(this.props.performingMouseMoveAction&&n)||i.isEqual(this.getEditorAPI().pages.popupPages.getPopupContainer(),t))},shouldShowAttachFocusBox:function(){return this.getEditorAPI().selection.getParentToFocus([this.props.attachCandidate])},shouldRenderEditBox:function(){if(!this.props.selectedComponents||this.props.isSectionDragging)return!1;var e=this.getEditorAPI().components.getType(this.props.selectedComponents);return!i.includes(h,e)},componentDidMount:function(){this.throttledSetCompsStyle();this.getEditorAPI().ui.scroll.addListener(this.onWindowScroll),window.addEventListener("resize",this.onWindowResize)},componentWillUnmount:function(){this.getEditorAPI().ui.scroll.removeListener(this.onWindowScroll),window.removeEventListener("resize",this.onWindowResize)},componentWillReceiveProps:function(e){var t=this.getEditorAPI(),o={},n=!i.get(e.panel,["props","useLastPanelPosition"]);!i.isEqual(this.props.panel,e.panel)&&n&&(o.compPanelStyle={top:0,left:0,opacity:0,visibility:"hidden"},e.panel||(this.panelReady=!1));var r=!t.utils.isSameRef(this.props.selectedComponents,e.selectedComponents),a=!this.props.performingMouseMoveAction&&e.performingMouseMoveAction;(r||a)&&(o.gfppStyle={top:0,left:0,visibility:"hidden",position:"absolute"},o.compPanelStyle={top:0,left:0,opacity:0,visibility:"hidden"}),i.isEmpty(o)||this.setState(o)},setAttachCandidateNavControlsStyle:function(){var t=this.refs.compPanel?e.findDOMNode(this.refs.compPanel):null,o=this.getBoundingLayoutRelativeToScreen(this.props.attachCandidate),i=!o.fixedPosition,r=this.getEditorAPI().getLeftBarButtonsBoundingRect(),a=n.utils.stageUtils.getViewPort(i,r),s={id:this.props.attachCandidate.id,layout:o},l=d.getCompControlsPositions(s,t,s,{viewPort:a});this.setState({attachCandidateNavControlsStyle:l.navControlsStyle})},componentDidUpdate:function(e){(function(e,t){var o=!i.isEqual(e.hoveredComp,t.hoveredComp),n=!i.isEqual(e.selectedComponents,t.selectedComponents);return(!t.performingMouseMoveAction||e.performingMouseMoveAction!==t.performingMouseMoveAction)&&(!o||n)})(e,this.props)&&this.throttledSetCompsStyle(),!i.isEqual(e.attachCandidate,this.props.attachCandidate)&&this.shouldShowAttachFocusBox()&&this.setAttachCandidateNavControlsStyle()},onPanelDragEnd:function(e){this.setState({compPanelStyle:e})},onCompPanelLoaded:function(){this.panelReady=!0,this.throttledSetCompsStyle()},getPanelProps:function(){var e=this.getEditorAPI();return i.assign({onDragEnd:this.onPanelDragEnd,onCompPanelLoaded:this.onCompPanelLoaded,style:this.state.compPanelStyle,selectedComponent:this.props.selectedComponents,compType:e.components.getType(this.props.selectedComponents)},this.props.panel.props)},isColumnsContainer:function(e){return"wysiwyg.viewer.components.StripColumnsContainer"===this.getEditorAPI().components.getType(e)},getColumnsContainer:function(){var e=this.getEditorAPI(),t=this.props.selectedComponents;if(this.isColumnsContainer(t))return t;var o=this.getEditorAPI().utils.findAncestorMatchesCondition(t,this.isColumnsContainer);return o?e.components.asArray(o):null},toggleGfpp:function(e){void 0===e?this.setState({gfppIsCollapsed:!this.state.gfppIsCollapsed}):this.setState({gfppIsCollapsed:e})},getColumnsControlsProps:function(){return{selectedComponents:this.props.selectedComponents,columnsContainer:this.getColumnsContainer()}},isConnectedToDataBinding:function(){var e=this.getEditorAPI(),t=e.store.getState();return m(t,e.dsRead)},getFocusedContainerFocusBoxKey:function(){var e=this.getEditorAPI().store.getState();return"focusBox-"+g(e).id},render:l})}),define("rEditor/rootComps/attachHighlight/attachHighlightMapper",["lodash","stateManagement","rEditor/rootComps/selectionBox/selectionBoxCommons"],function(e,t,o){"use strict";function i(t,o){if(o){var i=function(t,o){var i=e(o).thru(t.components.getType).thru(function(t){return e.split(t,".")}).last();return"Column"!==i||t.components.getSiblings(o).length?t.components.is.repeaterItem(o)?"repeaterItem":i:"StripContainer"}(t,o);return a[i]}}function n(e,t){var i=function(e,t){var o=e.components.layout.getRelativeToScreen(t),i=e.store.getState();if(e.components.layout.isShowOnFixedPosition(t)){var n=r(i);o.y+=n.top,o.bounding.y+=n.top,o.x+=n.left,o.bounding.x+=n.left}return o}(e,t),n=e.components.layout.isShowOnFixedPosition(t),a=o.getPosition(n);return{top:i.y-2,left:i.x-2,height:i.height,width:i.width,position:a}}var r=t.editorPlugins.domMeasurements.selectors.getPreviewPosition,a={HeaderContainer:"OnStage_AttachTo_Header",Page:"OnStage_AttachTo_Page",FooterContainer:"OnStage_AttachTo_Footer",Container:"OnStage_AttachTo_Box",MediaBox:"OnStage_AttachTo_Box",FormContainer:"OnStage_AttachTo_Form",HoverBox:"OnStage_AttachTo_Hover_Box",BoxSlideShowSlide:"OnStage_AttachTo_Slide",StripContainerSlideShowSlide:"OnStage_AttachTo_Slide",StripContainer:"OnStage_AttachTo_Strip",Column:"OnStage_AttachTo_Column",PopupContainer:"OnStage_AttachTo_PopUp",SiteRegionContainer:"OnStage_AttachTo_members_bar",repeaterItem:"OnStage_AttachTo_Repeater_Item"};return function(e,t){return{label:i(e,t.attachCandidate),position:n(e,t.attachCandidate),isMaster:function(e,t){return e.components.isShowOnAllPages(t)||e.components.isShowOnSomePages(t)}(e,t.attachCandidate)}}}),define("rEditor/rootComps/attachHighlight/attachHighlight.rt",["react","lodash","experiment"],function(e,t,o){"use strict";return function(){return e.createElement("div",{},e.createElement("div",{className:t({"highlight-container":!0,master:this.props.isMaster}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),style:this.props.position},e.createElement("label",{},this.translateIfNeeded(this.props.label))))}}),define("rEditor/rootComps/attachHighlight/attachHighlight",["create-react-class","prop-types","util","lodash","higherOrderComponents","rEditor/rootComps/attachHighlight/attachHighlightMapper","rEditor/rootComps/attachHighlight/attachHighlight.rt"],function(e,t,o,i,n,r,a){"use strict";var s=e({displayName:"attachHighlight",mixins:[o.translationMixin],propTypes:{label:t.string,position:t.shape({top:t.number,left:t.number,height:t.number,width:t.number}),isMaster:t.bool,attachCandidate:t.object},render:a}),l=i.flow(n.connectEditorAPI(r))(s);return l.pure=s,l}),define("rEditor/rootComps/constraintArea/constraintArea.rt",["react","lodash"],function(e,t){"use strict";return function(){return e.createElement.apply(this,["div",{},t.map(this.props.area,function(t,o){return e.createElement("div",{className:"negative-constraint-indication constraint-area",style:this.getPosition(t)},e.createElement("div",{className:"box"},e.createElement("label",{},this.translateIfNeeded("mobilemenu_Settings_fixed_area_label"))))}.bind(this))])}}),define("rEditor/rootComps/constraintArea/constraintArea",["create-react-class","core","lodash","util","rEditor/rootComps/constraintArea/constraintArea.rt"],function(e,t,o,i,n){"use strict";return e({displayName:"constraintArea",mixins:[t.mixins.editorAPIMixin,i.translationMixin],getPosition:function(e){return{top:e.top,left:e.left,height:e.height,width:e.width}},render:n})}),define("rEditor/rootComps/snapLayer/snapLayer.rt",["react","lodash"],function(e,t){"use strict";return function(){return this.props.snapData?e.createElement("div",{className:"snap-layer",key:"layer"},e.createElement.apply(this,["svg",{},t.map(this.getRectanglesDrawData(),function(o,i){return e.createElement("rect",{className:t({"components-ui-color-orange":o.isOnMasterPage}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),x:o.x,y:o.y,height:o.height,width:o.width,key:"rectDrawData"+i})}.bind(this)),t.map(this.getLines(),function(t,o){return e.createElement("line",{x1:t[0].x,y1:t[0].y,x2:t[1].x,y2:t[1].y,key:"snapLine"+o})}.bind(this))])):null}}),define("rEditor/rootComps/snapLayer/snapLayer",["create-react-class","prop-types","lodash","rEditor/rootComps/snapLayer/snapLayer.rt"],function(e,t,o,i){"use strict";return e({displayName:"snapLayer",propTypes:{snapData:t.array},getRectanglesDrawData:function(){return o.flatMap(this.props.snapData,"rectanglesDrawData")},getLines:function(){return o.map(this.props.snapData,"line")},render:i})}),define("rEditor/rootComps/highlightsLayer/highlightsLayerUtils",["lodash","stateManagement"],function(e,t){"use strict";function o(t,o,n){var r={top:(o=function(t,o,n){var r=t.store.getState();if(o=e.cloneDeep(o),t.components.layout.isShowOnFixedPosition(n)){var a=i(r);o.y+=a.top,o.bounding.y+=a.top,o.x+=a.left,o.bounding.x+=a.left}return o}(t,o,n)).y,left:o.x,width:o.width,height:o.height};if(o.rotationInDegrees){var a="rotate("+o.rotationInDegrees+"deg)";e.assign(r,{transform:a,WebkitTransform:a})}var s=t.components.layout.isShowOnFixedPosition(n)?"fixed":"absolute";e.assign(r,{position:s});return t.components.is.fullWidth(n)&&e.assign(r,{borderLeft:0,borderRight:0}),r}var i=t.editorPlugins.domMeasurements.selectors.getPreviewPosition;return{getStyle:o}}),define("rEditor/rootComps/highlightsLayer/highlightsLayerMapper",["lodash","rEditor/rootComps/highlightsLayer/highlightsLayerUtils","stateManagement"],function(e,t,o){"use strict";return function(i){var n=i.store.getState();if(o.editorPlugins.mouseActions.selectors.isPerformingMouseMoveAction(n))return{highlights:[]};var r=o.editorPlugins.highlights.selectors.getHighlights(n);return{highlights:e.map(r,function(o){if(!i.components.is.exist(o.compRef))return e.assign({},o);var n=i.components.isShowOnAllPages(o.compRef)||i.components.isShowOnSomePages(o.compRef),r=t.getStyle(i,o.layout,o.compRef);return e.assign({},o,{style:r,isShownOnAllPages:n})})}}}),define("rEditor/rootComps/highlightsLayer/highlightsLayer.rt",["react","lodash"],function(e,t){"use strict";return function(){return e.createElement.apply(this,["div",{},t.map(this.props.highlights,function(t,o){return e.createElement("div",{key:"highlight"+o,className:this.getHighlightClass(t),style:t.style})}.bind(this))])}}),define("rEditor/rootComps/highlightsLayer/highlightsLayer",["create-react-class","lodash","prop-types","higherOrderComponents","rEditor/rootComps/highlightsLayer/highlightsLayerMapper","rEditor/rootComps/highlightsLayer/highlightsLayer.rt"],function(e,t,o,i,n,r){"use strict";var a=e({displayName:"highlightsLayer",propTypes:{highlights:o.arrayOf(o.object)},getHighlightClass:function(e){var o=["highlightFrame",e.type];return e.isShownOnAllPages&&o.push("show-on-all-pages"),t.compact(o).join(" ")},stopEventPropagation:function(e){e.stopPropagation()},render:r}),s=t.flow(i.renderWhenMutated,i.connectEditorAPI(n))(a);return s.pure=a,s}),define("rEditor/rootComps/anchor/anchor.rt",["react","lodash","baseUI"],function(e,t,o){"use strict";return function(){return e.createElement("div",{className:"anchorWrapper",style:{top:this.getTopPosition()}},e.createElement("div",{className:"anchor-line before"}),e.createElement("div",{className:"anchor "+(this.props.isSelected?"anchor-selected":"")},e.createElement("div",{className:"anchorContent",onMouseDown:this.onMouseDown,onContextMenu:this.props.onContextMenu,onDoubleClick:this.onDoubleClick},e.createElement(o.symbol,{className:"anchorIcon",name:"anchor"}),e.createElement("div",{className:"anchorName"},this.getAnchorName()),e.createElement(o.symbol,{className:"rightIcon",name:this.isLocked()?"anchorLock":"anchorDragHandle"}))),e.createElement("div",{className:"anchor-line after-with-sections-reorganize"}))}}),define("rEditor/rootComps/anchor/anchor",["create-react-class","prop-types","lodash","core","rEditor/utils/mouseMoveActions/baseDoubleClick","rEditor/rootComps/anchor/anchor.rt"],function(e,t,o,i,n,r){"use strict";return e({displayName:"anchor",propTypes:{compRef:t.object.isRequired,isSelected:t.bool.isRequired},mixins:[i.mixins.editorAPIMixin],getInitialState:function(){return this.editorAPI=this.getEditorAPI(),{}},getAnchorName:function(){return this.editorAPI.components.data.get(this.props.compRef).name},onDoubleClick:function(e){var t={evt:e,comp:[this.props.compRef]};n.doubleClick(this.getEditorAPI(),t)},getTopPosition:function(){return this.editorAPI.components.layout.getRelativeToStructure(this.props.compRef).y},isLocked:function(){return!1},render:r})}),define("rEditor/rootComps/anchor/anchorsContainer.rt",["react","lodash","rEditor/rootComps/anchor/anchor"],function(e,t,o){"use strict";return function(){return e.createElement.apply(this,["div",{className:t({"anchors-container":!0,"mobile-editor":this.editorAPI.isMobileEditor()}).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},t.map(this.getAnchors(),function(t,i){return e.createElement(o,{key:"anchor"+i,compRef:t,onContextMenu:this.props.onContextMenu,isSelected:this.isSelectedComp(t)})}.bind(this))])}}),define("rEditor/rootComps/anchor/anchorsContainer",["create-react-class","lodash","core","rEditor/rootComps/anchor/anchorsContainer.rt"],function(e,t,o,i){"use strict";return e({displayName:"stageComps",mixins:[o.mixins.editorAPIMixin],getInitialState:function(){return this.editorAPI=this.getEditorAPI(),{}},getAnchors:function(){var e=this.editorAPI.documentServices.pages.getReference(this.editorAPI.documentServices.pages.getFocusedPageId());return this.editorAPI.components.get.byType("wysiwyg.common.components.anchor.viewer.Anchor",e)},isSelectedComp:function(e){return this.editorAPI.selection.isComponentSelected(e)},render:i})}),define("rEditor/rootComps/selectionBox/hoverBox.rt",["react","lodash","baseUI","rEditor/rootComps/selectionBox/componentLabels","experiment"],function(e,t,o,i,n){"use strict";return function(){return e.createElement("div",{style:this.getHoverBoxStyles(),className:t(this.getClasses()).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},e.createElement(i,{key:"newComponentLabel",showComponentType:this.shouldShowComponentType(),showComponentNickname:this.shouldShowComponentNickname(),shouldShowConnectionIndication:this.shouldShowConnectionIndication(),infoText:"PLATFORM_ONSTAGE_CONNECTED_ELEMENT_LABEL",isLabelLarge:this.isRootComponent(this.getEditorAPI(),this.props.hoveredComp),isLabelBelowLine:this.isSiteHeaderHovered(this.getEditorAPI(),this.props.hoveredComp),componentType:this.getComponentType(),componentNickname:this.getComponentNickname(),labelInlineStyles:this.getHoverBoxLabelStyles(),componentUIColor:this.getComponentUIColor(),isPinnedToPage:this.isCompPinned(),isLabelBottom:this.props.isLabelBottom}))}}),define("rEditor/rootComps/selectionBox/hoverBox",["reactDOM","lodash","constants","create-react-class","core","stateManagement","rEditor/rootComps/selectionBox/hoverBox.rt","util"],function(e,t,o,i,n,r,a,s){"use strict";function l(e,t){return function(e,t){return s.elementUtils.getOuterWidth(e)/s.elementUtils.getOuterWidth(t)<2}(e,t)?function(e,t){var o=n.utils.stageUtils.getViewPort();return e.offset().left-t.width()>o.x}(e,t)?d.LEFT:d.RIGHT:d.INNER}var c=r.editorPlugins.domMeasurements.selectors.getPreviewPosition,p=r.editorPlugins.platform.selectors.isConnectedToDataBindingController,d={INNER:"inner",LEFT:"left",RIGHT:"right"};return i({displayName:"hoverBox",mixins:[n.mixins.editorAPIMixin],getInitialState:function(){return{labelPosition:d.INNER,shouldCalculateLabelPosition:!0}},componentDidMount:function(){if(this.state.shouldCalculateLabelPosition){var t=e.findDOMNode(this),o=e.findDOMNode(this.refs.label);this.setState({labelPosition:l(t,o),shouldCalculateLabelPosition:!1})}},componentDidUpdate:function(){if(this.state.shouldCalculateLabelPosition){var t=e.findDOMNode(this),o=e.findDOMNode(this.refs.label);this.setState({labelPosition:l(t,o),shouldCalculateLabelPosition:!1})}},componentWillReceiveProps:function(e){e.hoveredComp.id!==this.props.hoveredComp.id&&this.setState({shouldCalculateLabelPosition:!0})},isRootComponent:function(e,t){return"SITE_FOOTER"===t.id||"SITE_HEADER"===t.id||t.id===e.documentServices.pages.getFocusedPageId()},isSiteHeaderHovered:function(e,t){return"SITE_HEADER"===t.id},shouldShowConnectionIndication:function(){var e=this.getEditorAPI();return p(this.props.hoveredComp,e.dsRead)},isHoveredSelectedComp:function(){var e=this.getEditorAPI(),t=e.selection.getSelectedComponents();return e.utils.isSameRef(t,this.props.hoveredComp)},isConnectedToControllers:function(e){return e.documentServices.platform.controllers.connections.get(this.props.hoveredComp).length>0},getComponentType:function(){return this.isHoveredSelectedComp()?"":this.getEditorAPI().components.getDisplayName(this.props.hoveredComp)},getComponentNickname:function(){var e=this.getEditorAPI().components.getNickname(this.props.hoveredComp);return this.isHoveredSelectedComp()||!e?"":"#"+e},getHoverBoxStyles:function(){var e=function(e,t){var o=e.components.layout.getRelativeToScreen(t),i=e.store.getState();if(e.components.layout.isShowOnFixedPosition(t)){var n=c(i);o.y+=n.top,o.bounding.y+=n.top,o.x+=n.left,o.bounding.x+=n.left}return o}(this.getEditorAPI(),this.props.hoveredComp),o={top:e.y-1,left:e.x-1,width:e.width,height:e.height};if(e.rotationInDegrees){var i="rotate("+e.rotationInDegrees+"deg)";t.assign(o,{transform:i,WebkitTransform:i})}return this.getEditorAPI().components.is.fullWidth(this.props.hoveredComp)&&t.assign(o,{borderLeft:0,borderRight:0}),o},getClasses:function(){var e=this.getEditorAPI(),t=this.props.hoveredComp,o=e.components.isShowOnAllPages(t),i=e.components.isShowOnSomePages(t);return{"hover-box":!0,"components-background-color":!e.components.is.page(t),"components-ui-color-orange":o||i,"fixed-position":e.components.layout.isShowOnFixedPosition(t),overlay:this.props.overlay}},isShownOnAllPages:function(){return this.getEditorAPI().components.isShowOnAllPages(this.props.hoveredComp)},getComponentUIColor:function(){return function(e,t){return e.components.isShowOnAllPages(t)||e.components.isShowOnSomePages(t)?o.COMPONENT_UI_COLORS.ORANGE:o.COMPONENT_UI_COLORS.BLUE}(this.getEditorAPI(),this.props.hoveredComp)},getHoverBoxLabelStyles:function(){var e=this.getEditorAPI();if(e.components.is.fullWidth(this.props.hoveredComp)){return{left:e.isMobileEditor()?0:e.siteSegments.getPagesContainerAbsLayout().x+2}}},getIndicatorClasses:function(){var e=this.getEditorAPI(),t=this.props.hoveredComp,o=e.components.isShowOnAllPages(t),i=e.components.isShowOnSomePages(t);return{"components-ui-color-orange":o||i}},shouldShowComponentType:function(){return this.props.hoveredComp&&!(this.getEditorAPI().developerMode.isEnabled()&&this.shouldShowConnectionIndication())},shouldShowComponentNickname:function(){return this.props.hoveredComp&&this.getEditorAPI().developerMode.isEnabled()},isCompPinned:function(){return this.getEditorAPI().components.layout.isPinned(this.props.hoveredComp)&&!this.isHoveredSelectedComp()},render:a})}),define("rEditor/rootComps/selectionBox/overlay.rt",["react","lodash"],function(e,t){"use strict";return function(){return e.createElement("div",{className:t({overlay:!0,visible:this.state.shouldShowOverlay}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),style:this.getStyles()},"\n    ",this.getOverlay(),"\n")}}),define("rEditor/rootComps/selectionBox/overlay",["create-react-class","lodash","core","rEditor/rootComps/selectionBox/overlay.rt"],function(e,t,o,i){"use strict";return e({displayName:"overlay",mixins:[o.mixins.editorAPIMixin],getInitialState:function(){return{shouldShowOverlay:!1}},overlayProps:{},getOverlay:function(){return this.getEditorAPI().components.is.getOverlay(this.state.hoveredComp)||""},getStyles:function(){return this.overlayProps=this.getEditorAPI().components.is.getOverlayProperties(this.state.hoveredComp),this.overlayProps?function(e,t){return e[t]?{transitionDuration:(e[t].duration||0)+"ms",transitionDelay:(e[t].delay||0)+"ms"}:{}}(this.overlayProps,function(){return this.leaveAnimationId?"leave":"enter"}.call(this)):{}},componentWillReceiveProps:function(e){var t=e.hoveredComp&&this.getEditorAPI().components.is.exist(e.hoveredComp)&&this.getEditorAPI().components.is.shouldBeOverlayed(e.hoveredComp);if(!this.state.hoveredComp||this.getEditorAPI().components.is.exist(this.state.hoveredComp)){if(this.getEditorAPI().overlay.shouldUpdate()){if(t)this.componentWillEnter(e.hoveredComp);else{if(!this.state.shouldShowOverlay)return;this.componentWillLeave()}this.setState({shouldShowOverlay:t})}}else this.setState({shouldShowOverlay:!1,hoveredComp:null})},componentWillEnter:function(e){this.leaveAnimationId&&(this.leaveAnimationId=window.clearTimeout(this.leaveAnimationId)),this.setState({hoveredComp:e})},componentWillLeave:function(){this.leaveAnimationId=window.setTimeout(this.componentHasLeft,this.overlayProps.leave.duration)},componentHasLeft:function(){this.leaveAnimationId=null,this.setState({hoveredComp:null})},render:i})}),define("rEditor/rootComps/lasso/lasso.rt",["react","lodash"],function(e,t){"use strict";return function(){return e.createElement("div",{className:"lasso-layer"},e.createElement.apply(this,["svg",{className:"lasso-highlights"},e.createElement("rect",t.assign({},{className:"lasso-rect"},this.props.lassoLayout)),t.map(this.props.candidates,function(o,i){return e.createElement("rect",t.assign({},{className:t({"lasso-candidate":!0,"show-on-all-pages":this.getEditorAPI().components.isShowOnAllPages(o.component)}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),key:i},o.layout.bounding))}.bind(this))]))}}),define("rEditor/rootComps/lasso/lasso",["create-react-class","prop-types","lodash","core","rEditor/rootComps/lasso/lasso.rt"],function(e,t,o,i,n){"use strict";return e({displayName:"lasso",mixins:[i.mixins.editorAPIMixin],propTypes:{lassoLayout:t.shape({x:t.number,y:t.number,width:t.number,height:t.number}),candidates:t.arrayOf(t.shape({component:t.object,layout:t.object}))},render:n})}),define("rEditor/rootComps/mouseCatcher.rt",["react","lodash","rEditor/rootComps/compControls/compControls","rEditor/rootComps/attachHighlight/attachHighlight","rEditor/rootComps/constraintArea/constraintArea","rEditor/rootComps/snapLayer/snapLayer","rEditor/rootComps/highlightsLayer/highlightsLayer","rEditor/rootComps/anchor/anchorsContainer","rEditor/rootComps/selectionBox/hoverBox","rEditor/rootComps/selectionBox/overlay","rEditor/rootComps/lasso/lasso"],function(e,t,o,i,n,r,a,s,l,c,p){"use strict";return function(){return e.createElement("div",{className:t({parentSizeAbs:!0,mouseCatcher:!0,draggable:this.isCompDraggable()}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onDoubleClick:this.onDoubleClick,onContextMenu:this.props.onContextMenu,onMouseMove:this.onMouseMove,onMouseLeave:this.clearHoverBox},e.createElement(c,{hoveredComp:this.props.hoveredComp}),this.props.constraintArea?e.createElement(n,{key:"constraintArea",area:this.props.constraintArea}):null,this.props.attachCandidate?e.createElement(i,{key:"attachHighlight",attachCandidate:this.props.attachCandidate}):null,this.props.lassoLayout?e.createElement(p,{key:"lassoLayout",lassoLayout:this.props.lassoLayout,candidates:this.props.lassoCandidates}):null,1===this.props.siteScale&&this.props.hoveredComp&&this.getEditorAPI().components.is.exist(this.props.hoveredComp)&&!this.props.isPinMode?e.createElement(l,{overlay:this.props.hoverBoxOverlay,hoveredComp:this.props.hoveredComp,key:"hoverBox",isLabelBottom:this.isLabelBottom()}):null,e.createElement(a,{}),1!==this.props.siteScale||t.isEmpty(this.props.selectedComponents)?null:e.createElement(o,{key:"compControls",isDragging:this.props.isDragging,isResizing:this.props.isResizing,isRotating:this.props.isRotating,performingMouseMoveAction:this.props.performingMouseMoveAction,selectedComponents:this.props.selectedComponents,hoveredComp:this.props.hoveredComp,clearHoverBox:this.clearHoverBox,panel:this.props.compPanel,previewPosition:this.props.previewPosition,siteScale:this.props.siteScale,isPinMode:this.props.isPinMode,onContextMenu:this.props.onContextMenu,isSectionDragging:this.props.isSectionDragging,attachCandidate:this.props.attachCandidate,tabIndicationState:this.props.tabIndicationState,applyModeFromClipboardSuggestion:this.props.applyModeFromClipboardSuggestion}),e.createElement(r,{key:"snapLayer",snapData:this.props.snapData}),this.props.previewMode||!this.props.editorIsInit||this.props.isPinMode?null:e.createElement(s,{key:"anchorsContainer",onContextMenu:this.props.onContextMenu}),this.showMarginsIndicator()?function(){var t=this.getMarginsIndicatorStyles(this.getCompToShowMarginsIndicator());return e.createElement("div",{key:"marginsIndicator",className:"margins-indicator",style:t.indicator},t.marginLeft?e.createElement("div",{key:"leftMarginIndicator",className:"left",style:{width:t.marginLeft}}):null,t.marginRight?e.createElement("div",{key:"rightMarginIndicator",className:"right",style:{width:t.marginRight}}):null)}.apply(this,[]):null)}}),define("rEditor/utils/mouseMoveActions/baseDrag",["core","lodash","util","constants","stateManagement","experiment"],function(e,t,o,i,n,r){"use strict";function a(e){var t=function(e){var t=x||k;return{x:Math.abs(t.x-e.x),y:Math.abs(t.y-e.y)}}(e);return t.x>h||t.y>h}function s(){if(I){var e=t.map(O,"component"),o=t.map(O,function(t){var o=t.attachUtil.getCurrentAttachCandidate(null,e),i=t.component;return o.candidateRef?{attachCandidate:o,component:i}:{component:i}}),i=function(e){return t.reduce(e,function(e,t){var o=t.attachCandidate,i=t.component;return o&&o.candidateRef?(e[o.candidateRef.id]?e[o.candidateRef.id].components.push(i):e[o.candidateRef.id]={attachCandidate:o,components:[i]},e):e},{})}(o),n=t.partition(i,{attachCandidate:{candidateStatus:y.ATTACH_CANDIDATE_STATUSES.INVALID}}),r=_slicedToArray(n,2),a=r[0],s=r[1];t(a).flatMap("components").thru(D.components.remove).value();var l=t(s).filter({attachCandidate:{candidateStatus:y.ATTACH_CANDIDATE_STATUSES.VALID}}).map(function(e){return D.components.setContainer(e.components,e.attachCandidate.candidateRef)}).compact().value();if(!t.isEmpty(l)){var c=t.some(e,D.components.isShowOnSomePages);D.documentServices.waitForChangesApplied(function(){var e=t.some(l,D.components.isShowOnSomePages);c&&!e?D.panelHelpers.openDetachedFromSOSPPanel():!c&&e&&D.panelHelpers.openAttachToSOSPPanel();var i=t(o).reject("attachCandidate").map("component").value();D.selection.selectComponentByCompRef(t.flatten(l).concat(i))})}}}function l(e,o,i){var n=e.x-o.x+i.x,r=e.y-o.y+i.y;return t.defaults({x:n,y:r},e)}function c(e,o){if(D=e||D,C=o.selectedComp,k=o.initMousePosition,x=null,L=n.editorPlugins.componentMetaData.isHorizontallyMovable(f(o.selectedComp),D.documentServices),N=D.components.is.verticallyMovable(o.selectedComp),F=D.components.layout.getRelativeToScreen(C),V=D.documentServices.pages.isWidgetPage(D.pages.getFocusedPageId()),o.initMousePosition){o.shouldDragAndCopy&&r.isOpen("se_enableAltDrag")&&function(){var e=void 0,o=void 0;D.components.is.duplicatable(C)&&1===C.length&&D.components.getChildren(C).length<1&&t.forEach(C,function(t){e=D.components.serialize(t),o=D.components.getContainer(t),T=D.components.getNickname(t);var i=D.components.add(o,e);D.waitForChangesApplied(function(){D.components.code.setNickname(t,"tempCompNickName"+Date.now());var e=D.components.getNickname(i);D.components.code.setNickname(i,T),D.components.code.setNickname(t,e)})})}(),A=!0;var i=D.components.layout.getRelativeToScreen(C);G=t.map(C,function(e){return D.components.layout.getRelativeToScreen(e)}),U=t.map(C,function(e){return D.components.layout.get(e)}),I=function(e){return!t.some(e,function(e){return D.components.is.groupedComponent(e)})}(C),g(C)?O=function(e){return t.map(e,function(e){return{component:e,attachUtil:new y(D,{comp:e,layout:D.components.layout.getRelativeToScreen(e)},y.TYPES.COMP)}})}(C):_=new y(D,{layout:i,comp:C},y.TYPES.COMP),R=new P(D,C),B=new v(D,C),E=new S.Drag(F,k,G),H=function(e){return t.map(e,function(e){return b[D.components.getType(D.components.getContainer(e))]})}(C)}else A=!1}function p(o){var i=D.store.getState(),n=u(i,o),s={x:n.pageX,y:n.pageY,isShiftPressed:o.shiftKey};if(function(e){return!!w||A&&(Math.abs(e.pageX-k.x)>2||Math.abs(e.pageY-k.y)>2)}(n)){D.selection.setIsMouseUpSelectionEnabled(!1),w||(w=!0,D.documentServices.renderPlugins.setCompsToShowOnTop(t.map(C,"id")),r.isOpen("changeOpacityOnDrag")&&D.documentServices.renderPlugins.setCompsToShowWithOpacity(t.map(C,"id"),.9));var c=E.getLayout(s);if(g(C)&&(c=e.utils.updateLayoutUtil.getLayoutRelativeToScreenAfterConstraints(D,C,c,F)),L||(c.x=F.x),N||(c.y=F.y),D.getViewTools().snapToEnabled&&(a(s)?D.snapData.clear():(c.bounding=D.utils.getBoundingLayout(c),function(e){if(B){var t=B.getClosestLayoutDistance(D,e.bounding,M);Math.abs(t.x)<5&&(e.x+=t.x,e.bounding.x+=t.x),Math.abs(t.y)<5&&(e.y+=t.y,e.bounding.y+=t.y)}}(c),function(e){if(B){var t=B.getSnapData(e.bounding,M,V);D.snapData.set(t)}}(c))),I&&!g(C)){var p=_.getCurrentAttachCandidate(null,{x:n.clientX,y:n.clientY}),d=p.candidateRef;p.candidateStatus===y.ATTACH_CANDIDATE_STATUSES.VALID&&d&&(_.highlightAttachCandidate(d),R.highlightDragConstraints())}for(var m=E.getBoundComponentLayouts(c),f=0;f<C.length;f++){var h=l(m[f],G[f],U[f]);H[f]?D.components.layout.updateRelativeToScreen(C[f],m[f],!0):D.components.layout.update(C[f],h,!0)}}x=s}function d(e){g(C)?s():(!function(e){if(I){var t={x:e.clientX,y:e.clientY},o=_.getCurrentAttachCandidate(null,t),i=o.candidateRef,n=o.candidateStatus;if(n!==y.ATTACH_CANDIDATE_STATUSES.INVALID){if(n===y.ATTACH_CANDIDATE_STATUSES.VALID&&i){var r=D.components.isShowOnSomePages(C),a=D.components.setContainer(C,i);D.documentServices.waitForChangesApplied(function(){var e=D.components.isShowOnSomePages(a);r&&!e?D.panelHelpers.openDetachedFromSOSPPanel():!r&&e&&D.panelHelpers.openAttachToSOSPPanel()})}}else D.components.remove(C)}}(e),_.clearHighlightAttachCandidate(!1)),R.removeHighlightDragConstraints(),B=null,D.snapData.clear(),D.documentServices.waitForChangesApplied(function(){D.history.add("Dragged component")}),D.openCompOutOfGridPanelIfNeeded(C),D.documentServices.renderPlugins.setCompsToShowOnTop(null),r.isOpen("changeOpacityOnDrag")&&D.documentServices.renderPlugins.setCompsToShowWithOpacity(null),w=!1}var u=n.editorPlugins.domMeasurements.selectors.translateToViewerCoordinates,m=o.array,g=m.isMultiselect,f=m.asArray,h=15,b={"wysiwyg.viewer.components.Group":!0},y=e.utils.AttachHandler,v=e.utils.SnapToHandler,S=e.utils.layoutTransitionsUtil,P=e.utils.DragConstraintsHandler,E=void 0,C=void 0,T=void 0,I=void 0,_=void 0,O=void 0,M={top:!0,right:!0,bottom:!0,left:!0,centerX:!0,centerY:!0},w=!1,A=!1,R=void 0,D=void 0,k=void 0,x=void 0,B=void 0,L=void 0,N=void 0,F=void 0,U=void 0,G=void 0,H=void 0,V=void 0;return{start:c,on:p,end:function(e){if(w){var t=D.store.getState();d(u(t,e))}k=null},type:i.MOUSE_ACTION_TYPES.DRAG}}),define("rEditor/utils/mouseMoveActions/dragAttempt",["lodash","stateManagement","coreBi","constants"],function(e,t,o,i){"use strict";function n(e){var t=Math.abs(e.pageX-l.x),o=Math.abs(e.pageY-l.y);(s=s||function(e,t){return e>=d||t>=d}(t,o))&&p.selection.setIsMouseUpSelectionEnabled(!1)}var r=t.editorPlugins.pinMode.selectors,a=t.editorPlugins.pinMode.actions,s=void 0,l=void 0,c=void 0,p=void 0,d=5,u=t.editorPlugins.selection.selectors;return{start:function(e,t){p=e,s=!1,l=t.initMousePosition,c=t.selectedComp},on:n,end:function(){var e=p.store,i=e.getState(),n=r.isOpen(i);s&&p.components.layout.isPinned(c)&&!n&&(e.dispatch(a.open("on_drag")),e.dispatch(t.editorPlugins.bi.actions.event(o.events.pinToScreen.DRAG_ATTEMPT,{component_type:u.getSelectedComponentType(i,p.documentServices)})))},type:i.MOUSE_ACTION_TYPES.DRAG_ATTEMPT}}),define("rEditor/utils/lassoMouseMoveActions/lassoDrag",["lodash","util","coreBi","stateManagement","constants"],function(e,t,o,i,n){"use strict";function r(e){var t=f.components.layout.getRelativeToScreen(e);return"wysiwyg.viewer.components.WRichText"===f.components.getType(e)&&function(e,t){var o=f.components.layout.getEffectiveTextDimensions(e);o&&(t.width=o.width,t.height=o.height,t.bounding.width=o.width,t.bounding.height=o.height,t.x+=o.dx,t.y+=o.dy,t.bounding.x+=o.dx,t.bounding.y+=o.dy)}(e,t),{component:e,layout:t}}function a(e){return f.components.is.fullWidth(e.component)||f.components.layout.isHorizontallyStretchedToScreen(e.component)?"fullWidth":"standard"}function s(o){(function(e){if(g)return!0;var t=f.store.getState(),o=S(t,e),i=o.pageY,n=o.pageX,r=Math.abs(n-m.x),a=Math.abs(i-m.y);return g=r>c&&a>c})(o)&&(v&&(f.selection.deselectComponents(),v=!1),y&&(f.selection.selectComponentByCompRef(h),y=!1),u=function(e){var t=f.store.getState(),o=S(t,e),i=Math.min(o.pageX,m.x),n=Math.min(o.pageY,m.y);return{x:i,y:n,width:Math.max(o.pageX,m.x)-i,height:Math.max(o.pageY,m.y)-n}}(o),p.standard=e.isUndefined(p.standard)?[]:p.standard,p.fullWidth=e.isUndefined(p.fullWidth)?[]:p.fullWidth,d=e(p.standard).concat(p.fullWidth).filter(function(e){return t.layoutUtils.isLayoutIntersectsRect(e.layout.bounding,u)}).filter(function(e){return!f.columns.isColumn(e.component)}).value(),f.lasso.setCandidates(d),f.lasso.setLayout(u))}var l=["SITE_PAGES","PAGES_CONTAINER","SITE_HEADER","SITE_FOOTER"],c=4,p=void 0,d=void 0,u=void 0,m=void 0,g=void 0,f=void 0,h=void 0,b=void 0,y=void 0,v=void 0,S=i.editorPlugins.domMeasurements.selectors.translateToViewerCoordinates;return{start:function(t,o){var i=(f=t).documentServices.pages.getFocusedPageId();b=o.selectedComponents;var n=l.concat(e.map(b,"id")),s=f.components.getAllComponents(i,function(t){return!e.includes(n,t.id)&&!f.components.is.page(t)});h=o.prevSelectedComps,y=h!==b&&o.initMousePosition.isSpecialKeyPressed,v=f.selection.isSingleSelectionComponent(b),m=e.clone(o.initMousePosition),g=!1,d=[],u=e.pick(m,["x","y"]),p=e(s).map(r).groupBy(a).value()},on:s,end:function(i){var n=t.browserUtil.isSpecialKeyPressed(i);if(!e.isEmpty(d)){var r=e.map(d,"component");r.length>1&&(r=e.reject(r,f.selection.isSingleSelectionComponent)),(r.length>1||1===r.length&&h&&h.length>0)&&f.bi.event(o.events.selection.MULTISELECT,{num_of_elements_selected:r.length,selection_method:"lasso"}),f.closeCompPanelIfExists(),n?f.selection.addComponentToSelectionByRef(r):f.selection.selectComponentByCompRef(r)}f.lasso.clear()},type:n.MOUSE_ACTION_TYPES.LASSO}}),define("rEditor/rootComps/mouseCatcher",["reactDOM","create-react-class","prop-types","zepto","lodash","rEditor/rootComps/mouseCatcher.rt","core","util","rEditor/utils/mouseMoveActions/baseDrag","rEditor/utils/mouseMoveActions/dragAttempt","rEditor/utils/lassoMouseMoveActions/lassoDrag","constants","stateManagement"],function(e,t,o,i,n,r,a,s,l,c,p,d,u){"use strict";function m(e,t){if(!e.components.is.exist(t))return!1;var o=e.selection.getSelectedComponents(),i=e.components.getType(t);return(!e.selection.isComponentSelected(t)||f(o))&&!n.includes(v,i)}function g(e){return!!e.store.getState().lassoLayout}var f=s.array.isMultiselect,h=u.editorPlugins.domMeasurements.selectors,b=h.getViewPort,y=h.translateToViewerCoordinates,v=["wysiwyg.viewer.components.PagesContainer","wysiwyg.viewer.components.PageGroup","wysiwyg.common.components.anchor.viewer.Anchor"];return t({displayName:"mouseCatcher",mixins:[a.mixins.editorAPIMixin],propTypes:{selectedComponents:o.oneOfType([o.object,o.arrayOf(o.object)]),config:o.object,onContextMenu:o.func,performingMouseMoveAction:o.bool,hoveredComp:o.object,isDragging:o.bool,isResizing:o.bool,isRotating:o.bool,isPinMode:o.bool,compPanel:o.object,editingAreaLayout:o.object,previewPosition:o.object,previewMode:o.bool.isRequired,attachCandidate:o.object,snapData:o.array,applyModeFromClipboardSuggestion:o.object,tabIndicationState:o.object.isRequired,lassoCandidates:o.array,lassoLayout:o.object,constraintArea:o.object},componentWillMount:function(){this.compsBeforeSelection=null,this.shouldStartDragging=!1,this.shouldDragAndCopy=!1,this.shouldStartLasso=!1,this.initMousePosition=null,this.isWaitingForUpdate=!1},componentDidMount:function(){i(e.findDOMNode(this)).on("mouseenter",this.onMouseEnter)},componentWillUnmount:function(){i(e.findDOMNode(this)).off("mouseenter",this.onMouseEnter)},componentWillReceiveProps:function(e){var t=this.getEditorAPI();if(this.shouldStartDragging){var o=function(e,t){var o=e.components.is.controlledByParent;return n(t).map(function(t){return o(t)?e.utils.findAncestorMatchesCondition(t,n.negate(o)):t}).thru(e.components.getComponentsWhichDontHaveAncestorsInTheArray).value()}(t,e.selectedComponents),i=!n.isEmpty(o)&&function(e,t){return function(e,t){var o=e.getCompDragRestrictions(t);return o.horizontallyMovable||o.verticallyMovable}(e,t)?l:c}(t,o);i&&t.mouseActions.registerMouseMoveAction(i,{initMousePosition:this.initMousePosition,selectedComp:o,shouldDragAndCopy:this.shouldDragAndCopy})}else this.shouldStartLasso&&t.mouseActions.registerMouseMoveAction(p,{initMousePosition:this.initMousePosition,prevSelectedComps:this.compsBeforeSelection,selectedComponents:e.selectedComponents});this.shouldStartDragging=!1,this.shouldStartLasso=!1,this.shouldDragAndCopy=!1},onMouseDown:function(e){var t=this.getEditorAPI();s.keyboardShortcuts.enable();var o=t.store.getState(),i=y(o,e);this.initMousePosition={x:i.pageX,y:i.pageY,isShiftPressed:e.shiftKey,isSpecialKeyPressed:s.browserUtil.isSpecialKeyPressed(e),isAltKeyPressed:e.altKey},this.shouldStartLasso=t.mouseActions.shouldInitLassoToolOnMouseDown(e),this.shouldStartDragging=!this.shouldStartLasso&&(!t.selection.isMultiSelectKeyPressed(e)||function(e,t){var o=e.selection.getComponentUnderClickToBeSelected(t.clientX,t.clientY);return e.selection.isComponentSelected(o)}(t,e)),this.shouldDragAndCopy=this.shouldStartDragging&&this.initMousePosition.isAltKeyPressed,t.selection.isHiddenComponentDraggedNext()?t.selection.setIsHiddenComponentDraggedNext(!1):g(t)||(this.compsBeforeSelection=this.props.selectedComponents,t.selection.selectComponentByClick(e),this.shouldStartDragging=this.shouldStartDragging&&t.selection.isComponentExplicitlySelected()),t.closeRightClickMenu(),t.panelManager.notifyMouseDown()},onMouseUp:function(e){var t=this.getEditorAPI();2===e.button||(this.deselectClickedCompIfNeeded(e),t.selection.getIsMouseUpSelectionEnabled()&&!g(t)&&t.selection.selectNonGroupCompUnderCursor(e,this.props.siteScale)),t.selection.setIsMouseUpSelectionEnabled(!1),this.initMousePosition=null,this.shouldStartDragging=!1,this.shouldDragAndCopy=!1,this.shouldStartLasso=!1},onMouseMove:function(e){var t=this.getEditorAPI(),o=t.store.getState(),i=y(o,e);this.props.registeredMouseMoveAction||this.updateHoverBox(e),t.cursor.updateMousePosition(i.pageX,i.pageY)},onMouseEnter:function(e){1!==e.which&&this.getEditorAPI().endMouseMoveActionIfNeeded(e)},updateHoverBox:function(e){if(!this.isWaitingForUpdate){this.isWaitingForUpdate=!0;var t=this.getEditorAPI();e.persist(),t.documentServices.waitForChangesApplied(function(){this.isWaitingForUpdate=!1;var o=t.selection.getComponentToBeMarkedByHoverBox(e,this.shouldStartDragging),i=this.props.hoverBoxOverlay;!this.props.hoveredComp&&o?m(t,o)&&this.props.setHoverBox(o,i):this.props.hoveredComp&&!o?this.props.clearHoverBox():this.props.hoveredComp&&o&&(m(t,o)?this.props.hoveredComp.id!==o.id&&this.props.setHoverBox(o,i):this.props.clearHoverBox())}.bind(this))}},clearHoverBox:function(){this.props.clearHoverBox()},deselectClickedCompIfNeeded:function(e){var t=this.getEditorAPI();if(t.selection.isMultiSelectKeyPressed(e)&&this.initMousePosition){var o=t.selection.getComponentUnderClickToBeSelected(e),i=!!n.find(this.compsBeforeSelection,o),r=t.store.getState(),a=y(r,e),s=!this.isPointsDistanceBiggerThan(this.initMousePosition,{x:a.pageX,y:a.pageY},2);i&&s&&(t.selection.setIsMouseUpSelectionEnabled(!1),t.selection.deselectComponents(o))}},isPointsDistanceBiggerThan:function(e,t,o){var i=Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2);return Math.sqrt(i)>o},isComponentSelected:function(){return this.getEditorAPI().selection.isComponentSelected()},getComponentLabel:function(){return this.getEditorAPI().getComponentType(this.props.selectedComponents)},isCompDraggable:function(){var e=this.getEditorAPI();if(this.props.performingMouseMoveAction)return!0;var t=this.props.hoveredComp;if(t&&e.components.is.exist(t)){var o=e.components.is.controlledByParent(t);return m(e,t)&&e.components.is.draggable(o?e.components.getContainer(t):t)}return!1},getCompToShowMarginsIndicator:function(){var e=this.getEditorAPI();return this.props.attachCandidate?this.props.attachCandidate:this.props.isDragging?e.components.getContainer(this.getEditorAPI().selection.getSelectedComponents()):null},showMarginsIndicator:function(){var e=this.getEditorAPI(),t=this.getCompToShowMarginsIndicator();return t&&e.components.is.showMarginsIndicator(t)},getMarginsIndicatorStyles:function(e){var t=this.getEditorAPI(),o=t.components.layout.getRelativeToScreen(e),i=t.components.layout.getCompMargin(e);return{indicator:{top:o.y,left:o.x,width:o.width,height:o.height},marginLeft:Math.max(0,i.left),marginRight:Math.max(0,i.right),inlineWidth:o.width-n.sum(i)}},isRootComponent:function(e,t){return"SITE_FOOTER"===t.id||"SITE_HEADER"===t.id||t.id===e.documentServices.pages.getFocusedPageId()},isLabelBottom:function(){var e=this.getEditorAPI(),t=e.components.layout.getRelativeToScreen(this.props.hoveredComp),o=!t.fixedPosition,i=b(e.store.getState(),o,e.getLeftBarButtonsBoundingRect()),n=this.isRootComponent(this.getEditorAPI(),this.props.hoveredComp);return t.y-(n?20:16)<=i.y-d.UI.VIEWPORT_VERTICAL_MARGINS},render:r})}),define("rEditor/rootComps/textEditor.rt",["react","lodash","wixRichText"],function(e,t,o){"use strict";return function(){return e.createElement("div",{style:this.getTextEditorStyles(),className:this.props.isResizing?"resizing":""},e.createElement(o.TextEditor,{initialData:"<p></p>",onReady:this.setReady,validateHtml:!1,showToolbar:!1,documentServicesApi:this.getEditorAPI(),onCut:this.onCutOrCopy,onCopy:this.onCutOrCopy,stylesManager:this.getStyleManager(),onDataChange:this.handleDataChange,linksManager:this.getLinksManager(),shouldInjectFontsToDocument:!1}))}}),define("rEditor/rootComps/textEditor",["create-react-class","prop-types","lodash","rEditor/rootComps/textEditor.rt","core","util","stateManagement","textControls","experiment"],function(e,t,o,i,n,r,a,s,l){"use strict";var c=!1,p=a.editorPlugins.text.actions;return e({displayName:"textEditor",propTypes:{openPanels:t.array.isRequired},render:i,mixins:[n.mixins.editorAPIMixin],getComponentDataFromProps:function(e){return this.getEditorAPI().components.data.get(this.getTextComponentFromProps(e))},getTextComponentFromProps:function(e){return(e=e||this.props).selectedTextComp},getValue:function(){if(this.props.selectedTextComp){var e=this.getComponentDataFromProps();return{text:e.text,linkList:e.linkList}}return{text:"",linkList:[]}},setReady:function(e){var t=this;this.manager=e;var o=this.getEditorAPI();o.text.setCurrentTextEditor(this.manager),this.getEditorAPI().store.dispatch(p.textEditor.load(e)),this.manager.execCommand("wixCss",{id:"overFlowCss",value:"body {overflow: hidden !important;}",isLink:!1,force:!1}),l.isOpen("repeatersTextEdit")&&(this.manager.onAfterCommandExec(function(e){t.manager.isAllSelected()&&t.props.isRepeatedTextComp&&o.store.dispatch(p.invisibleTextEditor.execCmd(e))}),this.manager.onAfterUndo(function(){t.manager.isAllSelected()&&t.props.isRepeatedTextComp&&o.history.undo()}),this.manager.onAfterRedo(function(){t.manager.isAllSelected()&&t.props.isRepeatedTextComp&&o.history.redo()}))},componentDidUpdate:function(e){if(this._internalTextValue=this.getValue().text,this.manager&&this.props.selectedTextComp&&!e.isOpenTextEditor&&this.props.isOpenTextEditor){this.editedTextComponent=this.props.selectedTextComp;var t=r.browserUtil.isIE()?"none":"all",i=this.manager;this.manager.setData(this.getValue().text,{validateHtml:!1,cursorLocation:t,removeNestedStyles:!0,callback:function(){"none"===t&&i.commands.selectAll()}}),this.getEditorAPI().renderPlugins.setHideTextComponent(this.getTextComponentFromProps().id),this.manager.refreshPropsCollector(),this.manager.focus(),this.manager.resetUndo();var n=s.fontUtils.getUploadedUsedFonts(this.getValue().text,this.getEditorAPI().documentServices.theme.fonts.getAll());s.ckUtils.insertUploadedFontsToCk(n,this.manager),this.linksHelper.setCurrentLinks(this.getValue().linkList),this.getEditorAPI().openComponentPanel("textSettingsPanel",{onCmdStateChange:this.manager.onCmdStateChange.bind(this.manager),getCommandsStates:this.manager.getCommandsStates.bind(this.manager),unRegisterListener:this.manager.unRegisterListener.bind(this.manager),getLink:this.linksHelper.getLink.bind(this.linksHelper),saveLink:this.linksHelper.saveLink.bind(this.linksHelper)})}!this.manager&&!this.props.isResizing||o.isEqual(this.props.layout,e.layout)||this.manager.resize(this.props.layout.width,this.props.layout.height)},componentWillUpdate:function(e){(this.props.isOpenTextEditor&&this.props.selectedTextComp&&!o.isEqual(this.props.selectedTextComp,e.selectedTextComp)||this.props.isOpenTextEditor&&!e.isOpenTextEditor)&&this.stopTextEditing()},componentWillUnmount:function(){this.stopTextEditing(),this.getEditorAPI().text.setCurrentTextEditor(void 0),this.getEditorAPI().store.dispatch(p.textEditor.unload())},componentWillReceiveProps:function(e){var t=o.find(this.props.openPanels,{name:"panels.focusPanels.createNewTextBoxPanel"}),i=o.find(e.openPanels,{name:"panels.focusPanels.createNewTextBoxPanel"});t&&!i&&(s.ckUtils.setCkReadOnly(this.manager,!1,!0),this.manager.focus())},stopTextEditing:function(){if(!c&&o.isEqual(this.editedTextComponent,this.props.selectedTextComp)){if(this.props.isOpenTextEditor&&this.props.selectedTextComp){c=!0;var e=this.getEditorAPI(),t=this;this.stopRichTextInput(),this.getEditorAPI().renderPlugins.setHideTextComponent(null);var i=this.getTextComponentFromProps();e.documentServices.waitForChangesApplied(function(){t.deleteTextEditorComponentIfEmpty(i),c=!1})}this.getEditorAPI().text.stopEditing()}},stopRichTextInput:function(){this.clearUnusedLinks()},clearUnusedLinks:function(){if(this.manager){var e=this.linksHelper.getAllLinks(),t=this.manager.getLinkRefsList(),i=o.filter(e,function(e){return o.includes(t,e.id)});this.setComponentData({text:this._internalTextValue,linkList:i})}},handleDataChange:function(e){if(this.getTextComponentFromProps()&&!o.isEqual(e,this._internalTextValue)){this._internalTextValue=e;var t=this.getEditorAPI();if(this.isHtmlTooLong(e))s.textLimitsUtils.handleTextLengthExceeded(this.getEditorAPI().panelManager,this.manager);else{this.setComponentData({text:e,linkList:this.linksHelper.getAllLinks()}),t.history.debouncedAdd("text data change");var i=s.dataUtils.getTextContentFromHtml(e).length;s.textLimitsUtils.isNewTextLengthLimitExceeded(i)&&s.textLimitsUtils.handleTextLengthExceeded(this.getEditorAPI().panelManager,this.manager),s.textLimitsUtils.setCachedTextReadableLength(i)}}},setComponentData:function(e){var t=this.getComponentDataFromProps();t&&o.forOwn(e,function(e,o){t[o]=e}),this.getEditorAPI().components.data.update(this.getTextComponentFromProps(),t,!0)},isHtmlTooLong:function(e){var t=this.getEditorAPI().data.getSchema("StyledText");return o.get(t,"text.maxLength")<e.length},deleteTextEditorComponentIfEmpty:function(e){var t=this.getEditorAPI().components.data.get(e);if(t){var o=t.text;s.dataUtils.isEmptyHtmlText(o)&&this.getEditorAPI().components.remove(e)}},componentWillMount:function(){this.linksHelper=new s.LinksHelper([]),this.linksManager=new s.TextLinksManager(this.linksHelper),this.stylesManager={getFonts:o.partial(s.fontUtils.getCurrentSelectableFontsWithParams,this.getEditorAPI(),!1,!0)}},getStyleManager:function(){return this.stylesManager},getLinksManager:function(){return this.linksManager},onCutOrCopy:function(){this.linksHelper.cacheCopiedLinks()},getTextEditorStyles:function(){return this.props.layout.visibility||this.manager?this.props.isResizing?o.assign(this.props.layout,{pointerEvents:"none"}):this.props.layout:o.assign(this.props.layout,{visibility:"hidden"})}})}),define("rEditor/rootComps/invisibleTextEditorMapper",["lodash","textControls","stateManagement"],function(e,t,o){"use strict";var i=o.editorPlugins.text.actions;return function(o){var n=o.selection.getSelectedComponents();return{comps:n,getFonts:e.partial(t.fontUtils.getCurrentSelectableFontsWithParams,o,!1,!0),layout:n.length&&o.components.layout.getRelativeToScreen(n),loadTextEditingAPI:function(e){return o.store.dispatch(i.invisibleTextEditor.load(e))},unloadTextEditingAPI:function(){return o.store.dispatch(i.invisibleTextEditor.unload())},loadLinksHelper:function(e){return o.store.dispatch(i.invisibleTextEditor.loadLinksHelper(e))},unloadLinksHelper:function(){return o.store.dispatch(i.invisibleTextEditor.unloadLinksHelper())}}}}),define("rEditor/rootComps/invisibleTextEditor.rt",["react","lodash","wixRichText"],function(e,t,o){"use strict";return function(){return e.createElement("div",{style:{visibility:"hidden"}},e.createElement(o.TextEditor,{initialData:"<p></p>",onReady:this.setReady,validateHtml:!1,showToolbar:!1,stylesManager:this.getStyleManager(),linksManager:this.getLinksManager(),shouldInjectFontsToDocument:!1}))}}),define("rEditor/rootComps/invisibleTextEditor",["create-react-class","prop-types","lodash","higherOrderComponents","textControls","rEditor/rootComps/invisibleTextEditorMapper","rEditor/rootComps/invisibleTextEditor.rt"],function(e,t,o,i,n,r,a){"use strict";var s=e({displayName:"invisibleTextEditor",propTypes:{loadTextEditingAPI:t.func.isRequired,unloadTextEditingAPI:t.func.isRequired,loadLinksHelper:t.func.isRequired,unloadLinksHelper:t.func.isRequired},setReady:function(e){this.props.loadTextEditingAPI(e)},componentWillUnmount:function(){this.props.unloadLinksHelper(),this.props.unloadTextEditingAPI()},componentWillMount:function(){var e=new n.LinksHelper([]);this.props.loadLinksHelper(e),this.linksManager=new n.TextLinksManager(e),this.stylesManager={getFonts:this.props.getFonts}},getStyleManager:function(){return this.stylesManager},getLinksManager:function(){return this.linksManager},getTextEditorStyles:function(){return this.props.layout},render:a}),l=i.connectEditorAPI(r)(i.renderWhenMutated(s));return l.pure=s,l}),define("rEditor/rootComps/gridLines/gridLines.rt",["react","lodash"],function(e,t){"use strict";return function(){return e.createElement.apply(this,["svg",{className:"gridLines "+t({fade:this.props.fade}).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},t.map(this.props.gridLines,function(t,o){return e.createElement("line",{key:o+"backLine",x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,className:"backLine"})}.bind(this)),t.map(this.props.gridLines,function(t,o){return e.createElement("line",{key:o+"frontLine",x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,className:"frontLine"})}.bind(this))])}}),define("rEditor/rootComps/gridLines/gridLines",["lodash","create-react-class","prop-types","higherOrderComponents","rEditor/rootComps/gridLines/gridLines.rt"],function(e,t,o,i,n){"use strict";var r=t({displayName:"gridLines",propTypes:{gridLines:o.arrayOf(o.object),fade:o.bool},getDefaultProps:function(){return{fade:!1}},render:n}),a=i.renderWhenMutated(r);return a.pure=r,a}),define("rEditor/rootComps/rulers/guide.rt",["react","lodash","baseUI","symbols"],function(e,t,o,i){"use strict";return function(){return e.createElement("div",{className:this.props.rulerDirection+"-guide-container",style:this.getGuideContainerStyle()},e.createElement("div",{className:this.props.rulerDirection+"-guide",style:this.getGuideStyle()}),e.createElement("div",{ref:"guide",className:this.props.rulerDirection+"-guide-catcher",onClick:this.handleGuideClick,onMouseDown:function(e){this.onContainerMouseDown(e)}.bind(this),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},e.createElement("div",{className:this.props.rulerDirection+"-guide-handler"},this.shouldShowSelectedGuide()?e.createElement(i.symbol,{key:"selected",name:"guidesHandler_selected"}):null,this.shouldShowSelectedGuide()?null:e.createElement(i.symbol,{key:"regular",name:"guidesHandler_regular"}))),this.getBubbleMode()?e.createElement(o.bubble,t.assign({},{ref:"bubble",key:"hoverBubble"},this.getBubbleProps())):null)}}),define("rEditor/rootComps/rulers/rulersComputations",["lodash","zepto"],function(e,t){"use strict";function o(e,t,o,i,n){for(var r=function(e,t,o,i,n){var r=0,a="vertical"===n?Math.floor(t.width/100):Math.round((t.height+t.y)/100);return e&&"horizontal"===n&&(a=Math.floor((o+i.top)/100)),e||"horizontal"!==n||(r=Math.floor(t.y/100)+1),[r,a]}(e,t,o,i,n),a=r[0],s=r[1],l=[],c=a;c<=s;c++)l.push(100*c);return l}function i(e,t,o,i){var r=e?0:-t.x;return{vertical:{min:r,max:e?t.width:i-t.x,minInView:r},horizontal:{min:e?0:n,max:o.maxBottomY+o.marginBottom,minInView:e?o.scrollTop:o.scrollTop+n}}}var n=22;return{getRulerNumbers:o,isGuideOutOfLimits:function(e,t,o,n,r,a){var s=i(e,t,o,n);return s="vertical"===r?s.vertical:s.horizontal,a<s.min||a>s.max},isGuideOutOfViewLimits:function(e,t,o,n,r,a){var s=i(e,t,o,n);return s="vertical"===r?s.vertical:s.horizontal,a<s.minInView||a>s.max},getMobileHorizontalTicksHeight:function(e){return e?e.maxBottomY+e.marginBottom:0},calcNewGuidePosition:function(e,t,o,i,n){return"vertical"===i?n.pageX-e.left-o.x:n.pageY-e.top+t.y},calcHorizontalDraggingPosition:function(e,o){return e-(t(o).offset().top-parseInt(t(o).css("top"),10))},getVerticalTicksWidth:function(e,t){return e?t.width:"calc(100% - "+n+"px)"},getVerticalGuidePosition:function(e,t,o){return e?o:o+t.x}}}),define("rEditor/rootComps/rulers/guide",["reactDOM","create-react-class","prop-types","lodash","higherOrderComponents","constants","rEditor/rootComps/rulers/guide.rt","rEditor/rootComps/rulers/rulersComputations"],function(e,t,o,i,n,r,a,s){"use strict";var l=t({displayName:"guide",propTypes:{rulerDirection:o.string.isRequired,guidePosition:o.number.isRequired,guideId:o.string.isRequired,isSelected:o.bool,isGuideOutOfLimitsFunc:o.func.isRequired,startDrag:o.func.isRequired,isBeingDragged:o.bool.isRequired,endDrag:o.func.isRequired,registerDragCallbacks:o.func.isRequired,isMouseOverRulers:o.bool,toolsHidden:o.bool,disableInteraction:o.bool,pagesContainerAbsLayout:o.object.isRequired,isMobileEditor:o.bool.isRequired,sendBIEvent:o.func.isRequired,selectGuide:o.func.isRequired,deselectGuide:o.func.isRequired,removeGuideById:o.func.isRequired,updateStateOnDragEnd:o.func.isRequired,startGuideDrag:o.func.isRequired,changeGuidePosition:o.func.isRequired,previewSize:o.object.isRequired},getInitialState:function(){return this.preventClickAfterDragEnd=!1,this.props.registerDragCallbacks({onDragStart:this.onDragStart,whileDrag:this.whileDrag,onDragEnd:this.onDragEnd}),{isHoverBubble:!1,mouseOverGuide:!1,guidePosition:this.props.guidePosition,stepperSymbol:"guideToolTipTrash",stepperValueInvalid:!1,selectedDueToHoverBubbleClick:!1,isFirstRender:!0}},componentWillReceiveProps:function(e){this.props.isBeingDragged||this.setState({stepperValueInvalid:!1,guidePosition:e.guidePosition})},componentWillUpdate:function(e,t){!this.props.toolsHidden&&e.toolsHidden&&e.isSelected&&this.props.deselectGuide(),!this.state.isHoverBubble&&t.isHoverBubble&&this.props.sendBIEvent("GUIDE_TOOLTIP_APPEAR",{})},setGuideSelected:function(e){this.state.isFirstRender&&this.setState({isFirstRender:!1}),this.props.selectGuide(this.props.guideId,e),this.setState({stepperValueInvalid:!1,stepperSymbol:"guideToolTipTrash"})},shouldShowSelectedGuide:function(){return this.props.isBeingDragged||this.state.mouseOverGuide||this.props.isSelected},getGuideContainerStyle:function(){return"horizontal"===this.props.rulerDirection?{top:this.state.guidePosition}:{left:s.getVerticalGuidePosition(this.props.isMobileEditor,this.props.pagesContainerAbsLayout,this.state.guidePosition)}},getGuideStyle:function(){var e=this.props.previewSize;if("horizontal"===this.props.rulerDirection){var t=e.width;return{left:-t,width:t}}return{height:this.props.isMobileEditor?e.height+r.UI.MOBILE_PREVIEW_TOP:e.height}},removeGuide:function(){this.props.removeGuideById(this.props.guideId)},onDragStart:function(){this.props.startGuideDrag(),this.setState({stepperValueInvalid:!1,stepperSymbol:"guideToolTipTrash"})},getDragPosition:function(t){var o=e.findDOMNode(this);return"horizontal"===this.props.rulerDirection?s.calcHorizontalDraggingPosition(t.top,o):t.left-this.props.pagesContainerAbsLayout.x},whileDrag:function(e){var t=this.getDragPosition(e);this.props.isGuideOutOfLimitsFunc(t)?this.props.endDrag():this.setState({guidePosition:t})},onDragEnd:function(e){this.props.updateStateOnDragEnd(this.props.isMouseOverRulers);var t=this.getDragPosition(e);this.props.isGuideOutOfLimitsFunc(t)?(this.props.sendBIEvent("GUIDE_DELETED",{origin:"drag_outside"}),this.removeGuide()):(this.sendDragBIEvent(this.props.guidePosition,t),this.preventClickAfterDragEnd=!0,this.props.changeGuidePosition(this.props.rulerDirection,this.props.guideId,t))},getDragLimits:function(){return"horizontal"===this.props.rulerDirection?{lockedX:!0}:{lockedY:!0}},sendDragBIEvent:function(e,t){var o={xCoordinate_new:0,xCoordinate_old:0,yCoordinate_new:0,yCoordinate_old:0};"vertical"===this.props.rulerDirection?(o.xCoordinate_new=t,o.xCoordinate_old=e):(o.yCoordinate_new=t,o.yCoordinate_old=e),this.props.sendBIEvent("GUIDE_DRAGGED",o)},closeHoverBubble:function(){this.setState({isHoverBubble:!1})},deselectGuide:function(){this.props.isBeingDragged||this.props.deselectGuide()},onStepperValueChangeApproval:function(e){this.props.isGuideOutOfLimitsFunc(i.parseInt(e))||(this.props.changeGuidePosition(this.props.rulerDirection,this.props.guideId,i.parseInt(e)),this.setState({stepperSymbol:"smallVApproval"}),window.setTimeout(this.deselectGuide.bind(this),700))},onStepperSteppingValueChange:function(e){var t=i.parseInt(e),o=!this.props.isGuideOutOfLimitsFunc(t),n=this.props.guidePosition===e;this.sendStepperValueChangeBIEvent(e,o,n),this.setState({stepperValueInvalid:!o}),o?this.props.changeGuidePosition(this.props.rulerDirection,this.props.guideId,t):window.setTimeout(function(){this.setState({stepperValueInvalid:!1})}.bind(this),900)},sendStepperValueChangeBIEvent:function(e,t,o){var i=void 0;i=o?"no_change":t?"accepted":"denied";var n={type:this.props.rulerDirection,value:e,valid_value:i};this.props.sendBIEvent("VALUE_CHANGE_IN_GUIDE_TOOLTIP",n)},stepperSymbolClickFunc:function(){"guideToolTipTrash"===this.state.stepperSymbol&&(this.props.sendBIEvent("GUIDE_DELETED",{origin:"trash_icon"}),this.removeGuide())},stepperClick:function(){this.state.isHoverBubble?(this.setState({isHoverBubble:!1,stepperValueInvalid:!1,stepperSymbol:"guideToolTipTrash",selectedDueToHoverBubbleClick:!0}),this.setGuideSelected("click_on_tooltip")):this.setState({stepperValueInvalid:!1,stepperSymbol:"guideToolTipTrash"})},getStepperWithSVGProps:function(){return{showSymbol:this.props.isSelected&&!this.state.isFirstRender,stepperClickFunc:this.stepperClick,symbolClickFunc:this.stepperSymbolClickFunc,symbolName:this.state.stepperSymbol,stepperProps:{min:-99999,max:99999,step:1,selectedUnits:"px",units:"px",afterBlur:this.onStepperValueChangeApproval,isInvalidValue:this.state.stepperValueInvalid,valueLink:{value:this.state.guidePosition,requestChange:this.onStepperSteppingValueChange},dynamicInputSize:{characterWidth:10,minWidth:20},inputInFocus:this.state.selectedDueToHoverBubbleClick}}},getOverridePositionAdjustments:function(e){if("horizontal"!==this.props.rulerDirection)return{type:r.UI.TOOLTIP.ALIGNMENT.TOP,value:"hover"===e?3:6}},getBubbleMode:function(){return this.props.isSelected&&!this.state.isFirstRender?"selected":this.state.isHoverBubble&&!this.props.toolsHidden?"hover":null},getHoverBubbleProps:function(){return{closeTrigger:[],hideMethod:this.closeHoverBubble,timeoutForMouseOverBubble:600,mouseLeftTargetNode:!this.props.isBeingDragged&&!this.state.mouseOverGuide,className:"hover-bubble"}},getSelectedBubbleProps:function(){return{closeTrigger:[r.UI.TOOLTIP.TRIGGERS.OUTER_CLICK],hideMethod:this.deselectGuide,timeoutForMouseOverBubble:0,mouseLeftTargetNode:null,className:"selected-bubble"}},getBubbleProps:function(){var t=this.getBubbleMode(),o="hover"===t?this.getHoverBubbleProps():this.getSelectedBubbleProps(),i=this.getOverridePositionAdjustments(t),n="horizontal"===this.props.rulerDirection?5:-5,a="horizontal"===this.props.rulerDirection?r.UI.TOOLTIP.ALIGNMENT.LEFT:r.UI.TOOLTIP.ALIGNMENT.RIGHT;return{value:{classPath:"baseUI.stepperWithSVG",props:this.getStepperWithSVGProps()},styleType:r.UI.TOOLTIP.STYLE_TYPE.NORMAL,alignment:a,noArrow:!0,targetNode:e.findDOMNode(this.refs.guide),closeTriggers:o.closeTrigger,hideMethod:o.hideMethod,marginsFromWindow:0,mouseLeftTargetNode:o.mouseLeftTargetNode,marginsFromElement:n,timeoutForMouseOverBubble:o.timeoutForMouseOverBubble,overridePositionAdjustments:i,customClasses:[o.className]}},onContainerMouseDown:function(e){e.stopPropagation(),this.props.toolsHidden||this.props.startDrag(e,this.getDragLimits())},onMouseLeave:function(){this.setState({mouseOverGuide:!1})},activateHoverBubble:function(){this.state.mouseOverGuide&&this.setState({isHoverBubble:!0,selectedDueToHoverBubbleClick:!1})},onMouseEnter:function(){!this.props.disableInteraction&&(!this.props.isSelected&&!this.props.toolsHidden||this.props.isSelected&&this.state.isFirstRender)&&(this.setState({mouseOverGuide:!0}),window.setTimeout(this.activateHoverBubble,500))},handleGuideClick:function(e){e.stopPropagation(),this.props.disableInteraction||this.props.toolsHidden||(this.state.isHoverBubble&&this.setState({isHoverBubble:!1}),this.preventClickAfterDragEnd?this.preventClickAfterDragEnd=!1:this.setGuideSelected("click_on_guide"))},render:a});return n.draggable(l)}),define("rEditor/rootComps/rulers/rulers.rt",["react","lodash","rEditor/rootComps/rulers/guide"],function(e,t,o){"use strict";return function(){return e.createElement.apply(this,["div",{className:this.getRootClasses(),ref:"rulerContainer",style:this.getRulersStyle(),onMouseDown:this.handleMouseDown,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onContextMenu:function(e){e.preventDefault()}.bind(this)},this.props.toolsHidden?null:e.createElement("div",{className:this.props.rulerDirection+"-ticks",key:this.props.rulerDirection+"-ruler"},this.props.isMobileEditor||"vertical"!==this.props.rulerDirection?null:e.createElement("div",{className:"rulers-separator-blocker",key:"rulers-separator-blocker"}),this.props.isMobileEditor||"horizontal"!==this.props.rulerDirection?null:e.createElement("div",{className:"rulers-separator "+t({"rulers-separator-hover":this.props.isHovered}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),key:"rulers-separator"}),e.createElement("div",{className:"rulers-background "+t({"rulers-background-hover":this.props.isHovered,"rulers-background-mobile":this.props.isMobileEditor}).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},e.createElement("div",{className:"rulers-"+this.props.rulerDirection+"-ticks",style:this.getTicksPositionInBackgroundStyle()}),e.createElement.apply(this,["div",{className:"ruler-numbers-container",style:this.getRulersNumbersStyle()},t.map(this.getRulerNumbers(),function(t,o){return e.createElement("div",{key:"number-"+t,className:"ruler-number"},t)}.bind(this))]))),t.map(this.props.guidesInRuler,function(t,i){return e.createElement(o,{key:t.guideId,rulerDirection:this.props.rulerDirection,guidePosition:t.guidePosition,guideId:t.guideId,isSelected:this.props.selectedGuideId===t.guideId,isGuideOutOfLimitsFunc:this.isGuideOutOfLimits,isMouseOverRulers:this.isMouseOver,toolsHidden:this.props.toolsHidden,startGuideDrag:this.props.startGuideDrag,disableInteraction:this.props.isDragging,pagesContainerAbsLayout:this.props.pagesContainerAbsLayout,isMobileEditor:this.props.isMobileEditor,sendBIEvent:this.props.sendBIEvent,selectGuide:this.props.selectGuide,deselectGuide:this.props.deselectGuide,removeGuideById:this.props.removeGuideById,updateStateOnDragEnd:this.props.updateStateOnDragEnd,changeGuidePosition:this.props.changeGuidePosition,previewSize:this.props.previewSize})}.bind(this))])}}),define("rEditor/rootComps/rulers/rulers",["reactDOM","zepto","create-react-class","prop-types","lodash","util","stateManagement","higherOrderComponents","rEditor/rootComps/rulers/rulers.rt","rEditor/rootComps/rulers/rulersComputations"],function(e,t,o,i,n,r,a,s,l,c){"use strict";var p=o({displayName:"rulers",propTypes:{rulerDirection:i.string.isRequired,guidesInRuler:i.array.isRequired,selectedGuideId:i.string,isHovered:i.bool,previewHeight:i.number,toolsHidden:i.bool,selectedComponents:i.array,isDragging:i.bool,previewSize:i.object.isRequired,sendBIEvent:i.func.isRequired,isMobileEditor:i.bool.isRequired,previewPosition:i.object.isRequired,siteScroll:i.object.isRequired,pagesContainerAbsLayout:i.object.isRequired,viewPort:i.object,selectedGuideData:i.object,removeGuideViaDelBtn:i.func.isRequired,changeGuidePositionByPixels:i.func.isRequired,deselectGuide:i.func.isRequired,setVerticalGuide:i.func.isRequired,setHorizontalGuide:i.func.isRequired,updateIsHovered:i.func.isRequired,startGuideDrag:i.func.isRequired},getInitialState:function(){this.isMouseOver=!1,this.verticalRulersComponentWidth=null;var e=r.keyboardShortcuts.extendContext(r.keyboardShortcuts.CONTEXTS.EDITOR,this.getRulersKeyboardShortcuts());return r.keyboardShortcuts.registerContext(r.keyboardShortcuts.CONTEXTS.RULERS,e),{}},componentDidMount:function(){"vertical"===this.props.rulerDirection&&(this.verticalRulersComponentWidth=this.getVerticalRulerWidth())},componentDidUpdate:function(e){!e.isHovered&&this.props.isHovered&&"vertical"===e.rulerDirection&&this.props.sendBIEvent("RULERS_HOVER",{}),n.isEmpty(e.selectedComponents)&&!n.isEmpty(this.props.selectedComponents)&&this.props.selectedGuideId&&this.props.deselectGuide(),"vertical"===this.props.rulerDirection&&(this.verticalRulersComponentWidth=this.getVerticalRulerWidth())},componentWillUnmount:function(){r.keyboardShortcuts.unregisterContext(r.keyboardShortcuts.CONTEXTS.RULERS)},getRulersKeyboardShortcuts:function(){return{"del,backspace":this.props.removeGuideViaDelBtn,"shift + right":n.partial(this.changeGuidePositionViaKeyboard,"vertical",10),"shift + left":n.partial(this.changeGuidePositionViaKeyboard,"vertical",-10),"shift + up":n.partial(this.changeGuidePositionViaKeyboard,"horizontal",-10),"shift + down":n.partial(this.changeGuidePositionViaKeyboard,"horizontal",10),left:n.partial(this.changeGuidePositionViaKeyboard,"vertical",-1),right:n.partial(this.changeGuidePositionViaKeyboard,"vertical",1),up:n.partial(this.changeGuidePositionViaKeyboard,"horizontal",-1),down:n.partial(this.changeGuidePositionViaKeyboard,"horizontal",1)}},changeGuidePositionViaKeyboard:function(e,t){this.isGuideOutOfLimits(this.props.selectedGuideData.guidePosition+t,!1,e)||this.props.changeGuidePositionByPixels(e,t)},getVerticalRulerWidth:function(){var t=this.refs.rulerContainer&&e.findDOMNode(this.refs.rulerContainer);return t?t.getBoundingClientRect().width:0},getRulerNumbers:function(){var e=this.props.previewHeight,t=this.props,o=t.rulerDirection,i=t.previewPosition,n=t.isMobileEditor,r=t.pagesContainerAbsLayout;return c.getRulerNumbers(n,r,e,i,o)},getRulersNumbersStyle:function(){return"vertical"===this.props.rulerDirection?{left:this.props.isMobileEditor?4:this.props.pagesContainerAbsLayout.x+4}:{top:this.props.isMobileEditor?1:100*Math.floor(this.props.pagesContainerAbsLayout.y/100)+80+1}},getRootClasses:function(){var e=["rulers",this.props.isMobileEditor&&"mobile-editor-rulers","vertical"===this.props.rulerDirection?"vertical-ruler":"horizontal-ruler"];return n(e).compact().join(" ")},getRulersStyle:function(){if("vertical"===this.props.rulerDirection){var e=this.props.pagesContainerAbsLayout,t={width:c.getVerticalTicksWidth(this.props.isMobileEditor,e)};return this.props.isMobileEditor&&(t.left=e.x),t}return this.props.isMobileEditor?{height:c.getMobileHorizontalTicksHeight(this.props.viewPort)}:{}},getTicksPositionInBackgroundStyle:function(){if("vertical"===this.props.rulerDirection){var e=this.props.pagesContainerAbsLayout;return{backgroundPosition:this.props.isMobileEditor?0:e.x+1}}return this.props.isMobileEditor?{backgroundPosition:"5px 0"}:{backgroundPosition:"5px -21px"}},isGuideOutOfLimits:function(e,t,o){var i=this.props.pagesContainerAbsLayout;return o=o||this.props.rulerDirection,t?c.isGuideOutOfViewLimits(this.props.isMobileEditor,i,this.props.viewPort,this.verticalRulersComponentWidth,o,e,t):c.isGuideOutOfLimits(this.props.isMobileEditor,i,this.props.viewPort,this.verticalRulersComponentWidth,o,e,t)},handleMouseEnter:function(e){t(e.target).hasClass("vertical-guide")||t(e.target).hasClass("horizontal-guide")||(this.isMouseOver=!0,this.props.updateIsHovered(!0))},handleMouseLeave:function(){this.isMouseOver=!1,this.props.isDragging||this.props.updateIsHovered(!1)},handleMouseDown:function(e){if(n.includes(["rulers-vertical-ticks","rulers-horizontal-ticks","ruler-number","ruler-numbers-container"],e.target.className)){var t=c.calcNewGuidePosition(this.props.previewPosition,this.props.siteScroll,this.props.pagesContainerAbsLayout,this.props.rulerDirection,e);this.isGuideOutOfLimits(t,!0)||this.setNewGuide(t)}},setNewGuide:function(e){var t={};"vertical"===this.props.rulerDirection?(this.props.setVerticalGuide(e),t={xCoordinate:e,yCoordinate:0}):(this.props.setHorizontalGuide(e),t={xCoordinate:0,yCoordinate:e}),this.props.sendBIEvent("RULERS_CLICKED",t)},render:l}),d=a.editorPlugins.rulers.actions,u=d.changeGuidePosition,m=d.changeGuidePositionByPixels,g=d.updateEditorRulersState,f=d.sendBIEvent,h=d.removeGuideViaDelBtn,b=d.selectGuide,y=d.deselectGuide,v=d.setVerticalGuide,S=d.setHorizontalGuide,P=d.removeGuideById,E=d.updateStateOnDragEnd,C=a.editorPlugins.rulers.selectors,T=C.getSelectedGuideData,I=C.getSelectedGuideId,_=C.getHorizontalGuides,O=C.getVerticalGuides,M=a.editorPlugins.siteSegments.selectors.getPagesContainerAbsLayout,w=a.editorPlugins.selection.selectors.getSelectedCompsRefs,A=n.flowRight(s.connect(function(e,t,o){var i="horizontal"===t.rulerDirection?_(e):O(e);return{previewPosition:a.editorPlugins.domMeasurements.selectors.getPreviewPosition(e),siteScroll:o.site.getScroll(),pagesContainerAbsLayout:M(o),isMobileEditor:a.editorPlugins.leftBar.selectors.isMobileEditor(e),selectedGuideData:T(e),selectedComponents:w(e),guidesInRuler:i,selectedGuideId:I(e)}},function(e){return{sendBIEvent:function(t,o){return e(f(t,o))},removeGuideViaDelBtn:function(){return e(h())},changeGuidePosition:function(t,o,i){return e(u(t,o,i))},changeGuidePositionByPixels:function(t,o){return e(m(t,o))},selectGuide:function(t,o){return e(b(t,o))},deselectGuide:function(){return e(y())},setVerticalGuide:function(t){return e(v(t))},setHorizontalGuide:function(t){return e(S(t))},updateIsHovered:function(t){return e(g("isHovered",t))},startGuideDrag:function(){return e(g("isDragging",!0))},updateStateOnDragEnd:function(t){return e(E(t))},removeGuideById:function(t){return e(P(t))}}}),s.renderWhenMutated)(p);return A.pure=p,A}),define("rEditor/rootComps/mobileFrame/mobileFrame.rt",["react","lodash"],function(e,t){"use strict";return function(){return e.createElement("div",{className:t({"mobile-frame":!0,previewMode:this.props.previewMode}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),style:this.getFrameStyle()},e.createElement("div",{className:"block-layer bottom"}),e.createElement("div",{className:"mobile-frame-top"}),e.createElement("div",{className:"site-shadow",key:"mobile-site-shadow"}),e.createElement("div",{className:"mobile-frame-bottom",onClick:function(e){this.mobileDeviceBtnClick(e)}.bind(this)}))}}),define("rEditor/rootComps/mobileFrame/mobileFrame",["lodash","create-react-class","prop-types","reactDOM","higherOrderComponents","rEditor/rootComps/mobileFrame/mobileFrame.rt"],function(e,t,o,i,n,r){"use strict";var a=t({displayName:"mobileFrame",propTypes:{displayShadow:o.bool,siteScale:o.number,previewMode:o.bool.isRequired,refreshMobileFramePosition:o.func,mobileDeviceBtnClick:o.func,siteX:o.number},componentDidMount:function(){this.updateMobileFramePosition()},componentDidUpdate:function(){this.updateMobileFramePosition()},mobileDeviceBtnClick:function(t){var o=t.clientX,n=window.innerWidth/2;if(Math.abs(o-n)<25){var r=i.findDOMNode(this),a=e.head(r.getElementsByClassName("mobile-frame-bottom")).getBoundingClientRect(),s=t.clientY-a.top;s>14&&s<58&&this.props.mobileDeviceBtnClick()}},updateMobileFramePosition:function(){e(i.findDOMNode(this).getBoundingClientRect()).pick(["top","left","height","width"]).thru(this.props.refreshMobileFramePosition).value()},getFrameStyle:function(){var e={left:this.props.siteX};return this.props.previewMode||1===this.props.siteScale||(e.height=Math.round(100/this.props.siteScale)+"%",e.transform="scale("+this.props.siteScale+")"),e},render:r});return n.renderWhenMutated(a)}),define("rEditor/utils/mouseMoveActions/baseSpace",["lodash","core","constants"],function(e,t,o){"use strict";var i=t.utils.layoutTransitionsUtil,n=void 0,r=void 0,a=void 0,s=void 0,l=void 0,c=void 0,p=void 0,d=void 0;return{start:function(t,o){s=t,r=o.compsToPush,a=o.snapThreshold||0;var l=e.map(r,"id");s.documentServices.renderPlugins.setCompsToShowOnTop(l);var u=e.omit(s.components.layout.getRelativeToScreen(r),"bounding"),m=e.map(r,function(t){return e.omit(s.components.layout.getRelativeToScreen(t),"bounding")});c=o.minY,p=o.onSpaceEnd,d=o.onSpace;var g={x:o.evt.pageX,y:o.evt.pageY};n=new i.Drag(u,g,m)},on:function(t){var o={x:t.pageX,y:t.pageY},i=n.getLayout(o);i.y=Math.max(i.y,c),i.y-a<=c&&(i.y=c),l=n.getBoundComponentLayouts(i);for(var p=0;p<r.length;p++)s.components.layout.updateRelativeToScreenAndAdjustLayout(r[p],e.pick(l[p],"y"));e.isFunction(d)&&d(o.x,o.y)},end:function(){if(l){for(var t=0;t<r.length;t++)s.components.layout.updateRelativeToScreen(r[t],e.pick(l[t],"y"));l=null}s.documentServices.renderPlugins.setCompsToShowOnTop(null),e.isFunction(p)&&p()},type:o.MOUSE_ACTION_TYPES.SPACER}}),define("rEditor/rootComps/sectionsReorganize/sectionControlsButton.rt",["react","lodash","baseUI"],function(e,t,o){"use strict";return function(){return e.createElement(o.tooltip,{value:this.props.tooltip,styleType:"small",disabled:!this.props.tooltip},e.createElement("div",{className:"section-controls-button "+(this.props.label?"with-label":"")+" "+(this.props.isDisabled?"disabled":""),onClick:function(){this.onClick()}.bind(this),onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave},e.createElement(o.symbol,{name:this.props.symbol}),e.createElement("span",{},this.props.label)))}}),define("rEditor/rootComps/sectionsReorganize/sectionControlsButton",["create-react-class","prop-types","lodash","rEditor/rootComps/sectionsReorganize/sectionControlsButton.rt"],function(e,t,o,i){"use strict";return e({displayName:"sectionControlsButton",propTypes:{onClick:t.func,tooltip:t.string,symbol:t.string.isRequired,isDisabled:t.bool},onClick:function(){this.isDisabled||this.props.onClick()},render:i})}),define("rEditor/rootComps/sectionsReorganize/sectionControls.rt",["react","lodash","baseUI","util","rEditor/rootComps/sectionsReorganize/sectionControlsButton","constants"],function(e,t,o,i,n,r){"use strict";return function(){return function(){var a=this.getSectionStyle();return e.createElement("div",{className:t(this.getSectionControlsClasses()).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),style:a},e.createElement("div",{className:"highlight "+(this.props.isDragging?"with-shadow":""),style:this.getHighlightStyle(),onMouseDown:this.props.onDragHandleMouseDown}),this.shouldDisplayReorderButtons()?e.createElement("div",{key:"reorder-buttons",className:"section-buttons-wrapper",style:this.getButtonsWrapperStyle()},e.createElement("div",{className:"section-buttons"},e.createElement(n,t.assign({},{onClick:this.props.isFirstSection?t.noop:this.props.onUpClicked,tooltip:"ZoomOut_Section_Tooltip_Move_Up",symbol:"sectionMoveUp",",":!0,isDisabled:this.props.isFirstSection},this.getControlButtonProps())),e.createElement(n,t.assign({},{onClick:this.props.isLastSection?t.noop:this.props.onDownClicked,tooltip:"ZoomOut_Section_Tooltip_Move_Down",symbol:"sectionMoveDown",isDisabled:this.props.isLastSection,",":!0},this.getControlButtonProps())),this.props.isMobileEditor?null:e.createElement(n,t.assign({},{key:"duplicate_btn",onClick:this.props.onDuplicateClicked,tooltip:"ZoomOut_Section_Tooltip_Copy_Section",symbol:"sectionDuplicate"},this.getControlButtonProps())),this.props.isSectionRemovable?e.createElement(n,t.assign({},{key:"remove_btn",onClick:this.props.onDeleteClicked,tooltip:this.props.isMobileEditor?"ZoomOut_Section_Tooltip_Hide_Section":"ZoomOut_Section_Tooltip_Delete_Section",symbol:this.props.isMobileEditor?"sectionMobileHide":"sectionDelete"},this.getControlButtonProps())):null)):null,this.props.isGap&&!this.props.isInCropMode?e.createElement("div",{key:"gap-delete",className:"section-buttons-wrapper",style:this.getButtonsWrapperStyle()},e.createElement("div",{className:"section-buttons"},e.createElement(n,t.assign({},{onClick:this.props.onDeleteClicked,symbol:"sectionDelete",label:i.translate("ZoomOut_Delete_Space_Tooltip")},this.getControlButtonProps())))):null,this.props.isHeader||this.props.isFooter?e.createElement("div",{key:"header-footer-info",className:"section-buttons-wrapper",style:this.getButtonsWrapperStyle()},e.createElement("div",{className:"section-buttons"},!this.props.isHeader||this.props.isMobileEditor&&1===this.props.siteScale?null:e.createElement(o.tooltip,{key:"header-info",value:"ZoomOut_Header_Tooltip",styleType:"small",alignment:r.UI.TOOLTIP.ALIGNMENT.BOTTOM},e.createElement("div",{className:"header-footer-info",onMouseEnter:this.onHeaderOver},e.createElement(o.symbol,{name:"infoIcon",className:"info-icon"}),e.createElement("span",{className:"info-text"},i.translate("ZoomOut_Header")))),this.props.isFooter?e.createElement(o.tooltip,{key:"footer-info",value:"ZoomOut_Footer_Tooltip",styleType:"small",alignment:r.UI.TOOLTIP.ALIGNMENT.TOP},e.createElement("div",{className:"header-footer-info",onMouseEnter:this.onFooterOver},e.createElement(o.symbol,{name:"infoIcon",className:"info-icon"}),e.createElement("span",{className:"info-text"},i.translate("ZoomOut_Footer")))):null)):null)}.apply(this,[])}}),define("rEditor/rootComps/sectionsReorganize/sectionControls",["create-react-class","prop-types","lodash","core","stateManagement","coreBi","rEditor/rootComps/sectionsReorganize/sectionControls.rt"],function(e,t,o,i,n,r,a){"use strict";var s=n.editorPlugins.leftBar.selectors.getDeviceType;return e({displayName:"sectionControls",propTypes:{isMobileEditor:t.bool,layout:t.object.isRequired,siteScale:t.number.isRequired,showDragHighlight:t.bool,isDragging:t.bool,isGap:t.bool,isSpacing:t.bool,isHeader:t.bool,isFooter:t.bool,isStaticSection:t.bool,isInCropMode:t.bool,isSectionRemovable:t.bool,onDragHandleMouseDown:t.func,onUpClicked:t.func,onDownClicked:t.func,onDuplicateClicked:t.func,onDeleteClicked:t.func},mixins:[i.mixins.editorAPIMixin],getDefaultProps:function(){return{isMobileEditor:!1,showDragHighlight:!1}},getInitialState:function(){return{isHoveringControlButton:!1}},componentWillMount:function(){this._setControlButtonHoverState=o.debounce(this.setControlButtonHoverState,100),this.throttledBi=o.throttle(this.bi,50,{leading:!1,trailing:!0})},getSectionControlsClasses:function(){return{"section-controls":!0,"show-highlight":this.props.showDragHighlight||this.state.isHoveringControlButton,"no-drag-handle":this.state.isHoveringControlButton||this.props.isSpacing,"header-footer-blocker":this.props.isHeader||this.props.isFooter||this.props.isStaticSection}},getSectionStyle:function(){return{top:this.props.layout.y*this.props.siteScale,height:this.props.layout.height*this.props.siteScale}},getHighlightStyle:function(){var e={width:"calc("+(this.props.isMobileEditor?"320px":"100%")+" * "+this.props.siteScale+" + 2px)"};return 1===this.props.siteScale&&(e.pointerEvents="none"),e},setControlButtonHoverState:function(e){this.state.isHoveringControlButton!==e&&this.setState({isHoveringControlButton:e})},shouldDisplayReorderButtons:function(){return!(this.props.isHeader||this.props.isFooter||this.props.isStaticSection||this.props.isGap||this.props.isDragging||this.props.isInCropMode)},getControlButtonProps:function(){var e=this;return{onMouseEnter:function(){e._setControlButtonHoverState(!0)},onMouseLeave:function(){e._setControlButtonHoverState(!1)}}},getButtonsWrapperStyle:function(){var e="calc(25% + 100% * "+this.props.siteScale+" + 36px)";return this.props.isMobileEditor&&(e="calc(50% + 320px / 2 * "+this.props.siteScale+" + 36px)"),{height:this.props.layout.height*this.props.siteScale,left:e}},bi:function(e){var t=this.getEditorAPI(),o=t.store.getState();t.store.dispatch(n.editorPlugins.bi.actions.event(e,{editor_view_mode:s(o)}))},onHeaderOver:function(){this.throttledBi(r.events.sectionReorganize.header_tooltip_hover)},onFooterOver:function(){this.throttledBi(r.events.sectionReorganize.footer_tooltip_hover)},render:a})}),define("rEditor/rootComps/recommendedMobileHeaderHeight/recommendedMobileHeaderHeight.rt",["react","lodash","util","baseUI","baseUILib"],function(e,t,o,i,n){"use strict";return function(){return e.createElement("div",{className:t({"recommended-mobile-header-height":!0,selected:this.isHeaderSelected()&&!this.props.isResizing}).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},e.createElement("div",{className:"header-footer-info-tooltip",key:"recommended-mobile-header",style:this.getHeaderInfoStyle()},e.createElement(n.Tooltip,{key:"recommended-mobile-header-tooltip",id:"recommended-mobile-header-tooltip",content:"mobile_headerscroll_panel_size_tooltip",alignment:"BOTTOM"},e.createElement("div",{className:"header-tooltip-content"},e.createElement(i.symbol,{name:"infoIcon",className:"info-icon"}),e.createElement("span",{className:"recommended-mobile-header-height-title"},"\n          ",o.translate("mobile_headerscroll_panel_size_title"),"\n        ")))),e.createElement.apply(this,["svg",{className:"header-recommended-height-separator"},t.map(this.getRecommendedHeaderLines(),function(t,o){return e.createElement("line",{key:"recommended-height-separator-"+o,className:"header-recommended-height-separator",x1:t.x1,x2:t.x2,y1:t.y,y2:t.y})}.bind(this))]))}}),define("rEditor/rootComps/recommendedMobileHeaderHeight/recommendedMobileHeaderHeight",["lodash","create-react-class","prop-types","higherOrderComponents","constants","util","rEditor/rootComps/recommendedMobileHeaderHeight/recommendedMobileHeaderHeight.rt"],function(e,t,o,i,n,r,a){"use strict";var s=n.ROOT_COMPS.MOBILE_EDITOR.RECOMMENDED_MOBILE_HEADER_HEIGHT,l=n.ROOT_COMPS.MOBILE_EDITOR.MOBILE_FRAME_WIDTH,c=t({displayName:"recommendedMobileHeaderHeight",propTypes:{isResizing:o.bool,selectedComponents:o.arrayOf(o.object),stageLayout:o.object.isRequired},isHeaderSelected:function(){var t=e.head(this.props.selectedComponents);return t&&"SITE_HEADER"===t.id},getHeaderInfoStyle:function(){var e=this.props.stageLayout,t=r.uiUtils.getScrollbarWidth();return{left:(e.width-t-l)/2+l+36,top:s-14-12+1}},getRecommendedHeaderLines:function(){var e=this.props.stageLayout,t=r.uiUtils.getScrollbarWidth();return r.recommendedMobileHeaderHeightUtils.buildRecommendedHeaderLines(e,t)},render:a}),p=i.connectEditorAPI(function(e){return{selectedComponents:e.selection.getSelectedComponents()}})(i.renderWhenMutated(c));return p.pure=c,p}),define("rEditor/rootComps/sectionsReorganize/sectionsReorganize.rt",["react","lodash","baseUI","rEditor/rootComps/sectionsReorganize/sectionControls","experiment","rEditor/rootComps/recommendedMobileHeaderHeight/recommendedMobileHeaderHeight","constants"],function(e,t,o,i,n,r,a){"use strict";return function(){function n(){var n=this.getSections(),s=this.getSpacerProps(n),l=this.getSectionControlsProps(n,s);return e.createElement("div",{className:"sections-reorganize-exp"},e.createElement.apply(this,["svg",{className:"section-separators"},t.map(this.getSeparatorLines(n),function(o,i,n,r,a){return e.createElement("line",{className:t({"section-separator":!0}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),key:"separator-"+a,x1:r.x1,x2:r.x2,y1:r.y,y2:r.y})}.bind(this,n,s,l))]),this.shouldDisplayRecommendedHeaderHeight()?e.createElement(r,{key:"recommendedMobileHeaderHeight",isResizing:this.props.isResizing,stageLayout:this.props.stageLayout}):null,l&&!this.state.isSpacing?e.createElement(i,t.assign({},{key:l.layout.y+"_"+l.layout.height,isMobileEditor:this.props.isMobileEditor},l)):null,!s||this.props.isMobileEditor&&1===this.props.siteScale?null:e.createElement(o.tooltip,{key:"spacer_tooltip",id:"zoom_mode_spacer_id",value:"ZoomOut_Change_Space_Tooltip",alignment:a.UI.TOOLTIP.ALIGNMENT.CENTER,delay:"0",disabled:this.state.isSpacing},e.createElement("div",{key:"spacer",className:"spacer-handle",style:s.style,onMouseDown:s.onMouseDown},e.createElement(o.symbol,{name:"spacerHandleDots"}))))}return n.apply(this,[])}}),define("rEditor/rootComps/sectionsReorganize/sectionsReorganize",["lodash","create-react-class","prop-types","core","util","baseUI","constants","stateManagement","rEditor/utils/mouseMoveActions/baseSpace","coreBi","rEditor/rootComps/sectionsReorganize/sectionsReorganize.rt"],function(e,t,o,i,n,r,a,s,l,c,p){"use strict";function d(t){if(this.props.selectedSection)return e.find(t,e.bind(function(t){return e.isEqual(t.comps,this.props.selectedSection.comps)},this));var o=this.state.stageMousePosition;if(o)for(var i=0;i<t.length;i++)if(o.y>=t[i].position.top&&o.y<=t[i].position.bottom)return t[i];return null}function u(t){return this.props.selectedSection&&e.isEqual(t.comps,this.props.selectedSection.comps)}function m(e){return function(e){if(!this.state.stageMousePosition)return!1;var t=this.state.stageMousePosition.y;return t>=e.position.top&&t<=e.position.bottom}.call(this,e)&&function(e,t,o){var n=void 0;if(o)n=320*t;else{var r=i.utils.stageUtils.getStageRect();n=(r.right-r.left)*t}return e.x*t>=n}(this.state.stageMousePosition,this.props.siteScale,this.props.isMobileEditor)}function g(e){return!(e.isCurrentPageLandingPage()||e.documentServices.pages.popupPages.isPopupOpened())}function f(e,t){return t.y>=e.y&&t.y<=e.y+e.height}function h(t){if(!t)return null;var o=e.clone(t),n=this.getEditorAPI();o=function(e,t){var o=i.utils.sectionsReorganizeUtil.getHeaderSection(e);return t.unshift(o),t}(n,o);var r=function(e){if(this.props.selectedSection)return-1;var t=this.state.stageMousePosition;if(t)for(var o=0;o<e.length-1;o++)if(t.y>e[o].position.bottom&&t.y<e[o+1].position.top)return o;return-1}.call(this,o);if(-1===r)return null;var a={y:o[r].position.bottom,height:o[r+1].position.top-o[r].position.bottom};return{isGap:!0,isInCropMode:n.imageCrop.isCropMode(),layout:a,siteScale:this.props.siteScale,onDeleteClicked:function(){this.closeGapBetweenSections(o,r)}.bind(this)}}var b=s.editorPlugins.domMeasurements.selectors.translateToViewerCoordinates,y=s.editorPlugins.leftBar.selectors.getDeviceType,v=30,S=c.events.sectionReorganize,P=a.ROOT_COMPS.MOBILE_EDITOR.SEPARATOR_LINE_LENGTH;return t({displayName:"sectionsReorganize",propTypes:{isMobileEditor:o.bool.isRequired,sections:o.array,selectedSection:o.object,isSectionDragging:o.bool,isCompDragging:o.bool,stageLayout:o.object.isRequired,siteScale:o.number.isRequired,isResizing:o.bool,isInZoomMode:o.bool},mixins:[i.mixins.editorAPIMixin],getInitialState:function(){return{isSpacing:!1,stageMousePosition:null}},componentDidMount:function(){this._throttledUpdateMousePosition=e.throttle(this.updateMousePosition,100),window.addEventListener("mousemove",this._throttledUpdateMousePosition)},componentWillUnmount:function(){window.removeEventListener("mousemove",this._throttledUpdateMousePosition)},updateMousePosition:function(t){if(function(e,t,o){return t>=e.left&&t<=e.right&&o>=e.top&&o<=e.bottom}(i.utils.stageUtils.getStageLayout(),t.clientX,t.clientY)){var o=this.getEditorAPI();t=e.pick(t,["clientX","clientY","pageX","pageY"]);var n=o.store.getState(),r=b(n,t),a={x:r.pageX,y:r.pageY};this.setState({stageMousePosition:a})}else this.state.stageMousePosition&&this.setState({stageMousePosition:null})},getSections:function(){return this.props.sections?this.props.sections:i.utils.sectionsReorganizeUtil.getPageSections(this.getEditorAPI())},getSectionControlsProps:function(t,o){return function(){var t=this.state.stageMousePosition;if(!t)return null;var o=this.getEditorAPI();if(!g(o))return null;var i=o.components.layout.getRelativeToScreen(o.documentServices.siteSegments.getHeader()),n=o.components.layout.getRelativeToScreen(o.documentServices.siteSegments.getFooter()),r=void 0;return f(i,t)?r={layout:i,isHeader:!0}:f(n,t)&&(r={layout:n,isFooter:!0}),r?e.assign(r,{siteScale:this.props.siteScale}):null}.call(this)||h.call(this,t)||function(t,o){function n(e){var t=m.store.getState();m.store.dispatch(s.editorPlugins.bi.actions.event(S.reorder_panel_clicked,{editor_view_mode:y(t),action_clicked:e}))}if(!t||o&&o.isSpacerHovered)return null;var r=d.call(this,t);if(!r)return null;var a=e.findIndex(t,r);if(r.isStaticSection)return{layout:this.getSectionLayout(r),siteScale:this.props.siteScale,isStaticSection:!0};var l=u.call(this,r),c=1!==this.props.siteScale,p=this,m=p.getEditorAPI();return{section:r,siteScale:this.props.siteScale,layout:this.getSectionLayout(r),showDragHighlight:!this.props.isMobileEditor||c,isDragging:l,isInZoomMode:m.zoomMode.isInZoomMode(),isInCropMode:m.imageCrop.isCropMode(),isSpacing:this.state.isSpacing,tooltipId:"reorganize-section-tooltip",isFirstSection:0===a||e.get(t,[a-1,"isStaticSection"]),isLastSection:a===t.length-1||e.get(t,[a+1,"isStaticSection"]),isSectionRemovable:r.isRemovable,onDragHandleMouseDown:function(e){p.startSectionDrag(e,t,r)},onDuplicateClicked:function(){i.utils.sectionsReorganizeUtil.duplicateSection(m,t,e.findIndex(t,r)),n("duplicate")},onDeleteClicked:function(){i.utils.sectionsReorganizeUtil.deleteSection(m,t,e.findIndex(t,r)).then(function(e){e&&(m.history.add("Delete Section"),n("delete"))})},onUpClicked:function(){p.shiftSection(t,r,-1),n("up")},onDownClicked:function(){p.shiftSection(t,r,1),n("down")}}}.call(this,t,o)},getSpacerProps:function(t){if((this.props.isCompDragging||this.props.isSectionDragging)&&!this.state.isSpacing)return null;var o=this.state.stageMousePosition;if(!t||!o)return null;var n=function(t,o){if(this.state.isSpacing&&this.props.selectedSection)return e.findIndex(t,e.bind(u,this));for(var i=0;i<t.length;i++){var n=i>0?t[i-1]:null;if(o.y<=t[i].position.top+v&&(!n||o.y>n.position.top+v))return i}return-1}.call(this,t,o),a=function(e,t,o){var n=void 0;if(o)n=320*t;else{var r=i.utils.stageUtils.getStageRect();n=(r.right-r.left)*t}return e.x*t<=n}(this.state.stageMousePosition,this.props.siteScale,this.props.isMobileEditor),s=d.call(this,t),l=e.findIndex(t,s),c=!!s&&m.call(this,s);if(-1===n||!a||c)return null;var p=this,g=this.props.isMobileEditor?"320px":"100%";return{style:{top:this.getSectionLayout(t[n]).y*this.props.siteScale,width:"calc("+g+" * "+this.props.siteScale+" + 2px)"},onMouseDown:function(e){r.tooltipManager.hide("zoom_mode_spacer_id"),p.startSpacing(e,t,n)},isSpacerHovered:n===l}},getSeparatorLines:function(t){var o=function(t,o){var n=e.clone(t),r=[];if(g(o)){var a=i.utils.sectionsReorganizeUtil.getHeaderSection(o);n.unshift(a)}for(var s=0;s<n.length;s++){var l=n[s],c=s>0?n[s-1]:null;c&&c.position.bottom<l.position.top&&r.push(l.position.top),r.push(l.position.bottom)}return r}(t,this.getEditorAPI()),r=this.props.stageLayout,a=n.uiUtils.getScrollbarWidth(),s=(r.width-a)*this.props.siteScale;this.props.isMobileEditor&&(s=320*this.props.siteScale);var l=(r.width-a-s)/2,c=e.get(i.utils.sectionsReorganizeUtil.getHeaderSection(this.getEditorAPI()),["position","bottom"]),p=this.isHeaderSectionResizing();return e.flatMap(o,e.bind(function(e){return e*=this.props.siteScale,[{x1:l-P,x2:l,y:e,isSectionResizing:p&&c===e},{x1:l+s,x2:l+s+P,y:e,isSectionResizing:p&&c===e}]},this))},isHeaderSectionResizing:function(){return this.props.isResizing&&this.isHeaderSectionSelected()},isHeaderSectionSelected:function(){return"SITE_HEADER"===e.get(e.head(this.getEditorAPI().selection.getSelectedComponents()),"id")},shouldDisplayRecommendedHeaderHeight:function(){return this.props.isMobileEditor&&!this.props.isInZoomMode&&this.isHeaderSectionSelected()},closeGapBetweenSections:function(e,t){for(var o=this.getEditorAPI(),n=e[t+1].position.top-e[t].position.bottom,r=t+1;r<e.length;r++)i.utils.sectionsReorganizeUtil.shiftSection(o,e[r],-1*n);o.bi.event(S.SPACE_DELETED,{site_id:o.documentServices.generalInfo.getSiteId(),page_id:o.documentServices.pages.getFocusedPageId(),space_size:n}),o.history.add("Delete Space")},shiftSection:function(t,o,n){var r=e.findIndex(t,o)+n;if(!(r<0||r>=t.length)){var a=o,s=t[r];-1===n&&(a=t[r],s=o),i.utils.sectionsReorganizeUtil.switchSections(this.getEditorAPI(),t,a,s),this.getEditorAPI().history.add("Move Section")}},startSectionDrag:function(e,t,o){var n=this.getEditorAPI();n.setPageSections(t,o),n.mouseActions.registerMouseMoveAction(i.utils.sectionDrag,{sections:t,evt:e,minY:function(e){return e.siteSegments.getPagesContainerAbsLayout().y}(n),draggedSection:o,onDragEnd:this.onSectionDragEnd.bind(this,o,o.position.top)},!0)},onSectionDragEnd:function(e,t){var o=this.getEditorAPI();e=this.props.selectedSection||e,o.bi.event(S.REORDER_SECTION,{page_id:o.documentServices.pages.getFocusedPageId(),position_before:t,position_after:e.position.top,section_size:i.utils.sectionsReorganizeUtil.getSectionSizeForBI(e.position.bottom-e.position.top)}),o.clearPageSections()},startSpacing:function(t,o,i){for(var n=this.getEditorAPI(),r=[],a=i;a<o.length;a++)r=r.concat(o[a].comps);if(!e.isEmpty(r)){var s=0===i?0:o[i-1].position.bottom;n.mouseActions.registerMouseMoveAction(l,{evt:t,minY:s,snapThreshold:Math.round(5/this.props.siteScale),compsToPush:r,onSpaceEnd:this.onSpaceEnd}),this.setState({isSpacing:!0}),n.setPageSections(o,o[i]),n.bi.event(S.zoom_mode_spacer_drag)}},onSpaceEnd:function(){this.getEditorAPI().clearPageSections(),this.setState({isSpacing:!1}),this.getEditorAPI().history.add("Change Sections Space")},getSectionLayout:function(t){if(t.layout)return t.layout;if((this.props.isSectionDragging||this.state.isSpacing)&&!e.isEmpty(t.comps)){var o=this.getEditorAPI().components.layout.getRelativeToScreen(t.comps);return o.bounding||o}return{y:t.position.top,height:t.position.bottom-t.position.top}},render:p})}),define("rEditor/rootComps/pinMode/pinMode.rt",["react","lodash"],function(e,t){"use strict";return function(){return e.createElement("div",{className:"pin-mode"},e.createElement("div",{className:"preview-rect",style:this.props.style}),e.createElement("div",{className:"blocking-layer",onClick:this.exitPinMode}))}}),define("rEditor/rootComps/pinMode/pinMode",["create-react-class","core","lodash","rEditor/rootComps/pinMode/pinMode.rt"],function(e,t,o,i){"use strict";return e({displayName:"pinMode",mixins:[t.mixins.editorAPIMixin],render:i,exitPinMode:function(){this.getEditorAPI().pinMode.closeAndCheckSizeRestrictions()}})}),define("rEditor/rootComps/stage/editorStage.rt",["react","lodash","rEditor/rootComps/mouseCatcher","rEditor/rootComps/textEditor","rEditor/rootComps/invisibleTextEditor","core","util","uiAnimations","rEditor/rootComps/gridLines/gridLines","rEditor/rootComps/rulers/rulers","rEditor/rootComps/mobileFrame/mobileFrame","rEditor/rootComps/sectionsReorganize/sectionsReorganize","rEditor/rootComps/pinMode/pinMode","experiment"],function(e,t,o,i,n,r,a,s,l,c,p,d,u,m){"use strict";return function(){function p(){var p=this.getEditorAPI(),m=r.utils.stageUtils.getViewPort(!0);return e.createElement("div",{className:t({"editor-stage":!0,"tools-hidden":this.props.isReorganizeHidden}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),id:this.props.id},e.createElement("div",{className:"scrollable-editor-stage "+(this.isSiteScrollingEnabled()?"":"scrolling-disabled"),ref:"scrollableEditorStage",id:"scrollableEditorStage",onScroll:this._handleScroll},e.createElement("div",{ref:"siteCover",className:"site-cover",style:{height:this.getStageHeight()}},this.isGridLinesVisible()?e.createElement("div",{className:"gridLines",key:"gridLines"},e.createElement(l,{key:"pageGridLines",gridLines:this.getPageGridLines(),fade:this.shouldFadeGridLines()}),this.shouldShowContainerGridLines()?e.createElement(l,{key:"containerGridLines",gridLines:this.getContainerGridLines()}):null):null,e.createElement("div",{className:"scalable",style:this.getScalableAreaStyle()},this.props.previewMode||!this.props.editorIsInit||this.props.imageCrop.isOn?null:e.createElement(o,{ref:"mouseCatcher",key:"mouseCatcher",config:this.props.config,attachCandidate:this.props.attachCandidate,onContextMenu:this.props.onContextMenu,editorIsInit:this.props.editorIsInit,isSectionDragging:this.isSectionDragging(),isDragging:this.isDragging(),isResizing:this.isResizing(),isRotating:this.isRotating(),isPinMode:this.props.isPinMode,performingMouseMoveAction:this.props.performingMouseMoveAction,registeredMouseMoveAction:this.props.registeredMouseMoveAction,hoveredComp:this.props.hoveredComp,hoverBoxOverlay:this.props.hoverBoxOverlay,setHoverBox:this.props.setHoverBox,clearHoverBox:this.props.clearHoverBox,selectedComponents:p.selection.getSelectedComponents(),compPanel:this.props.panel,previewPosition:this.props.previewPosition,previewMode:this.props.previewMode,siteScale:this.props.siteScale,snapData:this.props.snapData,applyModeFromClipboardSuggestion:this.props.applyModeFromClipboardSuggestion,tabIndicationState:this.props.tabIndicationState,lassoCandidates:this.props.lassoCandidates,lassoLayout:this.props.lassoLayout,constraintArea:this.props.constraintArea}),this.props.imageCrop.isOn?e.createElement(r.lazyComponent,t.assign({},{moduleName:"imageCrop.layer",key:"imageCrop"},{imageCropData:this.props.imageCrop,imageComponent:this.getImageComponent()})):null,e.createElement(i,{key:"textEditorNew",isOpenTextEditor:this.props.isOpenTextEditor,openPanels:this.props.openPanels,selectedTextComp:this.getSelectedTextComp(),isRepeatedTextComp:this.isEditingRepeatedTextComp(),layout:this.getTextEditorPosition(),isResizing:this.isResizing()}),e.createElement(n,{}),this.props.viewTools.rulersEnabled&&1===this.props.siteScale&&p.isPreviewReady()?e.createElement(c,{key:"rulers",rulerDirection:"horizontal",previewHeight:this.getStageHeight(),isHovered:this.props.rulers.isHovered,toolsHidden:this.props.hideTools,isDragging:this.props.rulers.isDragging,viewPort:m,previewSize:this.props.previewPosition}):null),e.createElement("div",{className:"non-scalable"},1!==this.props.siteScale?e.createElement("div",{className:"block-layer",key:"block-layer"},e.createElement("div",{className:"side left transition",style:this.getSideBlockLayerStyle()}),e.createElement("div",{className:"side right transition",style:this.getSideBlockLayerStyle()}),p.isMobileEditor()?null:e.createElement("div",{key:"block-layer-bottom",className:"side bottom",style:{height:"calc(100% - "+this.getSideBlockLayerHeight()+"px)"}}),this.isSectionDragging()||p.isMobileEditor()?null:e.createElement("div",{key:"scaled-site-shadow",className:"shadow",style:this.getBlockShadowStyle()})):null,!this.props.editorIsInit||this.props.isPinMode||this.props.isPopupMode||!p.isMobileEditor()&&1===this.props.siteScale?null:e.createElement(d,{key:"sectionsReorganize",ref:"sectionsReorganize",isMobileEditor:p.isMobileEditor(),sections:this.props.pageSections.sections,selectedSection:this.props.pageSections.selectedSection,isSectionDragging:this.isSectionDragging(),isCompDragging:this.isDragging(),siteScale:this.props.siteScale,isHidden:this.props.isReorganizeHidden,halfOpacityTools:this.props.halfOpacityTools,stageLayout:p.ui.stage.getEditingAreaLayout(),isResizing:this.isResizing(),isInZoomMode:p.zoomMode.isInZoomMode()})))),e.createElement("div",{className:"fixed-editor-stage",style:{width:"calc(100% - "+a.uiUtils.getScrollbarWidth()+"px)"}},e.createElement("div",{className:"fixed-editor-stage-contents-wrapper "+(1!==this.props.siteScale?"no-pointer-events":"")},e.createElement("div",{className:"scalable",style:this.getScalableAreaStyle()},this.props.isPinMode?e.createElement(u,{ref:"pinMode",key:"pinMode",style:this.props.pinPreviewRectStyle}):null,this.props.viewTools.rulersEnabled&&1===this.props.siteScale?e.createElement(c,{key:"rulers",rulerDirection:"vertical",isHovered:this.props.rulers.isHovered,toolsHidden:this.props.hideTools,isDragging:this.props.rulers.isDragging,viewPort:m,previewSize:this.props.previewPosition}):null),e.createElement("div",{className:"non-scalable"},p.isMobileEditor()?e.createElement("div",{key:"mobileOpacityLayer",className:"mobile-frame-opacity-layer"}):null,e.createElement(s.panelsAnimation,{},this.shouldDisplayMobileOptimizedTeaser()&!p.zoomMode.isInZoomMode()?function(t,o){var i=a.translate;return e.createElement("div",{key:"teaser",className:"mobile-optimized-teaser"},e.createElement("h1",{},i("mobile_view_notification_title")),"\n                        ",i("mobile_view_notification_text"),"\n                        ",e.createElement("a",{onClick:this.openEditorModePanel},i("mobile_view_notification_text_link")),"\n                        ",i("mobile_view_notification_text2"),"\n                    ")}.apply(this,[p,m]):null)))))}return p.apply(this,[])}}),define("rEditor/rootComps/stage/editorStage",["reactDOM","lodash","create-react-class","prop-types","core","uiAnimations","constants","stateManagement","rEditor/rootComps/stage/editorStage.rt"],function(e,t,o,i,n,r,a,s,l){"use strict";var c=[a.MOUSE_ACTION_TYPES.RESIZE,a.MOUSE_ACTION_TYPES.RESIZE_PUSH,a.MOUSE_ACTION_TYPES.RESIZE_CROP,a.MOUSE_ACTION_TYPES.RESIZE_PAGE],p=[a.MOUSE_ACTION_TYPES.DRAG,a.MOUSE_ACTION_TYPES.DRAG_PUSH],d=a.ROOT_COMPS.TOPBAR.DROP_PANELS.MOBILE,u=s.editorPlugins.domMeasurements.selectors.getPreviewPosition,m=s.editorPlugins.selection.selectors,g=m.getFocusedContainer,f=m.getSelectedCompsRefs;return o({displayName:"EditorStage",mixins:[n.mixins.editorAPIMixin],propTypes:{editorIsInit:i.bool.isRequired,guidesState:i.object,onStageScroll:i.func,previewPosition:i.object,viewTools:i.object.isRequired,imageCrop:i.object.isRequired,hideTools:i.bool.isRequired,registeredMouseMoveAction:i.object,previewMode:i.bool.isRequired,pinPreviewRectStyle:i.object.isRequired,isOpenTextEditor:i.bool.isRequired,selectedComponents:i.array,isPinMode:i.bool,attachCandidate:i.object,siteHeight:i.number,siteScale:i.number.isRequired,snapData:i.array,applyModeFromClipboardSuggestion:i.object,tabIndicationState:i.object.isRequired,lassoCandidates:i.array,lassoLayout:i.object,constraintArea:i.object,hoveredComp:i.object,hoverBoxOverlay:i.bool,setHoverBox:i.func.isRequired,clearHoverBox:i.func.isRequired,scrollTo:i.shape({scrollTop:i.number,scrollLeft:i.number}),animateScrollTo:i.shape({position:i.shape({y:i.number,x:i.number}).isRequired,duration:i.number,onComplete:i.func}),openPanels:i.array.isRequired},componentWillReceiveProps:function(){this.props.hoveredComp&&!this.getEditorAPI().components.is.exist(this.props.hoveredComp)&&this.props.clearHoverBox()},componentDidUpdate:function(){if(this.props.scrollTo)this.setScroll(this.props.scrollTo);else if(this.props.animateScrollTo){var e=this.props.animateScrollTo,t=e.position,o=e.duration,i=e.onComplete;this.animateScroll(t,o,i)}},shouldDisplayMobileOptimizedTeaser:function(){var e=this.getEditorAPI();return e.isMobileEditor()&&!e.getPreviewMode()&&!e.isMobileOptimizedSite()},openEditorModePanel:function(){this.getEditorAPI().topBarMenuBar.openDropDown(d)},getStageHeight:function(){return this.getEditorAPI().isPreviewReady()?this.props.siteHeight*this.props.siteScale:"100%"},isLandingPage:function(){return this.getEditorAPI().isCurrentPageLandingPage()},isPopupPage:function(){return Boolean(this.getEditorAPI().documentServices.pages.popupPages.getCurrentPopupId())},isSectionDragging:function(){return this.props.registeredMouseMoveAction&&this.props.registeredMouseMoveAction.type===a.MOUSE_ACTION_TYPES.SECTION_DRAG&&this.props.performingMouseMoveAction},isDragging:function(){return this.props.registeredMouseMoveAction&&t.includes(p,this.props.registeredMouseMoveAction.type)&&this.props.performingMouseMoveAction},isResizing:function(){return this.props.registeredMouseMoveAction&&t.includes(c,this.props.registeredMouseMoveAction.type)},isRotating:function(){return this.props.registeredMouseMoveAction&&this.props.registeredMouseMoveAction.type===a.MOUSE_ACTION_TYPES.ROTATE},getScalableAreaStyle:function(){var e=this.props.siteScale;if(1!==e)return{height:this.props.siteHeight,transform:"scale("+e+")",transformOrigin:"center 0"}},getSideBlockLayerStyle:function(){return this.getEditorAPI().isMobileEditor()?{width:"calc((100% - 320px * "+this.props.siteScale+") / 2)"}:{width:100*(1-this.props.siteScale)/2+"%"}},getSideBlockLayerHeight:function(){return Math.max(0,this.props.siteHeight*this.props.siteScale)},getBlockShadowStyle:function(){var e=100*(1-this.props.siteScale)/2;return{left:e+"%",right:e+"%",height:this.getSideBlockLayerHeight()+"px"}},getImageComponent:function(){return function(e,t){if(t&&1===t.length){var o=t[0];if("Image"===e.components.data.get(o).type)return o}return null}(this.getEditorAPI(),this.props.selectedComponents)},getScroll:function(){return t(this.refs.scrollableEditorStage).thru(e.findDOMNode).pick("scrollTop","scrollLeft").value()},setScroll:function(o){var i=e.findDOMNode(this.refs.scrollableEditorStage);t.isUndefined(o.scrollTop)||(i.scrollTop=o.scrollTop),t.isUndefined(o.scrollLeft)||(i.scrollLeft=o.scrollLeft),this.getEditorAPI().scroll.clearScrollTo()},animateScroll:function(t,o,i){var n=e.findDOMNode(this.refs.scrollableEditorStage);r.scrollTo(t,o,0,n,i),this.getEditorAPI().scroll.clearScrollTo()},_handleScroll:function(e){this.getEditorAPI().scroll.registerNewScrollPosition(this.getScroll()),this.props.onStageScroll&&this.props.onStageScroll(e)},isSiteScrollingEnabled:function(){var e=t.get(this.getEditorAPI().documentServices,["site","isScrollingEnabled"],!0);return!t.isFunction(e)||e()},getSiteCoverSizes:function(){var t=e.findDOMNode(this.refs.siteCover);return{width:t.clientWidth,height:t.clientHeight}},getPageGridLines:function(){var e=this.getEditorAPI(),t=s.editorPlugins.gridLines.selectors.getGridLinesOverrides(e.store.getState(),{gridLinesType:a.GRID_LINES_TYPES.PAGE});if(t)return t;var o=this.isLandingPage()||this.isPopupPage();return n.utils.gridLinesUtil.getPageGridLines(e,o)},getContainerGridLines:function(){var e=this.getEditorAPI(),t=e.store.getState(),o=g(t);return n.utils.gridLinesUtil.getContainerGridLines(e,o)},shouldFadeGridLines:function(){var e=this.getEditorAPI(),t=e.store.getState(),o=g(t),i=f(t);return!!(e.components.is.showMarginsIndicator(o)||"wysiwyg.viewer.components.StripColumnsContainer"===e.components.getType(i)&&e.components.getChildren(i).length>1&&i&&e.components.is.fullWidth(i))},isGridLinesVisible:function(){var e=this.getEditorAPI(),t=!0;return e.isPreviewReady()&&e.documentServices.pages.popupPages.isPopupOpened()&&(t=e.components.is.gridLinesVisible(e.pages.popupPages.getPopupContainer())),e.isDesktopEditor()&&this.props.viewTools.guidelinesEnabled&&!this.props.isPinMode&&t},getSelectedTextComp:function(){return function(e,o){if(t.isEmpty(o)||1!==o.length)return!1;var i=t.head(o),n=e.components.data.get(i);return"StyledText"===(n&&n.type)}(this.getEditorAPI(),this.props.selectedComponents)?this.props.selectedComponents[0]:null},isEditingRepeatedTextComp:function(){return this.getEditorAPI().text.isEditingRepeatedTextComp()},getTextEditorPosition:function(){var e={},o=this.getSelectedTextComp();if(o){var i=this.getEditorAPI(),n=i.store.getState(),r=i.components.layout.getRelativeToScreen(o),a=i.components.layout.isShowOnFixedPosition(o);if(e={top:r.y,left:r.x,width:r.width,height:r.height,position:a?"fixed":"absolute"},r.rotationInDegrees){var s="rotate("+r.rotationInDegrees+"deg)";t.assign(e,{transform:s,WebkitTransform:s})}if(a){var l=u(n);e.top+=l.top,e.left+=l.left}}return this.props.isOpenTextEditor||(e.visibility="hidden"),e},shouldShowContainerGridLines:function(){var e=this.getEditorAPI(),t=e.store.getState(),o=g(t);return e.components.is.showMarginsIndicator(o)},render:l})}),define("rEditor/rootComps/prefetch/prefetch.rt",["react","lodash"],function(e,t){"use strict";return function(){return e.createElement("link",{rel:"prefetch prerender",href:this.getHref()})}}),define("rEditor/rootComps/prefetch/prefetch",["create-react-class","rEditor/rootComps/prefetch/prefetch.rt"],function(e,t){"use strict";return e({displayName:"prefetch",render:t,getHref:function(){return this.props.base?this.props.base.replace(/\/$/,"")+"/"+this.props.href.replace(/^\//,""):this.props.href}})}),define("rEditor/rootComps/flyingMusa/flyingMusa",["lodash","create-react-class","prop-types","react","higherOrderComponents","stateManagement"],function(e,t,o,i,n,r){"use strict";var a=t({displayName:"flyingMusa",propTypes:{musaStyle:o.object},render:function(){return i.createElement("div",{className:"flying-musa",style:this.props.musaStyle},i.createElement("img",{"data-type":"image",src:"https://static.wixstatic.com/media/2cb119_71a13d37fa584e5e9aa97d1c1ede1d36.gif",width:"143px",height:"72px","object-fit":"cover"}))}});return n.connect(function(e,t){var o=t.musaId;return{musaStyle:r.editorPlugins.easterEggs.selectors.getFlyingMusaStyle(e,o)}})(a)}),define("rEditor/rootComps/editorView.rt",["react","lodash","topBar","rEditor/rootComps/topBar/zoomModeBar","rEditor/rootComps/topBar/dynamicPagesComboBox","rEditor/rootComps/rightClickMenu/rightClickMenu","rEditor/rootComps/panels/openedPanels","rEditor/rootComps/portal/portal","mobileEditor","baseUI","constants","core","uiAnimations","rEditor/rootComps/stage/editorStage","rEditor/rootComps/mobileFrame/mobileFrame","textControls","rEditor/rootComps/prefetch/prefetch","rEditor/rootComps/flyingMusa/flyingMusa","notifications","experiment"],function(e,t,o,i,n,r,a,s,l,c,p,d,u,m,g,f,h,b,y,v){"use strict";return function(){function v(o,i,n){var r=o.getPreviewMode()?"consolePane":"idePane",l=o.developerMode.ui[r].getSplitPosition();return e.createElement(c.splitter,{className:"ide-splitter",layout:"horizontal",splitPosition:l,onDividerClick:o.getPreviewMode()?null:o.developerMode.ui.idePane.toggleMinimize,statefulResize:!0,onResize:o.developerMode.ui[r].setSplitPosition},e.createElement(c.splitter.Pane,{maxSize:this.props.shouldShowDevModePanels?"calc(100% - "+o.developerMode.ui.topbarHeight+")":""},e.createElement("div",{ref:"editingArea",id:"editingArea",className:t({"editing-area":!0,"mobile-wizard-editing-area":this.shouldRenderMobileWizard(),"mobile-editor":o.isMobileEditor(),"preview-mode":o.getPreviewMode()}).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},e.createElement("div",{className:t(this.getPreviewFrameCoverClasses()).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},o.isMobileEditor()?e.createElement(g,{key:"mobileFrame",siteScale:this.props.siteScale,displayShadow:!this.isSectionDragging(),previewMode:o.getPreviewMode(),refreshMobileFramePosition:o.refreshMobileFramePosition,mobileDeviceBtnClick:this.mobileDeviceBtnClick,siteX:o.site.getXPos()}):null,e.createElement("div",{className:"preview-container"},e.createElement("iframe",{ref:"preview",id:"preview",src:this.props.previewUrl,allowFullScreen:"true"})),this.shouldRenderEditorStage()?e.createElement(m,{id:"stageContainer",key:"editorStage",ref:"editorStage",config:this.props.config,viewTools:this.props.viewTools,rulers:this.props.rulers,imageCrop:this.props.imageCrop,hideTools:this.props.hideTools,previewMode:this.props.previewMode,pinPreviewRectStyle:this.props.pinPreviewRectStyle,isOpenTextEditor:this.props.isOpenTextEditor,attachCandidate:this.props.attachCandidate,editorIsInit:this.props.editorIsInit,onContextMenu:this.onContextMenu,registeredMouseMoveAction:this.props.registeredMouseMoveAction,performingMouseMoveAction:this.props.performingMouseMoveAction,selectedComponents:this.props.selectedComponents,panel:this.getCompPanel(),previewPosition:this.props.previewPosition,siteHeight:this.props.config.previewHeight,siteScale:this.props.siteScale,portalComps:this.props.portalComps,pageSections:this.props.pageSections,halfOpacityTools:this.props.halfOpacityTools,isReorganizeHidden:this.props.isReorganizeHidden,isPopupMode:o.isPopUpMode(),isPinMode:this.props.isPinMode,onStageScroll:o.scroll.handleStageScroll,snapData:this.props.snapData,applyModeFromClipboardSuggestion:this.props.applyModeFromClipboardSuggestion,tabIndicationState:this.props.tabIndicationState,lassoCandidates:this.props.lassoCandidates,lassoLayout:this.props.lassoLayout,constraintArea:this.props.constraintArea,hoveredComp:this.state.hoverBox.hoveredComp,hoverBoxOverlay:this.state.hoverBox.hoverBoxOverlay,setHoverBox:this.setHoverBox,clearHoverBox:this.clearHoverBox,scrollTo:this.props.scrollTo,openPanels:i,animateScrollTo:this.props.animateScrollTo}):null),e.createElement(a,{openPanels:i,helpPanelProps:this.props.helpPanelProps,selectedComponents:this.props.selectedComponents,isMobileEditor:this.props.isMobileEditor}),e.createElement(u.leftBarAnimation,{},this.props.previewMode||this.props.isPinMode||this.props.imageCrop.isOn?null:e.createElement(this.LeftBar,{key:"leftBar"})),t.isEmpty(this.props.portalComps)?null:e.createElement(s,{key:"portalComps",comps:this.props.portalComps}),this.shouldRenderMobileWizard()?e.createElement(n,{key:"mobile-wizard"}):null)),this.props.shouldShowDevModePanels?function(o,i,n,r,a){var s=this.props.devModeContext.type===p.DEVELOPER_MODE.CONTEXT_TYPES.COLLECTION;return e.createElement(c.splitter.Pane,{className:t({"wix-code-ide-pane":!0,"above-editor":!s&&a.replace("%","")<50}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),key:"wix-code-ide-pane",minSize:o.developerMode.ui.topbarHeight,onClick:this.onIdeClick},this.props.previewMode?null:e.createElement(d.lazyComponent,{moduleName:"wixCode.components.IDE",key:"wix-code-ide",id:"wix-code-ide",currentPageId:o.documentServices.pages.getFocusedPageId(),context:o.developerMode.getContext(),containerState:o.developerMode.ui.idePane.getState(),isTreePaneOpen:o.developerMode.ui.treePane.isOpen()}),this.props.previewMode?e.createElement(d.lazyComponent,{moduleName:"wixCode.components.console",key:"wix-code-console",containerState:o.developerMode.ui.consolePane.getState(),id:"wix-code-console"}):null)}.apply(this,[o,i,n,r,l]):null)}function S(){var s=this.getEditorAPI(),m=this.getNonCompPanels(),g=l.mobileWizard;return e.createElement("div",{className:"editor-animation-manager-wrapper",id:"editor",tabIndex:"0"},e.createElement.apply(this,["div",{className:"editor-wrapper "+(1!==this.props.siteScale?"zoom-mode":""),onMouseMove:this.onMouseMove,onMouseUp:this.onMouseUp,onMouseDownCapture:this.onMouseDownCapture},this.props.isPreloaderVisible?e.createElement("div",{key:"init",className:"preloader"}):null,s.developerMode.isEnabled()?e.createElement(d.lazyComponent,{moduleName:"wixCode.components.wixCodeLoader",key:"wix-code-loader",id:"wix-code-loader",wixCodeLoaded:this.props.wixCodeLoaded}):null,e.createElement("div",{className:t({"editor-content-wrapper":!0,"hidden-to-top":this.shouldCompletelyHideTools(),"tools-hidden":this.props.hideTools&&!this.props.hideToolsAndMaintainStagePosition}).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},e.createElement(c.splitter,{className:"file-pane-splitter",layout:"vertical",splitPosition:s.developerMode.ui.treePane.getSplitPosition(),statefulResize:!0,onResize:s.developerMode.ui.treePane.setSplitPosition},this.props.shouldShowDevModePanels&&!this.props.previewMode?e.createElement(c.splitter.Pane,{key:"left-panel-pane",maxSize:"296px","data-aid":"wix-code-left-pane"},function(t,o,i){var n=this.shouldShowPackagesView();return e.createElement(c.splitter,{layout:"horizontal",splitPosition:t.developerMode.ui.packagesPane.getSplitPosition(),statefulResize:!0,onResize:t.developerMode.ui.packagesPane.setSplitPosition},e.createElement(c.splitter.Pane,{key:"ide-tree-pane",maxSize:"calc(100% - "+(n?"45px":"0px")+")"},this.props.wixCodeLoaded?e.createElement(d.lazyComponent,{moduleName:"wixCode.components.Tree",key:"wix-code-tree",id:"wix-code-tree",performingMouseMoveAction:this.props.performingMouseMoveAction,context:t.developerMode.getContext()}):null),n?e.createElement(c.splitter.Pane,{key:"packages-view-pane",className:"packages-view-pane",minSize:n?"45px":"0"},e.createElement(d.lazyComponent,{moduleName:"wixCode.components.packagesView",automationId:"packages-view",key:"packages-tree",id:"packages-tree",onTitleClick:function(){return t.developerMode.ui.packagesPane.toggle()}})):null)}.apply(this,[s,m,g])):null,e.createElement(c.splitter.Pane,{},e.createElement(c.splitter,{layout:"vertical"},e.createElement(c.splitter.Pane,{minSize:"calc(100% - "+p.RIGHT_AREA.WIDTH+"px)"},v.apply(this,[s,m,g]),e.createElement(a,{openPanels:t.compact([this.props.fullStagePanel]),helpPanelProps:this.props.helpPanelProps,isMobileEditor:this.props.isMobileEditor,selectedComponents:this.props.selectedComponents,withHelpPanel:!1})),this.shouldShowSectionedPanel()?e.createElement(c.splitter.Pane,{key:"right-area",id:"right panel"},e.createElement(d.lazyComponent,{moduleName:"dockableSections.sectionedPanel",previewMode:this.props.previewMode,key:"sectioned-panel"})):null)))),e.createElement("div",{className:"editor-controls"},e.createElement(o.topBar,{key:"topbar",ref:"topbar",onContextMenu:this.onContextMenuPreventDefault,savingStatus:this.props.savingStatus,publishingStatus:this.props.publishingStatus,shouldHideToolsBtnBlink:this.props.shouldHideToolsBtnBlink,isHidden:this.props.hideTools}),e.createElement(i,{key:"zoomModeBar"}),e.createElement(n,{key:"dynamicPagesComboBox",previewMode:this.props.previewMode,devModeContext:this.props.devModeContext,editorIsInit:this.props.editorIsInit}),e.createElement("div",{className:t({"file-context":"FILE"===t.get(s.developerMode.getContext(),"type")?"hidden":""}).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},this.props.viewTools.toolbarEnabled&&!this.props.previewMode?e.createElement(this.Toolbar,{key:"toolBar"}):null,this.props.viewTools.developerToolBarEnabled&&!this.props.previewMode?e.createElement(d.lazyComponent,{moduleName:"wixCode.components.developerToolBar",key:"developerToolbar",toolsHidden:this.props.hideTools,editedComponents:this.props.selectedComponents,isEnabled:this.props.editorIsInit,isReadOnly:this.props.isMobileEditor,onContextMenu:this.onContextMenuPreventDefault,wixCodeLoaded:this.props.wixCodeLoaded}):null),e.createElement(c.tooltipsRenderer,{key:"tooltipsRenderer"}),e.createElement(c.floatingBubble,{ref:"floatingBubble",value:this.props.floatingBubble.value,targetLayout:this.props.floatingBubble.targetLayout,bubbleProps:this.props.floatingBubble.bubbleProps,shouldNotHideOnMouseLeaveTarget:this.props.floatingBubble.shouldNotHideOnMouseLeaveTarget,pinMode:this.props.isPinMode}),e.createElement(y.notificationCenter,{}),e.createElement(c.dropDown.options,{})),this.props.editorIsInit?null:e.createElement("div",{className:"preloader-overlap",key:"preloader-overlap"}),e.createElement(u.rightClickAppearance,{direction:"top",key:"rightClick"},this.props.contextMenu?e.createElement(r,{key:this.props.contextMenu.editorMousePosition.x+""+this.props.contextMenu.editorMousePosition.y,clipboard:this.props.clipboard,editorMousePosition:this.props.contextMenu.editorMousePosition,viewerMousePosition:this.props.contextMenu.viewerPosition,previewPosition:this.props.previewPosition,selectedComponents:this.props.selectedComponents,setHoverBox:this.setHoverBox,clearHoverBox:this.clearHoverBox}):null),this.props.languages?e.createElement(f.themeFontsLoader,{key:"theme-font-loader",themeFonts:this.props.themeFonts,documentType:this.props.documentType,languages:this.props.languages}):null,e.createElement(h,{href:"node_modules/editor-organize-images/index.html",base:this.props.editorBase}),t.map(t.values(this.props.flyingMusa),function(t,o,i,n,r){return e.createElement(b,{musaId:n.id,key:n.id})}.bind(this,s,m,g))]))}return S.apply(this,[])}}),define("rEditor/rootComps/editorView",["create-react-class","prop-types","reactDOM","lodash","core","util","constants","higherOrderComponents","rEditor/rootComps/leftBar/leftBar","rEditor/rootComps/toolBar/toolBar","coreUtilsLib","rEditor/utils/isRightClickWithCtrlInDebugMode","stateManagement","baseUI","experiment","coreBi","rEditor/rootComps/editorView.rt"],function(e,t,o,i,n,r,a,s,l,c,p,d,u,m,g,f,h){"use strict";var b=u.editorPlugins.contextMenu.actions,y=u.editorPlugins.panels.actions,v=a.MOBILE.MOBILE_WIZARD.OPENING_STATE,S=u.domMeasurements.actions.initDomMeasurements,P=u.editorPlugins.domMeasurements.selectors.translateToViewerCoordinates;return e({displayName:"editorView",propTypes:{previewUrl:t.string.isRequired,viewTools:t.object.isRequired,languages:t.array,editorIsInit:t.bool.isRequired,previewMode:t.bool.isRequired,contextMenu:t.object,halfOpacityTools:t.bool.isRequired,hideTools:t.bool.isRequired,hideToolsAndMaintainStagePosition:t.bool.isRequired,isPinMode:t.bool.isRequired,performingMouseMoveAction:t.bool.isRequired,isMobileEditor:t.bool.isRequired,selectedComponents:t.array,siteScale:t.number.isRequired,portalComps:t.object.isRequired,savingStatus:t.string.isRequired,publishingStatus:t.string.isRequired,previewingStatus:t.string.isRequired,imageCrop:t.object.isRequired,config:t.object.isRequired,previewPosition:t.object.isRequired,pageSections:t.object.isRequired,wixCodeLoaded:t.bool.isRequired,clipboard:t.object.isRequired,shouldHideToolsBtnBlink:t.bool.isRequired,devModeContext:t.object.isRequired,registeredMouseMoveAction:t.object,isUsingWindowMouseEvents:t.bool,isPreloaderVisible:t.bool.isRequired,shouldShowDevModePanels:t.bool.isRequired,fullStagePanel:t.object,documentType:t.string,editorBase:t.string.isRequired,themeFonts:t.object,isReorganizeHidden:t.bool.isRequired,pinPreviewRectStyle:t.object.isRequired,isOpenTextEditor:t.bool.isRequired,attachCandidate:t.object,snapData:t.array,applyModeFromClipboardSuggestion:t.object,tabIndicationState:t.object.isRequired,lassoCandidates:t.array,lassoLayout:t.object,constraintArea:t.object,notifyPreviewReady:t.func.isRequired,helpPanelProps:t.object,floatingBubble:t.object.isRequired,scrollTo:t.shape({scrollTop:t.number,scrollLeft:t.number}),focusEventCounter:t.number.isRequired,clearTextSelectionEventCounter:t.number.isRequired,animateScrollTo:t.shape({position:t.shape({y:t.number,x:t.number}).isRequired,duration:t.number,onComplete:t.func}),flyingMusa:t.object,renderCounter:t.number.isRequired,openDockedSections:t.arrayOf(t.shape({sectionName:t.string,isOpen:t.bool}))},mixins:[n.mixins.editorAPIMixin],getPreviewRect:function(){return i.pick(this.refs.preview.getBoundingClientRect(),["top","left","height","width"])},getEditingAreaRect:function(){return i.pick(this.refs.editingArea.getBoundingClientRect(),["top","left","height","width","right","bottom"])},updatePositionsInState:function(){var e=this.getEditorAPI();e.refreshPreviewPosition(this.getPreviewRect()),e.refreshEditingAreaPosition(this.getEditingAreaRect())},getInitialState:function(){return{hoverBox:{hoveredComp:null,hoverBoxOverlay:!1}}},receiveFocusEvent:function(e){e>this.props.focusEventCounter&&o.findDOMNode(this).focus()},receiveClerTextSelectionEvent:function(e){if(e>this.props.clearTextSelectionEventCounter){var t=o.findDOMNode(this.refs.preview),n=i.get(t,"contentWindow",{});n.selection?n.selection.empty():n.getSelection&&n.getSelection().removeAllRanges()}},componentWillReceiveProps:function(e){this.receiveFocusEvent(e.focusEventCounter),this.receiveClerTextSelectionEvent(e.clearTextSelectionEventCounter)},componentWillMount:function(){var e=this.getEditorAPI();this.LeftBar=s.overlappedCompTooltip(m.popoverTemplates.quickTip)(l),this.Toolbar=s.overlappedCompTooltip(m.popoverTemplates.quickTip)(c),e.scroll.resetScrollListeners()},componentDidMount:function(){this.updatePositionsInState();var e=o.findDOMNode(this.refs.preview);try{e.contentWindow&&e.contentWindow.documentServices&&this.props.notifyPreviewReady(e.contentWindow.documentServices,e.contentWindow.createSantaPreview)}catch(e){r.ravenUtils.captureError(e,{tags:{failedOnPreviewIframe:!0}}),p.log.error("can not access preview iframe")}window.addEventListener("message",this.previewMessageHandler),window.viewerStartTimeStamp=(new Date).toISOString();var t=function(e){window.bi&&window.bi.event(735,{autosave_on:!!i.get(window,["frames",0,"documentServicesModel","autoSaveInfo","shouldRestoreDiffs"]),viewer_start_loading_timestamp:window.viewerStartTimeStamp,time_seconds:e})};window.editorLoadTimeouts=[window.setTimeout(i.partial(t,40),4e4),window.setTimeout(i.partial(t,45),45e3),window.setTimeout(i.partial(t,50),5e4),window.setTimeout(i.partial(t,55),55e3),window.setTimeout(i.partial(t,60),6e4)],this.getEditorAPI().store.dispatch(S())},isSectionDragging:function(){return this.props.registeredMouseMoveAction&&this.props.registeredMouseMoveAction.type===a.MOUSE_ACTION_TYPES.SECTION_DRAG&&this.props.performingMouseMoveAction},componentDidUpdate:function(){this.reportRenderDone(),this.props.performingMouseMoveAction||this.updatePositionsInState(),this.getEditorAPI().store.dispatch(S())},componentWillUnmount:function(){this.getEditorAPI().scroll.resetScrollListeners()},reportRenderDone:function(){this.getEditorAPI().onRenderDone(this.props.renderCounter)},setHoverBox:function(e,t){var o=this.getEditorAPI().utils.getParentIfCompCanBeSelected(e)||e;i.isEqual(this.state.hoverBox.hoveredComp,o)||this.setState({hoverBox:{hoveredComp:o,hoverBoxOverlay:!!t}})},clearHoverBox:function(){this.state.hoverBox.hoveredComp&&this.setState({hoverBox:{hoveredComp:null,hoverBoxOverlay:!1}})},previewMessageHandler:function(e){if(0===this.props.previewUrl.indexOf(e.origin)&&"documentServicesLoaded"===e.data){var t=o.findDOMNode(this.refs.preview);this.props.notifyPreviewReady(t.contentWindow.documentServices,t.contentWindow.createSantaPreview),i.forEach(window.editorLoadTimeouts,window.clearTimeout)}},onContextMenu:function(e){if(!d(e)){e.preventDefault();var t=this.getEditorAPI(),o=t.store;o.dispatch(y.closeOpenedPanels()),t.selection.selectComponentByClick(e);var n=o.getState(),r=P(n,e),a=u.editorPlugins.selection.selectors.getSelectedCompsRefs(n);i.isEmpty(a)||o.dispatch(b.openContextMenu({editorPositionX:e.clientX,editorPositionY:e.clientY,viewerPositionX:r.clientX,viewerPositionY:r.clientY}))}},getNonCompPanels:function(){var e=this.getEditorAPI(),t=[a.PANEL_TYPES.COMP,a.PANEL_TYPES.FULL_STAGE];return i.reject(e.store.getState().openPanels,function(e){return i.find(t,function(t){return i.includes(e.frameType,t)})})},getCompPanel:function(){var e=this.getEditorAPI();return i.find(e.store.getState().openPanels,function(e){return i.includes(e.frameType,a.PANEL_TYPES.COMP)})},onContextMenuPreventDefault:function(e){d(e)||e.preventDefault()},shouldRenderMobileWizard:function(){var e=this.getEditorAPI();return e.isPreviewReady()&&e.mobile.mobileWizard.isEnabled()&&e.isMobileEditor()},getMobileWizardOpeningState:function(){var e=this.getEditorAPI().store.getState();return u.editorPlugins.mobile.selectors.mobileWizard.getMobileWizardOpeningState(e)},getPreviewFrameCoverClasses:function(){var e=this.getMobileWizardOpeningState();return{"preview-frame-cover":!0,"mobile-wizard-preview-frame":e===v.IN_PROGRESS,"mobile-wizard-preview-frame-out":e===v.FINISH}},shouldRenderEditorStage:function(){return!this.props.previewMode&&!this.shouldRenderMobileWizard()},shouldCompletelyHideTools:function(){var e=this.getMobileWizardOpeningState()===v.IN_PROGRESS;return this.shouldRenderMobileWizard()&&e},mobileDeviceBtnClick:function(){this.getEditorAPI().bi.event(f.events.mobileEditor.MOBILE_EDITOR_DEVICE_CLICKED)},onIdeClick:function(){this.getEditorAPI().panelManager.closeAllPanels()},onMouseDownCapture:function(e){2===e.button&&e.stopPropagation()},onMouseMove:function(e){this.getEditorAPI().mouseActions.onEditorViewMouseMove(e)},onMouseUp:function(e){this.getEditorAPI().mouseActions.onEditorViewMouseUp(e)},getSiteId:function(){return this.getEditorAPI().documentServices.generalInfo.getSiteId()},shouldShowPackagesView:function(){return g.isOpen("se_appStudioPackagesView")},shouldShowSectionedPanel:function(){return this.props.shouldShowDevModePanels&&this.props.openDockedSections.length>0},render:h})}),define("rEditor/rootComps/editor.rt",["react","lodash","rEditor/rootComps/editorView","stateManagement"],function(e,t,o,i){"use strict";return function(){return function(){var t=this.props.editorAPI.store.getState(),n=i.editorPlugins.mouseActions.selectors;return e.createElement(o,{ref:"editorView",viewTools:t.viewTools,rulers:t.rulers,languages:this.getLanguages(),editorIsInit:t.editorIsInit,contextMenu:t.contextMenu,halfOpacityTools:t.halfOpacityTools,hideTools:t.hideTools,hideToolsAndMaintainStagePosition:t.hideToolsAndMaintainStagePosition,previewMode:t.previewMode,selectedComponents:i.editorPlugins.selection.selectors.getSelectedCompsRefs(t),siteScale:t.siteScale,portalComps:t.portalComps,isPinMode:i.editorPlugins.pinMode.selectors.isOpen(t),performingMouseMoveAction:n.isPerformingMouseMoveAction(t),savingStatus:t.savingStatus,publishingStatus:t.publishingStatus,previewingStatus:t.previewingStatus,isMobileEditor:t.isMobileEditor,topBarCustomization:t.topBarCustomization,imageCrop:t.imageCrop,config:t.config,previewPosition:i.editorPlugins.domMeasurements.selectors.getPreviewPosition(t),pageSections:t.pageSections,wixCodeLoaded:t.wixCodeLoaded,clipboard:t.clipboard,shouldHideToolsBtnBlink:t.shouldHideToolsBtnBlink,devModeContext:t.devModeContext,registeredMouseMoveAction:n.isPerformingMouseMoveAction(t)?this.props.editorAPI.mouseActions.getRegisteredMouseMoveAction():null,isUsingWindowMouseEvents:n.isUsingWindowMouseEvents(t),isPreloaderVisible:this.isPreloaderVisible(),shouldShowDevModePanels:this.shouldShowDevModePanels(),fullStagePanel:this.getFullStagePanel(),documentType:this.getDocumentType(),editorBase:this.getEditorBase(),themeFonts:this.getThemeFonts(),isReorganizeHidden:this.isReorganizeHidden(),pinPreviewRectStyle:i.editorPlugins.pinMode.selectors.getPinPreviewRectStyle(t),isOpenTextEditor:i.editorPlugins.text.selectors.isTextEditorOpen(t),previewUrl:this.props.previewUrl,attachCandidate:t.attachCandidate,snapData:t.snapData,applyModeFromClipboardSuggestion:i.editorPlugins.applyModeFromClipboard.selectors.selectApplyModeFromClipboardSuggestion(t),tabIndicationState:t.tabIndicationState,lassoCandidates:t.lassoCandidates,lassoLayout:t.lassoLayout,constraintArea:t.constraintArea,notifyPreviewReady:this.notifyPreviewReady,helpPanelProps:t.helpProps,floatingBubble:t.floatingBubble,hoverBox:t.hoverBox,scrollTo:t.scrollTo,animateScrollTo:t.animateScrollTo,focusEventCounter:t.eventCounters.focus,clearTextSelectionEventCounter:t.eventCounters.clearTextSelection,renderCounter:t.__renderCounter,flyingMusa:t.easterEggs.flyingMusa,openDockedSections:i.sectionedPanel.selectors.openDockedSections(t)})}.apply(this,[])}}),define("rEditor/rootComps/editor",["lodash","constants","create-react-class","zepto","util","rEditor/rootComps/keyboard/config/shortcutsConfig","uiAnimations","tpa","prop-types","coreBi","rEditor/rootComps/editor.rt"],function(e,t,o,i,n,r,a,s,l,c,p){"use strict";function d(){var t=i(window);this.props.editorAPI.bi.event(c.events.editor.EDITOR_READY,{is_premium:this.props.editorAPI.site.isPremium(),is_template:this.props.editorAPI.documentServices.generalInfo.isFirstSave(),window_width:t.width(),window_height:t.height(),screen_width:window.screen.width,screen_height:window.screen.height,avail_width:window.screen.availWidth,avail_height:window.screen.availHeight,prefetch:window.afterEditorPrefetch,request_from_adi:this.props.editorAPI.documentServices.generalInfo.isSiteFromOnBoarding(),experiments:e(n.editorModel.runningExperiments).pickBy(function(e){return"new"===e}).keys().sortBy().join(","),ref:window.document.referrer})}window.bi&&window.bi.event(c.events.editor.EDITOR_LOADED.evid,{prefetch:window.afterEditorPrefetch}),n.performance.mark("editor loaded"),n.performance.measure("main-r started","domLoading","main-r loaded"),n.performance.measure("addPanelData loaded","main-r loaded","addPanelData loaded"),n.performance.measure("editor loaded","addPanelData loaded","editor loaded");var u=!0;return o({displayName:"editor",mixins:[a.animationManager,n.componentUpdatesMixin],propTypes:{previewUrl:l.string.isRequired,editorAPI:l.object.isRequired},childContextTypes:{dsRead:l.object,editorAPI:l.object,mediaServices:l.object,bi:l.object,translateFromContext:l.func},getChildContext:function(){return{dsRead:this.props.editorAPI.documentServices,editorAPI:this.props.editorAPI,mediaServices:this.props.editorAPI.mediaServices,bi:window.bi,translateFromContext:n.translate}},notifyEditorInit:function(){s.initEditor(this.props.editorAPI),r.init(this.props.editorAPI)},notifyPreviewReady:function(e,t){this.startPreviewReadyFlow(e,t)},startPreviewReadyFlow:function(e,t){this.props.editorAPI.onPreviewReady(e,t),n.translate.init(this.props.editorAPI);var o=e.viewMode.get()===e.viewMode.VIEW_MODES.MOBILE;this.props.editorAPI.setEditorMode(o,!0),this.props.editorAPI.updateState({editorIsInit:!0}),u&&(u=!1,d.call(this)),(new window.Image).src="https://fast.fonts.com/t/1.css?apiType=css&projectid=33bd0973-5b82-45be-bb77-837225874dfe",this.props.editorAPI.concurrentUsers.checkForConcurrentUsers(!0),n.performance.mark("editor ready"),n.performance.measure("editor ready","editor loaded","editor ready")},componentWillMount:function(){this.notifyEditorInit()},componentWillUnmount:function(){},componentDidMount:function(){window.testApi&&window.testApi.domSelectors&&window.testApi.domSelectors.setSearchRoot(this),this.updateKeyboardShortcutContext(),window.history&&(window.history.replaceState({preview:!1},"edit mode"),window.onpopstate=this.onHistoryPopState)},componentDidUpdate:function(t){if(!t.editorIsInit&&this.props.editorIsInit){var o=window.document.getElementById("video-preloader");o&&o.parentNode.removeChild(o)}t.previewMode!==this.props.previewMode&&(window.history.state&&this.props.previewMode&&!window.history.state.preview?this.onEnterPreview():window.history.state&&!this.props.previewMode&&window.history.state.preview&&this.onExitPreview(),this.updateKeyboardShortcutContext(),i(window.document.body).toggleClass("previewMode",this.props.previewMode)),e(this.renderCallbacks).filter(e.isFunction).forEach(function(e){e()})},onExitPreview:function(){window.history.replaceState({preview:!1},"edit mode")},onEnterPreview:function(){window.history.pushState({preview:!0},"site preview")},onHistoryPopState:function(e){if(e.state){var t=e.state.preview&&!this.props.previewMode,o=!e.state.preview&&this.props.previewMode;(t||o)&&this.props.editorAPI.preview.togglePreview()}},updateKeyboardShortcutContext:function(){var e=n.keyboardShortcuts.CONTEXTS;n.keyboardShortcuts.setContext(this.props.previewMode?e.PREVIEW:e.EDITOR)},getFullStagePanel:function(){return e.find(this.props.editorAPI.store.getState().openPanels,{frameType:t.PANEL_TYPES.FULL_STAGE})},getDocumentType:function(){return this.props.editorAPI.documentServices&&this.props.editorAPI.documentServices.generalInfo.getDocumentType()},getLanguages:function(){return e.invoke(this.props.editorAPI,"documentServices.theme.fonts.getCharacterSet")},getThemeFonts:function(){return e.invoke(this.props.editorAPI,"documentServices.theme.fonts.getAll")},getEditorBase:function(){return n.editorModel.editorBase},isPreloaderVisible:function(){return!window.document.getElementById("video-preloader")&&!this.props.editorIsInit},shouldShowDevModePanels:function(){return this.props.editorAPI.store.getState().wixCodeLoaded&&this.props.editorAPI.developerMode.isEnabled()&&!this.props.editorAPI.store.getState().hideTools},isReorganizeHidden:function(){return this.props.editorAPI.store.getState().hideTools||this.props.editorAPI.isPopUpMode()},render:p})}),define("rEditor/app/panelHelpers",["lodash","util","core","platform","constants","stateManagement"],function(e,t,o,i,n,r){"use strict";function a(a){function s(e,t){return{isPreset:a.selection.getSelectedComponentData().metaData.isPreset,imagesChanged:function(e,t){e&&e(t)}.bind(a,t),createImageDataItem:a.data.createItem.bind(null,"Image"),galleryType:e}}function l(e,t){c(e)?t&&a.panelManager.updatePanelProps(e,t):a.panelManager.openPanel(e,t)}function c(t){var o=a.panelManager.getOpenPanels();return e.some(o,{name:t})}var p={FORBIDDEN_COMP_TYPES:["wysiwyg.common.components.anchor.viewer.Anchor","mobile.core.components.Page","platform.components.AppController"],DESKTOP:{NOTIFICATION_RATE:10,DONT_SHOW_AGAIN_KEY:n.USER_PREFS.OUT_OF_GRID.DESKTOP.OUT_OF_GRID_DONT_SHOW_AGAIN,OUT_OF_GRID_COUNT_KEY:n.USER_PREFS.OUT_OF_GRID.DESKTOP.OUT_OF_GRID_COUNT,PANEL_NAME:"panels.focusPanels.outOfGridDesktopPanel"},MOBILE:{NOTIFICATION_RATE:10,DONT_SHOW_AGAIN_KEY:n.USER_PREFS.OUT_OF_GRID.MOBILE.OUT_OF_GRID_DONT_SHOW_AGAIN,OUT_OF_GRID_COUNT_KEY:n.USER_PREFS.OUT_OF_GRID.MOBILE.OUT_OF_GRID_COUNT,PANEL_NAME:"panels.focusPanels.outOfGridMobilePanel"},CONTAINER:{NOTIFICATION_RATE:2,DONT_SHOW_AGAIN_KEY:n.USER_PREFS.OUT_OF_GRID.CONTAINER.OUT_OF_GRID_DONT_SHOW_AGAIN,OUT_OF_GRID_COUNT_KEY:n.USER_PREFS.OUT_OF_GRID.CONTAINER.OUT_OF_GRID_COUNT,PANEL_NAME:"panels.focusPanels.outOfContainerGridPanel"}};return{openOrganizeImagesPanel:function(e){a.panelManager.openPanel("panels.focusPanels.organizeImagesPanel",s("images",e),!0)},openOrganizeSocialIconsPanel:function(e){a.panelManager.openPanel("panels.focusPanels.organizeImagesPanel",s("socialIcons",e))},openAviaryPanel:function(e){a.panelManager.openPanel("panels.focusPanels.aviaryPanel",{imageLink:e,onDialogResult:function(){a.panelManager.closePanelByName("panels.focusPanels.aviaryPanel")}},!0)},isPanelOpen:c,isPagesPanelOpen:function(){return c("pages.pagesPanel")},openPagesPanel:function(t){t=e.assign(t,{token:i.tokenService.generateStaticGlobalPanelToken("pagesPanel")}),a.setForceOpenPagesPanelEventCounter(),l("pages.pagesPanel",t)},closePagesPanel:function(){a.panelManager.closePanelByName("pages.pagesPanel")},openMobileElementsPanel:function(){if(a.isMobileEditor()){var e={mobileElementId:"mobileView"},t="mobileEditor.mobileElementsPanel",i=(new Date).getTime();e.key=o.lazyComponent.isLoaded(t)?t+i:t+"loading",l(t,e)}},openCompOutOfGridPanel:function(t,o){var i=void 0;if(!function(t,o){var i=r.editorPlugins.userPreferences.selectors.getSiteUserPreferences(t.DONT_SHOW_AGAIN_KEY)(a.store.getState()),n=e.includes(p.FORBIDDEN_COMP_TYPES,o),s=a.documentServices.pages.popupPages.isPopupOpened()&&!a.components.is.gridLinesVisible(a.pages.popupPages.getPopupContainer()),l=a.documentServices.pages.isWidgetPage(a.documentServices.pages.getFocusedPageId());return i||n||s||l}(i=o?p.CONTAINER:a.isMobileEditor()?p.MOBILE:p.DESKTOP,a.components.getType(a.selection.getSelectedComponents()))){var n=r.editorPlugins.userPreferences.selectors.getSessionUserPreferences(i.OUT_OF_GRID_COUNT_KEY)(a.store.getState())||0;n%i.NOTIFICATION_RATE==0&&a.panelManager.openPanel(i.PANEL_NAME,t,!0),n+=1,a.store.dispatch(r.editorPlugins.userPreferences.actions.setSessionUserPreferences(i.OUT_OF_GRID_COUNT_KEY,n))}},openDragToHeaderPanel:function(e){if(!r.editorPlugins.userPreferences.selectors.getSiteUserPreferences(n.USER_PREFS.DRAG_TO_HEADER.DONT_SHOW_AGAIN)(a.store.getState())){var t=r.editorPlugins.userPreferences.selectors.getSessionUserPreferences(n.USER_PREFS.DRAG_TO_HEADER.DRAG_COUNT)(a.store.getState())||0;t%10==0&&a.panelManager.openPanel("panels.focusPanels.dragToHeaderPanel",e),t+=1,a.store.dispatch(r.editorPlugins.userPreferences.actions.setSessionUserPreferences(n.USER_PREFS.DRAG_TO_HEADER.DRAG_COUNT,t))}},openAttachToSOSPPanel:function(){!!r.editorPlugins.userPreferences.selectors.getSiteUserPreferences(n.USER_PREFS.SOSP.PANELS.ATTACH_DO_NOT_SHOW_AGAIN)(a.store.getState())||a.panelManager.openPanel("panels.focusPanels.attachToSOSPPanel")},openDetachedFromSOSPPanel:function(){!!r.editorPlugins.userPreferences.selectors.getSiteUserPreferences(n.USER_PREFS.SOSP.PANELS.DETACH_DO_NOT_SHOW_AGAIN)(a.store.getState())||a.panelManager.openPanel("panels.focusPanels.detachedFromSOSPPanel")},openPinModeSizeRestrictionPanel:function(e){r.editorPlugins.userPreferences.selectors.getSiteUserPreferences(n.PANELS.PIN_TOO_BIG.PIN_TOO_BIG_DONT_SHOW_AGAIN)(a.store.getState())||a.panelManager.openPanel(n.PANELS.PIN_TOO_BIG.PANEL_NAME,e,!0)},openLinkPanel:function(e,o){a.panelManager.openPanel("panels.toolPanels.linkPanel",t.link.getLinkPanelProps(a,e),!o)}}}return{create:a}}),define("rEditor/app/updateOperationsPlugins",["lodash"],function(e){"use strict";function t(){var t=arguments;e.forEach(this.list,function(e){e.apply(null,t)})}return{setHomePagePlugins:{list:[],run:t},updatePagePlugins:{list:[],run:t}}}),define("rEditor/app/componentPlugins/designDataChange/repeaterItemDesignDataChangePlugin",[],function(){"use strict";return function(e,t,o,i){var n=!!o.background;e.components.is.repeaterItem(t)&&!n&&e.components.getSiblings(t).forEach(function(t){e.documentServices.components.design.update(t,o,i)})}}),define("rEditor/app/componentsPlugins",["lodash","util","constants","rEditor/rootComps/gfpp/gfppModel","experiment","coreBi","rEditor/app/componentPlugins/designDataChange/repeaterItemDesignDataChangePlugin"],function(e,t,o,i,n,r,a){"use strict";function s(s){function c(t,n){if(!s.isMobileEditor()){var r=i.getComponentMainActionClick(s,n.comp);e.isFunction(r)&&r(s,n.comp,o.USER_ACTIONS.ORIGIN.DOUBLE_CLICK)}}function p(t,o,i,n){var r=n.getPage(o);!function(t,o){e.forEach(o,function(o){e(o).thru(e.bind(t.get,t)).filter(function(t){var o=e.get(t,"behavior.type"),i=e.get(t,"behavior.name");return"widget"===o&&("runCode"===i||"runAppCode"===i)}).forEach(function(e){t.remove(o,e.action,{id:e.behavior.targetId},e.behavior)})})}(i,e(t).reject(function(t){return e.isEqual(t.root,r)}).map("ref").value())}function d(t,o,i,n){var r=n.modes.getFirstAncestorOrSelfWithModeDefinitions(o);!function(t,o,i){e.forEach(i,function(i){e(i).thru(e.bind(t.get,t)).filter(function(t){return e.includes(l,t.action)}).forEach(function(e){o.behaviors.remove(i,e)})})}(i,n,e(t).reject(function(t){return e.isEqual(t.ancestor,r)}).map("ref").value())}function u(t,o){return e(o).thru(function(){return t.getChildren(o.ref,!0).concat(o.ref)}).map(function(e){return{ref:e,root:o.root}}).value()}function m(t,o){return e(o).thru(function(){return t.getChildren(o.ref,!0).concat(o.ref)}).map(function(e){return{ref:e,ancestor:o.ancestor}}).value()}function g(t,o,i,n,r){var a=function(t,o){return e.flatMap(o,e.partial(u,t))}(n,o),s=function(t,o){return e.flatMap(o,e.partial(m,t))}(n,i);p(a,t,r,n),d(s,t,r,n)}function f(t,o,i){return i=i||{},e.filter(t,function(t){var n=i[t.id]||s.components.properties.get(t);return e.get(n,o)})}function h(t,o){var i=function(t,o){var i=f(t,"isHidden",o);return e.map(i,"id")}(t,o);s.documentServices.documentMode.ignoreComponentsHiddenProperty(i)}function b(t,o){var i=function(t,o){var i=f(t,"isCollapsed",o);return e.map(i,"id")}(t,o);s.documentServices.documentMode.ignoreComponentsCollapsedProperty(i)}function y(e){h(e),b(e),function(e){if(!e)return;1===e.length&&s.documentServices.pages.popupPages.isPopup(e[0].id)&&s.bi.event(r.events.popups.pop_up_overlay_clicked)}(e)}var v=s.pluginService;v.registerPlugin(v.pluginConstants.DOUBLE_CLICK,"wysiwyg.viewer.components.WRichText",function(){s.isMobileEditor()?s.openComponentPanel(o.componentPanels.settings):(s.bi.event(r.events.textControls.Text_Panel_opened,{origin:o.USER_ACTIONS.ORIGIN.DOUBLE_CLICK}),s.text.startEditing())}),v.registerPlugin(v.pluginConstants.DOUBLE_CLICK,"wysiwyg.viewer.components.Repeater",e.noop),v.registerPlugin(v.pluginConstants.DOUBLE_CLICK,"wysiwyg.viewer.components.SiteButton",c),v.registerPlugin(v.pluginConstants.DOUBLE_CLICK,"wysiwyg.viewer.components.inputs.DatePicker",c),v.registerPlugin(v.pluginConstants.DOUBLE_CLICK,"wysiwyg.viewer.components.inputs.FileUploader",c),v.registerPlugin(v.pluginConstants.DOUBLE_CLICK,o.MULTISELECT.TYPE,e.noop),v.registerPlugin(v.pluginConstants.DOUBLE_CLICK,"wysiwyg.viewer.components.Group",e.noop),v.registerPlugin(v.pluginConstants.DOUBLE_CLICK,"wysiwyg.viewer.components.inputs.TextInput",c),v.registerPlugin(v.pluginConstants.DOUBLE_CLICK,"mobile.core.components.Page",function(t,n){var r=s.siteSegments.getPagesContainerAbsLayout(),a=n.evt.pageX<r.x||n.evt.pageX>r.x+r.width,l=n.comp[0];if(s.documentServices.pages.popupPages.isPopup(l.id)){var c=i.getComponentMainActionClick(s,n.comp);e.isFunction(c)&&c(s,n.comp,o.USER_ACTIONS.ORIGIN.DOUBLE_CLICK)}else a?s.panelManager.openPanel("rEditor.panels.backgroundPanel"):s.openComponentPanel(o.componentPanels.design)}),s.registerCompNamePlugin("wysiwyg.viewer.components.HoverBox",function(o){for(var i=s.components.modes.getTypes(),n=e.filter(s.components.modes.getModes(o),["type",i.HOVER]),r=s.components.modes.getComponentActiveModeIds(o),a=0;a<n.length;a++)if(r[n[a].modeId])return t.translate("component_label_hover_box_onhover");return t.translate("component_label_hover_box")}),s.registerCompNamePlugin("wysiwyg.viewer.components.ClipArt",function(){return n.isOpen("se_addPanelClipArtToIllustration")?t.translate("component_label_illustration"):t.translate("component_label_clipart")}),s.registerCompNamePlugin("wysiwyg.viewer.components.Column",function(o){var i=e(o).thru(s.components.getType).thru(function(e){return e.split(".")}).last(),n=e(o).thru(s.components.getContainer).thru(s.components.getChildren).findIndex(o)+1;return t.translate("component_label_"+i)+" "+n}),s.registerCompNamePlugin("mobile.core.components.Page",function(e){return s.documentServices.pages.popupPages.isPopup(e.id)?t.translate("component_label_Overlay"):t.translate("component_label_Page")}),s.registerCompNamePlugin("platform.components.AppController",function(t){return e.get(s.platform.controllers.getStageData(t),"controllerTypeDisplayName")}),s.registerCompNamePlugin("wysiwyg.viewer.components.SiteRegionContainer",function(){return t.translate("component_label_members_bar")}),s.registerRemovePlugin("wysiwyg.viewer.components.Column",function(e,t,o){return s.columns.removeColumn(e,t,o)}),s.registerHidePlugin("wysiwyg.viewer.components.QuickActionBar",function(e){s.mobile.mobileOnlyComponents.removeQuickActionBar(e)}),s.registerDuplicatePlugin("wysiwyg.viewer.components.Column",function(t){var o=s.components.getContainer(t);if(!s.components.is.duplicatable(t,o))return[];var i=s.columns.duplicateColumn(e.head(t));return s.documentServices.waitForChangesApplied(function(){s.selection.selectComponentByCompRef(i),s.openFirstTimePanel(i)}),i}),v.registerPlugin("selection","*",y),v.registerPlugin("propertiesChange","*",function(e,t){var o=s.selection.getSelectedComponents(),i={};i[e.id]=t,h(o,i),b(o,i)}),v.registerPlugin("setContainer","*",g),v.registerPlugin("designDataChange","*",a)}var l=[o.ACTIONS.SCREEN_IN,o.ACTIONS.EXIT,o.ACTIONS.MODE_IN,o.ACTIONS.MODE_EXIT,o.ACTIONS.MODE_CHANGE];return{register:s}}),define("rEditor/app/APISectionsPlugins/historyPlugins",["constants"],function(e){"use strict";return{register:function(t){t.pluginService.registerPlugin(e.HISTORY.REDO,e.DS_ACTIONS.ADD_PAGE,function(e,o){e.nextPage&&e.nextPage!==t.documentServices.pages.getFocusedPageId()?t.pages.navigateTo(e.nextPage,o):o()})}}}),define("rEditor/app/updateOperationsPlugins/siteSeoUpdateOperationPlugin",["rEditor/app/updateOperationsPlugins"],function(e){"use strict";function t(e,t){t=t&&t.replace(/^#/,"")||e.homePage.get();var o=e.documentServices.pages.data.get(t);return{name:o.pageTitleSEO,description:o.descriptionSEO,keywords:o.metaKeywordsSEO}}function o(e,t){e.site.setSEOSiteName(t.name),e.site.setSEOSiteDescription(t.description),e.site.setSEOSiteKeywords(t.keywords)}return{register:function(){e.setHomePagePlugins.list.push(function(e,i){o(e,t(e,i))}),e.updatePagePlugins.list.push(function(e,i){i===e.homePage.get()&&o(e,t(e,i))})}}}),define("rEditor/app/pluginsRegistrar",["rEditor/app/componentsPlugins","rEditor/app/APISectionsPlugins/historyPlugins","rEditor/app/updateOperationsPlugins/siteSeoUpdateOperationPlugin"],function(e,t,o){"use strict";return{register:function(i){e.register(i),t.register(i),o.register()}}}),define("rEditor/app/APISections/concurrentUsersWrapper",["lodash","coreUtilsLib","util"],function(e,t,o){"use strict";function i(i){function n(s){!function(){var t=i.documentServices.generalInfo.getUserInfo(),n=o.cookie.getCookie("wixClient");return t&&t.name&&e.includes(n,t.name)}()?a():u=i.documentServices.generalInfo.isFirstSave()?window.setTimeout(function(){n(s)},p):window.setTimeout(function(){!function(e){if(e){var n=i.documentServices.generalInfo.getMetaSiteId(),r=o.editorModel.editorSessionId;!function(e,o,i){var n=c({msid:e,esi:o}),r=null;t.requestsUtil.fetchJson(n).then(function(e){e&&(e.success||-15!==e.errorCode&&-12!==e.errorCode&&-16!==e.errorCode||(f=!1,a()),r=e.otherUsersOnSite||null),i(r)}).catch(function(){return i(r)})}(n,r,e)}}(e.partial(r,s))},s?0:p)}function r(t,o){if(t&&null===g&&(g=e.isEmpty(o)),!e.isEmpty(o)&&!function(t,o){{if(t===o)return!0;if(t&&!o||!t&&o||e.size(t)<e.size(o))return!1}var i={},n=t.length;return e.forEach(t,function(e){i[e]=e}),e.forEach(o,function(e){i[e]=e}),n===e.size(i)}(d,o)){var r=function(t,o){var i={};e.forEach(t,function(e){i[e]=i});var n=null;return e.forEach(o,function(e){if(!i[e])return n=e,!1}),n}(d,o);d=o;var a={isFirstUser:g,concurrentUsers:o,concurrentUserToDisplay:r};i.panelManager.openPanel(s,a)}f&&n(!1)}function a(){u&&(window.clearTimeout(u),u=null),d=null,m=!1}var s="panels.messagePanels.concurrentUserPanel",l=window.location.protocol+"//editor."+o.serviceTopology.baseDomain+"/concurrent-editing-session-watcher/watcher/report",c=e.template(l+"?msid=<%= msid %>&esi=<%= esi %>"),p=6e4,d=null,u=null,m=!1,g=null,f=!0;return{checkForConcurrentUsers:function(){f=!0,m||(m=!0,n(!0))},stopCheckForConcurrentUsers:a}}return{create:i}}),define("rEditor/app/APISections/themeWrapper",["lodash"],function(e){"use strict";return{create:function(t){return{colors:{get:function(o){return e.includes(o,"color")?t.documentServices.theme.colors.get(o):o}},styles:{getExcludedList:function(){return t.theme.styles.excludedList||[]},setExcluded:function(e){var o=t.theme.styles;o.excludedList||(o.excludedList=[]),o.excludedList.push(e)},update:function(o,i,n){t.updateHooks&&e.forEach(t.updateHooks,function(e){e(o,i)}),t.documentServices.theme.styles.update(o,i),n||t.history.debouncedAdd("Update component style")},getAllIds:function(){var o=t.documentServices.theme.styles;return e.difference(o.getAllIds(),t.theme.styles.getExcludedList())},registerHook:function(e){t.updateHooks=t.updateHooks||[],t.updateHooks.push(e)}}}}}}),define("rEditor/app/APISections/historyWrapper",["lodash","constants","stateManagement"],function(e,t,o){"use strict";function i(i){function n(t,o){e.assign(o,{isSameEditorMode:o.isMobileEditor===i.isMobileEditor(),selectedComps:i.selection.getSelectedComponents()}),e.forEach(c,i.panelManager.closePanelByName),i.setEditorMode(o.isMobileEditor,!0),t.call(i.documentServices.history),i.documentServices.waitForChangesApplied(function(){o.postAction?o.postAction(o,e.partial(r,o)):r(o)})}function r(t){var o=e.filter(t.selectedComps,i.components.is.exist.bind(i));if(!e.isEmpty(o)){var n=[i.documentServices.pages.getFocusedPageId()];i.documentServices.pages.popupPages.isPopupOpened()||n.push(i.pages.getMasterPageId());var r=e.get(i.components.getPage(o),"id");t.isSameEditorMode&&e.includes(n,r)&&i.selection.selectComponentByCompRef(o)}}function a(e,o){var n=i.pluginService.getPlugin(o,e.actionType);if(o===t.HISTORY.REDO)switch(e.actionType){case t.DS_ACTIONS.ADD_PAGE:e.postAction=n}return e}function s(t,o,r){var a=o();(a=r(a)||a).currentPage===i.documentServices.pages.getFocusedPageId()?n(t,a):i.pages.isPageExist(a.currentPage)?i.pages.navigateTo(a.currentPage,e.partial(n,t,a)):(n(t,a),i.documentServices.waitForChangesApplied(function(){i.pages.navigateTo(a.currentPage)})),l()}function l(){i.store.getState().savingStatus===t.PROGRESS_STATUS.IDLE_SAVED&&i.updateState({savingStatus:t.PROGRESS_STATUS.IDLE}),i.store.dispatch(o.editorPlugins.leavePopup.actions.setLeavePopup(!0))}var c=["panels.toolPanels.colorPicker.colorPickerPanel","rEditor.panels.backgroundApplyPanel","compPanels.dynamicPanels.pinnedDockPanel","rEditor.panels.slideShowBgApplyPanel"];return{add:function(t,n,r){i.store.dispatch(o.editorPlugins.rulers.actions.resetHistory());var a=i.isMobileEditor();n=e.defaults(n||{},{label:t,currentPage:i.documentServices.pages.getFocusedPageId(),isMobileEditor:a}),i.documentServices.history.add(t,n,r),l()},debouncedAdd:function(t){i.history._debouncedAdd||(i.history._debouncedAdd=e.debounce(i.history.add,500)),i.history._debouncedAdd(t)},undo:function(){o.editorPlugins.rulers.selectors.canUndo(i.store.getState())?i.store.dispatch(o.editorPlugins.rulers.actions.undo()):i.documentServices.waitForChangesApplied(function(){var t=i.documentServices.history;t.canUndo()&&(i.store.dispatch(o.editorPlugins.rulers.actions.resetHistory()),s(t.undo.bind(t),t.getUndoLastSnapshotParams.bind(t),e.noop))})},redo:function(){o.editorPlugins.rulers.selectors.canRedo(i.store.getState())?i.store.dispatch(o.editorPlugins.rulers.actions.redo()):i.documentServices.waitForChangesApplied(function(){var o=i.documentServices.history;o.canRedo()&&s(o.redo.bind(o),o.getRedoLastSnapshotParams.bind(o),e.partialRight(a,t.HISTORY.REDO))})},clear:function(){i.documentServices.history.clear()}}}return{create:i}}),define("rEditor/app/APISections/imageCrop",["lodash","util","coreUtilsLib","baseUI","constants","coreBi","stateManagement"],function(e,t,o,i,n,r,a){"use strict";function s(s){function l(e,t,o){var i=function(e,t){var o=P.getMiddlePoint(e);return P.getPointRatioFromRect(o,t)}(e,t);return{x:o.width*i.x,y:o.height*i.y}}function c(t){var o=s.ui.stage.getEditingAreaLayout();if(t){var i=s.ui.stage.getMobileFrameLayout();return e({left:i.left-o.left,top:i.top-o.top}).defaults(i).thru(P.getRectByBoundingRect).value()}return{x:0,y:0,width:s.site.getSiteWidth(),height:s.site.getHeight()}}function p(o){var i=s.components.data.get(o),n=s.components.properties.get(o),r=n.displayMode,a=s.components.layout.get(o).rotationInDegrees,l=r===C.fittingTypes.SCALE_TO_FILL,p=e.pick(s.components.layout.getRelativeToScreen(o),["height","width","x","y"]),u={},m=n.overrideCrop||i.crop;if(d(r)){var g=t.layoutUtils.getImageOrCropAspectRatio(i);p=t.layoutUtils.getLayoutWithAspectRatio(p,g,null,!0)}var f=function(o,i,n){var r=e.clone(o);r.x+=i.x,r.y+=i.y;var a=t.math.getPointAsIfRectWasNotRotated(r,P.getMiddlePoint(i),-n);return{x:a.x-i.width/2,y:a.y-i.height/2}}((u=m||l?!m&&l?function(t,o){var i=E.reverseAutoCrop(t,o),n=e.assign({},i,{x:0,y:0});return n=E.autoCrop(n,e.pick(t,["height","width"])),{cropOriginArea:i,cropArea:n}}(p,i):m&&!l?function(e,t,o){var i=E.reverseManualCrop(e,o,t);return{cropOriginArea:i,cropArea:E.manualCrop(i,o,t)}}(p,i,m):function(e,t,o){var i=E.reverseAutoCrop(e,o),n=E.reverseManualCrop(i,o,t),r=E.reverseAutoCrop(n,t),a=E.manualCrop(r,o,t);return a=E.autoCrop(a,e),{cropOriginArea:r,cropArea:a}}(p,i,m):function(t){return{cropOriginArea:t,cropArea:e(t).pick(["height","width"]).assign({x:0,y:0}).value()}}(p)).cropArea,u.cropOriginArea,a);return e.assign(u.cropOriginArea,f),u=function(e){var t=c(s.isMobileEditor());return{cropArea:E.ensure.areaWithinViewport(t,e),cropOriginArea:e.cropOriginArea}}(u)}function d(o){var i=t.imageTransform.fittingTypes,n=i.SCALE_TO_FILL,r=i.STRETCH;return!e.includes([n,r],o)}function u(a,l){var c=void 0,u=void 0,m=s.store.getState(),g=o.objectUtils.cloneDeep(m.imageCrop),f=S(m);e.isEmpty(f)||(g.isOn=void 0===a?!g.isOn:a,g.isOn?(i.tooltipManager.hide(n.ROOT_COMPS.TOOLTIPS.FIRST_TIME_EXIT_POPUP_MODE),function(e,o){var i=s.components.properties.get(e).displayMode;if(d(i)){var n=t.imageTransform.fittingTypes.SCALE_TO_FILL;o.originalDisplayMode=i,s.components.properties.update(e,{displayMode:n})}}(f,g),c=p(f),s.bi.event(r.events.imageCrop.Open_crop_mode,{fixed_layout:!1}),u=t.keyboardShortcuts.CONTEXTS.IMAGE_CROP):(c={cropArea:null,cropOriginArea:null},u=t.keyboardShortcuts.CONTEXTS.EDITOR),e.assign(g,c),l=l||e.noop,t.keyboardShortcuts.setContext(u),g.isOn?y(g,l):s.updateState({imageCrop:g},l))}function m(){return e.clone(s.store.getState().imageCrop.cropArea)}function g(){return e.clone(s.store.getState().imageCrop.cropOriginArea)}function f(o,i){var n=s.store.getState(),r=S(n),a=n.imageCrop,l=a.cropOriginArea,c=a.cropArea,p=s.components.layout.get(r).rotationInDegrees,d=o?{x:0,y:0}:function(e){var t=s.components.getContainer(e),o=s.components.layout.getRelativeToScreen(t);if(s.isMobileEditor())return o;var i=s.components.get.byId("PAGES_CONTAINER"),n=s.components.layout.getRelativeToScreen(i);return(s.components.is.fullWidth(t)||s.components.isShowOnAllPages(e))&&(o.x+=n.x),o}(r);if(!a)return null;var u=i?c:function(o,i,n){var r=P.getMiddlePoint(o),a=e.assign({},i,{x:0,y:0}),s=t.math.getPointAsIfRectWasNotRotated(a,r,-n);return{x:s.x-o.width/2,y:s.y-o.height/2}}(c,l,p);return e(c).pick(["height","width"]).assign({x:u.x+l.x-d.x,y:u.y+l.y-d.y}).value()}function h(t){return e(t).pick(["x","y","width","height"]).mapValues(Math.round).value()}function b(t,o){var i=e.cloneDeep(t);i.cropArea=h(t.cropArea),i.cropOriginArea=h(t.cropOriginArea),o=o||e.noop,s.updateState({imageCrop:i},o)}function y(t,o){b(e.assign({},s.store.getState().imageCrop,t),o)}function v(o,i){var n=s.components.data.get(o),r=s.components.layout.get(o),a=r.rotationInDegrees,c=s.components.properties.get(o).displayMode,p=s.imageCrop.getCropOriginArea(),d=s.imageCrop.getCropArea(),u=P.getAspectRatio(r),m=e.assign({},n,{height:n.width*u}),g=c===C.fittingTypes.STRETCH?m:n,f=P.getRectMinDimensionsByContainedInnerRect(g,d),h=function(e,t,o){var i=e/P.getAreaRatioPercentage(t,o);return P.getResizedByRatio(t,i)}(i,p,n),b=function(t,o,i){var n=e.clone(o),r=e.clone(i),a=P.getMiddlePoint(i),s=l(i,t,n),c={x:s.x-a.x,y:s.y-a.y};return r.x+=c.x,r.y+=c.y,n.x-=c.x,n.y-=c.y,{originArea:n,area:r}}(p,h=E.ensure.scaleWithinDimensions(h,d,f),d),y=E.ensure.areaIsFullyContained(b.originArea,b.area),v=function(e,o,i){var n=P.getMiddlePoint(e),r=P.getMiddlePoint(o),a={x:r.x-n.x,y:r.y-n.y},s=t.math.degToRad(i),l=t.math.rotateVectorAround(a,s);return{x:t.math.roundToNearestHalf(l.x-a.x),y:t.math.roundToNearestHalf(l.y-a.y)}}(p,y.originArea,a);return y.originArea.x+=v.x,y.originArea.y+=v.y,y}var S=a.editorPlugins.selection.selectors.getSelectedCompsRefs,P=t.math.rect,E=t.imageCrop,C=t.imageTransform;return{isCropMode:function(){return s.store.getState().imageCrop.isOn},toggleCropMode:u,getCropArea:m,getCropOriginArea:g,getCropAreaFinalPosition:f,setCropOriginArea:function(t,o){b(e.assign({},s.store.getState().imageCrop,{cropOriginArea:t}),o)},setCropArea:function(t,o){b(e.assign({},s.store.getState().imageCrop,{cropArea:t}),o)},setCropData:y,updateCrop:function(){var t=s.store.getState(),o=S(t),i=s.components.data.get(o),n=s.components.layout.get(o).fixedPosition,r=s.imageCrop.getCropArea(),a=s.imageCrop.getCropOriginArea(),l=s.imageCrop.getCropAreaFinalPosition(n),c={width:a.width/i.width,height:a.height/i.height},p=e.mapValues({x:r.x/c.width,y:r.y/c.height,height:r.height/c.height,width:r.width/c.width},Math.round);P.areRectsTheSameSize(i,p)&&0===p.x&&0===p.y&&!s.isMobileEditor()&&(p=null),s.isMobileEditor()?s.components.properties.update(o,{overrideCrop:p}):s.components.data.update(o,{crop:p}),s.components.layout.update(o,l)},getNewCropStateByPercentageFromOriginalImage:v,quickActions:{getNewCropStateForHundredPercent:function(e){return v(e,100)},getNewCropStateForSquare:function(){var e=s.imageCrop.getCropOriginArea(),t=s.imageCrop.getCropArea(),o=Math.min(t.width,t.height);return t.height=o,t.width=o,{area:t,originArea:e}},getNewCropStateResetCrop:function(){var t=g(),o=P.getAspectRatio(t),i=m(),n=s.imageCrop.getCropAreaFinalPosition(!0),r=P.getRectMinDimensionsByContainedInnerRect(t,n),a=i.height>i.width?{height:r.height,width:r.height/o}:{width:r.width,height:r.width*o},l=c(s.isMobileEditor());if(n.x+a.width>P.getRight(l)){var p=P.getRight(l)-n.x;a={width:p,height:p*o}}return{area:e.assign({},a,{x:0,y:0}),originArea:e.assign({},n,a)}}}}}return{create:s}}),define("rEditor/app/APISections/siteWrapper",["core","util","stateManagement","lodash"],function(e,t,o,i){"use strict";function n(n){function s(e,o){var n=t.url;return o.forEach(function(t){var o=n.getParameterByName(t);o&&("experiments"===t||"experimentsoff"===t)&&i.includes(o,":")&&(o=function(e){var t=i(e).split(";").filter(function(e){return i.startsWith(e,"viewer")}).map(function(e){return e.split("viewer:")[1]}).join(",");return t?"viewer:"+t:""}(o)),e=o?n.setUrlParam(e,t,o):e}),e}var l=n.store;return{getCurrentSiteDomain:function(){var e=window.location.hostname.match(/editor\.(.*)/);return e?"www."+e[1]:"www.wix.com"},setSEOSiteName:function(e){return n.documentServices.seo.title.set(e)},setSEOSiteDescription:function(e){return n.documentServices.seo.description.set(e)},getSEOSiteKeywords:function(){return n.documentServices.seo.keywords.get()},setSEOSiteKeywords:function(e){return n.documentServices.seo.keywords.set(e)},getMetaSiteId:function(){return n.documentServices.generalInfo.getMetaSiteId()},isPremium:function(){return i.chain(n.documentServices).invoke("premiumFeatures.get").get("length",0).value()>0},getXPos:function(){return n.components.layout.getRelativeToScreen(n.documentServices.siteSegments.getPagesContainer()).x},getSiteDomainInfo:function(t,o){var i=n.documentServices.generalInfo.getMetaSiteId();e.premiumServicesAPI.getSiteDomainInfo(i,t,o)},getSitePremiumPackage:function(){return n.store.getState().site.premiumPackage||-1},getSitePublicUrl:function(){if(!n.documentServices)return null;var e=l.getState(),t=n.documentServices.generalInfo.getPublicUrl()||r.getFreeDomainPrefix(e,n.documentServices)+n.siteName.get();return t=t.replace(/^https?/i,r.getSiteProtocol(e,n.documentServices)),s(t,["ReactSource","experiments","experimentsoff","viewerexp","js-wixcode-sdk-override"])},getSiteWidth:function(){return window.document.getElementById("preview").getBoundingClientRect().width},hasSiteBeenADI:function(){return!!n.documentServices&&(o.userPreferences.selectors.getSiteUserPreferences(a)(n.store.getState())||n.documentServices.generalInfo.isSiteFromOnBoarding()||!i.isUndefined(t.editorModel.onboardingEditorUrl))}}}var r=o.editorPlugins.domain.selectors,a="hasSiteBeenADI";return{create:n}}),define("rEditor/bi/events.json",[],function(){return{QUALAROO_DUMMY_EVENT:{evid:9,fields:{testField:"testValue"}},UPGRADE_EVENT:{evid:519,fields:{origin:"string"}},AUTOSAVE_TEST:{src:42,endpoint:"ugc-viewer",evid:362,fields:{type:"string",uuid:"guid"}},IDE_TOPBAR_RESIZE:{endpoint:"platform",src:79,evid:20,fields:{old_hight:"string",new_hight:"string",site_id:"guid"}},LEFT_TREE_TOGGLE:{endpoint:"platform",src:79,evid:21,fields:{state:"string",site_id:"guid"}},PROPERTIES_PANEL_TOGGLE:{endpoint:"code",src:39,evid:141,fields:{state:"string",site_id:"guid"}},BG_IMAGE_SETTINGS_PANEL_SCROLL_EFFECT:{endpoint:"editor",src:38,evid:685,fields:{scroll_type:"string"}}}}),define("rEditor/bi/errors.json",[],function(){return{QUALAROO_SURVEY_TIMEOUT_NOT_SENT:{errorCode:8,errorName:"QUALAROO_SURVEY_TIMEOUT_NOT_SENT",desc:"qualaroo component was added without a timeout prop",severity:"error"}}}),define("rEditor/bi/bi",["rEditor/bi/events.json","rEditor/bi/errors.json"],function(e,t){"use strict";return{events:e,errors:t,registerEvents:function(t){t.documentServices.bi.register("rEditor","event",e)}}}),define("rEditor/app/APISections/developerMode",["lodash","util","rEditor/bi/bi","rEditor/rootComps/gfpp/gfppModel","gfppData","constants","coreBi","stateManagement"],function(e,t,o,i,n,r,a,s){"use strict";function l(l){function c(){require.specified("platform")||require(["platform"],function(e){e.init(l,i.registerGfppActions,n.registerComponent,n.mergeComponentGfppData,r.ROOT_COMPS.GFPP.ACTIONS)})}function p(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];l.wixCode.isProvisioned()||t.fedopsLogger.interactionStarted(t.fedopsLogger.INTERACTIONS.CODE_TOP_BAR_FIRST_INSTALL);var o=!d(),i={developerModeEnabled:o,developerToolBarEnabled:o};M(r.USER_PREFS.VIEW_TOOLS.DEVELOPER_MODE_ENABLED,o),M(r.USER_PREFS.VIEW_TOOLS.DEVELOPER_TOOLBAR_ENABLED,o),o&&l.store.getState().viewTools.toolbarEnabled&&(i.toolbarEnabled=!1),o&&!O(r.USER_PREFS.DEVELOPER_MODE.FIRST_TIME)&&function(e){l.selection.deselectComponents(),e&&l.panelManager.openPanel("wixCode.panels.developerWelcomePanel");M(r.USER_PREFS.DEVELOPER_MODE.FIRST_TIME,!0),M(r.USER_PREFS.VIEW_TOOLS.SHOW_HIDDEN_COMPS,!0)}(!e),o&&c(),i.showHiddenComponents=function(e){return e&&O(r.USER_PREFS.VIEW_TOOLS.SHOW_HIDDEN_COMPS)}(o),o||(l.selection.deselectComponents(),l.panelManager.closeAllPanelsOfType(r.PANEL_TYPES.FULL_STAGE)),m(u(r.DEVELOPER_MODE.CONTEXT_TYPES.PAGE)),l.documentServices.documentMode.showHiddenComponents(i.showHiddenComponents),l.documentServices.documentMode.showControllers(o),l.updateEditorViewTools(i)}function d(){var e=l.getViewTools();return!!e&&!!e.developerModeEnabled}function u(e,t){return{type:e,data:t}}function m(e){l.updateState({devModeContext:e})}function g(t){return l.store.getState()[t]||function(t){switch(t){case"ideSplitter_"+r.DEVELOPER_MODE.CONTEXT_TYPES.PAGE:return _.getInitialState("calc(100% - 234px)","bottom");case"ideSplitter_"+r.DEVELOPER_MODE.CONTEXT_TYPES.FILE:case"ideSplitter_"+r.DEVELOPER_MODE.CONTEXT_TYPES.COLLECTION:return _.getInitialState("0","top");case"consoleSplitter":return _.getInitialState("calc(100% - 234px)","bottom");case"fileTreeSplitter":var o=O(r.USER_PREFS.DEVELOPER_MODE.FILE_PANE_SPLITTER);return e.isNil(o)?_.getInitialState("296px",!1):o;case"packagesViewSplitter":var i=O("developer.packagesViewSplitter.state");return e.isNil(i)?_.getInitialState("calc(100% - 200px)",!1):i}}(t)}function f(t,o){var i=e.drop(arguments,2),n=g(t);return o.apply(null,[n].concat(i))}function h(e,t,o,i){var n=f.apply(null,arguments),r={};return r[e]=n,l.updateState(r,i),r}function b(e,t,o,i){var n=o<=I;return o+T>=i?h(e,_.collapse,"bottom"):n?h(e,_.collapse,"top"):h(e,_.setSplitPosition,t)}function y(){var e=h.apply(null,arguments);M(r.USER_PREFS.DEVELOPER_MODE.FILE_PANE_SPLITTER,e.fileTreeSplitter)}function v(){var e=h.apply(null,arguments);M("developer.packagesViewSplitter.state",e.packagesViewSplitter)}function S(e){var t=g(e);return _.isCollapsed(t,"top")?r.DEVELOPER_MODE.CONTAINER_STATES.MAXIMIZED:_.isCollapsed(t,"bottom")?r.DEVELOPER_MODE.CONTAINER_STATES.MINIMIZED:r.DEVELOPER_MODE.CONTAINER_STATES.CUSTOM}function P(t){var o=e.tail(arguments);return t.apply(null,["ideSplitter_"+l.store.getState().devModeContext.type].concat(o))}function E(e,t,i){!function(e,t){l.bi.event(o.events.IDE_TOPBAR_RESIZE,{old_hight:l.developerMode.ui.idePane.getSplitPosition(),new_hight:(100*e/t).toPrecision(4)+"%",site_id:l.documentServices.generalInfo.getSiteId()})}(t,i),P(b,e,t,i)}function C(e){!function(){var e=l.developerMode.ui.treePane.isOpen?"close":"open";l.bi.event(o.events.LEFT_TREE_TOGGLE,{state:e,site_id:l.documentServices.generalInfo.getSiteId()})}(),y("fileTreeSplitter",_.toggleCollapse,"left",e)}var T=r.UI.WIX_CODE_TOPBAR_HEIGHT,I=54,_=t.splitterAPI,O=function(e){return s.editorPlugins.userPreferences.selectors.getSiteUserPreferences(e)(l.store.getState())},M=function(e,t){return l.store.dispatch(s.editorPlugins.userPreferences.actions.setSiteUserPreferences(e,t))};return{createContext:u,setContext:m,getContext:function(){if(!l.isPreviewReady())return u(r.DEVELOPER_MODE.CONTEXT_TYPES.UNKNOWN);var e=l.store.getState().devModeContext;if(e.type===r.DEVELOPER_MODE.CONTEXT_TYPES.PAGE){var t=l.documentServices.pages.getFocusedPageId(),o={id:l.documentServices.pages.getFocusedPageId(),displayName:l.pages.getPageTitle(t),isPopup:l.documentServices.pages.popupPages.isPopup(t)};e=u(r.DEVELOPER_MODE.CONTEXT_TYPES.PAGE,o)}return e},isEnabled:d,enableWithMarketingConfig:function(){if(!O(r.USER_PREFS.DEVELOPER_MODE.FIRST_TIME)){var e={developerModeEnabled:!0,developerToolBarEnabled:!0,showHiddenComponents:!0};M(r.USER_PREFS.DEVELOPER_MODE.FIRST_TIME,!0),M(r.USER_PREFS.VIEW_TOOLS.DEVELOPER_MODE_ENABLED,e.developerModeEnabled),M(r.USER_PREFS.VIEW_TOOLS.DEVELOPER_TOOLBAR_ENABLED,e.developerToolBarEnabled),c(),m(u(r.DEVELOPER_MODE.CONTEXT_TYPES.PAGE)),l.documentServices.documentMode.showHiddenComponents(e.showHiddenComponents),l.documentServices.documentMode.showControllers(!0),y("fileTreeSplitter",_.collapse,"right"),l.updateEditorViewTools(e),l.developerMode.ui.idePane.unMinimize(),l.bi.event(a.events.topbar.top_bar_CODE_menu_click,{category:"dev_mode",status:1,origin:"auto"})}},toggle:p,ui:{idePane:{getSplitPosition:e.partial(P,f,_.getSplitPosition),setSplitPosition:E,maximize:e.partial(P,h,_.collapse,"top"),unMaximize:e.partial(P,h,_.unCollapse,"top"),toggleMaximize:e.partial(P,h,_.toggleCollapse,"top"),minimize:e.partial(P,h,_.collapse,"bottom"),unMinimize:e.partial(P,h,_.unCollapse,"bottom"),toggleMinimize:e.partial(P,h,_.toggleCollapse,"bottom"),revertSize:e.partial(P,h,_.unCollapse),getState:e.partial(P,S)},consolePane:{getSplitPosition:e.partial(f,"consoleSplitter",_.getSplitPosition),setSplitPosition:e.partial(b,"consoleSplitter"),minimize:e.partial(h,"consoleSplitter",_.collapse,"bottom"),unMinimize:e.partial(h,"consoleSplitter",_.unCollapse,"bottom"),minimizedByUser:e.partial(function(){var e=S("consoleSplitter");return l.store.getState().consoleSplitter&&e===r.DEVELOPER_MODE.CONTAINER_STATES.MINIMIZED}),getState:e.partial(S,"consoleSplitter")},treePane:{getSplitPosition:e.partial(f,"fileTreeSplitter",_.getSplitPosition),setSplitPosition:e.partial(y,"fileTreeSplitter",_.setSplitPosition),toggle:C,isOpen:e.negate(e.partial(f,"fileTreeSplitter",_.isCollapsed,"left"))},packagesPane:{getSplitPosition:e.partial(f,"packagesViewSplitter",_.getSplitPosition),setSplitPosition:e.partial(v,"packagesViewSplitter",_.setSplitPosition),toggle:function(){return v("packagesViewSplitter",_.toggleCollapse,"bottom")}},topbarHeight:T+"px"}}}return{create:l}}),define("rEditor/app/APISections/selectedComponent",["lodash","stateManagement"],function(e,t){"use strict";function o(t){return{sendSelectedComponentBI:function(o,r){var a=t.store,s=a.getState(),l=i.getSelectedCompsRefs(s);if(o&&!e.isEmpty(l)){var c=i.getSelectedComponentType(s,t.documentServices),p={component_id:e.head(l).id,component_type:c};r&&e.merge(p,r),a.dispatch(n(o,p))}},copy:function(){return t.copyPaste.copy(t.selection.getSelectedComponents())},duplicate:function(){return t.copyPaste.duplicate(t.selection.getSelectedComponents())},cut:function(){var e=t.selection.getSelectedComponents();return t.selection.isComponentSelected()&&t.components.cut(e),e},remove:function(){if(t.selection.isComponentSelected()){var e=t.selection.getSelectedComponents();return t.components.remove(e)}return Promise.resolve(!1)},toggleFixedPosition:function(){var e=t.selection.getSelectedComponents();return!(!e||!t.components.layout.canBeFixedPosition(e))&&function(e){var o=!t.components.layout.get(e).fixedPosition;return t.components.layout.setFixed(e,o),o}(e)}}}var i=t.editorPlugins.selection.selectors,n=t.editorPlugins.bi.actions.event;return{create:o}}),define("rEditor/app/APISections/savePublishWrapper",["lodash","constants","stateManagement","coreBi","coreUtilsLib"],function(e,t,o,i,n){"use strict";function r(e){return e()}function a(a){function l(){var t=d.getState(),o=s.isDomainConnected(t,a.documentServices);return e.merge({isFirstSave:a.documentServices.generalInfo.isFirstSave(),isSitePublished:a.documentServices.generalInfo.isSitePublished(),isDomainConnected:o,domain:o?a.documentServices.generalInfo.getPublicUrl():s.getFreeDomainPrefix(d.getState(),a.documentServices)+a.siteName.get(),isSitePremium:a.site.isPremium()},t.sitePremiumState)}function c(t){a.updateState({savePublish:e.merge({},a.store.getState().savePublish,t)})}function p(n,s,l){return new Promise(function(c,p){function u(){v.duration=e.now()-h,a.bi.event(i.events.save.saveProcess.SUCCESS_SAVE_PROCESS,v),b&&e.forEach(m,r),a.isSavedInCurrentSession=!0,c(),a.concurrentUsers.checkForConcurrentUsers(),a.updateState({savingStatus:g.DONE_SUCCESS}),d.dispatch(o.editorPlugins.leavePopup.actions.setLeavePopup(!1)),window.setTimeout(function(){var e=a.autosaveManager.shouldShowAutosaveUI()?g.IDLE_SAVED:g.IDLE;a.updateState({savingStatus:e})},t.SAVE_PUBLISH.DURATION_TO_SHOW_RESULT)}function f(r,s){!function(t,o,n){var r=e.keys(t),s=e.compact(e.map(t,"errorCode")),l={p1:r,p2:e.compact(e.map(t,"errorType")),p3:s};o?a.documentServices.bi.error(i.errors.FIRST_SAVE_ERROR,l):n?a.documentServices.bi.error(i.errors.FULL_SAVE_ERROR,l):a.documentServices.bi.error(i.errors.SAVE_ERROR,l)}(r,b,n),p({errorOrigin:r,error:s}),a.updateState({savingStatus:g.DONE_FAILED}),d.dispatch(o.editorPlugins.leavePopup.actions.setLeavePopup(!0)),window.setTimeout(function(){a.updateState({savingStatus:g.IDLE})},t.SAVE_PUBLISH.DURATION_TO_SHOW_RESULT)}var h=e.now();a.updateState({savingStatus:g.IN_PROGRESS});var b=a.documentServices.generalInfo.isFirstSave(),y=function(e,t){return e?"first":t?"full":"partial"}(b,n);a.bi.event(i.events.save.saveProcess.SAVE_CLICK,{origin:s});var v={save_type:y};a.bi.event(i.events.save.saveProcess.START_SAVE_PROCESS,v),e.defer(function(){a.documentServices.save(u,f,n,l)})})}var d=a.store,u=!1,m=[function(){a.store.dispatch(o.editorPlugins.userPreferences.actions.loadSitePreferences(a.documentServices.generalInfo.getSiteId(),!0)),a.store.dispatch(o.editorPlugins.leftBar.actions.collapseMenu())}],g=t.PROGRESS_STATUS;return{save:p,saveAsTemplate:function(e,t){a.documentServices.saveAsTemplate(function(){e&&e()},function(e){t&&t(e),n.log.info("Failed saving as template ",e)})},publish:function(){return new Promise(function(o,n){a.updateState({publishingStatus:g.IN_PROGRESS});var r={publish_type:a.documentServices.generalInfo.isSitePublished()?"publish":"first_publish"};a.bi.event(i.events.publish.START_PUBLISH,r),a.documentServices.publish(function(){a.bi.event(i.events.publish.SUCCESS_PUBLISH,r),e.forEach(a.sitePublishedCallbacks,function(e){e()}),o(),a.updateState({publishingStatus:g.DONE_SUCCESS}),window.setTimeout(function(){a.updateState({publishingStatus:g.IDLE})},t.SAVE_PUBLISH.DURATION_TO_SHOW_RESULT)},function(e){n(e),a.updateState({publishingStatus:g.DONE_FAILED}),window.setTimeout(function(){a.updateState({publishingStatus:g.IDLE})},t.SAVE_PUBLISH.DURATION_TO_SHOW_RESULT)})})},registerFirstSaveCallback:function(e){m.push(e)},getSiteState:l,setSitePremiumState:function(e){a.updateState({sitePremiumState:e})},lockSavePublish:function(){u=!0},unlockSavePublish:function(){u=!1},isSavePublishLocked:function(){return u},canDiffSave:function(){var e=a.store.getState().savePublish;return!(e.isDiffSaveInProgress||e.isSaveInProgress||e.isPublishInProgress||u)},canUserPublish:function(){var t=a.documentServices&&a.documentServices.canUserPublish();return!e.isBoolean(t)||t},canSaveOrPublish:function(){var e=a.store.getState().savePublish;return!e.isPublishInProgress&&!e.isSaveInProgress&&!u},setSaveProgress:function(e){c({isSaveInProgress:e})},setPublishProgress:function(e){c({isPublishInProgress:e})},setDiffSaveProgress:function(e){c({isDiffSaveInProgress:e})},isSaveInProgress:function(){return a.store.getState().savePublish.isSaveInProgress},isPublishInProgress:function(){return a.store.getState().savePublish.isPublishInProgress}}}var s=o.editorPlugins.domain.selectors;return{create:a}}),define("rEditor/utils/removeUtil",["lodash","util","coreBi"],function(e,t,o){"use strict";function i(t,o,i,n){var r=function(t,o){return e(o).flatMap(function(e){return t.components.is.container(e)?[e].concat(t.components.get.byAncestor(e)):e}).uniqBy("id").value()}(o,i),a=!1;return e.forEach(t.componentsRemoveHandlerPlugins,function(e){if(e(t.store.dispatch,o,i,r,n))return a=!0,!1}),a}var n=function(e,o){e.bi.reportBI(t.bi.events.COMPONENT_REMOVED,o)},r=function(t,o,i,r,s,l,c,p,d){var u=o.tpa.section.getPageData(i),m=u.hasSection&&s[o.tpa.constants.COMP_TYPES.TPA_SECTION];if(o.wixapps.classics.isBlogPage(i))s.blog&&s.blog(),t.pages.beforePageRemoveHook(i,function(){e.forEach(o.pages.getPagesData(),function(e){o.wixapps.classics.isBlogPage(e.id)&&(o.pages.remove(e.id),n(t,c))}),p&&p()});else if(m)s[o.tpa.constants.COMP_TYPES.TPA_SECTION](i,u.title,u.appData,l,p,c);else if(l){var g={pageTitle:r.title,onConfirm:a.bind(this,t,o,i,p,c),isPopup:r.isPopup,onCancel:function(){d()}};t.panelManager.openPanel("panels.messagePanels.deletePageMessage",g,!0)}else a(t,o,i,p,c)},a=function(e,t,o,i,r){e.pages.beforePageRemoveHook(o,function(){t.pages.remove(o),i&&i(),n(e,r)})},s=function(t,o,i){var n=t.tpa.getTpaPointersRecursive(i),r=i.concat(n);r=e.uniqBy(r,"id");return o.bi.getComponentsBIParams(r)},l=function(t,o,i,n,r){return e.map(i,function(e){var i=t.components.getType(e),a=function(){return new Promise(function(o){t.components.remove(e,o,r)})};return o[i]?Promise.resolve(o[i](e,n,a)):a()})};return{removePage:function(o,i,n,a,s,l,c){var p=i.pages.getReference(a),d=i.pages.data.get(a),u=i.tpa.getPremiumTpaChildrenOnPage(p,d.tpaApplicationId,!0),m=i.wixapps.classics.isBlogPage(a),g=i.components.getTpaChildren(p),f=e.clone(g);m&&(f=f.concat(i.components.getBlogChildren(p)));var h=o.bi.getComponentsBIParams(f);e.forEach(h,function(e){e.removal_method="delete_page"});var b=function(e){return!!e.tpaApplicationId}(d)&&i.tpa.app.isMultiSectionInstalled(d.tpaApplicationId);if(u.length>0&&!b||b&&function(e,t,o){var i=e.app.isPremium(t);return!!(i&&o>1)||!i&&o>0}(i.tpa,d.tpaApplicationId,u.length)){var y=d&&d.title||"",v=u[0];o.panelManager.openPanel("tpaPanels.confirmation.deletePageContainsPremiumTpa",{appName:v.appDefinitionName,appDefId:v.appDefinitionId,appCount:u.length,pageTitle:y,onConfirm:function(){r(o,i,a,d,n,!1,h,s,l),e.forEach(u,function(e,n){var r={app_id:e.appDefinitionId,app_site_id:e.instanceId,instance_id:f[n].id,is_last_tpa:i.tpa.app.isLastAppComp(e.applicationId)?1:0,component_type:"tpa"};o.bi.event(t.bi.events.REMOVE_COMPONENT_SECOND_STEP_CLICK,r)})},onCancel:function(){l()}},!0)}else m?o.panelManager.openPanel("blog.blogDeleteConfirmation",{onConfirm:function(){r(o,i,a,d,n,!1,h,s,l)},onCancel:function(){l()}},!0):r(o,i,a,d,n,"boolean"!=typeof c||c,h,s,l)},removeComponent:function(n,r,a,c,p){var d=e.some(a,n.components.is.container),u=a.length>1;return new Promise(function(m){if(n.viewMode.get()===n.viewMode.VIEW_MODES.MOBILE)!function(t,i,n){var r=i.hidePlugins;e.forEach(n,function(n){var a=t.components.getType(n);r[a]?r[a](n):t.mobile.hiddenComponents.hide(n),!i.zoomMode.isInZoomMode()&&i.components.is.hiddenable(n)&&i.panelManager.openPanel("mobileEditor.hiddenItemsPanel");var s=function(t,o){var i=t.documentServices.components.getType(o),n={component_id:o.id,component_type:i,current_page_name:t.documentServices.pages.getFocusedPageId(),site_segment:function(e,t){var o=e.siteSegments.getFooter(),i=e.siteSegments.getHeader();return e.components.isDescendantOfComp(t,i)?i.id:e.components.isDescendantOfComp(t,o)?o.id:""}(t,o),origin:"",hide_method:""};if(t.isTpa(i)){var r=e.head(t.bi.getComponentsBIParams(o));r=e.omit(r,["is_last_tpa","widget_id"]),n=e.assign(n,r)}return n}(i,n);i.bi.event(o.events.mobileEditor.hiddenElements.HIDDEN_ELEMENTS_HIDE,s)})}(n,c,a),m();else{var g=n.tpa.getPremiumTpaChildren(a),f=e.reject(g,n.tpa.app.hasSections),h=s(n,c,a);if((d||u)&&f.length>0)return void function(o,i,n,r,a,s,c){var p=r[0];return new Promise(function(d){o.panelManager.openPanel("tpaPanels.confirmation.deleteContainerContainsPremiumTpa",{appName:p.appDefinitionName,appDefId:p.appDefinitionId,appCount:r.length,onConfirm:function(){Promise.all(l(i,n,a,!1,c)).then(d),o.bi.reportBI(t.bi.events.COMPONENT_REMOVED,s),e.forEach(s,function(e){o.bi.event(t.bi.events.REMOVE_COMPONENT_SECOND_STEP_CLICK,e)})}},!0)})}(c,n,r,g,a,h,p).then(m);var b=function(){Promise.all(l(n,r,a,!0,p)).then(function(){c.bi.reportBI(t.bi.events.COMPONENT_REMOVED,h)}).then(m)};i(c,n,a,b)||b()}})},cutComponent:function(e,t,o){var i=e.components.getType(t);o[i]?o[i](t):e.components.remove(t)}}}),define("rEditor/app/APISections/componentsFacade/layoutWrapper",["lodash","experiment","core","util","constants","stateManagement"],function(e,t,o,i,n,r){"use strict";function a(a){function s(e,t,n){var r=function(e,t){var i=a.components.layout.getRelativeToScreen(e);return o.utils.updateLayoutUtil.getLayoutRelativeToScreenAfterConstraints(a,e,t,i)}(e,t),s=i.layoutUtils.getLayoutRelativeToParentFromRelativeToScreen(a,e,r);a.documentServices.components.layout.update(e,s),n||a.history.debouncedAdd("component - update layout")}function u(e,t){var i=a.components.layout.get(e);return o.utils.updateLayoutUtil.getLayoutAfterConstraints(a,e,t,i)}function m(e,t){var o=i.math.getSquaresIntersection(e,t);return o&&i.math.rect.getAreaRatioPercentage(o,t)}function g(t){if(t.length<=1)return!0;var o=a.components.getSiblings(e.head(t)),i=e.tail(t);return e.every(i,function(t){return!!e.find(o,t)})}function f(e){var t=a.components.asArray(e);return r.editorPlugins.componentMetaData.isPinned(t,a.documentServices)}function h(t){var o=p(t);return 1===o.length&&function(e){return a.documentServices.components.layout.canBeStretched(e)&&!f(e)&&!a.components.isShowOnSomePages(e)}(e.head(o))}function b(e,t){return r.editorPlugins.components.selectors.getLayoutRelativeToScreen(a.dsRead,e,t)}function y(o){var i=p(o);if(i.length>1)return a.components.is.proportionallyResizable(i)?e.values(a.documentServices.components.layout.RESIZE_SIDES):[];var n=e.head(i);if(r.editorPlugins.pinMode.selectors.isOpen(M.getState()))return[];if(a.components.is.group(n))return e.values(a.documentServices.components.layout.RESIZE_SIDES);var s=a.documentServices.components.layout.getResizableSides(n),l=_(n);return l&&(s=function(o,i,n){if(t.isOpen("se_screenWidthEditBox")&&a.components.layout.isHorizontallyStretchedToScreen(o))return i;var r={left:a.documentServices.components.layout.RESIZE_SIDES.LEFT,right:a.documentServices.components.layout.RESIZE_SIDES.RIGHT,top:a.documentServices.components.layout.RESIZE_SIDES.TOP,bottom:a.documentServices.components.layout.RESIZE_SIDES.BOTTOM},s=e.map(n,function(e,t){return r[t]});return e.difference(i,s)}(o,s,l)),s}function v(t,o){var i=a.components.asArray(o);return!e.isEmpty(i)&&e.every(i,function(e){return t(e)})}function S(t,o){var n=p(t);return n.length>1?function(t,o){var n=b(t);return{component:null,layout:n,children:e.map(t,function(t){var r=b(t),s=i.layoutUtils.getLayoutsXYDiff(r,n),l=e.defaults(s,r),c=i.layoutUtils.getChildContainerLayoutRatio(l,n),p=a.components.layout.getProportionStructure(t,o);return p.proportions=c,p.minLayout=e.omit(p.minLayout,["x","y"]),p})}}(n,o):a.documentServices.components.layout.getProportionStructure(n[0],o)}function P(t,o,n){var r=E(t,i.layoutUtils.getLayoutsXYDiff(n,o));e.forEach(r,function(e){a.components.layout.update(e.component,e.newLayout)})}function E(t,o){return e.map(t,function(t){var n=e.pick(a.components.layout.get(t),["x","y"]);return{component:t,newLayout:i.layoutUtils.addXYOffsetsToLayout(n,o)}})}function C(t,o,n){e.defaults(o,n.layout),e.forEach(n.children,function(e){var t=function(e,t){var o=i.layoutUtils.calcLayoutFromLayoutAndRatio(t,e.proportions);return i.layoutUtils.addXYOffsetsToLayout(o,t)}(e,o);a.components.layout.updateRelativeToScreenAndPreserveProportions(e.component,t,e)})}function T(e,t,o){var n=p(e);if(n.length>1){if(!a.components.layout.containsSiblingsOnly(n))throw new Error("Selected components do not share the same parent and therefore cannot be positioned relative to their container");C(0,i.layoutUtils.getLayoutRelativeToScreenFromRelativeToParent(a,n,t),o)}else a.documentServices.components.layout.updateAndPreserveProportions(t,o,!0)}function I(t,o,n){var r=u(t,o),s=p(t),l=void 0;return s.length>1?function(t,o){if(!a.components.layout.containsSiblingsOnly(t))throw new Error("Cannot update and adjust layout of non-siblings components");var n=a.documentServices.components.layout.getSnugLayout(t);n=e.pick(n,"y");var r=i.layoutUtils.getLayoutsXYDiff(o,n),s=E(t,r);e.forEach(s,function(e){a.documentServices.components.layout.updateAndAdjustLayout(e.component,e.newLayout)})}(s,o):l=a.documentServices.components.layout.updateAndAdjustLayout(e.head(s),r),n||a.history.debouncedAdd("component - update layout"),l}function _(e){return d("getDock",a.documentServices.components.layout.getDock,e)}function O(t,o){var i=function(t,o,i){var n=e.pick(t,["x","y","width","height"]),r=Math.max(n.width,n.height);return i<1?(n.height=r,n.width=n.height*i):(n.width=r,n.height=n.width/i),n.x=t.x+(t.width-n.width)/2,n.y=t.y+(t.height-n.height)/2,n}(a.components.layout.getRelativeToStructure(t),0,o);a.components.layout.updateRelativeToStructure(t,i,!0)}var M=a.store;return{get:function(t){var o=p(t);if(o.length>1){if(!g(o))throw new Error("Cannot get layout for non-siblings components");return a.documentServices.components.layout.getSnugLayout(o)}return a.documentServices.components.layout.get(e.head(o))},isRenderedInFixedPosition:function(t){var o=a.components.asArray(t);return e.every(o,function(e){return a.documentServices.components.layout.isRenderedInFixedPosition(e)})},isAncestorRenderedInFixedPosition:function(t){var o=a.components.asArray(t);return e.every(o,function(e){return a.documentServices.components.layout.isAncestorRenderedInFixedPosition(e)})},isShowOnFixedPosition:function(t){var o=a.components.asArray(t);return e.every(o,function(e){return a.documentServices.components.layout.isShowOnFixedPosition(e)})},isHorizontallyStretchedToScreen:function(t){var o=a.components.asArray(t);return e.every(o,function(e){return a.documentServices.components.layout.isHorizontallyStretchedToScreen(e)})},isDocked:function(t){var o=a.components.asArray(t);return e.every(o,function(e){return a.documentServices.components.layout.isDocked(e)})},isDockedToScreen:function(t){var o=a.components.asArray(t);return e.every(o,function(e){return a.documentServices.components.layout.isDockedToScreen(e)})},unDock:function(e){d("undock",a.documentServices.components.layout.unDock,e)},isRotated:function(t){var o=a.components.asArray(t);return e.every(o,function(e){return a.documentServices.components.layout.isRotated(e)})},isPinned:f,canBeStretched:h,canBeFixedPosition:function(t){return e.every(p(t),a.documentServices.components.layout.canBeFixedPosition)},getRelativeToScreen:b,getRelativeToScreenConsideringScroll:function(t){var o=p(t);return o.length>1?a.documentServices.components.layout.getSnugLayoutRelativeToScreenConsideringScroll(o):a.documentServices.components.layout.getRelativeToScreenConsideringScroll(e.head(o))},getRelativeToStructure:function(t){var o=p(t);return o.length>1?a.documentServices.components.layout.getSnugLayoutRelativeToStructure(o):a.documentServices.components.layout.getRelativeToStructure(e.head(o))},getResizableSides:y,getResizableWithAnchors:function(e){return v(a.components.is.resizableWithAnchors,e)},getResizableDiagonally:function(e){return v(a.components.is.resizableDiagonally,e)},getProportionStructure:S,update:function(e,t,o){if(t){var i=u(e,t),n=p(e);if(n.length<=1)a.documentServices.components.layout.update(n[0],i);else{if(!a.components.layout.containsSiblingsOnly(e))throw new Error("Selected components do not share the same parent and therefore cannot be positioned relative to their container");P(e,a.documentServices.components.layout.getSnugLayout(e),i)}o||a.history.debouncedAdd("component - update layout")}},updateRelativeToStructure:function(t,o,n){var r=p(t);if(r.length>1)P(r,e.pick(a.components.layout.getRelativeToStructure(r),["x","y"]),o);else{var s=e.head(r),l=i.layoutUtils.getLayoutRelativeToParentFromRelativeToStructure(a,s,o);a.components.layout.update(s,l,n)}},updateRelativeToScreen:function(t,o,i){var n=p(t);n.length>1?P(n,e.pick(a.components.layout.getRelativeToScreen(n),["x","y"]),o):s(e.head(n),o,i)},updateRelativeToStructureAndPreserveProportions:function(t,o,n){var r=p(t);if(r.length>1)C(0,i.layoutUtils.getLayoutRelativeToScreenFromRelativeToStructure(a,r,o),n);else{var s=e.head(r);T(s,i.layoutUtils.getLayoutRelativeToParentFromRelativeToStructure(a,s,o),n)}},updateRelativeToScreenAndPreserveProportions:function(t,o,n){var r=p(t);if(r.length>1)C(0,o,n);else{var s=e.head(r);T(s,i.layoutUtils.getLayoutRelativeToParentFromRelativeToScreen(a,s,o),n)}},updateAndPreserveProportions:T,updateAndAdjustLayout:I,updateRelativeToScreenAndAdjustLayout:function(e,t,o){var n=i.layoutUtils.getLayoutRelativeToParentFromRelativeToScreen(a,e,t);return a.components.layout.updateAndAdjustLayout(e,n,o)},resetCompLayoutToAspectRatio:O,setFixed:function(t,i){var n=p(t),r=e.map(n,function(e){return o.utils.fixedPositionUtils.setFixedPosition(a,e,i)});return n.length>1?r:e.head(r)},isStretchedToScreen:function(e){return l(a.documentServices.components.layout.isHorizontallyStretchedToScreen,e)},setDock:function(e,t){return d("setDock",function(e){return a.documentServices.components.layout.setDock(e,t)},e)},getDock:_,updateDock:function(e,t){return d("updateDock",function(e){return a.documentServices.components.layout.updateDock(e,t)},e)},updateAspectRatio:function(e){return c(a.documentServices.components.layout.updateAspectRatio,e)},removeAspectRatio:function(e){return c(a.documentServices.components.layout.removeAspectRatio,e)},isAspectRatioOn:function(t){var o=a.components.asArray(t);return e.every(o,function(e){return a.documentServices.components.layout.isAspectRatioOn(e)})},isCompOutOfPageBounds:function(e){var t=b(e),o=b(a.documentServices.siteSegments.getPagesContainer()),i=a.isMobileEditor()?n.SIZE_LIMITS.MOBILE_DRAG_CONSTRAINT_MARGINS:0,r=o.x+i,s=o.x+o.width-i;return t.x+t.width<=r||t.x>=s},getCompMargin:function(e){var t=b(e),o=a.components.layout.getRelativeToStructure(e),i=t.width-o.width,n=a.site.getSiteX(),r=o.x+n-t.x;return{left:r,right:i-r}},isCompExceedingContainerMargin:function(t,o){var i=a.components.layout.getRelativeToScreen(o),n=a.components.layout.getCompMargin(o),r=a.components.layout.getRelativeToScreen(t),s=e.assign({},i,{width:n.left}),l=e.assign({},i,{x:i.x+i.width-n.right,width:n.right});return(m(s,r)||0)>10||(m(l,r)||0)>10},containsSiblingsOnly:g}}var s=i.array,l=s.validateForSome,c=s.applyForAll,p=s.asArray,d=s.applyForFirstAndThrowIfMulti;return{create:a}}),define("rEditor/app/APISections/componentsFacade/arrangementFacade",["constants","util"],function(e,t){"use strict";var o=t.array.asArray;return{create:function(t){return{moveForward:function(e){var i=o(e);if(!t.components.arrangement.canMoveForward(i))return null;t.documentServices.components.arrangement.moveForward(i[0]),t.history.add("component - move forward")},moveBackward:function(e){var i=o(e);if(!t.components.arrangement.canMoveBackward(i))return null;t.documentServices.components.arrangement.moveBackward(i[0]),t.history.add("component - move backward")},moveToFront:function(e){var i=o(e);if(!t.components.arrangement.canMoveForward(i))return null;t.documentServices.components.arrangement.moveToFront(i[0]),t.history.add("component - move to front")},moveToBack:function(e){var i=o(e);if(!t.components.arrangement.canMoveBackward(i))return null;t.documentServices.components.arrangement.moveToBack(i[0]),t.history.add("component - move to back")},moveToIndex:function(e,i,n){var r=o(e);t.documentServices.components.arrangement.moveToIndex(r[0],i),n||t.history.add("component - move to index")},canMoveBackward:function(i){var n=o(i);return!(n.length>1)&&!(t.components.getType(n)===e.COMP_TYPES.ANCHOR)&&t.documentServices.components.arrangement.canMoveBackward(n[0])},canMoveForward:function(i){var n=o(i);return!(n.length>1)&&!(t.components.getType(n)===e.COMP_TYPES.ANCHOR)&&t.documentServices.components.arrangement.canMoveForward(n[0])}}}}}),define("rEditor/app/APISections/componentsFacade/behaviorsFacade",["lodash","stateManagement","util"],function(e,t,o){"use strict";var i=o.array.asArray,n=t.editorPlugins.components.selectors.getBehaviors,r=o.array.applyForAll;return{create:function(t){return{update:function(e,o,i,n){r(function(e){return t.documentServices.components.behaviors.update(e,o,i,n)})(e)},get:function(e){return n(e,t.documentServices)},remove:function(e,o,i,n){r(function(e){return t.documentServices.components.behaviors.remove(e,o,i,n)})(e)},removeAll:function(e){r(t.documentServices.components.behaviors.removeAll,e)},previewAnimation:function(o,n,r){var a=i(o),s=e.map(a,function(o,i){return t.documentServices.components.behaviors.previewAnimation(o,e.cloneDeep(n),i===a.length-1?r:e.noop)});return s.length>1?s:e.head(s)},stopPreviewAnimation:function(e){r(t.documentServices.components.behaviors.stopPreviewAnimation)(e)},execute:function(o,n,a,s){i(o).length>1&&(s=e.noop),r(function(e){return t.documentServices.components.behaviors.execute(e,n,a,s)})(o)},getRuntimeState:function(i){var n=o.array.asArray(i),r=e.map(n,t.documentServices.components.behaviors.getRuntimeState);return n.length>1?r:e.head(r)}}}}}),define("rEditor/componentsMetaData/components/bgImageStrip",[],function(){"use strict";return{pinnable:!1}}),define("rEditor/componentsMetaData/components/fiveGridLine",[],function(){"use strict";return{pinnable:!1}}),define("rEditor/componentsMetaData/components/footer",[],function(){"use strict";return{pinnable:!1,showLegacyFixedPosition:!0}}),define("rEditor/componentsMetaData/components/header",["experiment"],function(e){"use strict";return{pinnable:!1,showLegacyFixedPosition:function(t){return!t.isMobileEditor()&&!e.isOpen("desktopHeaderBehaviors")}}}),define("rEditor/componentsMetaData/components/screenWidthContainer",[],function(){"use strict";return{pinnable:!1}}),define("rEditor/componentsMetaData/components/stripShowcase",[],function(){"use strict";return{pinnable:!1}}),define("rEditor/componentsMetaData/components/stripSlideshowGallery",[],function(){"use strict";return{pinnable:!1}}),define("rEditor/componentsMetaData/components/blogComponents",["coreUtilsLib","lodash","experiment"],function(e,t,o){"use strict";var i=e.blogAppPartNames;return{pinnable:!1,selectable:function(e,n){if(o.isOpen("se_blogHeroImage")){if(e.components.data.get(n).appPartName===i.HERO_IMAGE){var r=e.documentServices.wixapps.classics.getAppPartExtraData(n);if(r){return t.head(r.items).coverImageData.isHeroImage}}}return!0},containable:function(e,o){var n=[i.FEED,i.SINGLE_POST,i.RELATED_POSTS],r=e.components.data.get(o);return!t.includes(n,r.appPartName)}}}),define("rEditor/componentsMetaData/components/rssButton",[],function(){"use strict";return{pinnable:!1}}),define("rEditor/componentsMetaData/components/tpaGluedWidget",["lodash"],function(e){"use strict";var t=["14517e1a-3ff0-af98-408e-2bd6953c36a2"];return{pinnable:!1,selectable:function(o,i){var n=o.isMobileEditor(),r=(o.components.data.get(i)||{}).applicationId,a=o.documentServices.tpa.app.getData(r)||{},s=e.includes(t,a.appDefinitionId);return!n||n&&!s}}}),define("rEditor/rootComps/overlay/overlayWithHole.rt",["react","lodash"],function(e,t){"use strict";return function(){return e.createElement("div",{style:{position:"absolute",height:"100%",width:"100%"}},e.createElement("div",{style:this.getStyles()}))}}),define("rEditor/rootComps/overlay/overlayWithHole",["create-react-class","lodash","core","rEditor/rootComps/overlay/overlayWithHole.rt"],function(e,t,o,i){"use strict";return e({displayName:"overlayWithHole",mixins:[o.mixins.editorAPIMixin],getHoleLayout:function(){return this.getEditorAPI().components.layout.getRelativeToScreen(this.props.hole)},getStyles:function(){var e=this.getHoleLayout(),t={width:e.width,height:e.height,top:e.y,left:e.x,position:"absolute",boxShadow:"0 0 0 9999px "+this.props.background};return e.rotationInDegrees&&(t.transform="rotate("+e.rotationInDegrees+"deg)"),t},render:i})}),define("rEditor/rootComps/overlay/overlayWithQuickTip",["react","create-react-class","lodash","core","baseUI","stateManagement"],function(e,t,o,i,n,r){"use strict";return t({displayName:"overlayWithQuickTip",mixins:[i.mixins.editorAPIMixin],componentWillMount:function(){this.quickTipShowTimeoutId=this.showQuickTip()},showQuickTip:function(){var t=this.getEditorAPI(),i=this.props.quickTipSession.id+this.props.hoveredComp.id,a=r.editorPlugins.userPreferences.selectors.getSessionUserPreferences(i)(t.store.getState())||0;return this.sessionDisabledId=i+"-disabled",a>=this.props.quickTipSession.maxNum||r.editorPlugins.userPreferences.selectors.getSessionUserPreferences(this.sessionDisabledId)(t.store.getState())?null:window.setTimeout(function(){var s=function(e){var t=e.cursor.get();return{height:0,width:0,top:t.y||0,left:t.x||0}}(t),l=e.createElement(n.popoverTemplates.quickTip,o.assign(this.props.templateInfo,{closeAction:this.closeQuickTip}));this.quickTipShowTimeoutId=null,this.isQuickTipShown=!0,t.store.dispatch(r.editorPlugins.userPreferences.actions.setSessionUserPreferences(i,a+1)),t.showFloatingBubble(l,s,this.props.propsForBubble,this.props.shouldNotHideOnMouseLeaveTarget)}.bind(this),this.props.delayBeforeShow)},closeQuickTip:function(){this.getEditorAPI().hideFloatingBubble(),this.getEditorAPI().overlay.enableUpdate(),this.isQuickTipShown=!1},componentWillUnmount:function(){this.isQuickTipShown&&(this.props.delayBeforeNext&&function(e,t,o){e.store.dispatch(r.editorPlugins.userPreferences.actions.setSessionUserPreferences(t,!0)),window.setTimeout(function(){e.store.dispatch(r.editorPlugins.userPreferences.actions.setSessionUserPreferences(t,!1))},o)}(this.getEditorAPI(),this.sessionDisabledId,this.props.delayBeforeNext),this.closeQuickTip()),this.quickTipShowTimeoutId&&window.clearTimeout(this.quickTipShowTimeoutId)},render:function(){return this.props.children}})}),define("rEditor/componentsMetaData/components/popupOverlay",["lodash","react","constants","rEditor/rootComps/overlay/overlayWithHole","rEditor/rootComps/overlay/overlayWithQuickTip"],function(e,t,o,i,n){"use strict";return{pinnable:!1,shouldBeOverlayed:function(e,t){return!e.isMobileEditor()&&e.documentServices.pages.popupPages.isPopup(t.id)},getOverlay:function(r,a){var s=t.createElement(i,{hole:r.pages.popupPages.getPopupContainer(),background:"rgba(127, 204, 247, 0.4)"});return t.createElement(n,e.assign({hoveredComp:a},function(e){return{delayBeforeShow:500,delayBeforeNext:1500,quickTipSession:{id:"popupOverlayQuickTipShownFor-",maxNum:4},shouldNotHideOnMouseLeaveTarget:!1,templateInfo:{text:"POPUPS_OVERLAY_HOVER_TOOLTIP",symbol:"idea-bulb"},propsForBubble:{noArrow:!0,shake:!1,behindPopUps:!0,alignment:o.UI.TOOLTIP.ALIGNMENT.RIGHT,closeTriggers:[o.UI.TOOLTIP.TRIGGERS.CLICK],onMouseLeave:e.overlay.enableUpdate,onMouseEnter:e.overlay.disableUpdate}}}(r)),s)},getOverlayProperties:function(){return{enter:{duration:300,delay:500},leave:{duration:300}}}}}),define("rEditor/componentsMetaData/components/page",["lodash","rEditor/componentsMetaData/components/popupOverlay"],function(e,t){"use strict";return e.assign({pinnable:!1,selectable:function(e,t){return!!t&&!e.documentServices.pages.isWidgetPage(t.id)}},t)}),define("rEditor/componentsMetaData/components/boxSlideShow",["constants","boxSlideshow","gfppData"],function(e,t,o){"use strict";function i(e,t){if(o.utils.isPanelOpen(e,r)){var i={selectedComponent:[n.findCurrentSlide(e,t)]};e.panelManager.updatePanelProps(r,i)}}var n=t.utils.boxSlideShowUtils,r="compPanels.panels.BoxSlideShow.backgroundPanel";return{slidesContainer:!0,focusable:!0,focusBoxNavType:e.UI.NAVIGATION_TYPES.PAGINATION,canContain:!1,canContainByStructure:!1,focusBoxNavContent:function(e,t){return{label:"gfpp_action_navigation_label",labelParams:{curr_slide:n.getCurrentSlideIndex(e,t)+1,total_slides:n.getTotalSlidesLength(e,t)},onNext:n.moveNextSlide.bind(null,e,t,i),onPrev:n.movePrevSlide.bind(null,e,t,i),onLabelClick:function(e,t){e.selection.selectComponentByCompRef(t)}.bind(null,e,t)}}}}),define("rEditor/componentsMetaData/components/stripSlideShowMetaData",["constants","boxSlideshow","gfppData"],function(e,t,o){"use strict";function i(e,t){if(o.utils.isPanelOpen(e,r)){var i={selectedComponent:[n.findCurrentSlide(e,t)]};e.panelManager.updatePanelProps(r,i)}}var n=t.utils.boxSlideShowUtils,r="compPanels.panels.StripContainerSlideShow.backgroundPanel";return{slidesContainer:!0,focusable:!0,focusBoxNavType:e.UI.NAVIGATION_TYPES.PAGINATION,canContain:!1,canContainByStructure:!1,allowLassoOnContainer:!0,pinnable:!1,focusBoxNavContent:function(e,t){return{label:"gfpp_action_navigation_label",labelParams:{curr_slide:n.getCurrentSlideIndex(e,t)+1,total_slides:n.getTotalSlidesLength(e,t)},onNext:n.moveNextSlide.bind(null,e,t,i),onPrev:n.movePrevSlide.bind(null,e,t,i),onLabelClick:function(e,t){e.selection.selectComponentByCompRef(t)}.bind(null,e,t)}}}}),define("rEditor/componentsMetaData/components/boxSlideShowSlide",[],function(){"use strict";return{selectable:!1,slideContainer:!0}}),define("rEditor/componentsMetaData/components/stripSlideShowSlide",[],function(){"use strict";return{selectable:!1,slideContainer:!0}}),define("rEditor/componentsMetaData/components/anchor",[],function(){"use strict";return{pinnable:!1}}),define("rEditor/componentsMetaData/components/collage",[],function(){"use strict";return{pinnable:!1}}),define("rEditor/componentsMetaData/components/wRichText",["experiment"],function(e){"use strict";return{pinnable:e.isOpen("se_textPinToScreen"),verticallyResizable:function(e){return!e.isMobileEditor()},disabledKnobs:function(e){return e.isMobileEditor()?[e.documentServices.components.layout.RESIZE_SIDES.TOP,e.documentServices.components.layout.RESIZE_SIDES.BOTTOM]:[e.documentServices.components.layout.RESIZE_SIDES.TOP]},resizableWithAnchors:!1,resizableDiagonally:!1}}),define("rEditor/componentsMetaData/components/group",[],function(){"use strict";return{pinnable:!1,selectedBeforeDescendants:!0}}),define("rEditor/componentsMetaData/components/stripContainer",[],function(){"use strict";return{pinnable:!1}}),define("rEditor/componentsMetaData/components/stripColumnsContainer",["lodash","constants","stateManagement"],function(e,t,o){"use strict";var i=o.editorPlugins.selection.selectors,n=i.getFocusedContainer,r=i.getSelectedCompsRefs;return{selectedBeforeDescendants:function(e,t,o){return e.columns.isMultiColumnsStrip(t)&&e.columns.isColumn(o)},showMarginsIndicator:function(t){var o=t.store.getState(),i=n(o);if(i){var a=e.head(r(o));if(e.isEqual(a,i))return t.isDesktopEditor()&&t.components.is.fullWidth(i)&&1===t.components.getChildren(i).length}},focusable:!0,focusBoxNavType:t.UI.NAVIGATION_TYPES.TABS,focusBoxNavContent:function(e,t){return{tabs:[{id:"item_component_label_stripColumnsContainer",label:"component_label_stripColumnsContainer",active:!0}],onTabClick:function(){e.selection.selectComponentByCompRef(t)},translate:!0}},allowLassoOnContainer:!0,pinnable:!1}}),define("rEditor/componentsMetaData/components/tpaSection",[],function(){"use strict";return{pinnable:!1}}),define("rEditor/componentsMetaData/components/column",["lodash","stateManagement","constants","util"],function(e,t,o,i){"use strict";function n(e,t){return e.components.getSiblings(t).length}var r=t.editorPlugins.selection.selectors,a=r.getFocusedContainer,s=r.getSelectedCompsRefs;return{showMarginsIndicator:function(t){var o=t.store.getState(),i=a(o);if(i){var r=e.head(s(o)),l=t.components.getContainer(i);return e.isEqual(r,i)?t.components.is.fullWidth(l)&&!!n(t,r):t.isDesktopEditor()&&t.components.is.fullWidth(l)}},focusable:!0,focusBoxNavType:o.UI.NAVIGATION_TYPES.TABS,focusBoxNavContent:function(t,o){var r=e.template(i.translate("gfpp_column_navigation_slide_number")),a=t.components.getContainer(o),s=t.components.getChildren(a),l=e.findIndex(s,function(t){return e.isEqual(t,o)});return{tabs:[{id:"item_"+l,label:n(t,o)?r({curr_column:l+1}):i.translate("component_label_stripColumnsContainer"),active:!0}],onTabClick:function(){t.selection.selectComponentByCompRef(o)},translate:!1}},selectable:n,horizontallyMovable:!1,movable:!1,canMoveUp:!1,verticallyMovable:!1,allowLassoOnContainer:!0,disabledKnobs:function(t){return t.isMobileEditor()?e.values(t.documentServices.components.layout.RESIZE_SIDES):e(t.documentServices.components.layout.RESIZE_SIDES).omit("BOTTOM").values().value()},controlledByParent:!0}}),define("rEditor/componentsMetaData/components/popupCloseIconButton",[],function(){"use strict";return{duplicatable:!1}}),define("rEditor/componentsMetaData/components/popupCloseTextButton",[],function(){"use strict";return{duplicatable:!1}}),define("rEditor/componentsMetaData/components/popupContainerMetaData",["constants"],function(e){"use strict";var t={nineGrid:function(e){return"center"===e.horizontalAlignment},fullWidth:function(){return!0},fullHeight:function(){return!1}};return{pinnable:!1,gridLinesVisible:function(e,o){var i=e.components.properties.get(o),n=t[i.alignmentType];if(n)return n(i)},focusable:!0,focusBoxNavType:e.UI.NAVIGATION_TYPES.TABS,focusBoxNavContent:function(e,t){return{tabs:[{id:"item",label:"component_label_PopupContainer_Popupmode",active:!0}],onTabClick:function(){e.selection.selectComponentByCompRef(t)},translate:!0}}}}),define("rEditor/componentsMetaData/components/mediaControlsContainer",["lodash"],function(e){"use strict";return{horizontallyMovable:!1,movable:!1,canMoveUp:!1,verticallyMovable:!1,verticallyResizable:!1,multiselectable:!1,disabledKnobs:function(t){return e.values(t.documentServices.components.layout.RESIZE_SIDES)},controlledByParent:!0,selectable:function(e,t){return!function(e){return e.isMobileEditor()}(e)&&!function(e,t){return"skins.viewer.mediaControlsNoControlsSkin"===e.components.skin.get(t)}(e,t)}}}),define("rEditor/componentsMetaData/components/mediaOverlayControls",[],function(){"use strict";return{verticallyMovable:!1,controlledByParent:!0,multiselectable:!1,selectable:function(e,t){return!function(e){return!e.media.mediaState.getSupportedFeatures().playsInline}(e)}}}),define("rEditor/componentsMetaData/components/mediaPlayer",[],function(){"use strict";return{allowLassoOnContainer:!1}}),define("rEditor/componentsMetaData/components/quickActionBarItem",[],function(){"use strict";return{selectable:!1}}),define("rEditor/componentsMetaData/components/quickActionBar",["lodash","experiment"],function(e,t){"use strict";return{selectable:function(o){return t.isOpen("se_qab")||function(t){return e.reject(t.mobile.qab.getActions(),"isDynamic").length>0}(o)}}}),define("rEditor/componentsMetaData/components/tinyMenu",["lodash"],function(e){"use strict";return{pinnable:!1,showLegacyFixedPosition:!0,skinParamsToIgnore:function(t,o){return!e.chain(o).thru(t.components.data.get).get("loginSocialBarRef").isEmpty().value()?[]:e.keys(t.theme.skins.getSkinDefinition("wysiwyg.viewer.skins.mobile.TinyMenuMemberSectionSkin"))}}}),define("rEditor/componentsMetaData/components/repeaterMetaData",["constants","experiment"],function(e,t){"use strict";return{selectedBeforeDescendants:function(e,o,i){return t.isOpen("dragRepeatersByInnerElements")||!e.selection.isComponentSelected(o)||e.components.is.repeaterItem(i)},container:!1,focusable:!0,focusBoxNavType:e.UI.NAVIGATION_TYPES.TABS,focusBoxNavContent:function(e,t){return{tabs:[{id:"repeater",label:"Component_label_listsandgrids",active:!0}],onTabClick:function(){e.selection.selectComponentByCompRef(t)},translate:!0}}}}),define("rEditor/componentsMetaData/components/siteRegionContainerMetaData",["constants"],function(e){"use strict";return{focusable:!0,focusBoxNavType:e.UI.NAVIGATION_TYPES.TABS,focusBoxNavContent:function(e,t){return{tabs:[{id:"siteRegion",label:"component_label_member_bar",active:!0}],onTabClick:function(){e.selection.selectComponentByCompRef(t)},translate:!0}}}}),define("rEditor/componentsMetaData/components/pagination",[],function(){"use strict";var e=["pageInputBG","pageInputBorderColor","pageInputBorderWidth","pageInputTextColor","totalPagesTextColor","pageInputErrorBG","pageInputErrorBorderColor","pageInputErrorBorderWidth","pageInputFocusBG","pageInputFocusBorderColor","pageInputFocusBorderWidth"],t=["selectedPageBG","selectedPageBorderColor","selectedPageBorderWidth","selectedPageTextColor","pageNumbersTextColor"],o=["arrowsColor","arrowsDisabledColor"],i=["navButtonTextSize","navButtonTextColor","navButtonDisabledTextColor"];return{verticallyResizable:!1,disabledKnobs:function(e){return[e.documentServices.components.layout.RESIZE_SIDES.TOP,e.documentServices.components.layout.RESIZE_SIDES.BOTTOM]},skinParamsToIgnore:function(n,r){var a=[],s=n.documentServices.components.properties.get(r);return a="pages"===s.paginationMode?a.concat(e):a.concat(t),a="text"===s.navigationType?a.concat(o):a.concat(i)}}}),define("rEditor/componentsMetaData/components/radioGroup",["lodash"],function(e){"use strict";var t=["txt2","fnt2"];return{skinParamsToIgnore:function(o,i){return!e.chain(i).thru(o.components.data.get).get("label").isEmpty().value()?[]:t}}}),define("rEditor/componentsMetaData/components/pageGroup",[],function(){"use strict";return{selectable:!1}}),define("rEditor/componentsMetaData/components/pagesContainer",[],function(){"use strict";return{selectable:!1}}),define("rEditor/componentsMetaData/components/slider",["lodash"],function(e){"use strict";return{verticallyResizable:function(e,t){return"vertical"===e.components.properties.get(t).orientation},horizontallyResizable:function(e,t){return"horizontal"===e.components.properties.get(t).orientation},skinParamsToIgnore:function(t,o){var i=[],n=e(o).thru(t.components.properties.get).get("tickMarksShape"),r=e(o).thru(t.components.properties.get).get("tooltipVisibility");return"none"===n&&i.push("tickMarkColor","tickMarkColorHover"),"none"===r&&i.push("tooltipBackground","tooltipBackgroundHover","tooltipFont","tooltipTextColor","tooltipBorderColor","tooltipBorderColorHover","tooltipBorderWidth","tooltipBorderWidthHover","tooltipBorderRadius"),i},gfppMargins:function(e,t,o){var i=o.compProps,n=o.previewState;if("horizontal"===i.orientation&&"none"!==i.tooltipVisibility&&"hover"===n)return 42}}}),define("rEditor/componentsMetaData/metaDataMap",["rEditor/componentsMetaData/components/bgImageStrip","rEditor/componentsMetaData/components/fiveGridLine","rEditor/componentsMetaData/components/footer","rEditor/componentsMetaData/components/header","rEditor/componentsMetaData/components/screenWidthContainer","rEditor/componentsMetaData/components/stripShowcase","rEditor/componentsMetaData/components/stripSlideshowGallery","rEditor/componentsMetaData/components/blogComponents","rEditor/componentsMetaData/components/rssButton","rEditor/componentsMetaData/components/tpaGluedWidget","rEditor/componentsMetaData/components/page","rEditor/componentsMetaData/components/boxSlideShow","rEditor/componentsMetaData/components/stripSlideShowMetaData","rEditor/componentsMetaData/components/boxSlideShowSlide","rEditor/componentsMetaData/components/stripSlideShowSlide","rEditor/componentsMetaData/components/anchor","rEditor/componentsMetaData/components/collage","rEditor/componentsMetaData/components/wRichText","rEditor/componentsMetaData/components/group","rEditor/componentsMetaData/components/stripContainer","rEditor/componentsMetaData/components/stripColumnsContainer","rEditor/componentsMetaData/components/tpaSection","rEditor/componentsMetaData/components/column","rEditor/componentsMetaData/components/popupCloseIconButton","rEditor/componentsMetaData/components/popupCloseTextButton","rEditor/componentsMetaData/components/popupContainerMetaData","rEditor/componentsMetaData/components/mediaControlsContainer","rEditor/componentsMetaData/components/mediaOverlayControls","rEditor/componentsMetaData/components/mediaPlayer","rEditor/componentsMetaData/components/quickActionBarItem","rEditor/componentsMetaData/components/quickActionBar","rEditor/componentsMetaData/components/tinyMenu","rEditor/componentsMetaData/components/repeaterMetaData","rEditor/componentsMetaData/components/siteRegionContainerMetaData","rEditor/componentsMetaData/components/pagination","rEditor/componentsMetaData/components/radioGroup","rEditor/componentsMetaData/components/pageGroup","rEditor/componentsMetaData/components/pagesContainer","rEditor/componentsMetaData/components/slider"],function(e,t,o,i,n,r,a,s,l,c,p,d,u,m,g,f,h,b,y,v,S,P,E,C,T,I,_,O,M,w,A,R,D,k,x,B,L,N,F){"use strict";return{"wysiwyg.viewer.components.BgImageStrip":e,"wysiwyg.viewer.components.FiveGridLine":t,"wysiwyg.viewer.components.FooterContainer":o,"wysiwyg.viewer.components.HeaderContainer":i,"wysiwyg.viewer.components.ScreenWidthContainer":n,"tpa.viewer.components.StripSlideshow":a,"tpa.viewer.components.StripShowcase":r,"wixapps.integration.components.AppPart":s,"wysiwyg.common.components.rssbutton.viewer.RSSButton":l,"wysiwyg.viewer.components.tpapps.TPAGluedWidget":c,"mobile.core.components.Page":p,"wysiwyg.viewer.components.BoxSlideShow":d,"wysiwyg.viewer.components.StripContainerSlideShow":u,"wysiwyg.viewer.components.BoxSlideShowSlide":m,"wysiwyg.viewer.components.StripContainerSlideShowSlide":g,"wysiwyg.common.components.anchor.viewer.Anchor":f,"tpa.viewer.components.Collage":h,"wysiwyg.viewer.components.WRichText":b,"wysiwyg.viewer.components.Group":y,"wysiwyg.viewer.components.StripContainer":v,"wysiwyg.viewer.components.StripColumnsContainer":S,"wysiwyg.viewer.components.tpapps.TPASection":P,"wysiwyg.viewer.components.Column":E,"wysiwyg.viewer.components.PopupCloseIconButton":C,"wysiwyg.viewer.components.PopupCloseTextButton":T,"wysiwyg.viewer.components.PopupContainer":I,"wysiwyg.viewer.components.MediaControls":_,"wysiwyg.viewer.components.MediaOverlayControls":O,"wysiwyg.viewer.components.MediaPlayer":M,"wysiwyg.viewer.components.QuickActionBarItem":w,"wysiwyg.viewer.components.QuickActionBar":A,"wysiwyg.viewer.components.mobile.TinyMenu":R,"wysiwyg.viewer.components.Repeater":D,"wysiwyg.viewer.components.SiteRegionContainer":k,"wixui.Pagination":x,"wysiwyg.viewer.components.inputs.RadioGroup":B,"wysiwyg.viewer.components.PageGroup":L,"wysiwyg.viewer.components.PagesContainer":N,"wixui.Slider":F}}),define("rEditor/app/APISections/singleCompHandlers/componentsMetaData",["lodash","constants","util","stateManagement","rEditor/componentsMetaData/metaDataMap"],function(e,t,o,i,n){"use strict";function r(t,o){return!n[t]||e.isUndefined(n[t][o])?d[o]:n[t][o]}function a(t,o,i){var n=r(l.getCompType(i,t.documentServices),o);if("function"==typeof n){var a=e.toArray(arguments);return a.splice(1,1),n.apply(null,a)}return n}function s(o){var n={getRestrictions:function(t,o){return e.reduce(o,function(e,o){return e[o]=n.is[o](t),e},{})},is:{controlledByParent:function(e){return a(o,"controlledByParent",e)||o.components.is.repeaterItem(e)},fixed:function(e){return o.documentServices.components.layout.get(e).fixedPosition},exist:function(e){return o.documentServices.components.is.exist(e)},container:function(e){return a(o,"container",e)&&o.documentServices.components.is.container(e)},selectable:function(e){return a(o,"selectable",e)},multiselectable:function(e){return a(o,"multiselectable",e)},siteSegment:function(t){var i=o.siteSegments.getRefs();return e.find(i,t)},removable:function(e){return o.documentServices.components.is.removable(e)},anchorableFrom:function(e){return o.documentServices.components.is.anchorableFrom(e)},anchorableTo:function(e){return o.documentServices.components.is.anchorableTo(e)},duplicatable:function(e,t){return a(o,"duplicatable",e,t)&&o.documentServices.components.is.duplicatable(e,t)},containable:function(e,t){return a(o,"containable",e,t)&&a(o,"canContain",t,e)&&o.documentServices.components.is.containable(e,t)},containableByStructure:function(t,i){var n=r(t.componentType,"containableByStructure");return(e.isFunction(n)?n(t,i):n)&&a(o,"canContainByStructure",i,t)&&o.documentServices.components.is.containableByStructure(t,i)},styleCanBeApplied:function(e,t){return o.documentServices.components.is.styleCanBeApplied(e,t)},movable:function(e){return a(o,"movable",e)&&o.documentServices.components.is.movable(e)},verticallyMovable:function(e){return a(o,"verticallyMovable",e)&&o.documentServices.components.is.verticallyMovable(e)&&!o.components.layout.isPinned(e)},horizontallyMovable:function(e){return a(o,"horizontallyMovable",e)&&c.isHorizontallyMovable(p(e),o.documentServices)},canMoveUp:function(e){return a(o,"canMoveUp",e)&&o.documentServices.components.is.canMoveUp(e)},focusable:function(e){return a(o,"focusable",e)||c.isPlatformShowFocusBox(e,o.documentServices)},fullWidth:function(e){return o.documentServices.components.is.fullWidth(e)},rotatable:function(e){return a(o,"rotatable",e)&&o.documentServices.components.is.rotatable(e)},slidesContainer:function(e){return a(o,"slidesContainer",e)},slideContainer:function(e){return a(o,"slideContainer",e)},hoverBox:function(e){return a(o,"hoverBox",e)},resizable:function(e){return a(o,"resizable",e)&&o.documentServices.components.is.resizable(e)},horizontallyResizable:function(e){return!o.components.layout.isHorizontallyStretchedToScreen(e)&&a(o,"horizontallyResizable",e)&&(o.documentServices.components.is.horizontallyResizable(e)||o.components.is.group(e))},verticallyResizable:function(e){return a(o,"verticallyResizable",e)&&(o.documentServices.components.is.verticallyResizable(e)||o.components.is.group(e))},proportionallyResizable:function(e){return!o.components.is.fullWidth(e)&&!o.components.layout.isPinned(e)&&!o.components.is.controlledByParent(e)&&o.components.is.horizontallyResizable(e)&&o.components.is.verticallyResizable(e)},repeaterItem:function(e){return!!e&&l.isRepeaterItem(e,o.documentServices)},descendantOfRepeaterItem:function(e){return o.components.is.repeatedComponent(e)},resizeOnlyProportionally:function(e){return o.documentServices.components.is.resizeOnlyProportionally(e)},group:function(e){return o.documentServices.components.is.group(e)},groupable:function(e){return o.documentServices.components.is.groupable(e)&&!a(o,"controlledByParent",e)},topMost:function(e,t){return o.documentServices.components.is.topMost(e,t)},leftMost:function(e,t){return o.documentServices.components.is.leftMost(e,t)},groupedComponent:function(e){return o.documentServices.components.is.groupedComponent(e)},animatable:function(e,t){return o.documentServices.components.is.animatable(e,t)},allowedToContainMoreChildren:function(e){return a(o,"allowedToContainMoreChildren",e)&&o.documentServices.components.is.allowedToContainMoreChildren(e)},pinnable:function(e){return a(o,"pinnable",e)&&o.components.layout.canBeFixedPosition(e)&&!o.components.is.fullWidth(e)&&!o.components.layout.isHorizontallyStretchedToScreen(e)&&!o.components.is.controlledByParent(e)&&!o.components.is.descendantOfRepeaterItem(e)&&!o.components.isShowOnSomePages(o.components.getContainer(e))},showLegacyFixedPosition:function(e){return a(o,"showLegacyFixedPosition",e)},alignable:function(e){return o.documentServices.components.is.alignable(e)&&o.components.is.movable(e)},draggable:function(e){return o.components.is.movable(e)&&!o.components.layout.isPinned(e)&&!o.components.is.page(e)},allowLassoOnContainer:function(e){return a(o,"allowLassoOnContainer",e)},showMarginsIndicator:function(e){return a(o,"showMarginsIndicator",e)},focusBoxNavType:function(e){return c.isPlatformShowFocusBox(e,o.documentServices)?c.getPlatformFocusBoxNavType():a(o,"focusBoxNavType",e)},focusBoxNavContent:function(e){if(c.isPlatformShowFocusBox(e,o.documentServices)){var t=o.components.getDisplayName(e);return c.getPlatformFocusBoxNavContent(e,o.documentServices,t)}return a(o,"focusBoxNavContent",e)},selectedBeforeDescendants:function(e,t){return a(o,"selectedBeforeDescendants",e,t)},disabledKnobs:function(e){return a(o,"disabledKnobs",e)},shouldBeOverlayed:function(e){return a(o,"shouldBeOverlayed",e)},getOverlay:function(e,t){return a(o,"getOverlay",e,t)},getOverlayProperties:function(e){return a(o,"getOverlayProperties",e)},gridLinesVisible:function(e){return a(o,"gridLinesVisible",e)},resizableWithAnchors:function(e){return a(o,"resizableWithAnchors",e)},resizableDiagonally:function(e){return a(o,"resizableDiagonally",e)},skinParamsToIgnore:function(e){return a(o,"skinParamsToIgnore",e)},gfppMargins:function(e){var t=o.components.properties.get(e),i=o.components.data.get(e),n=o.documentMode.getComponentPreviewState()[e[0].id];return a(o,"gfppMargins",e,{compData:i,compProps:t,previewState:n})}}};return n.is=e.mapValues(n.is,function(n,r){return function(){return e.get(function(e){return i.editorPlugins.componentsStore.selectors.getComponentStoreData(o.store.getState(),{comp:e,key:t.COMPONENTS_STORE_KEYS.META_DATA_OVERRIDES})}(arguments.length<=0?void 0:arguments[0]),r,n.apply(void 0,arguments))}}),n}var l=i.editorPlugins.components.selectors,c=i.editorPlugins.componentMetaData,p=o.array.asArray,d={pinnable:!0,showLegacyFixedPosition:!1,duplicatable:!0,controlledByParent:!1,containable:!0,canContain:!0,containableByStructure:!0,canContainByStructure:!0,focusable:!1,movable:!0,verticallyMovable:!0,horizontallyMovable:!0,canMoveUp:!0,resizable:!0,verticallyResizable:!0,horizontallyResizable:!0,rotatable:!0,selectable:!0,multiselectable:!0,slidesContainer:!1,slideContainer:!1,showMarginsIndicator:!1,selectedBeforeDescendants:!1,disabledKnobs:[],resizeOnlyProportionally:!1,resizableWithAnchors:!0,resizableDiagonally:!0,shouldBeOverlayed:!1,allowLassoOnContainer:!1,skinParamsToIgnore:[],allowedToContainMoreChildren:!0,gfppMargins:e.constant(0)};return{create:s}}),define("rEditor/app/APISections/componentsFacade/componentsMetaDataFacade",["lodash","util","rEditor/app/APISections/singleCompHandlers/componentsMetaData"],function(e,t,o){"use strict";var i=t.array,n=i.validateForAll,r=i.checkSingleAndValidate,a=i.validateForSome,s=i.applyForFirstAndThrowIfMulti,l=i.asArray;return{create:function(t){var i=o.create(t);return{controlledByParent:function(t){return!e.isEmpty(t)&&n(i.is.controlledByParent,t)},fixed:function(t){return!e.isEmpty(t)&&n(i.is.fixed,t)},exist:function(t){return!e.isEmpty(t)&&n(i.is.exist,t)},container:function(e){return r(i.is.container,e)},selectable:function(t){var o=l(t);return o.length>1||i.is.selectable(e.head(o))},multiselectable:function(t){return!e.isEmpty(t)&&n(i.is.multiselectable,t)},siteSegment:function(e){return r(i.is.siteSegment,e)},siblings:function(o){if(e.includes(o,void 0))return!1;var i=o.pop(),n=t.components.getSiblings(i);return e.every(o,function(t){return e.find(n,t)})},removable:function(e){return n(i.is.removable,e)},duplicatable:function(t,o){return!e.isEmpty(t)&&n(function(e){return i.is.duplicatable(e,o)},t)},showMarginsIndicator:function(e){return r(i.is.showMarginsIndicator,e)},showLegacyFixedPosition:function(e){return r(i.is.showLegacyFixedPosition,e)},containable:function(t,o){return!e.isEmpty(t)&&n(function(e){return i.is.containable(e,o)},t)},containableByStructure:function(e,t){return n(function(e){return i.is.containableByStructure(e,t)},e)},styleCanBeApplied:function(e){return r(i.is.styleCanBeApplied,e)},movable:function(t){return!e.isEmpty(t)&&n(i.is.movable,t)},verticallyMovable:function(t){return!e.isEmpty(t)&&n(i.is.verticallyMovable,t)},horizontallyMovable:function(t){return!e.isEmpty(t)&&n(i.is.horizontallyMovable,t)},canMoveUp:function(e){var o=n(i.is.canMoveUp,e),r=l(e);return r.length>1?o&&t.components.layout.containsSiblingsOnly(r):o},fullWidth:function(e){return n(i.is.fullWidth,e)},resizable:function(e){return r(i.is.resizable,e)},horizontallyResizable:function(e){return n(i.is.horizontallyResizable,e)},verticallyResizable:function(e){return n(i.is.verticallyResizable,e)},proportionallyResizable:function(o){var n=l(o);return e.every(n,i.is.proportionallyResizable.bind(t))},repeaterItem:function(e){return r(i.is.repeaterItem,e)},descendantOfRepeaterItem:function(e){return a(i.is.descendantOfRepeaterItem,e)},resizeOnlyProportionally:function(e){return n(i.is.resizeOnlyProportionally,e)},group:function(e){return r(i.is.group,e)},groupable:function(e){return n(i.is.groupable,e)},page:function(e){return r(function(e){return t.pages.isPageExist(e.id)},e)},topMost:function(e,t){return a(function(e){return i.is.topMost(e,t)},e)},leftMost:function(e,t){return a(function(e){return i.is.leftMost(e,t)},e)},groupedComponent:function(e){return n(i.is.groupedComponent,e)},rotatable:function(e){return r(i.is.rotatable,e)},animatable:function(e,t){return n(function(e){return i.is.animatable(e,t)},e)},pinnable:function(e){return r(i.is.pinnable,e)},focusable:function(e){return r(i.is.focusable,e)},slidesContainer:function(e){return r(i.is.slidesContainer,e)},slideContainer:function(e){return r(i.is.slideContainer,e)},hoverBox:function(e){return r(i.is.hoverBox,e)},alignable:function(e){return n(i.is.alignable,e)},draggable:function(e){return n(i.is.draggable,e)},allowLassoOnContainer:function(e){return r(i.is.allowLassoOnContainer,e)},anchorableFrom:function(e){var o=a(i.is.anchorableFrom,e),n=l(e);return n.length>1?o&&t.components.layout.containsSiblingsOnly(n):o},anchorableTo:function(e){var o=a(i.is.anchorableTo,e),n=l(e);return n.length>1?o&&t.components.layout.containsSiblingsOnly(n):o},focusBoxNavType:function(e){return r(i.is.focusBoxNavType,e)},focusBoxNavContent:function(e){return r(i.is.focusBoxNavContent,e)},potentialContainerForScreenWidthComp:function(e){return r(t.documentServices.components.is.potentialContainerForScreenWidthComp,e)},selectedBeforeDescendants:function(e,t){return r(function(e){return i.is.selectedBeforeDescendants(e,t)},e)},disabledKnobs:function(o){var n=l(o);return 1===n.length?i.is.disabledKnobs(e.head(n)):e.filter(n,function(t){return!e.isEmpty(i.is.disabledKnobs(t))}).length?e.values(t.documentServices.components.layout.RESIZE_SIDES):[]},shouldBeOverlayed:function(e){return i.is.shouldBeOverlayed(e)},getOverlay:function(e){return i.is.getOverlay(e)},getOverlayProperties:function(e){return i.is.getOverlayProperties(e)},gridLinesVisible:function(e){return i.is.gridLinesVisible(e)},resizableWithAnchors:function(e){return i.is.resizableWithAnchors(e)},resizableDiagonally:function(e){return i.is.resizableDiagonally(e)},skinParamsToIgnore:function(e){return s("skinParamsToIgnore",i.is.skinParamsToIgnore,e)},allowedToContainMoreChildren:function(e){return i.is.allowedToContainMoreChildren.call(t,e)},gfppMargins:function(e){return i.is.gfppMargins(e)}}}}}),define("rEditor/app/serializedComponentPlugins",["lodash"],function(e){"use strict";function t(o,i,n){var r=function(e,t){return[].concat(e[t]||[],e["*"]||[])}(n[o],i.componentType);return"Container"===(i=e.reduce(r,function(e,t){return t(n,e)},i)).type&&(i.components=e.map(i.components,function(e){return t(o,e,n)})),i}return{runCopyPluginOnSerializedComponent:function(e,t,o){var i=e.componentType;return o.copyComponentPlugins[i]&&(e=o.copyComponentPlugins[i](t,e)),e},runPastePluginOnSerializedComponent:t.bind(null,"pasteComponentPlugins"),runSerializeComponentPlugin:t.bind(null,"serializeComponentPlugins")}}),define("rEditor/app/APISections/galleriesData/galleriesData",[],function(){"use strict";return{map:{"tpa.viewer.components.Masonry":{"wysiwyg.viewer.skins.TPAMasonrySkin":"add_preset_Galleries_Grid_Galleries_1"},"wysiwyg.viewer.components.MatrixGallery":[{"wysiwyg.viewer.skins.gallerymatrix.TextBottomCustomHeightSkin":"add_preset_Galleries_Grid_Galleries_4"},{"wysiwyg.viewer.skins.gallerymatrix.MatrixGalleryCircleSkin":"add_preset_Galleries_Grid_Galleries_6"},{"wysiwyg.viewer.skins.gallerymatrix.MatrixGalleryLiftedShadow":"add_preset_Galleries_Grid_Galleries_20"},{"skins.viewer.gallerymatrix.MatrixGalleryIronSkin":"add_preset_Galleries_Grid_Galleries_21"},{"skins.viewer.gallerymatrix.MatrixGalleryScotchTapeSkin":"add_preset_Galleries_Grid_Galleries_22"},{"wysiwyg.viewer.skins.gallerymatrix.MatrixGalleryTextSlideUpSkin":"add_preset_Galleries_Grid_Galleries_10"},{"wysiwyg.viewer.skins.gallerymatrix.MatrixGalleryTransparentSkin":"add_preset_Galleries_Grid_Galleries_12"}],"tpa.viewer.components.StripSlideshow":{"wysiwyg.viewer.skins.TPAStripSlideshowSkin":"add_preset_Galleries_Full_Width_Galleries_1"},"wysiwyg.viewer.components.PaginatedGridGallery":[{"wysiwyg.viewer.skins.paginatedgrid.PaginatedGridArrowsOutside":"add_preset_Galleries_Grid_Galleries_7"},{"wysiwyg.viewer.skins.paginatedgrid.PaginatedGridTextBottom":"add_preset_Galleries_Grid_Galleries_8"},{"wysiwyg.viewer.skins.paginatedgrid.PaginatedGridDefaultSkin":"add_preset_Galleries_Grid_Galleries_15"},{"wysiwyg.viewer.skins.paginatedgrid.PaginatedGridRibbonArrows":"add_preset_Galleries_Grid_Galleries_16"},{"wysiwyg.viewer.skins.paginatedgrid.PaginatedGridOverlay":"add_preset_Galleries_Grid_Galleries_19"}],"tpa.viewer.components.StripShowcase":{"wysiwyg.viewer.skins.TPAStripShowcaseSkin":"add_preset_Galleries_Full_Width_Galleries_2"},"wysiwyg.viewer.components.SlideShowGallery":[{"skins.viewer.gallery.SlideShowCleanAndSimple":"add_preset_Galleries_Slider_Galleries_2"},{"wysiwyg.viewer.skins.gallery.SlideShowTextBottom":"add_preset_Galleries_Slider_Galleries_4"},{"wysiwyg.viewer.skins.gallery.SlideShowTextRight":"add_preset_Galleries_Slider_Galleries_5"},{"wysiwyg.viewer.skins.gallery.SlideShowPolaroid":"add_preset_Galleries_Slider_Galleries_8"},{"wysiwyg.viewer.skins.gallery.SlideShowTextOverlay":"add_preset_Galleries_Slider_Galleries_13"},{"wysiwyg.viewer.skins.gallery.SlideShowGalleryLiftedShadowSkin":"add_preset_Galleries_Slider_Galleries_14"},{"skins.viewer.gallery.SlideShowIron":"add_preset_Galleries_Slider_Galleries_17"}],"tpa.viewer.components.Accordion":{"wysiwyg.viewer.skins.TPAAccordionSkin":"add_preset_Galleries_Slider_Galleries_7"},"tpa.viewer.components.Impress":{"wysiwyg.viewer.skins.TPAImpressSkin":"add_preset_Galleries_Slider_Galleries_9"},"wysiwyg.viewer.components.SliderGallery":[{"wysiwyg.viewer.skins.galleryslider.SliderGalleryDefaultSkin":"add_preset_Galleries_Slider_Galleries_10"},{"wysiwyg.viewer.skins.galleryslider.SliderGalleryCircleSkin":"add_preset_Galleries_Slider_Galleries_6"},{"wysiwyg.viewer.skins.galleryslider.SliderGalleryScotchTapeSkin":"add_preset_Galleries_Slider_Galleries_15"},{"wysiwyg.viewer.skins.galleryslider.SliderGalleryIronSkin":"add_preset_Galleries_Slider_Galleries_16"}],"wysiwyg.viewer.components.tpapps.TPA3DCarousel":{"wysiwyg.viewer.skins.TPA3DCarouselSkin":"add_preset_Galleries_3D_Galleries_1"},"wysiwyg.viewer.components.tpapps.TPA3DGallery":{"wysiwyg.viewer.skins.TPA3DGallerySkin":"add_preset_Galleries_3D_Galleries_2"},"tpa.viewer.components.Freestyle":{"wysiwyg.viewer.skins.TPAFreestyleSkin":"add_preset_Galleries_3D_Galleries_3"}}}}),define("rEditor/app/APISections/componentsWrapper",["lodash","core","util","coreUtilsLib","rEditor/utils/removeUtil","rEditor/app/APISections/componentsFacade/layoutWrapper","rEditor/app/APISections/componentsFacade/arrangementFacade","rEditor/app/APISections/componentsFacade/behaviorsFacade","rEditor/app/APISections/componentsFacade/componentsMetaDataFacade","rEditor/app/serializedComponentPlugins","rEditor/app/APISections/galleriesData/galleriesData","stateManagement","coreBi","constants","experiment"],function(e,t,o,i,n,r,a,s,l,c,p,d,u,m,g){"use strict";function f(f){function h(t){if(!S(t))return!0;var o=e.head(t),i=e.tail(t),n=f.documentServices.components.getPage(o);return e.every(i,function(t){return function(t,o){var i=f.documentServices.components.getPage(t);return e.isEqual(i,o)}(t,n)})}function T(t,o){return e.every(o,function(o,i){return e.isEqual(t[i],o)})}function I(t,o,i){var n=f.selection.getSelectedComponents(),r=f.store.getState(),a=E(r);e.isEmpty(n)||f.documentServices.components.modes.isComponentDisplayedInModes(e.head(n),[o])||f.selection.selectComponentByCompRef(a),o?f.documentServices.components.modes.activateComponentMode(t,o):i&&f.documentServices.components.modes.deactivateComponentMode(t,i)}function _(t){return e.filter(t,f.documentServices.components.is.visible)}function O(t){var o=v(t),i=e.clone(o);return e.forEach(o,function(t,n){var r=o.slice(n+1);e.forEach(r,function(o){if(f.components.isDescendantOfComp(t,o))return e.remove(i,t),!1;f.components.isDescendantOfComp(o,t)&&e.remove(i,o)})}),i}function M(t){return!e.isEmpty(f.components.modes.getModes(t))}function w(t,o){var i=f.store.getState(),r=E(i),a=v(t);if(g.isOpen("us_groupRightClick")&&function(t){return e.find(t,function(e){var t=f.components.getType(e);return"wysiwyg.viewer.components.tpapps.TPASection"===t||"wysiwyg.viewer.components.tpapps.TPAMultiSection"===t})}(a)){var s=f.documentServices.pages.getFocusedPageId();return new Promise(function(t){f.pages.remove(s,e.noop()),f.documentServices.waitForChangesApplied(e.partial(t,!0))})}if(!f.components.is.removable(a))return e.forEach(a,function(e){var t=f.components.getType(e);f.cannotRemovePlugins[t]&&f.cannotRemovePlugins[t](e)}),Promise.resolve(!1);var l=f.selection.getSelectedComponents();if(r&&!e.find(a,r))f.selection.selectComponentByCompRef(r);else if(!o||!o.isReplacingComp){var c=a.concat(function(t,o){return e.filter(o,function(o){return e.some(t,function(e){return x(o,e)})})}(a,l));f.selection.deselectComponents(c)}z(t);var p=e.noop,d=k(t);if(f.components.is.controlledByParent(t)){e.isEqual(d,l&&l[0])&&(p=function(){f.components.is.exist(d)?(f.panelManager.closeAllPanels(),f.selection.selectComponentByCompRef(d)):f.selection.deselectComponents()})}var u=n.removeComponent(f.documentServices,f.removePlugins,a,f,o).then(function(){return p(),!0});return M(d)&&f.documentServices.waitForChangesApplied(function(){f.tabIndicationState.activateDeleteAnimation()}),u}function A(t,o){var i=f.components.isShowOnAllPages(t),n=v(t),r=e.map(n,f.components.getPage),a=e.map(n,f.components.modes.getFirstAncestorWithActiveModes),s=function(t,o){var i=f.components.isShowOnAllPages(t),n=f.components.isShowOnAllPages(o),r=!i&&n;return e.reduce(t,function(e,t){return"platform.components.AppController"===f.documentServices.components.getType(t)?r?e.unshift(t):e.push(t):r?e.push(t):e.unshift(t),e},[])}(n,o),l=f.components.getContainer(n);f.editorEventRegistry.dispatch(f.editorEventRegistry.constants.events.SET_CONTAINER_BEFORE,f,s,o);var c=e.map(s,function(e){return f.documentServices.components.setContainer(e,o)}),p=function(t,o){return e.zipWith(t,o,function(e,t){return{ref:e,root:t}})}(c,r),d=function(t,o){return e.zipWith(t,o,function(e,t){return{ref:e,ancestor:t}})}(c,a);return!i&&f.utils.isSameRef(o,f.documentServices.siteSegments.getHeader())&&f.panelHelpers.openDragToHeaderPanel(),f.documentServices.waitForChangesApplied(function(){f.pluginService.getPlugin("setContainer","*")(o,p,d,f.components,f.behaviors),f.selection.selectComponentByCompRef(c);var t=f.selection.getParentToFocus(c);f.store.dispatch(C(t)),f.utils.isSameRef(t,o)&&M(o)&&f.tabIndicationState.activateAddAnimation(!0),function(t,o,i){var n=f.components.getType(i),r=f.components.is.repeatedComponent(i),a=f.components.getType(o),s=f.components.is.repeatedComponent(o);e.forEach(t,function(e){var t=f.components.getType(e);f.bi.event(u.events.stage.ATTACH_TO,{origin:"stage",component_type:t,source_component:n,target_component:a,is_target_repeated:s,is_source_repeated:r})})}(c,o,l),z(c),f.components.is.group(l)&&1===f.components.getChildren(l).length&&f.components.ungroup(l)}),c.length>1?c:e.head(c)}function R(e){return y("getSkin",f.documentServices.components.skin.get,e)}function D(t){var i=f.documentServices.components.getType(t),n=R(t);if(e.has(p.map,i)){if(e.some(p.map[i],n))return o.translate(e.find(p.map[i],n)[n]);if(e.has(p.map[i],n))return o.translate(p.map[i][n])}return function(t){var o=f.documentServices.platform.controllers.connections.get(t);if(e.isArray(o))return e(o).map(function(t){var o=t.controllerRef,i=t.role,n=f.documentServices.platform.controllers.getStageData(o);return e.get(n,["connections",i,"displayName"])}).find()}(t)||(f.compNamePlugins[i]?f.compNamePlugins[i](t):o.translate("component_label_"+i.split(".").pop()))}function k(e){var t=v(e);return 1===t.length||f.components.layout.containsSiblingsOnly(t)?f.documentServices.components.getContainer(t[0]):null}function x(e,t){return P(function(e){return f.documentServices.components.isDescendantOfComp(e,t)},e)}function B(e,o,i){return y("updateData",function(e){return function(e,o,i){o.type=o.type||f.components.data.get(e).type,o=t.utils.updateDataUtil.fixData(o);var n=f.components.data.get(e);(!n||!T(n,o))&&(f.documentServices.components.data.update(e,o),i||f.history.debouncedAdd("comp data changed"))}(e,o,i)},e)}function L(e,o,i,n){return b(function(e){return function(e,o,i,n){o.type=o.type||f.components.design.get(e).type,o=t.utils.updateDataUtil.fixData(o);var r=f.components.design.get(e);(!r||!T(r,o))&&(f.documentServices.components.design.update(e,o,i),n||f.history.debouncedAdd("comp design changed"),f.pluginService.getPlugin("designDataChange","*")(f,e,o,i))}(e,o,i,n)},e)}function N(o,i,n){return y("updateProperties",function(o){return function(o,i,n){var r=f.documentServices.components.properties,a=r.get(o),s=!a||!T(a,i),l=r.mobile.isForked(o);s&&(i.type=e.get(i,"type")||e.get(a,"type"),i=t.utils.updatePropertiesUtil.fixProperties(i,o,f.documentServices,f.isMobileEditor()),f.isMobileEditor()&&a&&!l&&r.mobile.fork(o),r.update(o,i),n||f.history.debouncedAdd("comp properties changed"),f.pluginService.getPlugin("propertiesChange","*")(o,i))}(o,i,n)},o)}function F(e,t){return f.components.is.alignable(e)&&f.documentServices.components.alignment.canAlign(e,t)}function U(e,t){return f.documentServices.components.multiComponents.canDistribute(e,t)}function G(e,t){return f.documentServices.components.multiComponents.canMatchSize(e,t)}function H(t){return t&&function(t){t=v(t);var o=f.documentServices.siteSegments.getSiteStructure(),i=f.components.is.containable(t,o)&&!e.some(t,f.components.is.controlledByParent),n=e.some(t,f.documentServices.components.is.groupedComponent),r=f.components.is.descendantOfRepeaterItem(t);return!f.isCurrentPageLandingPage()&&i&&!n&&!f.documentServices.pages.popupPages.isPopupOpened()&&!r&&!e.some(t,f.components.isShowOnSomePages)}(t)&&function(e){var t=f.documentServices.pages.getFocusedPage();return f.components.is.containable(e,t)&&!f.components.isDescendantOfComp(e,f.documentServices.siteSegments.getFooter())}(t)}function V(t){return!(!t||!f.components.isShowOnAllPages(t))&&(f.components.isDescendantOfFrozen(t,f.documentServices.siteSegments.getHeader())||f.components.isDescendantOfFrozen(t,f.documentServices.siteSegments.getFooter())||function(t){if("masterPage"!==f.components.getPage(t).id)return!1;var o=f.documentServices.siteSegments.getSiteStructure(),i=f.utils.findAncestorMatchesCondition(t,function(e){return f.utils.isSameRef(o,f.components.getContainer(e))}),n=f.documentServices.siteSegments.getPagesContainer(),r=f.components.getChildren(o);return e.findIndex(r,function(e){return f.utils.isSameRef(e,i)})>e.findIndex(r,function(e){return f.utils.isSameRef(e,n)})}(t))}function z(t){b(function(t){var o=f.documentServices.components.modes.getFirstAncestorWithActiveModes(t);if(o&&function(t){var o=f.documentServices.components.modes.getModes(t),i=f.documentServices.components.modes.getComponentActiveModeIds(t),n=e.filter(o,function(t){return e.has(i,t.modeId)});return e.every(n,function(t){return e.get(j,t.type,!1)})}(o)){var i={defaultInAnimtaion:{action:"modeIn",name:"FadeIn",delay:0,duration:.35},defaultOutAnimtaion:{action:"modeOut",name:"FadeOut",delay:0,duration:.35}};f.components.is.animatable(t,i.defaultInAnimtaion.action)&&(f.documentServices.components.behaviors.update(t,i.defaultInAnimtaion),f.documentServices.components.behaviors.update(t,i.defaultOutAnimtaion))}})(t)}var W="wysiwyg.viewer.components.BoxSlideShow",q="wysiwyg.viewer.components.StripContainerSlideShow",j={DEFAULT:!0,HOVER:!0};return{getAllComponents:function(e,t){return _(f.documentServices.components.getAllComponents(e,t))},getAncestorRepeaterItem:function(t){if(!f.components.is.repeatedComponent(e.isArray(t)?e.head(t):t))return null;var o=f.documentServices.components.getAncestors(e.isArray(t)?e.head(t):t);return e.find(o,function(e){return f.components.is.repeaterItem(e)})},get:{byXYRelativeToStructure:function(e,t,o,i){return _(f.documentServices.components.get.byXYRelativeToStructure(e,t,o,i))},byXYRelativeToScreen:function(e,t,o,i){return _(f.documentServices.components.get.byXYRelativeToScreen(e,t,o,i))},byType:function(e,t){return _(f.documentServices.components.get.byType(e,t))}},canBeMasterChild:function(t,o){var i=v(t);if(i.length>1)return!1;var n=e.head(i);return o?f.documentServices.layouters.canBeMasterChild(n,o):f.documentServices.layouters.canBeMasterChild(n,W)||f.documentServices.layouters.canBeMasterChild(n,q)},onPreviewReady:function(){var o=t.utils.componentPreviewReadyPlugins;e.forEach(o,function(e){e(f)})},getPage:function(t){var o=v(t);return 1===o.length||h(o)?f.documentServices.components.getPage(e.head(o)):null},asArray:v,getComponentsWhichDontHaveAncestorsInTheArray:O,reset:function(){f.clipboard.setItem(m.EDITOR_CLIPBOARD_TYPES.COMPONENT,void 0)},isShowOnAllPages:function(e){return P(f.documentServices.components.isShowOnAllPages,e)},isShowOnSomePages:function(e){return P(f.documentServices.components.isShowOnSomePages,e)},serialize:function(e,t,o,i,n,r){var a=f.documentServices.components.serialize(e,t,o,i,n,r);if(a)return c.runSerializeComponentPlugin(a,f)},cut:function(t){var o=f.selection.getSelectedComponents();o=O(o),t=O(t),e.isEqual(o,t)&&f.selection.deselectComponents(),f.isMobileEditor()?f.openCantCopyPastePanel():f.components.is.duplicatable(t)&&(f.copyPaste.copy(t,!0),e.forEach(t,function(e){n.cutComponent(f.documentServices,e,f.cutComponentPlugins)}))},add:function(o,i,n,r,a,s){s=s||{},f.mouseActions.turnOffMouseEvents();var l=t.utils.addUtil.addComponent(f,f.documentServices.components.add,o,i,n,r,a);if(f.utils.isSameRef(o,f.documentServices.siteSegments.getHeader())&&!1!==s.showAddToHeaderPanel&&f.panelHelpers.openDragToHeaderPanel(),g.isOpen("dontCloseAddPanelOnAdd")||f.panelManager.closePanelByName("addPanelInfra.addPanel"),M(o)&&l.id){var c=f.components.modes.getComponentActiveModeIds(o);f.components.modes.showComponentOnlyInModesCombination(l,e.keys(c)),f.tabIndicationState.activateAddAnimation(!0),z(l)}return l},addAndAdjustLayout:function(e,o,i,n){return t.utils.addUtil.addComponent(f,f.documentServices.components.addAndAdjustLayout,e,o,i,n)},remove:w,setContainer:A,reparentComponentToPage:function(t,o){var i=v(t),n=e.map(i,function(e){return f.documentServices.components.reparentComponentToPage(e,o)});return i.length>1?n:n[0]},getType:function(e){return d.editorPlugins.components.selectors.getCompType(e,f.documentServices)},getSiblings:function(t){var o=v(t);if(1===o.length)return f.documentServices.components.getSiblings(o[0]);if(o.length>1){if(!f.components.layout.containsSiblingsOnly(o))throw new Error("Cannot obtain siblings of the given components since they are not siblings");var i=f.documentServices.components.getSiblings(o[0]);return e.reject(i,function(t){return e.some(o,{id:t.id})})}},getChildren:function(e,t){var o=v(e);return o.length>1?[]:f.documentServices.components.getChildren(o[0],t)},getDisplayName:D,getNickname:function(e){return f.documentServices.components.code.getNickname(e)},ungroup:function(e){var t=v(e);f.components.is.exist(t[0])&&(f.documentServices.components.ungroup(t[0]),f.history.add("ungroup"))},getIconInfo:function(e,t){var i=f.documentServices.components.getType(e);return f.compIconPlugins[i]?f.compIconPlugins[i](e):o.compIcon.getCompIconInfo(e,i,t,f)},getContainer:k,moveToFooter:function(t){var o=e.negate(f.components.is.controlledByParent),i=o(t)?t:f.utils.findAncestorMatchesCondition(t,o),n=f.components.layout.getRelativeToStructure(i),r=f.documentServices.siteSegments.getFooter(),a=f.components.layout.get(r),s=f.components.setContainer(i,r);f.components.layout.update(s,{y:n.y-n.bounding.y+15}),a.height<n.bounding.height+15&&f.components.layout.update(r,{height:n.bounding.height+30})},isDescendantOfComp:x,isAscendantOfComp:function(t,o){return e.some(t,function(e){return f.components.isDescendantOfComp(o,e)})},getDefaultBiParams:function(e){var t=v(e);return{componentType:f.components.getType(e),component_id:t[0].id}},areComponentsOfSamePage:h,data:{update:B,get:function(t){var o=v(t),i=e.map(o,f.documentServices.components.data.get);return o.length<=1?e.head(i):i},remove:function(e,t){y("removeData",f.documentServices.components.data.remove,e),t||f.history.add("comp data removed")}},design:{update:L,get:function(t,o){var i=v(t),n=e.map(i,function(e){return f.documentServices.components.design.get(e,o)});return i.length>1?n:e.head(n)},remove:function(e,t){y("removeDesign",f.documentServices.components.design.remove,e),t||f.history.add("comp design removed")}},properties:{update:N,get:function(t){var o=v(t),i=e.map(o,f.documentServices.components.properties.get);return o.length>1?i:e.head(i)}},alignment:{align:function(t,o){var i=v(t);i.length>1?f.documentServices.components.alignment.alignComponents(i,o):f.documentServices.components.alignment.alignInContainer(e.head(i),o),f.history.add("component - align - "+o)},canAlign:F,canAlignAllDirections:function(t){return t&&e.every(m.COMP_ALIGNMENT_OPTIONS,e.partial(F,t))}},multiComponents:{distribute:function(e,t){var o=v(e);o.length>1&&f.documentServices.components.multiComponents.distribute(o,t),f.history.add("component - distribute - "+t)},matchSize:function(e,t){var o=v(e);o.length>1&&f.documentServices.components.multiComponents.matchSize(o,t),f.history.add("component - matchSize - "+t)},canDistribute:U,canDistributeAllDirections:function(t){return t&&e.every(m.COMP_ALIGNMENT_OPTIONS,e.partial(U,t))},canMatchSize:G,canMatchAllSizes:function(t){return t&&e.every(m.COMP_MATCH_SIZE_OPTIONS,e.partial(G,t))}},layout:r.create(f),style:{getId:function(e){var t=v(e);if(S(t))throw new Error("components.style.getId isn't supported for multi select");return f.documentServices.components.style.getId(t[0])},setId:function(e,t){var o=v(e);if(S(o))throw new Error("components.style.setId isn't supported for multi select");return f.documentServices.components.style.setId(o[0],t)},update:function(e,t){var o=v(e);if(S(o))throw new Error("components.style.update isn't supported for multi select");return f.documentServices.components.style.update(o[0],t)}},arrangement:a.create(f),getRestrictions:function(t,o){var i=v(t);return e.reduce(o,function(e,t){return e[t]=f.components.is[t](i),e},{})},is:l.create(f),skin:{getComponentSkinExports:function(e){return y("getComponentSkinExports",f.documentServices.components.skin.getComponentSkinExports,e)},get:R},behaviors:s.create(f),code:{setNickname:function(e,t){f.documentServices.components.code.setNickname(e,t),f.history.debouncedAdd("comp nick name changed")}},canToggleShowOnAllPages:H,shouldDisableShowOnAllPages:V,isDescendantOfFrozen:function(e,t){return f.components.isDescendantOfComp(e,t)&&f.components.layout.isFixedPosition(t)},setShowOnAllPages:function(e,t){var o=void 0;return e=O(e),o=t?f.documentServices.siteSegments.getSiteStructure():f.documentServices.pages.getReference(f.documentServices.pages.getPrimaryPageId()),f.components.setContainer(e,o)},toggleShowOnAllPages:function(e){var t=f.selection.getSelectedComponents(),o=!f.components.isShowOnAllPages(e),i=f.components.setShowOnAllPages(e,o);return t===e&&f.selection.selectComponentByCompRef(i),f.history.add(o?"Show component on all pages":"Show component on current page"),o},modes:{getModes:function(e){return f.documentServices.components.modes.getModes(e)},activateComponentMode:function(e,t){I(e,t),f.panelManager.closePanelByName("compPanels.dynamicPanels.applyPanel")},deactivateComponentMode:function(e,t){I(e,null,t),f.panelManager.closePanelByName("compPanels.dynamicPanels.applyPanel")},applyCurrentToAllModes:function(t){e.isEmpty(t)||(b(f.documentServices.components.modes.applyCurrentToAllModes)(t),f.documentServices.waitForChangesApplied(function(){f.tabIndicationState.activateApplyAnimation(!1)}),f.history.add("comp applyCurrentToAllModes"))},applyComponentToMode:function(e,t){f.documentServices.components.modes.applyComponentToMode(i.objectUtils.cloneDeep(e),t)},isCompDefaultModeActive:function(t){var o=f.documentServices.components.modes.getTypes().DEFAULT,i=e.head(f.documentServices.components.modes.getModesByType(t,o));if(i){var n=f.documentServices.components.modes.getComponentActiveModeIds(t);return e.includes(e.keys(n),i.modeId)}return!1},addDefaultSingleModeAnimations:z,getFirstAncestorOrSelfWithModeDefinitions:function(e){for(var t=e;t&&!f.components.modes.getModes(t);)t=f.components.getContainer(t);return t},areComponentsOfSameModefulContainer:function(t){var o=v(t);if(o.length<=1)return!0;var i=e.map(o,f.components.modes.getFirstAncestorWithActiveModes);return e.every(i,e.partial(e.isEqual,i[0]))}}}}var h=o.array,b=h.applyForAll,y=h.applyForFirstAndThrowIfMulti,v=h.asArray,S=h.isMultiselect,P=h.validateForAll,E=d.editorPlugins.selection.selectors.getFocusedContainer,C=d.editorPlugins.selection.actions.setFocusedContainer;return{create:f}}),define("rEditor/app/APISections/tabIndicationState",[],function(){"use strict";return{create:function(e){function t(){e.updateState({tabIndicationState:{indication:"INACTIVE",activeMode:void 0}})}return{activateDeleteAnimation:function(){e.updateState({tabIndicationState:{indication:"DELETE",activeMode:void 0}},t)},activateAddAnimation:function(o){e.updateState({tabIndicationState:{indication:"ADD",activeMode:o}},t)},activateApplyAnimation:function(o){e.updateState({tabIndicationState:{indication:"APPLY",activeMode:o}},t)},getState:function(){return e.store.getState().tabIndicationState}}}}}),define("rEditor/app/APISections/feedback",["lodash","constants","coreUtilsLib","util"],function(e,t,o,i){"use strict";function n(e){function n(t){e.store.getState().unreadComments!==t&&e.updateState({unreadComments:t})}function r(){var t=function(){var t=e.documentServices.generalInfo.getSiteId(),o=e.documentServices.generalInfo.getMetaSiteId();return l+t+"?metaSiteId="+o}();o.requestsUtil.fetchJson(t).then(function(e){return n(e.count)}).catch(function(e){o.log.error(e)})}function a(){if(e.account.isUserOwner()){var i=c+e.documentServices.generalInfo.getSiteId()+"?metaSiteId="+e.documentServices.generalInfo.getMetaSiteId();o.requestsUtil.fetchJson(i).then(function(o){o.shared?(n(o.count),r(),window.setInterval(r,t.FEEDBACK.CHECK_COMMENTS_INTERVAL)):window.setTimeout(e.feedback.init,t.FEEDBACK.CHECK_SITE_SHARED_INTERVAL)})}}var s=i.serviceTopology.feedbackServiceUrl,l=s+"/getNewCommentsCount/",c=s+"/siteIsShared/";return{init:a,getNewCommentsCounter:function(){return e.store.getState().unreadComments}}}return{create:n}}),define("rEditor/app/APISections/mainMenuWrapper",["lodash","pagesMenu","experiment"],function(e,t,o){"use strict";return{create:function(i){function n(e){return e.replace("#","")}function r(){var t={},o=i.documentServices.routers.get.all();return e.forOwn(o,function(o){e.forOwn(o.pages,function(e){t[e]=!0})}),t}function a(t){var o=void 0;return e.some(t,function(e){return e.type.isPage&&!i.pages.isHomePage(e.pageData.id)?(o=e,!0):!!(e.items&&e.items.length&&(o=a(e.items)))||void 0}),o}function s(e){var t=e.link&&e.link.type,o=e.link&&e.link.pageId,n="PageLink"===t,r=o&&i.documentServices.pages.popupPages.isPopup(o.replace("#",""));return{raw:t,isDropdown:!t,isLink:!n&&d.test(t)||r,isPage:n&&!r}}function l(e,t,o){return{id:e.id,type:s(e),label:e.label,parent:o,isVisible:e.isVisible,isVisibleMobile:e.isVisibleMobile,pageData:t,link:e.link}}function c(t,i,r,a){var p=[];return e.forEach(t,function(t){var d=void 0,u=s(t),m=void 0;m=o.isOpen("pagesPanelOpenCollapsed")?u.isPage?i.pagesDataMap[n(t.link.pageId)]:null:u.isPage?e.find(i.pagesDataList,["id",n(t.link.pageId)]):null,r&&!r(t,m)||(d=l(t,m,i.parent),t.items.length>0?d.items=c(t.items,e.defaults({parent:d},i),r,a):d.items=[],p.push(d),a&&a(d))}),p}var p=t.specialPages.menuLogic,d=/Link$/;return{hasOnlyLastPageMenuItem:function(){var t=r(),o=i.documentServices.pages.getPagesData();return 1===e.filter(o,function(e){return!p.isSpecialPage(i,e,t)}).length},getMenuItemsTreeForPagesFixed:function(){var t=i.documentServices.mainMenu.getMenu(!0),o=i.documentServices.pages.getPagesData(),n=p.getSectionPagesIds(i,o),a=[],s=Array.prototype.push,l=r(),c=i.mainMenu.extendMenuItemsTreeWithPageData(o,function(e,t){return!(!t&&0===e.items.length||t&&p.isSpecialPage(i,t,l))},function(t){t.pageData&&e.includes(n,t.pageData.id)&&a.push(t)},t);return e.forEach(a,function(e){var n=p.getSpecialPagesListBySectionPageOrBySibling(i,e.pageData,o),r=i.mainMenu.convertPagesDataListToMenuItemsList(n,t);s.apply(e.items,r)}),c},getFirstNonHomePageMenuItem:function(){return a(i.mainMenu.getMenuItemsTreeForMainMenu())},getMenuItemsTreeForMainMenu:function(e){if(!i.documentServices)return[];e=e||i.documentServices.pages.getPagesData();var t=r();return i.mainMenu.extendMenuItemsTreeWithPageData(e,function(e,o){return!o||!p.isSpecialPage(i,o,t)})},extendMenuItemsTreeWithPageData:function(t,n,r,a){if(a=a||i.documentServices.mainMenu.getMenu(!0),o.isOpen("pagesPanelOpenCollapsed")){var s=e.keyBy(t,"id");return c(a,{parent:null,homePageId:i.homePage.get(),pagesDataMap:s},n,r)}return c(a,{parent:null,homePageId:i.homePage.get(),pagesDataList:t},n,r)},convertPagesDataListToMenuItemsList:function(t,o){function r(o){var i=void 0,c=void 0,p=void 0;e.forEach(o,function(o){(c=s(o)).isPage&&(p=e.findIndex(t,{id:n(o.link.pageId)}))>-1&&(i=t[p],a[p]=l(o,i)),o.items.length>0&&r(o.items)})}var a=[];return r(o||i.documentServices.mainMenu.getMenu(!0)),e.compact(a)}}}}}),define("rEditor/app/APISections/menuWrapper",["lodash","core","util","coreUtilsLib"],function(e,t,o,i){"use strict";function n(n){function r(e){return e.replace("#","")}function a(e){var t=e.link&&e.link.type,o=e.link&&e.link.pageId,i="PageLink"===t,r=o&&n.documentServices.pages.popupPages.isPopup(o.replace("#",""));return{raw:t,isDropdown:!t,isLink:!i&&C.test(t)||r,isPage:i&&!r,isPopupLink:r}}function s(o,i,l,c){var p={items:[],pagesCount:0};return e.forEach(o,function(o,d){var u=a(o),m=u.isPage?i[r(o.link.pageId)]:null;if(!l||l(o,m)){var g=function(o,i,r,s){var l=e.get(i,"tpaApplicationId"),c=l?n.documentServices.tpa.app.getData(l).appDefinitionId:null;return{id:o.id,type:a(o),label:o.label,parent:r,isVisible:o.isVisible,isVisibleMobile:o.isVisibleMobile,pageData:i?e.pick(i,["id","tpaApplicationId","tpaPageId","pageSecurity","title"]):null,link:o.link,position:s,appDefinitionId:c,isHomePage:n.pages.isHomePage(e.get(i,"id")),isOldBlog:!!e.get(i,"appInnerID")&&t.utils.blogTypeUtils.isBlog(n,i)}}(o,m,c,d);if(o.items.length>0){var f=s(o.items,i,l,g);g.items=f.items,p.pagesCount+=f.pagesCount}else g.items=[];u.isPage&&p.pagesCount++,p.items.push(g)}}),p}function l(t,o){return e.find(t.items,o)?t:e.find(t.items,function(t){return e.find(t.items,o)})}function c(t,o,i,r,a,s){var c=l(t,{id:o}),p=e.findIndex(c.items,{id:o}),d=c.items[p];c.items.splice(p,1);var u=i?function(t,o){return e.find(l(t,o).items,o)}(t,{id:i}):t;(u=u||t).items=u.items||[],u.items.splice(r,0,d),n.documentServices.waitForChangesApplied(function(){n.documentServices.menu.update(t.id,t),a&&n.history.add("moving a page"),e.isFunction(s)&&n.documentServices.waitForChangesApplied(s),t.appId&&n.documentServices.platform.notifyApplication(t.appId,{eventType:"appMenuReorder",eventPayload:{menuId:t.id,menuItemId:o,parentId:i,index:r}})})}function p(t,o){return e.find(o,function(e){return e.link&&e.link.pageId===t})}function d(e,t,o){for(var i={itemIndex:null,parentId:o},n=0;n<e.length;n++){var r=e[n];if(r.id===t)return i.itemIndex=n,i;if(r.items&&r.items.length){var a=d(r.items,t,r.id);if(null!==a.itemIndex)return a}}return i}function u(e,t,o,i){var n=d(e.items,o,null);c(e,t,n.parentId,n.itemIndex+1,!1,i)}function m(e,o,i,r,a){var s=function(e,o){var i=n.pages.duplicate(e),r=t.utils.pageTitleUtils.generateDuplicatedTitle(o),a=(n.documentServices.generalInfo.urlFormat.isSlash()?n.pages.data.pageUriSEO:t.utils.pageTitleUtils).convertPageNameToUrl(r);return n.pages.data.update(i.id,{title:r,pageUriSEO:a}),i.id}(o,i);n.documentServices.waitForChangesApplied(function(){var t=n.menu.getById(e),i=p("#"+s,t.items);u(t,i.id,r,function(){n.pages.navigateTo(s),n.history.add("duplicating a page",{currentPage:o}),a(i.id,s)})})}function g(e,o,r){o.type.isPage?m(e,o.pageData.id,o.pageData.title,o.id,r):o.type.isDropdown?function(e,o,i){var r=t.utils.pageTitleUtils.generateDuplicatedTitle(o.label),a=n.documentServices.menu.addItem(e,{link:o.link,label:r,isVisible:o.isVisible,isVisibleMobile:o.isVisibleMobile});n.documentServices.waitForChangesApplied(function(){u(n.menu.getById(e),a,o.id,function(){n.history.add("duplicating a dropdown"),i(a)})})}(e,o,r):o.type.isLink?function(e,o,i){var r=t.utils.pageTitleUtils.generateDuplicatedTitle(o.label),a=n.documentServices.menu.addItem(e,{link:o.link,label:r,isVisible:o.isVisible,isVisibleMobile:o.isVisibleMobile});n.documentServices.waitForChangesApplied(function(){u(n.menu.getById(e),a,o.id,function(){n.history.add("duplicating a link"),i(a)})})}(e,o,r):i.log.error("not supported menu type")}function f(e,t,o){n.pages.data.update(e,t),n.history.debouncedAdd(o)}function h(i,r,a){var s={title:a};if(a&&r!==a)if(function(e){return!n.documentServices.generalInfo.urlFormat.isSlash()||!n.documentServices.generalInfo.isSitePublished()||e===o.translate("Pages_Menu_Add_New_Page")}(r)){var l=n.documentServices.generalInfo.urlFormat.isSlash()?n.pages.data.pageUriSEO:t.utils.pageTitleUtils,c=l.convertPageNameToUrl(a);c?(s.pageUriSEO=c,f(i,s,"Rename Page")):o.googleTranslate(a,function(t){(c=l.convertPageNameToUrl(t))&&(s.pageUriSEO=c,s.translationData=e.assign({}||s.translationData,{uriSEOTranslated:!0})),f(i,s,"Rename Page")})}else f(i,s,"Rename Page")}function b(t,o){n.openLinkPanel({visibleSections:{NoLink:!1},hidePageLinks:!0,link:o,showAllPopups:!0,pageTabTitle:"LINK_PANEL_TAB_ANCHOR",pageTabPageDropDownTitle:"PLATFORM_LINK_MENU_PAGE_PAGE_OPTION",anchorTabPageDropDownTitle:"LINK_PANEL_PAGE_DROP_DOWN_PAGELINK_LABEL",title:"What do you want to link to?",callback:e.once(t)})}function y(e,t,o){return{id:e.id,type:o||a(e),label:e.label,pageData:t?{id:t.id}:null}}function v(t,o,i,n){var s=[];return e.forEach(t,function(e){var t=void 0,l=a(e),c=l.isPage?o[r(e.link.pageId)]:null;i&&!i(e,c)||(t=y(e,c,l),e.items.length>0?t.items=v(e.items,o,i,n):t.items=[],s.push(t),n&&n(t,c))}),s}function S(){var t={},o=n.documentServices.routers.get.all();return e.forOwn(o,function(o){e.forOwn(o.pages,function(e){t[e]=!0})}),t}function P(){var o=n.documentServices.menu.getById("CUSTOM_MAIN_MENU").items,i=n.documentServices.pages.getPagesData(),s=e.keyBy(E.getSectionPagesIds(n,i)),l=[],c=Array.prototype.push,p=S(),d=function(t,o,i,n){return v(n,e.keyBy(t,"id"),o,i)}(i,function(e,t){return!(!t&&0===e.items.length||t&&E.isSpecialPage(n,t,p))},function(e){e.pageData&&e.pageData.id&&s[e.pageData.id]&&l.push(e)},o);return e.forEach(l,function(s){var l=e.find(i,{id:s.pageData.id}),p=function(t,o){function i(o){var s=void 0,l=void 0,c=void 0;e.forEach(o,function(o){(l=a(o)).isPage&&(c=e.findIndex(t,{id:r(o.link.pageId)}))>-1&&(s=t[c],n[c]=y(o,s)),o.items.length>0&&i(o.items)})}var n=[];return i(o),e.compact(n)}(e.reject(E.getSpecialPagesListBySectionPageOrBySibling(n,l,i),e.partial(t.utils.tpaTypeUtils.isPageNotVisibleInPagesMenu,n.dsRead)),o);c.apply(s.items,p)}),d}var E=t.utils.menuLogic,C=/Link$/,T=o.translate("Pages_Menu_Add_New_Page"),I=o.translate("Pages_Menu_Add_New_Link"),_=o.translate("Pages_Menu_Add_New_Category");return{getExtendedMenuItemsTree:function(t,o){o=o||n.documentServices.pages.getPagesData();var i=e.keyBy(o,"id"),r=S(),a=s(t.items,i,function(e,t){return!t||!E.isSpecialPage(n,t,r)});return a.multiplePagesInMenu=a.pagesCount>1,a},duplicateMenuItem:g,moveMenuItem:c,canDuplicate:function(e){return e.type.isPage&&e.pageData?n.pages.isDuplicable(e.pageData.id):e.type.isDropdown||e.type.isLink},removeMenuItem:function(e,t,o){if(t.pageData)if(o){var i=n.documentServices.pages.getFocusedPageId();n.pages.remove(t.pageData.id,function(){n.history.add("removing a page",{currentPage:i})})}else n.panelManager.openPanel("panels.messagePanels.deleteLastPageMessage",{isLastPage:!0},!0);else n.pages.navigateTo(n.homePage.get(),function(){n.documentServices.menu.removeItem(e,t.id,!0),n.history.add("removing menu item")})},updateLink:function(e,t,o){b(function(o){n.documentServices.menu.updateItem(e,t.id,{link:o}),n.history.add("updating menu link")},o)},renamePage:h,addPage:function(t,o,i){var r=void 0,a=void 0,s=void 0,l=n.pages.add(T);return n.documentServices.waitForChangesApplied(function(){r=n.menu.getById(t),s=r.items,a=p("#"+l.id,s),u(r,a.id,o,function(){n.history.add("adding new page",{actionType:"addPage",nextPage:l.id}),n.pages.navigateTo(l.id,e.partial(i,a.id,l.id))})}),l},addLink:function(e,t,o){b(function(i){var r=void 0,a=n.documentServices.menu.addItem(e,{link:i,label:I});n.documentServices.waitForChangesApplied(function(){u(r=n.menu.getById(e),a,t,function(){o(a),n.history.add("adding new link")})})})},addFolder:function(e,t,o){var i=void 0,r=n.documentServices.menu.addItem(e,{label:_,link:null});n.documentServices.waitForChangesApplied(function(){u(i=n.menu.getById(e),r,t,function(){o(r),n.history.add("adding new page header")})})},getMenuItemsForIdeTree:P}}return{create:n}}),define("rEditor/app/APISections/addPanelAPI",["lodash","util"],function(e,t){"use strict";function o(o,n){var r=function(){var o=["addPanelInfra","addPanel"],n=t.languages.getLanguageCode(),r=n&&"addPanelSections"+n.toUpperCase();return n&&"en"!==n.toLowerCase()&&!e.includes(i,n)?o.concat(r):o}();require(r,function(e,t,i){o.addPanelInfra=e,i&&t.sections.applyTranslatedSections(i),n({registerToOverrideSectionItemsForCategory:function(t,o){e.addPanelData.manager.override.sections.register(t,o)},registerOverrideCategoryAttributes:function(t,o,i){e.addPanelData.manager.override.attributes.register(t,o,i)},registerToAddSectionAtTheStartOfCategory:function(t,o){e.addPanelData.manager.start.register(t,o)},registerToAddSectionAtTheEndOfCategory:function(t,o){e.addPanelData.manager.end.register(t,o)},getCategory:function(t){return e.addPanelData.getCategory(o,t)},getSectionsByComponentType:function(t,i){return e.addPanelData.getSectionsByComponentType(t,i,o)},getDesignPanelTitleByComp:function(t,i){return e.addPanelData.getDesignPanelTitleByComp(t,i,o)}})})}var i=["cs","hi"];return{loadAndCreate:o}}),define("rEditor/app/APISections/selection",["lodash","util","constants","stateManagement","coreBi","experiment"],function(e,t,o,i,n,r){"use strict";function a(a){function s(t){var o=v(t);(function(t){var o=a.store.getState(),i=g(o),n=t&&1===t.length&&t[0],r=m(o),s=r&&1===r.length&&r[0];return i&&!e.isEqual(s,n)&&e.isEqual(n,i)})(t)&&a.panelManager.closeAllPanelsOfType("compPanelFrame");var n=function(t){var o=a.store.getState,n=m(o()),r=e.has(t,["selectedComponents"])&&!e.isEqual(n,t.selectedComponents);if(r){var s=a.getCompRestrictions(t.selectedComponents);V(i.editorPlugins.selection.actions.selectComponents(t.selectedComponents,s))}return r}({selectedComponents:t});if(V(b(o)),n){var r=a.pluginService.getPlugin("selection","*");e.isFunction(r)&&r(t)}}function u(t){return e.includes(["DEFAULT","HOVER"],t.type)}function f(t){return a.components.is.focusable(t)||function(t){var o=a.components.modes.getModes(t);return!e.isEmpty(o)&&e.every(o,u)}(t)}function v(t){if(t&&t.length>=2&&!function(t,o){var i=o.getContainer(e.head(t));return e(t).tail().every(function(t){return e.isEqual(o.getContainer(t),i)})}(t,a.components))return null;for(var o=e.head(t);o&&!f(o);)o=a.components.getContainer(o);return o}function S(e,t){return G(e)?t.button===W?null:U(e):(a.closeCompPanelIfExists(),L(e))}function P(e,o){a.closeCompPanelIfExists();var i=a.utils.getParentIfCompCanBeSelected(e);i&&(e=i),t.ravenUtils.breadcrumb("clicked on compononet",{compToBeSelected:e,isLeftClick:o}),B(e),o&&a.openFirstTimePanel(e)}function E(t){var o=function(e){return a.utils.findAncestorMatchesCondition(e,a.components.is.selectedBeforeDescendants)}(t),i=o?e(o).thru(E).flatten().value():[];return e.compact([o].concat(i))}function C(t,o){function i(e){return o&&a.components.isDescendantOfComp(o,e)}if(G(t))return t;var n=E(t);if(0===n.length)return t;var r=e.head(n),s=e.last(n);if(i(r))return t;return i(s)?r:s}function T(e){return e.shiftKey||j.isSpecialKeyPressed(e)}function I(t){var i=a.components.getType(t);return e.includes(o.MULTISELECT.SINGLE_SELECTION_COMPONENT_TYPES,i)||a.components.layout.isShowOnFixedPosition(t)||!a.components.is.multiselectable(t)}function _(e){Y=e}function O(t,o){var i={x:t,y:o},n=a.documentServices.pages.getReference(a.documentServices.pages.getFocusedPageId()),r=a.components.get.byType("wysiwyg.common.components.anchor.viewer.Anchor",n);return e.filter(r,function(e){var t=a.components.layout.getRelativeToScreenConsideringScroll(e);return t.y+=q.ANCHOR_OFFSET_TOP,i.x>=t.x&&i.x<=t.x+q.ANCHOR_WIDTH&&i.y>=t.y&&i.y<=t.y+q.ANCHOR_HEIGHT})}function M(e,t){var o={x:e,y:t},i=a.components.get.byXYRelativeToScreen(o.x,o.y,0,a.documentServices.pages.getFocusedPageId());return O(e,t).concat(i)}function w(e){var t=a.store.getState(),o=y(t,e),i=Q.get(e,o);return i||(i=M(o.clientX,o.clientY),Q.set(i,o)),i}function A(t){var o=w(t);if(e.isEmpty(o))return null;var i=0,n=o[i];if(n)for(var r=a.layouters.getParentCompWithOverflowHidden(n);a.components.is.group(n)||!a.components.is.selectable(n)||r&&!e.includes(e.map(o,"id"),r.id);)r=(n=o[++i])?a.layouters.getParentCompWithOverflowHidden(n):null;else for(;a.components.is.group(n)||!a.components.is.selectable(n);)n=o[++i];return n||null}function R(t){var o=A(t),i=e.head(N());if(!o)return null;if(o=C(o,i),r.isOpen("se_overlapping_highlights")&&!a.utils.isSameRef(o,i)){var n=function(t,o){var i=w(o);return i=e.filter(i,a.components.is.selectable),i=e.reject(i,function(o){return e.includes(["SITE_PAGES","PAGES_CONTAINER"],o.id)||a.utils.isPage(o)||e.isEqual(t,o)||"wysiwyg.viewer.components.Column"===a.components.getType(o)||a.components.is.descendantOfRepeaterItem(o)||a.components.is.group(a.components.getContainer(o))}),e.head(i)}(o,t);if(n&&function(e,t){var o=a.components.layout.getRelativeToScreenConsideringScroll(e),i=a.components.layout.getRelativeToScreenConsideringScroll(t),n=o.width*o.height,r=i.width*i.height;return function(e,t){return e.bounding.x<=t.bounding.x&&t.bounding.x+t.bounding.width<=e.bounding.x+e.bounding.width&&e.bounding.y<=t.bounding.y&&t.bounding.y+t.bounding.height<=e.bounding.y+e.bounding.height}(o,i)&&.7*n>=r}(o,n))return n}return o}function D(t,o){var i=o&&X||function(t){if(!r.isOpen("dragRepeatersByInnerElements"))return R(t);var o=A(t);if(!o)return null;var i=N(),n=C(o,e.head(i));return e.find(i,n)?o:n}(t);return Z&&i?Z:i}function k(t){var o=c(t);return o.length<=1||!function(t){return e.some(t,I)}(o)&&function(t){var o=a.components.getAncestorRepeaterItem(e.head(t));return!e.some(e.drop(t),function(e){var t=a.components.getAncestorRepeaterItem(e);return!(!t&&!o||a.utils.isSameRef(t,o))})}(o)}function x(t){return e.isEmpty(t)?[]:e.reject(t,function(o){var i=function(e){var t=a.components.getContainer(e);for(;t&&!a.components.is.group(t);)t=a.components.getContainer(t);return t}(o);return i&&!!e.find(t,i)})}function B(o){var i=c(o);if(!((i=e.uniqBy(i,"id")).length>30)&&(!(i.length>0)||a.components.is.selectable(i))&&k(i)){i=x(i),i=e.filter(i,a.documentServices.components.is.visible);var n=e.find(a.panelManager.getOpenPanels(),{name:z});e.size(i)<2&&n&&a.panelManager.closePanelByName(z),a.components.layout.isPinned(i)?t.keyboardShortcuts.setContext(t.keyboardShortcuts.CONTEXTS.PIN_MODE):t.keyboardShortcuts.getContext()===t.keyboardShortcuts.CONTEXTS.PIN_MODE&&t.keyboardShortcuts.setContext(t.keyboardShortcuts.CONTEXTS.EDITOR),s(i)}}function L(e){var t=c(e),o=N()||[],i=o.concat(t);return i.length>1&&a.bi.event(n.events.selection.MULTISELECT,{num_of_elements_selected:i.length,selection_method:"keyboard"}),B(i),o}function N(){var e=a.store.getState();return m(e)}function F(){var t=N(),o=void 0,i=void 0;a.components.layout.containsSiblingsOnly(t)&&G()?a.components.is.siteSegment(t)||function(e){var t=d.getCompTypeSuffix(e,a.documentServices);return"Page"===t||"AppPage"===t}(t)?o=a.components.getChildren(t):(i=function(t){var o=a.components.getSiblings(t);return e.reject(o,function(e){return a.components.is.siteSegment(e)})}(t),o=t.concat(i)):o=(t||[]).concat(a.components.getChildren(a.pages.getFocusedPage())),e.isEmpty(o)||(a.closeCompPanelIfExists(),o.length>1&&a.bi.event(n.events.selection.MULTISELECT,{num_of_elements_selected:o.length,selection_method:"keyboard"}),B(o))}function U(o){t.keyboardShortcuts.getContext()===t.keyboardShortcuts.CONTEXTS.PIN_MODE&&t.keyboardShortcuts.setContext(t.keyboardShortcuts.CONTEXTS.EDITOR);var i=!o,n=c(o),r=N();B(e.reject(r,function(t){return i||e.some(n,t)}))}function G(t){var o=N();if(e.isEmpty(t))return!e.isEmpty(o);var i=c(t);return e.every(i,function(t){return e.some(o,t)})}function H(e){V(h(e))}var V=a.store.dispatch,z="compPanels.panels.MultiSelect.layoutPanel",W=2,q=o.UI,j=t.browserUtil,Y=!1,K=!1,X=null,Z=null,Q=function(){function e(e,t){return{clientX:e.clientX,clientY:e.clientY,timeStamp:t}}var o={timeStamp:-p.TIME_DELTA},i=null;return{get:function(n,r){return function(e){if(e.timeStamp-o.timeStamp>p.TIME_DELTA)return!1;var t=e.clientX-o.clientX,i=e.clientY-o.clientY;return t*t+i*i<p.DIST_SQR}(e(r,n.timeStamp||t.performance.now()))?i:null},set:function(n,r){o=e(r,t.performance.now()),i=n}}}();return{isMultiSelectKeyPressed:T,isSingleSelectionComponent:I,setIsMouseUpSelectionEnabled:_,getIsMouseUpSelectionEnabled:function(){return Y},setIsHiddenComponentDraggedNext:function(e){K=!!e},isHiddenComponentDraggedNext:function(){return K},isComponentExplicitlySelected:function(){return null!==X},getAnchorsUnderClick:O,getComponentsByXY:M,getComponentsUnderClick:w,getNonGroupCompUnderCursor:A,getComponentUnderClickToBeSelected:R,getComponentToBeMarkedByHoverBox:D,selectComponentByClick:function(e){var t=R(e);Z&&t&&Z.id!==t.id?(t=Z,X=null):X=t;var o=G(t),i=N(),n=e.button!==W;if(t)if(T(e)&&!o)S(t,e),H(null);else{if(!l(i)){var r=a.components.layout.isShowOnFixedPosition(t),s=void 0,c=a.store.getState(),p=y(c,e);if(r)s={x:p.clientX,y:p.clientY};else{var d=a.ui.scroll.getScroll();s={x:p.clientX+d.scrollLeft,y:p.clientY+d.scrollTop}}H(s)}if(o)return void _(!0);P(t,n)}else U()},selectNonGroupCompUnderCursor:function(e){var t=A(e);t=t&&Z?Z:t;var o=e.button!==W;return G(t)?null:T(e)?S(t):P(t,o)},selectComponentByCompRef:B,addComponentToSelectionByRef:L,getSelectedComponentId:function(){var t=e.head(N());return e.get(t,"id")},getSelectedComponents:N,getParentToFocus:function(e){return v(e)},getSelectedComponentType:function(){var t=N();return e.isEmpty(t)?null:d.getCompTypeSuffix(e.head(t),a.documentServices)},selectAll:F,getSelectedComponentData:function(){var e=N();return e?a.components.data.get(e):null},deselectComponents:U,isComponentSelected:G,isSelectedCompUnderCursorAndBeneathSiteSegment:function(t,o){var i=w(o),n=a.documentServices.pages.getReference(a.documentServices.pages.getPrimaryPageId()),r=a.siteSegments.getRefs().concat(n),s=e.findIndex(i,function(t){return e.some(r,t)});return-1!==s&&e.some(t,function(t){return e.some(i,function(o,i){return e.isEqual(t,o)&&i>s})})},setModalComponent:function(e){Z=e}}}var s=t.array,l=s.isMultiselect,c=s.asArray,p={TIME_DELTA:400,DIST_SQR:5},d=i.editorPlugins.components.selectors,u=i.editorPlugins.selection.selectors,m=u.getSelectedCompsRefs,g=u.getFocusedContainer,f=i.editorPlugins.selection.actions,h=f.setLastSelectionClickPos,b=f.setFocusedContainer,y=i.editorPlugins.domMeasurements.selectors.translateToViewerCoordinates;return{create:a}}),define("rEditor/app/APISections/databaseEditor",["lodash","experiment"],function(e,t){"use strict";return{create:function(o){function i(e,i,n){o.panelManager.openPanel("compPanels.panels.AppPart2.databaseEditorPanel",{selectedComponentType:n,listId:e,compRef:i,autoSave:!t.isOpen("disableDbEditorAutoSave")})}function n(){o.panelManager.openPanel("savePublish.panels.common.failPanel",{titleKey:"PUBLISH_ERROR_TITLE_LABEL",description:"SAVE_PUBLISH_ERROR_BODY_DESCRIPTION",steps:["SAVE_PUBLISH_ERROR_OPTION_1","SAVE_PUBLISH_ERROR_OPTION_2"],helpMessage:"SAVE_ERROR_LEARN_MORE_LABEL",helpLinkMessage:"SAVE_PUBLISH_ERROR_LEARN_MORE_LINK",helpLink:"http://www.wix.com/"})}return{openDatabaseEditor:function(r,a){var s=o.selection.getSelectedComponentType();!t.isOpen("disableDbEditorAutoSave")&&o.documentServices.generalInfo.isFirstSave()?o.saveManager.saveInBackground(e.partial(i,r,a,s),n):i(r,a,s)}}}}}),define("rEditor/app/APISections/welcomeScreensWrapper",["lodash","util","stateManagement","coreBi","experiment"],function(e,t,o,i,n){"use strict";function r(e){return"na"===e}function a(e){var t=e.account.getEditorVersionsInfo();return!!t&&t.isEligibleForSwitch&&(e.compatibility.hasOldApp()||e.compatibility.hasAppPage())}function s(e){var t=e.account.getEditorVersionsInfo(),o=!1===window.editorModel.firstSave&&!1===t.isEligibleForSwitch;return t&&!t.isNewUser&&!o}function l(e,o){p(e,e.account.getEditorVersionsInfo().isEligibleForSwitch?"START_NOW_CLICK_WITH_BACK_OPTION":"START_NOW_CLICK_WITHOUT_BACK_OPTION",o),t.cookie.setUserPetriOverrideCookie("SantaEditorUserOverride","new")}function c(e,o){p(e,"BACK_TO_OLD_EDITOR_CLICK",o),t.cookie.setUserPetriOverrideCookie("SantaEditorUserOverride","old"),t.windowInteractionUtils.reloadPageWithoutQuestion()}function p(e,t,o){var n=i.events.newEditorWelcomeScreens[t],r={site_id:e.documentServices.generalInfo.getSiteId()};n.fields.duration&&(r.duration=Date.now()-o),e.bi.event(n,r)}function d(e){if(!s(e))return!1;var t=e.account.getEditorVersionsInfo(),o="new"===t.userOverride,i="old"===t.userOverride&&t.isEligibleForSwitch;return!o&&!i}function u(t){return s(t)&&function(t){return e(t.components.get.byType("wixapps.integration.components.AppPart2")).map(t.components.data.get).map("appPartName").map(t.documentServices.wixapps.appbuilder.data.lists.getListVersion).some(function(e){return!e||"1.0"===e})}(t)}function m(e){e.panelManager.openPanel("panels.focusPanels.newUserIntroVideoPanel",{linkedVideoData:P,title:t.translate("Intro_video_new_user_dialog_title"),subtitle:t.translate("Intro_video_new_user_dialog_sub_heading"),buttonLabel:"Intro_video_new_user_button"})}function g(e){var t=e.account.getEditorVersionsInfo(),o=u(e);e.panelManager.openPanel("panels.focusPanels.newEditorWelcomeScreenPanel",{isEligibleForSwitch:t.isEligibleForSwitch,onNextClick:o?f.bind(this,e):l.bind(this,e,Date.now()),nextBtnLabel:o?"Notification_Box_Next":"Notification_Box_Start_Now",onBackClick:c.bind(this,e,Date.now())})}function f(e){var t=e.account.getEditorVersionsInfo();e.panelManager.openPanel("panels.focusPanels.newEditorListWelcomeScreenPanel",{isEligibleForSwitch:t.isEligibleForSwitch,onNextClick:l.bind(this,e,Date.now()),onBackClick:c.bind(this,e,Date.now())})}function h(i){var a=i.documentServices.siteName.getUsed(),s=!a||0===a.length,l=!!o.editorPlugins.userPreferences.selectors.getGlobalUserPreferences("didPassNewUserVideoCheck")(i.store.getState());return P=t.translate(n.isOpen("se_changeWelcomeVideo")?"Intro_video_new_user_video_link_new":"Intro_video_new_user_video_link"),!l&&!r(P)&&(i.store.dispatch(o.editorPlugins.userPreferences.actions.setGlobalUserPreferences("didPassNewUserVideoCheck",!0)).catch(e.noop),s&&!o.editorPlugins.userPreferences.selectors.getGlobalUserPreferences(E)(i.store.getState()))}function b(e){var t=o.editorPlugins.userPreferences.selectors.getGlobalUserPreferences("didPassNewFeaturesVideoCheck")(e.store.getState());return!(!n.isOpen("newFeaturesIntroVideo")||t)&&(!s(e)&&function(e){var t=e.account.getEditorVersionsInfo(),o=e.documentServices.siteName.getUsed(),i=!o||0===o.length;return t&&"old"!==t.userOverride&&!i}(e))}function y(e){return C=t.translate("Notification_Box_ADI_Migration_URL"),e.documentServices.generalInfo.isSiteFromOnBoarding()&&!o.editorPlugins.userPreferences.selectors.getGlobalUserPreferences(E)(e.store.getState())&&!r(C)}function v(i){i.store.dispatch(o.editorPlugins.userPreferences.actions.setGlobalUserPreferences("didPassNewFeaturesVideoCheck",!0)).catch(e.noop),i.panelManager.openPanel("panels.focusPanels.newFeaturesVideoPanel",{linkedVideoData:t.translate("Notification_Box__video_url_EN"),title:t.translate("Notification_Box_New_Editor_Features_Title"),subtitle:t.translate("Notification_Box_New_Editor_Features_Subtitle"),buttonLabel:"Intro_video_new_user_button"})}function S(i){i.store.dispatch(o.editorPlugins.userPreferences.actions.setGlobalUserPreferences(E,!0)).catch(e.noop),i.panelManager.openPanel("panels.focusPanels.cameFromADIVideoPanel",{linkedVideoData:C,title:t.translate("Notification_Box_ADI_Migration_Title"),subtitle:t.translate("Notification_Box_ADI_Migration_Subtitle"),buttonLabel:"Notification_Box_ADI_Migration_Button"})}var P=void 0,E="didPassCameFromADIVideo",C=void 0;return{initWelcomeScreen:function(o){var i=[{shouldShow:y,show:S},{shouldShow:h,show:m},{shouldShow:b,show:v},{shouldShow:a,show:function(){o.panelManager.openPanel("panels.focusPanels.editorMigrationFailedPanel",{})}},{shouldShow:d,show:g},{shouldShow:u,show:f},{shouldShow:function(){return!0},show:e.noop}],n="true"===t.url.getParameterByName("disableWelcomeScreen");o.wixStores.isSiteInWixStoreTestDrive()||n||e.find(i,function(e){return e.shouldShow(o)}).show(o)}}}),define("rEditor/app/APISections/copyPasteWrapper",["lodash","core","experiment","rEditor/app/serializedComponentPlugins","boxSlideshow","constants","stateManagement"],function(e,t,o,i,n,r,a){"use strict";function s(s){function c(e){var t={compRef:e};if(s.components.canBeMasterChild(e)){var o=_.getSlideShowParent(s,e),i=_.getSlideShowSlideParent(s,e);if(i){t.originalParent=i,t.originalGrandParent=o;var n=s.components.layout.getRelativeToStructure(e),r=s.components.layout.getRelativeToStructure(i);t.relativeToParentPosition={x:n.x-r.x,y:n.y-r.y}}}return t}function p(t,o){if(t.originalGrandParent&&s.components.is.slidesContainer(t.originalGrandParent)){var i=s.components.get.byXYRelativeToStructure(o.x,o.y);return!!e.find(i,t.originalGrandParent)}return!1}function d(t,i,n){if(p(t,i))return _.findCurrentSlide(s,t.originalGrandParent);if(o.isOpen("se_pasteBehaviorFix")){var r=(w=new M(s,{comp:t.serializedComp,layout:e.pick(n,["width","height"])},M.TYPES.STRUCTURE)).getCurrentAttachCandidate(n),a=r.candidateRef;return r.candidateStatus===M.ATTACH_CANDIDATE_STATUSES.INVALID?s.pages.getPrimaryContainer():a}return null}function u(t,o){return p(t,o)?e.isEqual(_.findCurrentSlide(s,t.originalGrandParent),t.originalParent)?null:t.relativeToParentPosition:null}function m(t){return e.has(t,"x")&&e.has(t,"y")}function g(t){return e.includes(I,t)}function f(t,o){var n=s.ui.scroll.getScroll(),r=s.pages.getPrimaryContainer().id,a=[],l=s.components.asArray(e.cloneDeep(t.components)),c=s.documentServices.siteSegments.getPagesContainer(),p=s.components.layout.getRelativeToScreen(c);o=m(o)?o:null;var f=s.pasteLogic.pasteContext.getPastePosition(s,t.snugLayoutRelativeToStructure,r);return f.x-=n.scrollLeft,f.y-=n.scrollTop,e.forEach(l,function(t){var l=t.serializedComp,c=g(l.componentType),m=s.documentServices.pages.getReference(c?s.pages.getMasterPageId():r),b=e.clone(o||f),y=function(e,t,o,i){var n=void 0;if(!o)return n={x:t.x,y:t.y,width:e.layout.width,height:e.layout.height};if(n={x:o.x,y:o.y-e.layout.height,width:e.layout.width,height:e.layout.height},"Container"===e.type&&(n.y=o.y-O),!s.utils.isPage(i)){var r=s.components.layout.getRelativeToScreenConsideringScroll(i);n.x-=r.x,n.y-=r.y}return n}(l,b,o,m),v=void 0,S=d(t,f,y),P=s.utils.isPage(S);if(e.isEqual(S,m)&&P)b.x=y.x-p.x+n.scrollLeft,b.y=y.y-p.y+n.scrollTop;else{var E=s.components.layout.getRelativeToScreenConsideringScroll(S);b.x=y.x-E.x,b.y=y.y-E.y,s.components.is.fullWidth(S)&&(b.x-=p.x),m=S}var C=e.clone(b);l.layout.x=C.x+t.positionRelativeToSnug.x,l.layout.y=C.y+t.positionRelativeToSnug.y;var T=u(t,f);T&&(l.layout.x=T.x,l.layout.y=T.y),l=i.runPastePluginOnSerializedComponent(l,s),s.components.is.containableByStructure(l,m)&&(v=h(m,l),a.push({originalPointer:t.compRef,newPointer:v}))}),a}function h(e,t){return s.addComponentPlugins[t.componentType]?s.addComponentPlugins[t.componentType](s,e,t):s.components.add(e,t,t.id)}function b(e){e.styleId&&(e.previousStyleId=e.styleId)}function y(t,n){var r=void 0;r=o.isOpen("se_pasteBehaviorFix")?s.components.layout.getRelativeToScreen(t):s.components.layout.getRelativeToStructure(t);var a=s.pages.getPrimaryContainer();if(!s.utils.isPage(a)){var l=s.components.layout.getRelativeToScreen(a);r.x-=l.x,r.y-=l.y}s.pasteLogic.pasteContext.setPasteData(r,a.id,s.ui.scroll.getScroll());var p={snugLayoutRelativeToStructure:r,components:e.map(t,function(t){var a=s.components.data.get(t),l=null;o.isOpen("se_multilingual")&&(l={id:a.id,type:"data",useOriginalLanguage:!0});var p=s.components.serialize(t,l,!1,n,null,b);S(t,p);var d=void 0;d=o.isOpen("se_pasteBehaviorFix")?s.components.layout.getRelativeToScreen(t):s.components.layout.getRelativeToStructure(t),p=i.runCopyPluginOnSerializedComponent(p,t,s);var u=c(t);return e.merge({serializedComp:p,positionRelativeToSnug:{x:d.x-r.x,y:d.y-r.y},isShowOnAllPages:s.components.isShowOnAllPages(t)},u)})},d=function(t){if(t&&t.length>0){var o=s.components.modes.getFirstAncestorWithActiveModes(e.head(t)),i=e.curry(e.isEqual)(o);if(e(t).tail().map(s.components.modes.getFirstAncestorWithActiveModes).every(i))return o}}(t);return d&&(p.containerWithModes=d),p}function v(t){var n=s.pages.getPrimaryContainer().id,r=s.documentServices.siteSegments.getPagesContainer(),a=s.documentServices.siteSegments.layout.get(r),l=s.ui.scroll.getScroll();return e.map(t,function(t){var r=s.components.serialize(t);S(t,r);var p=function(e,t,o,i,n){var r=s.documentServices.components.get.byId(t),a=s.utils.isPage(r),l=s.components.layout.getRelativeToStructure(e).bounding;if(!a){var c=s.components.layout.getRelativeToStructure(r).bounding;l.x-=c.x,l.y-=c.y}s.pasteLogic.duplicateContext.setPasteData(l,t,o);var p=s.pasteLogic.duplicateContext.getPastePosition(s,l,t);g(i)||(p.y-=n.y);return p}(t,n,l,r.componentType,a);r.layout.x=p.x,r.layout.y=p.y,r=i.runCopyPluginOnSerializedComponent(r,t,s),r=i.runPastePluginOnSerializedComponent(r,s);var u=function(t,i,n,r){var a=g(i.componentType),l=s.documentServices.pages.getReference(a?s.pages.getMasterPageId():t),p=e.merge({serializedComp:i},c(n));if(o.isOpen("se_pasteBehaviorFix"))return l;var u=d(p,r);u&&(l=u);return l}(n,r,t,p);return s.components.add(u,r)})}function S(t,o){if("system"===e.get(o,"style.styleType")){var i=s.components.style.getId(t);i&&(o.style=i)}}function P(e,t){if(e){var o=s.components.asArray(e);if(o=s.components.getComponentsWhichDontHaveAncestorsInTheArray(o),function(e){return s.components.is.duplicatable(e)}(o)){var i=y(o,t);s.clipboard.setItem(r.EDITOR_CLIPBOARD_TYPES.COMPONENT,i)}else s.isMobileEditor()&&s.openCantCopyPastePanel()}}function E(t,n){var c=T(),p=s.store.getState(),b=a.editorPlugins.selection.selectors.getSelectedCompsRefs(p),y=s.clipboard.getItem(r.EDITOR_CLIPBOARD_TYPES.COMPONENT);if(function(t){if(e.isEmpty(t))return!1;var o=s.isMobileEditor(),i=s.documentServices.pages.getPrimaryPageId(),n=s.documentServices.pages.isLandingPage(i),r=e.some(t.components,"isShowOnAllPages");return!(o||n&&r)}(y)){s.panelManager.closeAllPanels();var v=void 0;v=o.isOpen("se_pasteBehaviorFix")?f(y,t):function(t,o,n){var r=s.documentServices.pages.getFocusedPageId(),a=[],l=s.components.asArray(e.cloneDeep(t.components)),c=s.documentServices.siteSegments.getPagesContainer(),p=s.documentServices.siteSegments.layout.get(c);o=m(o)?o:null;var f=s.pasteLogic.pasteContext.getPastePosition(s,t.snugLayoutRelativeToStructure,r);return e.forEach(l,function(t){var l=t.serializedComp,c=g(l.componentType),m=s.documentServices.pages.getReference(c?s.pages.getMasterPageId():r),b=void 0,y=d(t,f);if(y){var v=s.components.layout.getRelativeToStructure(y);(o=o||{}).x=f.x-v.x,o.y=f.y-v.y,m=y}var S=e.clone(o),P=e.clone(f);S?c&&(S.y+=p.y):(c||(P.y-=p.y),S=P),l.layout.x=S.x+t.positionRelativeToSnug.x,l.layout.y=S.y+t.positionRelativeToSnug.y,n&&(l.layout.x-=l.layout.width/2,l.layout.y-=l.layout.height/2);var E=u(t,f);E&&(l.layout.x=E.x,l.layout.y=E.y),l=i.runPastePluginOnSerializedComponent(l,s),s.components.is.containableByStructure(l,m)&&(b=h(m,l),a.push({originalPointer:t.compRef,newPointer:b}))}),a}(y,t,n);var S=e.map(v,"newPointer");l(p)||s.documentServices.waitForChangesApplied(function(){s.selection.selectComponentByCompRef(S),s.openFirstTimePanel(S),c&&s.updateState({applyModeFromClipboardSuggestion:{selectedComponents:S,container:b}})}),s.waitForChangesApplied(function(){o.isOpen("se_multilingual")&&e.forEach(v,function(e){var t=e.originalPointer,o=e.newPointer;return s.documentServices.language.copyTranslationData(t,o)}),function(t){e.forEach(s.afterPasteComponentCallbacks,function(e){e(s,t)})}(S)})}else s.isMobileEditor()&&s.openCantCopyPastePanel()}function C(){s.updateState({applyModeFromClipboardSuggestion:void 0})}function T(){var t=s.clipboard.getItem(r.EDITOR_CLIPBOARD_TYPES.COMPONENT);if(t&&t.containerWithModes){var o=s.components,i=s.store.getState(),n=a.editorPlugins.selection.selectors.getSelectedCompsRefs(i);if(n&&1===n.length){var l=n[0];if(e.isEqual(l,t.containerWithModes)){var c=o.modes.getModes(l);if(c&&c.length>0){var p=o.modes.getComponentActiveModeIds(l);if(1===e.size(p)){var d=e.keys(p)[0],u=e(c).reject({modeId:d}).map("modeId").value();return e(t.components).map("compRef").every(function(t){return e.some(u,function(e){return o.modes.isComponentDisplayedInModes(t,[e])})&&!o.modes.isComponentDisplayedInModes(t,[d])})}}}}}return!1}var I=["wysiwyg.viewer.components.tpapps.TPAGluedWidget"],_=n.utils.boxSlideShowUtils,O=48,M=t.utils.AttachHandler,w=void 0;return{copy:P,paste:E,hideApplyModeFromClipboardSuggestion:C,canApplyModeFromClipboard:T,removePastedComponentAndApplyModeFromClipboard:function(){var e=s.store.getState(),t=a.editorPlugins.applyModeFromClipboard.selectors.selectApplyModeFromClipboardSuggestion(e),o=t.container;C(),s.components.remove(t.selectedComponents),s.documentServices.waitForChangesApplied(function(){s.copyPaste.applyModeFromClipboard(o)})},applyModeFromClipboard:function(t){var o=s.clipboard.getItem(r.EDITOR_CLIPBOARD_TYPES.COMPONENT),i=e.map(o.components,function(e){return{compRef:e.compRef,compDefinition:e.serializedComp}});if(t&&1===t.length){var n=s.components,a=t[0];if(e.isEqual(a,o.containerWithModes)){var l=n.modes.getModes(a);if(l&&l.length>0){var c=n.modes.getComponentActiveModeIds(a);if(1===e.size(c)){var p=e.keys(c)[0];n.modes.applyComponentToMode(i,p);var d=e.map(i,"compRef");s.documentServices.waitForChangesApplied(function(){s.selection.selectComponentByCompRef(d)})}}}}s.history.add("apply mode from clipboard"),s.tabIndicationState.activateApplyAnimation(!0)},duplicate:function(t){if(e.isEmpty(t))return[];s.panelManager.closeAllPanels();var o=s.selection.getSelectedComponents(),i=s.components.asArray(t),n=s.components.getType(o);if(s.duplicatePlugins[n])return s.duplicatePlugins[n](o);o=s.components.getComponentsWhichDontHaveAncestorsInTheArray(o),i=s.components.getComponentsWhichDontHaveAncestorsInTheArray(i);var r=s.components.getContainer(t);if(!s.components.is.duplicatable(i,r))return[];e.isEqual(i,o)&&s.selection.deselectComponents();var a=v(i);return s.documentServices.waitForChangesApplied(function(){s.selection.selectComponentByCompRef(a),s.openFirstTimePanel(a)}),a}}}var l=a.editorPlugins.mouseActions.selectors.isPerformingMouseMoveAction;return{create:s}}),define("rEditor/app/APISections/wixStoresFlowAPI",["lodash","util"],function(e,t){"use strict";return{create:function(){return{isSiteInWixStoreTestDrive:function(){return e.includes(t.editorModel.metaSiteFlags,"EComTestDrive")}}}}}),define("rEditor/app/APISections/editorUI",[],function(){"use strict";return{create:function(e){return{scroll:{getScroll:function(){return e.scroll.get()},setScroll:function(t){return e.scroll.scrollTo(t)},animateScroll:function(t,o,i){e.scroll.animateScrollTo(t,o,i)},addListener:function(t){return e.scroll.addScrollListener(t)},removeListener:function(t){return e.scroll.removeScrollListener(t)}},stage:{getEditingAreaLayout:function(){return e.getEditingAreaPosition()},getMobileFrameLayout:function(){return e.getMobileFramePosition()}},focus:{setOnEditor:function(){e.setFocus()}}}}}}),define("rEditor/app/APISections/wixCode",["lodash","constants","stateManagement"],function(e,t,o){"use strict";function i(i){function n(n){function r(){i.savePublish.unlockSavePublish(),n()}function a(){i.toggleEditorStateParam(s,t.PROGRESS_STATUS.IDLE)}var s="previewingStatus";i.wixCode.isLoaded()?(i.savePublish.lockSavePublish(),i.toggleEditorStateParam(s,t.PROGRESS_STATUS.IN_PROGRESS),i.wixCode.console.clear(),i.wixCode.fileSystem.flush().then(function(){!function(t){var n=o.editorPlugins.dynamicPages.selectors.getRouterId(i.store.getState());n?function(o){var n=i.data.createItem("DynamicPageLink");e.assign(n,{innerRoute:o.innerRoute||"/",routerId:o.routerId}),i.pages.navigateTo(n,t)}({innerRoute:o.editorPlugins.dynamicPages.selectors.getSelectedInnerRoute(i.store.getState()),routerId:n}):t()}(function(){a(),r()})}).catch(function(){i.panelManager.openPanel("savePublish.panels.common.failPanel",{titleKey:"WixCode_PreviewSaveFail_Title",description:"SAVE_PUBLISH_ERROR_BODY_DESCRIPTION",stepsTitle:"SAVE_PUBLISH_ERROR_BODY_DESCRIPTION_BOLD",steps:["SAVE_PUBLISH_ERROR_OPTION_1","WixCode_PreviewSaveFail_Step2_Text","WixCode_DeveloperModeFail_Step3_Text"],helpMessage:"WixCode_PreviewSaveFail_Learn_More_Label",helpLinkMessage:"WixCode_PreviewSaveFail_Learn_More_Link",helpLink:"",errorCode:"1234"}),i.savePublish.unlockSavePublish(),a()})):r()}var r="wixCodeLoaded";return{isLoaded:function(){return i.store.getState()[r]},setLoaded:function(){i.toggleEditorStateParam(r,!0)},prepareBeforePreview:n}}return{create:i}}),define("rEditor/app/APISections/columns",["lodash","stateManagement","rEditor/app/serializedComponentPlugins"],function(e,t,o){"use strict";function i(t){function i(o){return o.components=e.reject(o.components,t.components.is.fullWidthByStructure),e.forEach(o.components,i),o}function r(t){var o=e.sum(t);return e.map(t,function(e){return 100*e/o})}function a(o){var i=e(o).thru(t.components.getChildren).keyBy("id").mapValues(t.components.layout.get).mapValues("width").value(),n=e.reduce(i,function(e,t){return e+t},0);return e.mapValues(i,function(e){return Math.round(100*e/n)})}function s(o,i,n){var a=l(o),s=t.components.getChildren(o);i=function(t){var o=980/e.sum(t);return e.map(t,function(e){return e*o})}(i),e.forEach(s,function(e,o){t.components.layout.update(e,{width:i[o]},!0)});m(s,a,r(i)),n||t.history.add("Change Columns Proportions")}function l(o){var i=t.components.getChildren(o);return r(e(i).map(t.components.layout.get).map("width").value())}function c(n){var a=e(n).thru(t.components.serialize).thru(i).value(),c=t.components.getContainer(n),p=t.components.getChildren(c);if(p.length!==h&&!P){P=!0;var d=e.findIndex(p,n)+1,u=l(c);u.splice(d,0,u[d-1]);var g=r(u);a=o.runCopyPluginOnSerializedComponent(a,n,t),a=o.runPastePluginOnSerializedComponent(a,t);var f=t.components.add(c,a);return t.documentServices.waitForChangesApplied(function(){!function(o,i,n){e.isUndefined(i)||t.components.arrangement.moveToIndex(o,i,n)}(f,d,!0),function(e,o){t.components.getChildren(e).length===h&&s(e,b,o)}(c,!0);m(t.components.getChildren(c),u,g),P=!1,t.documentServices.waitForChangesApplied(function(){t.history.add("added column")})}),f}}function p(e){var o=n.getCompTypeSuffix(e,t.documentServices);return!!v[o]}function d(o){var i=t.components.getChildren(o);return e(i).reject(p).flatMap(d).union(i).value()}function u(e,o,i,n){var r=t.components.layout.getRelativeToStructure(o),a=r.x-e.x,s=r.width,l=t.components.is.resizable(o)?s*i:s,c={width:l};if(!t.components.is.group(o)){if(n===y.LEFT)c.x=a*i;else if(n===y.CENTER){var p=(a+s/2)*i;c.x=p-l/2}else{var d=(a+s)*i;c.x=d-l}c.x+=e.x;t.components.layout.updateRelativeToStructure(o,c,!0)}}function m(o,i,n){e.forEach(o,function(o,r){var a=function(e,t,o){var i=e[o],n=t[o];return i&&n?i/n:null}(n,i,r);if(a){var s=d(o),l=t.components.properties.get(o).alignment,c=t.components.layout.getRelativeToStructure(o);e.forEach(s,function(e){u(c,e,a,l)})}})}function g(e){return 1===t.components.getChildren(e).length}var f="compPanels.panels.StripColumnsContainer.managePanel",h=5,b=e.times(h,function(){return 1}),y={LEFT:0,CENTER:50,RIGHT:100},v={BoxSlideShow:!0,StripContainerSlideShow:!0},S={background:{type:"BackgroundMedia",mediaRef:null,alignType:"center",fittingType:"fill",color:"#FFFFFF",colorOpacity:0,colorOverlay:"",colorOverlayOpacity:1,imageOverlay:""}},P=!1;return{isColumn:function(e){return"wysiwyg.viewer.components.Column"===t.components.getType(e)},isStrip:function(e){return"wysiwyg.viewer.components.StripColumnsContainer"===t.components.getType(e)},isMultiColumnsStrip:function(e){return!g(e)},isSingleColumnStrip:g,addColumn:function(o){var i=t.components.getChildren(o),n=e.last(i);if(i.length!==h)return c(n)},duplicateColumn:c,removeColumn:function(o,i,n){var r=n||e.partial(t.documentServices.components.remove,o),s=t.components.getContainer(o),l=t.components.getChildren(s),c=a(s);return r(),new Promise(function(o){t.documentServices.waitForChangesApplied(function(){var i=a(s);e.forEach(i,function(o,i){var n=o/c[i],r=e.find(l,{id:i}),a=d(r),s=t.components.properties.get(r).alignment,p=t.components.layout.getRelativeToStructure(r);e.forEach(a,function(e){u(p,e,n,s)})}),1===e.keys(i).length&&t.components.design.update(s,S,void 0,!0),o()})})},canAdd:function(e){return t.components.getChildren(e).length<h},proportions:{set:s,get:l,flip:function(e){s(e,l(e).reverse())},toPercentages:r},columnAlignment:{set:function(e,o){t.components.properties.update(e,{alignment:o})},get:function(e){return t.components.properties.get(e).alignment}},move:{left:function(e){t.components.arrangement.moveBackward(e)},right:function(e){t.components.arrangement.moveForward(e)}},manage:{setManagedColumn:function(e,o){t.updateState({managedColumnPointer:e},o)},getManagedColumn:function(){var e=t.store.getState().managedColumnPointer;return e&&t.components.is.exist(e)?e:null},openPanel:function(o,i){e.isArray(i)&&(i=e.head(i)),i=i||e(o).thru(t.components.getChildren).head(),t.columns.manage.setManagedColumn(i,function(){t.selection.selectComponentByCompRef(o),t.panelManager.openComponentPanel(f,{selectedComponent:o})})},closePanel:function(){t.columns.manage.setManagedColumn(null,function(){t.panelManager.closePanelByName(f)})}}}}var n=t.editorPlugins.components.selectors;return{create:i}}),define("rEditor/app/APISections/pagesWrapper",["lodash","core","util","rEditor/utils/removeUtil","rEditor/app/updateOperationsPlugins","platform","constants","stateManagement"],function(e,t,o,i,n,r,a,s){"use strict";function l(l){function c(t,i){!function(t,i){o.keyboardShortcuts.enable(),e(l.pageNavigationCallbacks).concat(i).compact().forEach(function(e){e(t)})}(t,i),p(),o.fedopsLogger.interactionEnded(o.fedopsLogger.INTERACTIONS.NAVIGATE_TO_PAGE)}function p(){l.getPreviewMode()||(l.shouldUpdateEditorScrollAfterHeightUpdate=!0,l.applyPreviewScrollToEditorScroll())}function d(t,i){return e.reduce(t,function(t,n){return e.isObject(n)?(t.push(e.defaults(n,{category:i,id:n.event||n.title||n.type})),t):(t.push({title:o.translate(n),type:n,id:n,category:i}),t)},[])}function u(o){var i=o.style;e.isObject(o.style)&&(i=t.styleManager.getStyleIdByDef(l.theme,l.components,o.style,o.componentType)),i&&(o.style=i),e.forEach(o.components,function(e){u(e)})}function m(t,o){var i=t.pages.data.get(o);return e.get(i,"title")||""}function g(t,i){var n=l.documentServices.platform.editorApps.DATA_BINDING.appDefId,r=l.documentServices.platform.editorApps.SANTA_MEMBERS.appDefId;switch(t){case n:return o.translate("DYNAMIC_PAGES_APP_TYPE_DATA_BINDING");case r:var a=l.documentServices.platform.getAppManifest(r);return e.get(a,"routers.pagesGroups."+i+".label")}return o.translate("DYNAMIC_PAGES_APP_TYPE_CUSTOM_ROUTER")}function f(){return l.documentServices?l.documentServices.pages.getCurrentUrlPageId():null}function h(){var t=function(){var t=["type","name"],o=l.actions.getDefinition("load"),i=l.behaviors.getDefinition("openPopup");return{action:e.pick(o,t),behavior:e.pick(i,t)}}();return e(l.documentServices.pages.getPageIdList(!0)).map(e.ary(l.components.get.byId,1)).flatMap(e.ary(l.behaviors.get,1)).filter(t).map(function(e){return{pageId:e.action.sourceId,popupId:e.behavior.targetId,params:e.behavior.params}}).value()}function b(){function t(e,t){return{id:t.id,label:t.title,type:{isPage:!0,isDynamicPage:!0,routerType:e},isVisible:!0,isVisibleMobile:!0,pageData:t}}function i(t){var i=[],n=e.groupBy(t,"appDefinitionId");return e.forEach(n,function(t){var n=e.groupBy(t,"group");n[void 0]&&(i=i.concat(n[void 0]),delete n[void 0]),e.forEach(n,function(t){var n=function(t,i,n){var r=l.documentServices.platform.getAppManifest(t),a=e.get(r,"routers.pagesGroups."+n+".label");return a?a+" "+o.translate("DYNAMIC_PAGES_ROUTER_PAGES"):i+" ("+n+")"}(t[0].appDefinitionId,t[0].appDefinitionName,t[0].group),r=e.reduce(t,function(e,t){return e.pages=e.pages.concat(t.pages),e},e.assign({},t[0],{prefix:t[0].prefix,label:n,pages:[]}));i=i.concat(r)})}),i}var n=i(l.documentServices.routers.pages.getDynamicPagesList()),r=[];return e.forEach(n,function(i,n){if(!i.hide){var s=g(i.appDefinitionId,i.group),c=function(e){return e===l.documentServices.platform.editorApps.DATA_BINDING.appDefId?a.ROUTER_TYPES.DATA_BINDING:a.ROUTER_TYPES.CUSTOM_ROUTER}(i.appDefinitionId),p={id:"router_"+n,isRoot:!0,isVisible:!0,isVisibleMobile:!0,label:i.label||e.upperFirst(i.prefix)+" "+o.translate("DYNAMIC_PAGES_ROUTER_PAGES")+" ("+s+")",prefix:i.prefix,routerType:c,type:{isRouter:!0},items:e.map(i.pages,e.partial(t,c))};r.push(p)}}),r}function y(t,i){var n=e.filter(t,function(t){var o=t.type;return e.includes(i,o)}),a=e.find(n,{type:r.constants.pages.page_settings.pageInfo.type}),s=e.find(n,{type:r.constants.pages.page_settings.seo.type}),l=[];return a&&l.push(function(t){return e.assign(t,{title:o.translate("Pages_Actions_Page_Settings"),icon:"settingsAction"})}(a)),s&&l.push(function(t){return e.assign(t,{icon:"seoSettingsAction"})}(s)),l}function v(t){var o=l.documentServices,i=o.routers.getRouterRef.byPrefix(t);if(!i)return[];var n=o.routers.get.byRef(i);return function(t,o){return e.isEmpty(o.pages)?t:t?e.reject(t,{event:"removeRouterClicked"}):[]}(S(d(l.platform.routers.getDataFromRoutersAppManifest(n.appDefinitionId,"routerActions"),"routerActions")),n)||[]}function S(t){return e(t).map(function(t){switch(t.type){case r.constants.members.router_actions.view_site_members.type:return function(t){if(!l.documentServices.generalInfo.isTemplate()){var i=l.site.getMetaSiteId();return e.assign(t,{title:o.translate(r.constants.members.router_actions.view_site_members.title),icon:r.constants.members.router_actions.view_site_members.icon,callback:function(){window.open("https://www.wix.com/my-account/sites/"+i+"/contacts/?tag=contacts-site_members_approved")}})}return null}(t);case r.constants.members.router_actions.open_signup_settings.type:return function(t){return e.assign(t,{title:o.translate(r.constants.members.router_actions.open_signup_settings.title),icon:r.constants.members.router_actions.open_signup_settings.icon,callback:function(){l.panelManager.openPanel("panels.focusPanels.siteMembersSettingsPanel",{panelName:"panels.focusPanels.siteMembersSettingsPanel"},!0)}})}(t);case r.constants.pages.page_actions.rename.type:return function(t){return e.assign(t,{icon:r.constants.pages.page_actions.rename.icon,title:o.translate(r.constants.pages.page_actions.rename.title)})}(t);default:return t}}).compact().value()}var P=function(e,t){return S(d(l.platform.getPagesDataFromAppManifest(e,t,{advanced:l.developerMode.isEnabled()}),t))||[]};return{add:function(e,t){o.fedopsLogger.interactionStarted(o.fedopsLogger.INTERACTIONS.ADD_PAGE),t&&(t.data.pageUriSEO=l.documentServices.pages.data.pageUriSEO.getValid("",t.data.pageUriSEO));var i=l.documentServices.pages.add(e,t);return o.fedopsLogger.interactionEnded(o.fedopsLogger.INTERACTIONS.ADD_PAGE),i},navigateTo:function(e,t,i){o.fedopsLogger.interactionStarted(o.fedopsLogger.INTERACTIONS.NAVIGATE_TO_PAGE),l.selection.deselectComponents(),o.keyboardShortcuts.disable(),l.documentServices.pages.navigateTo(e),l.documentServices.waitForChangesApplied(function(){c(l.documentServices.pages.getFocusedPageId(),t)}),i||l.developerMode.setContext(l.developerMode.createContext(a.DEVELOPER_MODE.CONTEXT_TYPES.PAGE))},navigateToAndScroll:function(t,i,n){o.fedopsLogger.interactionStarted(o.fedopsLogger.INTERACTIONS.NAVIGATE_TO_PAGE),l.selection.deselectComponents(),l.documentServices.pages.navigateToAndScroll(t,i,p),l.documentServices.waitForChangesApplied(e.partial(c,t,n)),l.developerMode.setContext(l.developerMode.createContext(a.DEVELOPER_MODE.CONTEXT_TYPES.PAGE))},getCurrentUrlPageTitle:function(){return l.documentServices?m(l.documentServices,f()):null},getCurrentUrlPageId:f,getPageTitle:function(e){return m(l.documentServices,e)},remove:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.noop,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.noop,a=arguments[3];o.ravenUtils.breadcrumb(o.fedopsLogger.INTERACTIONS.REMOVE_PAGE,{isRemovingTpa:a,pageId:t}),o.fedopsLogger.interactionStarted(o.fedopsLogger.INTERACTIONS.REMOVE_PAGE),l.selection.deselectComponents(),i.removePage(l,l.documentServices,l.removePagePlugins,t,function(){n(),o.fedopsLogger.interactionEnded(o.fedopsLogger.INTERACTIONS.REMOVE_PAGE)},function(){r(),o.fedopsLogger.interactionEnded(o.fedopsLogger.INTERACTIONS.REMOVE_PAGE)},a)},beforePageRemoveHook:function(e,t){var o=l.homePage.get(),i=void 0;o===e&&(i=l.mainMenu.getFirstNonHomePageMenuItem())&&(l.homePage.set(i.pageData.id),o=i.pageData.id.replace(/^#/,"")),l.documentServices.pages.navigateTo(o,t)},isPageExist:function(e){return l.documentServices.pages.doesPageExist(e)},getPrimaryContainer:function(){var t=s.editorPlugins.pages.selectors.getFocusedPage(l.store.getState());if(!l.documentServices.pages.isWidgetPage(t.id))return t;var o=l.components.getChildren(t);return e(o).filter(function(e){return l.documentServices.components.is.container(e)}).head()||t},isHomePage:function(e){return e===l.homePage.get()},serialize:function(e,t){var o=l.documentServices.pages.serialize(e,!0);return t&&u(o),o},data:{update:function(e,o){o.isLandingPage&&l.selection.deselectComponents(),o.pageUriSEO&&(o.pageUriSEO=l.documentServices.pages.data.pageUriSEO.getValid(e,o.pageUriSEO)),o=t.utils.updateDataUtil.fixData(o),l.documentServices.pages.data.update(e,o),l.documentServices.waitForChangesApplied(function(){n.updatePagePlugins.run(l,e)})}},background:{update:function(e,o,i){o=t.utils.updateDataUtil.fixData(o),l.documentServices.pages.background.update(e,o,i)}},transitions:{set:function(e){l.documentServices.pages.transitions.set(e),l.history.add("page transition")}},popupPages:{close:function(){l.hideFloatingBubble();var e=l.documentServices.pages.getPrimaryPageId();l.pages.navigateTo(e)},getCurrentPopup:function(){var e=l.documentServices.pages.popupPages.getCurrentPopupId();return l.components.get.byId(e)},getCurrentPopupData:function(){var e=l.documentServices.pages.popupPages.getCurrentPopupId();return l.documentServices.pages.data.get(e)},getPopupContainer:function(t){if(!(t=t||l.documentServices.pages.popupPages.getCurrentPopupId()))return null;var o=l.documentServices.components.get.byId(t);return e.head(l.documentServices.components.get.byType(a.COMP_TYPES.POPUP_CONTAINER,o))},getOpenBehaviorsForPopups:h,getOpenBehaviorsForPopupWithId:function(t){return e.filter(l.pages.popupPages.getOpenBehaviorsForPopups(),{popupId:t})},getDataListOrdered:function(){return e.sortBy(l.documentServices.pages.popupPages.getDataList(),"id")},isFullWidthPopupOpened:function(){if(!l.documentServices.pages.popupPages.isPopupOpened())return!1;var e=l.components.properties.get(l.pages.popupPages.getPopupContainer());return e&&"fullWidth"===e.alignmentType}},dynamicPages:{getMenuItems:b,getRouterPageType:function(e){var t=l.documentServices.routers.getRouterDataForPageIfExist(e);return t?g(t.appDefinitionId,t.group):""},getDynamicPageActions:function(t,o,i){var n=l.documentServices,r=n.pages.getReference(t);if(!r)return[];var a=n.routers.getRouterRef.byPage(r);if(!a)return[];var s=n.routers.get.byRef(a);if("pageActions"===o&&s.appDefinitionId===l.documentServices.platform.editorApps.SANTA_MEMBERS.appDefId)return[];var c=S(d(l.platform.routers.getDataFromRoutersAppManifest(s.appDefinitionId,o),o));return"pageSettings"!==o||e.isEmpty(i)||(c=y(c,i)),c||[]},getRouterActionByPrefix:v,getActionByAppDefId:function(t,o,i){var n=S(d(l.platform.routers.getDataFromRoutersAppManifest(t,o),o));return"pageSettings"!==o||e.isEmpty(i)||(n=y(n,i)),n||[]}},appPages:{getApplicationSettings:function(e){return l.platform.getPagesDataFromAppManifest(e,"applicationSettings",{advanced:l.developerMode.isEnabled()})},getApplicationActions:function(e){return P(e,"applicationActions")},getPageActions:function(e){return P(e,"pageActions")},getPageSettings:function(t,o){var i=S(d(l.platform.getPagesDataFromAppManifest(t,"pageSettings",{advanced:l.developerMode.isEnabled()}),"pageSettings"));return e.isEmpty(o)||(i=y(i,o)),i||[]}}}}return{create:l}}),define("rEditor/app/APISections/layoutersWrapper",["util"],function(e){"use strict";var t=e.array.checkSingleAndValidate;return{create:function(e){return{getNonMasterChildren:function(o){return t(e.documentServices.layouters.getNonMasterChildren,o)},getParentCompWithOverflowHidden:function(o){return t(e.documentServices.layouters.getParentCompWithOverflowHidden,o)}}}}}),define("rEditor/app/APISections/platformWrapper",["lodash","util"],function(e,t){"use strict";return{create:function(o){function i(t,i){var n=o.documentServices.platform.getAppManifest(t);return e.get(n,i)}return o.editorEventRegistry.register(o.editorEventRegistry.constants.events.ADD_PANEL_LOADED,function(){if(o.wixCode.isProvisioned()){var e=o.wixCode.fileSystem,t=e.getVirtualDescriptor(e.getRoots().schemas.location,!0);e.getChildren(t).then(function(e){e.length>0&&o.toggleEditorStateParam("hasDatabaseCollections",!0)})}}),o.editorEventRegistry.register(o.editorEventRegistry.constants.events.ADD_PANEL_LOADED,function(){o.documentServices.platform.registerToManifestAdded(function(o,i){var n=e.get(o,"controllersStageData.langs");e.forEach(n,function(e,o){var n={};n[i.applicationId+"_"+o]=e,t.translate.addLangs(n)})})}),{controllers:{getStageData:function(e){return o.documentServices.platform.controllers.getStageData(e)}},applicationPages:{getDataFromPagesAppManifest:function(e,t){return o.platform.getPagesDataFromAppManifest(e,t,{advanced:o.developerMode.isEnabled()})||[]}},routers:{getDataFromRoutersAppManifest:function(e,t){return i(e,["routers",t,"default"])||[]}},collections:{collectionsTree:{getContextMenuActions:function(){return e.reduce(o.documentServices.platform.getInstalledEditorApps(),function(t,o){var n=o.appDefinitionId,r=o.applicationId;return t.concat(e.map(i(n,"collections.collectionsTree.contextMenuActions"),function(t){return e.assign({},t,{applicationId:r})}))},[])}}}}}}}),define("rEditor/app/APISections/pinModeWrapper",["lodash","util","stateManagement"],function(e,t,o){"use strict";function i(i){function r(){a(n.close()),i.getPreviewMode()||i.documentServices.waitForChangesApplied(function(){var n=i.store.getState(),r=o.editorPlugins.selection.selectors.getSelectedCompsRefs(n),a=i.components.layout.getDock(r);if(!e.isUndefined(a)){var s=t.pinModeUtils.getDockedDirection(a),l=i.components.layout.get(r);t.pinModeUtils.checkSizeRestrictions(s,l)&&i.panelHelpers.openPinModeSizeRestrictionPanel({state:"on pin",title:"Notification_Box_PinToScreen_ElementTooLarge_postPin_Title",content:"Notification_Box_PinToScreen_ElementTooLarge_postPin_Message"})}})}var a=i.store.dispatch;return{closeAndCheckSizeRestrictions:r}}var n=o.editorPlugins.pinMode.actions;return{create:i}}),define("rEditor/app/APISections/promotionsWrapper",["lodash","util","staticAssets","stateManagement","coreBi","constants","experiment"],function(e,t,o,i,n,r,a){"use strict";function s(s){function l(i){var n=e.template("panels/focusPanels/<%= promotionName %>PromotionPopup.png"),r=e.template("panels/focusPanels/<%= promotionName %>PromotionPopupRetina.png");return t.browserUtil.getDevicePixelRatio()>=2?t.media.getMediaUrl(o.staticAssetsMap[r({promotionName:i})]):t.media.getMediaUrl(o.staticAssetsMap[n({promotionName:i})])}function c(){i.editorPlugins.userPreferences.selectors.getSessionUserPreferences("photo-promo-popup-displayed")(s.store.getState())||(s.store.dispatch(i.editorPlugins.userPreferences.actions.setSessionUserPreferences("photo-promo-popup-displayed",!0)),s.promotions.photography.displayPopup())}function p(){d=function(){var t=i.editorPlugins.userProfile.selectors.getUserProfile(s.store.getState());return e.get(t,["post_reg_category","value"])||""}().toLowerCase(),function(){if(a.isOpen("musicPromotionFixed")||a.isOpen("musicPromotionRotation")){var e=s.promotions.music;s.documentServices.tpa.app.registerOnInstalled(r.MUSIC_PROMO.APP_DEFINITION_ID,e.displayPopup),e.isActive()&&e.displayPopup()}}(),(a.isOpen("photographyPromotionFixed")||a.isOpen("photographyPromotionRotation"))&&e.forEach(r.PHOTOGRAPHY_PROMO.APP_DEFINITION_IDS,function(e){s.documentServices.tpa.app.registerOnInstalled(e,c)})}var d=void 0;return{initPromotions:p,music:{isActive:function(){if(a.isOpen("musicPromotionFixed")||a.isOpen("musicPromotionRotation")){var t=s.documentServices.generalInfo.getSiteOriginalTemplateId(),o=e.includes(r.MUSIC_PROMO.TEMPLATE_IDS,t),i=s.documentServices.tpa.app.isInstalled(r.MUSIC_PROMO.APP_DEFINITION_ID);return o||i||e.includes(d,"music")}return!1},displayPopup:function(){s.panelManager.openPanel("panels.focusPanels.promotionModalPanel",{className:"music-promo-popup",headerFirstLineText:"MUSIC_PROMOTION_HEADER_2",imageSrc:l("music"),bodyText:"MUSIC_PROMOTION_BODY_LINE1",bodyLinkText:"MUSIC_PROMOTION_BODY_B4_ENDS",bodyBottomText:"MUSIC_PROMOTION_BODY_EASY",actionText:"MUSIC_PROMOTION_BUTTON_SUBMIT",actionUrl:"MUSIC_PROMOTION_BUTTON_SUBMIT_URL",biEvent:n.events.musicPromotionPopup.submit_video_clicked})}},photography:{isActive:function(){if(a.isOpen("photographyPromotionFixed")||a.isOpen("photographyPromotionRotation")){var t=s.documentServices.generalInfo.getSiteOriginalTemplateId().toUpperCase(),o=e.includes(r.PHOTOGRAPHY_PROMO.TEMPLATE_IDS,t),i=e.some(r.PHOTOGRAPHY_PROMO.APP_DEFINITION_IDS,e.bind(s.documentServices.tpa.app.isInstalled,s)),n=e.includes(d,"photography")||e.includes(d,"design");return o||i||n}return!1},displayPopup:function(){s.panelManager.openPanel("panels.focusPanels.promotionModalPanel",{className:"photo-promo-popup",headerFirstLineText:"PHOTO_PROMO_POP_HEADER1",headerSecondLineText:"PHOTO_PROMO_POP_HEADER2",imageSrc:l("photo"),bodyText:"PHOTO_PROMO_POP_TEXT1",isImageLinkActive:!1,actionText:"PHOTO_PROMO_POP_BUTTON_TEXT",actionUrl:"PHOTO_PROMO_POP_BUTTON_URL",biEvent:n.events.photographyPromotionPopup.submit_video_clicked})}}}}return{create:s}}),define("rEditor/app/APISections/togglePreviewWrapper",["lodash","baseUI","constants","util","stateManagement"],function(e,t,o,i,n){"use strict";function r(r){function a(a){var s=e.isFunction(a)?[a]:[];r.developerMode.setContext(r.developerMode.createContext(o.DEVELOPER_MODE.CONTEXT_TYPES.PAGE)),function(){var t=r.store.getState().eventCounters,o=e.defaults({clearTextSelection:t.clearTextSelection+1},t);r.store.dispatch(n.editorPlugins.legacy.actions.setState({eventCounters:o}))}(),t.tooltipManager.hide(o.ROOT_COMPS.TOOLTIPS.FIRST_TIME_EXIT_POPUP_MODE),i.keyboardShortcuts.setContext(i.keyboardShortcuts.CONTEXTS.PREVIEW),function(t){var o=p.concat(t);r.updateState({previewMode:!0,contextMenu:null},function(){e.invokeMap(o,Function.call),r.documentServices.waitForChangesApplied(function(){r.actions.executeAnimationsInPage(),i.fedopsLogger.interactionEnded(i.fedopsLogger.INTERACTIONS.GO_TO_PREVIEW)})})}(s)}function s(e){var t=c();i.ravenUtils.breadcrumb("Clicked on go to Editor/Preview",{isGoingToPreviewMode:t}),i.fedopsLogger.interactionStarted(t?i.fedopsLogger.INTERACTIONS.GO_TO_PREVIEW:i.fedopsLogger.INTERACTIONS.GO_TO_EDITOR),t&&(r.panelManager.closeAllPanels(),r.selection.deselectComponents()),r.prepareDocumentForPreviewMode(t),r.setRenderPlugins(t),r.documentServices.waitForChangesApplied(function(){t?a(e):function(){r.documentServices.components.modes.resetAllActiveModes();var e=r.site.getScroll();r.scroll.scrollTo({scrollLeft:e.x,scrollTop:e.y}),r.updateState({previewMode:!1},function(){r.hideFloatingBubble(),i.keyboardShortcuts.setContext(i.keyboardShortcuts.CONTEXTS.EDITOR),r.isMobileEditor()&&r.mobile.afterMovingToMobileEditorCallback(!1),i.fedopsLogger.interactionEnded(i.fedopsLogger.INTERACTIONS.GO_TO_EDITOR)}),r.mobile.mobileWizard.isEnabled()&&r.store.dispatch(n.editorPlugins.mobile.actions.mobileWizard.disableMobileWizard())}(),i.ravenUtils.setGlobalTagForErrors({isPreview:t})})}function l(){return!!r.store.getState().previewMode}function c(){return!l()}var p=[];return{registerToGoToPreview:function(e){p.push(e)},togglePreview:function(t){c()?r.wixCode.prepareBeforePreview(e.partial(s,t)):s(t)},isInPreviewMode:l}}return{create:r}}),define("rEditor/app/APISections/account",["lodash","util","rEditor/bi/bi","stateManagement","constants","coreUtilsLib"],function(e,t,o,i,n,r){"use strict";return{create:function(a){function s(){var e=a.documentServices.generalInfo.getMetaSiteId(),t=l+"history/"+e+"/?referralInfo=EDITOR";window.open(t)}var l=t.serviceTopology.dashboardUrl.replace(/create\//,"")+"/",c=t.serviceTopology.businessManagerUrl,p="1480c568-5cbd-9392-5604-1148f5faffa0",d={},u="https://www."+t.serviceTopology.serverName+"/_api/wix-laboratory-server/laboratory/conductAllInScope?scope=my-account",m="specs.wos.OpenNewSEOWizard";return{isUserOwner:function(){var e=t.editorModel.permissionsInfo;return e&&e.ownerId===e.loggedInUserId},isUserContributor:function(){return!a.account.isUserOwner()},openConnectDomain:function(t,o){var i=a.documentServices.generalInfo.isFirstSave();o=e.isBoolean(o)?o:!a.documentServices.generalInfo.isSitePublished();var n=a.site.isPremium();a.panelManager.openPanel("savePublish.panels.connectDomain",{isFirstSave:i,isFirstPublish:o,isPremium:n,title:"PREMIUM_PUBLISH_TITLE",subtitle:n?"PREMIUM_PUBLISH_SUBTITLE":"CONNECT_DOMAIN_DIALOG_FREE_SUBTITLE",flowId:t},!0)},openSettings:function(e,t){a.panelManager.openPanel("rEditor.panels.siteSettingsPanel",{helpId:"49cebc11-f15c-4cf8-82d9-2c36c5397520",tab:e,referrer:t})},openRevisions:function(){i.editorPlugins.userPreferences.selectors.getSiteUserPreferences(n.USER_PREFS.SITE_REVISIONS.SITE_HISTORY_DONT_SHOW_AGAIN)(a.store.getState())?s():a.panelManager.openPanel("panels.messagePanels.siteRevisionsPanel",{onButtonClick:function(e){e&&a.account.openSiteHistory()}})},manage:function(){var e=a.documentServices.generalInfo.getMetaSiteId();window.open(c+"/"+e+"/home?referralInfo=EDITOR")},myAccountAction:function(e){var t=a.documentServices.generalInfo.getMetaSiteId();window.open(c+"/"+t+"/manage-website/overview?referrer==EDITOR&action="+e)},openPremiumSettings:function(e){var t=a.documentServices.generalInfo.getMetaSiteId();window.open(l+"sites/"+t+"/manage-premium/"+e+"?referralAdditionalInfo=DA_managePremium")},openSiteHistory:s,upgrade:function(e){var i=e.replace(/edhtml_/,"")||"unknown";a.bi.event(o.events.UPGRADE_EVENT,{origin:i});var n=a.documentServices.generalInfo.getMetaSiteId(),r=e?"referralAdditionalInfo="+e:"",s=t.serviceTopology.premiumServerUrl||"https://premium.wix.com";s+="/wix/api/premiumStart?"+r+"&siteGuid="+n,window.open(s)},getEditorVersionsInfo:function(){return window.editorVersionsInfo||null},getWixSEOWizURL:function(e){var t=a.documentServices.generalInfo.getMetaSiteId(),o=l+"sites/"+t+"/app/"+p+"?app=seo";return e?o+"&referralInfo="+e:o},openWixSEOWiz:function(e){window.open(a.account.getWixSEOWizURL(e),"_blank")},initMyAccountExperiments:function(){r.requestsUtil.fetchJson(u,{credentials:"include"}).then(function(e){d=e}).catch(function(e){r.log.error(e)})},isWixSEOWizExperimentOpen:function(){return"true"===d[m]}}}}}),define("rEditor/app/APISections/mobileEditor",["lodash","coreUtilsLib","util","baseUI","mobileEditor","constants","stateManagement","coreBi","experiment"],function(e,t,o,i,n,r,a,s,l){"use strict";function c(i){function c(t,o){var n=e.assign({},C.getState().mobile,{reAddedHiddenElement:{compRef:t,addingPhase:o}});i.updateState({mobile:n})}function h(){return C.getState().mobile.isHiddenItemsCounterVisible}function b(){if(i.documentServices.pages.getFocusedPageId()){var e=l.isOpen("se_mobileHiddenItemsCounter")&&h()?n.hiddenItemsUtils.getFocusedPageHiddenComps(i,i.documentServices.pages.getFocusedPageId()).length:0;T(a.editorPlugins.leftBar.actions.setNotificationsCount("mobileEditor.hiddenItemsPanel",e))}}function y(){c(null,r.LEFT_BAR.MOBILE_HIDDEN_ELEMENTS.PROGRESS.IDLE)}function v(t){var o=e.defaults({targetId:t.id},u);i.components.behaviors.previewAnimation(t,o,function(){return function(e){i.selection.selectComponentByCompRef(e),i.documentServices.documentMode.setComponentVisibility(e.id,!0),c(e,r.LEFT_BAR.MOBILE_HIDDEN_ELEMENTS.PROGRESS.FINISH),window.clearTimeout(E),E=window.setTimeout(y,r.LEFT_BAR.MOBILE_HIDDEN_ELEMENTS.TOOLTIP_TIMEOUT)}(t)})}function S(e,o){i.documentServices.documentMode.setComponentVisibility(e,!1),i.documentServices.mobile.hiddenComponents.show(e,o),i.documentServices.waitForChangesApplied(function(){return function(e){var o=i.components.get.byId(e);c(o,r.LEFT_BAR.MOBILE_HIDDEN_ELEMENTS.PROGRESS.IN_PROGRESS);var n=i.components.layout.getRelativeToScreen(o).y-d,a=t.scrollUtils.calcScrollDuration(i.site.getScroll().y,n,i.isMobileEditor());i.scroll.animateScrollTo({y:n},a,function(){return v(o)})}(e)})}function P(){var e=i.documentServices.pages.getFocusedPageId();i.mobile.reLayoutPage(e),i.history.add("relayout"),i.bi.event(s.events.mobileEditor.hiddenElements.HIDDEN_ELEMENTS_REFRESH_LAYOUT_CLICK,{current_page_name:e}),O("qa_magicLayoutTooltip")&&function(){var e=r.ROOT_COMPS.TOPBAR.DROP_PANELS.CUSTOM.MOBILE_OPTIMIZE_LAYOUT_UNDO;i.topBarMenuBar.openDropDown(e),window.setTimeout(i.topBarMenuBar.closeDropDown.bind(i,e),5e3)}()}var E=null,C=i.store,T=C.dispatch,I=function(e){return a.editorPlugins.userPreferences.selectors.getSiteUserPreferences(e)(C.getState())},_=function(e,t){return T(a.editorPlugins.userPreferences.actions.setSiteUserPreferences(e,t))},O=function(e){var t=o.url.isQA();return"true"===o.url.getParameterByName(e)||!t},M=function(){T(a.editorPlugins.mobile.actions.mobileWizard.enableMobileWizard())},w=function(){return I(g)};return{mobileWizard:{isEnabled:function(){return a.editorPlugins.mobile.selectors.mobileWizard.getIsMobileWizardEnabled(C.getState())},enable:M,disable:function(){T(a.editorPlugins.mobile.actions.mobileWizard.disableMobileWizard())}},mobileOnlyComponents:{enableBackToTopButton:function(e){i.documentServices.mobile.mobileOnlyComponents.enableBackToTopButton(e)},removeQuickActionBar:function(){i.documentServices.mobile.qab.clearActions(),e.some(i.panelManager.getPanelsOfType("leftPanelFrame"),{name:"mobileEditor.mobileElementsPanel"})||p.show("mobileElementsPanel_quickActionBar_afterRemove")}},hiddenComponents:{get:function(e){return i.documentServices.mobile.hiddenComponents.get(e)},show:S,getReAddedHiddenElement:function(){return C.getState().mobile.reAddedHiddenElement}},initMobileEditorFlag:function(){var e=i.documentServices.generalInfo.isFirstSave();I(f)?_(m,!0):e&&_(m,i.isMobileEditor())},afterMovingToMobileEditorCallback:function(t){t||(b(),function(t){var o=e.some(i.pages.getPagesData(),function(e){return!e.isLandingPage}),n=!1===I(m);return l.isOpen("se_mobileWizard")&&n&&!t&&O("qa_mobileWizard")&&!w()&&o}(t)?window.setTimeout(function(){i.isMobileEditor()&&(_(g,!0),M())},1e3):function(t){var o=I(f),n=e.every(i.pages.getPagesData(),"isLandingPage"),r=!l.isOpen("se_mobileWizard")||n;return!o&&O("qa_1stTimeMobileOn")&&!t&&r&&!w()}(t)&&function(){var e=l.isOpen("se_mobileEditorFirstTimeVideo")?"panels.focusPanels.mobileEditorFirstTimeVideoPanel":"panels.focusPanels.mobileEditorFirstTimePanel";_(f,!0),i.panelManager.openPanel(e,{},!0)}(),_(m,!0),i.bi.event(s.events.mobileEditor.MOBILE_EDITOR_READY))},hideHiddenItemsCounter:function(){h()&&i.updateState({mobile:e.defaults({isHiddenItemsCounterVisible:!1},C.getState().mobile)},function(){T(a.editorPlugins.leftBar.actions.setNotificationsCount("mobileEditor.hiddenItemsPanel",0))})},optimizeLayout:P,updateLeftBarNotificationsCount:b,isMobileAnimationsEnabled:function(){return e.get(i.documentServices.data.getById("masterPage"),"mobileSettings.animationsEnabled")}}}var p=i.tooltipManager,d=50,u={action:"",duration:.3,name:"FadeIn"},m=r.USER_PREFS.MOBILE_EDITOR.USER_WAS_IN_MOBILE_EDITOR,g=r.USER_PREFS.MOBILE_EDITOR.MOBILE_WIZARD.DONT_SHOW_AGAIN,f=r.USER_PREFS.MOBILE_EDITOR.FIRST_TIME_PANEL.DONT_SHOW_AGAIN;return{create:c}}),define("rEditor/app/APISections/mouseActions",["lodash","util","stateManagement"],function(e,t,o){"use strict";var i=o.editorPlugins.mouseActions.actions,n=i.setUsingWindowMouseEvents,r=i.setPerformingMouseAction,a=o.editorPlugins.mouseActions.selectors,s=a.isPerformingMouseMoveAction,l=a.isUsingWindowMouseEvents,c=o.editorPlugins.selection.actions.setLastSelectionClickPos,p=o.editorPlugins.selection.selectors.getSelectedCompsRefs;return{create:function(o){function i(o){o.preventDefault();var i=f();u&&e.isFunction(u.on)&&(!s(i)&&(t.keyboardShortcuts.disable(),g(r(!0)),g(c(null))),u.on(o))}function a(o){o.preventDefault(),u&&e.isFunction(u.end)&&u.end(o),t.keyboardShortcuts.enable(),d()}function d(){var e=f();window.removeEventListener("mousemove",i),window.removeEventListener("mouseup",a);var t=s(e),o=l(e);(t||o)&&(g(r(!1)),g(n(!1))),u=null}var u=null,m=o.store,g=m.dispatch,f=m.getState;return{onMouseMove:i,onMouseUp:a,onEditorViewMouseMove:function(e){var t=f();u&&!l(t)&&i(e)},onEditorViewMouseUp:function(e){var t=f();u&&!l(t)&&a(e)},turnOffMouseEvents:d,registerMouseMoveAction:function(t,r,s){e.isFunction(t.start)&&t.start(o,r),s&&(window.addEventListener("mousemove",i),window.addEventListener("mouseup",a)),u=t,g(n(!!s))},shouldInitLassoToolOnMouseDown:function(e){var i=p(f());if(o.selection.isSelectedCompUnderCursorAndBeneathSiteSegment(i,e))return!1;var n=o.selection.getComponentUnderClickToBeSelected(e);if(t.browserUtil.isSpecialKeyPressed(e))return!0;if(o.selection.isHiddenComponentDraggedNext())return!1;if(o.components.is.siteSegment(n)||o.components.is.page(n))return!0;var r=o.components.is.container(n)||o.components.is.containableByStructure(n),a=o.components.is.allowLassoOnContainer(n);return!(!r||!a||!o.components.isDescendantOfComp(i,n)&&(o.columns.isColumn(n)||o.selection.isComponentSelected(n)))},getRegisteredMouseMoveAction:function(){return u},setRegisteredMouseMoveAction:function(e){u=e}}}}}),define("rEditor/app/APISections/tpaWrapper",["lodash","tpa"],function(e,t){"use strict";return{create:function(e){return{addApplication:function(o,i){return new Promise(function(n,r){t.services.tpaAddAppService.isAppInstalled(e,o,!0)?r(new Error("Application already installed.")):e.documentServices.tpa.appMarket.getDataAsync(o).then(function(a){if(a&&!a.error){var s="Wix"===a.by;if(s){var l=a.hasSection?t.constants.APP.TYPE.SECTION:t.constants.APP.TYPE.WIDGET,c=t.constants.BI.initiator.PLATFORM;t.services.tpaAddAppService.addApp(e,o,a.name,null,l,c,!s,{adding_method:"platform"},i,function(e){e.onError?r(new Error(e.onError)):n(e)})}else r(new Error("Only wix apps are allowed"))}else r(new Error("Application with "+o+" appDefinitionId do not exist."))})})},addComponent:function(o){return new Promise(function(i,n){t.services.tpaAddComponentService.addComponent(e,null,o,function(e){e.onError?n(new Error(e.onError)):i(e)})})},bi:{consts:t.constants},services:{tpaAddAppService:t.services.tpaAddAppService,tpaAlertsService:t.services.tpaAlertsService,tpaAppInstallingService:t.services.tpaAppInstallingService}}}}}),define("rEditor/app/APISections/mediaWrapper",["util"],function(e){"use strict";var t=e.array.applyForFirstAndThrowIfMulti;return{create:function(e){return{vectorImage:{getSvgOriginalAspectRatio:function(o){return t("getSvgOriginalAspectRatio",e.documentServices.media.vectorImage.getSvgOriginalAspectRatio,o)}}}}}}),define("rEditor/app/pluginService",["lodash"],function(e){"use strict";return{create:function(){var t={};return{pluginConstants:{DOUBLE_CLICK:"doubleClick"},registerPlugin:function(o,i,n){e.set(t,[o,i],n)},getPlugin:function(o,i){return e.get(t,[o,i])}}}}}),define("rEditor/app/updateThemePlugins/tinyMenu",["lodash"],function(e){"use strict";return function(t,o){if(o&&o.style&&o.style.properties){var i=o.style.properties,n=o.style.propertiesSource,r=i["alpha-txt"];if(e.isUndefined(r)||(e.isUndefined(i["alpha-iconcolor"])&&(i["alpha-iconcolor"]=r),e.isUndefined(i["alpha-bordercolor"])&&(i["alpha-bordercolor"]=r)),delete i["alpha-txt"],delete i["alpha-txts"],n){var a=n["alpha-txt"];n["alpha-iconcolor"]=n["alpha-iconcolor"]||a,n["alpha-bordercolor"]=n["alpha-bordercolor"]||a,delete n["alpha-txt"],delete n["alpha-txts"]}}}}),define("rEditor/app/updateThemePlugins/designDataThemeChangeHandler",["lodash","util"],function(e,t){"use strict";return function(o,i){var n=i.values;"COLOR"===i.type&&e(o.components.getAllComponents()).reduce(function(e,t){var i=o.components.design.get(t);return i&&e.push({pointer:t,data:i}),e},[]).forEach(function(e){var i=e.data;t.designData.updateThemeColors(i,n),o.components.design.update(e.pointer,i,!0)})}}),define("rEditor/app/updateThemePlugins",["lodash","rEditor/app/updateThemePlugins/tinyMenu","rEditor/app/updateThemePlugins/designDataThemeChangeHandler"],function(e,t,o){"use strict";function i(e,t){var o=n[t.skin];o&&o(e,t)}var n={"wysiwyg.viewer.skins.mobile.TinyMenuSkin":t};return{register:function(t){t.theme.styles.registerHook(i);var n=e.bind(o,{},t);t.documentServices.theme.events.onChange.addListener(n)}}}),define("rEditor/pasteLogic/pasteLogicCalculations",["experiment"],function(e){"use strict";function t(e,t,o){var i=e.documentServices.siteSegments.getPagesContainer(),n=e.documentServices.siteSegments.layout.get(i);return{x:(n.width-o.width)/2,y:(t.stageLayout.height-o.height)/2+t.scrollTop-n.y}}function o(e,t){return{x:(e.width-t.width)/2,y:(e.height-t.height)/2}}var i={xOffset:40,yOffset:30,newStackOffset:{x:60,y:40},bottomThreshold:80,rightThreshold:80};return{getNextComponentPosition:function(t){return e.isOpen("se_pasteBehaviorFix")?(i.xOffset=20,i.yOffset=20):(i.xOffset=40,i.yOffset=30),{x:t.x+i.xOffset,y:t.y+i.yOffset}},getNewStackComponentPosition:function(e){return{x:e.x+i.newStackOffset.x,y:e.y-i.newStackOffset.y}},cannotFitIntoViewPort:function(e,t,o){var n=i.rightThreshold,r=i.bottomThreshold;return o&&(n=0,r=0),t.x+n>e.rightX||t.y+r>e.stageLayout.bottom+e.scrollTop},getCenteredCompPosition:t,isComponentInViewPort:function(e,t){return t.y>=e.stageLayout.top&&t.y+i.bottomThreshold<=e.stageLayout.bottom-e.stageLayout.top+e.scrollTop},cannotFitIntoPageHeight:function(e,t,o){var i=e.documentServices.siteSegments.getPagesContainer(),n=e.documentServices.siteSegments.layout.get(i);return o.y>n.height+t.stageLayout.top},getCenteredPositionInContainer:o,getCenteredPositionInContainerAndViewPort:function(e,i,n,r){var a=t(e,n,r);return{x:o(i,r).x,y:a.y-i.y}},cannotFitInContainer:function(e,t,o){return e.y+t.height>o.height}}}),define("rEditor/pasteLogic/ComponentPasteLogic",["lodash","core","rEditor/pasteLogic/pasteLogicCalculations"],function(e,t,o){"use strict";function i(){return e.isEmpty(this.firstCompPosition)}function n(e){return e!==this.lastCompContainer}function r(e){return e.y<0}function a(e,t,i,a){var s={};if(function(e,t,i){return this.centerOnFirstPaste||n.call(this,i)&&o.cannotFitIntoPageHeight(e,t,this.originalCompPosition)}.call(this,e,t,a))r(s=o.getCenteredCompPosition(e,t,i))&&(s.y=0);else if(n.call(this,a))!function(e,t,i){o.isComponentInViewPort(t,i)||e.ui.scroll.setScroll({scrollLeft:0,scrollTop:i.y})}(e,t,s=this.originalCompPosition);else{var l=e.ui.scroll.getScroll();s={x:this.originalCompPosition.x,y:this.originalCompPosition.y-this.originalScrollPosition+l.scrollTop}}return this.firstCompPosition=s,s}function s(e,n,r){var s=t.utils.stageUtils.getViewPort(!0);return i.call(this)?a.call(this,e,s,r,n):function(e){var t=o.getNextComponentPosition(this.lastCompPosition);return o.cannotFitIntoViewPort(e,t)&&(t=o.getNewStackComponentPosition(this.firstCompPosition),this.firstCompPosition=t),t}.call(this,s)}function l(e){e=e||{},this.originalCompPosition={},this.originalScrollPosition=0,this.firstCompPosition={},this.lastCompPosition={},this.lastCompContainer="",this.centerOnFirstPaste=e.centerOnFirstPaste||!1,this.lastScrollPosition=null}return l.prototype.setPasteData=function(e,t,o){this.originalScrollPosition=o.scrollTop,this.originalCompPosition={x:e.x,y:e.y},this.firstCompPosition={x:e.x,y:e.y},this.lastCompPosition={x:e.x,y:e.y},this.lastCompContainer=t},l.prototype.resetPastePosition=function(){this.firstCompPosition={},this.lastCompPosition={}},l.prototype.getPastePosition=function(a,l,c){var p=a.ui.scroll.getScroll();this.lastScrollPosition&&!e.isEqual(p,this.lastScrollPosition)&&this.resetPastePosition();var d=e.pick(l,["width","height"]),u=a.components.get.byId(c),m=a.utils.isPage(u);(function(e){this.lastCompContainer||(this.lastCompContainer=e),n.call(this,e)&&this.resetPastePosition()}).call(this,c);var g=m?s.call(this,a,c,d):function(e,n,a){var s={},l=e.components.layout.getRelativeToScreen(n),c=t.utils.stageUtils.getViewPort(!0),p=!1;return i.call(this)?(s=function(e,t){return e.y+e.height>t.stageLayout.height}(l,c)?o.getCenteredPositionInContainerAndViewPort(e,l,c,a):o.getCenteredPositionInContainer(l,a),p=!0):(s=o.getNextComponentPosition(this.lastCompPosition),o.cannotFitInContainer(s,a,l)&&(s=o.getNewStackComponentPosition(this.firstCompPosition),p=!0)),r(s)&&(s.y=0),function(e,t){return e.x>t.width}(s,l)&&(s.x=l.width-a.width),p&&(this.firstCompPosition=s),s}.call(this,a,u,d);return this.lastCompPosition=g,this.lastCompContainer=c,this.lastScrollPosition=p,e.clone(g)},l}),define("rEditor/pasteLogic/AddPanelPasteLogic",["rEditor/pasteLogic/ComponentPasteLogic"],function(e){"use strict";function t(){e.call(this,{centerOnFirstPaste:!0}),this.lastCompTypeAdded=""}return t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.getPastePosition=function(t,o,i,n){return n!==this.lastCompTypeAdded&&this.resetPastePosition(),this.lastCompTypeAdded=n,e.prototype.getPastePosition.call(this,t,o,i)},t}),define("rEditor/pasteLogic/pasteLogicContext",["lodash","rEditor/pasteLogic/ComponentPasteLogic","rEditor/pasteLogic/AddPanelPasteLogic"],function(e,t,o){"use strict";return{pasteContext:new t,duplicateContext:new t,addContext:new t({centerOnFirstPaste:!0}),addPanelPasteLogic:new o}}),define("rEditor/utils/openPanelByURLData",["lodash"],function(e){"use strict";var t={addPanel:{name:"addPanelInfra.addPanel",propsGenarator:function(e,t){return{category:e,section:t}}},siteSettingsPanel:{name:"rEditor.panels.siteSettingsPanel",propsGenarator:function(e){return{tab:e}}},pagesPanel:{name:"pages.pagesPanel",propsGenarator:function(e){return{initialSettingsTabType:e}}},feedMe:{name:"panels.focusPanels.feedbackPanel"},blog:{name:"blog.menuPanel"},background:{name:"rEditor.panels.backgroundPanel"},apiDefinitionProperty:{name:"panels.focusPanels.apiDefinitionProperty"},wixStore:{name:"wixStore.panels.wixStorePanel",shouldOpenPanelByRestrictions:function(e){return e.documentServices.tpa.app.isInstalled("1380b703-ce81-ff05-f115-39571d94dfcd")}},accessibilityPanel:{name:"panels.focusPanels.accessibilityPanel"}},o={mobileHidden:{name:"mobileEditor.hiddenItemsPanel"},mobileBackground:{name:"rEditor.panels.backgroundPanel"},mobileSiteSettingsPanel:{name:"rEditor.panels.siteSettingsPanel",propsGenarator:function(e){return{tab:e}}},mobileElements:{name:"mobileEditor.mobileElementsPanel",propsGenarator:function(e){return{mobileElementId:e}}},mobileLayoutOptimizer:{name:"mobileEditor.layoutOptimizerPanel"}};return{allPanels:function(){var i=e.merge({},t,o);return e.mapKeys(i,function(e,t){return t.toLowerCase()})}(),mobilePanels:e.mapKeys(o,function(e,t){return t.toLowerCase()})}}),define("rEditor/utils/openPanelByURL",["lodash","rEditor/utils/openPanelByURLData"],function(e,t){"use strict";function o(e){var t=i(e),o=t?t.split("."):"",n=o?o[0]:"";return"mobile"===n||function(e){return e&&!!a[e]}(n)}function i(t){var o=e.mapKeys(t,function(e,t){return t.toLowerCase()}).openpanel;return o?o.toLowerCase():""}function n(t,o){var n=i(t);if(function(t,o){if(t){var i=t.split(".")[0],n=!e.isFunction(e.get(r[i],"shouldOpenPanelByRestrictions"))||r[i].shouldOpenPanelByRestrictions(o);return!!r[i]&&n}}(n,o)){var a=r[n.split(".")[0]].name,s=function(t){var o=t.split("."),i=o[0],n=o.slice(1);if(r[i]&&e.isFunction(r[i].propsGenarator)&&n.length){var a=r[i].propsGenarator.apply(null,n);return e.omit(a,e.isUndefined)}return{}}(n);o.panelManager.openPanel(a,s)}}var r=t.allPanels,a=t.mobilePanels;return{shouldLoadMobileEditor:o,openPanel:n}}),define("rEditor/app/EditorAPI",["coreUtilsLib","lodash","baseUI","panels","util","tpa","wixStore","mediaServices","compPanels","rEditor/app/panelHelpers","rEditor/app/updateOperationsPlugins","rEditor/app/pluginsRegistrar","userPreferences","savePublish","gfppData","platform","rEditor/rootComps/gfpp/gfppModel","rEditor/app/APISections/concurrentUsersWrapper","rEditor/app/APISections/themeWrapper","rEditor/app/APISections/historyWrapper","rEditor/app/APISections/imageCrop","rEditor/app/APISections/siteWrapper","rEditor/app/APISections/developerMode","rEditor/app/APISections/selectedComponent","rEditor/app/APISections/savePublishWrapper","rEditor/app/APISections/componentsWrapper","rEditor/app/APISections/tabIndicationState","rEditor/app/APISections/feedback","rEditor/app/APISections/mainMenuWrapper","rEditor/app/APISections/menuWrapper","rEditor/app/APISections/addPanelAPI","rEditor/app/APISections/selection","rEditor/app/APISections/databaseEditor","rEditor/app/APISections/welcomeScreensWrapper","rEditor/app/APISections/copyPasteWrapper","rEditor/app/APISections/wixStoresFlowAPI","rEditor/app/APISections/editorUI","rEditor/app/APISections/wixCode","rEditor/app/APISections/columns","rEditor/app/APISections/pagesWrapper","rEditor/app/APISections/layoutersWrapper","rEditor/app/APISections/platformWrapper","rEditor/app/APISections/pinModeWrapper","rEditor/app/APISections/promotionsWrapper","rEditor/app/APISections/togglePreviewWrapper","rEditor/app/APISections/account","rEditor/app/APISections/mobileEditor","rEditor/app/APISections/mouseActions","rEditor/app/APISections/tpaWrapper","rEditor/app/APISections/mediaWrapper","rEditor/app/pluginService","rEditor/app/updateThemePlugins","rEditor/pasteLogic/pasteLogicContext","rEditor/utils/openPanelByURL","textControls","blog","editorEventRegistry","experiment","constants","rEditor/bi/bi","stateManagement","coreBi","uiAnimations"],function(e,t,o,i,n,r,a,s,l,c,p,d,u,m,g,f,h,b,y,v,S,P,E,C,T,I,_,O,M,w,A,R,D,k,x,B,L,N,F,U,G,H,V,z,W,q,j,Y,K,X,Z,Q,J,$,ee,te,oe,ie,ne,re,ae,se){"use strict";function le(e,t){return t?e.documentServices.generalInfo.media.getSiteUploadToken():e.documentServices.generalInfo.getSiteToken()}function ce(ce,fe){function ve(o,i){if(ht.store.dispatch(ae.editorPlugins.legacy.actions.setState({previewReady:!0})),o){Be(o),ht.bi.event=$e;var r=!o.generalInfo.isFirstSave();ht.store.dispatch(ae.editorPlugins.leavePopup.actions.setLeavePopup(!r))}i&&Le(i),ze(),pt().then(function(e){var o=e.payload&&e.payload.fields;ce.dispatch(ae.editorPlugins.userProfile.actions.setUserProfile(t.keyBy(o,"name")))}).catch(function(t){e.log.error(t)}),ht.updateUserPreferencesOnPreviewReady(),function(e){var t="true"===ie.getValue("specs.media.mediamanager3"),o={siteMediaToken:le(e,t),version:t?"G6":"G5",languageCode:n.editorModel.languageCode};e.mediaServices.initMediaManager(o),e.savePublish.registerFirstSaveCallback(function(){e.mediaServices.mediaManager.updateSiteMediaToken(le(e,t))})}(ht),ht.store.dispatch(ae.editorPlugins.appInstaller.actions.installChosenApps()).then(function(){ht.registerInitUserPrefsCallback(function(){return ht.initWelcomeScreen()}),ht.components.onPreviewReady(),ht.account.initMyAccountExperiments(),xe(),ht.saveManager.setTimerForSaveReminder(),ht.feedback.init(),ht.documentServices.registerToSiteChanged(ht.notifyViewerUpdate),ht.documentServices.platform.registerToManifestAdded(function(){return ht.store.dispatch({type:""})}),ht.autosaveManager.init(),ht.documentServices.documentMode.enableAction("screenIn",!1),ht.documentServices.documentMode.enableAction("scrollScrub",!1),ht.documentServices.documentMode.enableAction("viewportEnter",!1),ht.documentServices.documentMode.enableAction("viewportLeave",!1),ht.documentServices.documentMode.enableAction("modeChange",!1),ht.documentServices.documentMode.enableAction("load",!1),ht.documentServices.documentMode.enableAction("exit",!1),ht.documentServices.documentMode.enableBgVideoAutoplay(!1),ht.documentServices.generalInfo.isFirstSave()||ht.store.dispatch(ae.editorPlugins.leftBar.actions.collapseMenu()),se.registerEvents(ht),Ne(),ht.campaigns.fetchCampaignInfo(),ht.documentServices.generalInfo.isFirstSave()&&ht.initTemplateCharacterSet(),ie.isOpen("se_multilingual")&&ht.store.dispatch(ae.editorPlugins.multilingual.actions.checkLanguageStatusThunk()).then(function(e){if(e.payload.status)return ht.store.dispatch(ae.editorPlugins.multilingual.actions.loadLanguagesThunk())}),ht.store.dispatch(ae.editorPlugins.uploadedFonts.actions.init()),pt().then(ht.promotions.initPromotions).catch(function(t){e.log.error(t)}),function(e){var o=n.url.parseUrl(window.document.location.href).query||"",i=t.mapKeys(o,function(e,t){return t.toLowerCase()}),r=t.partial($.openPanel,i,e);i.pageid?e.pages.navigateTo(i.pageid,r):r(),"open"!==i.applicationstudio&&"true"!==i.applicationstudio||e.store.dispatch(ae.editorPlugins.applicationStudio.actions.openApplicationStudio())}(ht),A.loadAndCreate(ht,Ce),ie.isOpen("se_useDealerUpgradeTopBar")&&we(ht),ht.store.dispatch(ae.editorPlugins.legacy.actions.onPreviewReady()),ie.isOpen("specs.wos.PrefetchBizMgrFromEditor")&&ht.store.dispatch(ae.editorPlugins.businessManager.actions.prefetchBizMgr()),n.ravenUtils.setGlobalTagForErrors({editorLoaded:!0})}).catch(function(e){n.ravenUtils.captureError(e,{tags:{failedOnPreviewReady:!0}})})}function Ce(e){ht.addPanel=e;var t=ht.editorEventRegistry.constants.events.ADD_PANEL_LOADED;r.onPreviewReady(ht),a.onPreviewReady(ht),te.onPreviewReady(ht),l.onPreviewReady(ht),n.automationObserver.onPreviewReady(ht),ht.bi.event(se.events.editor.Add_PANEL_LOADED,{}),ht.editorEventRegistry.dispatch(t,ht),require(lt,function(e,t){t.onPreviewReady(ht),e.onPreviewReady(ht)}),ie.isOpen("se_useDealerUpgradeTopBar")&&Me(ht),n.fedopsLogger.appLoaded()}function xe(){var e=ht.documentServices.seo.title.get()||"",t=ht.documentServices.seo.description.get()||"",o=ht.documentServices.seo.keywords.get()||"",i=ht.homePage.get(),n=ht.documentServices.pages.data.get(i);n.pageTitleSEO=e,n.descriptionSEO=t,n.metaKeywordsSEO=o,ht.pages.data.update(i,n)}function Be(e){var o=void 0;o=ie.isOpen("cachedDocumentServices")&&e.withCache?e.withCache():e,function(e,o){t.defaultsDeep(e,o)}(ht,o),ht.documentServices=o;var i=ce.dispatch(ae.editorPlugins.legacy.actions.loadDocumentServices(o)),n=i.dsRead,r=i.dsWrite;t.assign(ht,{dsRead:n,dsWrite:r}),window.documentServicesReady=!0}function Le(e){ht.store.dispatch(ae.editorPlugins.legacy.actions.loadSantaPreviewCreator(e))}function Ne(){d.register(ht),Q.register(ht)}function Fe(){return n.languages.getLanguageCode()}function Ue(){function o(o){pt().then(function(){n=n||o===ne.USER_PREFS.TYPES.GLOBAL,r=r||o===ne.USER_PREFS.TYPES.SITE,n&&(r||a)&&(ht.userPreferencesInitCallbacksInvoked=!0,t.forEach(ht.userPreferencesInitCallbacks,function(e){e()}))}).catch(function(t){e.log.error(t)})}var i=ht.documentServices.generalInfo.getSiteId(),n=void 0,r=void 0,a=ht.documentServices.generalInfo.isFirstSave();ce.dispatch(ae.editorPlugins.userPreferences.actions.loadGlobalPreferences()).then(t.partial(o,ne.USER_PREFS.TYPES.GLOBAL)).catch(function(t){e.log.error(t)}),a||ce.dispatch(ae.editorPlugins.userPreferences.actions.loadSitePreferences(i,!1)).then(t.partial(o,ne.USER_PREFS.TYPES.SITE)).catch(t.partial(o,ne.USER_PREFS.TYPES.SITE))}function Ge(e){var o=ce.getState(),i=t.isUndefined(e)?o.hideTools&&!o.hideToolsAndMaintainStagePosition:e,n=ne.UI.TOPBAR_HEIGHT;return i&&(n-=ne.UI.OFFSET_TOP_WHEN_TOOLS_HIDDEN),ht.isMobileEditor()&&(n+=ne.UI.MOBILE_PREVIEW_TOP),n}function He(e){ht.updateState({scrollTo:e})}function Ve(){return ce.getState().openPanels}function ze(){var e=ce.getState();e.editorIsInit||ht.prepareDocumentForPreviewMode(!1);var o=ye(e),i=ht.getPendingStateChanges();ht.pendingStateChanges={},ht.pendingEditorStateUpdateCallbacks=[];var n=t.filter(o,ht.documentServices.components.is.rendered),r=!t.isEqual(n,o);r&&ht.mouseActions.turnOffMouseEvents();var a=ut()===ht.documentServices.viewMode.VIEW_MODES.MOBILE,s=Te(e),l=t.defaults({config:t.defaults({previewHeight:ht.documentServices.site.getHeight()},ce.getState().config),editorIsInit:!0,isMobileEditor:a,viewerRendersCounter:e.viewerRendersCounter+1},i);ce.dispatch(ae.editorPlugins.legacy.actions.setState(l)),ce.dispatch(_e(t.defaults({top:Ge()},s))),r?ht.selection.selectComponentByCompRef(n):Ee(e)||ce.dispatch(ge(Qe(ye(ce.getState())))),ce.dispatch(ae.editorPlugins.highlights.actions.updateHighlights()),ce.dispatch(ae.editorPlugins.dynamicPages.actions.updateDynamicPagesState()),ht.shouldUpdateEditorScrollAfterHeightUpdate&&(ht.applyPreviewScrollToEditorScroll(),ht.shouldUpdateEditorScrollAfterHeightUpdate=!1);var c=ht.documentServices.pages.getFocusedPage(),p=!1;c&&!t.isEqual(ae.editorPlugins.pages.selectors.getFocusedPage(ce.getState()),c)&&(ce.dispatch(ae.editorPlugins.pages.actions.setFocusedPage(c)),p=!0),Ee(e)||(t(ce.getState()).thru(ae.editorPlugins.componentsStore.selectors.getComponentsList).reject(ht.components.is.exist).thru(ae.editorPlugins.componentsStore.actions.removeComponentsStore).thru(ce.dispatch).value(),ce.dispatch(ae.editorPlugins.applicationStudio.actions.applyApplicationStudioBehaviors(p))),ce.dispatch(ae.legacy.actions.onViewerChanged()),ce.flush()}function We(e){return ht.documentServices.tpa.isTpaByCompType(e)}function qe(e){var o=ce.getState();ht.documentServices.renderPlugins.allowSiteOverflow(e),ht.documentServices.renderPlugins.setExtraSiteHeight(e||ht.isMobileEditor()?0:ht.editorConfig.extraSiteHeight),ht.documentServices.renderPlugins.setPreviewTooltipCallback(function(e,i){var n=function(e,o){var i=t.pick(e,["top","left","height","width"]);return i.top+=o,i}(e,Te(o).top);ht.showFloatingBubble(i,n),De=window.setTimeout(ht.hideFloatingBubble,ne.PREVIEW.FLOATING_BUBBLE_TIMEOUT)}),ht.documentServices.renderPlugins.setErrorPagesPopUp(function(e){ht.preview.isInPreviewMode&&ht.panelManager.openPanel("panels.errorPages.errorPagePanel",{errorInfo:e,routerAddress:e.routerUrl})})}function je(e){ht.waitForChangesApplied(function(){return Ke(!1,e)})}function Ye(e){o.tooltipManager.hide(ne.ROOT_COMPS.TOOLTIPS.FIRST_TIME_EXIT_POPUP_MODE),ht.waitForChangesApplied(function(){return Ke(!0,e)})}function Ke(e,o){var i=e===ht.isMobileEditor(),r=!e&&ht.mobile.mobileWizard.isEnabled();if(!i&&!r){t.invokeMap(ht.deviceTypeChangeCallbacks,t.call),e||ht.updateState({isMobileEditor:!1,mobileFramePosition:null}),n.fedopsLogger.interactionStarted(e?n.fedopsLogger.INTERACTIONS.CHANGE_EDITOR_MODE_TO_MOBILE:n.fedopsLogger.INTERACTIONS.CHANGE_EDITOR_MODE_TO_DESKTOP);var a=e?ht.documentServices.viewMode.VIEW_MODES.MOBILE:ht.documentServices.viewMode.VIEW_MODES.DESKTOP;ht.developerMode.getContext().type===ne.DEVELOPER_MODE.CONTEXT_TYPES.PAGE&&ht.panelManager.closeAllPanels(),ht.selection.deselectComponents(),ht.getPreviewMode()&&ht.documentServices.documentMode.enableAction("screenIn",!1),ht.documentServices.viewMode.set(a),ht.documentServices.waitForChangesApplied(function(){ht.documentServices.documentMode.resetBehaviors(ht.getPreviewMode());var t=ht.documentServices.documentMode,o=ht.getPreviewMode(),i=o&&!e;t.enableAction("screenIn",o),t.enableAction("load",o),t.enableAction("scrollScrub",o),t.enableAction("viewportEnter",o),t.enableAction("viewportLeave",o),t.enableAction("modeChange",o),t.enableAction("exit",o),t.enableAction("bgScrub",i),t.enableAction("pageTransition",o),t.enableBgVideoAutoplay(i),e&&ht.mobile.afterMovingToMobileEditorCallback(o),n.fedopsLogger.interactionEnded(e?n.fedopsLogger.INTERACTIONS.CHANGE_EDITOR_MODE_TO_MOBILE:n.fedopsLogger.INTERACTIONS.CHANGE_EDITOR_MODE_TO_DESKTOP),n.ravenUtils.setGlobalTagForErrors({isDesktopEditor:!e,isMobileEditor:e})}),qe(ht.getPreviewMode()),!o&&e&&ht.documentServices.history.canUndo()&&ht.history.add("mobile structure was updated"),ht.documentServices.documentMode.setExtraSiteHeight(ce.getState().previewMode||e?0:ht.editorConfig.extraSiteHeight),ht.documentServices.documentMode.resetBehaviors(ht.getPreviewMode()),ht.store.dispatch(ae.editorPlugins.rulers.actions.resetHistory()),e||ht.documentServices.components.modes.resetAllActiveModes()}}function Xe(e){var t=ce.getState();return!e||ae.editorPlugins.text.selectors.isTextEditorOpen(t)||ae.editorPlugins.pinMode.selectors.isOpen(t)?{horizontallyMovable:!1,verticallyMovable:!1}:ht.components.getRestrictions(e,["verticallyMovable","horizontallyMovable"])}function Ze(e){var o=Xe(e);return e&&t.assign(o,{canMoveForward:ht.components.arrangement.canMoveForward(e),canMoveBackward:ht.components.arrangement.canMoveBackward(e)}),o}function Qe(e){if(t.isEmpty(e))return{};var o=Ze(e),i=ht.components.layout.isPinned(e),n=ce.getState().isOpenTextEditor,r=["container","containable","movable","alignable","canMoveUp","resizable","disabledKnobs","duplicatable","fixed","showLegacyFixedPosition","anchorableFrom","anchorableTo","controlledByParent"];return i||r.push("horizontallyResizable","verticallyResizable","rotatable","duplicatable"),n||r.push("removable"),t.assign(o,ht.components.getRestrictions(e,r)),i&&(o.horizontallyResizable=!1,o.verticallyResizable=!1,o.rotatable=!1,o.duplicatable=!1),n&&(o.removable=!1),t.assign(o,{resizeableSides:ht.components.layout.getResizableSides(e),canBeFixed:ht.components.layout.canBeFixedPosition(e),resizeOnlyProportionally:ht.resizeOnlyProportionally(e),canToggleShowOnAllPages:ht.components.canToggleShowOnAllPages(e),canResizeWithAnchors:ht.components.layout.getResizableWithAnchors(e),canResizeDiagonally:ht.components.layout.getResizableDiagonally(e)}),o}function Je(){return ht.store.getState().previewReady}function $e(e,t){ce.dispatch(ae.editorPlugins.bi.actions.event(e,t))}function et(e,o){var i=ce.getState().topBar;i.dropPanelDisabled||(ot({topBar:t.defaults({openedDropPanel:e,shouldDropPanelRemainOpen:o},i)}),ht.openPanelTimeout&&window.clearTimeout(ht.openPanelTimeout),e&&e!==ne.ROOT_COMPS.TOPBAR.DROP_PANELS.LANGUAGE_DROP_PANEL&&(ht.openPanelTimeout=window.setTimeout(function(){ht.bi.event(se.events.topbar.TOP_BAR_PANEL_OPENED,{menu_name:e})},3e3)))}function tt(e){return ht.panelHelpers.openPagesPanel(e)}function ot(e,o){t.isFunction(o)&&(null===t.last(mt)&&(mt=[],gt=-1),mt.push(o));var i=t.defaults({__renderCounter:mt.length},e);ce.dispatch(ae.editorPlugins.legacy.actions.setState(i))}function it(e,t){return function(e,t){if(ft[e])return ft[e][t]||null;return null}(ht.components.getType(e),t)}var nt={scrollTop:0,scrollLeft:0},rt=function(e,t){return ce.dispatch(ae.editorPlugins.userPreferences.actions.setSiteUserPreferences(e,t))},at=function(e,t){return ce.dispatch(ae.editorPlugins.userPreferences.actions.setSessionUserPreferences(e,t))},st=function(e){return ae.editorPlugins.userPreferences.selectors.getSiteUserPreferences(e)(ce.getState())},lt=["shoutOut","wixBookings"],ct=void 0,pt=function(){if(ct)return ct;var t=(n.serviceTopology.wixStoresMigrationServiceUrl.replace(/ecommerce-migration-web\//,"bi-profile-webapp/userprofile")||"https://editor.wix.com/_api/wix-bi-profile-webapp/userprofile")+"?fields=post_reg_category,post_reg_sub_category,wix_code_exposure_flag&accept=json";return e.requestsUtil.fetchJson(t).then(function(e){ct=Promise.resolve(e)}).catch(function(e){ct=Promise.reject(e)}).then(function(){return ct})},dt=t.curry(function(e,o){if(!t.isUndefined(o)&&!t.isEqual(o,ce.getState()[e])){var i={};i[e]=o,ce.dispatch(ae.editorPlugins.legacy.actions.setState(i))}}),ut=function(){return ht.documentServices.viewMode&&ht.documentServices.viewMode.get()},mt=[],gt=-1,ft={},ht={store:ce,onPreviewReady:ve,onRenderDone:function(e){var o=void 0;for(o=gt+1;o<e;o++)gt++,t.isFunction(mt[o])&&mt[o](),mt[o]=null},updateState:ot,isMetaSiteFlagOpen:function(e){return t.includes(n.editorModel.metaSiteFlags,e)},synchronizeSiteSEOToMainPageSEO:xe,initTemplateCharacterSet:function(){var e=ht.documentServices.theme.fonts.getCharacterSet();if(function(e){return t.isEqual(e,Re)}(e)||function(e){return t.includes(e,"arabic")&&t.includes(e,"hebrew")}(e)){var o=ht.documentServices.theme.fonts.getLanguageCharacterSet(Fe());if(o)ht.documentServices.theme.fonts.updateCharacterSet(o);else{var i=ht.documentServices.theme.fonts.getCharacterSetByGeo();ht.documentServices.theme.fonts.updateCharacterSet(i)}}},setDocumentServices:Be,setSantaPreviewCreator:Le,initPlugins:Ne,getLanguageCode:Fe,getViewTools:function(){return t.clone(ce.getState().viewTools)},updateUserPreferencesOnPreviewReady:Ue,initWelcomeScreen:function(){ht.newEditorWelcomeScreenWrapper.initWelcomeScreen(ht)},initViewToolsFromUserPrefs:function(){var e=ne.USER_PREFS.VIEW_TOOLS,o={showHiddenComponents:st(e.SHOW_HIDDEN_COMPS),developerModeEnabled:st(e.DEVELOPER_MODE_ENABLED),developerToolBarEnabled:st(e.DEVELOPER_TOOLBAR_ENABLED),guidelinesEnabled:st(e.GUIDELINES_ENABLED),sectionsHandlesEnabled:st(e.SECTIONS_HANDLES_ENABLED),snapToEnabled:st(e.SNAPTO_ENABLED),rulersEnabled:st(e.RULERS_ENABLED),rulers:{guidesState:st(e.GUIDES_STATE)}};ie.isOpen("se_toolbarVisibility")&&(o.toolbarEnabled=st(e.TOOLBAR_ENABLED)),t.defaults(o,Ae),ce.dispatch(ae.editorPlugins.legacy.actions.setState({viewTools:o})),ht.store.dispatch(ae.editorPlugins.rulers.actions.resetHistory())},initUserAddedColors:function(){var e=ht.documentServices.theme.colors.getCustomUsedInSkins(),t=ne.USER_PREFS.THEME.COLORS.CUSTOM.USER_ADDED;at(t,e)},refreshNavControlsSize:dt("navControlsSize"),refreshPreviewPosition:function(e){return ce.dispatch(_e(e))},refreshEditingAreaPosition:dt("editingAreaPosition"),refreshMobileFramePosition:dt("mobileFramePosition"),setEditBoxRotateKnobRect:dt("editBoxRotateKnobRect"),getOpenPanels:Ve,notifyViewerUpdate:function(e){t.forEach(ht.viewerUpdateCallbacks,function(t){t(e)})},setStateWaitForViewer:function(e){t.assign(ht.pendingStateChanges,e)},setStateUpdateCallback:function(e){ht.pendingEditorStateUpdateCallbacks.push(e)},getPendingStateChanges:function(){return t.reduce(ht.pendingEditorStateUpdateCallbacks,function(e,o){return t.assign(e,o())},ht.pendingStateChanges)},preventMouseDown:function(){window.addEventListener("mousedown",ht.preventEvent,!0),ht.preventMouseDownTimeout=window.setTimeout(ht.allowMouseDown,5e3)},allowMouseDown:function(){window.clearTimeout(ht.preventMouseDownTimeout),window.removeEventListener("mousedown",ht.preventEvent,!0)},preventEvent:function(e){e.stopPropagation(),e.preventDefault()},onViewerChanged:ze,registerInitUserPrefsCallback:function(e){ht.userPreferencesInitCallbacks.push(e),ht.userPreferencesInitCallbacksInvoked&&e()},exitEditor:function(){window.open(pe+"?referralInfo=EDITOR","_self")},getUserPreferences:function(){return ht.userPreferences},isTpa:We,registerToViewerChange:function(e){ht.viewerUpdateCallbacks.push(e)},registerRemovePlugin:function(e,t){ht.removePlugins[e]=t},registerRemovePagePlugin:function(e,t){ht.removePagePlugins[e]=t},registerComponentsRemoveHandlerPlugin:function(e){ht.componentsRemoveHandlerPlugins.push(e)},registerHidePlugin:function(e,t){ht.hidePlugins[e]=t},registerDuplicatePlugin:function(e,t){ht.duplicatePlugins[e]=t},registerCannotRemovePlugin:function(e,t){ht.cannotRemovePlugins[e]=t},registerCopyComponentPlugin:function(e,t){ht.copyComponentPlugins[e]=t},registerAddComponentPlugin:function(e,t){ht.addComponentPlugins[e]=t},registerAfterPasteComponentCallback:function(e){ht.afterPasteComponentCallbacks.push(e)},registerPasteComponentPlugin:function(e,t){ht.pasteComponentPlugins[e]=ht.pasteComponentPlugins[e]||[],ht.pasteComponentPlugins[e].push(t)},registerSerializeComponentPlugin:function(e,t){ht.serializeComponentPlugins[e]=ht.serializeComponentPlugins[e]||[],ht.serializeComponentPlugins[e].push(t)},registerCutComponentPlugin:function(e,t){ht.cutComponentPlugins[e]=t},registerPageNavigationCallback:function(e){ht.pageNavigationCallbacks.push(e)},registerCompNamePlugin:function(e,t){ht.compNamePlugins[e]=t},registerCompIconPlugin:function(e,t){ht.compIconPlugins[e]=t},registerSitePublishedCallbacks:function(e){ht.sitePublishedCallbacks.push(e)},registerDeviceTypeChangeCallbacks:function(e){ht.deviceTypeChangeCallbacks.push(e)},applyPreviewScrollToEditorScroll:function(){if(!ht.getPreviewMode()){var e=ht.site.getScroll();He({scrollLeft:e.x,scrollTop:e.y})}},setRenderPlugins:qe,prepareDocumentForPreviewMode:function(e){var t=ut()===ht.documentServices.viewMode.VIEW_MODES.MOBILE,o=e&&!t,i=ht.documentServices.documentMode;ht.documentServices.components.modes.resetAllActiveModes(),i.enablePlaying(e),i.enableZoom(e),i.enableSocialInteraction(!1),i.enableExternalNavigation(!1),i.enableSlideShowGalleryClick(e),i.enableTinyMenuOpening(e),i.enableRenderFixedPositionContainers(e),i.enableRenderFixedPositionBackgrounds(e),i.enableBackToTopButton(e),i.enablePageProtection(!1),i.toggleWixAds(e),i.enableBgVideoAutoplay(o),i.enableSiteMembersDialogsOpening(e),i.enableResetGalleryToOriginalState(e),i.enableResetComponent(!e),i.resetBehaviors(e),i.enableAction("screenIn",e),i.enableAction("viewportEnter",e),i.enableAction("viewportLeave",e),i.enableAction("load",e),i.enableAction("scrollScrub",e),i.enableAction("modeChange",e),i.enableAction("exit",e),i.enableAction("bgScrub",o),i.setExtraSiteHeight(e||t?0:ht.editorConfig.extraSiteHeight),i.enableShouldUpdateJsonFromMeasureMap(!e),i.allowSiteOverflow(e),e||(ht.documentServices.pages.animations.stopAll(),i.runtime.reset()),i.setComponentViewMode(e?"preview":"editor"),i.allowWixCodeInitialization(e),i.showHiddenComponents(e?!e:ht.getViewTools().showHiddenComponents),i.showControllers(e?!e:ht.getViewTools().developerModeEnabled)},getNavControlsSize:function(){return ce.getState().navControlsSize},getEditBoxRotateKnobRect:function(){return ce.getState().editBoxRotateKnobRect},getEditingAreaPosition:function(){return ce.getState().editingAreaPosition},getMobileFramePosition:function(){return ce.getState().mobileFramePosition},getPreviewMode:function(){return ce.getState().previewMode},isCurrentPageLandingPage:function(){var e=ht.pages.getCurrentPageId();return ht.documentServices.pages.isLandingPage(e)},isDesktopEditor:function(){return!ae.editorPlugins.leftBar.selectors.isMobileEditor(ce.getState())},isMobileEditor:function(){return ae.editorPlugins.leftBar.selectors.isMobileEditor(ce.getState())},resizeOnlyProportionally:function(e){return ht.components.is.resizeOnlyProportionally(e)},openCantCopyPastePanel:function(){st(ne.USER_PREFS.CANT_MAKE_CHANGES.MOBILE_CANT_MAKE_CHANGE_DONT_SHOW_AGAIN)||ht.panelManager.openPanel("mobileEditor.panels.cantMakeChangeMobile",{},!0)},setDesktopEditor:je,setMobileEditor:Ye,setEditorMode:function(e,t){return(e?Ye:je)(t)},isMobileOptimizedSite:function(){return!!ht.documentServices&&ht.documentServices.mobile.isOptimized()},setMobileOptimizedSite:function(e){ht.documentServices&&ht.documentServices.mobile.enableOptimizedView(e)},groupComponents:function(e){if(!ht.components.is.groupedComponent(e)){ht.selection.deselectComponents();var t=ht.components.groupComponents(e);ht.closeCompPanelIfExists(),ht.history.add("group components"),ht.documentServices.waitForChangesApplied(function(){ht.selection.selectComponentByCompRef(t)})}},getLeftBarButtonsBoundingRect:function(){return ce.getState().leftBar.buttonsBoundingRect},closeRightClickMenu:function(e){ot({contextMenu:null},e)},disableRightClickMenuCloseOnOuterClick:function(){ht.rightClickMenuCloseOnOuterClickDisabled=!0},enableRightClickMenuCloseOnOuterClick:function(){ht.rightClickMenuCloseOnOuterClickDisabled=!1},closeCompPanelIfExists:function(){ht.panelManager.getPanelsOfType("compPanelFrame").length&&ht.panelManager.closeAllPanelsOfType("compPanelFrame")},openFirstTimePanel:function(e){var t=ht.selection.getSelectedComponentType(e);(st("firstTimePanelsNotToShow")||{})[t]||ht.isMobileEditor()||ht.panelManager.openFirstTimePanel(t)},toggleShowOnAllPages:function(e){var t=void 0;return t=ht.components.isShowOnAllPages(e)?ht.documentServices.pages.getReference(ht.documentServices.pages.getPrimaryPageId()):ht.documentServices.siteSegments.getSiteStructure(),ht.components.setContainer(e,t)},getCompDragRestrictions:Xe,getCompMoveRestrictions:Ze,getCompRestrictions:Qe,isPopUpMode:function(){return Boolean(Je()&&ht.documentServices.pages.popupPages.getCurrentPopupId())},reportAddMenuDrag:function(e){ht.bi.event(se.events.addPanel.ADD_MENU_DRAG_COMPONENT,e)},editorIsInit:function(){return ce.getState().editorIsInit},navigateAndOpenPagesPanel:function(e,t,o){ht.pages.navigateTo(e,function(){tt(t),o()})},openComponentPanel:function(e,o){o=o||{};var i=ye(ce.getState()),n=t.get(o,"selectedComponent",i),r=ue.getCompTypeSuffix(n,ht.documentServices),a=ht.getPanelPathByType(r,e);ht.panelManager.openComponentPanel(a,o)},replaceComponentPanel:function(e,t){t=t||{};var o=ye(ce.getState()),i=ue.getCompTypeSuffix(o,ht.documentServices),n=ht.getPanelPathByType(i,e);ht.panelManager.replaceComponentPanel(n,t)},openCompOutOfGridPanelIfNeeded:function(e){var t=ht.utils.findAncestorMatchesCondition(e,ht.components.is.showMarginsIndicator);t&&ht.components.layout.isCompExceedingContainerMargin(e,t)?(ht.panelHelpers.openCompOutOfGridPanel({},!0),ht.bi.event(se.events.columns.COLUMNS_ELEMENTS_PLACED_IN_DEAD_SPOT)):!t&&ht.components.layout.isCompOutOfPageBounds(e)&&ht.panelHelpers.openCompOutOfGridPanel()},openLinkPanel:function(){return ht.panelHelpers.openLinkPanel.apply(this,arguments)},openPagesPanel:tt,openColorPicker:function(e,t,o){var i={top:72,left:-12};ht.panelManager.openPanel("panels.toolPanels.colorPicker.colorPickerPanel",{value:e,onChange:o.onChange,onClose:o.onClose,customInstanceColors:o.customInstanceColors,history:!1!==o.enableHistory&&ht.history,palettePresets:!1!==o.allowPaletteEditing&&ht.theme.colors.getColorPresets(),updateSitePalette:!1!==o.allowPaletteEditing&&ht.theme.colors.update,previewOnHover:!1!==o.previewOnHover,top:t.top+i.top,left:t.left+i.left},!0)},setForceOpenPagesQuickNavigationEventCounter:function(){var e=ce.getState().eventCounters,o=t.assign({},e,{forceOpenPagesQuickNavigation:e.forceOpenPagesQuickNavigation+1});ce.dispatch(ae.editorPlugins.legacy.actions.setState({eventCounters:o}))},getForceOpenPagesQuickNavigationEventCounter:function(){return ce.getState().eventCounters.forceOpenPagesQuickNavigation},setForceOpenPagesPanelEventCounter:function(){var e=ce.getState().eventCounters,o=t.assign({},e,{forceOpenPagesPanel:e.forceOpenPagesPanel+1});ce.dispatch(ae.editorPlugins.legacy.actions.setState({eventCounters:o}))},getForceOpenPagesPanelEventCounter:function(){return ce.getState().eventCounters.forceOpenPagesPanel},getPanelPathByType:function(e,o){var i="compPanels.panels."+e+"."+o;return t.get(l,["panels",e,o])||(ht.isTpa(e)?o===ne.componentPanels.settings&&(i="tpa.compPanels.tpaSettings"):o===ne.componentPanels.animation?i="compPanels.dynamicPanels."+ne.componentPanels.animation:o===ne.componentPanels.mobileAnimation?i="compPanels.dynamicPanels."+ne.componentPanels.mobileAnimation:o===ne.componentPanels.stretching?i="compPanels.dynamicPanels."+ne.componentPanels.stretching:o===ne.componentPanels.filters?i="compPanels.dynamicPanels."+ne.componentPanels.filters:o===ne.componentPanels.effects?i="compPanels.dynamicPanels."+ne.componentPanels.effects:o===ne.componentPanels.apply?i="compPanels.dynamicPanels."+ne.componentPanels.apply:o===ne.componentPanels.design?i="designPanel."+ne.componentPanels.design:o===ne.componentPanels.customizeDesign&&(i="advancedStylePanel."+ne.componentPanels.customizeDesign)),i},openLearnMore:function(t){t&&"string"==typeof t&&e.log.info("opening learn more with key - ",t)},isPreviewReady:Je,setPortalChildren:function(e,o){var i=t.cloneDeep(ce.getState().portalComps);t.isEmpty(o)?delete i[e]:i[e]=o,ot({portalComps:i})},hasExternalDesign:function(e){return ht.documentServices.tpa.isTpaByCompType(ht.components.getType(e))},setAttachCandidate:function(e,t){t?ot({attachCandidate:e}):ht.setStateWaitForViewer({attachCandidate:e})},setConstraintArea:function(e){ht.setStateWaitForViewer({constraintArea:e})},setPageSections:function(e,o){var i=t.clone(ce.getState().pageSections);t.assign(i,{sections:e,selectedSection:o}),ht.updateState({pageSections:i})},clearPageSections:function(){ht.setPageSections(null,null)},sectionsHandles:{areSectionsHandlesEnabled:function(){return ce.getState().viewTools.sectionsHandlesEnabled},toggleSectionsHandles:function(e,t){var o=!ht.sectionsHandles.areSectionsHandlesEnabled();ht.updateEditorViewTools("sectionsHandlesEnabled",o),rt(ne.USER_PREFS.VIEW_TOOLS.SECTIONS_HANDLES_ENABLED,o).then(e).catch(t)}},setSiteScale:function(e,t){e!==ce.getState().siteScale&&ht.updateState({siteScale:e}),ht.documentServices.site.setScrollAndScale(0,t,e,Oe),ht.ui.scroll.animateScroll({x:0,y:t},Oe)},zoomMode:{enterZoomMode:function(){o.tooltipManager.hide(ne.ROOT_COMPS.TOOLTIPS.FIRST_TIME_EXIT_POPUP_MODE),ht.setSiteScale(.5,0),ht.documentServices.documentMode.allowShowingFixedComponents(!1),n.keyboardShortcuts.setContext(n.keyboardShortcuts.CONTEXTS.ZOOM_MODE)},exitZoomMode:function(){ht.setSiteScale(1,0),ht.documentServices.documentMode.allowShowingFixedComponents(!0),n.keyboardShortcuts.setContext(n.keyboardShortcuts.CONTEXTS.EDITOR)},isInZoomMode:function(){return 1!==ce.getState().siteScale}},snapData:{set:function(e,t){t?ht.updateState({snapData:e}):ht.setStateWaitForViewer({snapData:e})},clear:function(e){e?ht.updateState({snapData:null}):ht.setStateWaitForViewer({snapData:null})}},lasso:{setCandidates:function(e){ht.updateState({lassoCandidates:e})},setLayout:function(e){ht.updateState({lassoLayout:e})},clear:function(){ht.updateState({lassoLayout:null,lassoCandidates:[]})}},clipboard:{types:ne.EDITOR_CLIPBOARD_TYPES,setItem:function(e,o){var i=t.cloneDeep(ce.getState().clipboard);i[e]=o,ht.updateState({clipboard:i})},getItem:function(e){return ce.getState().clipboard[e]}},clipboardContainsComp:function(){return!!ht.clipboard.getItem(ne.EDITOR_CLIPBOARD_TYPES.COMPONENT)},text:{startEditing:function(){if(ht._currentTextManager&&(CKEDITOR&&!CKEDITOR.wixDocumentServices&&(CKEDITOR.wixDocumentServices=ht),!me.isTextEditorOpen(ce.getState()))){var e=ht.selection.getSelectedComponents(),o=t.head(e);n.ravenUtils.breadcrumb("Text Editor Opened",{textCompForEdit:o}),ee.migrationUtils.isOldTextComponent(o,ht)?(ht.documentServices.bi.error(se.errors.OLD_TEXT_MIGRATION),ee.migrationUtils.migrateComponent(o,ht),ht.documentServices.waitForChangesApplied(function(){ce.dispatch(he())})):ce.dispatch(he())}},stopEditing:function(){me.isTextEditorOpen(ce.getState())&&ce.dispatch(be())},setCurrentTextEditor:function(e){ht._currentTextManager=e},isEditingText:function(){return me.isTextEditorOpen(ce.getState())},isEditingRepeatedTextComp:function(){if(ie.isOpen("repeatersTextEdit")){var e=t.head(ht.selection.getSelectedComponents());if("WRichText"===ht.selection.getSelectedComponentType())return ht.components.getRepeatedComponents(e).length>1}},undo:function(){ht._currentTextManager.undo()},canUndo:function(){return ht._currentTextManager.hasUndo},redo:function(){ht._currentTextManager.redo()},canRedo:function(){return ht._currentTextManager.hasRedo}},help:{openHelpCenter:function(t,o,i,n){e.log.error("editorAPI.help.openHelpCenter is deprecated. Use panelManager.openHelpCenter instead"),ht.panelManager.openHelpCenter(t,i,n)}},utils:{isSameRef:function(e,o){var i=Pe(e),n=Pe(o);if(Se(i)||Se(n)){if(i.length!==n.length)return!1;var r=t.sortBy(i,"id"),a=t.sortBy(n,"id");return t.every(r,function(e,t){return ht.documentServices.utils.isSameRef(e,a[t])})}return ht.documentServices.utils.isSameRef(t.head(i),t.head(n))},isPage:function(e){var t=Pe(e);return!Se(t)&&ht.documentServices.utils.isPage(t[0])},getParentIfCompCanBeSelected:function(e){return ht.components.is.selectable(e)?null:ht.components.getContainer(e)},findAncestorMatchesCondition:function(e,t){if(!e)return null;for(var o=ht.components.getContainer(e);o&&!t(o,e);)o=ht.components.getContainer(o);return o}},siteName:{validate:function(e){var t=ht.documentServices.siteName.validate(e),o={};return o[ht.documentServices.siteName.ERRORS.SITE_NAME_IS_EMPTY]="SAVE_SITE_NAME_IS_EMPTY",o[ht.documentServices.siteName.ERRORS.SITE_NAME_IS_NOT_STRING]="SITE_NAME_IS_NOT_STRING",o[ht.documentServices.siteName.ERRORS.SITE_NAME_INVALID_CHARS]="SAVE_SITE_NAME_INVALID_CHARS",o[ht.documentServices.siteName.ERRORS.SITE_NAME_ENDS_WITH_HYPHEN]="SAVE_SITE_NAME_ENDS_WITH_HYPHEN",o[ht.documentServices.siteName.ERRORS.SITE_NAME_TOO_SHORT]="SAVE_SITE_NAME_TOO_SHORT",o[ht.documentServices.siteName.ERRORS.SITE_NAME_TOO_LONG]="SAVE_SITE_NAME_TOO_LONG",o[ht.documentServices.siteName.ERRORS.SITE_NAME_ALREADY_EXISTS]="SAVE_SITE_NAME_ALREADY_EXISTS",t.errorMessage=o[t.errorCode],t},set:function(e){ht.documentServices.siteName.set(e);var t=ht.store.getState();de.isDomainConnected(t,ht.documentServices)||ht.documentServices.generalInfo.setPublicUrl(de.getFreeDomainPrefix(t,ht.documentServices)+e)},sanitize:function(e){return ht.documentServices.siteName.sanitize(e)},rename:function(o,i,r){var a=n.serviceTopology.editorServerRoot||"//editor.wix.com/html/editor/web";a+="/meta-site-proxy/rename/"+ht.documentServices.generalInfo.getMetaSiteId();var s=new FormData;s.append("newName",o),e.requestsUtil.fetch(a,{method:"POST",credentials:"same-origin",body:new URLSearchParams(s)}).then(function(){var e=ht.store.getState();ht.documentServices.siteName.set(o),de.isDomainConnected(e,ht.documentServices)||ht.documentServices.generalInfo.setPublicUrl(de.getFreeDomainPrefix(e,ht.documentServices)+o),i&&i()}).catch(r||t.noop)}},updateEditorViewTools:function(e,o){var i=t.isString(e)?_defineProperty({},e,o):e,n=t.defaults(i,ht.getViewTools());ht.updateState({viewTools:n})},toolbar:{isToolbarEnabled:function(){return ce.getState().viewTools.toolbarEnabled},toggleToolbar:function(){var e=!ht.toolbar.isToolbarEnabled();ht.updateEditorViewTools("toolbarEnabled",e),ie.isOpen("se_toolbarVisibility")&&rt(ne.USER_PREFS.VIEW_TOOLS.TOOLBAR_ENABLED,e)}},developerToolBar:{isEnabled:function(){return ce.getState().viewTools.developerToolBarEnabled},toggle:function(){var e=!ht.developerToolBar.isEnabled(),t=e?"open":"close";ht.bi.event(re.events.PROPERTIES_PANEL_TOGGLE,{site_id:ht.documentServices.generalInfo.getSiteId(),state:t}),ht.updateEditorViewTools("developerToolBarEnabled",e),rt(ne.USER_PREFS.VIEW_TOOLS.DEVELOPER_TOOLBAR_ENABLED,e)}},developerHiddenComponents:{isEnabled:function(){return ce.getState().viewTools.showHiddenComponents},toggle:function(){var e=!ht.developerHiddenComponents.isEnabled();ht.updateEditorViewTools("showHiddenComponents",e),ht.documentServices.documentMode.showHiddenComponents(e),rt(ne.USER_PREFS.VIEW_TOOLS.SHOW_HIDDEN_COMPS,e)}},grid:{guidelines:{isGuidelinesEnabled:function(){return ce.getState().viewTools.guidelinesEnabled},toggleGuidelines:function(e,t){var o=!ht.grid.guidelines.isGuidelinesEnabled();ht.updateEditorViewTools("guidelinesEnabled",o),rt(ne.USER_PREFS.VIEW_TOOLS.GUIDELINES_ENABLED,o).then(e).catch(t)}},snapTo:{isSnapToEnabled:function(){return ce.getState().viewTools.snapToEnabled},toggleSnapTo:function(e,t){var o=!ht.grid.snapTo.isSnapToEnabled();ht.updateEditorViewTools("snapToEnabled",o),rt(ne.USER_PREFS.VIEW_TOOLS.SNAPTO_ENABLED,o).then(e).catch(t)}}},siteSegments:{getRefs:function(){var e=ht.documentServices.siteSegments;return[e.getFooter(),e.getHeader(),e.getPagesContainer(),e.getSiteStructure()]},getPagesContainerAbsLayout:function(){return ae.editorPlugins.siteSegments.selectors.getPagesContainerAbsLayout(ht.dsRead)}},tooltipTextService:{registerTooltipText:function(e,o,i){t.isUndefined(ft[e])&&(ft[e]={}),ft[e][o]=i},getSelectedComponentTooltipText:function(e){return it(ht.selection.getSelectedComponents(),e)},getComponentTooltipText:it},homePage:{get:function(){return ht.documentServices.homePage.get()},set:function(e){ht.documentServices.homePage.set(e),p.setHomePagePlugins.run(ht,e)}},openEditorVersionInfoPanel:function(){ht.panelManager.openPanel("rEditor.panels.editorVersionInfoPanel")},styles:{openApplyStylePanel:function(e){ht.panelManager.openPanel("rEditor.panels.applyStylePanel",{selectedComp:e})}},bi:{getComponentsBIParams:function(e){return t.map([].concat(e),function(e){var o={};if(e){o.component_id=e.id;var i=ht.components.getType(e);o.component_type=i,i&&ht.isTpa(i)&&t.assign(o,ht.bi.getTpaComponentBIParams(e))}return o})},getTpaComponentBIParams:function(e){var o={};if(!t.isEmpty(e)&&We(ht.components.getType(e))){var i=ht.components.data.get(e)||{},n=ht.documentServices.tpa.app.getData(i.applicationId);o.app_id=""+n.appDefinitionId,o.app_site_id=""+n.instanceId,o.instance_id=""+e.id,o.widget_id=""+i.widgetId;var r="TPAWidget"===i.type,a=ht.documentServices.tpa.app.isLastAppComp(i.applicationId)||!(r||ht.documentServices.tpa.app.isMultiSectionInstalled(i.applicationId));o.is_last_tpa=a?1:0}return o},reportBI:function(e,o,i){!i||t.isFunction(i)&&i()?t.forEach(o,t.bind(function(o){var i=t.isFunction(o)?o():o;i.is_last=i.is_last||i===ht,ht.bi.event(e,i)},o[o.length-1])):t.isFunction(i)&&ht.biConditionedEventsQueue.push({event:e,biParamArray:o,condition:i})},tryFlushingConditionedEvents:function(){if(!t.isEmpty(ht.biConditionedEventsQueue)){var e=t.remove(ht.biConditionedEventsQueue,function(e){return t.isFunction(e.condition)&&e.condition()});t.forEach(e,function(e){ht.bi.reportBI(e.event,e.biParamArray)})}}},campaigns:{fetchCampaignInfo:function(){var t=n.serviceTopology.dealerUrl+"/salesSystemResolver";e.requestsUtil.fetchJson(t).then(function(e){e&&(ht.campaignInfo={id:e.payload.campaignId,type:e.payload.type})}).catch(function(t){e.log.error(t)})},getActiveCampaignInfo:function(){return ht.campaignInfo},isActiveCampaign:function(e){return!!ht.campaigns.getActiveCampaignInfo()&&t.includes(ht.campaigns.getActiveCampaignInfo().id,e.id)},getDiscountValue:function(e){var o=ht.campaigns.getActiveCampaignInfo().id.split("_");return 1===o.length?e.defaultDiscount:t.last(o)},personalSale:{isActiveCampaign:function(){return ht.campaigns.isActiveCampaign(ne.CAMPAIGNS.PERSONAL_SALE)||ht.campaigns.isActiveCampaign(ne.CAMPAIGNS.SEASONAL_CAMPAIGN)},getDiscountValue:function(){return ht.campaigns.getDiscountValue(ne.CAMPAIGNS.PERSONAL_SALE)},getAssetPath:function(){return ne.CAMPAIGNS.PERSONAL_SALE.assetPath}}},newEditorWelcomeScreenWrapper:k,showFloatingBubble:function(e,o,i,n){ht.updateState({floatingBubble:t.assign({},ce.getState().floatingBubble,{value:e,targetLayout:o,bubbleProps:i,shouldNotHideOnMouseLeaveTarget:n})})},hideFloatingBubble:function(){var e={value:null,targetLayout:null,bubbleProps:{},shouldNotHideOnMouseLeaveTarget:!1};t.isEqual(ce.getState().floatingBubble,e)||ht.updateState({floatingBubble:e}),window.clearTimeout(De)},blockingPopupLayer:{show:function(){var e=ne.EDITOR_API.BLOCKING_LAYER_STYLE;ht.documentServices.renderPlugins.setCompsToShowOnTop(t.map(ht.selection.getSelectedComponents(),"id")),ht.documentServices.renderPlugins.setBlockingPopupLayer(e)},hide:function(){ht.documentServices.renderPlugins.setCompsToShowOnTop(null),ht.documentServices.renderPlugins.setBlockingPopupLayer(null)}},getSiteScale:function(){return Ie(ce.getState())},endMouseMoveActionIfNeeded:function(e){ht.mouseActions.getRegisteredMouseMoveAction()&&ht.mouseActions.onMouseUp(e)},isVerticalScrollbarHidden:function(){var e=window.document.body.clientHeight>window.innerHeight;return!e||e&&window.document.body.clientWidth===window.innerWidth},onCollectionAdded:function(){ht.toggleEditorStateParam("hasDatabaseCollections",!0)},toggleEditorStateParam:function(e,t){var o={};o[e]=void 0===t?!ce.getState()[e]:t,ht.updateState(o)},toolsControl:{toggleHalfOpacityTools:function(e){ht.toggleEditorStateParam("halfOpacityTools",e)},toggleHideToolsBtnBlink:function(e){ht.toggleEditorStateParam("shouldHideToolsBtnBlink",e)},toggleHideTools:function(e,i){var n=ce.getState();i=i||n.hideToolsAndMaintainStagePosition;var r=void 0===e?!n.hideTools:e,a=Ve();ht.hideFloatingBubble();var s=Te(n),l=i?s:t.defaults({top:Ge(r)},s);return ht.updateState({hideToolsAndMaintainStagePosition:r?i:r,hideTools:r,halfOpacityTools:!1,shouldHideToolsBtnBlink:!1}),ce.dispatch(_e(l)),r&&(o.tooltipManager.hideAll(),t(a).reject({frameType:ne.PANEL_TYPES.COMP}).reject({name:"panels.toolPanels.linkPanel"}).forEach(function(e){ht.panelManager.closePanelByName(e.name)})),r},areToolsHiddenAndStagePositionMaintained:function(){return ce.getState().hideToolsAndMaintainStagePosition},areToolsHidden:function(){return ce.getState().hideTools},isHalfOpacityTools:function(){return ce.getState().halfOpacityTools}},blog:{add:function(e,t){te.installApp(ht,e||"MediaLeftPage",t)}},cursor:{get:function(){return ke},set:function(e){ke=e},updateMousePosition:function(e,t){var o={x:e,y:t};ht.cursor.set(o)}},overlay:{disableUpdate:function(){ht.updateState({shouldOverlayUpdate:!1})},enableUpdate:function(){ht.updateState({shouldOverlayUpdate:!0})},shouldUpdate:function(){return ce.getState().shouldOverlayUpdate}},topBarMenuBar:{openDropDown:et,closeDropDown:function(e){if(!ce.getState().topBar.shouldDropPanelRemainOpen){var t=ce.getState().topBar.openedDropPanel;e&&e!==t||et(null)}},getOpenedDropDown:function(){return ce.getState().topBar.openedDropPanel}},topBarPagesFilter:{set:function(e){ot({topBarPagesFilter:e})},get:function(){return ce.getState().topBarPagesFilter}},scroll:{get:function(){return nt},registerNewScrollPosition:function(e){nt=e,ht.site.setScroll(e.scrollLeft,e.scrollTop)},scrollTo:He,animateScrollTo:function(e,t,o){ht.updateState({animateScrollTo:{position:e,duration:t,onComplete:o}})},clearScrollTo:function(){ht.updateState({scrollTo:null,animateScrollTo:null})},resetScrollListeners:function(){ht.scrollListeners=[]},handleStageScroll:function(e){t.invokeMap(ht.scrollListeners,t.call,null,e)},addScrollListener:function(e){ht.scrollListeners.push(e)},removeScrollListener:function(e){ht.scrollListeners=t.without(ht.scrollListeners,e)}},setFocus:function(){var e=ce.getState().eventCounters,o=t.assign(e,{focus:e.focus+1});ce.dispatch(ae.editorPlugins.legacy.actions.setState({eventCounters:o}))}};return ht.pluginService=Z.create(),ht.editorEventRegistry=oe.create(),ht.history=v.create(ht),ht.pinMode=V.create(ht),ht.imageCrop=S.create(ht),ht.ui=L.create(ht),ht.promotions=z.create(ht),ht.preview=W.create(ht),ht.pages=U.create(ht),ht.wixCode=N.create(ht),ht.wixStores=B.create(),ht.selection=R.create(ht),ht.layouters=G.create(ht),ht.savePublish=T.create(ht),ht.tabIndicationState=_.create(ht),ht.site=P.create(ht),ht.mainMenu=M.create(ht),ht.menus=w.create(ht),ht.components=I.create(ht),ht.copyPaste=x.create(ht),ht.concurrentUsers=b.create(ht),ht.columns=F.create(ht),ht.account=q.create(ht),ht.platform=H.create(ht),ht.databaseEditor=D.create(ht),ht.selectedComponent=C.create(ht),ht.developerMode=E.create(ht),ht.feedback=O.create(ht),ht.theme=y.create(ht),ht.mobile=j.create(ht),ht.panelHelpers=c.create(ht),ht.mouseActions=Y.create(ht),ht.tpa=K.create(ht),ht.media=X.create(ht),ht.documentServices=null,ht.userPreferences=u(ht.store),ht.editorConfig={topBarHeight:ne.UI.TOPBAR_HEIGHT,previewHeight:null,previewWidth:null,languages:["latin"],extraSiteHeight:40},ht.pendingStateChanges={},ht.pendingEditorStateUpdateCallbacks=[],ht.removePlugins={},ht.removePagePlugins={},ht.componentsRemoveHandlerPlugins=[],ht.hidePlugins={},ht.duplicatePlugins={},ht.compNamePlugins={},ht.compIconPlugins={},ht.cannotRemovePlugins={},ht.copyComponentPlugins={},ht.pasteComponentPlugins={},ht.cutComponentPlugins={},ht.addComponentPlugins={},ht.serializeComponentPlugins={},ht.pageNavigationCallbacks=[ht.mobile.updateLeftBarNotificationsCount],ht.afterPasteComponentCallbacks=[],ht.viewerUpdateCallbacks=[ze],ht.userPreferencesInitCallbacks=[function(){var e=ae.editorPlugins.userProfile.selectors.getUserProfile(ht.store.getState()),o=t.get(e,["wix_code_exposure_flag","value"]);!ie.isOpen("excludeFromWixCodeMarketingFlow")&&o&&ht.generalInfo.isFirstSave()&&ht.developerMode.enableWithMarketingConfig()},ht.mobile.initMobileEditorFlag,ht.initViewToolsFromUserPrefs,ht.initUserAddedColors,function(){var e=st(ne.USER_PREFS.VIEW_TOOLS.SHOW_HIDDEN_COMPS);ht.documentServices.documentMode.showHiddenComponents(e),ht.documentServices.documentMode.showControllers(ht.getViewTools().developerModeEnabled)},function(){f.init(ht,h.registerGfppActions,g.registerComponent,g.mergeComponentGfppData,ne.ROOT_COMPS.GFPP.ACTIONS)}],ht.sitePublishedCallbacks=[],ht.deviceTypeChangeCallbacks=[],ht.biConditionedEventsQueue=[],ht.registeredHideBubbleOnPreview=!1,ht.isSavedInCurrentSession=!1,ht.pasteLogic=J,ht.mediaServices=s.create(ht),ht.panelManager=i.PanelManager.create(ce),ht.saveManager=m.createSaveManager(ht,e.log),ht.publishManager=m.createPublishManager(ht),ht.autosaveManager=m.createAutosaveManager(ht),ht.scroll.resetScrollListeners(),fe&&n.measuring.measureAndReportFrameRate(ce.getState,ce.dispatch,Ee,ht.mouseActions.getRegisteredMouseMoveAction,ae.editorPlugins.bi.actions.event,se.events.editor,2),window.testApi&&window.testApi.domSelectors&&(window.testApi.editorAPI=ht),ht}var pe=n.serviceTopology.dashboardUrl.replace(/create\//,"")+"/"||"http://www.wix.com/my-account/",de=ae.editorPlugins.domain.selectors,ue=ae.editorPlugins.components.selectors,me=ae.editorPlugins.text.selectors,ge=ae.editorPlugins.selection.actions.setSelectedCompsRestrictions,fe=ae.editorPlugins.text.actions,he=fe.openTextEditor,be=fe.closeTextEditor,ye=ae.editorPlugins.selection.selectors.getSelectedCompsRefs,ve=n.array,Se=ve.isMultiselect,Pe=ve.asArray,Ee=ae.editorPlugins.mouseActions.selectors.isPerformingMouseMoveAction,Ce=ae.editorPlugins.domMeasurements.selectors,Te=Ce.getPreviewPosition,Ie=Ce.getSiteScale,_e=ae.editorPlugins.domMeasurements.actions.updatePreviewPos,Oe=.5,Me=t.once(function(e){var t=window.document.createElement("link");t.rel="stylesheet",t.type="text/css",t.href=n.serviceTopology.scriptsLocationMap["dealer-react-viewer"]+"/dealer-viewer.min.css",t.onload=function(){e.isDealerCssLoaded=!0},window.document.head.appendChild(t)}),we=function(e){requirejs(["wixDealerViewer"],function(t){e.wixDealerViewer=t})},Ae={toolbarEnabled:!0,developerModeEnabled:!1,showHiddenComponents:!0,guidelinesEnabled:!0,sectionsHandlesEnabled:!0,snapToEnabled:!0,rulersEnabled:void 0,rulers:{guidesState:{},selectedGuide:void 0,isHovered:!1,isDragging:null}},Re=["latin"],De=null,ke={};return{create:ce}}),define("rEditor/utils/previewUrl",["lodash","util","rEditor/utils/openPanelByURL","coreBi","experiment"],function(e,t,o,i,n){"use strict";function r(i,r,a){var c=i.editorServerRoot||"http://editor.wix.com/html/editor/web",p=c+"/renderer/render/",d=p+"document/",u=p+"template/",m=c+"/renderer/new?",g=0===r.href.indexOf(m)?u:d,f=t.url.parseUrl(r.href).query;f.debug="editor"===f.debug?"":f.debug,f.editorSessionId=a.editorSessionId,f.esi=a.editorSessionId;var h=e(f).keys().find(function(e){return"showmobileview"===e.toLowerCase()}),b=e.pickBy(f,function(t,o){return e.endsWith(o,"-override")}),y=l,v="open"===f.applicationStudio,S=new t.UrlBuilder(g+(f.siteId||function(e){var t=e.match(s);return t&&t.length&&t[1]}(r.href))).param("isEdited","true").param("isSantaEditor","true").param("dsOrigin","Editor1.4").ifParam(f.debugViewer,"debug",f.debugViewer).ifParam(f.petri_ovr,"petri_ovr",f.petri_ovr).ifParam(n.isOpen("wixstaff"),"iswixsite","true").ifParam(h||o.shouldLoadMobileEditor(f),"showMobileView","true").ifParam(v,"configName","appStudio").param("lang",a.languageCode).paramsObj(e.pick(f,y)).paramsObj(b);return n.isOpen("se_multilingual")&&S.param("languages",f.languages),S.url()}function a(o,n,a,s,l){var c=r(s,o,a);if(n){var p={prefetched_preview_url:n,client_preview_url:c,does_match:function(o,i){var n=["hash","host","hostname","path","port","protocol","query"];return e.isEqual(e.pick(t.url.parseUrl(o),n),e.pick(t.url.parseUrl(i),n))}(n,c)};return l(i.events.editor.PREVIEW_PREFETCH_COMPARISON,p),n}return c}var s=/\/([a-zA-Z0-9]{8}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{12})/,l=["metaSiteId","ReactSource","SantaVersions","baseVersion","isqa","editorSessionId","layoutMechanism","experiments","experimentsoff","viewerexp","suppressbi","WixCodeRuntimeSource","sampleratio","hot","dsQTrace","autosaveRestore","disableSave","debugApp","closeSectionGaps","editorSdkSource","editorPlatformAppSources","viewerPlatformAppSources","PlatformContainerSource","PlatformContainerHttp","esi","applicationStudio","configName"];return{getPreviewUrl:a}}),define("rEditor/rootComps/editorMain",["reactDOM","lodash","util","react","reduxLibs","rEditor/rootComps/editor","rEditor/app/EditorAPI","rEditor/utils/previewUrl","baseUI","stateManagement","higherOrderComponents","experiment","wixmp"],function(e,t,o,i,n,r,a,s,l,c,p,d,u){"use strict";function m(n){window.document.title=o.translate("EDITOR_BROWSER_TAB_NAME"),function(o){o.qaAutomation&&(o.qaAutomation=o.qaAutomation(i,e,t.get(i,"addons.TestUtils"),"reactDOMServer is not defined",!0).qaAutomation),o.debugTools&&(window.testApi=t.assign({},window.testApi,{domSelectors:o.qaAutomation.getDomSelectors(o.react,o.reactDOM,o.react.addons.TestUtils),helpers:o.debugTools.helpers,clientSelectors:o.debugTools.clientSelectors,publishState:{isPublishedInSession:!1}})),o.qaAutomation&&o.qaAutomation.init(window),o.tpaIntegrationEditor&&o.tpaIntegrationEditor.init(window,o.tpa,o.util,o.savePublish,o.panels),o.uiLibIntegrationEditor&&o.uiLibIntegrationEditor.init(window,o.tpa,o.util,o.savePublish,o.panels),o.platformIntegrationEditor&&o.platformIntegrationEditor.init(window,o.platform)}(n),o.imageTransform.init(),o.polyfills.register(),d.isOpen("qualaroo")&&o.qualaroo.start(),o.fullStory.start(),o.fedopsLogger.create();var m=!!o.url.getParameterByName("debug")||"true"===o.url.getParameterByName("isqa"),f=c.createEditorStore(m,{tooltipManager:l.tooltipManager,wixmpFonts:{uploadQueue:[],wixmpSource:new u.Source(u.sources.PRIVATE,{asyncFontUpload:!0})}}),h=c.throttledStore(o.animationFrameUtils.request,o.animationFrameUtils.cancel,f),b=a.create(h,!0);f.dispatch(c.editorPlugins.legacy.actions.loadEditorAPI(b));var y=t.get(window.document.getElementById("preview-prefetch"),"href"),v={previewUrl:s.getPreviewUrl(window.document.location,y,o.editorModel,o.serviceTopology,function(e,t){window.bi.event(e.evid,t)}),editorAPI:b},S=window.document.getElementById("root"),P=p.connect(function(e){return{editorIsInit:e.editorIsInit,previewMode:e.previewMode}},t.noop,!0)(r),E=i.createElement(P,v),C=i.createElement(g.Provider,{store:h},E);window.addEventListener("focus",function(e){f.dispatch(c.window.actions.onFocus(e))}),window.rendered=e.render(C,S),function(e){o.url.getParameterByName("debug")&&(window.editorAPI=e)}(b)}var g=n.reactRedux;return{start:m}}),define("rEditor/rootComps/panels/popup/overlaySettingsPanel/overlaySettingsPanel.rt",["react","lodash","baseUILib","baseUI","util","core","compPanels"],function(e,t,o,i,n,r,a){"use strict";return function(){function i(){var i=this.getPopupProps()||{};return e.createElement(a.compPanelFrame,function(e,o){var i=t.assign({},e,o);return e.hasOwnProperty("style")&&(i.style=t.defaults(i.style,e.style)),e.hasOwnProperty("className")&&o.hasOwnProperty("className")&&(i.className=o.className+" "+e.className),i}({title:"Popups_OverlaySettings_Panel_Header",className:"popup-overlay-settings-panel",contentClass:"settings-panel",helpId:this.getHelpId()},this.getFrameProps()),e.createElement(o.Divider,{long:!1}),e.createElement(o.Composites.ToggleSwitch,{key:"clickClosesOverlay2"},e.createElement(o.ToggleSwitch,{value:this.linkPopupPropsValue(i,"closeOnOverlayClick").value,label:"Popups_OverlaySettings_ClickCloses_Toggle",onChange:this.linkPopupPropsValue(i,"closeOnOverlayClick").requestChange})))}return i.apply(this,[])}}),define("rEditor/rootComps/panels/popup/overlaySettingsPanel/overlaySettingsPanel",["create-react-class","lodash","compPanels","helpIds","coreBi","rEditor/rootComps/panels/popup/overlaySettingsPanel/overlaySettingsPanel.rt"],function(e,t,o,i,n,r){"use strict";return e({displayName:"overlaySettingsPanel",mixins:[o.compPanelMixin],render:r,componentDidMount:function(){this.getEditorAPI().bi.event(n.events.popups.setup_overlay_clicked,{})},getHelpId:function(){return i.UTILS.getSettingsHelpId(i.COMP_TYPES.POPUP_OVERLAY,this.getEditorAPI().isMobileEditor())},getPage:function(){return this.getEditorAPI().pages.popupPages.getCurrentPopup()},getPopupProps:function(){return t.get(this.getEditorAPI().pages.properties.get(this.getPage()),"popup",{})},openHelpPanelFrame:function(){this.openHelpCenter(this.getHelpId(),!0)},linkPopupPropsValue:function(e,o){return{value:e&&e[o],requestChange:function(e){var i=this.getEditorAPI(),n=i.pages.properties.get(this.getPage());t.set(n,["popup",o],e),i.pages.properties.update(this.getPage(),n),i.history.add("toggle close popup by click on overlay")}.bind(this)}}})}),define("rEditor/rootComps/panels/thumbNailItemRow.rt",["react","lodash","baseUI"],function(e,t,o){"use strict";return function(){return e.createElement("li",{onClick:this.props.onClick,className:"panel-button"},e.createElement("div",{className:"panel-button-inner"},e.createElement("div",{className:"label"},e.createElement(o.symbol,{name:this.props.itemName}),e.createElement("span",{className:"button-label"},this.props.itemLabel)),e.createElement("div",{className:"action"},e.createElement(o.symbol,{name:"arrowWithStates"}))))}}),define("rEditor/rootComps/panels/thumbNailItemRow",["create-react-class","prop-types","lodash","rEditor/rootComps/panels/thumbNailItemRow.rt"],function(e,t,o,i){"use strict";return e({propTypes:{onClick:t.func,itemName:t.string,itemLabel:t.string},displayName:"myUploadItem",render:i})}),define("rEditor/rootComps/panels/myMediaPanel.rt",["react","lodash","baseUI","baseUILib","util","core","panels","rEditor/rootComps/panels/thumbNailItemRow"],function(e,t,o,i,n,r,a,s){"use strict";return function(){return e.createElement(a.frames.leftPanelFrame,{className:"panel-background",panelName:this.props.panelName,panelClass:"my-uploads-panel",panelIndex:this.props.panelIndex,label:n.translate("MY_UPLOADS_PANEL_HEADER_TITLE"),helpId:"e1df1248-6bd6-4497-ad2a-2a42cd357eae"},e.createElement("div",{className:"listWrapper"},e.createElement(i.CustomScroll,{addScrolledClass:!0,heightRelativeToParent:"100%"},e.createElement.apply(this,["ul",{},t.map(this.getUploadItems(),function(t,o){return e.createElement(s,{key:t.itemName,onClick:t.onClick,itemName:t.itemName,itemLabel:n.translate(t.itemLabel)})}.bind(this))]))))}}),define("rEditor/rootComps/panels/myMediaPanelAddCompData",["lodash","util"],function(e,t){"use strict";var o=t.backgroundPanelUtils,i={pdf:"40d80b8089c8418a961cb75d96d491f7.png",doc:"b8964aa7650d463fac3b77e0d00e8f12.png",docx:"b8964aa7650d463fac3b77e0d00e8f12.png",ppt:"a41192b40f324972a1d919a8350965f8.png",ppx:"a41192b40f324972a1d919a8350965f8.png",xls:"757aeccaa7f4409b93913c55e36a194d.png",xlsx:"757aeccaa7f4409b93913c55e36a194d.png",odp:"ac1fbe0592434c58889947de5714b3c7.png",odt:"ac1fbe0592434c58889947de5714b3c7.png",other:"046956f7d55f4143a30b3b54669ee243.png"};return{picture:function(e){var t=Math.min(600,e.width);return{componentType:"wysiwyg.viewer.components.WPhoto",layout:{width:t,height:Math.floor(t*e.height/e.width)},data:{width:e.width,height:e.height,alt:"",uri:e.uri,title:e.title,type:"Image",description:""}}},document:function(e){var t=e.uri.split(".").pop();return{componentType:"wysiwyg.viewer.components.documentmedia.DocumentMedia",layout:{width:90,height:140},data:{title:e.title,uri:i[t]||i.other,description:"",width:105,height:141,type:"Image",link:{docId:e.uri,name:e.title,type:"DocumentLink"}},style:"dm1",props:{type:"DocumentMediaProperties",showTitle:!1}}},music:function(e){return{componentType:"wysiwyg.common.components.singleaudioplayer.viewer.SingleAudioPlayer",layout:{width:304,height:60},data:{originalFileName:e.title,uri:e.uri,type:"SingleAudioPlayer"},props:{autoplay:!1,loop:!1,showArtist:!0,showTrack:!0,volume:50,type:"SingleAudioPlayerProperties"},style:"SingleAudioPlayer_1"}},video:function(t,i,n){var r=o.getMediaPlayerVideoObject([t],i),a=o.getAspectRatio(r),s=o.getMediaProportionSize(a);!function(e,t,o){e.width>e.height?e.width>o&&(e.width=o,e.height=e.width/t):e.height<o&&(e.height=o,e.width=e.height*t)}(s,640);var l=n.addPanel.getCategory("video"),c=e.find(l.items,{sectionName:"singleVideoSection"}),p=e.cloneDeep(e.get(c,["props","items",0,"structure"]));return e.set(p,"design.background.mediaRef",r),p.layout={width:s.width,height:s.height},e.forEach(p.components,function(e){"wysiwyg.viewer.components.MediaOverlayControls"===e.componentType?(e.layout={width:86,height:86,x:(s.width-86)/2,y:(s.height-86)/2},e.design={type:"MediaControlsDesignData",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},iconsDefaultDesign:{type:"VectorImageDesignData",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},shapeStyle:{opacity:.8,strokeOpacity:1,stroke:"#000000",enableStroke:!1,strokeWidth:1},overrideColors:{color1:"#000000"}},icons:[{type:"ControlIconDesignData",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},name:"playButton",svgId:"0da768_661bc0cafffa432db3753ad5d17e4f10.svg"}]}):"wysiwyg.viewer.components.MediaControls"===e.componentType&&(e.props.showStoryboard=o.getStoryboardDisplayValue(r),e.layout={width:s.width,height:44,x:0,y:s.height-44},e.design={type:"MediaControlsDesignData",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},iconsDefaultDesign:{type:"VectorImageDesignData",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},shapeStyle:{opacity:1,strokeOpacity:1,stroke:"#000000",enableStroke:!1,strokeWidth:1},overrideColors:{color1:"#ffffff"}},icons:[{type:"ControlIconDesignData",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},name:"volumeOn",svgId:"0da768_4026746ebab74627a513aa0df1511dea.svg"},{type:"ControlIconDesignData",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},name:"volumeOff",svgId:"0da768_c6d2d796452644a6a4a243c3afb7b781.svg"},{type:"ControlIconDesignData",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},name:"noAudio",svgId:"0da768_c6d2d796452644a6a4a243c3afb7b781.svg",iconDesign:{type:"VectorImageDesignData",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},overrideColors:{color1:"#a9a9a9"}}}]})}),e.assign(p.props,{autoplay:!0,loop:!0,mute:!0,disableAudio:!1,playerInteraction:{click:"toggle",rollIn:"none",rollOut:"none"}}),p},shape:function(e){return{layout:{width:200,height:200},props:{type:"VectorImageProperties",displayMode:"fit"},skin:"skins.viewer.VectorImageSkin",componentType:"wysiwyg.viewer.components.VectorImage",data:{type:"VectorImage",svgId:e.uri},design:{type:"VectorImageDesignData",shapeStyle:{opacity:1},overrideColors:null},style:{type:"TopLevelStyle",style:{groups:{},properties:{},propertiesSource:{}},componentClassName:"wysiwyg.viewer.components.VectorImage",styleType:"custom",skin:"skins.viewer.VectorImageSkin"}}}}}),define("rEditor/rootComps/panels/myMediaPanel",["create-react-class","lodash","constants","core","util","rEditor/rootComps/panels/myMediaPanel.rt","rEditor/rootComps/panels/myMediaPanelAddCompData","coreUtilsLib","stateManagement","coreBi","experiment"],function(e,t,o,i,n,r,a,s,l,c,p){"use strict";var d=l.editorPlugins.bi.actions.event,u=n.backgroundPanelUtils,m=c.events.singleVideoPlayer,g=l.editorPlugins.userPreferences.actions.setSessionUserPreferences,f=o.VECTOR_IMAGE_DEFAULTS.VECTOR_SHAPE_COLOR_DEFAULT;return e({displayName:"MyMediaPanel",mixins:[i.mixins.editorAPIMixin,n.blockOuterScrollMixin],titleMap:{IMAGE:"MY_UPLOADS_MMGR_IMAGE_MANAGE_TITLE",VECTOR_ART:"MY_UPLOADS_MMGR_VECTOR_ART_MANAGE_TITLE",VIDEO:"MY_UPLOADS_MMGR_VIDEO_MANAGE_TITLE",MUSIC:"MY_UPLOADS_MMGR_MUSIC_MANAGE_TITLE",DOCUMENT:"MY_UPLOADS_MMGR_DOCUMENT_MANAGE_TITLE"},mediaManagerOpen:function(e){var t=this.getEditorAPI();t.bi.event(c.events.myMediaPanel.my_uploads_panel_section_click,{section:e});var o=l.editorPlugins.userPreferences.selectors.getSessionUserPreferences("last_media_path_"+e)(t.store.getState());t.mediaServices.mediaManager.open(e,{multiSelect:!0,callback:this.onItemsSelected.bind(this,e),translation:{title:n.translate(this.titleMap[e])},path:o})},fontsManagerOpen:function(){this.getEditorAPI().panelManager.openPanel("panels.toolPanels.fontsUploadPanel",{},!0)},onItemsSelected:function(e,o,i){if(o){var n=this.getEditorAPI();n.pasteLogic.addContext.resetPastePosition(),n.store.dispatch(g("last_media_path_"+e,i.path||"")),t.forEach(o,t.bind(function(t,o,n){this.addComponent(e,i,t,o,n)},this)),n.mediaServices.setFocusToEditor()}},addComponent:function(e,o,i,n,r){var l=this.getEditorAPI(),p=l.store.dispatch,h=function(e,t,o){var i=a[e.mediaType];if(i)return i(e,t,o);s.log.error("Unsupported media type",e.mediaType)}(i,o,l),b=l.documentServices.pages.getFocusedPageId(),y=l.pasteLogic.addContext.getPastePosition(l,h.layout,b);t.merge(h.layout,y);var v=l.documentServices.pages.getReference(b);l.documentServices.waitForChangesApplied(function(){l.components.add(v,h,void 0,function(o){if(n===r.length-1&&(l.selection.selectComponentByCompRef(o),l.history.add("added component")),p(d(c.events.addPanel.COMPONENT_ADDED_TO_STAGE,{origin:"my_uploads",category:t.get(l,["mediaServices.mediaManager",e,"mmgrParams.mediaType"]),component_type:h.componentType,component_id:o.id,adding_method:"click"})),"video"===e.toLowerCase()&&p(d(m.video_player_video_changed,u.getChangeVideoBiEventFields(i,"my_uploads"))),t.includes(["VECTOR_ART","VECTOR_ART_UGC"],e)){var a=l.media.vectorImage.getSvgInfoFromCache(i.uri),s=t.get(a,"svgType");if(t.includes(["shape","tint"],s)){var g=f.color1,b=l.components.design.get(o),y=t.assign({},b,{overrideColors:{color1:g}});l.components.design.update(o,y,!0,!0)}}})}),l.store.dispatch(g("last_media_path_"+i.uri,o.path||""))},isWixMusic:function(){return this.getEditorAPI().documentServices.tpa.app.isInstalled("13bb5d67-1add-e770-a71f-001277e17c57")},getUploadItems:function(){var e={itemName:"my_uploads_fonts",itemLabel:"MY_UPLOADS_MY_FONTS_LINK_LABEL",onClick:this.fontsManagerOpen,shouldDisplay:!0},o={itemName:"my_uploads_images",itemLabel:"MY_UPLOADS_MY_IMAGES_LINK_LABEL",onClick:this.mediaManagerOpen.bind(this,"IMAGE"),shouldDisplay:!0},i={itemName:"my_uploads_vector_images",itemLabel:"MY_UPLOADS_MY_VECTOR_ART_LINK_LABEL",onClick:this.mediaManagerOpen.bind(this,"VECTOR_ART"),shouldDisplay:p.isOpen("se_vector_image_ugc")},n={itemName:"my_uploads_video",itemLabel:"MY_UPLOADS_MY_VIDEOS_LINK_LABEL",onClick:this.mediaManagerOpen.bind(this,"VIDEO"),shouldDisplay:!0},r={itemName:"my_uploads_single_tracks",itemLabel:"MY_UPLOADS_MY_MUSIC_LINK_LABEL",onClick:this.mediaManagerOpen.bind(this,"MUSIC"),shouldDisplay:!this.isWixMusic()},a={itemName:"my_uploads_docs",itemLabel:"MY_UPLOADS_MY_DOCUMENT_LINK_LABEL",onClick:this.mediaManagerOpen.bind(this,"DOCUMENT"),shouldDisplay:!0},s=[e,o,i,n,r,a];return p.isOpen("changeMyUploadOrder")&&(s=[o,i,n,e,a,r]),t.filter(s,"shouldDisplay")},render:r})}),define("rEditor/rootComps/panels/backgroundPanel/backgroundDesktopPresets.json",[],function(){return[{presetIndex:1,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Electric Darkness",videoId:"video/11062b_6a134fc09ea34833a17d295e295ab517",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_6a134fc09ea34833a17d295e295ab517f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},opacity:1,duration:6,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"",name:""}},color:"{color_24}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_880a3209e3744cd0a96b66835a01b8c5.png",width:256,height:256},colorOverlay:"#0AFCFC",colorOverlayOpacity:.2}},{presetIndex:2,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Floating Particles",videoId:"video/11062b_03c50f8fe4a34cc297a984e483a282ef",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_03c50f8fe4a34cc297a984e483a282eff000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},opacity:1,duration:18,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"",name:""}},color:"#000000",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#02B0AD",colorOverlayOpacity:.3,imageOverlay:""}},{presetIndex:3,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Bananas",uri:"8034aa3291a54c489a7b7a3121d994f9.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:1177,height:1200,artist:{id:"",name:""}},color:"#8BD0CD",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:4,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Rain Clouds",videoId:"video/11062b_8e792646ca71495b96677c20e27e9122",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_8e792646ca71495b96677c20e27e9122f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},opacity:1,duration:14,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v47427758",name:"bisgtock"}},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#000000",colorOverlayOpacity:.4,imageOverlay:""}},{presetIndex:5,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Deep Sea Waves",videoId:"video/11062b_f1fbf8b243e942a692e564fac5382513",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_f1fbf8b243e942a692e564fac5382513f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},opacity:1,duration:10,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v47427890",name:"bisgtock"}},color:"#052F5B",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_4371c7e64a49489bb88c536f515f2040.png",width:6,height:6},colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:6,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Divers Underwater",uri:"bbde6e2b4387431ca37f8e093bcb0e8e.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:4368,height:2912,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:7,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Dot Pattern",uri:"70127753074e4bf694b4b889710f0b7a.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:200,height:202,artist:{id:"",name:""}},color:"#002E5D",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:8,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Aurelia Jellyfish",uri:"884454ad07cf46a5bb7fb6aef2e02358.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",width:2700,height:2160,artist:{id:"",name:""}},color:"#002E5D",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:9,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Swaying Palms",videoId:"video/11062b_d013b164dadb47ec8e746ab178aacfbb",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_d013b164dadb47ec8e746ab178aacfbbf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:29,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v51654467",name:"bigstock"}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_880a3209e3744cd0a96b66835a01b8c5.png",width:256,height:256},colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:10,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Girl in the Window",uri:"acb4853a0d8543b3ac291da735e9959b.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:6048,height:4032,artist:{id:"",name:""}},color:"#002E5D",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:11,path:"public/8e256233-1752-4026-9341-54036e7f875e/db9e3e42-59d2-461f-b589-6cbbf7c2c06e",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"In the Office",videoId:"video/11062b_6743da5900054f1f8e69f53302930a6a",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_6743da5900054f1f8e69f53302930a6af000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/db9e3e42-59d2-461f-b589-6cbbf7c2c06e",width:1920,height:1080},opacity:1,duration:30,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"",name:""}},color:"{color_17}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"color_11",colorOverlayOpacity:.25,imageOverlay:""}},{presetIndex:12,path:"public/8e256233-1752-4026-9341-54036e7f875e/bfa1c2d0-17a0-425d-9a6b-15cc467f0736",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Winter Sports",videoId:"video/11062b_14ca44a138d942f78374f7751ac5942f",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_14ca44a138d942f78374f7751ac5942ff000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/bfa1c2d0-17a0-425d-9a6b-15cc467f0736",width:1920,height:1080},opacity:1,duration:31,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"vD19_13_002&vD187_89_019&vD116_16_121&vD116_16_117&vD116_16_051&v17A041_676",name:"Dissolve&Dissolve&Dissolve&Dissolve&Dissolve&Dissolve"}},color:"#2BFCF9",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:13,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Boats in the Water",uri:"edafc906071647ad940aad43e3fdbe07.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:3500,height:2318,artist:{id:"",name:""}},color:"#CCE2E2",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:14,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Water Drop",videoId:"video/11062b_830709c744404d6ea7a10dcfd88e3a48",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_830709c744404d6ea7a10dcfd88e3a48f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},opacity:1,duration:15,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v81193529",name:"bigstock"}},color:"#439CE6",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:15,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Submerged",videoId:"video/11062b_64ae2a899006496dac01c2e81fac97f1",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_64ae2a899006496dac01c2e81fac97f1f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},opacity:1,duration:24,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v47427800",name:"bisgtock"}},color:"{color_17}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#439CE6",colorOverlayOpacity:.3,imageOverlay:""}},{presetIndex:16,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Blue Checkers",uri:"a60710612bbc4609ac93e78a1fa234c0.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:400,height:400,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:17,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Road Trip",videoId:"video/11062b_1c6001b9888a4ba89939a510eee406d1",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_1c6001b9888a4ba89939a510eee406d1f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:21,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"vD330_2_176",name:"dissolve"}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#8AEDFF",colorOverlayOpacity:.2,imageOverlay:""}},{presetIndex:18,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Mountain Landscape",uri:"0bb83114d47e4ca0a9fa5a9ea6a16530.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:4442,height:2961,artist:{id:"",name:""}},color:"#EEFDFF",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:19,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Sparkling Water",videoId:"video/11062b_7bb9944945af4723ad2aefa5caed46a4",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_7bb9944945af4723ad2aefa5caed46a4f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},opacity:1,duration:18,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v47421608",name:"bisgtock"}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:20,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Rolling Tide",videoId:"video/11062b_f0d5e0c342cc49dca298de0225d2247c",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_f0d5e0c342cc49dca298de0225d2247cf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:17,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v47428379",name:"bisgtock"}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:21,path:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Abstract Horizon",uri:"5afe60462baf41e79586f3fdaf78d664.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",width:1980,height:1200,artist:{id:"",name:""}},color:"#006C6D",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:22,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Misty Slopes",uri:"99ec98fdb81945c29c25a3ad6c5606b1.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:1920,height:1280,artist:{id:"",name:""}},color:"#114C22",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:23,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Blurred Beach",uri:"a97014d3cac6454b822f786b7d1f2878.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:2351,height:1302,artist:{id:"",name:""}},color:"#8BD0CD",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:24,path:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Blue to Cream Gradient",uri:"356d0cee84164a4cb8304d44630a7ea6.png",description:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",width:8e3,height:4500,artist:{id:"",name:""}},color:"#8BD0CD",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:25,path:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Vintage Gramophone",videoId:"video/11062b_bd026287ff784f5198fbfdbbbbba2489",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_bd026287ff784f5198fbfdbbbbba2489f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",width:1920,height:1080},opacity:1,duration:7,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v50768873",name:"bigstock"}},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_d3e25a05cedd404f807528f6a4750388.png",width:56,height:56},colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:26,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Tropical Plant",uri:"117d700ff79f490587e0bbaad89bc84f.jpeg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",width:2507,height:1674,artist:{id:"",name:""}},color:"#1C8A43",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:27,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Graph Paper",uri:"1beffca589a04014a3e62f00a022b875.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:192,height:192,artist:{id:"",name:""}},color:"#CAE9BD",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:28,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Leaves Pattern",uri:"278019192ae045d191a9430cf507c7f6.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:974,height:966,artist:{id:"",name:""}},color:"#F1FFF6",alignType:"center",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:29,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Tropic Birds",uri:"b59b6c0afac149c1825e76ad4381c9ca.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:552,height:552,artist:{id:"",name:""}},color:"#002E5D",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:30,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Rainforest Canopy",videoId:"video/11062b_7488edba38234bd69b0603ad498efdf5",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_7488edba38234bd69b0603ad498efdf5f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:35,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v50652950",name:"bigstock"}},color:"#BFBF43",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:31,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Hand-sketched Lines",uri:"3978993e99184d5e8c21f0204cd07bca.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:150,height:150,artist:{id:"",name:""}},color:"#CAE9BD",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:32,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Palm Trees",uri:"3cd1de924697419088c1e033bb3384ef.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",width:1920,height:1280,artist:{id:"",name:""}},color:"#BDBF37",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:33,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Snowfall",videoId:"video/11062b_7124ff06fc56498d96722413f5f4846f",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_7124ff06fc56498d96722413f5f4846ff000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:30,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"i2800",name:"pexels"}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:34,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"City Park",videoId:"video/11062b_ed5fd19d3b3c4a979ecfd7aa035320eb",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_ed5fd19d3b3c4a979ecfd7aa035320ebf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:30,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"",name:""}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_d3e25a05cedd404f807528f6a4750388.png",width:56,height:56}}},{presetIndex:35,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Dogs in the Park",videoId:"video/11062b_dadf974a47664e5cb42f939b7f17bec8",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_dadf974a47664e5cb42f939b7f17bec8f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},opacity:1,duration:26,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"",name:""}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:""}},{presetIndex:36,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"House Cat",videoId:"video/11062b_be8b8d6a9d5a4bc59aa76a8b25fd9888",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_be8b8d6a9d5a4bc59aa76a8b25fd9888f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},opacity:1,duration:26,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"",name:""}},color:"#DAB89C",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#D9B79C",colorOverlayOpacity:.2,imageOverlay:""}},{presetIndex:37,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Tree Stump",uri:"11a91072527049689406d272d5a6d6c4.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",width:1280,height:768,artist:{id:"",name:""}},color:"#114C22",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:38,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Asparagus",uri:"4d24dcfa04684a81bf3f1701a847af81.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:2e3,height:1333,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:39,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Tropical Light",videoId:"video/11062b_af392b5325e7416eb2d8b6f9b1b3c634",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_af392b5325e7416eb2d8b6f9b1b3c634f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:20,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"i158598041",name:"shutterstock"}},color:"{color_16}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:40,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Gold Bunnies",uri:"6060bf9757224155bc8cbd95029ee720.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:459,height:287,artist:{id:"",name:""}},color:"{color_11}",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:41,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Pineapple Pattern",uri:"eeef56698522480caf7deba849718afe.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:534,height:809,artist:{id:"",name:""}},color:"{color_11}",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:42,path:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Yellow to Blue Gradient",uri:"98e04ee03335423bb5a47bd2f377df2e.png",description:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",width:8e3,height:4500,artist:{id:"",name:""}},color:"#35EBE7",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:43,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Black Spades",uri:"7d0fa0c9f87547b0a75b80f38ed48183.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:300,height:267,artist:{id:"",name:""}},color:"color_31",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:44,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Urban View",videoId:"video/11062b_3e2f37c297534f9ead156265242fbca8",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_3e2f37c297534f9ead156265242fbca8f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:20,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v49780622&v493478872&v49737086&v318347",name:"bigstock&bigstock&bigstock&clipcanvas"}},color:"{color_31}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#F0C930",colorOverlayOpacity:.3,imageOverlay:""}},{presetIndex:45,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Light Spots",videoId:"video/11062b_2042bb7351284f0f982e4787d37415e6",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_2042bb7351284f0f982e4787d37415e6f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},opacity:1,duration:14,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"",name:""}},color:"#FFF369",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#FFF269",colorOverlayOpacity:.2,imageOverlay:""}},{presetIndex:46,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Pink Particles",videoId:"video/11062b_155feccf8d494b18b70adcd7716b6646",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_155feccf8d494b18b70adcd7716b6646f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},opacity:1,duration:50,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"",name:""}},color:"{color_31}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#FFCC00",colorOverlayOpacity:.5,imageOverlay:""}},{presetIndex:47,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Sunflowers",videoId:"video/11062b_7fb923cf2d6748e195e980d74c4059f2",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_7fb923cf2d6748e195e980d74c4059f2f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},opacity:1,duration:30,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"i145590430",name:"shutterstock"}},color:"color_29",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_880a3209e3744cd0a96b66835a01b8c5.png",width:256,height:256},colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:48,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Flower in Sunlight",uri:"175c71a9a7384ca68d97b39947203da8.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",width:1920,height:1080,artist:{id:"",name:""}},color:"#F17424",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:49,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Golden Dots",uri:"80e0917312df4df5853a6c2a861e7a63.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:466,height:766,artist:{id:"",name:""}},color:"#FAEECD",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:50,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Lifeguard Tower",uri:"f7f8700159f142b3b23e349c23338337.jpeg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:4608,height:3072,artist:{id:"",name:""}},color:"#F9C7A7",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:51,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Meadow",videoId:"video/11062b_84f0c9aa252b4b2ab1114febc012eacb",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_84f0c9aa252b4b2ab1114febc012eacbf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:30,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"i144673559",name:"shutterstock"}},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:52,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Lakeside",videoId:"video/11062b_10927dd4d14046e4ac23f51f0a5448b3",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_10927dd4d14046e4ac23f51f0a5448b3f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:20,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"i205250962",name:"shutterstock"}},color:"#FFF5A8",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:53,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Zebra Crossing",uri:"fd559363ad5645958cc2ccdc6005fbd6.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:5682,height:3990,artist:{id:"",name:""}},color:"#F1CC01",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:54,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Paradise Serenity",videoId:"video/11062b_46d3e749db4d4169987b00279493eaa7",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_46d3e749db4d4169987b00279493eaa7f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:10,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"i152767760",name:"shutterstock"}},color:"{color_31}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:55,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Zigzag",uri:"4d24ad2c7b8f47bbbfe14399bd41dc54.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:64,height:50,artist:{id:"",name:""}},color:"#FAC2D2",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:56,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Miami Beach",videoId:"video/11062b_75ff30e8c38545348bad91473b78ab7c",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_75ff30e8c38545348bad91473b78ab7cf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:20,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"i100070693",name:"shutterstock"}},color:"#D41746",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#D41746",colorOverlayOpacity:.3,imageOverlay:""}},{presetIndex:57,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Tropical Leaves",uri:"0396af7423c344a39107ad593c4500f8.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",width:3264,height:2448,artist:{id:"",name:""}},color:"#B22087",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:58,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Grey Geometric Shapes",uri:"f833450526164f5e80b7e8ef0f50844c.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:300,height:300,artist:{id:"",name:""}},color:"#F2668F",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:59,path:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Pink to Orange Gradient",uri:"af7a8b002af842f8bab87691c1d8640f.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",width:1920,height:1080,artist:{id:"",name:""}},color:"#C37DB3",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:60,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Rain Drops",uri:"95f3448913a746f28b30670b23da4157.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:216,height:216,artist:{id:"",name:""}},color:"#C65AA5",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:61,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Cotton Candy",videoId:"video/11062b_808b40c463104f22943c284c625d31c3",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_808b40c463104f22943c284c625d31c3f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},opacity:1,duration:4,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"",name:""}},color:"{color_30}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#E31B22",colorOverlayOpacity:.25,imageOverlay:""}},{presetIndex:62,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Ink and Water",videoId:"video/11062b_74ef3d923f9b451492d3ed9278991873",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_74ef3d923f9b451492d3ed9278991873f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},opacity:1,duration:30,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v50768402",name:"bigstock"}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:63,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Red Confetti",uri:"21ff2961e4d94522b96543b873b063dc.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:121,height:107,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:64,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Woman Running Legs",uri:"0983ceb77a4e49c6978e4515d8a454f6.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:1980,height:1200,artist:{id:"",name:""}},color:"#F9C7A7",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:65,path:"public/491df47b-5958-4dc7-9029-37f428755d45/c2a37dfc-36cf-4bfd-b940-55bac7bdc9e6",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Flamingos",uri:"88d74a1559c84402a4a957527a839260.png",description:"public/491df47b-5958-4dc7-9029-37f428755d45/c2a37dfc-36cf-4bfd-b940-55bac7bdc9e6",width:1920,height:1080,artist:{id:"",name:""}},color:"#DAF2FF",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:66,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Foxes and Rabbits",uri:"f7c0cc732a8e458caf88ad42b251fbdf.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:571,height:514,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:67,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Ink Splash",videoId:"video/11062b_aa1eeb25fbd3484dbde611d71d7c5747",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_aa1eeb25fbd3484dbde611d71d7c5747f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},opacity:1,duration:30,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v47428268",name:"bisgtock"}},color:"#F1F1F1",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_4371c7e64a49489bb88c536f515f2040.png",width:6,height:6},colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:68,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Palm Trees Beach View",uri:"2465a22a212e41cd96a05e3e3fe5adc4.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:1980,height:1200,artist:{id:"",name:""}},color:"#DAF2FF",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:69,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Moon Jellyfish",videoId:"video/11062b_77c6bfa45ec6417fa8b1b37fd3f7a108",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_77c6bfa45ec6417fa8b1b37fd3f7a108f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},opacity:1,duration:10,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v50790908",name:"bigstock"}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:70,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Modern Chicago Skyline",uri:"5b7e139d046c40c1a1acde7162607721.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:4085,height:2696,artist:{id:"",name:""}},color:"#FAC2D2",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:71,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Pink Jellyfish",videoId:"video/11062b_ea61c0ecc8b34ecd942c42470507e640",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_ea61c0ecc8b34ecd942c42470507e640f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},opacity:1,duration:20,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v47440688",name:"bigstock"}},color:"{color_19}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_2326357be59441978a570bec687a94d0.png",width:3,height:3},colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:72,path:"public/8e256233-1752-4026-9341-54036e7f875e/a85e50b3-f78c-4792-a226-040ce52b983c",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Spaceman",videoId:"video/11062b_fcd00d59140f45d5b2295fe8a4c17edb",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_fcd00d59140f45d5b2295fe8a4c17edbf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/a85e50b3-f78c-4792-a226-040ce52b983c",width:1920,height:1080},opacity:1,duration:25,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"i111095258&i241509286",name:"shutterstock&shutterstock"}},color:"{color_20}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_d3e25a05cedd404f807528f6a4750388.png",width:56,height:56},colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:73,path:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Rotating Crystal Glass",videoId:"video/11062b_58249d8a53aa452492e328c962b036e9",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_58249d8a53aa452492e328c962b036e9f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",width:1920,height:1080},opacity:1,duration:14,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v47440709",name:"bisgtock"}},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_8b89980121844d37be099f0dbe33e3e3.png",width:6,height:6},colorOverlay:"#5C3B1B",colorOverlayOpacity:.4}},{presetIndex:74,path:"public/8e256233-1752-4026-9341-54036e7f875e/305292cb-8a7a-4825-87ca-52882fbdf8ff",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Spinning Record",videoId:"video/11062b_0f1e951461494c1894d86c9ab85a11cf",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_0f1e951461494c1894d86c9ab85a11cff000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/305292cb-8a7a-4825-87ca-52882fbdf8ff",width:1920,height:1080},opacity:1,duration:10,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v560888",name:"clipcanvas"}},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_8fae2cc5b7bf477fb13faa1f2582dbd2.png",width:4,height:6},colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:75,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Vegan Trio",uri:"180ba81999a64ad3aa42735d409ecab6.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:4253,height:2825,artist:{id:"",name:""}},color:"#DBB89A",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:76,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Hand-drawn Feathers",uri:"8eee3a6c7d5842429beba0f7eaeef38c.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:200,height:200,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:77,path:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Rotating Gears",videoId:"video/11062b_d9801124f3cb4deca350acfd66b547cf",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_d9801124f3cb4deca350acfd66b547cff000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",width:1920,height:1080},opacity:1,duration:7,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v50768483",name:"bigstock"}},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#F0C930",colorOverlayOpacity:.05,imageOverlay:""}},{presetIndex:78,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Graphic Design Workspace",uri:"fa34b31dc6244a4a854ef6eb8f02ff74.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:4e3,height:3e3,artist:{id:"",name:""}},color:"#B7121B",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:79,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Triangles",uri:"d59a233b62cf44b2bf1ebed57aac24de.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:343,height:410,artist:{id:"",name:""}},color:"#DBB89A",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:80,path:"public/a0c10733-b2a6-4330-a431-537a9f05c353/c9440526-5aa9-4a6f-8d66-9cf5fa50020d",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Wood",uri:"1149de6bf15f40c587573bf9311dc32c.jpg",description:"public/a0c10733-b2a6-4330-a431-537a9f05c353/c9440526-5aa9-4a6f-8d66-9cf5fa50020d",width:4990,height:3326,artist:{id:"",name:""}},color:"#DBB89A",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:81,path:"public/8e256233-1752-4026-9341-54036e7f875e/305292cb-8a7a-4825-87ca-52882fbdf8ff",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Classical Compilation",videoId:"video/11062b_35727d5e825d405bbb007bc615000a15",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_35727d5e825d405bbb007bc615000a15f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/305292cb-8a7a-4825-87ca-52882fbdf8ff",width:1920,height:1080},opacity:1,duration:19,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v51653993&v795016&v639989&v249088&v527322",name:"bigstock&clipcanvas&clipcanvas&clipcanvas&clipcanvas"}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#ffffff",colorOverlayOpacity:.2,imageOverlay:""}},{presetIndex:82,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Metal Stairs on Wooden Facade",uri:"cf8156766df64118b0653b3ac4bd5605.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:1920,height:1440,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:83,path:"public/8e256233-1752-4026-9341-54036e7f875e/db9e3e42-59d2-461f-b589-6cbbf7c2c06e",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Illustrator",videoId:"video/11062b_ebcab620e7584e1693f939e597be3777",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_ebcab620e7584e1693f939e597be3777f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/db9e3e42-59d2-461f-b589-6cbbf7c2c06e",width:1920,height:1080},opacity:1,duration:30,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"",name:""}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_880a3209e3744cd0a96b66835a01b8c5.png",width:256,height:256},colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:84,path:"public/921f85b0-261d-4406-964a-cf47e2744c69/bd176e29-5534-4d9f-87a6-a8177517ea4f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Graphic Pattern",uri:"5c688cc2a5ec4ad2b86ed53d5df46f47.png",description:"public/921f85b0-261d-4406-964a-cf47e2744c69/bd176e29-5534-4d9f-87a6-a8177517ea4f",width:1920,height:1080,artist:{id:"",name:""}},color:"#3D9BE9",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:85,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Tiger",videoId:"video/11062b_6ceb80744f45401caf9eb666caeb9887",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_6ceb80744f45401caf9eb666caeb9887f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},opacity:1,duration:28,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v49350467",name:"bigstock"}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:""}},{presetIndex:86,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Subway",videoId:"video/11062b_8b85f288687943b59677b4e3e56ef8f8",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_8b85f288687943b59677b4e3e56ef8f8f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:3,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v342278662",name:"pexels"}},color:"#303030",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#000000",colorOverlayOpacity:.45,imageOverlay:""}},{presetIndex:87,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Stack of Magazines",uri:"d532b29bc0c448b29f47672da7b07613.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:1920,height:1280,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:88,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Graphic Design Office",uri:"d1c5cd0055c94e3bb1acee9e2fda9f0e.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:1920,height:1280,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:89,path:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Record Player",uri:"ee15442532e84041a495a5e46c465b12.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",width:5616,height:3744,artist:{id:"",name:""}},color:"#A7A7A7",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:90,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Floating Shapes Gray",videoId:"video/11062b_d2398715eb2e43348e6907b6b3383815",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_d2398715eb2e43348e6907b6b3383815f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},opacity:1,duration:28,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"",name:""}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:91,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Forest Clouds",videoId:"video/11062b_2e77c1d1a7d84393becbcecd189fe80e",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_2e77c1d1a7d84393becbcecd189fe80ef000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:25,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v47440175",name:"bisgtock"}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:""}},{presetIndex:92,path:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Metronome",videoId:"video/11062b_80a0d0745a884541ae8fae22c02c9e74",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_80a0d0745a884541ae8fae22c02c9e74f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",width:1920,height:1080},opacity:1,duration:17,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v49780622",name:"bigstock"}},color:"#271504",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_8b89980121844d37be099f0dbe33e3e3.png",width:6,height:6},colorOverlay:"#ffffff",colorOverlayOpacity:.25}},{presetIndex:93,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Grey Dots",uri:"92533e06635940e5b152eb4b0f9c1c4b.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:180,height:101,artist:{id:"",name:""}},color:"#232323",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:94,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Backstage",uri:"8a6b22a6b8d84e728c2253794ee37f98.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:4500,height:3e3,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:95,path:"public/8e256233-1752-4026-9341-54036e7f875e/5abaf36e-05be-41b2-8a0c-e9999bc48c51",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Melting Ice",videoId:"video/11062b_9480d9d800bd4bda938057d5ac1ebc42",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_9480d9d800bd4bda938057d5ac1ebc42f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/5abaf36e-05be-41b2-8a0c-e9999bc48c51",width:1920,height:1080},opacity:1,duration:18,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v47428211",name:"bisgtock"}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_4371c7e64a49489bb88c536f515f2040.png",width:6,height:6},colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:96,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Black Crosses",uri:"56adecff887f459297d81ee5a451ca0e.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:200,height:200,artist:{id:"",name:""}},color:"#4F4F4F",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:97,path:"public/8e256233-1752-4026-9341-54036e7f875e/bfa1c2d0-17a0-425d-9a6b-15cc467f0736",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Street Sports",videoId:"video/11062b_b3ee9353cba84f2fba11b18497edd49c",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_b3ee9353cba84f2fba11b18497edd49cf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/bfa1c2d0-17a0-425d-9a6b-15cc467f0736",width:1920,height:1080},opacity:1,duration:27,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"vD26_7_556&vD26_7_549&vD26_7_021&vD200_3_014&vD187_87_017",name:"dissolve&dissolve&dissolve&dissolve&dissolve"}},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_9dd9479cdafd4871b1944d50caa91db0.png",width:6,height:6},colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:98,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Mist Over the Bridge",videoId:"video/11062b_66b9234563324488b85be02dcf1db183",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_66b9234563324488b85be02dcf1db183f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:21,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v523546",name:"clipcanvas"}},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:99,path:"public/a0c10733-b2a6-4330-a431-537a9f05c353/c9440526-5aa9-4a6f-8d66-9cf5fa50020d",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Marble Surface",uri:"bc3ec7bc825c4e6ca746c659189cea83.jpg",description:"public/a0c10733-b2a6-4330-a431-537a9f05c353/c9440526-5aa9-4a6f-8d66-9cf5fa50020d",width:1920,height:1080,artist:{id:"",name:""}},color:"#A7A7A7",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:100,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Suit",uri:"8ca1d4b1209f4712a582d259e1d041c4.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:232,height:200,artist:{id:"",name:""}},color:"#A7A7A7",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:101,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Flowing Viscous Liquid",videoId:"video/11062b_9f421918574743b48202cb0dacbd77d4",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_9f421918574743b48202cb0dacbd77d4f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},opacity:1,duration:17,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v47428877",name:"bisgtock"}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:102,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Concrete Facade",uri:"d05d3b5e9b8c442f8616127098f1e7b0.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:1980,height:1200,artist:{id:"",name:""}},color:"#232323",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:103,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Horizontal Stripes",uri:"251cb06bbba2403296cacacc122c1833.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:105,height:88,artist:{id:"",name:""}},color:"{color_11}",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:104,path:"public/8e256233-1752-4026-9341-54036e7f875e/bfa1c2d0-17a0-425d-9a6b-15cc467f0736",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Dance Studio",videoId:"video/11062b_58d9b7991aa04b99a4f1580a1efc4f7f",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_58d9b7991aa04b99a4f1580a1efc4f7ff000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/bfa1c2d0-17a0-425d-9a6b-15cc467f0736",width:1920,height:1080},opacity:1,duration:34,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_4371c7e64a49489bb88c536f515f2040.png",width:6,height:6}}},{presetIndex:105,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Cat Pattern",uri:"e62cc2e57d9e4debae58f332bc5f7c13.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:1001,height:780,artist:{id:"",name:""}},color:"#A7A7A7",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:106,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Popsicles",uri:"16bc88db91d04e34969d6d9ff99d4f27.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:400,height:400,artist:{id:"",name:""}},color:"#232323",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:107,path:"public/8e256233-1752-4026-9341-54036e7f875e/5abaf36e-05be-41b2-8a0c-e9999bc48c51",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Gray Waterfall",videoId:"video/11062b_18eee1c4914c4ef79687cd68f3cf6990",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_18eee1c4914c4ef79687cd68f3cf6990f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/5abaf36e-05be-41b2-8a0c-e9999bc48c51",width:1920,height:1080},opacity:1,duration:3,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v49347887",name:"bigstock"}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_d3e25a05cedd404f807528f6a4750388.png",width:4,height:6},colorOverlay:"color_11",colorOverlayOpacity:.5}},{presetIndex:108,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"NYC Skyline BW",uri:"ea66f0de45ec4109b5eb190bed2244d1.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:1980,height:1200,artist:{id:"",name:""}},color:"#4F4F4F",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:109,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Zebras",uri:"049b8cffb8e449e19cce019a499e72b3.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:650,height:593,artist:{id:"",name:""}},color:"{color_11}",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:110,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/bc345090-ef04-4363-9211-3642d0f687f8",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Triangles Pattern",uri:"09ad59ce71ae4243bc54251181afab81.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/bc345090-ef04-4363-9211-3642d0f687f8",width:94,height:89,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:111,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Cloudy Fog",uri:"d8b91ec474404d93a7be5aefff9abd54.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:4928,height:3264,artist:{id:"",name:""}},color:"#4F4F4F",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:112,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Grey Arrows",uri:"be48a6ed702649778e0248921b018462.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:200,height:200,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:113,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Floating Particles",uri:"65361f1a835843df8f46f809b1b05a7a.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:200,height:200,artist:{id:"",name:""}},color:"#F7F7F7",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:114,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Falling shapes White",videoId:"video/11062b_2ed9e9ea388343a59c387bccf3539098",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_2ed9e9ea388343a59c387bccf3539098f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},opacity:1,duration:28,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"",name:""}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#D5D4D6",colorOverlayOpacity:.35,imageOverlay:""}}]}),define("rEditor/rootComps/panels/backgroundPanel/backgroundMobilePresets.json",[],function(){return[{presetIndex:1,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Electric Darkness",uri:"/11062b_6a134fc09ea34833a17d295e295ab517f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},color:"{color_24}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:2,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Floating Particles",uri:"/11062b_03c50f8fe4a34cc297a984e483a282eff000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},color:"#000000",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:3,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Bananas",uri:"8034aa3291a54c489a7b7a3121d994f9.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:1177,height:1200,artist:{id:"",name:""}},color:"#8BD0CD",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:4,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Rain Clouds",uri:"/11062b_8e792646ca71495b96677c20e27e9122f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:5,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Deep Sea Waves",uri:"/11062b_f1fbf8b243e942a692e564fac5382513f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},color:"#052F5B",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:6,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Divers Underwater",uri:"bbde6e2b4387431ca37f8e093bcb0e8e.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:4368,height:2912,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:7,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Dot Pattern",uri:"70127753074e4bf694b4b889710f0b7a.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:200,height:202,artist:{id:"",name:""}},color:"#002E5D",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:8,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Aurelia Jellyfish",uri:"884454ad07cf46a5bb7fb6aef2e02358.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",width:2700,height:2160,artist:{id:"",name:""}},color:"#002E5D",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:9,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Swaying Palms",uri:"/11062b_d013b164dadb47ec8e746ab178aacfbbf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:10,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Girl in the Window",uri:"acb4853a0d8543b3ac291da735e9959b.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:6048,height:4032,artist:{id:"",name:""}},color:"#002E5D",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:11,path:"public/8e256233-1752-4026-9341-54036e7f875e/db9e3e42-59d2-461f-b589-6cbbf7c2c06e",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"In the Office",uri:"/11062b_6743da5900054f1f8e69f53302930a6af000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/db9e3e42-59d2-461f-b589-6cbbf7c2c06e",width:1920,height:1080},color:"{color_17}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:12,path:"public/8e256233-1752-4026-9341-54036e7f875e/bfa1c2d0-17a0-425d-9a6b-15cc467f0736",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Winter Sports",uri:"/11062b_14ca44a138d942f78374f7751ac5942ff000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/bfa1c2d0-17a0-425d-9a6b-15cc467f0736",width:1920,height:1080},color:"#2BFCF9",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:13,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Boats in the Water",uri:"edafc906071647ad940aad43e3fdbe07.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:3500,height:2318,artist:{id:"",name:""}},color:"#CCE2E2",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:14,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Water Drop",uri:"/11062b_830709c744404d6ea7a10dcfd88e3a48f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},color:"#439CE6",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:15,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Submerged",uri:"/11062b_64ae2a899006496dac01c2e81fac97f1f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},color:"{color_17}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:16,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Blue Checkers",uri:"a60710612bbc4609ac93e78a1fa234c0.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:400,height:400,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:17,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Road Trip",uri:"/11062b_1c6001b9888a4ba89939a510eee406d1f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:18,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Mountain Landscape",uri:"0bb83114d47e4ca0a9fa5a9ea6a16530.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:4442,height:2961,artist:{id:"",name:""}},color:"#EEFDFF",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:19,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Sparkling Water",uri:"/11062b_7bb9944945af4723ad2aefa5caed46a4f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:20,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Rolling Tide",uri:"/11062b_f0d5e0c342cc49dca298de0225d2247cf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:21,path:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Abstract Horizon",uri:"5afe60462baf41e79586f3fdaf78d664.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",width:1980,height:1200,artist:{id:"",name:""}},color:"#006C6D",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:22,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Misty Slopes",uri:"99ec98fdb81945c29c25a3ad6c5606b1.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:1920,height:1280,artist:{id:"",name:""}},color:"#114C22",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:23,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Blurred Beach",uri:"a97014d3cac6454b822f786b7d1f2878.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:2351,height:1302,artist:{id:"",name:""}},color:"#8BD0CD",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:24,path:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Blue to Cream Gradient",uri:"356d0cee84164a4cb8304d44630a7ea6.png",description:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",width:8e3,height:4500,artist:{id:"",name:""}},color:"#8BD0CD",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:25,path:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Vintage Gramophone",uri:"/11062b_bd026287ff784f5198fbfdbbbbba2489f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",width:1920,height:1080},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:26,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Tropical Plant",uri:"117d700ff79f490587e0bbaad89bc84f.jpeg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",width:2507,height:1674,artist:{id:"",name:""}},color:"#1C8A43",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:27,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Graph Paper",uri:"1beffca589a04014a3e62f00a022b875.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:192,height:192,artist:{id:"",name:""}},color:"#CAE9BD",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:28,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Leaves Pattern",uri:"278019192ae045d191a9430cf507c7f6.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:974,height:966,artist:{id:"",name:""}},color:"#F1FFF6",alignType:"center",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:29,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Tropic Birds",uri:"b59b6c0afac149c1825e76ad4381c9ca.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:552,height:552,artist:{id:"",name:""}},color:"#002E5D",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:30,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Rainforest Canopy",uri:"/11062b_7488edba38234bd69b0603ad498efdf5f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"#BFBF43",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:31,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Hand-sketched Lines",uri:"3978993e99184d5e8c21f0204cd07bca.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:150,height:150,artist:{id:"",name:""}},color:"#CAE9BD",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:32,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Palm Trees",uri:"3cd1de924697419088c1e033bb3384ef.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",width:1920,height:1280,artist:{id:"",name:""}},color:"#BDBF37",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:33,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Snowfall",uri:"/11062b_7124ff06fc56498d96722413f5f4846ff000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:34,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"City Park",uri:"/11062b_ed5fd19d3b3c4a979ecfd7aa035320ebf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:35,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Dogs in the Park",uri:"/11062b_dadf974a47664e5cb42f939b7f17bec8f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:36,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"House Cat",uri:"/11062b_be8b8d6a9d5a4bc59aa76a8b25fd9888f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},color:"#DAB89C",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:37,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Tree Stump",uri:"11a91072527049689406d272d5a6d6c4.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",width:1280,height:768,artist:{id:"",name:""}},color:"#114C22",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:38,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Asparagus",uri:"4d24dcfa04684a81bf3f1701a847af81.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:2e3,height:1333,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:39,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Tropical Light",uri:"/11062b_af392b5325e7416eb2d8b6f9b1b3c634f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"{color_16}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:40,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Gold Bunnies",uri:"6060bf9757224155bc8cbd95029ee720.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:459,height:287,artist:{id:"",name:""}},color:"{color_11}",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:41,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Pineapple Pattern",uri:"eeef56698522480caf7deba849718afe.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:534,height:809,artist:{id:"",name:""}},color:"{color_11}",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:42,path:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Yellow to Blue Gradient",uri:"98e04ee03335423bb5a47bd2f377df2e.png",description:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",width:8e3,height:4500,artist:{id:"",name:""}},color:"#35EBE7",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:43,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Black Spades",uri:"7d0fa0c9f87547b0a75b80f38ed48183.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:300,height:267,artist:{id:"",name:""}},color:"color_31",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:44,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Urban View",uri:"/11062b_3e2f37c297534f9ead156265242fbca8f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"{color_31}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:45,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Light Spots",uri:"/11062b_2042bb7351284f0f982e4787d37415e6f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},color:"#FFF369",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:46,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Pink Particles",uri:"/11062b_155feccf8d494b18b70adcd7716b6646f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},color:"{color_31}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:47,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Sunflowers",uri:"/11062b_7fb923cf2d6748e195e980d74c4059f2f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},color:"color_29",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:48,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Flower in Sunlight",uri:"175c71a9a7384ca68d97b39947203da8.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",width:1920,height:1080,artist:{id:"",name:""}},color:"#F17424",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:49,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Golden Dots",uri:"80e0917312df4df5853a6c2a861e7a63.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:466,height:766,artist:{id:"",name:""}},color:"#FAEECD",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:50,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Lifeguard Tower",uri:"f7f8700159f142b3b23e349c23338337.jpeg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:4608,height:3072,artist:{id:"",name:""}},color:"#F9C7A7",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:51,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Meadow",uri:"/11062b_84f0c9aa252b4b2ab1114febc012eacbf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:52,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Lakeside",uri:"/11062b_10927dd4d14046e4ac23f51f0a5448b3f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"#FFF5A8",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:53,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Zebra Crossing",uri:"fd559363ad5645958cc2ccdc6005fbd6.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:5682,height:3990,artist:{id:"",name:""}},color:"#F1CC01",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:54,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Paradise Serenity",uri:"/11062b_46d3e749db4d4169987b00279493eaa7f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"{color_31}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:55,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Zigzag",uri:"4d24ad2c7b8f47bbbfe14399bd41dc54.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:64,height:50,artist:{id:"",name:""}},color:"#FAC2D2",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:56,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Miami Beach",uri:"/11062b_75ff30e8c38545348bad91473b78ab7cf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"#D41746",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:57,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Tropical Leaves",uri:"0396af7423c344a39107ad593c4500f8.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",width:3264,height:2448,artist:{id:"",name:""}},color:"#B22087",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:58,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Grey Geometric Shapes",uri:"f833450526164f5e80b7e8ef0f50844c.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:300,height:300,artist:{id:"",name:""}},color:"#F2668F",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:59,path:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Pink to Orange Gradient",uri:"af7a8b002af842f8bab87691c1d8640f.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",width:1920,height:1080,artist:{id:"",name:""}},color:"#C37DB3",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:60,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Rain Drops",uri:"95f3448913a746f28b30670b23da4157.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:216,height:216,artist:{id:"",name:""}},color:"#C65AA5",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:61,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Cotton Candy",uri:"/11062b_808b40c463104f22943c284c625d31c3f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},color:"{color_30}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:62,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Ink and Water",uri:"/11062b_74ef3d923f9b451492d3ed9278991873f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:63,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Red Confetti",uri:"21ff2961e4d94522b96543b873b063dc.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:121,height:107,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:64,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Woman Running Legs",uri:"0983ceb77a4e49c6978e4515d8a454f6.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:1980,height:1200,artist:{id:"",name:""}},color:"#F9C7A7",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:65,path:"public/491df47b-5958-4dc7-9029-37f428755d45/c2a37dfc-36cf-4bfd-b940-55bac7bdc9e6",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Flamingos",uri:"88d74a1559c84402a4a957527a839260.png",description:"public/491df47b-5958-4dc7-9029-37f428755d45/c2a37dfc-36cf-4bfd-b940-55bac7bdc9e6",width:1920,height:1080,artist:{id:"",name:""}},color:"#DAF2FF",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:66,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Foxes and Rabbits",uri:"f7c0cc732a8e458caf88ad42b251fbdf.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:571,height:514,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:67,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Ink Splash",uri:"/11062b_aa1eeb25fbd3484dbde611d71d7c5747f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},color:"#F1F1F1",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:68,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Palm Trees Beach View",uri:"2465a22a212e41cd96a05e3e3fe5adc4.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:1980,height:1200,artist:{id:"",name:""}},color:"#DAF2FF",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:69,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Moon Jellyfish",uri:"/11062b_77c6bfa45ec6417fa8b1b37fd3f7a108f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:70,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Modern Chicago Skyline",uri:"5b7e139d046c40c1a1acde7162607721.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:4085,height:2696,artist:{id:"",name:""}},color:"#FAC2D2",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:71,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Pink Jellyfish",uri:"/11062b_ea61c0ecc8b34ecd942c42470507e640f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},color:"{color_19}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:72,path:"public/8e256233-1752-4026-9341-54036e7f875e/a85e50b3-f78c-4792-a226-040ce52b983c",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Spaceman",uri:"/11062b_fcd00d59140f45d5b2295fe8a4c17edbf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/a85e50b3-f78c-4792-a226-040ce52b983c",width:1920,height:1080},color:"{color_20}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:73,path:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Rotating Crystal Glass",uri:"/11062b_58249d8a53aa452492e328c962b036e9f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",width:1920,height:1080},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:74,path:"public/8e256233-1752-4026-9341-54036e7f875e/305292cb-8a7a-4825-87ca-52882fbdf8ff",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Spinning Record",uri:"/11062b_0f1e951461494c1894d86c9ab85a11cff000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/305292cb-8a7a-4825-87ca-52882fbdf8ff",width:1920,height:1080},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:75,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Vegan Trio",uri:"180ba81999a64ad3aa42735d409ecab6.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:4253,height:2825,artist:{id:"",name:""}},color:"#DBB89A",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:76,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Hand-drawn Feathers",uri:"8eee3a6c7d5842429beba0f7eaeef38c.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:200,height:200,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:77,path:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Rotating Gears",uri:"/11062b_d9801124f3cb4deca350acfd66b547cff000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",width:1920,height:1080},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:78,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Graphic Design Workspace",uri:"fa34b31dc6244a4a854ef6eb8f02ff74.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:4e3,height:3e3,artist:{id:"",name:""}},color:"#B7121B",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:79,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Triangles",uri:"d59a233b62cf44b2bf1ebed57aac24de.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:343,height:410,artist:{id:"",name:""}},color:"#DBB89A",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:80,path:"public/a0c10733-b2a6-4330-a431-537a9f05c353/c9440526-5aa9-4a6f-8d66-9cf5fa50020d",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Wood",uri:"1149de6bf15f40c587573bf9311dc32c.jpg",description:"public/a0c10733-b2a6-4330-a431-537a9f05c353/c9440526-5aa9-4a6f-8d66-9cf5fa50020d",width:4990,height:3326,artist:{id:"",name:""}},color:"#DBB89A",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:81,path:"public/8e256233-1752-4026-9341-54036e7f875e/305292cb-8a7a-4825-87ca-52882fbdf8ff",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Classical Compilation",uri:"/11062b_35727d5e825d405bbb007bc615000a15f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/305292cb-8a7a-4825-87ca-52882fbdf8ff",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:82,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Metal Stairs on Wooden Facade",uri:"cf8156766df64118b0653b3ac4bd5605.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:1920,height:1440,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:83,path:"public/8e256233-1752-4026-9341-54036e7f875e/db9e3e42-59d2-461f-b589-6cbbf7c2c06e",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Illustrator",uri:"/11062b_ebcab620e7584e1693f939e597be3777f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/db9e3e42-59d2-461f-b589-6cbbf7c2c06e",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:84,path:"public/921f85b0-261d-4406-964a-cf47e2744c69/bd176e29-5534-4d9f-87a6-a8177517ea4f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Graphic Pattern",uri:"5c688cc2a5ec4ad2b86ed53d5df46f47.png",description:"public/921f85b0-261d-4406-964a-cf47e2744c69/bd176e29-5534-4d9f-87a6-a8177517ea4f",width:1920,height:1080,artist:{id:"",name:""}},color:"#3D9BE9",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:85,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Tiger",uri:"/11062b_6ceb80744f45401caf9eb666caeb9887f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:86,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Subway",uri:"/11062b_8b85f288687943b59677b4e3e56ef8f8f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"#303030",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:87,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Stack of Magazines",uri:"d532b29bc0c448b29f47672da7b07613.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:1920,height:1280,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:88,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Graphic Design Office",uri:"d1c5cd0055c94e3bb1acee9e2fda9f0e.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:1920,height:1280,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:89,path:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Record Player",uri:"ee15442532e84041a495a5e46c465b12.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",width:5616,height:3744,artist:{id:"",name:""}},color:"#A7A7A7",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:90,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Floating Shapes Gray",uri:"/11062b_d2398715eb2e43348e6907b6b3383815f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:91,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Forest Clouds",uri:"/11062b_2e77c1d1a7d84393becbcecd189fe80ef000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:92,path:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Metronome",uri:"/11062b_80a0d0745a884541ae8fae22c02c9e74f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",width:1920,height:1080},color:"#271504",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:93,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Grey Dots",uri:"92533e06635940e5b152eb4b0f9c1c4b.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:180,height:101,artist:{id:"",name:""}},color:"#232323",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:94,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Backstage",uri:"8a6b22a6b8d84e728c2253794ee37f98.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:4500,height:3e3,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:95,path:"public/8e256233-1752-4026-9341-54036e7f875e/5abaf36e-05be-41b2-8a0c-e9999bc48c51",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Melting Ice",uri:"/11062b_9480d9d800bd4bda938057d5ac1ebc42f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/5abaf36e-05be-41b2-8a0c-e9999bc48c51",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:96,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Black Crosses",uri:"56adecff887f459297d81ee5a451ca0e.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:200,height:200,artist:{id:"",name:""}},color:"#4F4F4F",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:97,path:"public/8e256233-1752-4026-9341-54036e7f875e/bfa1c2d0-17a0-425d-9a6b-15cc467f0736",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Street Sports",uri:"/11062b_b3ee9353cba84f2fba11b18497edd49cf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/bfa1c2d0-17a0-425d-9a6b-15cc467f0736",width:1920,height:1080},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:98,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Mist Over the Bridge",uri:"/11062b_66b9234563324488b85be02dcf1db183f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:99,path:"public/a0c10733-b2a6-4330-a431-537a9f05c353/c9440526-5aa9-4a6f-8d66-9cf5fa50020d",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Marble Surface",uri:"bc3ec7bc825c4e6ca746c659189cea83.jpg",description:"public/a0c10733-b2a6-4330-a431-537a9f05c353/c9440526-5aa9-4a6f-8d66-9cf5fa50020d",width:1920,height:1080,artist:{id:"",name:""}},color:"#A7A7A7",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:100,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Suit",uri:"8ca1d4b1209f4712a582d259e1d041c4.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:232,height:200,artist:{id:"",name:""}},color:"#A7A7A7",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:101,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Flowing Viscous Liquid",uri:"/11062b_9f421918574743b48202cb0dacbd77d4f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:102,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Concrete Facade",uri:"d05d3b5e9b8c442f8616127098f1e7b0.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:1980,height:1200,artist:{id:"",name:""}},color:"#232323",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:103,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Horizontal Stripes",uri:"251cb06bbba2403296cacacc122c1833.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:105,height:88,artist:{id:"",name:""}},color:"{color_11}",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:104,path:"public/8e256233-1752-4026-9341-54036e7f875e/bfa1c2d0-17a0-425d-9a6b-15cc467f0736",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Dance Studio",uri:"/11062b_58d9b7991aa04b99a4f1580a1efc4f7ff000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/bfa1c2d0-17a0-425d-9a6b-15cc467f0736",width:1920,height:1080},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:105,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Cat Pattern",uri:"e62cc2e57d9e4debae58f332bc5f7c13.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:1001,height:780,artist:{id:"",name:""}},color:"#A7A7A7",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:106,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Popsicles",uri:"16bc88db91d04e34969d6d9ff99d4f27.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:400,height:400,artist:{id:"",name:""}},color:"#232323",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:107,path:"public/8e256233-1752-4026-9341-54036e7f875e/5abaf36e-05be-41b2-8a0c-e9999bc48c51",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Gray Waterfall",uri:"/11062b_18eee1c4914c4ef79687cd68f3cf6990f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/5abaf36e-05be-41b2-8a0c-e9999bc48c51",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:108,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"NYC Skyline BW",uri:"ea66f0de45ec4109b5eb190bed2244d1.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:1980,height:1200,artist:{id:"",name:""}},color:"#4F4F4F",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:109,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Zebras",uri:"049b8cffb8e449e19cce019a499e72b3.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:650,height:593,artist:{id:"",name:""}},color:"{color_11}",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:110,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/bc345090-ef04-4363-9211-3642d0f687f8",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Triangles Pattern",uri:"09ad59ce71ae4243bc54251181afab81.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/bc345090-ef04-4363-9211-3642d0f687f8",width:94,height:89,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:111,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Cloudy Fog",uri:"d8b91ec474404d93a7be5aefff9abd54.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:4928,height:3264,artist:{id:"",name:""}},color:"#4F4F4F",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:112,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Grey Arrows",uri:"be48a6ed702649778e0248921b018462.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:200,height:200,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:113,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Floating Particles",uri:"65361f1a835843df8f46f809b1b05a7a.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:200,height:200,artist:{id:"",name:""}},color:"#F7F7F7",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:114,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Falling shapes White",uri:"/11062b_2ed9e9ea388343a59c387bccf3539098f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}}]}),define("rEditor/rootComps/panels/backgroundPanel/backgroundPanel.rt",["react","lodash","baseUI","baseUILib","util","panels","uiAnimations","backgroundPresets"],function(e,t,o,i,n,r,a,s){"use strict";return function(){function t(){var t=this.getData(),l=this.getCurrentSubPanel(),c=this.getEditorAPI().isMobileEditor(),p=n.backgroundPanelUtils;return e.createElement(r.frames.leftPanelFrame,{className:"bg-panel",panelName:this.props.panelName,label:this.getTranslation("TITLE"),ref:"leftPanelFrame",panelClass:"bg-panel",helpId:c?"f0d8190e-e2da-48be-9f44-7ecff4518a82":"f11a3bb9-cff0-46d4-92ff-cc8cd9d30468",key:"315"},function(t,i,n,r){var s=this.getMediaType(t.ref);return e.createElement("div",{className:"bg-panel-top"},e.createElement("div",{className:"bg-panel-preview",onContextMenu:function(e,t,o,i,n,r){r.preventDefault()}.bind(this,t,i,n,r,s)},e.createElement("div",{className:"bg-panel-preview-media",style:this.getCurrentColor(t)}),e.createElement("div",{ref:"previewMedia",className:"bg-panel-preview-media",style:this.getCurrentMedia(t)}),e.createElement("div",{className:"bg-panel-preview-overlay",style:r.getOverlayStyle(t.ref,this.getEditorAPI())}),e.createElement("div",{className:"bg-panel-preview-buttons"},s!==this.mediaTypes.COLOR?e.createElement(o.tooltip,{disabled:!!this.getCurrentSubPanel(),value:this.getSettingTranslation(s),alignment:"top",className:"control-tooltip-small",key:"settings-tooltip"},e.createElement("div",{className:"bg-panel-preview-button"},e.createElement(a.rotatePartAnimation,{selector:".gear-wheel",play:this.isSettingsPanelOpen()},e.createElement(o.toggle,{name:"settings-icon",label:this.getSettingsButtonTranslation(s),valueLink:this.toggleSubPanel(s),labelAfterSymbol:!0})))):null,s===this.mediaTypes.VIDEO?e.createElement(o.tooltip,{key:"video-controls",id:"video-play-tooltip",disabled:this.isPlayBtnTooltipDisabled(s),alignment:"top",className:"control-tooltip-small",value:this.getPlayBtnTranslation()},e.createElement("div",{className:"bg-panel-preview-button"},e.createElement(o.toggle,{name:"play-video",disabled:this.getVideoReadyState()===this.videoReadyStates.IN_PROCESS,valueLink:this.toggleVideoPlayback(this.isVideoPlaying())}),this.getVideoReadyState()===this.videoReadyStates.IN_PROCESS?e.createElement(o.preloader,{key:"play-spinner"}):null)):null),s===this.mediaTypes.IMAGE?e.createElement("div",{onClick:function(e,t,o,i,n,r){this.replaceColor(r,e)}.bind(this,t,i,n,r,s),className:"bg-panel-preview-color",style:this.getCurrentColor(t),key:"bg-fold"},e.createElement(o.symbol,{name:"fold-clipart"})):null),e.createElement("div",{className:"bg-panel-top-actions"},e.createElement("div",{className:"bg-panel-action"},e.createElement(o.button2,{className:"default bg-panel-action-btn",label:"BGPP_PANEL_COLOR_BUTTON",symbolName:"color-btn",onClick:function(e,t,o,i,n,r){this.changeColor(r,e)}.bind(this,t,i,n,r,s)})),e.createElement("div",{className:"bg-panel-action"},e.createElement(o.button2,{onClick:function(e,t,o,i,n){this.changeMedia(this.mediaTypes.IMAGE)}.bind(this,t,i,n,r,s),className:"default bg-panel-action-btn",symbolName:"image-btn",label:"BGPP_PANEL_IMAGE_BUTTON"})),e.createElement(o.tooltip,{disabled:!n,value:"BGPP_PANEL_VIDEO_BUTTON_MOBILE_TOOLTIP",alignment:"top",className:"control-tooltip-small"},e.createElement("div",{className:"bg-panel-action"},e.createElement(o.button2,{onClick:function(e,t,o,i,n){o||this.changeMedia(this.mediaTypes.VIDEO)}.bind(this,t,i,n,r,s),disabled:n,className:"default bg-panel-action-btn",symbolName:"video-btn",label:"BGPP_PANEL_VIDEO_BUTTON"})))))}.apply(this,[t,l,c,p]),e.createElement(i.CustomScroll,{addScrolledClass:!0},e.createElement("div",{className:"bg-panel-preset-list"},e.createElement("div",{className:"bg-panel-preset-list-sections sections","data-tooltip-bounds":"true"},e.createElement(s,this.getPresetsProps())))),e.createElement("div",{className:"bg-panel-bottom"},e.createElement(o.button2,{label:"BGPP_PANEL_APPLY_TO_OTHER_BUTTON",onClick:function(e,t,o,i){this.handleApplyToOtherClick()}.bind(this,t,l,c,p),disabled:this.isOnePager(),className:"default"})))}function l(){var t=this.getData(),l=this.getCurrentSubPanel(),c=this.getEditorAPI().isMobileEditor(),p=n.backgroundPanelUtils;return e.createElement(r.frames.backgroundPanelFrame,{className:"bg-panel",panelName:this.props.panelName,label:this.getTranslation("TITLE"),panelClass:"bg-panel",ref:"bgPanelFrame",helpId:c?"f0d8190e-e2da-48be-9f44-7ecff4518a82":"f11a3bb9-cff0-46d4-92ff-cc8cd9d30468",key:"5951"},function(t,i,n,r){var s=this.getMediaType(t.ref);return e.createElement("div",{className:"bg-panel-top"},e.createElement("div",{className:"bg-panel-preview",onContextMenu:function(e,t,o,i,n,r){r.preventDefault()}.bind(this,t,i,n,r,s)},e.createElement("div",{className:"bg-panel-preview-media",style:this.getCurrentColor(t)}),e.createElement("div",{ref:"previewMedia",className:"bg-panel-preview-media",style:this.getCurrentMedia(t)}),e.createElement("div",{className:"bg-panel-preview-overlay",style:r.getOverlayStyle(t.ref,this.getEditorAPI())}),e.createElement("div",{className:"bg-panel-preview-buttons"},s!==this.mediaTypes.COLOR?e.createElement(o.tooltip,{disabled:!!this.getCurrentSubPanel(),value:this.getSettingTranslation(s),alignment:"top",className:"control-tooltip-small",key:"settings-tooltip"},e.createElement("div",{className:"bg-panel-preview-button"},e.createElement(a.rotatePartAnimation,{selector:".gear-wheel",play:this.isSettingsPanelOpen()},e.createElement(o.toggle,{name:"settings-icon",label:this.getSettingsButtonTranslation(s),valueLink:this.toggleSubPanel(s),labelAfterSymbol:!0})))):null,s===this.mediaTypes.VIDEO?e.createElement(o.tooltip,{key:"video-controls",id:"video-play-tooltip",disabled:this.isPlayBtnTooltipDisabled(s),alignment:"top",className:"control-tooltip-small",value:this.getPlayBtnTranslation()},e.createElement("div",{className:"bg-panel-preview-button"},e.createElement(o.toggle,{name:"play-video",disabled:this.getVideoReadyState()===this.videoReadyStates.IN_PROCESS,valueLink:this.toggleVideoPlayback(this.isVideoPlaying())}),this.getVideoReadyState()===this.videoReadyStates.IN_PROCESS?e.createElement(o.preloader,{key:"play-spinner"}):null)):null),s===this.mediaTypes.IMAGE?e.createElement("div",{onClick:function(e,t,o,i,n,r){this.replaceColor(r,e)}.bind(this,t,i,n,r,s),className:"bg-panel-preview-color",style:this.getCurrentColor(t),key:"bg-fold"},e.createElement(o.symbol,{name:"fold-clipart"})):null),e.createElement("div",{className:"bg-panel-top-actions"},e.createElement("div",{className:"bg-panel-action"},e.createElement(o.button2,{className:"default bg-panel-action-btn",label:"BGPP_PANEL_COLOR_BUTTON",symbolName:"color-btn",onClick:function(e,t,o,i,n,r){this.changeColor(r,e)}.bind(this,t,i,n,r,s)})),e.createElement("div",{className:"bg-panel-action"},e.createElement(o.button2,{onClick:function(e,t,o,i,n){this.changeMedia(this.mediaTypes.IMAGE)}.bind(this,t,i,n,r,s),className:"default bg-panel-action-btn",symbolName:"image-btn",label:"BGPP_PANEL_IMAGE_BUTTON"})),e.createElement(o.tooltip,{disabled:!n,value:"BGPP_PANEL_VIDEO_BUTTON_MOBILE_TOOLTIP",alignment:"top",className:"control-tooltip-small"},e.createElement("div",{className:"bg-panel-action"},e.createElement(o.button2,{onClick:function(e,t,o,i,n){o||this.changeMedia(this.mediaTypes.VIDEO)}.bind(this,t,i,n,r,s),disabled:n,className:"default bg-panel-action-btn",symbolName:"video-btn",label:"BGPP_PANEL_VIDEO_BUTTON"})))))}.apply(this,[t,l,c,p]),e.createElement(i.CustomScroll,{addScrolledClass:!0},e.createElement("div",{className:"bg-panel-preset-list"},e.createElement("div",{className:"bg-panel-preset-list-sections sections","data-tooltip-bounds":"true"},e.createElement(s,this.getPresetsProps())))),e.createElement("div",{className:"bg-panel-bottom"},e.createElement(o.button2,{label:"BGPP_PANEL_APPLY_TO_OTHER_BUTTON",onClick:function(e,t,o,i){this.handleApplyToOtherClick()}.bind(this,t,l,c,p),disabled:this.isOnePager(),className:"default"})))}return e.createElement("div",{},this.isPartOfTheLeftBar()?t.apply(this,[]):null,this.isPartOfTheLeftBar()?null:l.apply(this,[]))}}),define("rEditor/rootComps/panels/backgroundPanel/backgroundPanel",["reactDOM","create-react-class","lodash","core","baseUI","util","color","panelUtils","stateManagement","rEditor/rootComps/panels/backgroundPanel/backgroundDesktopPresets.json","rEditor/rootComps/panels/backgroundPanel/backgroundMobilePresets.json","coreBi","experiment","rEditor/rootComps/panels/backgroundPanel/backgroundPanel.rt"],function(e,t,o,i,n,r,a,s,l,c,p,d,u,m){"use strict";function g(e,t,o){var i=e.documentServices.pages.getPrimaryPageId();e.store.dispatch(M("bg_panel_last_media_path_"+i,{type:t,path:o.path}))}function f(e,t){var o=e.documentServices.pages.getPrimaryPageId(),i=t===S.VIDEO?"bg_video_settings_data_changed_":"bg_image_settings_data_changed_";e.store.dispatch(M(i+o,!1)),e.store.dispatch(M("bg_video_settings_pattern_state_"+o,!1))}var h=l.editorPlugins.leftBar.selectors.getDeviceType,b=r.bgPanelBiEvents,y=r.imageTransform,v=r.backgroundPanelUtils,S=v.getMediaTypes(),P={IMAGE_SETTINGS:"rEditor.panels.bgImageSettingsPanel",VIDEO_SETTINGS:"rEditor.panels.bgVideoSettingsPanel",APPLY:"rEditor.panels.backgroundApplyPanel"},E={APPLY_PANEL:"applyPanel",IMAGE_PANEL:"imagePanel",VIDEO_PANEL:"videoPanel",PRESET:"preset",MEDIA:"media",REMOVE:"remove",COLOR:"color"},C={BG_PRESETS:"bg_presets",BG_COLOR_PICKER:"bg_color_picker",BG_MEDIA_MANAGER_WIXVIDEO:"bg_media_manager_video",BG_MEDIA_MANAGER_IMAGE:"bg_media_manager_image",BG_IMAGE_SETTINGS:"bg_image_settings",BG_VIDEO_SETTINGS:"bg_video_settings"},T={TITLE:{mobile:"BGPP_PANEL_HEADER_MOBILE_TITLE",desktop:"BGPP_PANEL_HEADER_DSKTOP_TITLE"}},I={Image:"BGPP_PANEL_IMAGE_SETTINGS_BUTTON",WixVideo:"BGPP_PANEL_VIDEO_SETTINGS_BUTTON"},_={IN_PROCESS:"in_process",PLAYING_PREVIEW:"playing_preview",IDLE:"idle",NO_VIDEO:"no_video"},O={id:"SITE_BACKGROUND"},M=l.editorPlugins.userPreferences.actions.setSessionUserPreferences,w=l.editorPlugins.userPreferences.selectors.getSessionUserPreferences;return t({displayName:"backgroundPanel",mixins:[i.mixins.editorAPIMixin,r.blockOuterScrollMixin,s.linkColorPickerMixin],panelBoundingRect:{},mediaTypes:S,getMediaType:v.getMediaType,subPanels:P,videoReadyStates:null,componentDidMount:function(){var t=this.isPartOfTheLeftBar()?this.refs.leftPanelFrame:this.refs.bgPanelFrame;this.panelBoundingRect=e.findDOMNode(t).getBoundingClientRect(),this.registerPlayerState(),this.markMobileDataDuplications()},componentWillUnmount:function(){this.closeSubPanel(this.getCurrentSubPanel()),this.unregisterPlayerState(),this.pauseVideo();var e=this.getData().ref;b.changedBackgroundBiEvent(this.getEditorAPI(),d.events.backgroundPanel.panel_background_changed,e,this.biEventsParams)},getInitialState:function(){return this.videoReadyStates=_,this.biEventsParams={origin:null,presetIndex:null},{readyState:this.videoReadyStates.NO_VIDEO,playbackState:"waiting",isVideoPlaying:!1,videoReadyState:this.videoReadyStates.IDLE}},componentDidUpdate:function(){this.getVideoReadyState()===this.videoReadyStates.IDLE&&n.tooltipManager.hide("video-play-tooltip")},registerPlayerState:function(){var e=this.getEditorAPI();o.get(e,["media","mediaState"])?e.documentServices.media.mediaState.register("bg_panel",O,this.handlePlayerStateChange):e.pages.background.video.registerToPlayingChange(this.playingStatusChanged)},unregisterPlayerState:function(){var e=this.getEditorAPI();o.get(e,["media","mediaState"])?e.documentServices.media.mediaState.unregister("bg_panel",O):e.pages.background.video.unregisterToPlayingChange(this.playingStatusChanged)},getNormalizePlayState:function(e){return o.includes(["playing","seek_playing","play_preview"],e)?"playing":e},handlePlayerStateChange:function(e){var t=this.getNormalizePlayState(e.playbackState);e.playbackState===this.state.playbackState&&e.mediaReadyState===this.state.readyState||this.setState({playbackState:t,readyState:e.mediaReadyState})},previewVideo:function(){var e=this.getEditorAPI();o.get(e,["media","mediaState"])?e.components.behaviors.execute(O,"play"):e.pages.background.video.play()},pauseVideo:function(){var e=this.getEditorAPI();e.getPreviewMode()||(o.get(e,["media","mediaState"])?e.components.behaviors.execute(O,"stop"):e.pages.background.video.pause())},isVideoPlaying:function(){var e=this.getEditorAPI();return o.get(e,["media","mediaState"])?"playing"===this.state.playbackState:e.pages.background.video.isPlaying()},isPartOfTheLeftBar:function(){return!u.isOpen("removeBGButton")},getVideoReadyState:function(){var e=this.getEditorAPI();return o.get(e,["media","mediaState"])?this.state.readyState:e.pages.background.video.getReadyState()},playingStatusChanged:function(){this.forceUpdate()},videoReadyStateChanged:function(){this.forceUpdate()},linkedBackgroundColor:function(e,t,o){return{value:t[o].replace(/[\{\}]/g,""),requestChange:function(i){t[o]=/color_/.test(i)?"{"+i+"}":i,this.biEventsParams.origin=C.BG_COLOR_PICKER,this.onRequestChange(e)}.bind(this)}},getCurrentSubPanel:function(){var e=this.getEditorAPI().getOpenPanels(),t=o.find(e,function(e){return o.includes(P,e.name)});return t&&t.name},isSettingsPanelOpen:function(){var e=this.getCurrentSubPanel();return e===P.IMAGE_SETTINGS||e===P.VIDEO_SETTINGS},closeSubPanel:function(e){var t=this.getEditorAPI();e&&t.panelManager.closePanelByName(e)},getData:function(e){var t=this.getEditorAPI().store.getState();return e=e||h(t),v.getBackgroundData(this.getEditorAPI(),e)},onRequestChange:function(e,t,o){var i=this.getEditorAPI(),n=i.store.getState(),a=h(n);o=o||i.pages.getPrimaryPageId(),function(e,t,o){(function(t,o){return e.homePage.get()===o})(0,o)&&!t.ref.mediaRef&&(t.ref.id=r.guidUtils.getUniqueId(o,"_")+"_bg")}(i,e,o);v.handleMobileDataChange(a,e,i,o,function(e){return l.editorPlugins.userPreferences.selectors.getSessionUserPreferences(e)(i.store.getState())},function(e,t){return i.store.dispatch(l.editorPlugins.userPreferences.actions.setSessionUserPreferences(e,t))}),i.pages.background.update(o,e,a),this.undoHandler(t),this.state.isVideoPlaying&&(this.pauseVideo(),this.setState({isVideoPlaying:!1}))},undoHandler:function(e){var t=this.getEditorAPI(),i=o.values(E);o.includes(i,e)&&t.history.add("background panel - "+e)},toggleSubPanel:function(e){var t=this.getCurrentSubPanel();return{value:t&&t!==this.subPanels.APPLY,requestChange:function(){var t=e===this.mediaTypes.VIDEO?this.subPanels.VIDEO_SETTINGS:this.subPanels.IMAGE_SETTINGS;this.toggleSubPanelChange(t)}.bind(this)}},toggleSubPanelChange:function(e){e===this.getCurrentSubPanel()?this.closeSubPanel(e):this.openSubPanel(e)},openSubPanel:function(e){var t=this.getEditorAPI();!function(e,t,i){e===P.APPLY?b.applyToOtherClick(t,d.events.backgroundPanel.panel_apply_to_other_pages_click):i.origin=C["BG_"+o.invert(P)[e].toUpperCase()]}(e,t,this.biEventsParams);var i=this.getSubPanelProps();t.panelManager.openPanel(e,i,!0)},getSubPanelProps:function(e){return{requestChange:this.onRequestChange,undoHandler:this.undoHandler,undoOrigins:E,getData:this.getData,panelName:e,top:this.panelBoundingRect.top,left:this.panelBoundingRect.left+this.panelBoundingRect.width+15,width:290}},getCurrentMedia:function(e){var t={},i=void 0,n=void 0;if(e.ref.mediaRef){i=this.getMediaType(e.ref)===this.mediaTypes.IMAGE?e.ref.mediaRef:e.ref.mediaRef.posterImageRef,n=v.isSmallerFromContainer(i.width,i.height,600,600)?y.fittingTypes.TILE:y.fittingTypes.SCALE_TO_FILL;var a=v.getImageDisplayData(n,e.ref.alignType,i.uri,i.width,i.height,352,184);t.backgroundImage="url("+r.url.joinURL(v.MEDIA_URL_PREFIX,a.uri)+")",t.opacity=i.opacity,o.assign(t,a.css.container)}return o.assign(t,this.getCurrentColor(e)),t},getCurrentColor:function(e){return{backgroundColor:v.getColorValue(this.getEditorAPI(),e.ref.color)}},toggleVideoPlayback:function(e){return{value:e,requestChange:function(e){e?this.previewVideo():this.pauseVideo()}.bind(this)}},replaceColor:function(e,t){this.setColorPicker(e,t,this.colorPickerPanelHandleReplace,!0)},changeColor:function(e,t){var o=!t.ref.mediaRef;this.setColorPicker(e,t,this.colorPickerPanelHandleChange,o)},setColorPicker:function(e,t,o,i){var n=i?t.ref.color.replace(/[\[\{\}\]]/g,""):"noColor",r={top:e.clientY,left:e.clientX};this.openColorPicker(o,n,!0,r,i,!0)},colorPickerPanelHandleReplace:function(e){this.closeSubPanel(this.getCurrentSubPanel());var t=this.getData();/color_/.test(e)?t.ref.color="{"+e+"}":/rgba/.test(e)?t.ref.color=new a(e).hexString():t.ref.color=e,this.biEventsParams.origin=C.BG_COLOR_PICKER,this.onRequestChange(t)},colorPickerPanelHandleChange:function(e){this.closeSubPanel(this.getCurrentSubPanel());var t=this.getData();t.ref.mediaRef&&(t.ref.mediaRef=null,f(this.getEditorAPI(),S.VIDEO),f(this.getEditorAPI(),S.IMAGE),v.clearOverlayData(t),this.undoHandler(E.REMOVE)),/color_/.test(e)?t.ref.color="{"+e+"}":/rgba/.test(e)?t.ref.color=new a(e).hexString():t.ref.color=e,this.biEventsParams.origin=C.BG_COLOR_PICKER,this.onRequestChange(t)},selectPreset:function(e,t,i){var r=this.getData(),a=this.getEditorAPI();n.tooltipManager.hideAll(),this.closeSubPanel(this.getCurrentSubPanel()),o.assign(e,o.omit(r,"ref")),e.path&&g(a,this.getMediaType(e.ref),{path:e.path}),delete e.path,delete e.presetIndex,f(a,S.VIDEO),f(a,S.IMAGE),this.biEventsParams={presetIndex:i,origin:C.BG_PRESETS},this.onRequestChange(e,E.PRESET)},onMediaManagerCallback:function(e,t,o){if(t){var i=void 0,n=void 0,r=this.getEditorAPI(),a=this.getData();g(r,e,o),e===this.mediaTypes.VIDEO?(i=v.getVideoBackgroundObject(t,o),function(e,t){e.ref.scrollType="fixed";var o=t.documentServices.pages.getPrimaryPageId();w("bg_video_settings_data_changed_"+o)(t.store.getState())||v.clearOverlayData(e)}(a,r),f(r,S.IMAGE),n=i.posterImageRef,a.ref.scrollType="fixed"):e===this.mediaTypes.IMAGE&&(function(e,t,o){var i=o.documentServices.pages.getPrimaryPageId();w("bg_image_settings_data_changed_"+i)(o.store.getState())&&(e.opacity=t.ref.mediaRef&&t.ref.mediaRef.opacity||1),v.clearOverlayData(t)}(i=v.getImageBackgroundObject(t,o),a,r),f(r,S.VIDEO),n=i);var s=v.isSmallerFromContainer(n.width,n.height,600,600),l=void 0;l=e===this.mediaTypes.IMAGE&&s?y.fittingTypes.LEGACY_BG_FIT_AND_TILE:y.fittingTypes.SCALE_TO_FILL,a.ref.fittingType=l,a.ref.alignType=y.alignTypes.CENTER,a.ref.mediaRef=i,this.biEventsParams.origin=C["BG_MEDIA_MANAGER_"+e.toUpperCase()],this.onRequestChange(a,E.MEDIA)}},openMediaManager:function(e,t){if(e){var o=this.getEditorAPI(),i=o.mediaServices,n=i.mediaManager,a=void 0,s=function(e){var t=e.documentServices.pages.getPrimaryPageId();return w("bg_panel_last_media_path_"+t)(e.store.getState())||{}}(o),l=s.type===e?s.path||"":"";e===this.mediaTypes.IMAGE?a=n.categories.BG_IMAGE:e===this.mediaTypes.VIDEO&&(a=n.categories.BG_VIDEO),this.closeSubPanel(this.getCurrentSubPanel()),n.open(a,{callback:function(e,o){t(e,o),i.setFocusToEditor()},path:l,translation:{submitButton:r.translate("MMGR_submitbutton_background_uploads_change")}})}},changeMedia:function(e){this.openMediaManager(e,this.onMediaManagerCallback.bind(this,e))},closePanel:function(){this.getEditorAPI().panelManager.closePanel(this.props.panelName)},getTranslation:function(e){var t=this.getEditorAPI().store.getState(),o=h(t);return r.translate(T[e][o])},getSettingsButtonTranslation:function(e){return I[e]},handleApplyToOtherClick:function(){this.isOnePager()||this.toggleSubPanelChange(this.subPanels.APPLY)},isOnePager:function(){return 1===this.getEditorAPI().documentServices.pages.getPageIdList().length},markMobileDataDuplications:function(){var e=this.getEditorAPI(),t=this.getData("mobile").ref.id;if(!w("bg_panel_mobile_data_duplications_"+t)(e.store.getState())){for(var o=e.documentServices.pages.getPrimaryPageId(),i=0,n=e.documentServices.pages.getPagesData(),r=0;r<n.length;r++)n[r].id!==o&&n[r].pageBackgrounds.mobile.ref.id===t&&i++;e.store.dispatch(M("bg_panel_mobile_data_duplications_"+t,{count:i})),i&&b.mobileDataDuplicationError(this.getEditorAPI(),d.errors.BG_MOBILE_DATA_DUPLICATION_ERROR)}},isPlayBtnTooltipDisabled:function(){return this.getVideoReadyState()===this.videoReadyStates.IDLE},getPlayBtnTranslation:function(){var e="",t=this.getVideoReadyState();return t===this.videoReadyStates.PLAYING_PREVIEW?e="BGPP_PANEL_VIDEO_PLAYBACK_PREVIEW_READY_TOOLTIP":t===this.videoReadyStates.IN_PROCESS&&(e="BGPP_PANEL_VIDEO_PLAYBACK_NOT_READY_TOOLTIP"),e},getSettingTranslation:function(e){var t="";return e===this.mediaTypes.IMAGE?t="BGPP_PANEL_IMAGE_SETTINGS_BUTTON_TOOLTIP":e===this.mediaTypes.VIDEO&&(t="BGPP_PANEL_VIDEO_SETTINGS_BUTTON_TOOLTIP"),t},getPresetsProps:function(){return{desktopPresets:c,mobilePresets:p,title:r.translate("BGPP_PANEL_SELECTED_SECTION_TITLE"),infoTooltip:"BGPP_PANEL_SELECTED_SECTION_TOOLTIP",onSelectPreset:this.selectPreset,columns:4}},render:function(){return m.apply(this)}})}),define("rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgImageSettingsPanel.rt",["react","lodash","baseUI","baseUILib","symbols","panels","experiment"],function(e,t,o,i,n,r,a){"use strict";return function(){function n(e,o){var i=t.assign({},e,o);return e.hasOwnProperty("style")&&(i.style=t.defaults(i.style,e.style)),e.hasOwnProperty("className")&&o.hasOwnProperty("className")&&(i.className=o.className+" "+e.className),i}function s(){var s=this.props.getData();return e.createElement(r.frames.bgSubPanelFrame,n({helpId:"54c7eb1c-a6c7-46c9-9261-96eecf3bb0eb",className:"background-image-settings-panel background-sub-panel",label:"BGPP_SETTINGS_IMAGE_PANEL_HEADER_TITLE"},t.omit(this.props,"children")),e.createElement(i.CustomScroll,{},e.createElement("div",{className:"bg-image-settings-panel-scrollbox bg-settings-panel-scrollbox"},e.createElement(o.slider,{valueLink:this.linkedBackgroundOpacityData(s,s.ref.mediaRef,"opacity"),label:"BGPP_SETTINGS_IMAGE_OPACITY_TITLE",min:0,max:100,step:1}),e.createElement(i.Divider,{long:!0}),e.createElement("div",{className:"color-picker-input-wrapper"},e.createElement(o.colorPickerInput,n({label:"BGPP_SETTINGS_IMAGE_BG_COLOR_TITLE",ref:"bgColorPickerInput",className:"label-left",valueLink:this.linkedBackgroundColor(s,s.ref,"color")},this.getColorPickerProps()))),!this.getEditorAPI().isMobileEditor()||a.isOpen("se_mobileBgFixed")?e.createElement("div",{key:"scrollTypeRadiosDivider"},e.createElement(i.Divider,{long:!0}),e.createElement(o.sectionDividerLabeled,{label:"BGPP_SETTINGS_IMAGE_SCROLL_SECTION_TITLE",infoText:"BGPP_SETTINGS_IMAGE_SCROLL_SECTION_TOOLTIP"}),e.createElement(i.Divider,{long:!0}),e.createElement(i.Composites.Thumbnails,{},e.createElement(i.Thumbnails,{value:this.linkedBackgroundScrollType(s).value,onChange:this.linkedBackgroundScrollType(s).requestChange,className:"with-labels",maxThumbsPerRow:3,options:this.getEffectsThumbOptions()}))):null,e.createElement(i.Divider,{long:!0}),e.createElement(o.sectionDividerLabeled,{label:"BGPP_SETTINGS_IMAGE_LAYOUT_SECTION_TITLE"}),e.createElement(i.Divider,{long:!0}),e.createElement.apply(this,[o.dropDown.select,{valueLink:this.linkedBackgroundFittingType(s),label:"BGPP_SETTINGS_IMAGE_FITTING_TITLE"},t.map(this.getFittingOptions(s.ref.scrollType),function(t,i,n){return e.createElement(o.dropDown.option,{key:"fittingTypeOption"+n,value:i.value},i.label)}.bind(this,s))]),e.createElement(i.Divider,{long:!0}),e.createElement(o.alignment,{options:o.commonData.ALIGNMENT_MODES_XY,valueLink:this.linkedBackgroundAlignType(s),label:"BGPP_SETTINGS_IMAGE_ALIGN_TITLE"}))))}return s.apply(this,[])}}),define("rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgImageSettingsPanel",["core","create-react-class","prop-types","lodash","react","symbols","util","panelUtils","rEditor/bi/bi","stateManagement","rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgImageSettingsPanel.rt","experiment"],function(e,t,o,i,n,r,a,s,l,c,p,d){"use strict";function u(e){var t=e.documentServices.pages.getPrimaryPageId();e.store.dispatch(c.editorPlugins.userPreferences.actions.setSessionUserPreferences("bg_image_settings_data_changed_"+t,!0))}var m=a.backgroundPanelUtils,g=a.imageTransform.fittingTypes,f=[{label:"BGPP_SETTINGS_IMAGE_FITTING_SCALE_TO_FILL",value:g.SCALE_TO_FILL},{label:"BGPP_SETTINGS_IMAGE_FITTING_SCALE_TO_FIT",value:g.SCALE_TO_FIT},{label:"BGPP_SETTINGS_IMAGE_FITTING_ORIGINAL_SIZE",value:g.LEGACY_BG_NORMAL},{label:"BGPP_SETTINGS_IMAGE_FITTING_TILE",value:g.LEGACY_BG_FIT_AND_TILE},{label:"BGPP_SETTINGS_IMAGE_FITTING_TILE_HORIZONTALLY",value:g.LEGACY_BG_FIT_AND_TILE_HORIZONTAL},{label:"BGPP_SETTINGS_IMAGE_FITTING_TILE_VERTICALLY",value:g.LEGACY_BG_FIT_AND_TILE_VERTICAL}],h=[{label:"BGPP_SETTINGS_IMAGE_FITTING_SCALE_TO_FILL",value:g.SCALE_TO_FILL},{label:"BGPP_SETTINGS_IMAGE_FITTING_STRETCH",value:g.STRETCH},{label:"BGPP_SETTINGS_IMAGE_FITTING_SCALE_TO_FIT",value:g.SCALE_TO_FIT},{label:"BGPP_SETTINGS_IMAGE_FITTING_TILE",value:g.LEGACY_BG_FIT_AND_TILE}],b=[{label:"BGPP_SETTINGS_IMAGE_FITTING_SCALE_TO_FILL",value:g.SCALE_TO_FILL},{label:"BGPP_SETTINGS_IMAGE_FITTING_SCALE_TO_FIT",value:g.SCALE_TO_FIT},{label:"BGPP_SETTINGS_IMAGE_FITTING_TILE",value:g.LEGACY_BG_FIT_AND_TILE}],y=i.transform([{label:"BGPP_SETTINGS_IMAGE_FITTING_ORIGINAL_SIZE",value:g.LEGACY_BG_NORMAL},{label:"BGPP_SETTINGS_IMAGE_FITTING_TILE_HORIZONTALLY",value:g.LEGACY_BG_FIT_AND_TILE_HORIZONTAL},{label:"BGPP_SETTINGS_IMAGE_FITTING_TILE_VERTICALLY",value:g.LEGACY_BG_FIT_AND_TILE_VERTICAL}],function(e,t){e[t.value]=t},{}),v=[{value:"scroll",label:"BGPP_SETTINGS_IMAGE_SCROLL_NONE",illustration:n.createElement(r.symbol,{name:"thumb-none"})},{value:"parallax",label:"BGPP_SETTINGS_IMAGE_SCROLL_PARALLAX",illustration:n.createElement(r.symbol,{name:"scroll-fx-site-bg-parallax"})},{value:"fixed",label:"BGPP_SETTINGS_IMAGE_SCROLL_FREEZE",illustration:n.createElement(r.symbol,{name:"scroll-fx-site-bg-freeze"})}],S=[{value:"scroll",label:"BGPP_SETTINGS_IMAGE_SCROLL_NONE",illustration:n.createElement(r.symbol,{name:"thumb-none"})},{value:"fixed",label:"BGPP_SETTINGS_IMAGE_SCROLL_FREEZE",illustration:n.createElement(r.symbol,{name:"scroll-fx-site-bg-freeze"})}],P=[{label:"BGPP_SETTINGS_IMAGE_FITTING_SCALE_TO_FILL",value:g.SCALE_TO_FILL},{label:"BGPP_SETTINGS_IMAGE_FITTING_TILE",value:g.LEGACY_BG_FIT_AND_TILE}],E=[g.LEGACY_BG_FIT_AND_TILE,g.LEGACY_BG_FIT_AND_TILE_HORIZONTAL,g.LEGACY_BG_FIT_AND_TILE_VERTICAL],C={opacity:1,fittingType:g.SCALE_TO_FILL,alignType:"center",scrollType:"scroll"};return t({displayName:"bgImageSettingsPanel",mixins:[e.mixins.editorAPIMixin,s.linkColorPickerMixin],childContextTypes:{reportUIChange:o.func},getInitialState:function(){return this.lastScrollingType=null,{}},shouldComponentUpdate:function(e){var t=this.getEditorAPI(),o=e.getData();return!(!o.ref.mediaRef||"Image"!==o.ref.mediaRef.type)||(t.panelManager.closePanelByName(e.panelName),!1)},getChildContext:function(){return{reportUIChange:this.onUIChange}},onUIChange:function(e){"slider"===e&&this.props.undoHandler(this.props.undoOrigins.IMAGE_PANEL)},linkedBackgroundAlignType:function(e){return{value:i.get(e,["ref","alignType"])||C.alignType,requestChange:function(t){i.set(e,["ref","alignType"],t),this.props.requestChange(e,this.props.undoOrigins.IMAGE_PANEL),u(this.getEditorAPI())}.bind(this)}},linkedBackgroundScrollType:function(e){var t=i.get(e,["ref","scrollType"])||C.scrollType;return{value:t,requestChange:function(o){o!==t&&this.getEditorAPI().bi.event(l.events.BG_IMAGE_SETTINGS_PANEL_SCROLL_EFFECT,{scroll_type:o}),"parallax"===o?i.set(e,["ref","fittingType"],this.getFittingTypeForParallax(e)):"fixed"===o&&this.getEditorAPI().isMobileEditor()&&i.set(e,"mediaSizing","viewport"),i.set(e,["ref","scrollType"],o),this.props.requestChange(e,this.props.undoOrigins.IMAGE_PANEL),u(this.getEditorAPI())}.bind(this)}},linkedBackgroundFittingType:function(e){var t=i.get(e,["ref","fittingType"])||C.fittingType,o=i.get(e,"mediaSizing","viewport");return{value:t===g.SCALE_TO_FILL&&"document"===o?g.STRETCH:t,requestChange:function(t){var o=t,n="viewport";this.getEditorAPI().isMobileEditor()&&t===g.STRETCH&&(n="document",o=g.SCALE_TO_FILL),i.set(e,["ref","fittingType"],o),i.set(e,"mediaSizing",n),this.props.requestChange(e,this.props.undoOrigins.IMAGE_PANEL),u(this.getEditorAPI())}.bind(this)}},linkedBackgroundOpacityData:function(e,t,o){var i=void 0===t[o]?C[o]:t[o];return i*=100,{value:i,requestChange:function(i){i/=100,t[o]=i,this.props.requestChange(e),u(this.getEditorAPI())}.bind(this)}},linkedBackgroundColor:function(e,t,o){return{value:t[o].replace(/[\{\}]/g,""),requestChange:function(i){t[o]=/color_/.test(i)?"{"+i+"}":i,this.props.requestChange(e),u(this.getEditorAPI())}.bind(this)}},getColorPickerProps:function(){return{useMouseEvent:!0,colorResolver:this.resolveColor,openColorPicker:this.openColorPicker,previewOnHover:!0}},getFittingOptions:function(e){return"parallax"===e?P:this.getEditorAPI().isMobileEditor()&&d.isOpen("se_mobileBgFixed")?this.getFittingMobileOptions():f},getFittingMobileOptions:function(){var e="scroll"===i.get(this.props.getData(),["ref","scrollType"])?h:b,t=i.get(this.props.getData(),["ref","fittingType"]),o=y[t];return o?i.union(e,[o]):e},getEffectsThumbOptions:function(){return this.getEditorAPI().isMobileEditor()?S:v},getFittingTypeForParallax:function(e){var t=e.ref.fittingType,o=e.ref.mediaRef,n=g.LEGACY_BG_FIT_AND_TILE,r=g.SCALE_TO_FILL,a=m.isSmallerFromContainer(o.width,o.height,600,600);return i.includes(E,t)||a&&t!==r?n:r},render:p})}),define("rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgVideoSettingsPanel.rt",["react","lodash","baseUI","baseUILib","symbols","panels","util"],function(e,t,o,i,n,r,a){"use strict";return function(){function n(){var n=this.props.getData(),s=a.translate;return e.createElement(r.frames.bgSubPanelFrame,function(e,o){var i=t.assign({},e,o);return e.hasOwnProperty("style")&&(i.style=t.defaults(i.style,e.style)),e.hasOwnProperty("className")&&o.hasOwnProperty("className")&&(i.className=o.className+" "+e.className),i}({helpId:"7f54f04e-6e0b-4f73-96e2-6c98dd28e822",className:"background-video-settings-panel background-sub-panel",label:"BGPP_SETTINGS_VIDEO_PANEL_HEADER_TITLE"},t.omit(this.props,"children")),e.createElement(i.CustomScroll,{},e.createElement("div",{className:"bg-video-settings-panel-scrollbox bg-settings-panel-scrollbox"},e.createElement("div",{className:"background-video-patterns-control"},e.createElement(i.Composites.Thumbnails,{},e.createElement(i.TextLabel,{value:"BGPP_SETTINGS_VIDEO_OVERLAY_PATTERN_TITLE"}),e.createElement(i.Thumbnails,{value:this.getValue(n.ref.imageOverlay),onChange:function(e,t,o){this.onChange(e,o)}.bind(this,n,s),maxThumbsPerRow:4,borderType:"thumbnail",fixedRatio:!0,noneThumbnailProps:{value:null},options:this.thumbPatternOptions})),n.ref.imageOverlay?e.createElement(o.buttonsGroup,{className:"overlay-pattern-btn-group",valueLink:this.applyInversePattern(n,n.ref.imageOverlay),options:this.getInvertPatternOption(),key:"inversePattern"}):null),e.createElement(i.Divider,{long:!0}),e.createElement(i.Composites.ToggleSwitch,{},e.createElement(i.ToggleSwitch,{value:this.applyOverlayColor(n).value,label:"BGPP_SETTINGS_VIDEO_OVERLAY_COLOR_TITLE",onChange:this.applyOverlayColor(n).requestChange})),this.isColorOverlay(n)?e.createElement(i.Divider,{long:!1,key:"color-picker-input-divider"}):null,this.isColorOverlay(n)?e.createElement(o.colorPickerInputWithOpacity,t.assign({},{ref:"bgColorPickerInput",key:"color-picker-input",label:"BGPP_SETTINGS_VIDEO_COLOR_OPACITY_TITLE",valueLink:this.linkColorWithOpacity(n,n.ref)},this.getColorPickerProps())):null,e.createElement(i.Divider,{long:!0}),e.createElement(o.sectionDividerLabeled,{label:"BGPP_SETTINGS_VIDEO_PLAYBACK_SECTION_TITLE"}),this.getEditorAPI().isDesktopEditor()?e.createElement(i.Divider,{long:!0,key:"whptoDividerImageDesc"}):null,e.createElement.apply(this,[o.dropDown.select,{valueLink:this.linkedBackgroundData(n,n.ref.mediaRef,"playbackSpeed"),label:a.translate("BGPP_SETTINGS_VIDEO_PLAYBACK_TITLE"),shouldTranslate:!1},t.map(this.getPlaybackOptions(),function(t,i,n,r){return e.createElement(o.dropDown.option,{key:"playbackOption"+r,value:n.value},n.label,"\n                \n            ")}.bind(this,n,s))]),e.createElement(i.Divider,{long:!0}),e.createElement(i.Composites.ToggleSwitch,{},e.createElement(i.ToggleSwitch,{value:this.linkedBackgroundData(n,n.ref.mediaRef,"loop").value,label:"BGPP_SETTINGS_VIDEO_LOOP_TITLE",onChange:this.linkedBackgroundData(n,n.ref.mediaRef,"loop").requestChange})))))}return n.apply(this,[])}}),define("rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgVideoSettingsPanel",["react","create-react-class","prop-types","core","lodash","panelUtils","util","stateManagement","rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgVideoSettingsPanel.rt"],function(e,t,o,i,n,r,a,s,l){"use strict";function c(e,t){var o=e.documentServices.pages.getPrimaryPageId();e.store.dispatch(s.editorPlugins.userPreferences.actions.setSessionUserPreferences("bg_video_settings_pattern_state_"+o,t))}function p(e){var t=e.documentServices.pages.getPrimaryPageId();e.store.dispatch(s.editorPlugins.userPreferences.actions.setSessionUserPreferences("bg_video_settings_data_changed_"+t,!0))}function d(e){return e===f}for(var u="rEditor/backgroundPanel/overlayPatternIcons/",m=[{value:"",illustration:e.createElement("img",{src:a.media.getMediaUrl(u+"v-overlay-pat-1-icon.png")})},{value:"",illustration:e.createElement("img",{src:a.media.getMediaUrl(u+"v-overlay-pat-2-icon.png")})},{value:"",illustration:e.createElement("img",{src:a.media.getMediaUrl(u+"v-overlay-pat-3-icon.png")})},{value:"",illustration:e.createElement("img",{src:a.media.getMediaUrl(u+"v-overlay-pat-4-icon.png")})},{value:"",illustration:e.createElement("img",{src:a.media.getMediaUrl(u+"v-overlay-pat-5-icon.png")})},{value:"",illustration:e.createElement("img",{src:a.media.getMediaUrl(u+"v-overlay-pat-6-icon.png")})},{value:"",illustration:e.createElement("img",{src:a.media.getMediaUrl(u+"v-overlay-pat-7-icon.png")})}],g=[{uri:"0da768_8b89980121844d37be099f0dbe33e3e3.png",width:6,height:6},{uri:"0da768_4371c7e64a49489bb88c536f515f2040.png",width:6,height:6},{uri:"0da768_361994b0f154464682a0aaf9724471cc.png",width:56,height:56},{uri:"0da768_880a3209e3744cd0a96b66835a01b8c5.png",width:256,height:256},{uri:"0da768_2729bfbce3874276a7dd057098f93949.png",width:6,height:6},{uri:"0da768_8fae2cc5b7bf477fb13faa1f2582dbd2.png",width:4,height:6},{uri:"0da768_2326357be59441978a570bec687a94d0.png",width:3,height:3}],f=[{uri:"0da768_5810e2bd76f64c77a67904ad2b073444.png",width:6,height:6},{uri:"0da768_46b55443eb984c0eacfbdcb1b67a2b7b.png",width:6,height:6},{uri:"0da768_d3e25a05cedd404f807528f6a4750388.png",width:56,height:56},{uri:"0da768_95dbd595356148718d5876246a20fe90.png",width:256,height:256},{uri:"0da768_0ffcd1b0986d43b4aaa061b8b17d4040.png",width:6,height:6},{uri:"0da768_0c0d2dc79bc14f6b8275c3b72fec1ab6.png",width:4,height:6},{uri:"0da768_09a75bbb10944eafb4539206b6a3c615.png",width:3,height:3}],h=0;h<g.length;h++)g[h].type="Image",f[h].type="Image";var b=[{value:.25,label:"0.25x"},{value:.5,label:"0.50x"},{value:1,label:a.translate("BGPP_SETTINGS_VIDEO_PLAYBACK_NORMAL")},{value:1.25,label:"1.25x"},{value:1.5,label:"1.50x"},{value:2,label:"2.00x"}],y=[{value:!1,label:"BGPP_SETTINGS_VIDEO_OVERLAY_PATTERN_DARKER"},{value:!0,label:"BGPP_SETTINGS_VIDEO_OVERLAY_PATTERN_LIGHTER"}],v={loop:!0,uri:null,colorOverlay:"#ffffff",colorOverlayOpacity:.2,scrollType:"scroll",playbackSpeed:1};return t({displayName:"bgVideoSettingsPanel",mixins:[i.mixins.editorAPIMixin,r.linkColorPickerMixin],propTypes:{getData:o.func,undoHandler:o.func,requestChange:o.func,undoOrigins:o.shape({VIDEO_PANEL:o.object})},childContextTypes:{reportUIChange:o.func},getInitialState:function(){this.lastColor="",this.lastColorOpacity=null;var e=this.props.getData();return this.currentPatterns=function(e,t){if(!e.ref.imageOverlay){var o=t.documentServices.pages.getPrimaryPageId();return s.editorPlugins.userPreferences.selectors.getSessionUserPreferences("bg_video_settings_pattern_state_"+o)(t.store.getState())?f:g}return n.find(g,{uri:e.ref.imageOverlay.uri})?g:f}(e,this.getEditorAPI()),this.patternState=d(this.currentPatterns),this.thumbPatternOptions=this.fillThumbPatternOptions(this.currentPatterns),null},getChildContext:function(){return{reportUIChange:this.onUIChange}},onUIChange:function(e){"slider"===e.toLowerCase()&&this.props.undoHandler(this.props.undoOrigins.VIDEO_PANEL)},getValue:function(e){return e&&e.uri||null},onChange:function(e,t){if(t){var o=n.find(this.currentPatterns,{uri:t});this.patternState=d(this.currentPatterns),e.ref.imageOverlay=e.ref.imageOverlay||{},n.assign(e.ref.imageOverlay,o)}else e.ref.imageOverlay=null;c(this.getEditorAPI(),this.patternState),this.props.requestChange(e,this.props.undoOrigins.VIDEO_PANEL),p(this.getEditorAPI())},applyInversePattern:function(e,t){return{value:this.patternState,requestChange:function(o){var i=n.findIndex(this.currentPatterns,{uri:t.uri});this.currentPatterns=o?f:g,this.fillThumbPatternOptions(this.currentPatterns),n.assign(e.ref.imageOverlay,this.currentPatterns[i]),this.patternState=o,c(this.getEditorAPI(),o),this.props.requestChange(e,this.props.undoOrigins.VIDEO_PANEL),p(this.getEditorAPI())}.bind(this)}},isColorOverlay:function(e){return!n.isEmpty(e.ref.colorOverlay)&&n.isNumber(e.ref.colorOverlayOpacity)},applyOverlayColor:function(e){return{value:this.isColorOverlay(e),requestChange:function(t){t?(e.ref.colorOverlay=this.lastColor?this.lastColor:e.ref.color,e.ref.colorOverlayOpacity=n.isNumber(this.lastColorOpacity)?this.lastColorOpacity:v.colorOverlayOpacity):(this.lastColor=e.ref.colorOverlay,this.lastColorOpacity=e.ref.colorOverlayOpacity,e.ref.colorOverlay="",e.ref.colorOverlayOpacity=0),this.props.requestChange(e,this.props.undoOrigins.VIDEO_PANEL),p(this.getEditorAPI())}.bind(this)}},linkColorWithOpacity:function(e,t){return{value:{color:t.colorOverlay.replace(/[\{\}]/g,""),alpha:t.colorOverlayOpacity},requestChange:function(o){t.colorOverlay=/color_/.test(o.color)?"{"+o.color+"}":o.color,t.colorOverlayOpacity=o.alpha,this.props.requestChange(e),p(this.getEditorAPI())}.bind(this)}},getColorPickerProps:function(){return{colorResolver:this.resolveColor,openColorPicker:this.openColorPicker,previewOnHover:!0,useMouseEvent:!0,enableHistory:!0}},shouldComponentUpdate:function(e){var t=e.getData(),o=this.getEditorAPI();return!(!t.ref.mediaRef||"WixVideo"!==t.ref.mediaRef.type)||(o.panelManager.closePanelByName(e.panelName),!1)},linkedBackgroundData:function(e,t,o){return{value:t&&void 0!==t[o]?t[o]:v[o],requestChange:function(i){t[o]=i,this.props.requestChange(e,this.props.undoOrigins.VIDEO_PANEL),p(this.getEditorAPI())}.bind(this)}},getPlaybackOptions:function(){return b},fillThumbPatternOptions:function(e){return n.forEach(e,function(t,o){m[o].value=e[o].uri}),m},getInvertPatternOption:function(){return y},render:l})}),define("rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgApplyPanelPageItem.rt",["react","lodash","baseUI","baseUILib","symbols","core"],function(e,t,o,i,n,r){"use strict";return function(){return function(){var a=this.props.page,s=this.initialBgData,l=this.getCurrentPageData(),c=this.getEditorAPI();return e.createElement("div",{className:t(this.getItemClassNames(a)).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},e.createElement("label",{className:"item-label"},s?e.createElement(i.Checkbox,{key:"normal-checkbox",value:this.state.checked,onChange:this.handleToggleChanged,disabled:this.isCurrentPage(),labelAfterSymbol:!0}):null,s?e.createElement("span",{className:"page-preview",key:"page-preview",style:this.getBgImageUrl(this.state.checked?l:s)},this.getMediaType(this.state.checked?l.ref:this.initialBgData.ref)===this.mediaTypes.VIDEO?e.createElement("div",{key:"page-preview-video-controls",className:"page-preview-video-controls"},e.createElement(o.symbol,{name:"bgVideoIndicator"})):null):null,e.createElement("span",{className:"page-name"},a.label),a.pageData&&c.pages.isHomePage(a.pageData.id)?e.createElement(n.symbol,{name:"pageItemHomeIcon",key:"isHome"}):null,a.pageData&&r.utils.tpaTypeUtils.isTPA(a.pageData)&&!r.utils.tpaTypeUtils.isTPASpecialPage(c.dsRead,a.pageData)?e.createElement(n.symbol,{name:"actionButtonSpecialPages",key:"isTpaPage"}):null,a.pageData&&r.utils.blogTypeUtils.isBlogSectionPage(c,a.pageData)?e.createElement(n.symbol,{name:"actionButtonBlogPages",key:"isBlogPage"}):null,a.type.isLink?e.createElement(n.symbol,{name:"pageItemLinkIcon",key:"isLink"}):null,a.type.isDropdown?e.createElement(n.symbol,{name:"pageItemDropdownIcon",key:"isDropDown"}):null,a.isVisible?null:e.createElement(n.symbol,{name:"pageItemHideIcon",key:"isHidden"})))}.apply(this,[])}}),define("rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgApplyPanelPageItem",["react","create-react-class","prop-types","core","lodash","util","rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgApplyPanelPageItem.rt"],function(e,t,o,i,n,r,a){"use strict";var s=r.imageTransform,l=r.backgroundPanelUtils,c=l.getMediaTypes();return t({mixins:[i.mixins.editorAPIMixin,e.addons.LinkedStateMixin],displayName:"bgApplyPanelPageItem",propTypes:{page:o.object.isRequired,itemBgData:o.object,currentPageBgData:o.object,valueLink:o.func,currentPageId:o.string,isCurrentPage:o.bool,isSubMenu:o.bool,isSubMenuLast:o.bool},mediaTypes:c,getInitialState:function(){return this.initialBgData=this.props.itemBgData,{checked:this.isCurrentPage()}},componentWillReceiveProps:function(e){this.isValueChanged(e)&&this.setState({checked:e.valueLink.value})},componentStateChanged:function(){this.props.valueLink.requestChange(this.state.checked,this.props.page.pageData.id,this.initialBgData)},handleToggleChanged:function(e){this.setState({checked:e},this.componentStateChanged)},shouldComponentUpdate:function(e,t){return!this.isCurrentPage()&&(this.isCheckedStateChanged(t)||this.isValueChanged(e))},isValueChanged:function(e){return null!==e.valueLink.value&&this.props.valueLink.value!==e.valueLink.value},isCheckedStateChanged:function(e){return e.checked!==this.state.checked},isCurrentPage:function(){return this.props.isCurrentPage},getItemClassNames:function(e){return{"bg-apply-panel-item":!0,"item-hidden":!e.isVisible,"current-page":this.isCurrentPage(),"item-first-level":!this.props.isSubMenu,"item-second-level":this.props.isSubMenu,"item-second-level-last":this.props.isSubMenuLast,"item-is-page":e.type.isPage}},getMediaType:function(e){return l.getMediaType(e)},getCurrentPageData:function(){return this.props.currentPageBgData},getBgImageUrl:function(e){var t={backgroundColor:l.getColorValue(this.getEditorAPI(),e.ref.color)},o=this.getMediaType(e.ref);if(o!==c.COLOR){var i=o===c.IMAGE?e.ref.mediaRef:e.ref.mediaRef.posterImageRef,a=l.isSmallerFromContainer(i.width,i.height,50,35),p=l.getImageDisplayData(a?s.fittingTypes.TILE:s.fittingTypes.SCALE_TO_FILL,e.ref.alignType,i.uri,i.width,i.height,50,35);t.backgroundImage="url("+r.url.joinURL(l.MEDIA_URL_PREFIX,p.uri)+")",n.assign(t,p.css.container)}return t},render:a})}),define("rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgApplyPanel.rt",["react","lodash","util","baseUI","baseUILib","panels","rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgApplyPanelPageItem","symbols"],function(e,t,o,i,n,r,a,s){"use strict";return function(){function i(o,i,n){return e.createElement("li",{key:"page"+n},e.createElement(a,t.assign({},{valueLink:this.pagesStateChange(),ref:"page"+n},this.getPagesProps(i))),i.items&&i.items.length?e.createElement.apply(this,["ul",{key:"pageItems"},t.map(i.items,function(o,i,n,r,s){return e.createElement("li",{key:"page"+n+"subPage"+s},e.createElement(a,t.assign({},{valueLink:this.pagesStateChange(),ref:"page"+n+"subPage"+s},this.getSubPagesProps(r,s,i.items.length-1))))}.bind(this,o,i,n))]):null)}function s(){var a=this.props.getData();return e.createElement(r.frames.bgSubPanelFrame,function(e,o){var i=t.assign({},e,o);return e.hasOwnProperty("style")&&(i.style=t.defaults(i.style,e.style)),e.hasOwnProperty("className")&&o.hasOwnProperty("className")&&(i.className=o.className+" "+e.className),i}({helpId:"18df7de7-066e-49e6-b005-f01c72d4f680",className:"bg-apply-panel background-sub-panel",label:"BGPP_SETTINGS_APLLY_PANEL_HEADER_TITLE"},t.omit(this.props,"children")),e.createElement("div",{className:"bg-apply-panel-wrapper"},e.createElement("div",{className:"bg-apply-panel-description"},"\n            ",o.translate("BGPP_SETTINGS_APLLY_PANEL_DESCRIPTION"),"\n        "),e.createElement("div",{className:"bg-apply-panel-all"},e.createElement(n.Checkbox,{labelAfterSymbol:!0,value:this.state.markAllPagesDisplay,onChange:this.handleSelectAllChange,indeterminate:this.state.indeterminate,label:"BGPP_SETTINGS_APLLY_TO_ALL"})),e.createElement(n.CustomScroll,{},e.createElement("div",{className:"bg-apply-panel-scrollbox bg-settings-panel-scrollbox"},e.createElement.apply(this,["ul",{className:"bg-apply-panel-scrollbox-list"},t.map(this.siteMenuItems,i.bind(this,a))])))))}return s.apply(this,[])}}),define("rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgApplyPanel",["react","create-react-class","lodash","util","core","pagesMenu","coreBi","stateManagement","rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgApplyPanel.rt"],function(e,t,o,i,n,r,a,s,l){"use strict";function c(e,t,i,n){return t=t||[],o.forEach(e,o.bind(function(e){if(e.pageData&&(t.push(e),o.includes(i,e.pageData.id))){var r=this.getEditorAPI().mainMenu.convertPagesDataListToMenuItemsList(m.getSpecialPagesListBySectionPageOrBySibling(this.getEditorAPI(),e.pageData),n);c.call(this,r,t,i,n)}c.call(this,e.items,t,i,n)},this)),o.uniqBy(t,"id")}function p(e){var t=e.pages.dynamicPages.getMenuItems();return o.flatMap(t,"items")}function d(e,t){var o=e.store.getState(),i=f(o);return e.documentServices.pages.background.get(t,i)}function u(e,t,o){var i=o.store.getState(),n=f(i),r=o.documentServices.pages.background.get(t,n);return e.ref.mediaRef&&r.ref.mediaRef&&e.ref.mediaRef.type===r.ref.mediaRef.type?(e.ref.mediaRef.id=r.ref.mediaRef.id,"WixVideo"===e.ref.mediaRef.type&&(e.ref.mediaRef.posterImageRef.id=r.ref.mediaRef.posterImageRef.id,e.ref.imageOverlay&&(e.ref.imageOverlay.id=r.ref.imageOverlay&&r.ref.imageOverlay.id))):e.ref.mediaRef?(delete e.ref.mediaRef.id,"WixVideo"===e.ref.mediaRef.type&&(delete e.ref.mediaRef.posterImageRef.id,e.ref.imageOverlay&&delete e.ref.imageOverlay.id)):(e.ref.mediaRef=null,e.ref.colorOverlay="",e.ref.imageOverlay=null,e.ref.scrollType="scroll"),e.ref.id=r.ref.id,e}var m=r.specialPages.menuLogic,g=i.bgPanelBiEvents,f=s.editorPlugins.leftBar.selectors.getDeviceType;return t({displayName:"backgroundApplyPanel",mixins:[n.mixins.editorAPIMixin,i.draggableMixin,e.addons.LinkedStateMixin],getInitialState:function(){return this.selectedItems=[],this.appliedPages=[],this.currentPageId=this.getEditorAPI().documentServices.pages.getPrimaryPageId(),this.currentPageBgData=d(this.getEditorAPI(),this.currentPageId),this.siteMenuItems=this.getTrimmedMenuItems(),this.flatSitePages=this.getFlatPagesList(),this.itemsProps=this.getItemsProps(),{markAllPagesDisplay:!1,indeterminate:!1}},shouldComponentUpdate:function(e,t){return this.state.markAllPagesDisplay!==t.markAllPagesDisplay||this.state.indeterminate!==t.indeterminate||this.appliedPages.length>0},updatePages:function(){!function(e,t,i,n){var r=void 0;o.forEach(n,function(n){r=n.checked?u(o.cloneDeep(i),n.pageId,t):u(o.cloneDeep(n.originalPageBgData),n.pageId,t),e.requestChange(r,null,n.pageId)}),n.length>0&&e.undoHandler(e.undoOrigins.APPLY_PANEL)}(this.props,this.getEditorAPI(),this.currentPageBgData,this.appliedPages),this.appliedPages=[]},componentWillUnmount:function(){g.applyToOtherClosed(this.getEditorAPI(),a.events.backgroundPanel.panel_apply_to_other_pages_ok,{all_pages_selected:(this.flatSitePages.length===this.selectedItems.length+1).toString(),num_unselected_pages:this.flatSitePages.length-this.selectedItems.length,num_selected_pages:this.selectedItems.length})},handleSelectAllChange:function(e){o.forEach(this.itemsProps,o.bind(function(t){var i=t.page.pageData.id;i!==this.currentPageId&&(e?o.includes(this.selectedItems,i)||(this.selectedItems.push(i),this.appliedPages.push({checked:e,originalPageBgData:t.itemBgData,pageId:i})):o.includes(this.selectedItems,i)&&(o.pull(this.selectedItems,i),this.appliedPages.push({checked:e,originalPageBgData:t.itemBgData,pageId:i})))},this)),this.setState({markAllPagesDisplay:e,indeterminate:!1},this.updatePages)},pagesStateChange:function(){var e=null;return this.flatSitePages.length===this.selectedItems.length+1&&(e=!0),0===this.selectedItems.length&&(e=!1),{value:e,requestChange:function(e,t,i){e&&t!==this.currentPageId?o.includes(this.selectedItems,t)||this.selectedItems.push(t):o.pull(this.selectedItems,t),this.appliedPages.push({checked:e,originalPageBgData:i,pageId:t});var n=this.flatSitePages.length===this.selectedItems.length+1,r=!n&&this.selectedItems.length>0;if(n!==this.state.markAllPagesDisplay||r!==this.state.indeterminate){var a={markAllPagesDisplay:n,indeterminate:r};this.setState(a,this.updatePages)}else this.updatePages()}.bind(this)}},getFlatPagesList:function(){var e=this.getEditorAPI(),t=e.documentServices.pages.getPagesData(),o=e.mainMenu.getMenuItemsTreeForMainMenu(t);o=o.concat(p(this.getEditorAPI()));var i=m.getSectionPagesIds(e,t),n=e.documentServices.mainMenu.getMenu();return c.call(this,o,[],i,n)},getTrimmedMenuItems:function(){var e=this.getMenuItemsTreeWithPagesOnly();return function(e,t){var i=!1,r=t.documentServices.mainMenu.getMenu(),a=t.documentServices.pages.getPagesData(),s=m.getSectionPagesIds(t,a),l=void 0;o.forEach(e,function(e){var c=void 0;if(e.pageData&&o.includes(s,e.pageData.id)){if(c=n.utils.tpaTypeUtils.isTPA(e.pageData),i&&c)return;l=t.mainMenu.convertPagesDataListToMenuItemsList(m.getSpecialPagesListBySectionPageOrBySibling(t,e.pageData,a),r),e.items=e.items.concat(l),c&&(i=!0)}})}(e,this.getEditorAPI()),e=e.concat(p(this.getEditorAPI()))},buildDynamicPagesIdsMap:function(){var e={},t=this.getEditorAPI().documentServices.routers.get.all();return o.forOwn(t,function(t){o.forOwn(t.pages,function(t){e[t]=!0})}),e},getMenuItemsTreeWithPagesOnly:function(){var e=this.getEditorAPI(),t=this.buildDynamicPagesIdsMap();return e.mainMenu.extendMenuItemsTreeWithPageData(e.documentServices.pages.getPagesData(),function(o,i){return i&&!m.isSpecialPage(e,i,t)||!i&&o.items.length>0})},getItemsProps:function(){var e=[];return o.forEach(this.flatSitePages,o.bind(function(t){e.push({page:t,currentPageId:this.currentPageId,currentPageBgData:this.currentPageBgData,itemBgData:d(this.getEditorAPI(),t.pageData.id),isCurrentPage:this.currentPageId===(t.type.isPage&&t.pageData.id)})},this)),e},getPagesProps:function(e){var t=o.find(this.itemsProps,{page:{id:e.id}});return t||(t={page:e}),t},getSubPagesProps:function(e,t,i){var n=o.find(this.itemsProps,{page:{id:e.id}});return n.isSubMenu=!0,n.isSubMenuLast=t===i,n},render:l})}),define("rEditor/rootComps/panels/siteSettings/siteSettingsPanel.rt",["react","lodash","baseUI","panels"],function(e,t,o,i){"use strict";return function(){return e.createElement("div",{},!0===this.state.newBizManager?e.createElement(i.frames.focusPanelFrame,{key:"newBizManager",panelName:this.props.panelName,width:"95%",height:"95%",shouldHideHeader:!0,className:"site-settings-panel"},e.createElement("iframe",{ref:"siteSettingsFrame",width:"100%",height:"100%",src:this.getSettingsIframeUrl(),frameBorder:"0"}),e.createElement(o.preloader,{className:t({hidden:!this.state.showLoader}).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")})):null,!1===this.state.newBizManager?e.createElement(i.frames.focusPanelFrame,{key:"oldBizManager",panelName:this.props.panelName,width:"1210",height:"90%",shouldHideHeader:!0,className:"site-settings-panel"},e.createElement("iframe",{ref:"siteSettingsFrame",width:"100%",height:"100%",src:this.getSettingsIframeUrl(),frameBorder:"0"}),e.createElement(o.preloader,{className:t({hidden:!this.state.showLoader}).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")})):null)}}),define("rEditor/rootComps/panels/siteSettings/siteSettingsPanel",["reactDOM","create-react-class","prop-types","higherOrderComponents","util","constants","core","lodash","rEditor/rootComps/panels/siteSettings/siteSettingsPanel.rt","coreBi","coreUtilsLib"],function(e,t,o,i,n,r,a,s,l,c,p){"use strict";function d(t){e.findDOMNode(this.refs.siteSettingsFrame).contentWindow.postMessage(JSON.stringify(t),"*")}function u(e,t){d.call(this,{isValid:t,callId:e.callId})}var m={CLOSE:"CLOSE",OPEN_HELP:"OPEN_HELP",SET_METATAGS:"SET_METATAGS",VALIDATE_METATAGS:"VALIDATE_METATAGS",GET_METATAGS:"GET_METATAGS",NOTIFY_SITENAME_CHANGED:"NOTIFY_SITENAME_CHANGED"},g=["https://www.wix.com","http://www.wix.com"],f=t({displayName:r.PANEL_TYPES.SITE_SETTINGS,render:l,mixins:[a.mixins.editorAPIMixin],propTypes:{tab:o.string,referrer:o.string},getInitialState:function(){return{showLoader:!0}},getDefaultProps:function(){return{tab:"overview"}},componentWillMount:function(){this.isNewBizManagerExperimentOpen().then(window.addEventListener("message",this.handlePostMessage,!1))},componentWillUnmount:function(){window.removeEventListener("message",this.handlePostMessage,!1)},handlePostMessage:function(e){var t=this.getEditorAPI();if(s.includes(g,e.origin)&&!s.isEmpty(e.data)&&s.isString(e.data))try{this.hideLoader();var o=JSON.parse(e.data);(function(e){return s.isObject(e)&&!s.isEmpty(e.action)&&s.isString(e.action)})(o)&&function(e,t){switch(e.action){case m.GET_METATAGS:d.call(this,{payload:t.documentServices.seo.headTags.get(),callId:e.callId});break;case m.SET_METATAGS:t.documentServices.seo.headTags.set(e.value,s.noop,s.noop);break;case m.VALIDATE_METATAGS:t.documentServices.seo.headTags.clientSideValidation(e.value,u.bind(this,e,!0),u.bind(this,e,!1));break;case m.NOTIFY_SITENAME_CHANGED:t.siteName.set(e.value);break;case m.CLOSE:this.props.close();break;case m.OPEN_HELP:this.props.openHelpCenter()}}.call(this,o,t)}catch(o){t.documentServices.bi.error(c.errors.SITE_SETTINGS_JSON_PARSE_ERROR,{dsc:'message: "'+o.message+'" data: "'+e.data+'"',errscp:this.constructor.displayName})}},isNewBizManagerExperimentOpen:function(){var e=this,t=this.getEditorAPI().documentServices.generalInfo.getMetaSiteId(),o="/_api/wix-dashboard-ng-webapp/is-in-biz-mgr?apps=site-settings&meta-site-id="+t;return p.requestsUtil.fetchJson(o,{contentType:"application/json",credentials:"same-origin",headers:new Headers({Authorization:"MSID."+t}),method:"GET"}).then(function(t){return e.setState({newBizManager:t["site-settings"]})})},getSettingsIframeUrl:function(){var e=this.getEditorAPI(),t=n.serviceTopology.baseDomain,o=e.documentServices.generalInfo.getMetaSiteId(),i=this.props.referrer?"&referrer="+this.props.referrer:"";return this.state.newBizManager?"business"===this.props.tab?"https://"+t+"/dashboard/"+o+"/settings/?viewMode=editor":"https://"+t+"/dashboard/"+o+"/manage-website/"+this.props.tab+"/?viewMode=editor":"https://"+t+"/my-account/sites/"+o+"/site-settings/"+this.props.tab+"/?mode=editor-dialog"+i},hideLoader:function(){this.state.showLoader&&this.setState({showLoader:!1})}});return i.panelFrame(r.PANEL_TYPES.SITE_SETTINGS)(f)}),define("rEditor/rootComps/panels/editorVersionInfoPanel/editorVersionInfoPanel.rt",["react","lodash","baseUI","panels","util"],function(e,t,o,i,n){"use strict";return function(){return e.createElement(i.frames.focusPanelFrame,{panelName:this.props.panelName,title:"Editor Version Info",frameClassName:"editorVersionInfoPanel"},e.createElement("div",{className:"content"},e.createElement("div",{className:"row"},e.createElement("label",{},"Editor Version:"),e.createElement("span",{},this.getEditorVersion())),e.createElement("div",{className:"row"},e.createElement("label",{},"Viewer Version:"),e.createElement("span",{},this.getViewerVersion()))),e.createElement("div",{className:"panel-footer"},e.createElement(o.button,{type:"button",shouldTranslate:!1,label:"OK",className:"done-button",onClick:this.close})))}}),define("rEditor/rootComps/panels/editorVersionInfoPanel/editorVersionInfoPanel",["lodash","create-react-class","core","util","zepto","rEditor/rootComps/panels/editorVersionInfoPanel/editorVersionInfoPanel.rt"],function(e,t,o,i,n,r){"use strict";function a(e){return e.split("/").pop()||"unknown"}return t({displayName:"editorVersionInfoPanel",panelName:"editorVersionInfoPanel",mixins:[o.mixins.editorAPIMixin],getEditorVersion:function(){return a(e.get(i,"editorModel.editorBase",""))},getViewerVersion:function(){return a(e.get(n("#preview")[0],"contentWindow.siteModel.santaBase"))},close:function(){this.getEditorAPI().panelManager.closePanelByName(this.props.panelName)},render:r})}),define("rEditor/rootComps/panels/applyStylePanel/applyStylePanel.rt",["react","lodash","panels","baseUI","baseUILib","util","symbols"],function(e,t,o,i,n,r,a){"use strict";return function(){return function(){var i=this.getEditorAPI().addPanelInfra.designPanelLiveComponentSection;return e.createElement(o.frames.confirmationPanelFrame,{panelName:this.props.panelName,className:"apply-style-panel",onConfirm:this.onConfirm,onCancel:this.onCancel,shouldHideHeader:!0,confirmLabel:"COPY_DESIGN_APPLY",ref:"frame",cancelLabel:"COPY_DESIGN_APPLY_CANCEL"},e.createElement("header",{className:"save-publish-panel-header"},e.createElement("button",{className:"close",onClick:this.close},e.createElement(a.symbol,{name:"headerCloseButton"})),e.createElement("button",{className:"help",onClick:this.openHelpCenter,key:"help"},"?"),e.createElement("span",{className:"title"},r.translate("COPY_DESIGN_TITLE")),e.createElement("span",{className:"subtitle"},r.translate("COPY_DESIGN_DESCRIPTION_LINE1"))),e.createElement("div",{className:"panel-content"},e.createElement("div",{className:"current-style-container container-wrapper"},e.createElement("div",{className:"current-style-header header"},e.createElement("span",{className:"text"},r.translate("COPY_DESIGN_LABEL_LEFT"))),e.createElement("div",{className:"current-style comp-container"},e.createElement(i,this.getSelectedCompProps()))),e.createElement("div",{className:"applied-styles-container container-wrapper"},this.getThemeAndPersonalizeStylesToRender().length>0?e.createElement("div",{key:"applyStyleHeader",className:"applied-styles-header header"},e.createElement("span",{className:"text"}," ",r.translate("COPY_DESIGN_LABEL_RIGHT"))):null,e.createElement(n.CustomScroll,{},e.createElement("div",{className:"comp-themed-styles comp-container"},this.getThemeAndPersonalizeStylesToRender().length>0?e.createElement(i,t.assign({},{key:"appliesStylesLiveSections"},this.getThemeAndPersonalizeStylesProps())):null,0===this.getThemeAndPersonalizeStylesToRender().length?e.createElement("div",{className:"empty-styles",key:"emptyStylesKey"},e.createElement(a.symbol,{name:"nothingToEditASP"}),e.createElement("div",{className:"empty-style-text text"},r.translate("COPY_DESIGN_EMPTY_LABEL"))):null)))))}.apply(this,[])}}),define("rEditor/rootComps/panels/applyStylePanel/applyStylePanel",["create-react-class","lodash","core","rEditor/rootComps/panels/applyStylePanel/applyStylePanel.rt","coreBi","constants","experiment"],function(e,t,o,i,n,r,a){"use strict";function s(e){return f[e]&&f[e].compOverrideType?f[e].compOverrideType:e}function l(e,i,n,r,a,l){var g={additionalBehaviours:{iconEnabledForComps:[],infoIcon:"none",labelMode:"none"},help:{hide:!0},categoryId:n.substring(n.lastIndexOf(".")+1),hide:!1,id:i,onClick:l,onItemDrag:function(){},parentType:"ADD_PANEL",props:{compTypes:s(n),horizontalMargin:p,verticalMargin:c,scaleProportion:{x:f[n]&&f[n].scale?f[n].scale:d,y:f[n]&&f[n].scale?f[n].scale:d}},showSectionHeader:!1,stylesForSection:r,additionalScaling:1,selectedItemKey:a,getAdditionalElementProps:function(i){var n=function(e,i){var n=e.style||e.styleId;return t.isString(n)&&(n=o.styleManager.getStyleById(i.theme,i.components,n)),n}(i,e),r={};return t.includes(u,n.skin)?(r.text="DESIGN_LABEL_NO_COLOR",r.className="design-panel-transparent-skin-item"):t.includes(m,n.skin)&&(r.text="Design_Label_No_Frame",r.className="design-panel-no-frame-skin-item"),r}};return f[n]&&f[n].maxFontSize&&(g.props.maxFontSize=f[n].maxFontSize),g}var c=30,p=20,d=1,u=["wysiwyg.viewer.skins.page.TransparentPageSkin","wysiwyg.viewer.skins.screenwidthcontainer.TransparentHalfScreen","wysiwyg.viewer.skins.screenwidthcontainer.TransparentScreen","wysiwyg.viewer.skins.area.TransparentArea"],m=["wysiwyg.viewer.skins.photo.NoSkinPhoto","wysiwyg.viewer.skins.VideoSkin"],g=["wysiwyg.viewer.components.MatrixGallery","wysiwyg.viewer.components.SlideShowGallery","wysiwyg.viewer.components.SliderGallery","wysiwyg.viewer.components.PaginatedGridGallery"],f={"wysiwyg.viewer.components.HeaderContainer":{scale:.5},"wysiwyg.viewer.components.FooterContainer":{scale:.5},"wysiwyg.viewer.components.ScreenWidthContainer":{scale:.5},"mobile.core.components.Page":{compOverrideType:"pageContainer"},"wysiwyg.viewer.components.Video":{scale:.5},"wysiwyg.viewer.components.VerticalLine":{maxFontSize:10},"wysiwyg.viewer.components.FiveGridLine":{maxFontSize:10},fiveGridLineFullWidth:{maxFontSize:10},"wysiwyg.common.components.singleaudioplayer.viewer.SingleAudioPlayer":{maxFontSize:10},"wysiwyg.viewer.components.AudioPlayer":{maxFontSize:10},"wysiwyg.viewer.components.menus.DropDownMenu":{maxFontSize:15},"wysiwyg.common.components.verticalmenu.viewer.VerticalMenu":{maxFontSize:15},"wysiwyg.viewer.components.SiteButton":{maxFontSize:22},"mobile.core.components.Container":{scale:.5},"core.components.Container":{scale:.5},"core.components.ContainerOBC":{scale:.5},"wysiwyg.viewer.components.BgImageStrip":{scale:.5},"wysiwyg.viewer.components.ContactForm":{scale:.5},"wysiwyg.viewer.components.DynamicContactForm":{scale:.5},"wysiwyg.common.components.subscribeform.viewer.SubscribeForm":{scale:.5},"wysiwyg.viewer.components.GoogleMap":{scale:.5},"wysiwyg.viewer.components.WPhoto":{scale:.5},"wysiwyg.viewer.components.MatrixGallery":{scale:.25,maxFontSize:12},"wysiwyg.viewer.components.SlideShowGallery":{scale:.25,maxFontSize:12},"wysiwyg.viewer.components.SliderGallery":{scale:.25,maxFontSize:12},"wysiwyg.viewer.components.PaginatedGridGallery":{scale:.25,maxFontSize:12}},h={"mobile.core.components.Container":["core.components.Container","core.components.ContainerOBC"],"core.components.Container":["mobile.core.components.Container","core.components.ContainerOBC"],"core.components.ContainerOBC":["mobile.core.components.Container","core.components.Container"]};return e({displayName:"applyStylePanel",mixins:[o.mixins.editorAPIMixin],getInitialState:function(){return{selectedItems:[]}},close:function(){var e=this.getEditorAPI();e.panelManager.closePanelByName(this.props.panelName);var t=this.props.selectedComp;e.bi.event(n.events.applyStyle.COPY_STYLE_CANCEL,{component_id:t.id,component_type:e.components.getType(t)})},onCancel:function(){var e=this.getEditorAPI(),t=this.props.selectedComp;e.bi.event(n.events.applyStyle.COPY_STYLE_CANCEL,{component_id:t.id,component_type:e.components.getType(t)})},onConfirm:function(){var e=this.getEditorAPI(),i=e.components.style.getId(this.props.selectedComp),r=e.components.getType(this.props.selectedComp),s=o.styleManager.getStyleById(e.theme,e.components,i),l=this.props.selectedComp;e.bi.event(n.events.applyStyle.COPY_STYLE_APPLY,{num_of_styles_chosen:this.state.selectedItems.length,component_id:l.id,component_type:e.components.getType(l)}),t.forEach(this.state.selectedItems,function(i){var n=i.split("."),l=n[n.length-1],c=l.substring(l.indexOf("_")+1),p=o.styleManager.getStyleById(e.theme,e.components,c),d=[p],u=o.styleManager.getDuplicateToStyleList(e.theme,e.components,p,r);t.forEach(h[r],function(t){var i=o.styleManager.getDuplicateToStyleList(e.theme,e.components,p,t,h[r]);u=u.concat(i)}),a.isOpen("se_studioCopyDesign")&&(u=t.filter(u,{styleType:"custom"})),d=d.concat(u),t.forEach(d,function(t){var o={skin:s.skin,style:s.style,type:t.type};e.theme.styles.update(t.id,o)})})},getSelectedCompProps:function(){var e=this.getEditorAPI(),o=this.props.selectedComp,i=e.components.getType(o);return l(e,"selectedComp"+o.id,i,[{styleId:e.components.style.getId(o),compType:s(i)}],this.state.selectedItems,t.noop)},getThemeAndPersonalizeStylesProps:function(){var e=this.getEditorAPI(),t=this.props.selectedComp;return l(e,"themeAndMyForComp"+t.id,e.components.getType(t),this.themeAndPersonalizedStylesToRender?this.themeAndPersonalizedStylesToRender:this.getThemeAndPersonalizeStylesToRender(),this.state.selectedItems,this.updateListOfStyleToUpdate)},getThemeAndPersonalizeStylesToRender:function(){if(this.themeAndPersonalizedStylesToRender)return this.themeAndPersonalizedStylesToRender;var e=this.getEditorAPI(),i=this.props.selectedComp,n=e.components.getType(i),r=e.components.style.getId(i),l=o.styleManager.getStyleById(e.theme,e.components,r),c=[];c=function(e,i){return t.filter(e,function(e){var n=o.styleManager.getStyleById(i.theme,i.components,e);return!t.includes(m,n.skin)})}(c=a.isOpen("se_studioCopyDesign")?function(e,i){var n=t.union([i],h[i]),r=t.map(n,function(i){return t.map(o.styleManager.getThemedStyleForComp(e.theme,e.components,i),"id")});return t(r).union().flatten().value()}(e,n):t.includes(g,n)?function(e,i){var n=t.map(o.styleManager.getUniqueCustomStyleList(e.theme,e.components,i),"id");return h[i]&&t.forEach(h[i],function(i){var r=t.map(o.styleManager.getUniqueCustomStyleList(e.theme,e.components,i),"id");n=n.concat(r)}),n}(e,n):function(e,i){var n=t.map(o.styleManager.getUniqueStyleList(e.theme,e.components,i),"id");return h[i]&&t.forEach(h[i],function(i){var r=t.map(o.styleManager.getUniqueStyleList(e.theme,e.components,i),"id");n=n.concat(r)}),n}(e,n),e);var p=[];return t.forEach(c,function(t){var i=o.styleManager.getStyleById(e.theme,e.components,t),c=t!==r&&!o.styleManager.isEqualWithoutTypeConsideration(i,l);(a.isOpen("se_studioCopyDesign")||c)&&p.push({compType:s(n),styleId:t})}),this.themeAndPersonalizedStylesToRender=p,p},updateListOfStyleToUpdate:function(e,o,i,r){var a=t.clone(this.state.selectedItems),s=r.split("."),l=s[s.length-1],c=l.substring(l.indexOf("_")+1),p=t.includes(a,r);p?t.remove(a,function(e){return e===r}):a.push(r);var d=this.props.selectedComp,u=this.getEditorAPI();u.bi.event(n.events.applyStyle.COPY_STYLE_CHOOSE_STYLES_TO_REPLACE_CLICK,{style_id:c,status:!p,component_id:d.id,component_type:u.components.getType(d)}),this.setState({selectedItems:a})},openHelpCenter:function(){var e=this.getEditorAPI(),t={panel_name:this.props.panelName,component:e.selection.getSelectedComponentType(),origin:r.BI.HELP.ORIGIN.PANEL,learn_more:!1};e.panelManager.openHelpCenter("b853c294-8ff1-418f-b4d2-29d7b59a85c3",null,t)},render:i})}),define("rEditor/rootComps/panels/boxSlideShowPanels/boxSlideShowManageSlidesPanel.rt",["react","lodash","util","baseUI","baseUILib","compPanels","helpIds"],function(e,t,o,i,n,r,a){"use strict";return function(){return e.createElement(r.compPanelFrame,t.assign({},{contentClass:"box-slide-show-manage-slides-panel",title:"Regular_Slideshow_Slides_Title",helpId:a.EXTERNAL.BOX_SLIDE_SHOW_MANAGE_SLIDES},this.getFrameProps()),e.createElement(n.SortByDragList,{selectable:!0,value:this.getSlides(),selectItem:this.selectSlide,menuActionsOverrides:this.getMenuActionsOverrides(),enableEditValue:!1,enableSetAsDefault:!1,labelValidator:o.validate.notEmptyString,labelInvalidMessage:"Box_slide_show_slides_invalid_slide_name",itemMoved:this.moveSlide,duplicateItem:this.duplicateSlide,deleteItem:this.deleteSlide,itemChanged:this.changeSlideName}),e.createElement("div",{className:"button-wrapper"},e.createElement(i.button,{className:"mainButton",label:"Regular_Slideshow_Slides_Add_Duplicate_Slide",onClick:this.duplicateCurrentSlide}),e.createElement(i.button,{className:"secondaryButton btn-text",label:"Regular_Slideshow_Slides_Add_New_Slide",onClick:this.addNewSlide})))}}),define("rEditor/rootComps/panels/boxSlideShowPanels/boxSlideShowManageSlidesPanel",["create-react-class","lodash","util","compPanels","boxSlideshow","coreBi","rEditor/rootComps/panels/boxSlideShowPanels/boxSlideShowManageSlidesPanel.rt"],function(e,t,o,i,n,r,a){"use strict";function s(){return this.getEditorAPI().components.getDefaultBiParams(this.props.selectedComponent)}function l(e,t,o){var i={id:t.id,label:function(e,t){return e.components.data.get(t)[d]}(e,t),pointer:t};return i.id===o.id&&(i.selected=!0),i}function c(e,o,i){var n=p.getAllSlides(e,o);return t.map(n,function(t){return l(e,t,i)})}var p=n.utils.boxSlideShowUtils,d="title";return e({displayName:"boxSlideShowManageSlidesPanel",mixins:[i.compPanelMixin,o.translationMixin],getInitialState:function(){var e=p.findCurrentSlide(this.getEditorAPI(),this.props.selectedComponent);return this.isCurrentlyInOperation=!1,{selectedSlide:e}},componentWillMount:function(){this.slides=this.getSlides()},componentWillUpdate:function(e,t){this.slides=c(this.getEditorAPI(),this.props.selectedComponent,t.selectedSlide)},componentWillReceiveProps:function(e){this.slides=c(this.getEditorAPI(),e.selectedComponent,this.state.selectedSlide);var o=p.findCurrentSlide(this.getEditorAPI(),e.selectedComponent);t.isEqual(o,this.state.selectedSlide)||this.setState({selectedSlide:o})},getSlides:function(){return c(this.getEditorAPI(),this.props.selectedComponent,this.state.selectedSlide)},getSelectedSlideItem:function(){return t.find(this.slides,{id:this.state.selectedSlide.id})},startOperation:function(){this.getEditorAPI().preventMouseDown(),this.isCurrentlyInOperation=!0},endOperation:function(){this.getEditorAPI().allowMouseDown(),this.isCurrentlyInOperation=!1},isInOperation:function(){return this.isCurrentlyInOperation},selectSlide:function(e,o){if(!this.isInOperation()){var i=this.getEditorAPI();this.startOperation(),this.setState({selectedSlide:e.pointer},function(){i.components.behaviors.execute(this.props.selectedComponent,"moveToSlide",{slide:o},this.endOperation)}.bind(this)),p.hideQuickTip(i),p.identifyComponentsOutOfSlideshow(i,this.props.selectedComponent),i.bi.event(r.events.boxSlideShow.SLIDES_NAVIGATION,t.assign({origin:"slideManager"},s.call(this)))}},moveSlide:function(e,o){if(e!==o&&!this.isInOperation()){var i=this.getEditorAPI(),n=t.findIndex(this.getSlides(),{selected:!0}),a=this.slides[e].pointer;i.components.arrangement.moveToIndex(a,o,!1),i.bi.event(r.events.boxSlideShow.MANAGE_SLIDES_SLIDE_REORDERED,s.call(this)),i.documentServices.waitForChangesApplied(function(){var e=t.findIndex(this.getSlides(),{selected:!0});n!==e&&(this.startOperation(),i.components.behaviors.execute(this.props.selectedComponent,"moveToSlide",{slide:e},this.endOperation))}.bind(this))}},addSlide:function(e,o){var i=this.getEditorAPI(),n=i.components.add(t.head(this.props.selectedComponent),e);i.components.arrangement.moveToIndex(n,o,!0),this.getEditorAPI().history.add("added a slide to slide show"),i.documentServices.waitForChangesApplied(function(){var e=l(i,n,this.state.selectedSlide);this.selectSlide(e,o)}.bind(this))},duplicateSlide:function(e,t){var o=this.getEditorAPI().components.serialize(e.pointer),i={curr_slide_title:o.data[d]};o.data[d]=this.translateTemplate("Regular_Slideshow_Slides_Copy_Slide_Label",i,this.getEditorAPI()),this.addSlide(o,t+1)},duplicateCurrentSlide:function(){var e=this.getSelectedSlideItem(),t=this.slides.length;this.duplicateSlide(e,t-1),this.getEditorAPI().bi.event(r.events.boxSlideShow.MANAGE_SLIDES_DUPLICATE_CURRENT_SLIDE,s.call(this))},deleteSlide:function(e,t,o){var i=this;if(!(o.length<=1)){var n=this.getEditorAPI();n.components.remove(e.pointer).then(function(){n.history.add("removed a slide from slide show");var e=p.findCurrentSlide(n,i.props.selectedComponent);i.setState({selectedSlide:e})})}},changeSlideName:function(e){var t=e.label,o=this.getEditorAPI(),i={};i[d]=t,o.components.data.update(e.pointer,i)},addNewSlide:function(){var e=this.getEditorAPI(),t=this.getSelectedSlideItem(),o=e.components.serialize(t.pointer);o.components=[];var i=this.slides.length,n={curr_slide:i+1};o.data[d]=this.translateTemplate("Regular_Slideshow_Slides_New_Slide_Label",n,e),this.addSlide(o,i),e.bi.event(r.events.boxSlideShow.MANAGE_SLIDES_ADD_NEW_SLIDE,s.call(this))},getMenuActionsOverrides:function(){return{toggleDefault:{enable:!1},toggleEditValue:{enable:!1},toggleEditLabel:{priority:3,label:o.translate("Regular_Slideshow_Slides_Rename")},duplicate:{priority:2,label:o.translate("Regular_Slideshow_Slides_Duplicate")},delete:{priority:1,label:o.translate("Regular_Slideshow_Slides_Delete"),enable:this.slides.length>1}}},render:a})}),define("rEditor/rootComps/panels/boxSlideShowPanels/slideShowBgApplyPanelItem.rt",["react","lodash","baseUI","baseUILib","symbols","core"],function(e,t,o,i,n,r){"use strict";return function(){return function(){var n=this.props.slide,r=this.getCurrentSlideData(),a=this.initialBgData;return e.createElement("div",{className:t(this.getItemClassNames(n)).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},e.createElement("label",{className:"item-label"},a?e.createElement(i.Checkbox,{key:"normal-checkbox",value:this.state.checked,onChange:this.handleToggleChanged,disabled:this.isCurrentSlide(),labelAfterSymbol:!0}):null,a?e.createElement("span",{className:"slide-preview",key:"slide-preview",style:this.getBgImageUrl(this.state.checked?r:a)},this.getMediaType(this.state.checked?r:a)===this.mediaTypes.VIDEO?e.createElement("div",{key:"slide-preview-video-controls",className:"slide-preview-video-controls"},e.createElement(o.symbol,{name:"bgVideoIndicator"})):null):null,e.createElement("span",{className:"slide-name"},this.props.slideTitle)))}.apply(this,[])}}),define("rEditor/rootComps/panels/boxSlideShowPanels/slideShowBgApplyPanelItem",["react","create-react-class","prop-types","core","lodash","util","rEditor/rootComps/panels/boxSlideShowPanels/slideShowBgApplyPanelItem.rt"],function(e,t,o,i,n,r,a){"use strict";var s=r.imageTransform,l=r.backgroundPanelUtils,c=l.getMediaTypes();return t({mixins:[i.mixins.editorAPIMixin,e.addons.LinkedStateMixin],displayName:"slideShowBgApplyPanelItem",propTypes:{slide:o.object.isRequired,slideTitle:o.string.isRequired,itemBgData:o.object,isCurrentSlide:o.bool,currentSlideBgData:o.object,valueLink:o.object},mediaTypes:c,getInitialState:function(){return this.origin=this.props.origin,this.initialBgData=this.props.itemBgData,{checked:this.isCurrentSlide()}},isCurrentSlide:function(){return this.props.isCurrentSlide},componentWillReceiveProps:function(e){this.isValueChanged(e)&&this.setState({checked:e.valueLink.value})},componentStateChanged:function(){this.props.valueLink.requestChange(this.state.checked,this.props.slide,this.initialBgData)},handleToggleChanged:function(e){this.setState({checked:e},this.componentStateChanged)},shouldComponentUpdate:function(e,t){return!this.isCurrentSlide()&&(this.isCheckedStateChanged(t)||this.isValueChanged(e))},isValueChanged:function(e){return null!==e.valueLink.value&&this.props.valueLink.value!==e.valueLink.value},isCheckedStateChanged:function(e){return e.checked!==this.state.checked},getItemClassNames:function(){return{"slideShow-apply-panel-item":!0,"current-slide":this.isCurrentSlide()}},getMediaType:function(e){return l.getMediaType(e)},getCurrentSlideData:function(){return this.props.currentSlideBgData},getBgStyleByBackgroundType:function(e){var t={backgroundColor:l.getColorValue(this.getEditorAPI(),e.color)},o=this.getMediaType(e);if(o!==c.COLOR){var i=o===c.IMAGE?e.mediaRef:e.mediaRef.posterImageRef,a=l.isSmallerFromContainer(i.width,i.height,50,35),p=l.getImageDisplayData(a?s.fittingTypes.TILE:s.fittingTypes.SCALE_TO_FILL,e.alignType,i.uri,i.width,i.height,50,35);t.backgroundImage="url("+r.url.joinURL(l.MEDIA_URL_PREFIX,p.uri)+")",n.assign(t,p.css.container)}return t},getBgImageUrl:function(e){var t=void 0;switch(this.origin){case"strip":case"box":t=this.getBgStyleByBackgroundType(e)}return t},render:a})}),define("rEditor/rootComps/panels/boxSlideShowPanels/slideShowBgApplyPanel.rt",["react","lodash","util","baseUI","baseUILib","panels","rEditor/rootComps/panels/boxSlideShowPanels/slideShowBgApplyPanelItem","helpIds"],function(e,t,o,i,n,r,a,s){"use strict";return function(){return e.createElement(r.frames.bgSubPanelFrame,function(e,o){var i=t.assign({},e,o);return e.hasOwnProperty("style")&&(i.style=t.defaults(i.style,e.style)),e.hasOwnProperty("className")&&o.hasOwnProperty("className")&&(i.className=o.className+" "+e.className),i}({helpId:s.EXTERNAL.BOX_SLIDE_SHOW_BG_APPLY,className:"slide-show-apply-panel",label:"Regular_Slideshow_Apply_Panel_Header_Title"},t.omit(this.props,"children")),e.createElement("div",{className:"slide-show-apply-panel-wrapper"},e.createElement("div",{className:"slide-show-apply-panel-description"},"\n            ",o.translate("Regular_Slideshow_Apply_Panel_Header_Description"),"\n        "),e.createElement("div",{className:"slide-show-apply-panel-all"},e.createElement(n.Checkbox,{label:"Regular_Slideshow_Apply_To_All",value:this.state.markAllSlidesDisplay,onChange:this.handleSelectAllChange,indeterminate:this.state.indeterminate,labelAfterSymbol:!0})),e.createElement(n.CustomScroll,{},e.createElement("div",{className:"slide-show-apply-panel-scrollbox slide-show-settings-panel-scrollbox"},e.createElement.apply(this,["ul",{className:"slide-show-apply-panel-scrollbox-list"},t.map(this.allSlides,function(o,i){return e.createElement("li",{key:"slide"+i},e.createElement(a,t.assign({},{valueLink:this.slidesStateChange(),ref:"slide"+i},this.getSlideProps(o))))}.bind(this))])))))}}),define("rEditor/rootComps/panels/boxSlideShowPanels/slideShowBgApplyPanel",["create-react-class","core","lodash","boxSlideshow","coreBi","rEditor/rootComps/panels/boxSlideShowPanels/slideShowBgApplyPanel.rt"],function(e,t,o,i,n,r){"use strict";function a(e,t){var o=t.originalSlideBgData;return e.mediaRef&&o.mediaRef&&e.mediaRef.type===o.mediaRef.type?(e.mediaRef.id=o.mediaRef.id,"WixVideo"===e.mediaRef.type&&(e.mediaRef.posterImageRef.id=o.mediaRef.posterImageRef.id,e.imageOverlay&&(e.imageOverlay.id=o.imageOverlay&&o.imageOverlay.id))):e.mediaRef?(delete e.mediaRef.id,"WixVideo"===e.mediaRef.type&&(delete e.mediaRef.posterImageRef.id,e.imageOverlay&&delete e.imageOverlay.id)):(e.mediaRef=null,e.colorOverlay="",e.imageOverlay=null),e.id=o.id,e}var s=i.utils.boxSlideShowUtils;return e({displayName:"slideShowBgApplyPanel",mixins:[t.mixins.editorAPIMixin],getAllSlides:function(){var e=this.getEditorAPI();return s.getAllSlides(e,e.selection.getSelectedComponents())},getInitialState:function(){var e=this.getEditorAPI();return this.selectedItems=[],this.appliedSlides=[],this.origin=this.props.origin,this.currentSlide=s.findCurrentSlide(e,e.selection.getSelectedComponents()),this.currentSlideBgData=this.getSlideBgData(this.currentSlide),this.allSlides=this.getAllSlides(),this.itemsProps=this.getItemsProps(),{markAllSlidesDisplay:!1,indeterminate:!1}},getSlideBgData:function(e){var t=this.getEditorAPI();switch(this.origin){case"strip":case"box":return t.components.design.get(e).background}},shouldComponentUpdate:function(e,t){return this.state.markAllSlidesDisplay!==t.markAllSlidesDisplay||this.state.indeterminate!==t.indeterminate||this.appliedSlides.length>0},handleSelectAllChange:function(e){o.forEach(this.itemsProps,o.bind(function(t){var i=t.slide,n=i.id;n!==this.currentSlide.id&&(e?o.includes(this.selectedItems,n)||(this.selectedItems.push(n),this.appliedSlides.push({checked:e,originalSlideBgData:t.itemBgData,slide:i})):o.includes(this.selectedItems,n)&&(o.pull(this.selectedItems,n),this.appliedSlides.push({checked:e,originalSlideBgData:t.itemBgData,slide:i})))},this)),this.setState({markAllSlidesDisplay:e,indeterminate:!1},this.updateSlides)},getItemsProps:function(){var e=[],t=this.getEditorAPI();return o.forEach(this.allSlides,o.bind(function(o){e.push({slide:o,slideTitle:t.components.data.get(o).title,currentSlideBgData:this.currentSlideBgData,itemBgData:this.getSlideBgData(o),isCurrentSlide:this.currentSlide.id===o.id})},this)),e},getSlideProps:function(e){var t=o.find(this.itemsProps,{slide:{id:e.id}});return t.origin=this.origin,t},updateSlides:function(){var e=this.getEditorAPI();!function(e,t,i,n){var r=void 0;o.forEach(t,function(t){switch(r=t.checked?a(o.cloneDeep(e),t):a(o.cloneDeep(t.originalSlideBgData),t),n){case"strip":case"box":!function(e,t,o){o.components.design.update(t,{background:e})}(r,t.slide,i)}})}(this.currentSlideBgData,this.appliedSlides,e,this.origin);var t=o.assign({total_slides:this.getAllSlides().length,num_selected_slides:this.appliedSlides.length,all_slides_selected:this.state.markAllSlidesDisplay},e.components.getDefaultBiParams(e.selection.getSelectedComponents()));e.bi.event(n.events.boxSlideShow.APPLY_ON_OTHER_SLIDES_SELECTED_SLIDES,t),this.appliedSlides=[]},slidesStateChange:function(){var e=null;return this.allSlides.length===this.selectedItems.length+1&&(e=!0),0===this.selectedItems.length&&(e=!1),{value:e,requestChange:function(e,t,i){var n=t.id;e&&n!==this.currentSlide.id?o.includes(this.selectedItems,n)||this.selectedItems.push(n):o.pull(this.selectedItems,n),this.appliedSlides.push({checked:e,originalSlideBgData:i,slide:t});var r=this.allSlides.length===this.selectedItems.length+1,a=!r&&this.selectedItems.length>0;if(r!==this.state.markAllSlidesDisplay||a!==this.state.indeterminate){var s={markAllSlidesDisplay:r,indeterminate:a};this.setState(s,this.updateSlides)}else this.updateSlides()}.bind(this)}},render:r})}),define("rEditor/rootComps/panels/panels",["rEditor/rootComps/panels/popup/overlaySettingsPanel/overlaySettingsPanel","rEditor/rootComps/panels/myMediaPanel","rEditor/rootComps/panels/backgroundPanel/backgroundPanel","rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgImageSettingsPanel","rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgVideoSettingsPanel","rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgApplyPanel","rEditor/rootComps/panels/siteSettings/siteSettingsPanel","rEditor/rootComps/panels/editorVersionInfoPanel/editorVersionInfoPanel","rEditor/rootComps/panels/applyStylePanel/applyStylePanel","rEditor/rootComps/panels/boxSlideShowPanels/boxSlideShowManageSlidesPanel","rEditor/rootComps/panels/boxSlideShowPanels/slideShowBgApplyPanel","rEditor/rootComps/panels/boxSlideShowPanels/slideShowBgApplyPanelItem"],function(e,t,o,i,n,r,a,s,l,c,p,d){"use strict";return{myMediaPanel:t,backgroundPanel:o,bgImageSettingsPanel:i,bgVideoSettingsPanel:n,backgroundApplyPanel:r,siteSettingsPanel:a,popup:{overlaySettingsPanel:e},editorVersionInfoPanel:s,applyStylePanel:l,boxSlideShowManageSlidesPanel:c,slideShowBgApplyPanel:p,slideShowBgApplyPanelItem:d}}),define("rEditor",["rEditor/rootComps/editorMain","rEditor/rootComps/editor","rEditor/rootComps/panels/panels","rEditor/app/EditorAPI","rEditor/rootComps/gfpp/gfppModel"],function(e,t,o,i,n){"use strict";return{editorMain:e,editorComp:t,panels:o,EditorAPI:i,gfppModel:n}});
//# sourceMappingURL=rEditor.min.js.map