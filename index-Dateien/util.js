var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};define("util/validators/validationExpressions",[],function(){"use strict";return Object.freeze({validUrlReg:/^(?:(?:ftps?:|https?:)?\/\/)?(?:(?:[\u0400-\uA69F\w][\u0400-\uA69F\w-]*)?[\u0400-\uA69F\w]\.)+(?:[\u0400-\uA69Fa-z]+|\d{1,3})(?::[\d]{1,5})?(?:[/?#].*)?\S$/i,validFullUrl:/(http|ftp|https):\/\/[\w-]+(\.[\w-]+)+([\w.,@?^=%&amp;:\/~+#-]*[\w@?^=%&amp;\/~+#-])?/,validUrlEmbed:/^(https:\/\/)(?:(?:[\u0400-\uA69F\w][\u0400-\uA69F\w-]*)?[\u0400-\uA69F\w]\.)+(?:[\u0400-\uA69Fa-z]+|\d{1,3})(?::[\d]{1,5})?(?:[/?#].*)?\S$/,invalidUrlCharacters:/[^A-Za-z0-9-]/g,validYouTubeLongUrlReg:/(?:youtube\.com\/watch[^\s]*[\?&]v=)([\w-]+)/,validYouTubeShortUrlReg:/(?:youtu\.be\/)([\w-]+)/,validVimeoUrlReg:/vimeo\.com\/(\d+)$/,validDailymotionUrlReg:/dailymotion\.com\/(?:video|playlist)\/([^_/]+)/,validFacebookUrlReg:/facebook\.com\/.+\/videos\/[A-Za-z0-9._%-]*/,validVideoUrlReg:/^(http:|https:|)\/\/(player.|www.)?(dailymotion\.com|facebook\.com|vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com))\/(.+\/videos\/|video\/|embed\/|watch\?v=|v\/|^\/)?([A-Za-z0-9._%-]*)(\&\S+)?/,validEmailReg:/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,validPinItUrl:/^https:\/\/?www\.pinterest\.com\/pin\/\d+\/*$/,validatePinterestUrl:/^(https?:\/\/)?www\.pinterest\.com\/[^&%$#*?\\_=+.!<>|]+\/?$/,validTwitterUser:/^@?[a-zA-Z0-9_%]{1,15}$/,validNumericValueReg:/^[0-9]+(\.[0-9]+)?$/,validFacebookPageId:/[^\w\.]/,validDisqusId:/^[a-zA-Z0-9_-]+$/,validPhoneReg:/^[^A-Za-z]+$/,validElementName:/^[A-Za-z][A-Za-z0-9\-\_\:\.]*$/,validEmoji:/(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\u0023-\u0039]\ufe0f?\u20e3|\u3299|\u3297|\u303d|\u3030|\u24c2|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|\ud83c\udd8e|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|[\ud83c[\ude01-\ude02]|\ud83c\ude1a|\ud83c\ude2f|[\ud83c[\ude32-\ude3a]|[\ud83c[\ude50-\ude51]|\u203c|\u2049|[\u25aa-\u25ab]|\u25b6|\u25c0|[\u25fb-\u25fe]|\u00a9|\u00ae|\u2122|\u2139|\ud83c\udc04|[\u2600-\u26FF]|\u2b05|\u2b06|\u2b07|\u2b1b|\u2b1c|\u2b50|\u2b55|\u231a|\u231b|\u2328|\u23cf|[\u23e9-\u23f3]|[\u23f8-\u23fa]|\ud83c\udccf|\u2934|\u2935|[\u2190-\u21ff])/})}),define("util/validators/textinputValidators",["lodash","util/validators/validationExpressions"],function(e,t){"use strict";return{email:function(e){return!e||t.validEmailReg.test(e)},url:function(e){return t.validUrlReg.test(e)},urlEmbed:function(e){return t.validUrlEmbed.test(e)},range:function(t,i){return function(n){return!e.isUndefined(n)&&n.length>=t&&n.length<=i}},number:function(i){return!e.isEmpty(i)&&t.validNumericValueReg.test(i)},videoUrl:function(e){return t.validVideoUrlReg.test(e)},videoUrlDifferentFormats:function(e){return t.validYouTubeLongUrlReg.test(e)||t.validYouTubeShortUrlReg.test(e)||t.validVimeoUrlReg.test(e)||t.validDailymotionUrlReg.test(e)||t.validFacebookUrlReg.test(e)},pinterestPinLink:function(e){return t.validPinItUrl.test(e.trim().toLowerCase())},pinterestFollowUrl:function(e){return t.validatePinterestUrl.test(e.trim())},twitterUser:function(e){return t.validTwitterUser.test(e.trim().toLowerCase())},facebookLink:function(e){return!t.validFacebookPageId.test(e)},disqusId:function(e){return t.validDisqusId.test(e.toLowerCase())},notEmpty:function(t){return!e.isEmpty(t)},noHTMLTags:function(e){return!/<|>/.test(e)},byInvalidCharacters:function(e){return function(t){return!new RegExp(e).test(t)}},rangeOfWords:function(t,i,n){return function(r){var o=r&&r.split(n);return!e.isUndefined(o)&&o.length>=t&&o.length<=i}},notEmptyString:function(e){return!/^\s*$/.test(e)},phone:function(e){return t.validPhoneReg.test(e)},fullUrl:function(e){return t.validFullUrl.test(e)},noEmoji:function(e){return!t.validEmoji.test(e)},validateMaxLength:function(e,t){var i=new RegExp("^\\d+$");if(t=String(t),function(e,t){return!e&&""===t}(e,t))return!0;var n=parseInt(t,10);return t.match(i)&&n>0&&n<1e6}}}),define("util/validators/pageValidators",["util/validators/textinputValidators"],function(e){"use strict";return{pageNameValidator:function(t){var i="";return e.range(1,40)(t)&&e.notEmptyString(t)?e.noHTMLTags(t)&&e.noEmoji(t)||(i="Pages_Actions_Rename_Validation"):i="Pages_Actions_Error_Page_Name_Too_Short",i}}}),define("util/validators/validate",["lodash","util/validators/pageValidators","util/validators/textinputValidators"],function(e,t,i){"use strict";return e.assign({},i,t)}),define("util/bi/events.json",[],function(){return{REMOVE_COMPONENT_SECOND_STEP_CLICK:{evid:280,src:38,endpoint:"editor",fields:{app_id:"string",app_site_id:"string",instance_id:"string",is_last_tpa:"number",component_id:"string",component_type:"string",removal_method:"string"}},OPEN_MARKET_CLICK:{evid:164,src:38,endpoint:"editor",fields:{is_first:"boolean",num_pending_apps:"number",referral_info_category:"string",referral_info:"string"}},COMPONENT_REMOVED:{evid:170,fields:{app_id:"guid",app_site_id:"guid",component_id:"string",widget_id:"string",component_type:"string",instance_id:"guid",is_last_tpa:"bool",removal_method:"string"}}}}),define("util/bi/errors.json",[],function(){return{TRANSLATION_ERROR:{errorCode:200,errorName:"TRANSLATION_ERROR",desc:"error translating text with parameters",severity:"warning",fields:{p1:"string"}}}}),define("util/bi/bi",["util/bi/events.json","util/bi/errors.json"],function(e,t){"use strict";return{events:e,errors:t,registerEvents:function(t){t.documentServices.bi.register("util","event",e)}}}),define("util/url/url",["lodash","coreUtilsLib"],function(e,t){"use strict";return{forceChangeEditorUrlTo:function(e){window.onbeforeunload=null,window.location=e},addProtocolIfMissing:t.urlUtils.addProtocolIfMissing,toQueryString:t.urlUtils.toQueryString,toQueryParam:t.urlUtils.toQueryParam,baseUrl:t.urlUtils.baseUrl,setUrlParam:t.urlUtils.setUrlParam,setUrlParams:t.urlUtils.setUrlParams,isExternalUrl:function(e){return/(^https?)|(^data)/.test(e)},parseUrl:t.urlUtils.parseUrl,parseUrlParams:t.urlUtils.parseUrlParams,buildFullUrl:t.urlUtils.buildFullUrl,getParameterByName:t.urlUtils.getParameterByName,isTrue:t.urlUtils.isTrue,joinURL:t.urlUtils.joinURL,isQA:function(){return"true"===t.urlUtils.getParameterByName("isQA")},noAppSave:function(){return"true"===t.urlUtils.getParameterByName("noAppSave")}}}),define("util/translation/translate",["json!langs","lodash","util/bi/bi","util/url/url","coreUtilsLib","coreBi"],function(e,t,i,n,r,o){"use strict";function a(e){if(!e)return null;var t=e.toLowerCase(),i=f[t];if(i){if(arguments.length>1){return function(e,t){return e.replace(/\{(\d+)}/g,function(e,i){return void 0===t[i]?e:t[i]})}(i,l.call(arguments,1))}return i}return p(e)}function s(e){var t=a(e);return window.reverseTranslations[t]=e,t}function u(t){e.isUsingFallback&&t.documentServices.bi.error(o.errors.IS_USING_FALLBACK),d=t.documentServices.bi.error,c.forEach(function(e){d.apply(null,e)}),c.length=0}var l=Array.prototype.slice,c=[],d=function(){c.push(l.call(arguments))},g=n.getParameterByName("isqa"),p=function(){var e=function(){};g?e=function(e){var t="http://itayjiraapp.appspot.com/api/v1/santa/missingkey?key="+encodeURIComponent(e),i=new window.XMLHttpRequest;i.open("GET",t,!0),i.onreadystatechange=function(){4===i.readyState&&200!==i.status&&304!==i.status&&r.log.info("failed to report missing key:"+e)},i.send(null)}:i&&(e=function(e){d(i.errors.TRANSLATION_ERROR,{p1:e})});var t={};return function(i){return t[i]||(t[i]=!0,e(i)),"!"+i+"!"}}(),f=t.fromPairs(t.map(e,function(e,t){return[t.toLowerCase(),e]}));return window.reverseTranslations={},a.init=u,a.addLangs=function(e){t.assign(f,e)},s.init=u,g?s:a}),define("util/link/link",["lodash","util/validators/validate","util/translation/translate"],function(e,t,i){"use strict";function n(e){return e.replace("#","")}function r(t,i){if("SCROLL_TO_TOP"===i.anchorDataId||"SCROLL_TO_BOTTOM"===i.anchorDataId)return i.anchorName;var r=e.has(i.pageId,"id")?i.pageId.id:i.pageId,o=e.isPlainObject(i.anchorDataId)?i.anchorDataId:t.data.getById(n(i.anchorDataId),r);return o?o.name:a(t,i.pageId)}function o(e,n,o){if(!n)return"";switch(n.type){case u.PAGE_LINK:return function(e,t,i){var n=a(e,t.pageId);if(i)return"Page - "+n;return n}(e,n,o);case u.ANCHOR_LINK:return function(e,t,i){var n=a(e,t.pageId),o=r(e,t);if(i)return"Anchor ("+o+(n?", Page: "+n:"")+")";return o}(e,n,o);case u.EMAIL_LINK:return function(e,t,i){var n=t.recipient||"";if(i)return"Email - "+n;return n}(0,n,o);case u.PHONE_LINK:return function(e,t,i){var n=t.phoneNumber||"";if(i)return"tel:"+n;return n}(0,n,o);case u.DOCUMENT_LINK:return function(e,t,i){if(i)return"Document - "+t.name;return t.name}(0,n,o);case u.EXTERNAL_LINK:return function(e,i){if(!t.url(i.url))return"";return i.url}(0,n);case u.LOGIN_TO_WIX_LINK:return function(e,t,i){if(i)return"Login / Signup Dialog";return t.postLoginUrl}(0,n,o);case u.DYNAMIC_PAGE_LINK:return function(e,t,n){var r=e.documentServices.routers.get.byId(t.routerId);if(!r)return"";var o=r.prefix;t.innerRoute&&"/"!==t.innerRoute&&(o=o+"/"+("CURRENT_INNER_ROUTE"===t.innerRoute?i("Platform_Link_Menu_Anchor_Item_Option_Any_Item"):t.innerRoute));if(n)return"Page Prefix - "+o;return o}(e,n,o);case u.FORM_SUBMIT_BUTTON_LINK:return"Form Submit Button";default:throw Error("Unknown Link Type: "+n.type)}}function a(t,i){if(i){var r=e.isPlainObject(i)?i:t.documentServices.pages.data.get(n(i));if(r)return r.title||""}return""}function s(t,i){var n=function(t){return e.map(t.components.get.byType("wysiwyg.common.components.anchor.viewer.Anchor"),function(e){var i=t.components.data.get(e),n=t.components.getPage(e).id;return{anchorName:i.name,pageId:"#"+n,anchorDataId:"#"+i.id,y:t.components.layout.get(e).y}})}(t),r={bi:{selectedComponentType:t.selection.getSelectedComponentType()},data:{pages:t.documentServices.pages.getPagesData(),menuItems:t.mainMenu.getMenu(!0),anchors:n,currentPageId:t.documentServices.pages.getPrimaryPageId(),popups:t.pages.popupPages.getDataListOrdered()},createDefaultData:t.data.createItem};return i=e.merge(r,i),e.has(i,"visibleSections.PhoneLink")||e.set(i,"visibleSections.PhoneLink",!0),i}var u={NO_LINK:"NoLink",PAGE_LINK:"PageLink",ANCHOR_LINK:"AnchorLink",EXTERNAL_LINK:"ExternalLink",DOCUMENT_LINK:"DocumentLink",PHONE_LINK:"PhoneLink",EMAIL_LINK:"EmailLink",LOGIN_TO_WIX_LINK:"LoginToWixLink",DYNAMIC_PAGE_LINK:"DynamicPageLink",EDGE_ANCHOR_LINK:"EdgeAnchorLinks",POPUP_LINK:"PopupLink",FORM_SUBMIT_BUTTON_LINK:"FormSubmitButtonLink"};return{LinkTypes:u,getLinkPanelProps:s,getAnchorLinkName:r,getLinkValueAsString:o}}),define("util/url/UrlBuilder",["lodash"],function(e){"use strict";function t(e,t){this._base=e,this.params=t||{}}return t.prototype.base=function(e){return this._base=e,this},t.prototype.param=function(e,t){return this.params[e]=t,this},t.prototype.ifParam=function(e,t,i){return e?this.param(t,i):this},t.prototype.paramsObj=function(t){return this.params=e.assign(this.params,t),this},t.prototype.url=function(){var t=e(this.params).toPairs().invokeMap("join","=").join("&");return t&&(t="?"+t),this._base+t},t}),define("util/jsUtils/jsUtils",[],function(){"use strict";function e(e){if(Array.isArray(e))return e;if("string"==typeof e)return e.split(".");throw new Error("pathElements passed to setDeepPath/getDeepPath must be an Array or a String!")}return{setDeepPath:function(t,i,n){i=e(i);for(var r=void 0;i.length>1;){if(r=i.shift(),void 0===t[r]&&(t[r]={},void 0===t[r]))return;t=t[r]}return r=i.shift(),t[r]=n,t[r]},getDeepPath:function(t,i){for(i=e(i);i.length;){if(!t)return;t=t[i.shift()]}return t}}}),define("util/utils/guid",["lodash"],function(e){"use strict";function t(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}function i(t){var n=new Array(4).join().replace(/(.|$)/g,function(){return(36*Math.random()|0).toString(36)});return e.includes(t,n)?i(t):n}var n=void 0,r=0,o="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx";return{generateNewPageId:i,getUniqueId:function(e,t){e=e||"",t=t||"";var i=Date.now();return i===n?r++:(n=i,r=0),e+t+Number(n).toString(36)+(r||"")},getGUID:function(){return o.replace(/[xy]/g,t)}}}),define("util/utils/string",["coreUtilsLib"],function(e){"use strict";return{capitalize:e.stringUtils.capitalize,startsWith:e.stringUtils.startsWith,isNullOrEmpty:e.stringUtils.isNullOrEmpty,removeHtmlTagsFromString:function(e){return e.replace(/<[^<]*>/g,"")},removeBreakLinesFromString:function(e){return e.replace(/[\n\r]/g," ")},removeNonSupportedCharacters:function(e){return e.replace(/[\u2028-\u2029]/g,"")},isTrue:e.stringUtils.isTrue}}),define("util/utils/functionUtils",["lodash"],function(e){"use strict";return{cacheFunction:function(t,i,n){var r=void 0;return n=n||{},e.isFunction(i)||(r=i),function(){var o=r||i.apply(this,arguments),a=void 0;return e.has(n,o)||(a=t.apply(this,arguments),e.set(n,o,a)),a||e.get(n,o)}}}}),define("util/utils/cookie",["lodash","coreUtilsLib"],function(e,t){"use strict";return{parseCookieString:t.cookieUtils.parseCookieString,setCookie:t.cookieUtils.setCookie,getCookie:t.cookieUtils.getCookie,deleteCookie:t.cookieUtils.deleteCookie,setUserPetriOverrideCookie:function(i,n){var r="old"===n?"new":"old",o=t.cookieUtils.getCookie("petri_ovr");o?e.includes(o,"specs."+i)?o=o.replace("specs."+i+"#"+r,"specs."+i+"#"+n):o+="|specs."+i+"#"+n:o="specs."+i+"#"+n;var a=new Date((new Date).setYear((new Date).getFullYear()+1));t.cookieUtils.setCookie("petri_ovr",o,a,"wix.com")}}}),define("util/utils/animationFrame",[],function(){"use strict";var e="undefined"!=typeof window?window:{},t=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)},i=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.mozCancelAnimationFrame||e.oCancelAnimationFrame||e.msCancelAnimationFrame||window.clearTimeout;return{request:function(){return t.apply(e,arguments)},cancel:function(){return i.apply(e,arguments)}}}),define("util/utils/classNames",[],function(){"use strict";return{inheritClassName:function(e,t){return(t||"")+(e.className?" "+e.className:"")}}}),define("util/outerClick/outerClick",["lodash","react","reactDOM","prop-types","create-react-class"],function(e,t,i,n,r){"use strict";return r({displayName:"outerClick",propTypes:{onOuterClick:n.func.isRequired,children:n.node},componentDidMount:function(){var t=this.props.onOuterClick,n=i.findDOMNode(this);this.onOuterClick=function(i){for(var r=[],o=i.target;o;)r.push(o),o=o.parentNode||o.parentElement;e.includes(r,n)||t(i)},window.document.addEventListener("mousedown",this.onOuterClick,!0)},componentWillUnmount:function(){window.document.removeEventListener("mousedown",this.onOuterClick,!0)},render:function(){return t.Children.only(this.props.children)}})}),define("util/props/propTypesFilterMixin",["lodash"],function(e){"use strict";return{filteredProps:function(){return e.omit(this.props,e.keys(this.constructor.propTypes))},getContentProps:function(){var t=this.filteredProps();return t.headerTitle=t.title,e.omit(t,"title")}}}),define("util/translation/translationUtil",["lodash","util/translation/translate","util/bi/bi"],function(e,t,i){"use strict";var n=function(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).translate||t;return{translate:n,translateTemplate:function(t,r,o,a){var s=a?t:n(t);if(e.every(r,function(t,i){return e.includes(s,i)}))try{s=e.template(s)(r)}catch(n){var u={p1:t,p2:s};e.isFunction(o)&&o(i.errors.TRANSLATION_ERROR,u)}return s}}},r=n();return r.create=n,r}),define("util/translation/translationMixin",["util/translation/translationUtil","prop-types","lodash"],function(e,t,i){"use strict";var n=function(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).translationUtil||e;return{propTypes:{shouldTranslate:t.bool},getDefaultProps:function(){return{shouldTranslate:!0}},translateIfNeeded:function(e){return this.props.shouldTranslate?n.translate(e):e},translateTemplate:function(e,t,r){var o=i.isFunction(this.props.biError)?this.props.biError:i.get(r,"documentServices.bi.error");return n.translateTemplate(e,t,o,!this.props.shouldTranslate)}}},r=n();return r.create=n,r}),define("util/postMessage/postMessageMixin",["lodash"],function(e){"use strict";return{componentWillMount:function(){this.handlers={}},componentWillUnmount:function(){e.forEach(this.handlers,e.bind(function(e,t){this.clearPastMessageHandlerNamed(t)},this))},setPostMessageHandler:function(e,t){this.setPostMessageHandlerNamed("default",e,t)},setPostMessageHandlerNamed:function(e,t,i){this.handlers.hasOwnProperty(e)&&this.clearPastMessageHandlerNamed(e);var n=function(e){var n=void 0;try{n=JSON.parse(e.data)}catch(e){return}(n.id===t||null===t&&void 0===n.id)&&i(n)};window.addEventListener("message",n,!1),this.handlers[e]=n},clearPastMessageHandlerNamed:function(e){this.handlers[e]&&(window.removeEventListener("message",this.handlers[e],!1),delete this.handlers[e])}}}),define("util/math/rect",["lodash"],function(e){"use strict";function t(e){return e.height*e.width}function i(e){return e.height/e.width}function n(e){return e.x+e.width}function r(e){return e.y+e.height}function o(e,t){return n(e)-n(t)}function a(e,t){return r(e)-r(t)}return{getArea:t,getAspectRatio:i,getRight:n,getBottom:r,getResizedByRatio:function(t,i){var n=Math.sqrt(i);return e.assign(e.clone(t),{height:t.height*n,width:t.width*n})},getRightDiff:o,getBottomDiff:a,getRightAndBottomDiff:function(e,t){return{x:o(e,t),y:a(e,t)}},getMiddlePoint:function(e){return{x:e.x+e.width/2,y:e.y+e.height/2}},getAreaRatioPercentage:function(e,i){return t(e)/t(i)*100},getPointRatioFromRect:function(e,t){return{x:e.x/t.width,y:e.y/t.height}},getMiddleRelativeRectAreaByPercentage:function(e,t){var i=(100-t)/2;return{x:e.width*i/100,y:e.height*i/100,width:e.width*t/100,height:e.height*t/100}},getRectByBoundingRect:function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},areRectsTheSameSize:function(e,t){return e.height===t.height&&e.width===t.width},getRectMinDimensionsByContainedInnerRect:function(e,t){var n=i(e);return{height:t.width*n,width:t.height/n}}}}),define("util/math/math",["lodash","util/math/rect","coreUtilsLib"],function(e,t,i){"use strict";function n(e){return{x:{min:e.x,max:e.x+e.width},y:{min:e.y,max:e.y+e.height}}}function r(e,t,i){return t<=e&&e<=i}function o(e){return e/360*(2*Math.PI)}function a(e,t){return{x:e.x*Math.cos(t)-e.y*Math.sin(t),y:e.x*Math.sin(t)+e.y*Math.cos(t)}}function s(e){return Math.round(2*e)/2}return{valueFromPercent:function(e,t,n){return!r(e,0,100)||n<t?(i.log.error("percent is invalid of range or range error"),null):i.math.map(e,0,100,t,n)},percentFromValue:function(e,t,n){return r(e,t,n)?i.math.map(e,t,n,0,100):(i.log.error("value is out of range or range error"),null)},ensureWithinLimits:function(t,i,n){if(i=e.isUndefined(i)?t:i,n=e.isUndefined(n)?t:n,i>n)throw new Error("min limit is greater than max limit");return t<i?i:t>n?n:t},getSquaresIntersection:function(e,t){var i=n(e),r=n(t),o=function(e){return{x:e.x.min,y:e.y.min,width:e.x.max-e.x.min,height:e.y.max-e.y.min}}({x:{min:Math.max(i.x.min,r.x.min),max:Math.min(i.x.max,r.x.max)},y:{min:Math.max(i.y.min,r.y.min),max:Math.min(i.y.max,r.y.max)}});return o.width>0&&o.height>0?o:null},getQuadraticEquationBy3Points:function(e,t,i){var n=e.y/((e.x-t.x)*(e.x-i.x))+t.y/((t.x-e.x)*(t.x-i.x))+i.y/((i.x-e.x)*(i.x-t.x)),r=-e.y*(t.x+i.x)/((e.x-t.x)*(e.x-i.x))-t.y*(e.x+i.x)/((t.x-e.x)*(t.x-i.x))-i.y*(e.x+t.x)/((i.x-e.x)*(i.x-t.x)),o=e.y*t.x*i.x/((e.x-t.x)*(e.x-i.x))+t.y*e.x*i.x/((t.x-e.x)*(t.x-i.x))+i.y*e.x*t.x/((i.x-e.x)*(i.x-t.x)),a=Math.pow(r,2);return{fInverse:function(e){if(0===n)return(e-o)/r;var t=Math.sqrt(a-4*n*(o-e));return Math.max((-r-t)/(2*n),(-r+t)/(2*n))},f:function(e){return n*Math.pow(e,2)+r*e+o}}},degToRad:o,rotateVectorAround:a,roundToNearestHalf:s,getBoundingRectAfterRotation:function(i,n){var r=e.assign({},i,{x:0,y:0}),u=t.getMiddlePoint(r),l=e.assign({},u,{y:-u.y}),c=o(180+function(e){var t=e%180;return t>90?180-t:t}(n)),d=a(u,c),g=a(l,c),p=d.y+i.height/2,f=g.x+i.width/2,m={x:i.x+f,y:i.y+p,width:i.width-2*f,height:i.height-2*p};return e.mapValues(m,s)},getPointAsIfRectWasNotRotated:function(i,n,r){var u=t.getMiddlePoint(i),l=a({x:n.x-u.x,y:n.y-u.y},o(-r)),c={x:l.x+u.x,y:l.y+u.y};return e.mapValues(c,s)},rect:t,numberFromValue:function(e){return""===e?null:Number(e,10)}}}),define("util/utils/elementUtils",["lodash"],function(e){"use strict";function t(t){return"number"==typeof e.get(t,"nodeType")&&"string"==typeof e.get(t,"nodeName")}function i(i,n){var r=function(i){var n=e.get(i,0);return t(n)?n:t(i)?i:t(e.get(i,"0"))&&i}(i);return r?r[n]:0}return{getOuterWidth:function(e){return i(e,"offsetWidth")||0},getOuterHeight:function(e){return i(e,"offsetHeight")||0},setOffset:function(e,t,i){var n=e.offset(),r=parseFloat(e.css("top"))||0,o=parseFloat(e.css("left"))||0;t=t-n.top+r,i=i-n.left+o,e.css({top:t,left:i})}}}),define("util/mixins/draggableMixin",["reactDOM","zepto","lodash","util/math/math","util/utils/elementUtils","util/utils/animationFrame"],function(e,t,i,n,r,o){"use strict";function a(){s.off(".draggable");var e=this.draggable;l(e.pendingFrameRequest),e.pendingFrameRequest=0,t(e.element).css({transition:""}),this.isBeingDragged&&(this.isBeingDragged=!1,this.onDragEnd&&this.onDragEnd({left:e.nodePosition.x,top:e.nodePosition.y})),e.element=void 0}var s=t(window.document),u=o.request,l=o.cancel;return{getInitialState:function(){return this.isBeingDragged=!1,this.draggable={},{isCustomPosition:!1}},startDrag:function(n,r,o){var a=this.draggable;a.limits={x:[],y:[],lockedX:!1,lockedY:!1},a.element=t(i.isObject(o)&&e.findDOMNode(o)||e.findDOMNode(this)),"string"!=typeof r&&i.assign(a.limits,r);var u=a.element.offset();a.nodePosition={y:u.top-window.pageYOffset,x:u.left-window.pageXOffset},a.relPosition={x:n.pageX-window.pageXOffset-a.nodePosition.x,y:n.pageY-window.pageYOffset-a.nodePosition.y},a.nodeSizes={height:a.element.height(),width:a.element.width()},a.event={},s.on({"mousemove.draggable":this.onDrag,"mouseup.draggable":this.endDrag}),t(a.element).css({transition:"none"})},onDrag:function(e){this.isBeingDragged||(this.isBeingDragged=!0,this.onDragStart&&this.onDragStart());var t=this.draggable;return t.event.pageX=e.pageX,t.event.pageY=e.pageY,t.pendingFrameRequest||(t.pendingFrameRequest=u(function(){this.setState({isCustomPosition:!0});var e=this.draggable;e.pendingFrameRequest=0;var t=e.limits,i=e.event.pageX-window.pageXOffset-e.relPosition.x;i=t.lockedX?n.ensureWithinLimits(i,e.nodePosition.x,e.nodePosition.x):n.ensureWithinLimits(i,t.x[0],t.x[1]-e.nodeSizes.width);var o=e.event.pageY-window.pageYOffset-e.relPosition.y;o=t.lockedY?n.ensureWithinLimits(o,e.nodePosition.y,e.nodePosition.y):n.ensureWithinLimits(o,t.y[0],t.y[1]-e.nodeSizes.height),e.nodePosition.x=i,e.nodePosition.y=o;var a={left:e.nodePosition.x,top:e.nodePosition.y};this.whileDrag?this.whileDrag(a):r.setOffset(e.element,a.top,a.left)}.bind(this))),!1},endDrag:function(){a.call(this)},componentWillUnmount:function(){this.draggable.element&&a.call(this)}}}),define("util/serviceTopology/serviceTopology",[],function(){"use strict";return window.serviceTopology}),define("util/media/media",["staticAssets","util/serviceTopology/serviceTopology","util/url/url","platformUtils"],function(e,t,i,n){"use strict";var r=n.backgroundUtils,o=e.staticAssetsMap;return{getMediaUrl:function(e,n){var r=i.joinURL(t.scriptsDomainUrl,"services","santa-resources","resources","editor"),a=o[e]||o[n]||n||e;return a&&"/"===a[0]&&(a=a.substr(1)),[r,a].join("/")},fixMediaTitleLength:r.fixMediaTitleLength}}),define("util/headerScrollTypes/headerScrollTypesData.json",[],function(){return[{isDefault:!0,value:{fixedPosition:!1,scrollType:"stays_on_top"},desktop:{label:"desktop_headerscroll_panel_scrolls_site_label",sources:{paused:"desktop-header-scroll-paused.gif",playing:"desktop-header-scroll.gif",selectedPaused:"desktop-header-scroll-selected-paused.gif",selectedPlaying:"desktop-header-scroll-selected.gif"}},mobile:{label:"mobile_headerscroll_panel_scrolls_site_label",sources:{paused:"mobile-header-scroll-paused.gif",playing:"mobile-header-scroll.gif",selectedPaused:"mobile-header-scroll-selected-paused.gif",selectedPlaying:"mobile-header-scroll-selected.gif"}}},{value:{fixedPosition:!0,scrollType:"freezes"},desktop:{label:"desktop_headerscroll_panel_freezes_label",sources:{paused:"desktop-header-fixed-paused.gif",playing:"desktop-header-fixed.gif",selectedPaused:"desktop-header-fixed-selected-paused.gif",selectedPlaying:"desktop-header-fixed-selected.gif"}},mobile:{label:"mobile_headerscroll_panel_freezes_label",sources:{paused:"mobile-header-fixed-paused.gif",playing:"mobile-header-fixed.gif",selectedPaused:"mobile-header-fixed-selected-paused.gif",selectedPlaying:"mobile-header-fixed-selected.gif"}}},{value:{fixedPosition:!0,behaviorName:"ScrubAnimation",animationName:"HeaderHideToTop",scrollType:"disappears"},desktop:{label:"desktop_headerscroll_panel_disappears_label",sources:{paused:"desktop-header-hide-on-scroll-paused.gif",playing:"desktop-header-hide-on-scroll.gif",selectedPaused:"desktop-header-hide-on-scroll-selected-paused.gif",selectedPlaying:"desktop-header-hide-on-scroll-selected.gif"}},mobile:{label:"mobile_headerscroll_panel_disappears_label",sources:{paused:"mobile-header-hide-on-scroll-paused.gif",playing:"mobile-header-hide-on-scroll.gif",selectedPaused:"mobile-header-hide-on-scroll-selected-paused.gif",selectedPlaying:"mobile-header-hide-on-scroll-selected.gif"}}},{value:{fixedPosition:!0,behaviorName:"ScrubAnimation",animationName:"HeaderFadeOut",scrollType:"fade_out"},desktop:{label:"desktop_headerscroll_panel_fades_out_label",sources:{paused:"desktop-header-fade-on-scroll-paused.gif",playing:"desktop-header-fade-on-scroll.gif",selectedPaused:"desktop-header-fade-on-scroll-selected-paused.gif",selectedPlaying:"desktop-header-fade-on-scroll-selected.gif"}},mobile:{label:"mobile_headerscroll_panel_fades_out_label",sources:{paused:"mobile-header-fade-on-scroll-paused.gif",playing:"mobile-header-fade-on-scroll.gif",selectedPaused:"mobile-header-fade-on-scroll-selected-paused.gif",selectedPlaying:"mobile-header-fade-on-scroll-selected.gif"}}}]}),define("util/headerScrollTypes/headerScrollTypes",["lodash","util/media/media","util/headerScrollTypes/headerScrollTypesData.json"],function(e,t,i){"use strict";var n=function(e){return t.getMediaUrl("compPanels/headerContainer/"+e)},r=e.map(i,function(t){return t.desktop.sources=e.mapValues(t.desktop.sources,n),t.mobile.sources=e.mapValues(t.mobile.sources,n),t});return{headerScrollTypesModel:r,getDefaultHeaderType:function(){return e.find(r,{isDefault:!0})},getSelectedHeaderType:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.find(i,{name:"ScrubAnimation"});return e.find(r,function(i){var r=i.value.fixedPosition===t.fixedPosition;if(n){var o=n.name===i.value.behaviorName,a=e.head(e.get(n,["params","animations"],[])),s=e.get(a,"name")===i.value.animationName;return r&&o&&a&&s}return r})},getHeaderTypeThumbnailImage:function(t,i,n,r){var o=r?"mobile":"desktop",a=e.isEqual(t.value,n),s=void 0;s=e.isEqual(t.value,i)?a||!n?"selectedPlaying":"selectedPaused":a?"playing":"paused";return e.get(t,[o,"sources",s])}}}),define("util/browser/browserUtil",["lodash","coreUtilsLib"],function(e,t){"use strict";function i(){return window.navigator&&window.navigator.userAgent}function n(){return!!r.os.mac}var r=t.browserDetection(i());return{isMacintosh:n,isChrome:function(){return!!r.browser.chrome},isIE:function(){return!!r.browser.ie},isEdge:function(){return!!r.browser.edge},isSafari:function(){return!!r.browser.safari},getUserAgent:i,getDevicePixelRatio:function(){return window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI},isSpecialKeyPressed:function(e){return n()?e.metaKey:e.ctrlKey},getKeyboardSpecialKey:function(){return{label:n()?"⌘":"Ctrl",value:n()?"command":"ctrl"}}}}),define("util/imageService/imageTransform",["lodash","util/browser/browserUtil","util/url/url","util/serviceTopology/serviceTopology","imageClientApi"],function(e,t,i,n,r){"use strict";function o(e,t,i,n){return i.width=parseInt(i.width,10),i.height=parseInt(i.height,10),r.getData(e,t,i,n)}return{getData:o,getFromImageData:function(a,s,u,l,c,d){l=l||r.fittingTypes.SCALE_TO_FILL;var g=a.quality,p=t.getDevicePixelRatio(),f=n.staticMediaUrl||"",m=o(l,e.assign(e.pick(a,["width","height","crop"]),{id:a.uri}),{width:s,height:u,htmlTag:d||"img",pixelAspectRatio:p,alignment:c||r.alignTypes.CENTER},g);return i.isExternalUrl(m.uri)||(m.uri=i.joinURL(f,m.uri)),m},fittingTypes:r.fittingTypes,alignTypes:r.alignTypes,getImageScale:function(e,t,i){return e.width>=t&&e.height>=i?r.fittingTypes.SCALE_TO_FILL:r.fittingTypes.SCALE_TO_FIT},init:function(){r.populateGlobalFeatureSupport()}}}),define("util/imageService/imageEffects",["coreUtilsLib"],function(e){"use strict";return{getFilter:e.svgFilters.getFilter}}),define("util/video/youtubeVideoUtils",["lodash","coreUtilsLib"],function(e,t){"use strict";function i(e){var t=/(?:youtube\.com\/watch[^\s]*[\?&]v=)([\w-]+)/g.exec(e)||/(?:youtu\.be\/)([\w-]+)/g.exec(e);if(t&&t.length&&t[1])return t[1]}var n="https://www.googleapis.com/youtube/v3/videos",r="AIzaSyC-CGohESUF9bCBy1jFRQYFOR-iwbsCYPg";return{verifyVideoUrl:function(o,a,s){var u=i(o);if(u){var l=n+"?key="+r+"&part=snippet&id="+u;t.requestsUtil.fetchJson(l).then(function(t){if(e.isEmpty(t.items))return Promise.reject();a(o)}).catch(s)}else s()},getVideoUrl:function(e){return"http://www.youtube.com/watch?v="+e},getVideoIdFromUrl:i}}),define("util/video/vimeoVideoUtils",["coreUtilsLib"],function(e){"use strict";function t(e){var t=/vimeo\.com\/(\d+)$/gi.exec(e);if(t&&t.length&&t[1])return t[1]}function i(i,n,r){var o=t(i);o||r();!function(t,i,n){e.requestsUtil.fetchJson(t).then(i).catch(n)}("https://vimeo.com/api/v2/video/"+o+".json",n,r)}return{verifyVideoUrl:i,getVideoUrl:function(e){return"https://vimeo.com/"+e},getVideoIdFromUrl:t}}),define("util/video/dailymotionVideoUtils",["coreUtilsLib"],function(e){"use strict";function t(e){var t=/dailymotion\.com\/(?:video|playlist)\/([^_/]+)/gi.exec(e);if(t&&t.length&&t[1])return t[1]}function i(i,n,r){var o=t(i);o||r();!function(t,i,n){e.requestsUtil.fetchJson(t).then(i).catch(n)}("https://api.dailymotion.com/video/"+o,n,r)}return{verifyVideoUrl:i,getVideoUrl:function(e){return"http://dailymotion.com/"+e},getVideoIdFromUrl:t}}),define("util/video/facebookVideoUtils",["coreUtilsLib"],function(e){"use strict";function t(e){var t=/facebook\.com\/(.+\/videos\/[A-Za-z0-9._%-]*)/gi.exec(e);if(t&&t.length&&t[1])return t[1]}function i(i,n,r){var o=t(i);o||r();!function(t,i,n){e.requestsUtil.fetchJson(t).then(i).catch(n)}("//www.facebook.com/plugins/video.php?href=https://www.facebook.com/"+o,n,r)}return{verifyVideoUrl:i,getVideoUrl:function(e){return"//www.facebook.com/"+e},getVideoIdFromUrl:t}}),define("util/video/videoUtils",["lodash","util/video/youtubeVideoUtils","util/video/vimeoVideoUtils","util/video/dailymotionVideoUtils","util/video/facebookVideoUtils"],function(e,t,i,n,r){"use strict";function o(e,t){return s[e.toUpperCase()]&&s[e][t]}function a(t){var i=void 0;return e.forEach(s,function(n,r){var a=o(r,"getVideoIdFromUrl"),s=a&&a(t);if(!e.isEmpty(s))return i={videoType:r,videoId:s},!1}),i}var s={YOUTUBE:t,VIMEO:i,DAILYMOTION:n,FACEBOOK:r};return{verifyVideoUrl:function(e,t,i){var n=a(e);if(n&&n.videoType&&n.videoId){var r=o(n.videoType,"verifyVideoUrl");r?r(e,t,i):i()}else i()},getVideoUrl:function(e){if(e&&e.videoType&&e.videoId){var t=o(e.videoType,"getVideoUrl");return t&&t(e.videoId)||""}return""},getVideoDataFromUrl:a,videoTypes:{YOUTUBE:"YOUTUBE",VIMEO:"VIMEO",DAILYMOTION:"DAILYMOTION",FACEBOOK:"FACEBOOK"}}}),define("util/mixins/selectionMixin",["lodash"],function(e){"use strict";return{getInitialState:function(){return{checkedItems:{}}},clearSelection:function(){this.setState({checkedItems:{}})},toggle:function(e){var t=this.state.checkedItems;t[e]=!t[e],this.setState({checkedItems:t})},toggleAll:function(t){if(0===this.getSelectedIds().length){var i=e.transform(t,function(e,t){e[t]=!0},{});this.setState({checkedItems:i})}else this.setState({checkedItems:{}})},isSelected:function(e){return!!this.state.checkedItems[e]},getSelectedIds:function(){return e(this.state.checkedItems).pickBy().keys().value()}}}),define("util/mixins/blockOuterScrollMixin",[],function(){"use strict";return{blockOuterScroll:function(e){var t=e.currentTarget,i=e.currentTarget.scrollHeight-e.currentTarget.offsetHeight,n=e.deltaY%3?e.deltaY:10*e.deltaY;t.scrollTop+n<=0?(t.scrollTop=0,e.preventDefault()):t.scrollTop+n>=i&&(t.scrollTop=i,e.preventDefault()),e.stopPropagation()}}}),define("util/mixins/addPanelHoverMixin",[],function(){"use strict";var e=100,t=void 0,i=void 0;return{enter:function(n,r,o,a){t=null,window.clearTimeout(i),i=window.setTimeout(function(){t||a&&a.call(this,r,o)}.bind(this),e)},leave:function(e,i){t=i}}}),define("util/utils/verticalScrollIntoView",["zepto"],function(e){"use strict";function t(){return r()<n()}function i(){return o()>n()+s.height()}function n(){return s.scrollTop()}function r(){return a.position().top}function o(){return r()+a.height()}var a=void 0,s=void 0;return function(n,u){a=e(n),s=e(u),(t()||i())&&(t()?s.scrollTop(r()):i()&&s.scrollTop(o()-s.height()))}}),define("util/mixins/imagesContainerMixin",["reactDOM","zepto"],function(e,t){"use strict";return{afterImagesLoad:function(i,n){function r(){a===s&&i()}if(n=n||t(e.findDOMNode(this))){var o=n.find("img"),a=o.length,s=0;o.each(function(){t(this)[0].complete?(s++,r()):t(this).on("load",function(){s++,r()})})}}}}),define("util/mixins/storageMixin",["lodash"],function(e){"use strict";return{storage:{data:{},clear:function(e){delete this.data[e]},clearAll:function(){this.data={}},get:function(e){return this.data.hasOwnProperty(e)?this.data[e]:null},getAll:function(){return this.data},set:function(t,i){"string"==typeof t?this.data[t]=i:"object"===(void 0===t?"undefined":_typeof(t))&&e.assign(this.data,t)}}}}),define("util/mixins/componentUpdatesMixin",["lodash"],function(e){"use strict";return{registerToComponentDidUpdate:function(t){this.componentDidUpdateListeners=this.componentDidUpdateListeners||[],e.includes(this.componentDidUpdateListeners,t)||this.componentDidUpdateListeners.push(t)},unregisterToComponentDidUpdate:function(t){this.componentDidUpdateListeners=e.without(this.componentDidUpdateListeners,t)||[]},componentDidUpdate:function(t,i){e.forEach(this.componentDidUpdateListeners,e.bind(function(e){e(t,i,this.state)},this))}}}),define("util/editorModel/editorModel",[],function(){"use strict";return window.editorModel}),define("util/translation/languages",["lodash","util/translation/translate","util/editorModel/editorModel"],function(e,t,i){"use strict";function n(){return i.languageCode}var r=["da","de","en","es","fr","it","ja","ko","nl","no","pl","pt","ru","sv","tr"],o=["da","de","en","es","fr","it","ja","kr","nl","no","pl","pt","ru","sv","tr"],a=["da","de","en","es","fr","it","ja","nl","no","pl","pt","ru","sv","tr"],s=["da","de","en","es","fr","it","jp","ko","nl","no","pl","pt","ru","sv","tr"],u=["da","de","en","es","fr","it","ja","ko","nl","no","pl","pt","ru","sv","tr"],l=e.map(["da","de","en","es","fr","it","ja","ko","nl","no","pl","pt","ru","sv","tr"],function(e){return{value:e,label:t("Supported_Languages_"+e.toUpperCase())}});return{getLanguagesList:function(){return l},getTwitterLanguages:function(){return r},getFacebookLanguages:function(){return o},getITunesLanguages:function(){return s},getPaypalLanguages:function(){return a},getGoogleMapsLanguages:function(){return u},getLanguageKeyByLang:function(e){return"LANGS_"+e},getLanguageCode:n,getLocalizedLink:function(e,t){var i=n(),r=t||"//www.",o=void 0;return o="en"===i?t?"www":"//www.":t?i:"//"+i+".",e=e.replace(r,o)}}}),define("util/compIcon/svgForComp",[],function(){"use strict";var e={default:"default","wysiwyg.viewer.components.WRichText":"text","wysiwyg.viewer.components.MediaRichText":"text","wysiwyg.viewer.components.WPhoto":"wPhoto","wysiwyg.viewer.components.MatrixGallery":"galleries","wysiwyg.viewer.components.SlideShowGallery":"galleries","wysiwyg.viewer.components.SliderGallery":"galleries","wysiwyg.viewer.components.PaginatedGridGallery":"galleries","tpa.viewer.components.Honeycomb":"galleries","tpa.viewer.components.Thumbnails":"galleries","tpa.viewer.components.Collage":"galleries","wysiwyg.viewer.components.tpapps.TPA3DCarousel":"galleries","wysiwyg.viewer.components.tpapps.TPA3DGallery":"galleries","tpa.viewer.components.Freestyle":"galleries","wysiwyg.viewer.components.Video":"video","wysiwyg.viewer.components.MediaPlayer":"video","wysiwyg.viewer.components.SoundCloudWidget":"soundCloud","wysiwyg.viewer.components.AudioPlayer":"audioPlayer","mobile.core.components.Container":"container","wysiwyg.viewer.components.VerticalLine":"verticalLine","wysiwyg.viewer.components.FiveGridLine":"horizontalLine","wysiwyg.viewer.components.ClipArt":"WPhoto","wysiwyg.viewer.components.SiteButton":"button","wysiwyg.common.components.imagebutton.viewer.ImageButton":"imageButton","wysiwyg.viewer.components.ItunesButton":"itunesButton","wysiwyg.viewer.components.menus.DropDownMenu":"horizontalMenu","wysiwyg.viewer.components.documentmedia.DocumentMedia":"documentMedia","wysiwyg.viewer.components.HorizontalMenu":"horizontalMenu","wysiwyg.common.components.verticalmenu.viewer.VerticalMenu":"verticalMenu","wysiwyg.viewer.components.mobile.TinyMenu":"tinyMenu","wysiwyg.viewer.components.WFacebookLike":"facebook","wysiwyg.common.components.facebooklikebox.viewer.FacebookLikeBox":"facebook","wysiwyg.viewer.components.WFacebookComment":"facebook","wysiwyg.viewer.components.WTwitterFollow":"twitter","wysiwyg.viewer.components.WTwitterTweet":"twitter","wysiwyg.viewer.components.TwitterFeed":"twitter","wysiwyg.viewer.components.WGooglePlusOne":"googlePlus","wysiwyg.viewer.components.LinkBar":"linkBar","tpa.viewer.components.TPASection":"appMarket","tpa.viewer.components.TPAWidget":"appMarket","wysiwyg.viewer.components.tpapps.TPASection":"appMarket","wysiwyg.viewer.components.tpapps.TPAMultiSection":"appMarket","wysiwyg.viewer.components.tpapps.TPAWidget":"appMarket","wysiwyg.viewer.components.tpapps.TPAGluedWidget":"appMarket","tpa.viewer.components.TPAGallery":"galleries","tpa.viewer.components.TPAComponent":"appMarket","wysiwyg.viewer.components.ContactForm":"contactForm","wysiwyg.viewer.components.DynamicContactForm":"contactForm","wysiwyg.viewer.components.GoogleMap":"googleMaps","wysiwyg.viewer.components.HtmlComponent":"htmlComponent","wysiwyg.viewer.components.FlashComponent":"flashComponent","wysiwyg.viewer.components.PayPalButton":"paypal","wysiwyg.viewer.components.FlickrBadgeWidget":"flicker","wysiwyg.viewer.components.AdminLogin":"webMasterLogin","wysiwyg.viewer.components.AdminLoginButton":"webMasterLogin","wysiwyg.viewer.components.LoginButton":"memberLogin","wysiwyg.viewer.components.LoginSocialBar":"memberLogin","wixapps.integration.components.AppPart":"blog","wixapps.integration.components.AppPart2":"listBuilder","wysiwyg.viewer.components.svgshape.SvgShape":"svgShape","wysiwyg.viewer.components.VectorImage":"svgShape","wysiwyg.viewer.components.MediaOverlayControls":"svgShape","wysiwyg.common.components.subscribeform.viewer.SubscribeForm":"contactForm","wysiwyg.common.components.singleaudioplayer.viewer.SingleAudioPlayer":"singleAudioPlayer","wysiwyg.viewer.components.BgImageStrip":"strip","wysiwyg.common.components.youtubesubscribebutton.viewer.YouTubeSubscribeButton":"youtubeSubscribe","wysiwyg.viewer.components.HeaderContainer":"headerContainer","wysiwyg.viewer.components.FooterContainer":"footerContainer","wysiwyg.common.components.pinitpinwidget.viewer.PinItPinWidget":"pinterset","wysiwyg.common.components.pinterestpinit.viewer.PinterestPinIt":"pinterset","wysiwyg.viewer.components.PinterestFollow":"pinterset","wysiwyg.common.components.skypecallbutton.viewer.SkypeCallButton":"skype","wysiwyg.viewer.components.VKShareButton":"vkShare","wysiwyg.common.components.spotifyfollow.viewer.SpotifyFollow":"spotifyFollow","wysiwyg.common.components.spotifyplayer.viewer.SpotifyPlayer":"spotifyFollow","wysiwyg.common.components.anchor.viewer.Anchor":"anchor","wysiwyg.common.components.rssbutton.viewer.RSSButton":"rssButton","wysiwyg.viewer.components.inputs.DatePicker":"datePicker","wysiwyg.common.components.verticalanchorsmenu.viewer.VerticalAnchorsMenu":"anchor","wysiwyg.viewer.components.Grid":"grid","wixui.Pagination":"pagination","wixui.ToggleSwitch":"toggleSwitch","mobile.core.components.Page":"rcmPage"};return{getSvgNameForComp:function(t){return e[t]?e[t]:e.default}}}),define("util/compIcon/compIcon",["lodash","util/compIcon/svgForComp","util/imageService/imageTransform"],function(e,t,i){"use strict";function n(n,s,u,l){var c=void 0,d=void 0,g=void 0;if(e.includes(r,s)){var p=function(e,t,n){var r=n.components.data.get(e);if(t=t||{width:a,height:a},"ImageList"!==r.type&&"Image"!==r.type)return null;var s=void 0;s="ImageList"===r.type?r.items[0]:r;var u=i.getData(i.fittingTypes.SCALE_TO_FILL,{width:s.width,height:s.height,id:s.uri},{width:t.width||a,height:t.height||a,alignment:i.alignTypes.CENTER,htmlTag:"bg"});return{url:o+u.uri,css:u.css.container}}(n,u,l);c=p.url,g=p.css}else d=t.getSvgNameForComp(s);return{src:c,svgName:d,css:g}}var r=["wysiwyg.viewer.components.ClipArt","wysiwyg.viewer.components.WPhoto"],o="//static.wixstatic.com/media/",a=50;return{getCompIconInfo:n}}),define("util/googleTranslate/googleTranslate",["lodash","coreUtilsLib","util/url/url","experiment"],function(e,t,i,n){"use strict";var r="blank";return function(o,a){if(n.isOpen("urlFormatGoogleTranslate")&&!i.isTrue("isqa")){var s="https://www.googleapis.com/language/translate/v2?key=AIzaSyDk459Frxeg68etyrYPBbaopQePV40ChZk&target=en&q="+encodeURIComponent(o);t.requestsUtil.fetchJson(s).then(function(t){return function(t,i){t(e.get(i,["data","translations",0,"translatedText"],r))}(a,t)}).catch(function(){return function(e){e(r)}(a)})}else a(o)}}),define("util/keyboardShortcuts/keyboardShortcuts",["lodash","keyboardMaster"],function(e,t){"use strict";function i(){return a()!==g}function n(t,i){o(t)&&i&&(c[t]&&r(t),c[t]=i,e.forOwn(i,function(i,n){!function(t,i,n){!e.isEmpty(t)&&n&&o(i)&&e.isFunction(m)&&m(t,i,n)}(n,t,i)}))}function r(e){o(e)&&(m.deleteScope(e),c[e]={})}function o(t){return!e.isEmpty(t)}function a(){return f}function s(e){i()&&u(e)}function u(e){f=e,m.setScope(e)}var l={TOP_CONTEXT:"all",EDITOR:"EDITOR",BASE_EDITOR:"BASE_EDITOR",PIN_MODE:"PIN_MODE",IMAGE_CROP:"IMAGE_CROP",ZOOM_MODE:"ZOOM_MODE",PREVIEW:"PREVIEW",TOP_BAR:"TOP_BAR",MENU_BAR:"MENU_BAR",MODAL_PANEL:"MODAL_PANEL",AUTOMATIC:"AUTOMATIC",RULERS:"RULERS"},c={TOP_CONTEXT:{},EDITOR:{},PREVIEW:{},TOP_BAR:{}},d=null,g="!DISABLED!",p=l.TOP_CONTEXT,f=p,m=t.noConflict();return m.filter=function(e){var t=(e.target||e.srcElement).tagName;if("INPUT"===t){var i=e.metaKey||e.ctrlKey,n=90===e.keyCode||89===e.keyCode;return!(!i||!n||(e.preventDefault(),0))}return!("SELECT"===t||"TEXTAREA"===t)},{CONTEXTS:l,disable:function(){i()&&(d=f),s(g)},enable:function(){i()||(u(d),d=null)},isEnabled:i,specialKeys:{space:"space",up:"up",down:"down",left:"left",right:"right",home:"home",end:"end",pageUp:"pageup",pageDown:"pagedown",del:"del",esc:"esc",enter:"enter",backspace:"backspace",tab:"tab",alt:"alt",option:"option",shift:"shift",ctrl:"ctrl",command:"command"},extendContext:function(t,i){var n={},r=c[t]||{};return e.assign(n,r),e.assign(n,i),n},getContext:a,setContext:s,clearContext:function(){s(p)},registerContext:n,unregisterContext:r}}),define("util/array/array",["lodash"],function(e){"use strict";var t=function(t){return t?t.length||0===t.length?e.compact(t):[t]:[]},i=e.curry(function(i,n){var r=t(n);e.forEach(r,i)}),n=e.curry(function(i,n){var r=t(n);return i(e.head(r))}),r=e.curry(function(i,n,r){var o=t(r);if(o.length>1)throw new Error(i+" not supported for multiselect");return n(e.head(o))});return{swap:function(t,i,n){var r=e.get(t,i),o=e.get(t,n);if(!e.isArray(t)||e.isUndefined(r)||e.isUndefined(o))throw new Error("Invalid arguments");return e.map(t,function(e,t){return t===i?o:t===n?r:e})},asArray:t,isMultiselect:function(e){return t(e).length>1},applyForAll:i,applyForFirst:n,applyForFirstAndThrowIfMulti:r,validateForAll:function(i,n){var r=t(n);return e.every(r,i)},validateForSome:function(i,n){var r=t(n);return e.some(r,i)},checkSingleAndValidate:function(i,n){var r=t(n);return 1===r.length&&i(e.head(r))}}}),define("util/math/normalizeNumber",[],function(){"use strict";function e(e,t,i,n){if(""===e)return e;var r=Number(e);return r=function(e){return isNaN(e)&&(e=0),e}(r),r=function(e,t){return e%t&&(e=Math.round(e/t)*t),e}(r,n),r=function(e,t,i){return e>i?e=i:e<t&&(e=t),e}(r,t,i),r=function(e){return e!==Math.round(e)&&"0"===(e=e.toFixed(2)).charAt(e.length-1)&&(e=e.slice(0,e.length-1)),Number(e)}(r)}return e}),define("util/colors/colorConversions",["lodash","coreUtilsLib"],function(e,t){"use strict";function i(e){var t=e.toString(16);return(1===t.length?"0"+t:t).toUpperCase()}function n(e){var i=e.saturation,n=e.brightness;if(e.hue<0||e.hue>360)return t.log.error("hue is out of range"),null;var r=e.hue%360,o=n/100,a=void 0,s=void 0,u=void 0,l=i/100*o,c=l*(1-Math.abs(r/60%2-1)),d=o-l;switch(Math.floor(r/60)){case 0:a=l,s=c,u=0;break;case 1:a=c,s=l,u=0;break;case 2:a=0,s=l,u=c;break;case 3:a=0,s=c,u=l;break;case 4:a=c,s=0,u=l;break;case 5:a=l,s=0,u=c}return{red:Math.round(255*(a+d)),green:Math.round(255*(s+d)),blue:Math.round(255*(u+d))}}function r(e){var t=void 0,i=e.red/255,n=e.green/255,r=e.blue/255,o=Math.max(i,n,r),a=o-Math.min(i,n,r);if(0===a)t=0;else switch(o){case i:t=60*function(e,t){return e>0?e%t:(t+e)%t}((n-r)/a,6);break;case n:t=60*((r-i)/a+2);break;case r:t=60*((i-n)/a+4)}return{hue:t,saturation:100*(0===o?0:a/o),brightness:100*o}}function o(e){var t=r(e);return{hue:Math.round(t.hue),saturation:Math.round(t.saturation),brightness:Math.round(t.brightness)}}function a(e){var t=e.hue,i=e.saturation,n=e.lightness/100,r={hue:t,saturation:0,brightness:0},o=.5*(2*n+i/100*(1-Math.abs(2*n-1)));return r.saturation=Math.round(200*(o-n)/o),r.brightness=Math.round(100*o),r}function s(e){return"#"+i(e.red)+i(e.green)+i(e.blue)}function u(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{red:parseInt(t[1],16),green:parseInt(t[2],16),blue:parseInt(t[3],16)}:null}function l(t){var i=e.map(/rgb\((.+)\)/.exec(t)[1].split(","),function(e){return parseInt(e,10)});return e.zipObject(["red","green","blue"],i)}function c(t){var i=e.map(/rgba\((.+)\)/.exec(t)[1].split(","),function(e){return parseFloat(e,10)});return e.zipObject(["red","green","blue","alpha"],i)}function d(t){return e.isString(t)?t=p(t):t.red?t=o(t):t.lightness&&(t=a(t)),Math.sqrt(Math.pow(100-t.brightness,2)+Math.pow(t.saturation,2))}var g=e.flow(n,s),p=e.flow(u,o),f=e.flow(u,r);return{rgbToHsb:o,rgbToHsbExact:r,rgbToHex:s,hsbToRgb:n,hsbToHex:g,hexToRgb:u,hexToHsb:p,hexToHsbExact:f,hslToHsb:a,hsbToHsl:function(e){var t=e.hue%360,i=e.saturation/100,n=e.brightness/100,r={hue:t,saturation:0,lightness:0},o=.5*n*(2-i);return r.lightness=Math.round(100*o),r.saturation=Math.round(n*i*100/(1-Math.abs(2*o-1))),r},rgbStringToObject:l,rgbObjectToString:function(t){return"rgb("+e.values(t).join(",")+")"},rgbaStringToObject:c,rgbaObjectToString:function(t){return"rgba("+e.values(t).join(",")+")"},getDistanceToWhite:d,createGradientColorsFromRoot:function(t,i,n){var r=[];e.isString(t)&&(t=f(t));for(var o=t.brightness,a=d(t),s=Math.floor(5*o/(o+a)),u=0;u<5;u++){var l=void 0,c=t.saturation;u<s?l=(u+1)/(s+1)*o:u===s?l=o:(l=(u-s)/(5-s)*(100-o)+o,c=t.saturation/(u-s+1)),r.unshift(g({hue:t.hue,saturation:c,brightness:l}))}if(!e.isEmpty(i)&&n){var p=f(i[n[0]]),m=f(i[n[4]]);d(p)>d(m)&&r.reverse(),r=e.zipObject(n,r)}return r},getColorInHex:function(t){return e.includes(t,"rgba")?s(c(t)):e.includes(t,"rgb")?s(l(t)):t}}}),define("util/svg/svgUrlParser",["lodash"],function(e){"use strict";return{parseSvgSkinFromUrl:function(t){return e.includes(t,".v1.")?function(e){var t=e.replace("_",".").replace("/",".").split(".");return[t[2],t[3],"svg_"+t[1],t[4]].join(".")}(t):function(e){return"svgshape.v2.Svg_"+/^shapes\/([a-z0-9]{32})\.svg$/i.exec(e)[1]}(t)}}}),define("util/imageOrganizerUtils/imageOrganizerUtils",["util/translation/translate","util/editorModel/editorModel"],function(e,t){"use strict";function i(t){var i={};return n.forEach(function(t){i[t]=e(t)}),"socialIcons"===t&&function(t){t.ORGANIZE_IMAGES_DIALOG_TITLE=e("ORGANIZE_ICONS_DIALOG_TITLE"),t.ORGANIZE_IMAGES_DIALOG_DESC=e("ORGANIZE_ICONS_DIALOG_TEXT"),t.ORGANIZE_IMAGES_DIALOG_ADD=e("ORGANIZE_ICONS_BUTTON_TEXT"),t.ORGANIZE_IMAGES_DIALOG_EMPTY_MSG=e("ORGANIZE_ICONS_DIALOG_EMPTY_MSG"),t.ORGANIZE_IMAGES_DIALOG_REPLACE=e("ORGANIZE_ICONS_DIALOG_REPLACE"),t.ORGANIZE_IMAGES_DIALOG_IMG_LINK=e("ORGANIZE_ICONS_DIALOG_IMG_LINK"),t.ORGANIZE_IMAGES_DIALOG_IMG_LINK_PLACEHOLDER=e("ORGANIZE_ICONS_DIALOG_IMG_LINK_PLACEHOLDER"),t.ORGANIZE_IMAGES_DIALOG_NO_IMG_SELECTED=e("ORGANIZE_ICONS_DIALOG_NO_IMG_SELECTED")}(i),{lang:"EN",map:i}}var n=["ORGANIZE_ICONS_DIALOG_TITLE","OrganizeImages_IMAGES_DIALOG_TITLE","ORGANIZE_IMAGES_DIALOG_DESC","ORGANIZE_IMAGES_DIALOG_ADD","ORGANIZE_IMAGES_DIALOG_REPLACE","ORGANIZE_IMAGES_DIALOG_DONE","ORGANIZE_IMAGES_DIALOG_CANCEL","ORGANIZE_IMAGES_DIALOG_NO_IMG_SELECTED","ORGANIZE_IMAGES_DIALOG_IMG_TITLE","ORGANIZE_IMAGES_DIALOG_IMG_DESC","ORGANIZE_IMAGES_DIALOG_IMG_TITLE_PLACEHOLDER","ORGANIZE_IMAGES_DIALOG_IMG_DESC_PLACEHOLDER","ORGANIZE_IMAGES_DIALOG_IMG_LINK","ORGANIZE_IMAGES_DIALOG_IMG_LINK_PLACEHOLDER","ORGANIZE_IMAGES_DIALOG_IMG_TITLE_TOOLTIP","ORGANIZE_IMAGES_DIALOG_IMG_DESC_TOOLTIP","ORGANIZE_IMAGES_DIALOG_IMG_LABEL","ORGANIZE_IMAGES_DIALOG_EMPTY_MSG","ORGANIZE_IMAGES_DIALOG_EMPTY_TITLE","ORGANIZE_IMAGES_DIALOG_EMPTY_TEXT","ORGANIZE_IMAGES_DIALOG_EMPTY_LINK","ORGANIZE_IMAGES_DIALOG_TOOLTIP_REMOVE","ORGANIZE_IMAGES_DIALOG_CONFIRM_YES","ORGANIZE_IMAGES_DIALOG_CONFIRM_NO","ORGANIZE_IMAGES_DIALOG_CONFIRM_HEADER","ORGANIZE_IMAGES_DIALOG_CONFIRM_MSG","ORGANIZE_IMAGES_DIALOG_SETS_TITLE","ORGANIZE_IMAGES_DIALOG_SETS_ADD_PLACE","Organize_Images_Dialog_Sets_Add_Title","Organize_Images_Dialog_Sets_Button_Set","Organize_Images_Dialog_Sets_Add_Place_Start","Organize_Images_Dialog_Sets_Add_Place_End","Organize_Images_Dialog_Sets_Add_Place_After","Organize_Images_Dialog_Sets_Add_Title_With","Organize_Images_Dialog_Sets_Add_Title_Without"];return{getTranslation:i,getFrameUrl:function(e){return(t.editorBase||"/editor-base")+"/node_modules/editor-organize-images/index.html?galleryType="+e}}}),define("util/editorSessionUtil/editorSessionUtil",["util/url/url"],function(e){"use strict";return{editorSessionId:e.parseUrl(window.location.href).query.editorSessionId}}),define("util/polyfills/polyfills",[],function(){"use strict";return{register:function(){Math.sign=Math.sign||function(e){return 0==(e=+e)||isNaN(e)?e:e>0?1:-1}}}}),define("util/layout/layoutUtils",["lodash"],function(e){"use strict";function t(t,i){i=e(i=i||{}).defaults({x:0,y:0}).pick(["x","y"]).value();var n=e.assign({},t,{x:t.x+i.x,y:t.y+i.y});return e.pickBy(n,e.isFinite)}function i(i,o,a,s){var u=t(i.components.layout.get(o),n(a,s)),l=e.assign({},u,e.omit(a,["x","y"]));return e.pick(l,r)}function n(t,i){t=e.pick(t,["x","y"]),i=e.pick(i,["x","y"]);var n={x:t.x-i.x,y:t.y-i.y};return e.pickBy(n,e.isFinite)}var r=["x","y","width","height","rotationInDegrees","fixedPosition"],o=e.curry(function(e,t,i,n){var r=i[e.sourceProperty],o=t[e.sourceProperty],a=e.ratio*(o-r),s=e.offsetRatio*n;return[e.targetProperty,Math.floor(a+s)]}),a={center:o({ratio:.5,offsetRatio:1,sourceProperty:"width",targetProperty:"x"}),right:o({ratio:1,offsetRatio:-1,sourceProperty:"width",targetProperty:"x"}),middle:o({ratio:.5,offsetRatio:1,sourceProperty:"height",targetProperty:"y"}),bottom:o({ratio:1,offsetRatio:-1,sourceProperty:"height",targetProperty:"y"})};return{addXYOffsetsToLayout:t,getLayoutsXYDiff:n,getChildContainerLayoutRatio:function(t,i){var n={x:t.x/i.width,y:t.y/i.height,width:t.width/i.width,height:t.height/i.height};return e.pickBy(n,e.isFinite)},calcLayoutFromLayoutAndRatio:function(t,i){var n={x:t.width*i.x,y:t.height*i.y,width:t.width*i.width,height:t.height*i.height};return e.pickBy(n,e.isFinite)},getLayoutRelativeToScreenFromRelativeToParent:function(e,i,r){var o=n(e.components.layout.get(i),r);return t(e.components.layout.getRelativeToScreen(i),o)},getLayoutRelativeToParentFromRelativeToScreen:function(e,t,n){return i(e,t,n,e.components.layout.getRelativeToScreen(t))},getLayoutRelativeToParentFromRelativeToStructure:function(e,t,n){return i(e,t,n,e.components.layout.getRelativeToStructure(t))},getLayoutRelativeToScreenFromRelativeToStructure:function(i,o,a){var s=i.components.layout.getRelativeToStructure(o),u=i.components.layout.getRelativeToScreen(o),l=n(a,s);return e(u).thru(function(e){return t(e,l)}).assign(e.pick(a,["width","height"])).pick(r).value()},convertAnyPositionToLeftTopPosition:function(t,i){return e(t).toPairs().map(function(e){var n=e[0],r=e[1];return a.hasOwnProperty(n)?a[n](i,t,r):e}).fromPairs().value()},getLayoutWithAspectRatio:function(t,i,n,r){var o=e.clone(t);return t.width/t.height>i?(o.width=t.height*i,n&&n.right&&(o.x=Math.round(t.x+(t.width-o.width)))):(o.height=t.width/i,n&&n.bottom&&(o.y=Math.round(t.y+(t.height-o.height)))),r&&(n&&(n.right||n.left)||(o.x=t.x+(t.width-o.width)/2),n&&(n.bottom||n.top)||(o.y=t.y+(t.height-o.height)/2)),o},getImageOrCropAspectRatio:function(t){return e.isEmpty(t.crop)?t.width/t.height:t.crop.width/t.crop.height},isLayoutIntersectsRect:function(e,t){var i=!(t.x+t.width<e.x||t.x>e.x+e.width||t.y+t.height<e.y||t.y>e.y+e.height),n=e.x<=t.x&&e.x+e.width>=t.x+t.width&&e.y<=t.y&&e.y+e.height>=t.y+t.height;return i&&!n}}}),define("util/fontLangsFallbacks/fontLangsFallbacks",["lodash"],function(e){"use strict";var t={ru:{anton:"Play",basic:"Open Sans",caudex:"Forum","chelsea market":"Open Sans",corben:"Forum",enriqueta:"Droid Serif","fredericka the great":"EB Garamond","jockey one":"Kelly Slab","josefin slab":"Courier New","lucida console":"Open Sans","lucida sans unicode":"Open Sans","mr de haviland":"Marck Script",niconne:"Marck Script","noticia text":"Droid Serif",overlock:"Open Sans","palatino linotype":"EB Garamond","patrick hand":"comic Sans MS",sarina:"Lobster",signika:"Open Sans",spinnaker:"Open Sans",tahoma:"Open Sans","stencil-w01-bold":"bodoni-w01-poster","itc-arecibo-w01-regular":"Kelly slab","avenida-w01":"Kelly slab","pacifica-w00-condensed":"Open Sans Condensed","geotica-w01-four-open":"bodoni-w01-poster","aarzo-w00-regular":"Verdana","braggadocio-w01":"bodoni-w01-poster","reklamescriptw00-aedium":"Lobster","snellroundhandw01-scrip":"Marck Script","helvetica-w01-light":"helvetica-w01-roman","nimbus-sans-tw01con":"Open Sans Condensed","soho-w01-thin-condensed":"Open Sans Condensed","clarendon-w01-aedium-692107":"Georgia","museo-w01-700":"Courier New","museo-slab-w01-100":"Courier New","americantypwrteritcw01--731025":"Courier New",monoton:"Arial Black",sacramento:"Marck Script",cookie:"Lobster",raleway:"helvetica-w01-roman","amatic sc":"Open Sans Condensed","coquette-w00-light":"Marck Script","rosewood-w01-regular":"bodoni-w01-poster"},ja:{anton:"ｍｓ ｐゴシック",arial:"ｍｓ ｐゴシック","courier new":"ｍｓ ｐゴシック","arial black":"ｍｓ ｐゴシック",basic:"ｍｓ ｐゴシック",caudex:"ｍｓ 明朝","chelsea market":"ｍｓ 明朝","comic sans ms":"メイリオ",corben:"ｍｓ 明朝","eb garamond":"ｍｓ 明朝",enriqueta:"ｍｓ ｐ明朝",forum:"ｍｓ ｐ明朝","fredericka the great":"ｍｓ ｐゴシック",georgia:"ｍｓ 明朝",impact:"ｍｓ ｐゴシック","jockey one":"ｍｓ ゴシック","josefin slab":"ｍｓ 明朝",jura:"ｍｓ 明朝","kelly slab":"ｍｓ ゴシック","lucida console":"ｍｓ ｐゴシック","lucida sans unicode":"ｍｓ ｐゴシック","marck script":"ｍｓ 明朝",lobster:"ｍｓ ｐゴシック","mr de haviland":"ｍｓ 明朝",niconne:"ｍｓ 明朝","noticia text":"メイリオ","open sans":"ｍｓ ｐゴシック",overlock:"メイリオ","palatino linotype":"メイリオ","patrick hand":"ｍｓ 明朝",play:"ｍｓ ｐゴシック",sarina:"ｍｓ ｐゴシック",signika:"ｍｓ ｐゴシック",spinnaker:"ｍｓ ｐゴシック",tahoma:"ｍｓ ｐゴシック","times new roman":"ｍｓ ｐ明朝",verdana:"ｍｓ ｐゴシック","bodoni-w01-poster":"ｍｓ ｐゴシック","stencil-w01-bold":"ｍｓ ｐゴシック","itc-arecibo-w01-regular":"ｍｓ ｐゴシック","avenida-w01":"ｍｓ ｐ明朝","pacifica-w00-condensed":"ｍｓ 明朝","geotica-w01-four-open":"ｍｓ ｐゴシック","marzo-w00-regular":"ｍｓ ｐ明朝","braggadocio-w01":"ｍｓ ｐゴシック","reklamescriptw00-medium":"ｍｓ ｐゴシック","snellroundhandw01-scrip":"ｍｓ 明朝","din-next-w01-light":"ｍｓ 明朝","helvetica-w01-roman":"メイリオ","helvetica-w01-light":"メイリオ","helvetica-w01-bold":"ｍｓ ｐゴシック","nimbus-sans-tw01con":"メイリオ","soho-w01-thin-condensed":"ｍｓ 明朝","droid-serif-w01-regular":"ｍｓ ゴシック","clarendon-w01-medium-692107":"ｍｓ ｐゴシック","museo-w01-700":"ｍｓ ｐゴシック","museo-slab-w01-100":"ｍｓ ｐゴシック","americantypwrteritcw01--731025":"ｍｓ 明朝",monoton:"メイリオ",sacramento:"ｍｓ ｐ明朝",cookie:"ｍｓ ｐ明朝",raleway:"メイリオ","open sans condensed":"メイリオ","amatic sc":"ｍｓ ｐ明朝","coquette-w00-light":"ｍｓ ｐ明朝","rosewood-w01-regular":"ｍｓ ゴシック"},tr:{"amatic sc":"comic sans ms","bodoni-w01-poster":"open sans condensed","braggadocio-w01":"arial black","chelsea market":"comic sans ms",corben:"noticia text","fredericka the great":"clarendon-w01-medium-692107","geotica-w01-four-open":"anton","itc-arecibo-w01-regular":"kelly slab","josefin slab":"american typewriter","lucida sans unicode":"open sans","marzo-w00-regular":"open sans condensed","mr de haviland":"marck script","museo-w01-700":"enriqueta","museo-slab-w01-100":"courier new",niconne:"cookie","nimbus-sans-tw01con":"open sans condensed",overlock:"open sans","pacifica-w00-condensed":"jura",raleway:"helvetica-w01-light","rosewood-w01-regular":"clarendon-w01-medium-692107","snellroundhandw01-scrip":"cookie",spinnaker:"helvetica-w01-roman","stencil-w01-bold":"impact","soho-w01-thin-condensed":"Open Sans Condensed","helvetica-w01-light":"open sans condensed","helvetica-w01-bold":"arial black",monoton:"reklamescriptw00-medium","americantypwrteritcw01--731025":"forum","din-next-w01-light":"open sans condensed"},pl:{"helvetica-w01-light":"open sans condensed","soho-w01-thin-condensed":"amatic sc","bodoni-w01-poster":"anton","braggadocio-w01":"impact","stencil-w01-bold":"impact",monoton:"reklamescriptw00-medium","geotica-w01-four-open":"sacramento","mr de haviland":"amatic sc","americantypwrteritcw01--731025":"amatic sc","din-next-w01-light":"helvetica-w01-roman","museo-slab-w01-100":"Courier New",raleway:"helvetica-w01-roman",overlock:"Open Sans","museo-w01-700":"enriqueta"}};return{getFallbackFontsForLang:function(e){return t[e]},getFontFallbackIfNeeded:function(e,i){return t[e]&&t[e][i]?t[e][i]:i},getUpdatedFonts:function(i,n,r){return e.reduce(i,function(i,o,a){return i[a]=e.reduce(t[n],function(e,t,i){return e.replace(i,t.replace(/ /g,"+").toLowerCase())},o),e.isNumber(r)&&r>0&&(i[a]=i[a].replace(/(\d+)px/,function(e,t,i){return Math.min(parseInt(i,10),e)+"px"}.bind(null,r))),i},[])}}}),define("util/background/backgroundPanelUtils",["lodash","util/serviceTopology/serviceTopology","util/imageService/imageTransform","util/url/url","util/browser/browserUtil","util/utils/guid","experiment","color","platformUtils"],function(e,t,i,n,r,o,a,s,u){"use strict";function l(e,t){return t?(/color_/.test(t)&&(t=e.theme.colors.get(t.replace(/[\{\}]/g,""))),t):""}function c(e,t,i,n){var r=t.ref.id;r||(r=f(e,"mobile",e.documentServices.pages.getPrimaryPageId()).ref.id);var a=i("bg_panel_mobile_data_duplications_"+r);a&&a.count&&(t.ref.id=o.getUniqueId(e.documentServices.pages.getPrimaryPageId(),"_")+"_mobile_bg",t.ref.mediaRef&&(t.ref.mediaRef.id=void 0),n("bg_panel_mobile_data_duplications_"+r,{count:a.count-1}),n("bg_panel_mobile_data_duplications_"+t.ref.id,{count:0}))}function d(e){e.ref.colorOverlay="",e.ref.colorOverlayOpacity=0,e.ref.imageOverlay=null}function g(e){a.isOpen("se_mobileBgFixed")&&"fixed"===e.ref.scrollType||(e.ref.scrollType="scroll")}function p(t,i,n,r,o,a){if("mobile"===t)i.isPreset=!1,g(i),c(n,i,o,a);else{var s=f(n,"mobile",r);s.isPreset&&(c(n,s,o,a),function(t,i,n,r){var o=void 0;e.assign(n.ref,e.omit(i.ref,["id","mediaRef","metaData"])),d(n),g(n),i.ref.mediaRef?(o="WixVideo"===i.ref.mediaRef.type?i.ref.mediaRef.posterImageRef:i.ref.mediaRef,n.ref.mediaRef=e.omit(o,"id")):n.ref.mediaRef=null,t.pages.background.update(r,n,"mobile")}(n,i,s,r))}}function f(e,t,i){i||(i=e.documentServices.pages.getPrimaryPageId());return e.documentServices.pages.background.get(i,t)}var m=u.backgroundUtils,h=t.staticMediaUrl,v={COLOR:"Color",IMAGE:"Image",VIDEO:"WixVideo"},w={width:640,height:360,maxHeightDiff:100};return{VIDEO_URL_PREFIX:t.staticVideoUrl,MEDIA_URL_PREFIX:h,getOverlayStyle:function(e,t){var i=l(t,e.colorOverlay);return{backgroundImage:e.imageOverlay?"url("+n.joinURL(h,e.imageOverlay.uri)+")":null,backgroundColor:i?new s(i).alpha(e.colorOverlayOpacity||0).rgbaString():null}},getBackgroundData:f,getStoryboardDisplayValue:function(t,i){return i&&"videoAndTime"!==i?i:e.find(t.qualities,{quality:"storyboard"})&&i?i:"time"},isSmallerFromContainer:function(e,t,i,n){return e<i&&t<n},getImageDisplayData:function(e,t,n,o,a,s,u,l){var c={id:n,width:o,height:a},d={width:s,height:u,alignment:t,htmlTag:"bg",pixelAspectRatio:r.getDevicePixelRatio()};return i.getData(e,c,d,{quality:l||85})},getColorValue:l,getVideoBackgroundObject:function(t,i){var n=e.head(t);return m.getVideoBackgroundObject(n,i)},getImageBackgroundObject:function(e,t){var i=e[0];return m.getImageBackgroundObject(i,t)},getMediaPlayerVideoObject:function(t,i,n){var r=e.head(t);return m.getMediaPlayerVideoObject(r,i,n)},getMediaTypes:function(){return v},getMediaType:function(e){var t=e.mediaRef,i=v.COLOR;return t&&(i=t.type),i},handleMobileDataChange:p,clearOverlayData:d,getAspectRatio:function(t){var i=e.head(t.qualities);return i.width/i.height},getMediaProportionSize:function(e,t,i){t=t||(e>1?w.width:w.height),i=i||(e>1?w.height:w.width);var n=w.maxHeightDiff,r=void 0,o=void 0;return e>1?(r=i*e,o=i):(r=t,i+n<(o=t*(1/e))&&(r=(o=i+n)*e)),{width:Math.floor(r),height:Math.floor(o)}},registerToQualityReady:function(e,t,i){t&&t.type===v.VIDEO&&e.registerToQualityReady(t.videoId,i)},getChangeVideoBiEventFields:function(t,i){var n=e.sortBy(t.fileOutput.video,function(e){return parseInt(e.quality,10)}),r=e.last(n);return{video_id:t.fileBaseUrl,video_format:r.format,video_fps:r.fps,video_aspect_ratio:r.display_aspect_ratio,video_quality:r.quality,video_width:t.fileInput.width,video_height:t.fileInput.height,video_has_audio:-1===r.audio_bitrate?0:1,origin:i}},unregisterToQualityReady:function(e,t,i){t&&t.type===v.VIDEO&&e.unregisterToQualityReady(t.videoId,i)}}}),define("util/background/bgPanelBiEvents",["lodash"],function(e){"use strict";return{changedBackgroundBiEvent:function(t,i,n,r){if(r.origin){var o=t.documentServices.pages.getPrimaryPageId(),a=void 0,s=void 0,u=void 0,l=void 0,c=n.mediaRef;l="bg_presets"===r.origin?r.presetIndex:null,c&&(a=c.uri||c.videoId||"",void 0!==c.loop&&(s=(!!c.loop).toString())),!t.isMobileEditor()&&t.documentServices.pages.background.get(o,"mobile").isPreset||(u=!0),t.bi.event(i,{origin:r.origin,bg_media_type:n.mediaRef&&n.mediaRef.type.toLowerCase()||"Color",bg_mobile_detached:(!!u).toString(),bg_media_name:a,bg_page_id:o,bg_preset_index:l,bg_vendor_name:e.get(n,"mediaRef.artist.name"),bg_vendor_media_id:e.get(n,"mediaRef.artist.id"),bg_color:n.color,bg_fitting:n.fittingType,bg_positioning:n.alignType,bg_image_opacity:n.mediaRef&&n.mediaRef.opacity&&Math.floor(100*n.mediaRef.opacity),bg_scroll_with_site:n.scrollType,bg_overlay_color:n.colorOverlay,bg_overlay_color_opacity:n.colorOverlayOpacity&&Math.floor(100*n.colorOverlayOpacity),bg_video_overlay_pattern:e.get(n,"mediaRef.posterImageRef.uri"),bg_video_loop:s,bg_slideshow_transition_type:"",bg_slideshow_transition_duration:-1,bg_slideshow_transition_direction:"",bg_slideshow_pausebetweenimages:-1})}},changedStripBackground:function(t,i,n,r){if(r.origin){var o=t.documentServices.pages.getPrimaryPageId(),a=void 0,s=void 0,u=void 0,l=void 0,c=n.mediaRef;l="bg_presets"===r.origin?r.presetIndex:null,c&&(a=c.uri||c.videoId||"",void 0!==c.loop&&(s=(!!c.loop).toString())),!t.isMobileEditor()&&t.documentServices.pages.background.get(o,"mobile").isPreset||(u=!0),t.bi.event(i,{panel_name:r.panelName,origin:r.origin,bg_media_type:n.mediaRef&&n.mediaRef.type.toLowerCase()||"Color",bg_mobile_detached:(!!u).toString(),bg_media_name:a,bg_page_id:o,bg_preset_index:l,bg_vendor_name:e.get(n,"mediaRef.artist.name"),bg_vendor_media_id:e.get(n,"mediaRef.artist.id"),bg_color:n.color,bg_fitting:n.fittingType,bg_positioning:n.alignType,bg_image_opacity:n.mediaRef&&n.mediaRef.opacity&&Math.floor(100*n.mediaRef.opacity),bg_scroll_with_site:n.effectName||n.scrollType,bg_overlay_color:n.colorOverlay,bg_overlay_color_opacity:n.colorOverlayOpacity&&Math.floor(100*n.colorOverlayOpacity),bg_video_overlay_pattern:e.get(n,"mediaRef.posterImageRef.uri"),bg_video_loop:s,bg_slideshow_transition_type:"",bg_slideshow_transition_duration:-1,bg_slideshow_transition_direction:"",bg_slideshow_pausebetweenimages:-1})}},applyToOtherClick:function(e,t){e.bi.event(t)},applyToOtherClosed:function(e,t,i){e.bi.event(t,i)},mobileDataDuplicationError:function(e,t){e.documentServices.bi.error(t)}}}),define("util/layout/pinModeUtils",["lodash"],function(e){"use strict";function t(e){var t=e.components.layout.get(e.selection.getSelectedComponents()[0]);return{additionalWidth:(t.bounding.width-t.width)/2,additionalHeight:(t.bounding.height-t.height)/2}}function i(t,i){return e.isUndefined(t.bottom)?e.isUndefined(t.top)||(t.top.px+=i.additionalHeight):t.bottom.px+=i.additionalHeight,e.isUndefined(t.right)?e.isUndefined(t.left)||(t.left.px+=i.additionalWidth):t.right.px+=i.additionalWidth,t}var n={TOP_LEFT:{top:{px:20},left:{px:20}},TOP:{top:{px:20},hCenter:{px:0}},TOP_RIGHT:{top:{px:20},right:{px:20}},LEFT:{left:{px:20},vCenter:{px:0}},MIDDLE:{hCenter:{px:0},vCenter:{px:0}},RIGHT:{right:{px:20},vCenter:{px:0}},BOTTOM_LEFT:{bottom:{px:20},left:{px:20}},BOTTOM:{bottom:{px:20},hCenter:{px:0}},BOTTOM_RIGHT:{bottom:{px:20},right:{px:20}}};return{dockMap:n,checkSizeRestrictions:function(e,t){switch(e){case"TOP_LEFT":case"TOP_RIGHT":case"BOTTOM_LEFT":case"BOTTOM_RIGHT":if(t.width>=500&&t.height>=500)return!0;break;case"TOP":case"BOTTOM":if(t.height>=300)return!0;break;case"LEFT":case"RIGHT":if(t.width>=500)return!0}return!1},getDockedDirection:function(t){return e.findKey(n,function(i,n){if(e.isEqual(e.keys(i),e.keys(t)))return n})},getDockPreviewStyle:function(n,r){var o=t(n),a=e.cloneDeep(r);a.docked=i(a.docked,o);var s=n.components.layout.getDockedStyle(a)||{};return a.rotationInDegrees&&(s.transform="rotate("+a.rotationInDegrees+"deg)"),s.opacity=.5,s.transitionProperty="opacity",s.transitionDuration="0.2s",s},OFFSET:20,getDiffBetweenBoundingAndOriginalLayout:t,getAdditionOfDiffBoundingAndOriginalLayout:i,getRightDockLayoutAfterRotation:function(r,o){var a=t(o);return i(e.cloneDeep(n[r]),a)},getHorizontalOffset:function(t){return e.isUndefined(t.left)?e.isUndefined(t.right)?e.isUndefined(t.hCenter)?void 0:t.hCenter.px:t.right.px:t.left.px},getVerticalOffset:function(t){return e.isUndefined(t.top)?e.isUndefined(t.bottom)?e.isUndefined(t.vCenter)?void 0:t.vCenter.px:t.bottom.px:t.top.px},updateVerticalOffset:function(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e.isUndefined(t.top)||(t.top.px=i+n),e.isUndefined(t.bottom)||(t.bottom.px=i+n),e.isUndefined(t.vCenter)||(t.vCenter.px=i),t},updateHorizontalOffset:function(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e.isUndefined(t.left)||(t.left.px=i+n),e.isUndefined(t.right)||(t.right.px=i+n),e.isUndefined(t.hCenter)||(t.hCenter.px=i),t},isDockedVerticalCenter:function(t){return e.includes(["LEFT","RIGHT"],t)},isDockedHorizontalCenter:function(t){return e.includes(["TOP","BOTTOM"],t)},isDockedCorner:function(t){return e.includes(["TOP_LEFT","TOP_RIGHT","BOTTOM_LEFT","BOTTOM_RIGHT"],t)},isDockedMiddle:function(e){return"MIDDLE"===e}}}),define("util/imageCrop/imageCrop",["lodash","util/math/rect"],function(e,t){"use strict";var i={left:{x:-1},top:{y:-1},right:{x:1},bottom:{y:1}};return{scale:function(t,i){var n=e.clone(t);return n.height*=i,n.width*=i,n},reverseScale:function(e,t){return e.height/t.height},autoCrop:function(i,n){var r=t.getAspectRatio(i),o={x:0,y:0},a=n.width*r;return a<n.height?o.x=(i.width-n.width)/2:a>n.height&&(o.y=(i.height-n.height)/2),e.assign({},i,{x:i.x+o.x,y:i.y+o.y,width:n.width,height:n.height})},reverseAutoCrop:function(i,n){var r=t.getAspectRatio(n),o={width:0,height:0},a=i.width*r,s=i.height/r;if(a<i.height)o.width=s-i.width;else{if(!(a>i.height))return e.assign({},i,{width:s,height:a});o.height=a-i.height}return{width:i.width+o.width,x:i.x-o.width/2,height:i.height+o.height,y:i.y-o.height/2}},manualCrop:function(e,t,i){var n={width:e.width/i.width,height:e.height/i.height};return{x:t.x*n.width,y:t.y*n.height,width:t.width*n.width,height:t.height*n.height}},reverseManualCrop:function(e,t,i){var n={width:e.width/t.width,height:e.height/t.height};return{x:e.x-t.x*n.width,y:e.y-t.y*n.height,width:i.width*n.width,height:i.height*n.height}},ensure:{scaleWithinDimensions:function(t,i,n){var r=e.clone(t);return r.height<i.height&&e.assign(r,{height:i.height,width:n.width}),r.width<i.width&&e.assign(r,{width:i.width,height:n.height}),r},areaIsFullyContained:function(n,r){var o=e.clone(n),a=e.clone(r),s={left:-a.x,top:-a.y,right:t.getRight(a)-o.width,bottom:t.getBottom(a)-o.height};return e.forEach(s,function(e,t){if(e>0){var n=i[t],r=0;n.x?(r=n.x*e,o.x+=r,a.x-=r):(r=n.y*e,o.y+=r,a.y-=r)}}),{originArea:o,area:a}},areaWithinViewport:function(i,n){var r=e.clone(n.cropArea),o=n.cropOriginArea;r.x=Math.max(0,i.x-o.x,n.cropArea.x);var a=Math.min(t.getRight(o),t.getRight(i)),s=Math.min(a-o.x,t.getRight(n.cropArea));r.width=s-r.x,r.y=Math.max(0,-o.y,r.y);var u=t.getBottom(o),l=Math.min(u-o.y,t.getBottom(n.cropArea));return r.height=l-r.y,r}}}}),define("util/windowInteraction/windowInteractionUtils",["coreUtilsLib"],function(e){"use strict";return{reloadPageWithoutQuestion:function(){window.onbeforeunload=null,window.location.reload(!0)},replaceState:function(){window.history&&window.history.replaceState?window.history.replaceState.apply(window.history,arguments):e.log.error("window.history is not supported in this OLD browser!")}}}),define("util/utils/uiUtils",["zepto"],function(e){"use strict";var t=null;return{getScrollbarWidth:function(){if(null===t){var i=e("<div>").css({visibility:"hidden",width:100,overflow:"scroll"}).appendTo("body"),n=e("<div>").css({width:"100%"}).appendTo(i).width();i.remove(),t=100-n}return t}}}),define("util/browser/performance",["lodash","util/url/url"],function(e,t){"use strict";if("undefined"==typeof window||t.isTrue("suppressperformance"))return{mark:e.noop,measure:e.noop,start:e.noop,startOnce:e.noop,finish:e.noop,time:function(e,t){return t.apply(this,Array.prototype.slice.call(arguments,2))},getMark:e.noop,getMeasure:e.noop,clearMarks:e.noop,clearMeasures:e.noop,now:e.now};var i=void 0,n=window.performance;if(n&&n.now)i=n.now.bind(n);else{var r=window.mainLoaded||0;i=function(){return e.now()-r}}var o=void 0;if(n&&n.measure){var a=function(t,i){return e.find(n.getEntriesByType(t),{name:i})};o={mark:n.mark.bind(n),measure:function(e,t,i){try{n.measure(e,t,i)}catch(e){}},getMark:a.bind(this,"mark"),getMeasure:a.bind(this,"measure"),clearMarks:n.clearMarks.bind(n),clearMeasures:n.clearMeasures.bind(n)}}else{var s={domLoading:{name:"domLoading",startTime:0}},u={},l=function(e,t){t&&delete e[t]};o={mark:function(e){s[e]={name:e,startTime:i()}},measure:function(e,t,i){var n=o.getMark(t),r=o.getMark(i);if(n&&r){var a={name:e,startTime:n.startTime,duration:r.startTime-n.startTime};isNaN(a.duration)||(u[e]=a)}},getMark:function(e){return s[e]},getMeasure:function(e){return u[e]},clearMarks:l.bind(this,s),clearMeasures:l.bind(this,u)}}return o.start=function(e){o.mark(e+" start")},o.startOnce=function(e){o.getMark(e+" start")||o.start(e)},o.finish=function(e,t,i){var n=e+" start";if(o.getMark(n)){var r=e+" finish";o.mark(r),o.measure(e,n,r,t,i),o.clearMarks(n),o.clearMarks(r)}},o.time=function(e,t,i,n){try{return o.start(e),t.apply(this,Array.prototype.slice.call(arguments,4))}finally{o.finish(e,i,n)}},o.now=i,o}),define("util/utils/integrations/qualaroo",["util/editorModel/editorModel"],function(e){"use strict";return{start:function(){window._kiq=window._kiq||[],window.setTimeout(function(){var e=window.document.getElementsByTagName("script")[0],t=window.document.createElement("script");t.type="text/javascript",t.async=!0,t.src="//s3.amazonaws.com/ki.js/59166/dei.js",e.parentNode.insertBefore(t,e)},1),window._kiq.push(["identify",e.permissionsInfo.loggedInUserId])}}}),define("util/utils/integrations/fullStory",[],function(){"use strict";return{start:function(){require(["wixFullstoryLoader"],function(e){e({label:"santa-editor",spec:"fullstory"})})}}}),define("util/utils/integrations/ravenUtils",["lodash","util/editorModel/editorModel","util/url/url"],function(e,t,i){"use strict";function n(){var n=!!i.getParameterByName("isqa")||!!i.getParameterByName("debug"),r=e.get(t,"editorVersion"),a=e.split(r,"."),s=e.takeRight(a);!n&&r&&"unknown"!==r&&s[0]>0?(o.setTagsContext({patchVersion:s[0]}),o.setRelease(e(a).dropRight().concat("x").join("."))):(o.setShouldSendCallback(function(){return!1}),o.uninstall())}function r(){o.setDataCallback(function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.identity,n=e.get(t,["exception","values",0,"stacktrace","frames"],[]),r=e.get(t,["exception","values",0,"value"],"");if(function(t){return e.get(t,["exception","values",0,"stacktrace","frames"],[]).filter(function(t){return t&&e.isString(t.filename)}).some(function(e){return e.filename.includes("wixCode")||e.filename.includes("wix-code")})}(t)&&(t.tags=e.assign(t.tags||{},{"wix-code-error":!0})),e.includes(t.culprit,"/santa/")){var o=function(t){var i=e.split(t,"/");return i[e.indexOf(i,"santa")+1]}(t.culprit);t.tags=e.assign(t.tags||{},{santaVersion:o})}if(window.FS&&window.FS.getCurrentSessionURL()&&(t.tags=e.assign(t.tags||{},{withFullStory:!0}),t.extra=e.assign(t.extra,{fullstory:{url:window.FS.getCurrentSessionURL(),session:window.FS.getCurrentSession()}}),t.fingerprint=e.concat(t.fingerprint||[],["hasFullStory"]),e.set(t,["exception","values",0,"value"],r+" (with fullstory)")),n.length){e.set(t,["exception","values",0,"stacktrace","frames"],e.map(n,function(t){return t&&e.isString(t.filename)&&(t.abs_path=t.filename,t.filename=e.last(e.split(t.filename,"/"))),t}));var a=e.last(n);t.fingerprint=e.concat(t.fingerprint||[],[a.filename,a.lineno,a.colno])}return i(t)})}var o=window.Raven||null,a={INFO:"info",WARNING:"warning",ERROR:"error"},s={publicUrl:e.get(t,"publicUrl"),numberOfPages:e.get(t,"siteHeader.pageIdList.pages.length"),revision:e.get(t,"siteHeader.revision"),geo:e.get(t,"geo"),isDesktopEditor:!0,isMobileEditor:!1,editorLoaded:!1,isPreview:!1},u={previewUrl:e.get(t,"previewUrl"),runningExperiments:e.get(t,"runningExperiments"),isPublished:e.get(t,"siteHeader.published"),premiumFeatures:e.get(t,"metaSiteData.premiumFeatures")};if(o){n(),o.setUserContext({id:e.get(t,"permissionsInfo.loggedInUserId"),roles:e.get(t,"permissionsInfo.loggedInUserRoles")});var l=o.getContext(),c=e.cloneDeep(l.tags);o.setTagsContext(),o.setTagsContext(e.defaults(c,s)),o.setExtraContext(u),r()}return o?{setGlobalTagForErrors:function(t){o.setTagsContext(),o.setTagsContext(e.defaults(t,s))},setGlobalContextForErrors:function(t){o.setExtraContext(),o.setExtraContext(e.defaults(t,u))},sendMessage:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";o.captureMessage(e,{level:t})},setTag:function(e){o.setTag(e)},uninstall:function(){o.uninstall()},captureError:function(e,t){o.captureException(e,t)},breadcrumb:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o.captureBreadcrumb({message:e,data:t})},LOG_LEVEL:a}:{setGlobalTagForErrors:e.noop,setGlobalContextForErrors:e.noop,sendMessage:e.noop,setTag:e.noop,uninstall:e.noop,captureError:e.noop,breadcrumb:e.noop,LOG_LEVEL:a}}),define("util/utils/integrations/fedopsLogger",["experiment"],function(e){"use strict";function t(e){var t=e.name;o.captureBreadcrumb({category:"interaction start",message:"interaction "+t+" started"})}function i(e){var t=e.name,i=e.timeout,n=e.duration;n>i?o.captureMessage("interaction "+t+" ended after timeout",{level:"info",extra:{interactionDuration:n}}):o.captureBreadcrumb({category:"interaction end",message:"interaction "+t+" ended after "+n+" ms"})}var n=void 0,r={},o=window.Raven||null,a=e.isOpen("se_fedopsLogger");return{create:function(){a&&require(["fedops-logger"],function(e){n=o?e.create("santa-editor",{interactionTimeout:6e4,startHook:t,endHook:i}):e.create("santa-editor")})},interactionStarted:function(e){a&&(Array.isArray(e)?e.forEach(function(e){r[e]=n.interactionStarted(e)}):r[e]=n.interactionStarted(e))},interactionEnded:function(e){a&&(Array.isArray(e)?e.forEach(function(e){n.interactionEnded(e,r[e])}):n.interactionEnded(e,r[e]))},appLoaded:function(){a&&n.appLoaded()},INTERACTIONS:{ADD_TPA_FROM_ADD_PANEL:"add_tpa_from_add_panel",ADD_COMP_FROM_ADD_PANEL:"add_comp_from_add_panel",AUTO_PIN_TO_SCREEN:"auto_pin_to_screen",ADD_PAGE:"add_page",REMOVE_PAGE:"remove_page",NAVIGATE_TO_PAGE:"navigate_to_page",CHANGE_EDITOR_MODE_TO_MOBILE:"change_editor_mode_to_mobile",CHANGE_EDITOR_MODE_TO_DESKTOP:"change_editor_mode_to_desktop",GO_TO_PREVIEW:"go_to_preview",GO_TO_EDITOR:"go_to_editor",PUBLISH_FROM_TOPBAR:"publish_from_topbar",SAVE_FROM_KEYBOARD:"save_from_keyboard",START_SAVE_FROM_KEYBOARD:"start_save_from_keyboard",SAVE_FROM_TOPBAR:"save_from_topbar",START_SAVE_FROM_TOPBAR:"start_save_from_topbar",UI_SAVE:"ui_save",BG_SAVE:"bg_save",USER_PUBLISH_SITE:"user_publish_site",CODE_TOP_BAR_FIRST_INSTALL:"code_top_bar_first_install",CODE_TOP_BAR_TOGGLE:"code_top_bar_toggle"}}}),define("util/ui/splitterAPI",["lodash"],function(e){"use strict";function t(t,i){return e.assign({},t,{collapsed:i})}function i(t,i){return i&&i!==t.collapsed?t:e.assign({},t,{collapsed:!1})}return{getInitialState:function(e,t){return{splitPosition:e||"50%",collapsed:t||!1}},getSplitPosition:function(e){switch(e.collapsed){case"top":case"left":return"0";case"bottom":case"right":return"100%";default:return e.splitPosition}},setSplitPosition:function(t,i){return e.assign({},t,{splitPosition:i,collapsed:!1})},collapse:t,unCollapse:i,toggleCollapse:function(e,n){return n?e.collapsed===n?i(e,n):t(e,n):e},isCollapsed:function(e,t){return t?e.collapsed===t:e.collapsed}}}),define("util/fontsManager/constants",[],function(){"use strict";return{FONT_EVENTS_NAMES:{LIST_CHANGED:"LIST_CHANGED",QUEUE_CHANGED:"QUEUE_CHANGED",FILE_CHANGED:"FILE_CHANGED"},FONT_STATUS:{WAITING:"waiting",SUCCEEDED:"succeeded",FAILED:"failed",FINISHED:"finished",PROCESSING:"processing",UPLOADING:"uploading"},FONT_STATUS_MSG:{waiting:"Upload_Fonts_Status_Awaiting_Upload",uploading:"Upload_Fonts_Status_Awaiting_Upload",processing:"Upload_Fonts_Status_Uploading",finished:"Upload_Fonts_Status_Upload_Successful"},FONT_ERROR:{"-7751":{bi_msg:"File Format warning",translate_msg:"Upload_Fonts_Errors_File_Format"},999999:{bi_msg:"File Size",translate_msg:"Upload_Fonts_Errors_File_Size"},999998:{bi_msg:"Folder Upload",translate_msg:"Upload_Fonts_Errors_Folder"},unknown:{bi_msg:"Failed",translate_msg:"Upload_Fonts_Errors_Upload_Failed"}},ORIGINAL_FONT_PREFIX:"orig_",FONTS_MEDIA_TYPE:"ufont",CONVERTED_EXTENTIONS:["ttf","woff","woff2"],ACCEPTABLE_EXTENTIONS:["ttf","woff","woff2","otf"],CJK_LANGUAGES:["ko","ja","zh"],CJK_COUNTRIES:["JPN","PRK","KOR","TWN","CHN","HKG","SGP"],MAX_FILE_SIZE:15e5}}),define("util/fontsManager/fontsManagerUtils",["lodash","util/serviceTopology/serviceTopology","util/fontsManager/constants","util/url/url","coreUtilsLib"],function(e,t,i,n,r){"use strict";function o(o){var a=e.clone(o),s=a.fileInput&&a.fileInput.font_name.replace(/[^\w\s]/gi,"").toLowerCase();return a.fileName=a.name.split(".")[0].replace(/[-_]/g," "),a.displayName=e.startCase(a.fileInput.font_name),a.fontFamily=r.fonts.getUploadedFontValue(a.id)+","+i.ORIGINAL_FONT_PREFIX+e.snakeCase(s),a.cssFontFamily=a.fontFamily,a.fontFace=r.fonts.getUploadedFontFaceStyles([a.fontFamily],t.mediaRootUrl),a.downloadUrl=function(r){var o=e.get(r,"fileInput.format");if(o){if(e.includes(i.CONVERTED_EXTENTIONS,o)){var a=e.find(r.fileOutput.font,{format:o}).url||r.fileUrl;return n.joinURL(t.mediaRootUrl,a)}return n.joinURL(t.mediaRootUrl,r.fileUrl)}}(o),a}return{getUploadedFontData:o,getErrorMessage:function(e){return i.FONT_ERROR[e]||i.FONT_ERROR.unknown},shouldFilterOtfFiles:function(t,n){return e.includes(i.CJK_LANGUAGES,t)||e.includes(i.CJK_COUNTRIES,n)},isFolder:function(t){return!e.includes(t.name,".")},isFontExt:function(t,n){var r=n?i.CONVERTED_EXTENTIONS:i.ACCEPTABLE_EXTENTIONS,o=e.last(e.split(t.name,"."));return e.includes(r,e.toLower(o))},isLargeFile:function(e){return e.size>i.MAX_FILE_SIZE},constants:i}}),define("util/panel/panelUtils",["lodash","constants"],function(e,t){"use strict";function i(t,i){return i&&e.get(i,t)}var n=t.PANELS.PANEL_SIZE_TO_KEEP_IN_VIEW;return{getFrameProps:function(t){return e.pick(t,["panelName","style","onCompPanelLoaded","onBackClick","backButtonLabel","shouldTranslate","onDragEnd","overrideTitle"])},getPanelDragLimits:function(e,t,i){var r=i.left-t+n,o=i.right+t-n,a=i.bottom+e-n;return{x:[r,o],y:[i.top+10,a]}},getData:function(t,n,r){var o=i(t,n);return e.isUndefined(o)&&!e.isUndefined(r)&&(o=i(t,r)),o},getValue:function(e,t){return i(e,t)}}}),define("util/designData/designDataUtils",["lodash"],function(e){"use strict";function t(t,i){e.forEach(t.themeMappings,function(n,r){!function(e,t){t.red=parseInt(e.substr(1,2),16),t.green=parseInt(e.substr(3,2),16),t.blue=parseInt(e.substr(5,2),16)}(i[n],e.get(t.cssStyle,r))})}return{updateThemeColors:t}}),define("util/text/textUtils",["lodash"],function(e){"use strict";return{handleMaxLengthKeyDown:function(t){var i=t.key;/[e,\+,\-,\.]/.test(i)&&!e.includes(["Backspace","Delete","ArrowRight","ArrowLeft","Home"],i)&&t.preventDefault()}}}),define("util/utils/promise",[],function(){"use strict";return{createDeferredPromise:function(){var e=void 0,t=void 0;return{promise:new Promise(function(i,n){e=i,t=n}),resolve:e,reject:t}}}}),define("util/utils/deepFreeze",["lodash"],function(e){"use strict";var t=function(){throw new Error("Object is frozen")};return function i(n){return Object.isFrozen(n)?n:(e.forEach(Object.getOwnPropertyNames(n),function(t){n.hasOwnProperty(t)&&null!==n[t]&&"object"===_typeof(n[t])&&e.set(n,t,i(n[t]))}),Object.freeze(n),new Proxy(n,{set:t,defineProperty:t,deleteProperty:t,setPrototypeOf:t}))}}),define("util/bi/measuring",["lodash","constants","util/browser/performance","util/utils/animationFrame"],function(e,t,i,n){"use strict";var r=[t.MOUSE_ACTION_TYPES.DRAG,t.MOUSE_ACTION_TYPES.RESIZE,t.MOUSE_ACTION_TYPES.SECTION_DRAG,t.MOUSE_ACTION_TYPES.ROTATE,t.MOUSE_ACTION_TYPES.DRAG_PUSH,t.MOUSE_ACTION_TYPES.RESIZE_PUSH],o=function(e,i,n,r,o){var a=function(e,i){switch(e){case t.MOUSE_ACTION_TYPES.DRAG:return i.FRAME_RATE_DRAG;case t.MOUSE_ACTION_TYPES.RESIZE:return i.FRAME_RATE_RESIZE;case t.MOUSE_ACTION_TYPES.SECTION_DRAG:return i.FRAME_RATE_SECTION_DRAG;case t.MOUSE_ACTION_TYPES.ROTATE:return i.FRAME_RATE_ROTATE;case t.MOUSE_ACTION_TYPES.DRAG_PUSH:return i.FRAME_RATE_DRAG_PUSH;case t.MOUSE_ACTION_TYPES.RESIZE_PUSH:return i.FRAME_RATE_RESIZE_PUSH}}(i.actionType,o);if(a&&e>0){n(r(a,{frames_per_second:e}))}},a=function(t,n){return t.start?e.defaults({results:t.frameCounter>=n?t.results.concat(function(e){var t=i.now();return 1e3*e.frameCounter/(t-e.start)}(t)):t.results},function(t){return e.defaults({start:null,frameCounter:0},t)}(t),t):t};return{measureAndReportFrameRate:function(t,s,u,l,c,d,g){var p={isMeasuring:!1,actionType:null,frameCounter:0,prevViewerRenderCounter:0,start:null,results:[]},f=function(t){e.assign(p,t)};!function m(){n.request(m);var h=t(),v=u(h),w=t().viewerRendersCounter;if(v||p.isMeasuring){var y=w!==p.prevViewerRenderCounter;f({prevViewerRenderCounter:w}),v?f(y?function(t,n){return t&&e.includes(r,t)?e.defaults({actionType:t,isMeasuring:!0,frameCounter:n.frameCounter+1,start:n.start||i.now()},n):{}}(l().type,p):a(p,g)):(function(t,i,n,r,s){var u=a(t,s);if(u.results.length){var l=parseInt(e.sum(u.results)/u.results.length,10);o(l,u,i,n,r)}}(p,s,c,d,g),f({isMeasuring:!1,actionType:null,frameCounter:0,prevViewerRenderCounter:0,start:null,results:[]}))}}()}}}),define("util/utils/animationFrameRenderer",["lodash"],function(e){"use strict";return(0,e.curry)(function(e,t,i){var n=null;return function(){return n||(n=e(function(){n=null,i()})),function(){t(n),n=null}}})}),define("util/utils/recommendedMobileHeaderHeightUtils",["constants","util/utils/uiUtils"],function(e,t){"use strict";function i(e,t){var i=[],a=(e.width-t-o)/2;return i.push({x1:a-r,x2:a,y:n}),i.push({x1:a+o,x2:a+o+r,y:n}),i}var n=e.ROOT_COMPS.MOBILE_EDITOR.RECOMMENDED_MOBILE_HEADER_HEIGHT,r=e.ROOT_COMPS.MOBILE_EDITOR.SEPARATOR_LINE_LENGTH,o=e.ROOT_COMPS.MOBILE_EDITOR.MOBILE_FRAME_WIDTH;return{buildRecommendedHeaderLines:i,isMobileHeader:function(e){return"SITE_HEADER"===e.id&&"MOBILE"===e.type},getSnapCandidate:function(e){var n=i(e(),t.getScrollbarWidth());return{id:"recommendedMobileHeaderSize",layout:{x:n[0].x1,y:n[0].y,height:0,width:n[1].x2-n[0].x1},isDynamicLayout:!1}}}}),define("util/utils/breaker",[],function(){"use strict";return function(e){var t=!0,i=function(){if(t)return e.apply(void 0,arguments)};return i.on=function(){t=!0},i.off=function(){t=!1},i}}),define("util/appStudio/appStudioUtils",["lodash"],function(e){"use strict";var t=function(t,i){var n=t.platform.getAppManifest(i);return e.get(n,"widgets")},i=function(i,n){var r=t(i,n);return!e.isEmpty(r)};return{getWidgetsDataFromManifest:t,hasWidgets:i,getInstalledPackages:function(t){var n=t.platform.getInstalledEditorApps();return e.isEmpty(n)?[]:e.filter(n,function(e){return i(t,e.appDefinitionId)})},notifyAddWidget:function(e,t,i){return e.platform.notifyApplication(t,{eventType:"addWidget",eventPayload:{controllerType:i}})},notifyUpdateManifest:function(e,t){return e.platform.notifyApplication(t,{eventType:"updateManifest",eventPayload:{applicationId:t}})}}}),define("util/mouseCoordinatesHandler/mouseCoordinatesHandler",["lodash"],function(e){"use strict";return{fitMouseCoordinatesToViewer:function(t,i,n,r,o){var a=i.width*(1-t)/2,s=e.pick(o,["pageX","pageY","clientX","clientY"]);return s.originalPageX=s.pageX,s.originalPageY=s.pageY,s.originalClientX=s.clientX,s.originalClientY=s.clientY,s.pageX+=n.scrollLeft,s.pageY+=n.scrollTop,s.clientX-=r.left,s.clientY-=r.top,s.pageX-=r.left,s.pageY-=r.top,t&&1!==t&&function(e,t,i){return t>=e.left&&t<=e.right&&i>=e.top&&i<=e.bottom}(i,s.clientX,s.clientY)&&(s.pageX=(s.pageX-a)/t,s.pageY/=t,s.clientX=(s.clientX-a)/t,s.clientY/=t),s}}}),define("util/automationObserver/automationObserver",["util/url/url"],function(e){"use strict";return{onPreviewReady:function(t){e.isTrue("isqa")&&t.registerSitePublishedCallbacks(function(){window.testApi.publishState.isPublishedInSession=!0})}}}),define("util/valueLink/valueLink",["prop-types"],function(e){"use strict";var t="Cannot provide a valueLink and a value.",i="Cannot provide a valueLink and an onChange event.";return{getValueFromProps:function(e){return void 0!==e.valueLink?e.valueLink.value:e.value},callOnChangeIfExists:function(e,t,i){var n=e.valueLink?e.valueLink.requestChange:e.onChange;n&&n(t,i)},valueLinkPropType:function(n){if(void 0!==n.valueLink){var r=e.shape({value:e.any,requestChange:e.func}).apply(this,arguments);if(r instanceof Error)return r;if(void 0!==n.value)return new Error(t);if(void 0!==n.onChange)return new Error(i)}}}}),define("util",["util/validators/validate","util/validators/validationExpressions","util/link/link","util/url/url","util/url/UrlBuilder","util/jsUtils/jsUtils","util/utils/guid","util/utils/string","util/utils/functionUtils","util/utils/cookie","util/utils/animationFrame","util/utils/classNames","util/outerClick/outerClick","util/props/propTypesFilterMixin","util/translation/translate","util/translation/translationUtil","util/translation/translationMixin","util/postMessage/postMessageMixin","util/mixins/draggableMixin","util/headerScrollTypes/headerScrollTypes","util/imageService/imageTransform","util/imageService/imageEffects","util/video/videoUtils","util/mixins/selectionMixin","util/mixins/blockOuterScrollMixin","util/mixins/addPanelHoverMixin","util/utils/verticalScrollIntoView","util/mixins/imagesContainerMixin","util/mixins/storageMixin","util/mixins/componentUpdatesMixin","util/translation/languages","util/compIcon/compIcon","util/googleTranslate/googleTranslate","util/keyboardShortcuts/keyboardShortcuts","util/math/math","util/array/array","util/math/normalizeNumber","util/colors/colorConversions","util/media/media","util/bi/bi","util/serviceTopology/serviceTopology","util/svg/svgUrlParser","util/editorModel/editorModel","util/imageOrganizerUtils/imageOrganizerUtils","util/editorSessionUtil/editorSessionUtil","util/polyfills/polyfills","util/browser/browserUtil","util/layout/layoutUtils","util/fontLangsFallbacks/fontLangsFallbacks","util/background/backgroundPanelUtils","util/background/bgPanelBiEvents","util/layout/pinModeUtils","util/imageCrop/imageCrop","util/windowInteraction/windowInteractionUtils","util/utils/uiUtils","util/browser/performance","util/utils/integrations/qualaroo","util/utils/integrations/fullStory","util/utils/integrations/ravenUtils","util/utils/integrations/fedopsLogger","util/ui/splitterAPI","util/fontsManager/fontsManagerUtils","util/panel/panelUtils","util/designData/designDataUtils","util/text/textUtils","util/utils/promise","util/utils/deepFreeze","util/utils/elementUtils","util/bi/measuring","util/utils/animationFrameRenderer","util/utils/recommendedMobileHeaderHeightUtils","util/utils/breaker","util/appStudio/appStudioUtils","util/mouseCoordinatesHandler/mouseCoordinatesHandler","util/automationObserver/automationObserver","util/valueLink/valueLink"],function(e,t,i,n,r,o,a,s,u,l,c,d,g,p,f,m,h,v,w,y,_,b,E,I,T,O,S,A,x,M,R,P,L,U,k,C,D,N,F,G,B,V,H,z,j,Y,Z,q,K,W,X,$,Q,J,ee,te,ie,ne,re,oe,ae,se,ue,le,ce,de,ge,pe,fe,me,he,ve,we,ye,_e,be){"use strict";return{validate:e,validationExpressions:t,link:i,url:n,UrlBuilder:r,setDeepPath:o.setDeepPath,getDeepPath:o.getDeepPath,guidUtils:a,stringUtils:s,functionUtils:u,cookie:l,animationFrameUtils:c,inheritClassName:d.inheritClassName,outerClick:g,propTypesFilterMixin:p,translate:f,translationUtil:m,translationMixin:h,languages:R,postMessageMixin:v,draggableMixin:w,headerScrollTypes:y,imageTransform:_,imageEffects:b,videoUtils:E,selectionMixin:I,blockOuterScrollMixin:T,addPanelHoverMixin:O,verticalScrollIntoView:S,imagesContainerMixin:A,componentUpdatesMixin:M,storageMixin:x,compIcon:P,keyboardShortcuts:U,math:k,array:C,normalizeNumber:D,colors:N,media:F,bi:G,measuring:fe,serviceTopology:B,svgUrlParser:V,editorModel:H,polyfills:Y,imageOrganizerUtils:z,editorSessionUtil:j,browserUtil:Z,layoutUtils:q,fontLangsFallbacks:K,backgroundPanelUtils:W,bgPanelBiEvents:X,pinModeUtils:$,imageCrop:Q,windowInteractionUtils:J,uiUtils:ee,googleTranslate:L,performance:te,qualaroo:ie,fullStory:ne,fedopsLogger:oe,ravenUtils:re,splitterAPI:ae,designData:le,panelUtils:ue,fontsManagerUtils:se,textUtils:ce,promiseUtils:de,deepFreeze:ge,elementUtils:pe,animationFrameRenderer:me,recommendedMobileHeaderHeightUtils:he,breaker:ve,appStudioUtils:we,mouseCoordinatesHandler:ye,automationObserver:_e,valueLink:be}});
//# sourceMappingURL=util.min.js.map