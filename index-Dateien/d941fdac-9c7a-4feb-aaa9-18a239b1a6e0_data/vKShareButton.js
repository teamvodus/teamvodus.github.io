define("vKShareButton/SantaTypes/vkSantaTypes",["lodash","prop-types","santaProps"],function(t,e,s){"use strict";var a={Button:{w:100,h:21},ButtonWithoutCounter:{w:64,h:21},Link:{w:50,h:21},LinkWithoutIcon:{w:30,h:21},Icon:{w:32,h:32}};return{size:s.createSantaType(e.shape({width:e.number}),function(e,r){var n=e.fetchSantaType(s.Types.Component.compData,e,r);return function(t,e){var s=a[e]||a.Button;return{width:t||s.w,height:s.h}}(t.get(e.siteAPI.getAspectComponentData("vkPostMessage",r.structure.id),"width"),n.style)},!0)}}),define("vKShareButton/aspect/vkPostMessageAspect",[],function(){"use strict";var t="vkPostMessage";return{ctor:function(e){this._siteAspectsSiteAPI=e,e.registerToMessage(function(e){var s=void 0;try{s=JSON.parse(e.data)}catch(t){return}s.id&&s.width&&this._siteAspectsSiteAPI.updateAspectComponentData(t,s.id,s)}.bind(this))},name:t}}),define("vKShareButton/component/vKShareButton",["santa-components","lodash","core","santaProps","utils","socialCommon","vKShareButton/SantaTypes/vkSantaTypes","vKShareButton/aspect/vkPostMessageAspect"],function(t,e,s,a,r,n,i){"use strict";var o=function(t,e){var s=t.compData,a={id:t.id,url:e,style:s.style,text:s.text||"Share"};return t.santaBase+"/static/external/VKShare.html?"+r.urlUtils.toQueryString(a)};return{displayName:"VKShareButton",mixins:[s.compMixins.skinBasedComp,n.socialCompMixin],statics:{useSantaTypes:!0},propTypes:{compData:a.Types.Component.compData.isRequired,id:a.Types.Component.id.isRequired,santaBase:a.Types.santaBase.isRequired,currentUrlPageId:a.Types.currentUrlPageId.isRequired,size:i.size.isRequired},getRootStyle:function(){return e.pick(this.props.size,["width","height"])},getSkinProperties:function(){var s,a,r,n=this.getSocialUrl(),i=(s=this.props,a=this.props.size,r=n,{allowtransparency:"true",key:"VKShareButton-"+s.currentUrlPageId,frameBorder:"0","data-src":o(s,r),scrolling:"no",style:e.clone(a),title:"VK Share","aria-label":"VK Share"});return{"":{style:e.clone(this.props.size),tabIndex:0,title:"VK Share","aria-label":"VK Share"},iframe:t.utils.createReactElement("iframe",i)}}}}),define("vKShareButton/skins/skins.json",[],function(){"use strict";var t={};return t["skins.viewer.vkshare.VKShareSkin"]={react:[["iframe","iframe",[],{}]],css:{"%iframe":"display:block;width:100%;height:100%;overflow:hidden;"}},t}),define("vKShareButton",["core","vKShareButton/component/vKShareButton","vKShareButton/aspect/vkPostMessageAspect","skins","vKShareButton/skins/skins.json"],function(t,e,s,a,r){"use strict";return t.siteAspectsRegistry.registerSiteAspect(s.name,s.ctor),t.compRegistrar.register("wysiwyg.viewer.components.VKShareButton",e,!0),a.skinsMap.addBatch(r),e});
//# sourceMappingURL=vKShareButton.min.js.map