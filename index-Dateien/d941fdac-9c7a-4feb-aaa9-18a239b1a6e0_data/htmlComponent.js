define("htmlComponent/skins/skins.json",[],function(){"use strict";var t={};return t["wysiwyg.viewer.skins.HtmlComponentSkin"]={react:[["div","iFrameHolder",[],{}]],css:{"%iFrameHolder":"width:100%;height:100%;","%iFrameHolder > iframe":"position:absolute;",'%[data-state="noContent"]':"background-color:#A5A5A5;"}},t}),define("htmlComponent",["santa-components","lodash","core","utils","reactDOM","santaProps","skins","htmlComponent/skins/skins.json"],function(t,o,e,s,n,i,r,p){"use strict";var a=e.compMixins,l=s.urlUtils,c="static.wix.com";function m(t){return!!t.url}var u={displayName:"HtmlComponent",mixins:[a.skinBasedComp],propTypes:{compData:i.Types.Component.compData,compProp:i.Types.Component.compProp,isExperimentOpen:i.Types.isExperimentOpen,serviceTopologyStaticHTMLComponentUrl:i.Types.ServiceTopology.staticHTMLComponentUrl,useSandboxInHTMLComp:i.Types.RendererModel.useSandboxInHTMLComp,os:i.Types.Browser.os.isRequired,registerComponentToPostMessage:i.Types.HtmlPostMessage.registerComponent.isRequired,unRegisterComponentFromPostMessage:i.Types.HtmlPostMessage.unRegisterComponent.isRequired,externalBaseUrl:i.Types.PublicModel.externalBaseUrl},statics:{useSantaTypes:!0},getIframeAttributes:function(){var t={width:"100%",height:"100%",ref:"iframe",scrolling:this.props.compData.scrolling||"auto","data-src":m(this.props.compData)?function(){var t=this.props.compData.url,e="external"===this.props.compData.sourceType,n=this.props.serviceTopologyStaticHTMLComponentUrl,i=o.startsWith(this.props.serviceTopologyStaticHTMLComponentUrl,"https")?"https:":"http:";if(!e&&s.stringUtils.startsWith(t,"html/")&&(t=n+t),t=l.addProtocolIfMissing(t,i),n=l.addProtocolIfMissing(n),"https:"===i&&(t=l.setProtocol(t,i)),!e&&(t=t.replace("//static.wixstatic.com",n),o.includes(t,c))){var r=o.head(t.match(/^(?:https?:\/\/)?(?:[^@\n]+@)?(?:www\.)?([^:\/\n]+)/im));t=t.replace(r,n)}return t}.call(this):""};return this.props.compData.allowFullScreen&&o.assign(t,{allowFullScreen:!0}),o.get(this.props,"compProp.isHidden")&&this.props.isExperimentOpen("sv_hideCompInSafari")&&o.set(t,"style.display","none"),function(){return this.props.useSandboxInHTMLComp}.call(this)?o.assign(t,{sandbox:"allow-same-origin allow-forms allow-popups allow-scripts allow-pointer-lock"}):t},onLoad:function(){this.props.registerComponentToPostMessage(this.props.id,this.refs.iframe.contentWindow)},getInitialState:function(){return{$content:m(this.props.compData)?"hasContent":"noContent"}},componentDidMount:function(){var t=n.findDOMNode(this.refs.iframe);t&&(t.onload=this.onLoad)},componentWillUnmount:function(){this.props.unRegisterComponentFromPostMessage(this.props.id)},componentWillReceiveProps:function(){this.setState({$content:m(this.props.compData)?"hasContent":"noContent"})},getSkinProperties:function(){var e={};return!0===this.props.os.ios&&o.assign(e,{overflow:"scroll",WebkitOverflowScrolling:"touch"}),{"":{style:e},iFrameHolder:{children:[t.utils.createReactElement("iframe",this.getIframeAttributes())]}}}};return e.compRegistrar.register("wysiwyg.viewer.components.HtmlComponent",u,!0),r.skinsMap.addBatch(p),u});
//# sourceMappingURL=htmlComponent.min.js.map