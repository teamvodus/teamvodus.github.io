var _slicedToArray=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],r=!0,o=!1,n=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){o=!0,n=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw n}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function _defineProperty(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}define("documentServices/constants/constants",["utils"],function(e){"use strict";return{VIEW_MODES:{DESKTOP:"DESKTOP",MOBILE:"MOBILE"},ANCHORS:{LOCK_THRESHOLD:70,LOCK_CONDITION:{ALWAYS:"always",NEVER:"never",THRESHOLD:"threshold"}},DOM_ID_PREFIX:{DESKTOP:"",MOBILE:"mobile_"},RESIZE_SIDES:{TOP:"RESIZE_TOP",LEFT:"RESIZE_LEFT",BOTTOM:"RESIZE_BOTTOM",RIGHT:"RESIZE_RIGHT"},MOVE_DIRECTIONS:{HORIZONTAL:"HORIZONTAL_MOVE",VERTICAL:"VERTICAL_MOVE",UP:"MOVE_UP"},COMP_TYPES:{PAGE:"Page",MASTER_PAGE:"Document",HEADER:"wysiwyg.viewer.components.HeaderContainer",FOOTER:"wysiwyg.viewer.components.FooterContainer"},COMP_IDS:{PAGE_GROUP:"SITE_PAGES",PAGES_CONTAINER:"PAGES_CONTAINER",HEADER:"SITE_HEADER",FOOTER:"SITE_FOOTER",BACKGROUND:"SITE_BACKGROUND"},MOBILE_ONLY_COMPONENTS:{TINY_MENU:"TINY_MENU",BACK_TO_TOP_BUTTON:"BACK_TO_TOP_BUTTON"},PERMISSIONS:{EDIT_REVISIONS:"html-editor.edit-revisions",EDIT:"html-editor.edit",SAVE:"html-editor.save",PREVIEW:"html-editor.preview",PUBLISH:"html-editor.publish",UNPUBLISH:"html-editor.unpublish",VIEW_REVISIONS:"html-editor.view-revisions"},POPUPS:{DEFAULT_DELAY:2},HERO_IMAGE:{MIN_HEIGHT:7},MENU_ITEM_TYPES:{PAGE:"page",LINK:"link",HEADER:"header"},SITE_STRUCTURE:e.siteConstants.MASTER_PAGE_ID,MASTER_PAGE_ID:e.siteConstants.MASTER_PAGE_ID,SITE_SEGMENTS_GAP_THRESHOLD:20,JSON_TYPES:{FULL:"fullJson",DISPLAYED:"siteData"},COMP_ALIGNMENT_OPTIONS:{LEFT:"left",RIGHT:"right",CENTER:"center",TOP:"top",BOTTOM:"bottom",MIDDLE:"middle"},COMP_DISTRIBUTION_OPTIONS:{BOTH:"verticalAndHorizontal",VERTICAL:"vertical",HORIZONTAL:"horizontal"},COMP_MATCH_SIZE_OPTIONS:{WIDTH:"width",HEIGHT:"height",BOTH:"heightAndWidth"},URLS:{MAX_LENGTH:40},SNAPSHOT_TAGS:{MOBILE_MERGE:"mobileMerge"}}}),define("documentServices/dataAccessLayer/pathValidationUtil",["lodash"],function(e){"use strict";function t(t,r,o){if(o){var n=a(t,r,r.length);return!e.isUndefined(n)}return function(t){return a=t,"[object Object]"===Object.prototype.toString.call(a)||e.isArray(t);var a}(a(t,r,r.length-1))}function a(t,a,r){for(var o=t,n=0;n<r&&(o=o[a[n]],!e.isUndefined(o));n++);return o}return{validatePath:function(a,r,o){if(!e.isArray(a))throw new Error("path type is not an array - "+a);if(!t(r,a,o))throw new Error("path does not exist - "+a);return!0},validatePathExist:t,validatePathExistsAndCorrect:function(t,r,o){if(!r)return!1;var n=a(t,r,r.length);return!e.isUndefined(n)&&(!o||o(n))}}}),define("documentServices/dataAccessLayer/DataAccessLayer",["lodash","mobx","utils","wixImmutable","documentServices/constants/constants","documentServices/dataAccessLayer/pathValidationUtil"],function(e,t,a,r,o,n){"use strict";var i=a.objectUtils.cloneDeep;function s(a,o,i,s){if(0!==arguments.length){this.jsonsRootsMap=function(t){var a=t.pathsInJsonData,r={};return e.forEach(a,function(t,a){e.forEach(t,function(t){var o=e.get(t,"path.0");r[o]=a})}),r}(s),this.jsonData=a,this.pathsCache=i;var u=e(s.pathsInJsonData).values().flatten().map(function(t){return e.assign({},t,{path:A(t.path,this.jsonsRootsMap)})}.bind(this)).value();e.forEach(s.pathsInJsonData,function(t,a){r=t,o=this.jsonData[a],e(r).reject("optional").map("path").forEach(function(e){n.validatePath(e,o)});var r,o}.bind(this)),this.isReadOnly=!!s.isReadOnly,this.nonUndoableInitialDataPaths=s.nonUndoableInitialDataPaths,this.immutableSiteJsons=r.fromJS((c=u,p=this.jsonData,e(c).reject("optional").map("path").filter(l.bind(null,p)).transform(function(a,r){var o=t.toJS(e.get(p,r),!1);e.set(a,r,o)},{}).value()));var c,p;this.isReadOnly||this.setByPath(["origin"],s.origin),this.historyDictionary={},this.persistentInitialData=[],this.takeSnapshot("initialState"),this.immutable=e.mapValues(E,function(e){return e.bind(this)}.bind(this)),o&&o(d.bind(this))}}function l(e,t,a){return n.validatePathExist(e,t,a)}function u(e){return e[0]===o.JSON_TYPES.FULL}function c(t,a){if(u(a)){var r=[].concat(a),o=r.pop(),n=e.get(t,r);e.isArray(n)?n.splice(o,1):delete n[o]}}function d(e,t){e=A(e,this.jsonsRootsMap),y.call(this,e,t),this.persistentInitialData.push({path:e,immutableData:r.fromJS(t)})}var p=["deletedPagesMap"];function g(t,a,r){return!e.isUndefined(t.getIn(r.path))||function(t,a,r){var o=e.findIndex(r,function(e){return"pagesData"===e});if(-1===o)return!1;var n=r[o+1],i=A(p,a).concat(n);return t.getIn(i)}(t,a,r.path)}function f(t,a,o){return a.length?e(a).sortBy(function(e){return-e.path.length}).reject(g.bind(null,t,o)).reduce(function(t,a){return t.updateIn(a.path,e.constant(a.immutableData))},r.fromJS({})):{}}function m(e){return e&&e.toJSON?e.toJSON():e}function y(t,a){_(t=A(t,this.jsonsRootsMap),this.jsonData,this.jsonsRootsMap);var o=r.fromJS(a);return this.immutableSiteJsons=this.immutableSiteJsons.updateIn(t,function(t){return function(t,a){if(t instanceof r.Map&&a instanceof r.Map){var o=e.difference(t.keySeq().toJS(),a.keySeq().toJS());return o.length&&(t=e.reduce(o,function(e,t){return e.remove(t)},t)),t.merge(a)}return a}(t,o)}),O(this.jsonData,i(a),t,this.pathsCache),!0}function _(t,a,r){var o=e.head(t),i=e.values(r),s=e.includes(i,o),l=s?a[o]:a;t=s?t.slice(1):t,n.validatePath(t,l)}function v(t,a,o){this.immutableSiteJsons=this.immutableSiteJsons.updateIn(t,function(n){if(!(n instanceof r.List))throw new Error("item at path - "+t+" is not an array");if(e.isNumber(o)){if(o>n.size||o<0)throw new Error("Index out of bound");return n.splice(o,0,r.fromJS(a))}return n.push(r.fromJS(a))});return h(this.jsonData,this.immutableSiteJsons,t,this.pathsCache).length-1}function S(t,a){if(!e.isPlainObject(a))throw new Error(a+" is not an object");return this.immutableSiteJsons=this.immutableSiteJsons.updateIn(t,function(e){if(!(e instanceof r.Map))throw new Error("value in path - "+t+" is not an object");return e.merge(r.fromJS(a))}),h(this.jsonData,this.immutableSiteJsons,t,this.pathsCache),!0}function O(t,a,r,o){u(r)&&(e.set(t,r,a),o&&o.resetValidations())}function h(e,t,a,r){var o=t.getIn(a);if(!u(a))return o.size;var n=m(o);return O(e,n,a,r),n}function A(t,a){if(!t||!e.isArray(t))return t;var r=a[e.head(t)];return t.length>1&&a[t[1]]===t[0]||r||(console.error("path is not defined in json config: "+t),r="siteData"),r?[r].concat(t):t}var E={getSnapshotByTagAndIndex:function(e,t){if(!this.historyDictionary[e]||this.historyDictionary[e].length<=t||t<0)throw new Error("requested index in history stack is out of bound");var a=this.historyDictionary[e][t],r=f(a,this.persistentInitialData,this.jsonsRootsMap);return a.mergeDeep(r).flatten(1)},getLastSnapshotByTagName:function(e){return this.historyDictionary[e]&&this.historyDictionary[e].length?this.immutable.getSnapshotByTagAndIndex(e,this.historyDictionary[e].length-1):null},getInitialSnapshot:function(){return this.immutable.getSnapshotByTagAndIndex("initialState",0)},getByPath:function(e){return _(e=A(e,this.jsonsRootsMap),this.jsonData,this.jsonsRootsMap),this.immutableSiteJsons.getIn(e)}};return s.prototype={setByPath:function(t,a){if(this.isReadOnly)throw new Error("DAL is in read only state, can't set");if(!e.isArray(t))throw new Error("path type is not an array - "+t);return function(t){return e.some(this.nonUndoableInitialDataPaths,function(a){var r=a.path,o=a.innerDepth||0,n=r.length+o;return t.length===n&&e.startsWith(t.join("."),r.join("."))})&&!e.some(this.persistentInitialData,{path:t})}.call(this,t)?d.call(this,t,a):y.call(this,t,a)},set:function(e,t){var a=this.pathsCache.getPath(e,!0);return this.setByPath(a,t)},push:function(e,t,a,r){if(this.isReadOnly)throw new Error("DAL is in read only state, can't push");var o=this.pathsCache.getPath(e),n=A(o,this.jsonsRootsMap),i=v.call(this,n,t,r);if(a){var s=o;s.push(i),this.pathsCache.setPath(a,s)}},pushByPath:function(e,t,a){if(this.isReadOnly)throw new Error("DAL is in read only state, can't push");return _(e=A(e,this.jsonsRootsMap),this.jsonData,this.jsonsRootsMap),v.call(this,e,t,a)},mergeByPath:function(e,t){if(this.isReadOnly)throw new Error("DAL is in read only state, can't merge");return _(e=A(e,this.jsonsRootsMap),this.jsonData,this.jsonsRootsMap),S.call(this,e,t)},merge:function(e,t){if(this.isReadOnly)throw new Error("DAL is in read only state, can't merge");var a=A(this.pathsCache.getPath(e),this.jsonsRootsMap);return S.call(this,a,t)},getByPath:function(t){return _(t=A(t,this.jsonsRootsMap),this.jsonData,this.jsonsRootsMap),u(t)?i(e.get(this.jsonData,t)):m(this.immutable.getByPath(t))},get:function(e){var t=A(this.pathsCache.getPath(e),this.jsonsRootsMap);if(t)return this.getByPath(t)},isExist:function(e){return!!this.pathsCache.getPath(e)},remove:function(e){if(this.isReadOnly)throw new Error("DAL is in read only state, can't remove");var t=A(this.pathsCache.getPath(e),this.jsonsRootsMap);t&&(this.immutableSiteJsons=this.immutableSiteJsons.deleteIn(t),c(this.jsonData,t),this.pathsCache&&this.pathsCache.resetValidations())},removeByPath:function(e){if(e=A(e,this.jsonsRootsMap),this.isReadOnly)throw new Error("DAL is in read only state, can't remove");_(e,this.jsonData,this.jsonsRootsMap),this.immutableSiteJsons=this.immutableSiteJsons.deleteIn(e),c(this.jsonData,e),this.pathsCache&&this.pathsCache.resetValidations()},getKeysByPath:function(t){_(t=A(t,this.jsonsRootsMap),this.jsonData,this.jsonsRootsMap);var a=this.getByPath(t);if(!e.isPlainObject(a))throw new Error("Can not get keys of an element that isn't a plain object");return e.keys(a)},getKeys:function(t){var a=A(this.pathsCache.getPath(t),this.jsonsRootsMap);if(a){var r=this.getByPath(a);if(!e.isPlainObject(r))throw new Error("Can not get keys of an element that isn't a plain object");return e.keys(r)}},isPathExist:function(e){return l(this.jsonData,A(e,this.jsonsRootsMap),!0)},getPointerJsonType:function(e){var t=this.pathsCache.getPath(e,!0);return this.getPathJsonType(t)},getPathJsonType:function(t){return this.jsonsRootsMap[e.head(t)]},takeSnapshot:function(e){return this.historyDictionary[e]=this.historyDictionary[e]||[],this.historyDictionary[e].push(this.immutableSiteJsons),this.historyDictionary[e].length-1},duplicateLastSnapshot:function(t,a){this.historyDictionary[t]=this.historyDictionary[t]||[];var r=this.jsonsRootsMap,o=e.last(this.historyDictionary[t])||e.head(this.historyDictionary.initialState),n=e.reduce(a,function(t,a,o){var n=A(o.split("."),r);return e.isUndefined(a)?t.deleteIn(n):t.updateIn(n,function(){return a})},o);return this.historyDictionary[t].push(n),this.historyDictionary[t].length-1},removeLastSnapshot:function(e){this.historyDictionary[e]&&this.historyDictionary[e].pop()},getLastSnapshotByTagName:function(e,t){return this.historyDictionary[e]&&this.historyDictionary[e].length?this.getSnapshotByTagAndIndex(e,this.historyDictionary[e].length-1,t):null},getInitialSnapshot:function(e){return this.getSnapshotByTagAndIndex("initialState",0,e)},getSnapshotByTagAndIndex:function(t,a,r){if(!this.historyDictionary[t]||this.historyDictionary[t].length<=a||a<0)throw new Error("requested index in history stack is out of bound");var o=this.historyDictionary[t][a],n=f(o,this.persistentInitialData,this.jsonsRootsMap),i=o.mergeDeep(n);if(r)return s=r,l=i,u=this.jsonsRootsMap,e(s).map(function(t){return e.isString(t)?[t]:t}).reduce(function(e,t){return e[t]=m(l.getIn(A(t,u))),e},{});var s,l,u,c=i.toJS(),d=c.origin,p=e.omit(c,"origin");return e.transform(p,function(t,a){return e.assign(t,a)},{origin:d})},wasValueChangedSinceLastSnapshot:function(t,a){var o=this.historyDictionary[t];if(!o)throw new Error("No such tag name - "+t);var n=e.last(o);if(!n)throw new Error("There is no snapshot under tag name - "+t);var i=A(this.pathsCache.getPath(a,!0),this.jsonsRootsMap),s=this.immutableSiteJsons.getIn(i),l=n.getIn(i);return!r.is(s,l)}},s}),define("documentServices/utils/setOperationQueueUtils",["lodash"],function(e){"use strict";var t={START:"start",ON:"on",END:"end"},a={YES:"yes",NO:"no",DONT_CARE:"don't care"},r={NONE:"NONE",INNER:"INNER",FULL:"FULL",DONT_CARE:"DONT_CARE"};function o(t,a,r){var o=r[1];return function(t,a,r){if(a&&(e.isFunction(r.singleComp)?r.singleComp(t,a):r.singleComp)){if(e.isArray(a)&&1===a.length&&(a=a[0]),a.id)return a.id;if(e.isString(a))return a}return!1}.bind(null,t,o,a)}function n(t,r,o){var n=o[1],i=e.isFunction(r)?r(t,n,o):r;return e.isString(i)?i:i?a.YES:a.NO}return{CONTINUOUS_ACTION_TYPES:t,IS_UPDATING_ANCHORS:a,ENFORCE_TYPES:r,getDataManipulationParams:function(e,t,i,s){var l=n(e,t.isUpdatingAnchors,s);return{methodName:i,isContinuousAction:!1,asyncPreDataManipulation:t.asyncPreDataManipulation,noRefresh:t.noRefresh,noBatching:t.noBatching,noBatchingAfter:t.noBatchingAfter,shouldExecOp:t.shouldExecOp,isAsyncOperation:t.isAsyncOperation,waitingForTransition:t.waitingForTransition,lockedComp:function(e,t){var a=t[1];return e.shouldLockComp&&a?a.id:null}(t,s),singleComp:o(e,t,s),isUpdatingAnchors:l,enforceType:function(e){switch(e){case a.YES:return r.NONE;case a.NO:return r.FULL;default:return r.DONT_CARE}}(l)}},getContinuousActionParams:function(e,i,s,l,u){return{methodName:s,isContinuousAction:!0,continuousActionType:l,enforceType:(f=l,m=i.enforceTypeDuringContinuous,f===t.ON?m:r.NONE),singleComp:o(e,i,u),withOriginalValues:i.enforceTypeDuringContinuous!==r.NONE,isUpdatingAnchors:(c=e,d=i,p=u,g=l,g!==t.END?a.NO:n(c,d.updatingAnchorsAfterContinuous,p))};var c,d,p,g,f,m}}}),define("documentServices/siteAccessLayer/DSSiteAPIBase",["lodash","coreUtils","core","utils"],function(e,t,a,r){"use strict";var o=new r.SiteDataPrivates,n=r.logger;function i(e){return o.get(e).sd}function s(e){return o.get(e).sdAPI}function l(e,t){this._siteId=e.siteId,o.set(this,{sd:e,sdAPI:t})}return l.prototype={getSiteId:function(){return this._siteId},getEditorSessionId:function(){return i(this).documentServicesModel.editorSessionId},getReLayoutedCompsMap:function(){return i(this).reLayoutedCompsMap},clearReLayoutedCompsMap:function(){i(this).reLayoutedCompsMap={}},isMobileView:function(){return i(this).isMobileView()},getMainPageId:function(){return i(this).getMainPageId()},getCurrentUrlPageId:function(){return i(this).getCurrentUrlPageId()},collectUsedStylesFromAllPages:function(t){var r={},o=i(this);e.forEach(t,function(e,t){a.styleCollector.collectStyleIdsFromFullStructure(e.structure,function(e){return o.getDataByQuery(e,t,o.dataTypes.THEME)},o,r,t)});return a.styleCollector.collectStyleIdsFromFullStructure(t.masterPage.structure,function(e){return o.getDataByQuery(e,"masterPage",o.dataTypes.THEME)},o,r,"masterPage",!0),r},getAllCompsUnderRoot:function(e){return s(this).document.getAllCompsUnderRoot(e,e)},reportBI:function(){var t=e.toArray(arguments);return t.unshift(i(this)),n.reportBI.apply(r.logger,t)},getScreenSize:function(){return i(this).getScreenSize()},getSiteWidth:function(){return i(this).getSiteWidth()},getScreenWidth:function(){return i(this).getScreenWidth()},getScreenHeight:function(){return i(this).getScreenHeight()},getPageBottomMargin:function(){return i(this).getPageBottomMargin()},getPageTopMargin:function(){return i(this).getPageTopMargin()},getPageMargins:function(){return i(this).getPageMargins()},getSiteX:function(){return i(this).getSiteX()},getSiteMeasureMap:function(){return i(this).measureMap},setMobileView:function(e){i(this).setMobileView(e)},isDebugMode:function(){return i(this).isDebugMode()},hasDebugQueryParam:function(){return i(this).hasDebugQueryParam()},getPageUrl:function(e,t,a){return i(this).getPageUrl(e,t,a)},getWixappsPackageDescriptor:function(e){return i(this).wixapps[e].descriptor},setErrorPagesPopUp:function(e){s(this).setRenderRealtimeConfigItem("errorPagesPopUp",e)},setPreviewTooltipCallback:function(e){s(this).setRenderRealtimeConfigItem("previewTooltipCallback",e)},getClientSpecMap:function(){return i(this).getClientSpecMap()},getPrimaryPageId:function(){return i(this).getPrimaryPageId()},getFocusedRootId:function(){return i(this).getFocusedRootId()},loadBatch:function(e,t){return i(this).store.loadBatch(e,t)},getExternalBaseUrl:function(){return i(this).getExternalBaseUrl()},isPageLandingPage:function(e){return i(this).isPageLandingPage(e)},getLayoutMechanism:function(){return t.layoutUtils.getLayoutMechanism(i(this))},getMasterPageLayoutSettings:function(){return i(this).getMasterPageLayoutSettings()},getCurrentPopupId:function(){return i(this).getCurrentPopupId()},getRootNavigationInfo:function(){return i(this).getRootNavigationInfo()},getRuntimeDal:function(){return s(this).runtime},resetRuntimeData:function(){s(this).resetRuntimeData()},isPopupOpened:function(){return i(this).isPopupOpened()},getAnchorsMap:function(t){var a=i(this);return e.get(a,["anchorsMap",t,a.getViewMode()])},createPageAnchors:function(e,t){s(this).anchors.createPageAnchors(e,t)},createChildrenAnchors:function(e,t,a){s(this).anchors.createChildrenAnchors(e,t,a)},createOriginalValuesMapForRenderedRoots:function(){var t=s(this);e.forEach(this.getAllRenderedRootIds(),function(e){t.originalValues.createPageOriginalValuesMap(e)})},clearOriginalValuesMapForRenderedRoots:function(){var t=s(this);e.forEach(this.getAllRenderedRootIds(),function(e){t.originalValues.removePageOriginalValues(e)})},getQueryParam:function(t){var a=i(this);return e.get(a,["currentUrl","query",t])},getActiveModes:function(){return s(this).modes.getActiveModes()},updateActiveSOSPModes:function(e){return s(this).updateActiveSOSPModes(e)},activateModeById:function(e,t,a){s(this).modes.activateModeById(e,t,a)},activateMode:function(e,t){s(this).modes.activateMode(e,t)},deactivateModeById:function(e,t,a){s(this).modes.deactivateModeById(e,t,a)},deactivateMode:function(e,t){s(this).modes.deactivateMode(e,t)},switchModesByIds:function(e,t,a,r){s(this).modes.switchModesByIds(e,t,a,r)},resetAllActiveModes:function(){s(this).modes.resetAllActiveModes()},createDisplayedNode:function(e){this.getSiteDataAPI().createDisplayedNode(e)},createDisplayedPage:function(e){this.getSiteDataAPI().createDisplayedPage(e)},didReact:function(){return i(this).reacted},resetSiteReacted:function(){i(this).reacted=!1},setPostUpdateOperationsRender:function(e){i(this).postUpdateOperationsRenders[e]=!0},clearPostUpdateOperationsRender:function(){i(this).postUpdateOperationsRenders={}},enforceAndPatchIfNeeded:e.constant(!1),resetBehaviorsRegistration:e.noop,getSiteAspect:e.noop,enableAction:e.noop,disableAction:e.noop,bgVideo:{play:e.noop,stop:e.noop,isPlaying:function(){return!1},getReadyState:e.noop,registerToPlayingChange:e.noop,unregisterToPlayingChange:e.noop,enableVideoPlayback:e.noop,disableVideoPlayback:e.noop}},l}),define("documentServices/siteAccessLayer/lockedComps",["lodash"],function(e){"use strict";var t={"wysiwyg.viewer.components.BoxSlideShow":!0,"wysiwyg.viewer.components.StripContainerSlideShow":!0,"wysiwyg.viewer.components.StripColumnsContainer":!0},a={"wysiwyg.viewer.components.Column":function(e){return!e}},r={"wysiwyg.viewer.components.Column":function(e){return!e}};return{getAdditionalComps:function(o,n,i){var s=n.components.getChildren(o),l={},u=function(t){e.forEach(t,function(t){var a=t.id;e.set(l,a,!0)})};u([o]),u(s);var c=n.components.getParent(o);if(c){var d=n.components.isMobile(o),p=i.get(n.getInnerPointer(o,"componentType")),g=i.get(n.getInnerPointer(c,"componentType"));if(_=p,v=d,("wysiwyg.viewer.components.Group"===g||e.invoke(a,_,v))&&u([c]),m=p,y=d,e.invoke(r,m,y)){var f=n.components.getChildren(c);u(f)}t[p]&&e.forEach(s,function(e){var t=n.components.getChildren(e);u(t)})}var m,y,_,v;return l}}}),define("documentServices/siteAccessLayer/DocumentServicesSiteAPI",["lodash","core","utils","experiment","documentServices/utils/setOperationQueueUtils","documentServices/siteAccessLayer/DSSiteAPIBase","documentServices/siteAccessLayer/lockedComps"],function(e,t,a,r,o,n,i){"use strict";var s={};function l(t,a,r){var o=s[t._siteId];return e.get(o,a,r)}function u(e){return l(e,"props.siteData",e._siteData)}function c(e){return e._siteDataAPI||l(e,"props.viewerPrivateServices.siteDataAPI")}function d(e,t){return l(e,"siteAspects",{})[t]}function p(e){return l(e,"siteAPI",{})}function g(e){var t=function(e){var t=p(this),a=s[this._siteId].getPageOfComp(e);if(!a)return null;var r=a.props.rootId,o=t.getPointers(),n=o.components.getPage(r,u(this).getViewMode());return o.components.getComponent(e,n)}.call(this,e);if(!t)return{};var a=p(this),r=a.getPointers(),o=a.getDisplayedDAL();return i.getAdditionalComps(t,r,o)}function f(t){return e(t).keys().map(g.bind(this)).reduce(e.assign)}function m(a){if(a&&a.props){var r=a.props.siteData;this._siteId=r.siteId,s[this._siteId]=a,n.call(this,r,c(this)),this._didLayoutCallbacks=[],this._registeredToDidLayout=!1,this._lastForceUpdate=null,e.forEach(this.bgVideo,function(e,t){this.bgVideo[t]=e.bind(this)}.bind(this))}else window.wixBiSession&&window.wixBiSession.sendError(t.errors.NULL_SITE_ERROR,"Document Services")}return m.prototype=e.create(n.prototype,{constructor:m,enforceAndPatchIfNeeded:function(){var e=u(this),t=!!p(this).getNoEnforceAnchors(),a=e.enforceAndPatchRequested;if(e.enforceAndPatchRequested=!1,a&&t){return s[this._siteId].enforceAndPatchLayout()}return!1},registerToDidLayout:function(e){var t=s[this._siteId];this._registeredToDidLayout||(t.registerAspectToEvent(t.supportedEvents.didLayout,this.didLayoutCallback.bind(this)),this._registeredToDidLayout=!0),this._didLayoutCallbacks.push(e)},didLayoutCallback:function(){var t=s[this._siteId];this._lastForceUpdate&&this._lastForceUpdate!==t.state.forceUpdateIndex||e.forEach(this._didLayoutCallbacks,function(e){e()})},unRegisterFromDidLayout:function(e){var t=s[this._siteId];t.unregisterAspectFromEvent(t.supportedEvents.didLayout,e)},setLockedCompMap:function(e){var t=s[this._siteId];t.lockedCompMap=e?f.call(this,e):null},setCompsToRelayoutMap:function(e){var t=s[this._siteId];t.compsToRelayoutMap=e?f.call(this,e):null},setNoEnforceAnchors:function(e){p(this).setNoEnforceAnchors(e)},refreshRenderedRootsData:function(){c(this).refreshRenderedRootsData(e.noop)},forceUpdate:function(){var t=s[this._siteId];this._lastForceUpdate=e.uniqueId("upd"),function(){var e=u(this);a.performance.time("mobxUpdate",function(){e.observableUpdateIndex++})}.call(this),t.setState({noEnforceAnchors:!1,forceUpdateIndex:this._lastForceUpdate})},getSiteAspect:function(e){return d(this,e)},registerNavigationComplete:function(e){d(this,"actionsAspect").registerNavigationComplete(e)},resetBehaviorsRegistration:function(){d(this,"actionsAspect").resetBehaviorsRegistration();d(this,"behaviorsAspect").resetBehaviorsRegistration()},enableAction:function(e){d(this,"actionsAspect").enableAction(e)},disableAction:function(e){d(this,"actionsAspect").disableAction(e)},removeResolvedDataMapForPage:function(e){p(this).removeResolvedDataMapForPage(e)},createDisplayedPage:function(e){c(this).createDisplayedPage(e)},createDisplayedNode:function(e){c(this).createDisplayedNode(e)},getComponentsByPageId:function(e){return s[this._siteId].getComponentsByPageId(e)},getAllRenderedRootIds:function(){return s[this._siteId].getAllRenderedRootIds()},getRootIdsWhichShouldBeRendered:function(){return s[this._siteId].getRootIdsWhichShouldBeRendered()},isComponentRenderedOnSite:function(t){var a=this,r=this.getAllRenderedRootIds();return e.includes(r,t)||e.some(r,function(e){var r=a.getComponentsByPageId(e);return Boolean(r&&r[t])})},navigateToPage:function(e,t,a){s[this._siteId].tryToNavigate(e,t,!1,a)},updatePageNavInfo:function(e,t,a){var r=s[this._siteId],o=u(this);if(e.pageId!==o.getPrimaryPageId()&&e.pageId!==o.getCurrentPopupId())throw new Error("you need to navigate to page if it's a different page");r.tryToNavigate(e,t,!0,a)},scrollToAnchor:function(e,t){var r=s[this._siteId],o=a.scrollAnchors.calcAnchorScrollToPosition(e,p(this));return r.scrollToAnchor(o,t)},scrollToComponent:function(e,t){return p(this).scrollToComponent(e,t)},setMobileView:function(e){p(this).setMobileView(e)},openPopupPage:function(e){this.navigateToPage({pageId:e},!0)},closePopupPage:function(){var e=u(this),t=e.getPrimaryPageId(),a=e.getExistingRootNavigationInfo(t);this.navigateToPage(a,!0)},hasPendingFonts:function(){return p(this).getSiteAspect("fontsLoaderAspect").hasPendingFonts()},isExperimentOpen:function(e){return r.isOpen(e,u(this))},isSiteBusy:function(){return l(this,"isBusy")},isSiteBusyIncludingTransition:function(){return s[this._siteId].siteAPI.isSiteBusyIncludingTransition()},getSiteAnimationsService:function(){return u(this).animations}}),m}),define("documentServices/siteAccessLayer/DocumentServicesSiteAPINoSite",["lodash","documentServices/siteAccessLayer/DSSiteAPIBase","utils","experiment"],function(e,t,a,r){"use strict";var o=new a.SiteDataPrivates;function n(n,i,s){var l=n;s||(l=e.merge(new a.FullSiteData,n)),t.call(this,l,i),o.set(this,l),this.createDisplayedPage=function(e){i.createDisplayedPage(e)},this.createDisplayedNode=function(e){i.createDisplayedNode(e)},this.activateModeById=function(e,t,a){i.modes.activateModeById(e,t,a)},this.deactivateModeById=function(e,t,a){i.modes.deactivateModeById(e,t,a)},this.isExperimentOpen=r.isOpen,this.getSiteAnimationsService=function(){return l.animations}}function i(){return o.get(this).getAllPossiblyRenderedRoots()}return n.prototype=e.create(t.prototype,{constructor:n,hasPendingFonts:function(){return!1},isComponentRenderedOnSite:function(){return!0},navigateToPage:e.noop,scrollToComponent:e.noop,getAllRenderedRootIds:i,getRootIdsWhichShouldBeRendered:i}),n}),define("documentServices/siteAccessLayer/DocumentServicesSiteAPIForTests",["lodash","utils","documentServices/siteAccessLayer/DocumentServicesSiteAPINoSite"],function(e,t,a){"use strict";function r(e,r){var o=e&&e instanceof t.FullSiteData;a.call(this,e,r,o),this.navigateToPage=function(t){e.setRootNavigationInfo(t,!0)}}return r.prototype=new a({}),r.prototype.reportBI=e.noop,r.prototype.getSiteAspect=e.noop,r}),define("documentServices/componentsMetaData/components/ebayItemsBySellerMetaData",[],function(){"use strict";return{mobileConversionConfig:{hideByDefault:!0}}}),define("documentServices/utils/utils",[],function(){"use strict";var e={masterPage:"wysiwyg.viewer.components.WSiteStructure"};var t=void 0,a=void 0;return{YES:"yes",NO:"no",DONT_CARE:"don't care",getComponentType:function(r,o){if(o){var n=e[o.id];if(n)return n;if(o===t)return a;var i=r.pointers.getInnerPointer(o,"componentType"),s=r.dal.full.get(i)||r.dal.get(i);if(s||r.dal.full.isExist(o))return t=o,a=s,s}throw new Error("non existing component pointer: "+function(e){if(!e)return"(null)";var t="type: "+e.type+" id: "+e.id;return"innerPath"in e&&(t+=" inner: "+e.innerPath),t}(o))}}}),define("documentServices/dataModel/common",["lodash"],function(e){"use strict";function t(a,r,o){if(!a)return null;if(a.$ref){return t(o[a.$ref],r,o)}if(a.properties)return a.properties[r];if(a.allOf){var n=e.find(a.allOf,function(e){return t(e,r,o)});return n&&t(n,r,o)}}function a(a,r,o,n){var i=t(a,r,n);return!i||e.isString(i)?i&&i===o||!1:("list"===o&&(o="array"),!(!e.includes(i.pseudoType,o)&&!e.includes(i.type,o)&&i.type!==o))}return{isOfType:a,getPropertyDefinition:t,executeForDataItemRefs:function(t,r,o){var n=t[r.type];n&&e.forOwn(r,function(r,i){return a(n,i,"ref",t)?o(r):a(n,i,"refList",t)?e.map(r,function(e){return o(e)}):void 0})}}}),define("documentServices/dataModel/persistentDataItemsValidation",["lodash"],function(e){"use strict";var t=["MAIN_MENU","CUSTOM_MENUS","CUSTOM_MAIN_MENU","IMAGE_QUALITY"];return{isDataItemPersistent:function(a,r){var o=a.dal.get(r);return o&&e.includes(t,o.id)}}}),define("documentServices/dataModel/remove",["lodash","utils","documentServices/dataModel/common","documentServices/dataModel/persistentDataItemsValidation","documentServicesSchemas"],function(e,t,a,r,o){"use strict";var n=o.schemas.dataSchemas,i=o.schemas.designSchemas,s=o.schemas.propertiesSchemas,l=o.schemas.behaviorsSchemas,u=o.schemas.connectionsSchemas,c=o.schemas.mobileHintsSchemas,d=t.constants.DATA_TYPES,p={data:["MAIN_MENU","CUSTOM_MENUS","CUSTOM_MAIN_MENU"],props:[],style:[]};function g(e,t,a){if(!e||!t)return null;var r=e.pointers.getInnerPointer(t,a),o=(e.dal.isExist(r)?e.dal:e.dal.full).get(r);return o?o.replace("#",""):null}function f(t,r,o,g){if(t.dal.isExist(o)){var m=t.dal.get(o);if(y=r,_=o.id,!e.includes(p[y],_)){var y,_,v=function(e){switch(e){case d.data:return n;case d.prop:return s;case d.design:return i;case d.connections:return u;case d.behaviors:return l;case d.mobileHints:return c;default:throw new Error("Can't get schemas for data type: "+e)}}(r);a.executeForDataItemRefs(v,m,function(e){if(e){var a=t.pointers.data.getItem(r,e.replace("#",""),g);f(t,r,a,g)}}),t.dal.remove(o)}}}function m(e,t){if(e.dal.isExist(t)&&!r.isDataItemPersistent(e,t)){var a=e.pointers.data.getPageIdOfData(t);f(e,d.data,t,a)}}function y(e,t){return(e.pointers.components.getPageOfComponent(t)||e.pointers.full.components.getPageOfComponent(t)).id}return{removeDataItemRecursively:m,removeDesignItemRecursively:function(e,t){if(e.dal.isExist(t)){var a=e.pointers.data.getPageIdOfData(t);f(e,d.design,t,a)}},removeConnectionsItem:function(e,t){var a=g(e,t,"connectionQuery");if(a){var r=y(e,t),o=e.pointers.data.getConnectionsItem(a,r);f(e,d.connections,o,r);var n=e.pointers.getInnerPointer(t,"connectionQuery");e.dal.full.remove(n)}},removeBehaviorsItem:function(e,t){var a=g(e,t,"behaviorQuery");if(a){var r=y(e,t),o=e.pointers.data.getBehaviorsItem(a,r);f(e,d.behaviors,o,r);var n=e.pointers.getInnerPointer(t,"behaviorQuery");e.dal.full.remove(n)}},removeMobileHintsItem:function(e,t){var a=g(e,t,"mobileHintsQuery");if(!a||e.pointers.page.is)return null;var r=y(e,t);m(e,e.pointers.data.getMobileHintsItem(a,r))},deleteDesignItem:function(e,t){if(e&&t){var a=g(e,t,"designQuery");if(!a)return null;var r=y(e,t),o=e.pointers.data.getDesignItem(a,r);f(e,d.design,o,r)}},deletePropertiesItem:function(e,t){if(e&&t){var a=g(e,t,"propertyQuery");if(!a)return null;var r=y(e,t),o=e.pointers.data.getPropertyItem(a,r);f(e,d.prop,o,r)}},deleteDataItem:function(e,t){if(e&&t){var a=g(e,t,"dataQuery");if(!a)return null;var r=y(e,t);m(e,e.pointers.data.getDataItem(a,r))}}}}),define("documentServices/dataModel/dataIds",["utils"],function(e){"use strict";function t(t){return e.guidUtils.getUniqueId(t,"-")}function a(){return t("dataItem")}function r(){return t("propItem")}return{generateNewId:function(e){switch(e){case"data":return a();case"props":case"properties":return r();case"design":return a();case"behaviors":return t("behavior");case"connections":return t("connection");case"style":case"mobileHints":return t(e);default:return null}},generateNewDataItemId:a,generateNewPropertiesItemId:r,generateNewDesignId:function(){return t("design")}}}),define("documentServices/dataModel/dataSerialization",["lodash","utils","documentServices/dataModel/common","documentServices/dataModel/remove","documentServices/dataModel/dataIds","documentServicesSchemas"],function(e,t,a,r,o,n){"use strict";var i=n.services.dataValidators,s=n.schemas.dataSchemas,l=n.schemas.designSchemas,u=n.schemas.propertiesSchemas,c=n.schemas.behaviorsSchemas,d=n.schemas.connectionsSchemas,p=n.schemas.styleSchemas,g=n.schemas.mobileHintsSchemas,f=t.constants.DATA_TYPES,m={data:s,props:u,style:p,behaviors:c,connections:d,mobileHints:g};m.design=l;function y(e,t,a,r,o,n){return function(e,t,a,r,o,n){var i=[],s=_(e,t,a,r,o,n,i),l=i.reverse();return function(e,t){for(var a=null,r=0;r<t.length;r++){var o=t[r],n=o.pointer;!a&&n.component&&(a=n.component),n.component=a,n.refPath=o.refPath;var i=o.item;e.dal.set(n,i)}}(e,l),s}(e,t,a,r,o,n)}function _(t,a,r,o,n,s,l,u){var c=v(t,a,r,o,n,_,l,u=u||[]);e.set(c,"metaData.isPreset",!1);var d=t.pointers.data.getItemWithOptional(n,c.id,a,s);return i.validateDataBySchema(c,n),l.push({pointer:d,item:c,refPath:u}),c.id}function v(t,r,n,i,s,l,u,c){var d=i||o.generateNewId(s),p={},g={id:d},f=t.pointers.data.getItem(s,d,r);t.dal.isExist(f)&&(p=t.dal.get(f)),n.type=n.type||e.get(p,"type");var y=m[s][n.type];if(!y)throw new Error("missing schema (dataItemType: "+n.type+") for the given data item");function _(e,a){return l?"#"+l(t,r,a,a.id,s,null,u,c.concat(e)):"#"+(a.id||o.generateNewId(s))}e.forOwn(n,function(t,r){e.isPlainObject(t)&&a.isOfType(y,r,"ref",m[s])?g[r]=_(r,t):a.isOfType(y,r,"refList",m[s])?g[r]=e.map(t,_.bind(null,r)):"id"!==r&&(g[r]=t)}),S=g,(v=p).type&&S.type&&!e.isEqual(v.type,S.type)||(g=e.assign(p,g));var v,S;(O=g).metaData=e.assign({isPreset:!1,schemaVersion:"1.0",isHidden:!1},O.metaData);var O;return g}return{addSerializedStyleItemToPage:function(e,t,a){return y(e,arguments.length>3&&void 0!==arguments[3]?arguments[3]:"masterPage",t,a,f.theme)},addSerializedDataItemToPage:function(e,t,a,r){return y(e,t,a,r,f.data)},addSerializedPropertyItemToPage:function(e,t,a,r,o){return y(e,t,a,r,f.prop,o)},addSerializedDesignItemToPage:function(e,t,a,r,o){return y(e,t,a,r,f.design,o)},addSerializedBehaviorsItemToPage:function(e,t,a,r){return y(e,t,a,r,f.behaviors)},addSerializedConnectionsItemToPage:function(e,t,a,r){return y(e,t,a,r,f.connections)},addSerializedMobileHintsItemToPage:function(e,t,a,r,o){return y(e,t,a,r,f.mobileHints,o)},deserializeDataItem:function(e,t,a){return v(e,null,t,t.id,a)},serializeDataItem:function r(o,n,i,s){if(o.dal.full.isExist(i)){var l=o.dal.full.get(i);s&&delete l.id;var u=o.pointers.data.getPageIdOfData(i),c=n&&n[l.type];return e.forOwn(l,function(t,r){t&&a.isOfType(c,r,"ref",n)?l[r]=d(t,i.type):t&&a.isOfType(c,r,"refList",n)&&(l[r]=e.compact(e.map(t,function(e){return d(e,i.type)})))}),l}function d(a,i){var l=function(a,r,o,n){var i=r&&e.isString(r)&&t.stringUtils.startsWith(r,"#")&&r.replace("#","");return n===f.data?a.pointers.data.getDataItem(i,o):a.pointers.data.getDesignItem(i,o)}(o,a,u,i);return r(o,n,l,s)}}}}),define("documentServices/hooks/hooksHandlerFactory",["lodash"],function(e){"use strict";var t={LAYOUT:{UPDATE_BEFORE:"before_layout_update",UPDATE_AFTER:"after_layout_update"},COMPONENT:{STYLE_UPDATE_AFTER:"after_style_update"},ARRANGEMENT:{MOVE_AFTER:"after_move"},ADD:{BEFORE:"before_add",AFTER:"after_add",IS_OPERATION_ALLOWED:"isOperationAllowed_add"},DATA:{UPDATE_BEFORE:"data_update_before",UPDATE_AFTER:"data_update_after",AFTER_GET:"after_get_data"},DESIGN:{UPDATE_BEFORE:"design_update_before",UPDATE_AFTER:"design_update_after"},MOBILE_HINTS:{UPDATE_BEFORE:"mobile_hints_update_before"},SITE_BACKGROUND_UPDATE:{AFTER:"after_site_background_update"},PROPERTIES:{UPDATE_BEFORE:"properties_update_before",UPDATE_AFTER:"properties_update_after"},ADD_ROOT:{BEFORE:"before_add_root",AFTER:"after_add_root",IS_OPERATION_ALLOWED:"isOperationAllowed_add_root",GET_CONTAINER_TO_ADD_TO:"get_container_to_add_to"},ADD_PAGE:{AFTER:"after_add_page"},DUPLICATE_ROOT:{BEFORE:"before_duplicate_root",AFTER:"after_duplicate_root"},REMOVE:{BEFORE:"before_remove",AFTER:"after_remove",IS_OPERATION_ALLOWED:"isOperationAllowed_remove"},DUPLICATE:{IS_OPERATION_ALLOWED:"isOperationAllowed_duplicate"},SERIALIZE:{SET_CUSTOM:"set_custom_serialize",CHILDREN_BEFORE:"before_serialize_children"},CHANGE_PARENT:{BEFORE:"before_change_parent",AFTER:"after_change_parent"},SWITCH_VIEW_MODE:{MOBILE:"switch_to_mobile_view"},MOBILE_CONVERSION:{BEFORE:"before_mobile_conversion",AFTER:"after_mobile_conversion"},MOBILE_MERGE:{BEFORE:"before_mobile_merge"},RELAYOUT_MOBILE_PAGE:{AFTER:"after_relayout_page"},PUBLISH:{BEFORE:"before_site_publish"},AUTOSAVE:{ACTION:"autosave_action"},SAVE:{SITE_SAVED:"site_saved",VALIDATION_ERROR:"validation_error"},METADATA:{MOVE_DIRECTIONS:"meta_data_move_directions",REMOVABLE:"meta_data_removable",DUPLICATABLE:"meta_data_duplicatable",RESIZABLE_SIDES:"meta_data_resizable_sides",ROTATABLE:"meta_data_rotatable",FIXED_POSITION:"meta_data_fixed_position",CONTAINABLE:"meta_data_containable",LAYOUT_LIMITS:"meta_data_layout_limits"},PLATFORM:{APP_PROVISIONED:"platform_app_provisioned"},ADD_TPA:{AFTER:"after_tpa_app_add"}},a=e(t).flatMap(function(t){return e.flatMap(t)}).reduce(function(e,t){return e[t]=!0,e},Object.create(null));function r(e){if(!a[e])throw new Error("Invalid Hook Name "+e)}return{createHandler:function(){var a=Object.create(null);function o(t,o,n){r(t);var i=a[t];i&&(o&&e.forEach(i[o],n),e.forEach(i[""],n))}return{HOOKS:t,unregisterHooks:function(t){var r=e.isArray(t)?t:[t];e.forEach(r,function(e){a[e]={}})},registerHook:function(e,t,o){r(e),function(e,t,r){if(r){var o=a[e];o||(a[e]=o=Object.create(null));var n=o[t=t||""];n||(o[t]=n=[]),n.push(r)}}(e,o,t)},executeHook:function(t,a,r,n){n=n||e.noop;var i=!1;return o(t,a,function(e){var t=e.apply(this,r);if(i||n(t))return i=!0,!1}),!i},executeHooksAndCollectValues:function(t,a,r){var n=[];return o(t,a,function(t){var a=t.apply(this,r);e.isUndefined(a)||n.push(a)}),n},executeHookAndUpdateValue:function(t,a,r,n,i){var s=e.cloneDeep(i);return o(a,r,function(e){s=e.apply(this,[t,s].concat(n))}),s}}}}}),define("documentServices/hooks/hooks",["documentServices/hooks/hooksHandlerFactory"],function(e){"use strict";return e.createHandler()}),define("documentServices/dataModel/dataModel",["lodash","utils","documentServices/dataModel/dataSerialization","documentServices/dataModel/dataIds","documentServices/dataModel/common","documentServices/dataModel/remove","documentServices/hooks/hooks","documentServices/utils/utils","documentServicesSchemas"],function(e,t,a,r,o,n,i,s,l){"use strict";var u=l.services.dataValidators,c=l.schemas.dataSchemas,d=l.schemas.designSchemas,p=l.schemas.propertiesSchemas,g=l.schemas.behaviorsSchemas,f=l.schemas.connectionsSchemas,m=l.schemas.mobileHintsSchemas,y=l.schemas.componentsDefinitionsMap,_={Repeater:"Repeater",VerticalAnchorsMenu:"VerticalAnchorsMenu",Anchor:"Anchor"},v={MediaContainerDesignData:!0},S={StripColumnsContainerProperties:!0,ColumnProperties:!0},O={"wysiwyg.viewer.components.StripColumnsContainer":function(t,a,r){return!e.isUndefined(r.fullWidth)}},h=t.constants.BASE_PROPS_SCHEMA_TYPE;function A(e,t){return l.services.createDataItemByType(t)}function E(e){return P("ObsoleteBehaviorsList",{items:e})}function C(e){return P("MobileHints",e)}function P(t,a){var r=null;return t&&(r={type:t},u.resolveDefaultItem(t,r)),r?e.assign(r,a):r}function R(e,t,r){return e&&t&&r?a.addSerializedDataItemToPage(e,r,t):null}function I(e,t,a){if(!e||!t)return null;var r=e.pointers.getInnerPointer(t,a),o=(e.dal.isExist(t)?e.dal:e.dal.full).get(r);return o?o.replace("#",""):null}function D(a,r,o){if(r.type!==t.constants.VIEW_MODES.MOBILE){var n=function(a,r){var o=a.pointers.componentStructure.getModesOverrides(r),n=a.dal.full.isExist(o)&&a.dal.full.get(o),i=e.map(n,"designQuery"),s=a.pointers.getInnerPointer(r,"designQuery"),l=void 0;l=t.displayedOnlyStructureUtil.isDisplayedComponent(r.id)?a.dal.get(s):a.dal.full.get(s);return i.concat(l)}(a,r),i=a.pointers.components.getMobilePointer(r);if(a.dal.isExist(i)){var s=a.pointers.getInnerPointer(i,"designQuery"),l=a.dal.get(s);e.includes(n,l)||a.dal.set(s,"#"+o)}}}function T(e,t,a,r){var o=e.pointers.getInnerPointer(t,r);e.dal.full.set(o,a)}function w(e,t,a,r){var o=I(e,t,a);if(!o)return null;return r(o,(e.pointers.full.components.getPageOfComponent(t)||e.pointers.components.getPageOfComponent(t)).id)}function b(e,t){return w(e,t,"dataQuery",e.pointers.data.getDataItem)}function L(e,t){return w(e,t,"designQuery",e.pointers.data.getDesignItem)}function M(e,t){return w(e,t,"propertyQuery",e.pointers.data.getPropertyItem)}function B(e,t){return w(e,t,"behaviorQuery",e.pointers.data.getBehaviorsItem)}function V(e,t){return w(e,t,"connectionQuery",e.pointers.data.getConnectionsItem)}function x(e,t){return w(e,t,"mobileHintsQuery",e.pointers.data.getMobileHintsItem)}function F(e,t,a){var r=b(e,t);return N(e,c,r,a)}function k(e,t,a){var r=L(e,t);return N(e,d,r,a)}function H(e,t){var a=M(e,t);return N(e,p,a)}function N(e,t,r,o){if(e&&r){var n=e.dal.full.get(r);if(n&&t[n.type]){var s=a.serializeDataItem(e,t,r,o);return i.executeHook(i.HOOKS.DATA.AFTER_GET,n.type,[e,s]),s}}return null}function U(t,a){var r=["trigger","type","part","name"];return e.isEqual(e.pick(t,r),e.pick(a,r))}function G(t,a,r){var o=e.map(a,function(t){return{isEqualFunc:e.partial(U,t),behavior:t}}),n=t;return e.forEach(o,function(t){n=e.reject(n,t.isEqualFunc),r||(n=n.concat(t.behavior))}),n}function W(t,o,n,l){if(!t||!o)throw new Error("invalid args");!n.background||n.background.colorOverlay||n.background.imageOverlay||(n.dataChangeBehaviors=e.reject(n.dataChangeBehaviors,{part:"overlay"}));var u=s.getComponentType(t,o);i.executeHook(i.HOOKS.DESIGN.UPDATE_BEFORE,u,[t,o,n]),l||(n.charas=r.generateNewDesignId());var c=I(t,o,"designQuery"),d=t.pointers.full.components.getPageOfComponent(o).id,p=Boolean(c);c=a.addSerializedDesignItemToPage(t,d,n,c,o),p||T(t,o,"#"+c,"designQuery");return D(t,o,c),i.executeHook(i.HOOKS.DESIGN.UPDATE_AFTER,u,[t,o,n]),c}function X(e,t,r){var o=I(e,t,"mobileHintsQuery"),n=!!o,i=e.pointers.full.components.getPageOfComponent(t).id,s=C(r);o=a.addSerializedMobileHintsItemToPage(e,i,s,o,t),n||T(e,t,o,"mobileHintsQuery");return o}function Z(a,r){var o=V(a,r),n=e.get(N(a,f,o),"items");i=a,s=r,l=n,n=e.map(l,function(a){if("WixCodeConnectionItem"===a.type)return a;var r=function(a,r,o){var n=t.displayedOnlyStructureUtil.isDisplayedComponent(o.id)?a.pointers.components.getPageOfComponent(o):a.pointers.full.components.getPageOfComponent(o),i=a.pointers.components.getPage(n.id,t.constants.VIEW_MODES.DESKTOP),s=a.pointers.components.getMasterPage(t.constants.VIEW_MODES.DESKTOP),l=z(a,i,r);if(l)return a.pointers.components.getComponent(l.id,i);if(!e.isEqual(i,s))return(l=z(a,s,r))?a.pointers.components.getComponent(l.id,s):null}(i,a.controllerId,s),o=e.assign({},e.omit(a,"controllerId"),{controllerRef:r});return e.has(o,"config")?(o.config=JSON.parse(o.config),o):o});var i,s,l;return e.isEmpty(n)?null:n}function z(a,r,o){var n=a.dal.full.get(r);return t.dataUtils.findCompInStructure(n,!1,function(t){return e.get(t,"dataQuery","").replace("#","")===o})}function Y(t,r,o,n){if(!t||!r)throw new Error("invalid args");var l=I(t,r,"propertyQuery"),u=t.pointers.full.components.getPageOfComponent(r).id,c=s.getComponentType(t,r);i.executeHook(i.HOOKS.PROPERTIES.UPDATE_BEFORE,c,[t,r,o]),o.type=o.type||(d=c,y[d].propertyType||e.find(y[d].propertyTypes)||h);var d;e.set(o,["metaData","autoGenerated"],!1);var p=Boolean(l);return l=a.addSerializedPropertyItemToPage(t,u,o,n||l,r),p||function(e,t,a){var r=e.pointers.getInnerPointer(t,"propertyQuery");e.dal.set(r,a)}(t,r,l),i.executeHook(i.HOOKS.PROPERTIES.UPDATE_AFTER,c,[t,r,o]),l}return{shouldUpdateDataWithSingleComp:function(e,t){var a=F(e,t);return!a||!_[a.type]},shouldUpdatePropertiesWithSingleComp:function(e,t){var a=H(e,t);return!a||!S[a.type]},shouldUpdateDesignWithSingleComp:function(e,t){var a=k(e,t);return!a||!v[a.type]},shouldUpdateAnchorsAfterPropertiesUpdate:function(t,a,r){if(!t.dal.isExist(a))return s.YES;var o=s.getComponentType(t,a),n=O[o];return e.isFunction(n)&&(n=n.apply(this,r)),n?s.YES:s.NO},getPlatformAppConnections:function(t,a){return e.reject(Z(t,a)||[],{type:"WixCodeConnectionItem"})},addLink:function(t,a,r,o){var n=A(0,a);if(n)return r&&(e.assign(n,r),u.validateDataBySchema(n,"data")),R(t,n,o||"masterPage");return null},createDataItemByType:A,createDesignItemByType:function(e,t){var a=null;return d[t]&&(a=P(t)),a},createBehaviorsItem:E,createMobileHintsItem:C,addDataItem:R,getDataItem:F,updateDesignItem:W,updateDesignItemBehaviors:function(e,t,a){if(!e||!t)throw new Error("invalid args");var r=k(e,t);return r.dataChangeBehaviors=G(r.dataChangeBehaviors,a,!1),W(e,t,r)},removeDesignItemBehaviors:function(e,t,a){if(!e||!t)throw new Error("invalid args");var r=k(e,t);return r.dataChangeBehaviors=G(r.dataChangeBehaviors,a,!0),W(e,t,r)},getDesignItem:k,getDesignItemByModes:function(t,a,r){if(a){var o=function(t,a,r){if(a){var o=t.dal.full.get(t.pointers.componentStructure.getModesOverrides(a)),n=e.find(o,function(t){return r&&t.modeIds.length===r.length&&e.intersection(t.modeIds,r).length===t.modeIds.length}),i=e.get(n,"designQuery");if(!i){var s=t.pointers.getInnerPointer(a,"designQuery");i=t.dal.full.get(s)}if(i){var l=t.pointers.full.components.getPageOfComponent(a);return t.pointers.data.getDesignItem(i.replace("#",""),l.id)}}return null}(t,a,r);return N(t,d,o)}return null},getMediaRef:function(t){return e.get(t,"background.mediaRef")},getDataItemById:function(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(e&&t){var o=e.pointers.data.getDataItem(t,a||"masterPage");return N(e,c,o,r)}return null},getDesignItemById:function(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(e&&t){var o=e.pointers.data.getDesignItem(t,a||"masterPage");return N(e,d,o,r)}return null},getPropertiesItemById:function(e,t,a){if(e&&t){var r=e.pointers.data.getPropertyItem(t,a||"masterPage");return N(e,p,r)}return null},getMobileHintsItemById:function(e,t,a){if(!e||!t)return null;var r=e.pointers.data.getMobileHintsItem(t,a||"masterPage");return N(e,m,r)},getDataItemPointer:b,getPropertyItemPointer:M,getDesignItemPointer:L,getBehaviorsItemPointer:B,getConnectionsItemPointer:V,getMobileHintsItemPointer:x,updateDataItem:function(t,r,o){if(!t||!r)throw new Error("invalid args");var n=s.getComponentType(t,r);i.executeHook(i.HOOKS.DATA.UPDATE_BEFORE,n,[t,r,o]);var l=t.pointers.full.components.getPageOfComponent(r).id,u=F(t,r),c=e.get(u,"id"),d=Boolean(c);return c=a.addSerializedDataItemToPage(t,l,o,c),d||T(t,r,"#"+c,"dataQuery"),i.executeHook(i.HOOKS.DATA.UPDATE_AFTER,n,[t,r,u]),c},removeComponentDataItem:function(t,a){if(!t||!a)throw new Error("invalid args");var r=y[s.getComponentType(t,a)];if(r.dataTypes&&!e.includes(r.dataTypes,""))throw new Error("component's data can't be deleted");var o=t.pointers.getInnerPointer(a,"dataQuery");t.dal.full.remove(o)},removeComponentDesignItem:function(e,t){if(!e||!t)throw new Error("invalid args");var a=e.pointers.getInnerPointer(t,"designQuery");e.dal.remove(a)},removeComponentPropertyItem:function(e,t){if(!e||!t)throw new Error("invalid args");var a=y[s.getComponentType(e,t)];if(a.propertyType&&""!==a.propertyType)throw new Error("component's property can't be deleted");var r=e.pointers.getInnerPointer(t,"propertyQuery");e.dal.remove(r)},removeComponentMobileHintsItem:function(e,t){if(!e||!t)throw new Error("invalid args");var a=e.pointers.getInnerPointer(t,"mobileHintsQuery");e.dal.full.remove(a)},setDataItemByPointer:function(t,a,r,o){e.set(r,"metaData.isPreset",!1),u.validateDataBySchema(r,o),t.dal.full.set(a,r)},deleteDataItem:n.deleteDataItem,deleteDesignItem:n.deleteDesignItem,deleteMobileHintsItem:n.removeMobileHintsItem,removeDesignItemRecursively:n.removeDesignItemRecursively,removeDataItemRecursively:n.removeDataItemRecursively,getDataSchemaByType:function(e,t){if(t){var a=c[t];return a&&a.properties}return null},createPropertiesItemByType:function(e,t){return l.services.createPropertiesItemByType(t)},getPropertiesItem:H,getPropertiesItemFields:function(t){return t?e.keys(t):[]},updatePropertiesItem:function(e,t,a){Y(e,t,a)},setPropertiesItem:Y,deletePropertiesItem:n.deletePropertiesItem,getPropertiesSchemaByType:function(t,a){if(a)return e.get(p,[a,"allOf",0])||p[a];return null},updateBehaviorsItem:function(e,t,r){var o=I(e,t,"behaviorQuery"),n=e.pointers.full.components.getPageOfComponent(t).id,i=Boolean(o),s=E(r);return o=a.addSerializedBehaviorsItemToPage(e,n,s,o),i||T(e,t,o,"behaviorQuery"),o},getBehaviorsItem:function(t,a){var r=B(t,a);return e.get(N(t,g,r),"items")},removeBehaviorsItem:n.removeBehaviorsItem,updateConnectionsItem:function(t,r,o){var n,i,s,l=I(t,r,"connectionQuery"),u=t.pointers.full.components.getPageOfComponent(r).id,c=Boolean(l),d=(n=t,i=o,e.map(i,function(t){if("WixCodeConnectionItem"===t.type)return t;var a=I(n,t.controllerRef,"dataQuery"),r=e.assign({},e.omit(t,"controllerRef"),{controllerId:a});if(!e.has(r,"config"))return r;try{r.config=JSON.stringify(r.config)}catch(e){throw new Error("Invalid connection configuration - should be JSON stringifiable")}return r})),p=(s=d,P("ConnectionList",{items:s}));return l=a.addSerializedConnectionsItemToPage(t,u,p,l),c||T(t,r,l,"connectionQuery"),l},getConnectionsItem:Z,removeConnectionsItem:n.removeConnectionsItem,updateMobileHintsItem:X,updateMobileHintsHidden:function(t,a,r){return X(t,a,e.pick(r,["id","type","hidden"]))},getMobileHintsItem:function(e,t){var a=x(e,t);return N(e,m,a)},generateNewDataItemId:r.generateNewDataItemId,generateNewPropertiesItemId:r.generateNewPropertiesItemId,generateNewDesignItemId:r.generateNewDesignId,addSerializedStyleItemToPage:a.addSerializedStyleItemToPage,addSerializedDataItemToPage:a.addSerializedDataItemToPage,addSerializedDesignItemToPage:a.addSerializedDesignItemToPage,addSerializedBehaviorsItemToPage:a.addSerializedBehaviorsItemToPage,addSerializedConnectionsItemToPage:a.addSerializedConnectionsItemToPage,addSerializedPropertyItemToPage:a.addSerializedPropertyItemToPage,addSerializedMobileHintsItemToPage:a.addSerializedMobileHintsItemToPage,serializeDataItem:a.serializeDataItem,executeForDataItemRefs:o.executeForDataItemRefs,isOfType:o.isOfType,isPropertiesItemValid:function(e,t,a,r){return u.isItemValid(t,a,r,"properties")},isDataItemValid:function(e,t,r,o){var n=a.deserializeDataItem(e,t,"data");return u.isItemValid(n,r,o,"data")}}}),define("documentServices/page/popupUtils",["utils","documentServices/dataModel/dataModel"],function(e,t){"use strict";var a="wysiwyg.viewer.components.PopupContainer";function r(e,t){var r=e.pointers.components.getChildren(t);if(r.length>1)throw new Error("More than one child of the popup page was found. A popup page must have only single direct child of type "+a);if(r.length<1)throw new Error("No direct child of the popup page was found");var o=r[0],n=e.dal.get(e.pointers.getInnerPointer(o,"componentType"));if(n!==a)throw new Error("Direct child of the popup is of type "+n+". Expected type: "+a);return o}return{getPopupContainer:r,isPopupContainer:function(t){return t===e.constants.POPUP.POPUP_CONTAINER.COMPONENT_TYPE},isPopupFullWidth:function(e,a){var o=r(e,a);return"fullWidth"===t.getPropertiesItem(e,o).alignmentType},isPopup:function(e,t){if("masterPage"===t)return!1;var a=e.pointers.data.getDataItemFromMaster(t);return e.dal.get(e.pointers.getInnerPointer(a,"isPopup"))}}}),define("documentServices/componentsMetaData/legacyFullWidthContainers",["documentServices/constants/constants","documentServices/dataModel/dataModel"],function(e,t){"use strict";return{"wysiwyg.viewer.components.WSiteStructure":!0,"mobile.core.components.SiteStructure":!0,"wysiwyg.viewer.components.FooterContainer":!0,"wysiwyg.viewer.components.HeaderContainer":!0,"mobile.core.components.Page":!0,"core.components.Page":!0,"wixapps.integration.components.AppPage":!0,"wysiwyg.viewer.components.ScreenWidthContainer":!0,"wysiwyg.viewer.components.StripContainer":!0,"wysiwyg.viewer.components.StripContainerSlideShow":!0,"wysiwyg.viewer.components.StripContainerSlideShowSlide":!0,"wysiwyg.viewer.components.StripColumnsContainer":!0,"wysiwyg.viewer.components.Column":function(a,r){if(a.pointers.components.getViewMode(r)===e.VIEW_MODES.MOBILE)return!0;var o=0===a.pointers.components.getSiblings(r).length,n=a.pointers.components.getParent(r),i=t.getPropertiesItem(a,n);return o&&i.fullWidth}}}),define("documentServices/componentsMetaData/metaDataUtils",["lodash","core","utils","documentServices/constants/constants","documentServices/utils/utils","documentServices/page/popupUtils","documentServicesSchemas","experiment","documentServices/componentsMetaData/legacyFullWidthContainers"],function(e,t,a,r,o,n,i,s,l){"use strict";var u=t.componentUtils.boxSlideShowCommon,c="wysiwyg.viewer.components.WSiteStructure",d=["wysiwyg.viewer.components.SiteSegmentContainer","wysiwyg.viewer.components.FooterContainer","wysiwyg.viewer.components.HeaderContainer","wysiwyg.viewer.components.PagesContainer"],p={"wysiwyg.viewer.components.ScreenWidthContainer":!0,"wysiwyg.viewer.components.StripContainerSlideShow":!0,"wysiwyg.viewer.components.StripContainerSlideShowSlide":!0},g=["wysiwyg.viewer.components.FooterContainer","wysiwyg.viewer.components.HeaderContainer","mobile.core.components.Page","core.components.Page","wixapps.integration.components.AppPage",c],f=["wysiwyg.viewer.components.BoxSlideShowSlide","wysiwyg.viewer.components.BoxSlideShow","wysiwyg.viewer.components.StripContainerSlideShowSlide","wysiwyg.viewer.components.StripContainerSlideShow","wysiwyg.viewer.components.StripColumnsContainer","wysiwyg.viewer.components.HoverBox","wysiwyg.common.components.anchor.viewer.Anchor","wysiwyg.common.components.verticalanchorsmenu.viewer.VerticalAnchorsMenu","wysiwyg.viewer.components.tpapps.TPAWidget","wysiwyg.viewer.components.tpapps.TPASection","wysiwyg.viewer.components.tpapps.TPAGluedWidget","wysiwyg.viewer.components.tpapps.TPAMultiSection","wixapps.integration.components.AppPart","wixapps.integration.components.AppPart2"];function m(t,r){var o=a.imageTransform.fittingTypes,n=t.dal.get(r),i=t.pointers.components.getPageOfComponent(r),s=t.pointers.data.getPropertyItem(n.propertyQuery,i.id),l=t.dal.get(s);return e.includes([o.SCALE_TO_FILL,o.SCALE_TO_FIT],e.get(l,"displayMode"))}return{isSiteStructure:function(e){return e===c},isSiteSegment:function(t){return e.includes(d,t)},isContainer:function(e){return i.services.isContainer(e)},isLegacyFullWidthContainer:function(t,a){var r=o.getComponentType(t,a),n=l[r];return e.isFunction(n)?n(t,a):!!n},isLegacyFullWidthContainerByType:function(t){return!(!l[t]||e.isFunction(l[t]))},isHeaderOrFooterOrPageOrMasterPage:function(t){return e.includes(g,t)},isComponentSuitableForNonRenderingState:function(t){return!e.includes(f,t)},isPopupPageOrPopupContainer:function(e,t){return n.isPopup(e,t.id)||"wysiwyg.viewer.components.PopupContainer"===o.getComponentType(e,t)},isComponentParentTypeMatchesComponentChildType:function(e,t){return u.isBoxOrStripSlideShowComponent(e)&&u.isBoxOrStripSlideShowSlideComponent(t)&&u.getMatchingChildSlideType(e)===t},isNonContainableFullWidth:function(t){return!(!p[t]||e.isFunction(p[t]))},getComponentType:o.getComponentType,getComponentNickname:function(t,a){var r=t.dal.full.get(t.pointers.getInnerPointer(a,"componentType"));if(!r)return"";var o=e.get(i.schemas.componentsDefinitionsMap,[r,"nickname"]);return o||e.camelCase(e.last(r.split(".")))},getChildrenTypesDeep:function(e){for(var t=void 0,a=[];e.length;)t=e.shift(),a.push(t.componentType),e=t.components?e.concat(t.components):e;return a},containableByFullWidthPopup:function(e,t,a){var r=e.pointers.components.getPageOfComponent(a);return!(n.isPopup(e,r.id)&&!n.isPopupFullWidth(e,r))},notContainableByPopup:function(e,t,a){var r=e.pointers.components.getPageOfComponent(a);return!n.isPopup(e,r.id)},isMaintainSvgAspectRatio:function(e,t){var a=e.dal.get(t),r=e.pointers.components.getPageOfComponent(t),o=e.pointers.data.getPropertyItem(a.propertyQuery,r.id);return"fit"===e.dal.get(o).displayMode},isMaintainIllustrationAspectRatio:function(e,t){return m(e,t)},isMaintainWPhotoAspectRatio:function(e,t){return!!s.isOpen("merge_clipart_and_image")&&m(e,t)}}}),define("documentServices/componentsMetaData/components/verticalAnchorsMenuMetaData",["documentServices/componentsMetaData/metaDataUtils","lodash"],function(e,t){"use strict";return{styleCanBeApplied:!1,layoutLimits:function(e,a){var r=e.siteAPI.getSiteMeasureMap(),o=t.get(r,["custom",a.id],{});return{minHeight:o.minHeight,minWidth:o.minWidth}},containableByStructure:e.notContainableByPopup,mobileConversionConfig:{desktopOnly:!0}}}),define("documentServices/componentsMetaData/components/adminLoginButtonMetaData",["utils","lodash"],function(e,t){"use strict";return{rotatable:!0,layoutLimits:function(a,r){var o=a.siteAPI.getSiteMeasureMap();return{minWidth:t.get(o,["minWidth",r.id],e.siteConstants.COMP_SIZE.MIN_WIDTH)}}}}),define("documentServices/componentsMetaData/components/bgImageStripMetaData",["documentServices/componentsMetaData/metaDataUtils","documentServices/constants/constants"],function(e,t){"use strict";return{moveDirections:[t.MOVE_DIRECTIONS.VERTICAL],resizableSides:[t.RESIZE_SIDES.TOP,t.RESIZE_SIDES.BOTTOM],fullWidth:!0,fullWidthByStructure:!0,styleCanBeApplied:!0,mobileConversionConfig:{isScreenWidth:!0,filterChildrenWhenHidden:!0,preserveAspectRatio:!1}}}),define("documentServices/componentsMetaData/components/contactFormMetaData",["documentServices/constants/constants"],function(e){"use strict";return{resizableSides:[e.RESIZE_SIDES.LEFT,e.RESIZE_SIDES.RIGHT],layoutLimits:{minWidth:180,maxWidth:980,minHeight:180,maxHeight:1024},styleCanBeApplied:!0}}),define("documentServices/componentsMetaData/components/facebookLikeBoxMetaData",["documentServices/dataModel/dataModel","documentServices/constants/constants"],function(e,t){"use strict";return{resizableSides:function(a,r){var o=!e.getDataItem(a,r).showStream?[t.RESIZE_SIDES.LEFT,t.RESIZE_SIDES.RIGHT]:[t.RESIZE_SIDES.TOP,t.RESIZE_SIDES.LEFT,t.RESIZE_SIDES.BOTTOM,t.RESIZE_SIDES.RIGHT];return o},layoutLimits:{minWidth:280,minHeight:575,maxWidth:500}}}),define("documentServices/componentsMetaData/components/facebookLikeMetaData",[],function(){"use strict";return{resizableSides:[]}}),define("documentServices/componentsMetaData/components/facebookShareMetaData",[],function(){"use strict";return{resizableSides:[]}}),define("documentServices/componentsMetaData/components/fiveGridLineMetaData",["lodash","documentServices/dataModel/dataModel","documentServices/constants/constants","utils"],function(e,t,a,r){"use strict";function o(e,t){var a=e.pointers.getInnerPointer(t,"layout"),o=e.dal.get(a);return r.dockUtils.isStretched(o)}return{mobileConversionConfig:{category:"graphic"},styleCanBeApplied:!0,rotatable:function(e,t){return!o(e,t)},resizableSides:function(){return[a.RESIZE_SIDES.LEFT,a.RESIZE_SIDES.RIGHT]},moveDirections:function(e,t){return o(e,t)?[a.MOVE_DIRECTIONS.VERTICAL]:[a.MOVE_DIRECTIONS.HORIZONTAL,a.MOVE_DIRECTIONS.VERTICAL]},fullWidth:function(e,t){return function(e,t){var a=e.pointers.getInnerPointer(t,"layout"),o=e.dal.get(a);return r.dockUtils.isHorizontalDockToScreen(o)}(e,t)},fullWidthByStructure:function(e,t){return!!r.dockUtils.isHorizontalDockToScreen(t.layout)},canBeStretched:!0}}),define("documentServices/componentsMetaData/components/flickrBadgeWidgetMetaData",[],function(){"use strict";return{resizableSides:[]}}),define("documentServices/documentMode/documentModeInfo",["documentServices/constants/constants"],function(e){"use strict";return{getViewMode:function(t){return t.siteAPI.isMobileView()?e.VIEW_MODES.MOBILE:e.VIEW_MODES.DESKTOP},isMobileView:function(e){return e.siteAPI.isMobileView()}}}),define("documentServices/structure/utils/componentLayout",["lodash","utils"],function(e,t){"use strict";function a(e,a){return t.boundingLayout.getBoundingLayout(a)}function r(t){return e.includes(["vw","pct"],t)}function o(t,a,o){var n=e.keys(t);if(e.includes(n,"px"))t.px+=a;else{var i=e.find(n,r);t[i]+=a/o*100,t[i]=parseFloat(t[i].toFixed(2))}}function n(t,a,r){this.ps=t,this.compPointer=a;var o=i(t,a);this.newPositionAndSize=e.assign({},o,r),this.positionAndSizeDiff=(n=o,s=r,e.mapValues(n,function(t,a){return e.isFinite(s[a])?s[a]-t:0}));var n,s;this.compLayout=t.dal.get(t.pointers.getInnerPointer(a,"layout"))}n.prototype.value=function(){return this.compLayout},n.prototype.updateVerticalLayout=function(){if(0===this.positionAndSizeDiff.y&&0===this.positionAndSizeDiff.height)return this;if(t.layout.isVerticallyDocked(this.compLayout)&&!t.layout.isVerticallyStretchedToScreen(this.compLayout)){var e=function(e,t,a){if(a.fixedPosition)return e.siteAPI.getSiteMeasureMap().clientHeight;var r=e.pointers.components.getParent(t);return e.siteAPI.getSiteMeasureMap().height[r.id]}(this.ps,this.compPointer,this.compLayout);!function(e,t,a){var r=e.docked;if(r.top&&t.y&&o(r.top,t.y,a),r.bottom){var n=-1*(t.y+t.height);n&&o(r.bottom,n,a)}if(r.vCenter){var i=t.height/2+t.y;i&&o(r.vCenter,i,a)}r.top&&r.bottom||(e.height+=t.height)}(this.compLayout,this.positionAndSizeDiff,e)}else this.compLayout.y+=this.positionAndSizeDiff.y,this.compLayout.height+=this.positionAndSizeDiff.height;return this},n.prototype.updateHorizontalLayout=function(){if(0===this.positionAndSizeDiff.x&&0===this.positionAndSizeDiff.width)return this;if(t.layout.isHorizontallyDocked(this.compLayout)){var e=function(e,a,r){if(r.fixedPosition||t.dockUtils.isHorizontalDockToScreen(r))return e.siteAPI.getSiteMeasureMap().clientWidth;var o=e.pointers.components.getParent(a);return e.siteAPI.getSiteMeasureMap().width[o.id]}(this.ps,this.compPointer,this.compLayout);!function(e,t,a){var r=e.docked;if(r.left&&t.x&&o(r.left,t.x,a),r.right){var n=-1*(t.x+t.width);n&&o(r.right,n,a)}if(r.hCenter){var i=t.width/2+t.x;i&&o(r.hCenter,i,a)}r.left&&r.right||(e.width+=t.width)}(this.compLayout,this.positionAndSizeDiff,e)}else this.compLayout.x+=this.positionAndSizeDiff.x,this.compLayout.width+=this.positionAndSizeDiff.width;return this},n.prototype.keepAspectRatioIfNeeded=function(){return t.layout.isAspectRatioOn(this.compLayout)&&(this.compLayout.aspectRatio=t.layout.calcAspectRatio(this.newPositionAndSize.width,this.newPositionAndSize.height)),this};function i(a,r,o){var n=o||a.dal.get(a.pointers.getInnerPointer(r,"layout"));if(!n.docked){var i=e.pick(n,["x","y","width","height"]);return i.height=n.height,i}var s=function(e,t){var a=e.pointers.components.getParent(t),r=e.siteAPI.getSiteMeasureMap();return{width:r.width[a.id],height:r.height[a.id]}}(a,r),l=a.siteAPI.getScreenSize(),u=a.siteAPI.getSiteMeasureMap(),c=a.pointers.components.getPageOfComponent(r),d=t.layout.getRootWidth(u,c.id,a.siteAPI.getSiteWidth()),p=a.siteAPI.getSiteX(),g=t.layout.getRootLeft(u,c.id,p);return t.positionAndSize.getPositionAndSize(n,s,l,d,g)}return{applyPositionAndSizeOnCurrentLayoutSchema:function(e,t,a){return(r=e,o=t,i=a,new n(r,o,i)).updateVerticalLayout().updateHorizontalLayout().value();var r,o,i},getBoundingLayout:a,getComponentLayout:function(t,r){var o=t.dal.get(t.pointers.getInnerPointer(r,"layout"));return o?(o.docked&&(e.assign(o,i(t,r)),delete o.docked),e.merge(o,{bounding:a(0,o)})):null},getPositionAndSize:i}}),define("documentServices/structure/structureUtils",["lodash","utils","documentServices/structure/utils/componentLayout"],function(e,t,a){"use strict";var r=["MAIN_MENU","CUSTOM_MAIN_MENU","CUSTOM_MENUS","masterPage"];return{isHorizontallyDocked:t.layout.isHorizontallyDocked,isVerticallyDocked:t.layout.isVerticallyDocked,getBoundingY:t.boundingLayout.getBoundingY,getBoundingX:t.boundingLayout.getBoundingX,getBoundingHeight:t.boundingLayout.getBoundingHeight,getBoundingWidth:t.boundingLayout.getBoundingWidth,getBoundingLayout:a.getBoundingLayout,getLayoutFromBoundingLayout:function(e,a,r){return t.boundingLayout.getLayoutFromBoundingLayout(a,r)},canMoveDataItemToAnotherPage:function(a,o){switch(o){case t.constants.DATA_TYPES.data:return function(t){var a=t.id;return!e.includes(r,a)}(a);case t.constants.DATA_TYPES.theme:return"system"!==a.styleType}return!0},ensureWithinLimits:function(t,a,r){if((a=e.isUndefined(a)?t:a)>(r=e.isUndefined(r)?t:r))throw new Error("min limit is greater than max limit");return t<a?a:t>r?r:t},getChildrenToPreserveProportionsByType:function(t,a,r,o){return e.reject(r,function(r){var n=a.getComponentType(t,r.component);return e.includes(o,n)})},getComponentLayout:a.getComponentLayout,getPositionAndSize:a.getPositionAndSize}}),define("documentServices/structure/siteGapMap",["lodash","documentServices/documentMode/documentModeInfo","documentServices/structure/structureUtils"],function(e,t,a){"use strict";var r={};return{createInitialGapMap:function(e){var o=e.siteAPI.getSiteId();return r[o]||(r[o]=function(e){var r=t.getViewMode(e),o=e.pointers.components.getHeader(r),n=e.pointers.components.getFooter(r),i=e.pointers.components.getPagesContainer(r),s=a.getComponentLayout(e,o),l=a.getComponentLayout(e,i),u=a.getComponentLayout(e,n),c=s.y+s.height,d=l.y+l.height;return{aboveHeader:s.y,abovePagesContainer:l.y-c,aboveFooter:u.y-d}}(e)),r[o]},getInitialGapMap:function(e){return r[e.siteAPI.getSiteId()]}}}),define("documentServices/componentsMetaData/components/headerMetaData",["documentServices/constants/constants","documentServices/structure/siteGapMap","experiment"],function(e,t,a){"use strict";return{resizableSides:[e.RESIZE_SIDES.BOTTOM],moveDirections:function(r){if(a.isOpen("sv_zeroGapsThreshold"))return[e.MOVE_DIRECTIONS.VERTICAL];var o=t.getInitialGapMap(r);return o&&o.aboveHeader>=e.SITE_SEGMENTS_GAP_THRESHOLD?[e.MOVE_DIRECTIONS.VERTICAL]:[]},canBeFixedPosition:function(e,t){return!!a.isOpen("sv_fixedMobileHeader")||!e.pointers.components.isMobile(t)},removable:!1,duplicatable:!1,containable:!1,fullWidth:!0,enforceContainerChildLimitsByHeight:function(e,t){return!e.pointers.components.isMobile(t)},styleCanBeApplied:function(e){var t=e.pointers.general.getIsStudioUser();return e.dal.get(t)},hiddenable:!1,collapsible:!1,mobileConversionConfig:{preserveAspectRatio:!1,minHeight:90,topRightMargin:[90,90],descendantImageScaleFactor:.7,siteSegmentRole:"SITE_HEADER",category:"siteSegments"}}}),define("documentServices/componentsMetaData/components/footerMetaData",["documentServices/constants/constants","documentServices/structure/siteGapMap","experiment"],function(e,t,a){"use strict";return{resizableSides:[e.RESIZE_SIDES.BOTTOM],moveDirections:function(r){if(r.siteAPI.getMasterPageLayoutSettings().useDesktopSectionsLayout)return[];if(a.isOpen("sv_zeroGapsThreshold"))return[e.MOVE_DIRECTIONS.VERTICAL];return t.getInitialGapMap(r).aboveFooter>=e.SITE_SEGMENTS_GAP_THRESHOLD?[e.MOVE_DIRECTIONS.VERTICAL]:[]},canBeFixedPosition:function(e,t){return!e.pointers.components.isMobile(t)},removable:!1,duplicatable:!1,containable:!1,fullWidth:!0,styleCanBeApplied:function(e){var t=e.pointers.general.getIsStudioUser();return e.dal.get(t)},hiddenable:!1,collapsible:!1,mobileConversionConfig:{preserveAspectRatio:!1,siteSegmentRole:"SITE_FOOTER",category:"siteSegments"}}}),define("documentServices/componentsMetaData/components/imageButtonMetaData",[],function(){"use strict";return{rotatable:!0}}),define("documentServices/componentsMetaData/components/itunesButtonMetaData",["documentServices/constants/constants"],function(e){"use strict";return{resizableSides:[e.RESIZE_SIDES.LEFT,e.RESIZE_SIDES.RIGHT],layoutLimits:{minWidth:110,maxWidth:400}}}),define("documentServices/componentsMetaData/components/linkBarMetaData",["lodash","documentServices/dataModel/dataModel"],function(e,t){"use strict";return{resizableSides:[],defaultMobileProperties:{iconSize:35,spacing:15},mobileConversionConfig:{fixedSize:function(a,r,o){var n=a.dal.get(a.pointers.data.getPropertyItem(r.propertyQuery,o)),i=t.getDataItemById(a,r.dataQuery.replace("#",""),o),s=e.get(i,["items","length"],0),l=e.get(n,"iconSize",0),u=l*s+e.get(n,"spacing",0)*(s-1),c="HORIZ"===e.get(n,"orientation","HORIZ");return{width:c?u:l,height:c?l:u}}}}}),define("documentServices/componentsMetaData/components/loginSocialBarMetadata",["utils","lodash"],function(e,t){"use strict";return{layoutLimits:function(a,r){var o=a.siteAPI.getSiteMeasureMap()||{},n=r.id;return{minWidth:t.get(o,["minWidth",n],e.siteConstants.COMP_SIZE.MIN_WIDTH),minHeight:t.get(o,["minHeight",n],e.siteConstants.COMP_SIZE.MIN_HEIGHT)}},mobileConversionConfig:{hideByDefault:function(e,t,a){return"masterPage"===a},tinyMenuDataRefName:"loginSocialBarRef"}}}),define("documentServices/componentsMetaData/components/onlineClockMetaData",[],function(){"use strict";return{rotatable:!0,resizableSides:[]}}),define("documentServices/componentsMetaData/components/pageGroupMetaData",["documentServices/constants/constants"],function(e){"use strict";return{anchors:{to:{allow:!0,lock:e.ANCHORS.LOCK_CONDITION.THRESHOLD},from:{allow:!0,lock:e.ANCHORS.LOCK_CONDITION.ALWAYS}},resizableSides:[],moveDirections:[],removable:!1,duplicatable:!1,fullWidth:!0,collapsible:!1,hiddenable:!1}}),define("documentServices/routers/routersGetters",["lodash"],function(e){"use strict";function t(e){var t=e.pointers.routers.getRoutersConfigMapPointer();return e.dal.get(t)}function a(a,r){var o=t(a);return e.findKey(o,{prefix:r})}function r(e,t){var a=e.pointers.routers.getRouterPointer(t);return e.dal.get(a)}return{get:{all:t,byApp:function(a,r){return e.filter(t(a),{appDefinitionId:r})},byRef:function(e,t){var r=e.dal.get(t);return r&&r.config&&(r.config=JSON.parse(r.config),r.id=a(e,r.prefix)),r||null},byId:r,byPrefix:function(e,t){var r=a(e,t);return r&&e.pointers.routers.getRouterPointer(r)},byPage:function(a,r){var o=e.get(a.dal.get(r),"id"),n=t(a),i=e.findKey(n,function(t){return t.pages&&e.includes(e.values(t.pages),o)});return i&&a.pointers.routers.getRouterPointer(i)}},getRouterDataForPageIfExist:function(a,o){o=e.startsWith(o,"#")?o.substr(1):o;var n=t(a),i=e.findKey(n,function(t){return t.pages&&e.includes(e.values(t.pages),o)});return i?e.assign(r(a,i),{routerId:i}):null}}}),define("documentServices/page/pageUtils",["speakingurl","documentServices/routers/routersGetters"],function(e,t){"use strict";var a=void 0;function r(e){return e.siteAPI.getMainPageId()}function o(e,t,a,r){return e.siteAPI.getPageUrl(t,a,r)}return{getHomepageId:r,isMasterPage:function(e,t){return"masterPage"===t},isHomepage:function(e,t){return t===r(e)},registerPageDataChangedCallback:function(e){a=e},executePageDataChangedCallback:function(e,t,r){a(e,t,r)},convertPageNameToUrl:function(t,a){return e(a,{custom:{_:"-"},symbols:!1})||"blank"},getCurrentUrl:function(e,t,a){return o(e,{pageId:e.siteAPI.getCurrentUrlPageId()},t,a)},getMainPageUrl:function(e,t,a){return o(e,{pageId:r(e)},t,a)},getPageUrl:o,isDynamicPage:function(e,a){return!!t.get.byPage(e,e.pointers.data.getDataItemFromMaster(a))}}}),define("documentServices/page/pageData",["lodash","core","utils","documentServices/dataModel/dataModel","documentServices/page/pageUtils","documentServices/page/popupUtils","documentServices/constants/constants","documentServices/routers/routersGetters","experiment","documentServices/hooks/hooks","documentServicesSchemas"],function(e,t,a,r,o,n,i,s,l,u,c){"use strict";var d=c.schemas.dataSchemas,p=["desktop","mobile"];function g(t,a,r){var o=t.pointers.page.getNonDeletedPagesPointers(a);return e(o).map("id").filter(function(e){var a=n.isPopup(t,e);return r?a:!a}).value()}function f(t,a,o){var n=t.pointers.data.getDataItemFromMaster(a),i=r.serializeDataItem(t,d,n,o);return i&&i.pageBackgrounds&&e.forEach(p,function(e){var a=i.pageBackgrounds[e];if(a&&a.ref){var n=t.pointers.data.getDataItemFromMaster(a.ref.replace("#",""));a.ref=r.serializeDataItem(t,d,n,o)}}),i}function m(t,a,r){if(o=t,n=r,s.get.byPrefix(o,n))return!0;var o,n,i=P.getPagesList(t,!1);return e(i).pull(a).some(function(e){return P.getPageUriSEO(t,e)===r})}function y(e,t,a){var r=P.getForbiddenPageUriSEOs(e);return delete r[P.getPageUriSEO(e,t)],r.hasOwnProperty(a.toLowerCase())}function _(t,a){return a=a||0,e.size(t)>i.URLS.MAX_LENGTH-a}function v(e){return/[A-Z]/.test(e)}function S(e){return!/^[a-z0-9\-]+$/.test(e)}function O(t,a){return e.chain(t).find(function(e){return e[0](a)}).get(1,"").value()}function h(e,t,a){return O([[m.bind(null,e,t),"pageUriSEO is invalid: not unique across site"],[y.bind(null,e,t),"pageUriSEO is invalid: reserved word"]],a)}function A(e,t,r){var o=e.pointers.general.getUrlFormat();return e.dal.get(o)===a.siteConstants.URL_FORMATS.HASH_BANG?"":h(e,t,r)||(n=r,O([[_,"pageUriSEO is invalid: over "+i.URLS.MAX_LENGTH+" chars"],[v,"pageUriSEO is invalid: all letters must be lowercase"],[S,"pageUriSEO is invalid: must only be alphanumeric or hyphen"]],n));var n}var E=5;function C(e,t,a){_(a=o.convertPageNameToUrl(e,a),E)&&(a=a.slice(0,i.URLS.MAX_LENGTH-E));for(var r=a,n=1;h(e,t,r);n++)r=a+"-"+n;return r}var P={getPagesDataItems:function(t){var a=P.getPagesList(t,!1);return e.map(a,function(e){return P.getPageData(t,e)})},getPopupsDataItems:function(e){return P.getPopupsList(e).map(function(t){return P.getPageData(e,t)})},getNumberOfPages:function(e){return P.getPagesList(e,!1).length},getPagesList:function(t,a,r){return r?function(t,a){var r=t.pointers.page.getNonDeletedPagesPointers(a);return e.map(r,"id")}(t,a):g(t,a,!1)},getPopupsList:function(e){return g(e,!1,!0)},doesPageExist:function(e,t){var a=e.pointers.page.getPagePointer(t);return Boolean(a)},setPageData:function(t,a,n){e.isString(n.pageUriSEO)&&e.isEmpty(n.pageUriSEO)&&(n.pageUriSEO=C(t,a,n.title)),n.pageUriSEO&&(!function(t,a,r){var o=A(t,a,r);if(!e.isEmpty(o))throw new Error(o)}(t,a,n.pageUriSEO),e.get(n,["translationData","uriSEOTranslated"])||(n.translationData={uriSEOTranslated:!1})),n=function(t,a,o){var n=t.pointers.data.getDataItemFromMaster(a),i=r.serializeDataItem(t,d,n,!1);return o.pageBackgrounds&&(e.forEach(p,function(e){var n=o.pageBackgrounds[e];if(n&&n.ref){var s=void 0,l=void 0;i?(l=i.pageBackgrounds&&i.pageBackgrounds[e]&&i.pageBackgrounds[e].ref,s=o.pageBackgrounds[e]&&o.pageBackgrounds[e].ref&&o.pageBackgrounds[e].ref.id||l&&i.pageBackgrounds[e].ref.replace("#","")):s=a+"_"+e+"_bg",n.ref="#"+r.addSerializedDataItemToPage(t,"masterPage",n.ref,s)}}),o.pageBackgrounds=e.assign(i&&i.pageBackgrounds||{},o.pageBackgrounds)),o}(t,a,n),r.addSerializedDataItemToPage(t,"masterPage",n,a),o.executePageDataChangedCallback(t,a,n)},getPageData:function(e,t){return f(e,t,!1)},getPageDataWithoutIds:function(e,t){return f(e,t,!0)},getBgDataItem:function(t,a,r){if(!e.includes(p,r))throw new Error("unknown device for background");return P.getPageData(t,a).pageBackgrounds[r]},updateBgDataItem:function(t,a,r,o){if(!e.includes(p,o))throw new Error("unknown device for background");var n={pageBackgrounds:{}};n.pageBackgrounds[o]=e.cloneDeep(r),P.setPageData(t,a,n),l.isOpen("sv_mobileBG")&&u.executeHook(u.HOOKS.SITE_BACKGROUND_UPDATE.AFTER,null,[t,a,o])},removePageData:function(t,a){var o=t.dal.get(a),n=t.pointers.data.getPageIdOfData(a);o.pageBackgrounds&&e.forEach(p,function(e){var a=o.pageBackgrounds[e];if(a&&a.ref){var i=t.pointers.data.getDataItem(a.ref.replace("#",""),n);r.removeDataItemRecursively(t,i)}}),r.removeDataItemRecursively(t,a)},getPageUriSEO:function(e,t){var a=e.pointers.data.getDataItemFromMaster(t),r=e.pointers.getInnerPointer(a,"pageUriSEO");return e.dal.get(r)},getForbiddenPageUriSEOs:function(e){var t=e.pointers.general.getForbiddenPageUriSEOs();return e.dal.get(t)||{}},isDuplicatePageUriSeo:m,isForbiddenPageUriSeo:y,getValidPageUriSEO:C,isPageUriSeoTooLong:_,convertPageNameToUrl:o.convertPageNameToUrl};return P}),define("documentServices/appStudio/appStudioDataModel",["lodash","utils","documentServices/page/pageData"],function(e,t,a){"use strict";var r={},o=function(e,t){return e.pointers.data.getDataItemFromMaster(t)};function n(e){return a.getPageData(e,t.siteConstants.MASTER_PAGE_ID).appStudioData}function i(t){var a=n(t)||{};return e.map(a.widgets,function(e){var a=o(t,e.id);return{pointer:a,name:t.dal.get(a).name}})}function s(t,a){var r=i(t);return a="#"+a,e.find(r,function(e){var r=t.dal.get(e.pointer);return r&&r.rootCompId===a})}return{isWidgetPage:function(t,o){return!!a.doesPageExist(t,o)&&(e.isUndefined(r[o])&&(r[o]=Boolean(s(t,o))),r[o])},getWidgetPointerByWidgetId:o,findWidgetByPageId:s,getAllWidgets:i,getAppStudioData:n,getAppStudioMetaData:function(t){var a=n(t);return a?e.pick(a,["name","description"]):void 0},getAllSerializedWidgets:function(t){return e.map(i(t),function(a){return e.pick(t.dal.get(a.pointer),"name","widgetApi","rootCompId")})}}}),define("documentServices/componentsMetaData/components/pageMetaData",["documentServices/constants/constants","documentServices/appStudio/appStudioDataModel"],function(e,t){"use strict";return{anchors:{to:{allow:!0,lock:e.ANCHORS.LOCK_CONDITION.NEVER},from:!1},resizableSides:[],moveDirections:[],containable:!1,duplicatable:!1,removable:!1,fullWidth:!0,styleCanBeApplied:function(e,t){return!(e.siteAPI.getCurrentPopupId()===t.id)},hiddenable:!1,collapsible:!1,dockable:!1,mobileConversionConfig:{shouldApplyPreset:!1,marginX:20,category:"page"},maximumChildrenNumber:function(e,a){return a&&t.isWidgetPage(e,a.id)?1:Number.MAX_VALUE}}}),define("documentServices/componentsMetaData/components/groupMetaData",[],function(){"use strict";return{minimalChildrenNumber:2,resizableSides:[],canBeFixedPosition:!1,mobileConversionConfig:{category:"boxContainer",filterChildrenWhenHidden:!0,isTightContainer:!0,nestOverlayingSiblings:!1,marginX:0}}}),define("documentServices/componentsMetaData/components/flashComponentMetaData",["documentServices/dataModel/dataModel","documentServices/constants/constants"],function(e,t){"use strict";var a=[t.RESIZE_SIDES.TOP,t.RESIZE_SIDES.LEFT,t.RESIZE_SIDES.BOTTOM,t.RESIZE_SIDES.RIGHT];return{mobileConversionConfig:{hideByDefault:!0},resizableSides:function(t,r){return"original"===e.getPropertiesItem(t,r).displayMode?[]:a}}}),define("documentServices/componentsMetaData/components/pagesContainerMetaData",["documentServices/constants/constants","documentServices/structure/siteGapMap","experiment"],function(e,t,a){"use strict";return{anchors:{to:{allow:!0,allowBottomBottom:!1,lock:e.ANCHORS.LOCK_CONDITION.THRESHOLD},from:{allow:!0,lock:e.ANCHORS.LOCK_CONDITION.ALWAYS}},resizableSides:[],moveDirections:function(r){if(r.siteAPI.getMasterPageLayoutSettings().useDesktopSectionsLayout)return[];if(a.isOpen("sv_zeroGapsThreshold"))return[e.MOVE_DIRECTIONS.VERTICAL];return t.getInitialGapMap(r).abovePagesContainer>=e.SITE_SEGMENTS_GAP_THRESHOLD?[e.MOVE_DIRECTIONS.VERTICAL]:[]},removable:!1,duplicatable:!1,containable:!1,fullWidth:!1,hiddenable:!1,collapsible:!1,mobileConversionConfig:{marginX:20,siteSegmentRole:"PAGES_CONTAINER",category:"siteSegments"}}}),define("documentServices/componentsMetaData/components/payPalButtonMetaData",[],function(){"use strict";return{resizableSides:[]}}),define("documentServices/componentsMetaData/components/pinItPinWidgetMetaData",[],function(){"use strict";return{resizableSides:[]}}),define("documentServices/componentsMetaData/components/pinterestFollowMetaData",[],function(){"use strict";return{resizableSides:[]}}),define("documentServices/componentsMetaData/components/pinterestPinItMetaData",[],function(){"use strict";return{resizableSides:[]}}),define("documentServices/componentsMetaData/components/rssButtonMetaData",[],function(){"use strict";return{rotatable:!0}}),define("documentServices/componentsMetaData/components/screenWidthContainerMetaData",["documentServices/constants/constants"],function(e){"use strict";return{resizableSides:[e.RESIZE_SIDES.TOP,e.RESIZE_SIDES.BOTTOM],moveDirections:[e.MOVE_DIRECTIONS.VERTICAL],fullWidth:!0,mobileConversionConfig:{isScreenWidth:!0,preserveAspectRatio:!1}}}),define("documentServices/componentsMetaData/components/stripContainerMetaData",["lodash","documentServices/constants/constants","documentServices/page/popupUtils","documentServices/componentsMetaData/metaDataUtils"],function(e,t,a,r){"use strict";return{resizableSides:[t.RESIZE_SIDES.TOP,t.RESIZE_SIDES.BOTTOM],moveDirections:[t.MOVE_DIRECTIONS.VERTICAL],fullWidth:!0,fullWidthByStructure:!0,canBeFixedPosition:!1,containableByStructure:r.containableByFullWidthPopup,mobileConversionConfig:{hideWhenEmptyBackgroundContainer:!0,isScreenWidth:!0,filterChildrenWhenHidden:!0,minHeight:200,preserveAspectRatio:!1}}}),define("documentServices/componentsMetaData/components/singleAudioPlayerMetaData",["documentServices/constants/constants"],function(e){"use strict";return{styleCanBeApplied:!0,resizableSides:[e.RESIZE_SIDES.LEFT,e.RESIZE_SIDES.RIGHT],layoutLimits:{minWidth:250}}}),define("documentServices/componentsMetaData/components/siteButtonMetaData",["utils","lodash"],function(e,t){"use strict";return{rotatable:!0,styleCanBeApplied:!0,layoutLimits:function(a,r,o){var n=a.siteAPI.getSiteMeasureMap(),i={minWidth:t.get(n,["minWidth",r.id],e.siteConstants.COMP_SIZE.MIN_WIDTH),minHeight:t.get(n,["minHeight",r.id],e.siteConstants.COMP_SIZE.MIN_HEIGHT)};if(o&&o.scale){var s=function(e,t){var a=e.pointers.getInnerPointer(t,"layout.scale");return e.dal.get(a)||1}(a,r);if(s!==o.scale){var l=o.scale/s;return t.mapValues(i,function(e){return e*l})}}return i},disableable:!0}}),define("documentServices/componentsMetaData/components/siteSegmentContainerMetaData",["documentServices/constants/constants","documentServices/constants/constants"],function(e,t){"use strict";return{anchors:{to:{allow:!0,lock:e.ANCHORS.LOCK_CONDITION.THRESHOLD},from:{allow:!0,lock:e.ANCHORS.LOCK_CONDITION.ALWAYS}},resizableSides:[t.RESIZE_SIDES.TOP,t.RESIZE_SIDES.BOTTOM],containable:!1}}),define("documentServices/componentsMetaData/components/siteRegionContainerMetaData",["lodash","documentServices/documentMode/documentModeInfo","documentServices/componentsMetaData/metaDataUtils","documentServices/constants/constants"],function(e,t,a,r){"use strict";function o(e,t,r){var o=a.getComponentType(e,r);return a.isSiteStructure(o)}return{canBeFixedPosition:!0,removable:!1,resizableSides:function(e,t){return t.type===r.VIEW_MODES.MOBILE?[r.RESIZE_SIDES.BOTTOM]:[r.RESIZE_SIDES.LEFT,r.RESIZE_SIDES.RIGHT,r.RESIZE_SIDES.TOP,r.RESIZE_SIDES.BOTTOM]},moveDirections:function(e,t){return t.type===r.VIEW_MODES.MOBILE?[]:[r.MOVE_DIRECTIONS.VERTICAL,r.MOVE_DIRECTIONS.HORIZONTAL]},duplicatable:!1,containable:o,containableByStructure:o,fullWidth:function(e,t){return t.type===r.VIEW_MODES.MOBILE},enforceContainerChildLimitsByHeight:!0,styleCanBeApplied:!1,hiddenable:!0,collapsible:!0,mobileConversionConfig:{preserveAspectRatio:!1,siteSegmentRole:"SUBHEADER",category:"siteSegments",isTightContainer:!0,hasTightMarginBetweenChildren:!0}}}),define("documentServices/componentsMetaData/components/siteStructureMetaData",["documentServices/constants/constants"],function(e){"use strict";return{anchors:{to:{allow:!0,lock:e.ANCHORS.LOCK_CONDITION.ALWAYS,distance:0},from:{allow:!1,lock:e.ANCHORS.LOCK_CONDITION.NEVER}},resizableSides:[],moveDirections:[],removable:!1,duplicatable:!1,containable:!1,fullWidth:!0,collapsible:!1,hiddenable:!1}}),define("documentServices/componentsMetaData/components/skypeCallButtonMetaData",[],function(){"use strict";return{resizableSides:[]}}),define("documentServices/componentsMetaData/components/slideShowGalleryMetaData",["documentServices/dataModel/dataModel","documentServices/constants/constants"],function(e,t){"use strict";return{styleCanBeApplied:!0,canBeStretched:!0,resizableSides:function(a,r){return"flexibleHeight"===e.getPropertiesItem(a,r).imageMode?[t.RESIZE_SIDES.LEFT,t.RESIZE_SIDES.RIGHT]:[t.RESIZE_SIDES.TOP,t.RESIZE_SIDES.LEFT,t.RESIZE_SIDES.BOTTOM,t.RESIZE_SIDES.RIGHT]},mobileConversionConfig:{minHeight:200}}}),define("documentServices/componentsMetaData/components/thumbnailsMetaData",[],function(){"use strict";return{canBeStretched:!0,defaultMobileProperties:{textMode:"noText"}}}),define("documentServices/componentsMetaData/components/accordionMetaData",[],function(){"use strict";return{canBeStretched:!0}}),define("documentServices/componentsMetaData/components/googleMapMetaData",[],function(){"use strict";return{canBeStretched:!0,mobileConversionConfig:{fixedSize:{width:280,height:240}}}}),define("documentServices/componentsMetaData/components/spotifyFollowMetaData",["documentServices/dataModel/dataModel","documentServices/constants/constants"],function(e,t){"use strict";return{resizableSides:function(a,r){return e.getPropertiesItem(a,r).uri?[t.RESIZE_SIDES.LEFT,t.RESIZE_SIDES.RIGHT]:[]},mobileConversionConfig:{preserveAspectRatio:!1}}}),define("documentServices/componentsMetaData/components/subscribeFormMetaData",["documentServices/constants/constants"],function(e){"use strict";var t={"wysiwyg.common.components.subscribeform.viewer.skins.SubscribeFormBoxLayoutEnvelope":{minWidth:505,maxWidth:980,minHeight:126,maxHeight:1024},"wysiwyg.common.components.subscribeform.viewer.skins.SubscribeFormBoxLayoutFlat":{minWidth:505,maxWidth:980,minHeight:98,maxHeight:1024},"wysiwyg.common.components.subscribeform.viewer.skins.SubscribeFormBoxLayoutShiny":{minWidth:505,maxWidth:980,minHeight:98,maxHeight:1024},"wysiwyg.common.components.subscribeform.viewer.skins.SubscribeFormLineLayoutFlat":{minWidth:724,maxWidth:1e3,minHeight:85,maxHeight:300},"wysiwyg.common.components.subscribeform.viewer.skins.SubscribeFormLineLayoutTransparentWithIcon":{minWidth:800,maxWidth:1e3,minHeight:81,maxHeight:300},"wysiwyg.common.components.subscribeform.viewer.skins.SubscribeFormPlaceholderSkin":{minWidth:235,maxWidth:980,maxHeight:1024}},a={minWidth:235,maxWidth:980,minHeight:120,maxHeight:1024};return{resizableSides:[e.RESIZE_SIDES.LEFT,e.RESIZE_SIDES.RIGHT],styleCanBeApplied:!0,layoutLimits:function(e,r){var o=e.dal.get(e.pointers.getInnerPointer(r,"skin"));return t[o]||a}}}),define("documentServices/componentsMetaData/components/svgShapeMetaData",["lodash"],function(e){"use strict";return{mobileConversionConfig:{category:"graphic",isSuitableForProportionGrouping:!0},rotatable:!0,layoutLimits:function(t,a){var r=t.dal.get(t.pointers.getInnerPointer(a,"styleId")),o=t.dal.get(t.pointers.data.getThemeItem(r.replace("#",""))),n=parseInt(e.get(o,"style.properties.strokewidth",0),0),i=n+1,s=n+1,l=e.get(o,"svgId"),u=t.pointers.svgShapes.getSvgShapePointer(l),c=t.pointers.getInnerPointer(u,"boxBoundaries"),d=t.dal.get(c),p=e.isEmpty(d)?0:d.width/d.height;return p&&(p>1?i=(s=n+1)*p:s=(i=n+1)/p),{minWidth:Math.ceil(i),minHeight:Math.ceil(s),maxHeight:2e3}}}}),define("documentServices/media/vectorImageAPI",["lodash","utils"],function(e,t){"use strict";function a(a,r,o){var n=a.pointers.svgShapes.getSvgShapePointer(r),i=a.pointers.getInnerPointer(n,t.svg.SVG_STORES.CONTENT),s=a.dal.get(i);return e.isFunction(o)&&o(s),s}return{cacheSvgString:function(e,r){!function(e,r,o){var n=a(e,r);n?o(n):(i=e,s=r,l=o,t.ajaxLibrary.ajax({type:"GET",dataType:"html",url:function(e,a){var r=e.pointers.general.getServiceTopology(),o=e.pointers.getInnerPointer(r,"mediaRootUrl"),n=e.dal.get(o);return t.svg.svgIdToUrl(n,a,{rendererModel:e.siteDataAPI.siteData.rendererModel})}(i,s),success:function(e){!function(e,a,r){var o=e.pointers.svgShapes.getSvgShapePointer(a),n=t.svg.svgStringToStoreData(r||t.svg.EMPTY_SHAPE);e.dal.set(o,n)}(i,s,e),l(e)}}));var i,s,l}(e,r,function(){e.setOperationsQueue.asyncPreDataManipulationComplete()})},getSvgFromCache:a,getSvgInfoFromCache:function(e,a){var r=e.pointers.svgShapes.getSvgShapePointer(a),o=e.pointers.getInnerPointer(r,t.svg.SVG_STORES.INFO);return e.dal.get(o)},getOriginalAspectRatio:function(a,r){var o=a.dal.get(r),n=a.pointers.components.getPageOfComponent(r),i=a.pointers.data.getDataItem(o.dataQuery.replace("#",""),n.id),s=a.dal.get(i),l=e.get(s,["svgId"]),u=a.pointers.svgShapes.getSvgShapePointer(l),c=a.pointers.getInnerPointer(u,t.svg.SVG_STORES.BOX_BOUNDARIES),d=a.dal.get(c);return e.isEmpty(d)?0:d.width/d.height}}}),define("documentServices/componentsMetaData/components/vectorImageMetaData",["lodash","documentServices/componentsMetaData/metaDataUtils","documentServices/constants/constants","documentServices/media/vectorImageAPI"],function(e,t,a,r){"use strict";return{mobileConversionConfig:{category:"graphic",isSuitableForProportionGrouping:!0},rotatable:!0,resizableSides:function(e,r){return t.isMaintainSvgAspectRatio(e,r)?[]:[a.RESIZE_SIDES.TOP,a.RESIZE_SIDES.LEFT,a.RESIZE_SIDES.BOTTOM,a.RESIZE_SIDES.RIGHT]},layoutLimits:function(a,o){var n=t.isMaintainSvgAspectRatio(a,o)?r.getOriginalAspectRatio(a,o):null,i=function(t,a){var o=t.dal.get(t.pointers.getInnerPointer(a,"styleId")),n=t.dal.get(t.pointers.data.getThemeItem(o.replace("#",""))),i=parseInt(e.get(n,["style","properties","strokewidth"],0),10),s=Math.max(i+1,5),l=Math.max(i+1,5),u=r.getOriginalAspectRatio(t,a);return u&&(u>1?s=(l=i+1)*u:l=(s=i+1)/u),{minWidth:Math.ceil(s),minHeight:Math.ceil(l)}}(a,o);return{aspectRatio:n,minWidth:i.minWidth,minHeight:i.minHeight,maxHeight:2e3}}}}),define("documentServices/componentsMetaData/components/tinyMenuMetaData",["lodash"],function(e){"use strict";return{canBeFixedPosition:!0,layoutLimits:{minWidth:40,minHeight:40},containable:!1,modal:function(t,a){var r=t.pointers.general.getRenderFlag("componentPreviewStates"),o=t.dal.get(r,{});return"open"===e.get(o,a.id)},styleCanBeApplied:function(e){var t=e.pointers.general.getIsStudioUser();return e.dal.get(t)},mobileOnly:!0}}),define("documentServices/componentsMetaData/components/backToTopButtonMetaData",[],function(){"use strict";return{mobileOnly:!0}}),define("documentServices/componentsMetaData/components/verticalLineMetaData",["documentServices/constants/constants"],function(e){"use strict";return{mobileConversionConfig:{category:"graphic",isSuitableForProportionGrouping:!0,keepIfVerticalDivider:!0},rotatable:!0,styleCanBeApplied:!0,resizableSides:[e.RESIZE_SIDES.TOP,e.RESIZE_SIDES.BOTTOM]}}),define("documentServices/componentsMetaData/components/vKShareButtonMetaData",[],function(){"use strict";return{resizableSides:[]}}),define("documentServices/componentsMetaData/components/weatherMetaData",[],function(){"use strict";return{resizableSides:[]}}),define("documentServices/componentsMetaData/components/wFacebookCommentMetaData",["documentServices/documentMode/documentModeInfo","documentServices/constants/constants"],function(e,t){"use strict";return{resizableSides:function(a){return"MOBILE"===e.getViewMode(a)?[]:[t.RESIZE_SIDES.LEFT,t.RESIZE_SIDES.RIGHT]},layoutLimits:function(t){return"MOBILE"===e.getViewMode(t)?{}:{minWidth:400}},mobileConversionConfig:{stretchHorizontally:!0}}}),define("documentServices/componentsMetaData/components/disqusCommentsMetaData",["documentServices/constants/constants"],function(e){"use strict";return{resizableSides:[e.RESIZE_SIDES.LEFT,e.RESIZE_SIDES.RIGHT],layoutLimits:{minWidth:500}}}),define("documentServices/componentsMetaData/components/baseInputMetadata",[],function(){"use strict";return{disableable:!0}}),define("documentServices/componentsMetaData/components/radioGroupMetaData",["lodash","documentServices/dataModel/dataModel","documentServices/constants/constants","documentServices/componentsMetaData/components/baseInputMetadata"],function(e,t,a,r){"use strict";var o={defaultMobileProperties:{layout:"vertical"},layoutLimits:function(e,a){var r=t.getDataItem(e,a).options.length;return{minWidth:"vertical"===t.getPropertiesItem(e,a).layout?60:60*r}},resizableSides:[a.RESIZE_SIDES.LEFT,a.RESIZE_SIDES.RIGHT]};return e.assign(o,r)}),define("documentServices/componentsMetaData/components/wGooglePlusOneMetaData",[],function(){"use strict";return{resizableSides:[],defaultMobileProperties:{size:"standard"}}}),define("documentServices/media/imageAPI",["lodash","documentServices/constants/constants"],function(e,t){"use strict";return{getImageAspectRatio:function(a,r){var o=a.dal.get(r),n=a.pointers.components.getPageOfComponent(r),i=a.pointers.data.getDataItem(o.dataQuery.replace("#",""),n.id),s=a.dal.get(i),l={};if(r.type===t.VIEW_MODES.MOBILE){var u=a.pointers.data.getPropertyItem(o.propertyQuery,n.id);l=a.dal.get(u)}return function(t,a){var r=t.width/t.height;return!e.isEmpty(t.crop)&&e.isEmpty(a.overrideCrop)?r=t.crop.width/t.crop.height:e.isEmpty(e.get(a,"overrideCrop"))||(r=a.overrideCrop.width/a.overrideCrop.height),r}(s,l)}}}),define("documentServices/componentsMetaData/components/wPhotoMetaData",["lodash","documentServices/componentsMetaData/metaDataUtils","documentServices/constants/constants","documentServices/media/imageAPI"],function(e,t,a,r){"use strict";return{rotatable:!0,styleCanBeApplied:!0,mobileConversionConfig:{isSuitableForProportionGrouping:!0,category:"photo"},resizableSides:function(e,r){return t.isMaintainWPhotoAspectRatio(e,r)?[]:[a.RESIZE_SIDES.TOP,a.RESIZE_SIDES.LEFT,a.RESIZE_SIDES.BOTTOM,a.RESIZE_SIDES.RIGHT]},layoutLimits:function(e,a){var o=t.isMaintainWPhotoAspectRatio(e,a)?r.getImageAspectRatio(e,a):null;return{aspectRatio:o,minWidth:5,minHeight:5*(o||1)}}}}),define("documentServices/componentsMetaData/components/wTwitterFollowMetaData",[],function(){"use strict";return{resizableSides:[]}}),define("documentServices/componentsMetaData/components/wTwitterTweetMetaData",[],function(){"use strict";return{resizableSides:[]}}),define("documentServices/componentsMetaData/components/youTubeSubscribeButtonMetaData",[],function(){"use strict";return{resizableSides:[],mobileConversionConfig:{preserveAspectRatio:!1}}}),define("documentServices/componentsMetaData/components/baseTpaMetaData",["lodash","documentServices/dataModel/dataModel"],function(e,t){"use strict";var a={"142bb34d-3439-576a-7118-683e690a1e0d":"gallery"};function r(t,a){if(!e.has(a,"applicationId")||!e.has(a,"widgetId"))return{};var r=t.pointers.general.getClientSpecMap(),o=t.dal.get(r);return e.get(o,[a.applicationId,"widgets",a.widgetId])||{}}return{getWidgetData:r,nickname:function(o,n){var i=r(o,t.getDataItem(o,n)),s="",l=e.get(i,"widgetId");return s=a.hasOwnProperty(l)?a[l]:e.camelCase(i.tpaWidgetId),s}}}),define("documentServices/componentsMetaData/components/tpaWidgetMetaData",["lodash","documentServices/dataModel/dataModel","documentServices/componentsMetaData/components/baseTpaMetaData"],function(e,t,a){"use strict";function r(e,t,a){var r=e.dataQuery.replace("#",""),o=t.pointers.data.getDataItem(r,a);return t.dal.get(o)}return{mobileConversionConfig:{hideByDefault:function(t,o,n){var i=r(o,t,n),s=a.getWidgetData(t,i);return e.isEmpty(s.mobileUrl)},minHeight:function(t,o,n){var i=r(o,t,n),s=a.getWidgetData(t,i);return e.get(s,"componentFields.minHeightInMobile")},stretchHorizontally:function(t,o,n){var i=r(o,t,n),s=a.getWidgetData(t,i);return!0===e.get(s,"shouldBeStretchedByDefaultMobile")}},canBeStretched:function(r,o){var n=t.getDataItem(r,o),i=a.getWidgetData(r,n);return!0===e.get(i,"canBeStretched")},nickname:function(e,t){return a.nickname(e,t)}}}),define("documentServices/componentsMetaData/components/tpaGluedWidgetMetaData",["lodash","tpa","documentServices/componentsMetaData/components/baseTpaMetaData"],function(e,t,a){"use strict";var r=t.common.metaData.PERMITTED_GLUED_TPAS_IN_MOBILE;return{resizableSides:[],moveDirections:[],containable:!1,fullWidth:!1,mobileConversionConfig:{structuralItem:!0,convertFixedPositionToAbsolute:!0,nonLayoutComponent:!0,desktopOnly:function(t,a,o){var n,i=a.dataQuery,s=t.pointers.data.getDataItem((n=i,e.isString(n)&&"#"===n[0]?n.slice(1):n),o),l=t.dal.get(s);return!function(t,a){if(a){var o=t.pointers.general.getClientSpecMap(),n=t.dal.get(o)[a]||{};return e.includes(r,n.appDefinitionId)}return!1}(t,e.get(l,"applicationId"))},minHeight:function(t,r,o){var n=function(e,t,a){var r=e.dataQuery.replace("#",""),o=t.pointers.data.getDataItem(r,a);return t.dal.get(o)}(r,t,o),i=a.getWidgetData(t,n);return e.get(i,"componentFields.minHeightInMobile")}},nickname:function(e,t){return a.nickname(e,t)}}}),define("documentServices/componentsMetaData/components/tpaSectionMetaData",["lodash","documentServices/constants/constants","documentServices/dataModel/dataModel","documentServices/componentsMetaData/metaDataUtils","experiment"],function(e,t,a,r,o){"use strict";function n(t,a){if(!e.has(a,"applicationId"))return{};var r=t.pointers.general.getClientSpecMap(),o=t.dal.get(r),n=e.get(o,a.applicationId);return a.widgetId?e.get(n,["widgets",a.widgetId]):function(t){var a=e.get(t,"widgets");if(a)return e.find(a,function(e){return e.appPage&&e.appPage.name&&!e.appPage.hidden});return}(n)}function i(e,t,a){var r=e.dataQuery.replace("#",""),o=t.pointers.data.getDataItem(r,a);return t.dal.get(o)}return{mobileConversionConfig:{convertFixedPositionToAbsolute:!0,stretchHorizontally:function(t,a,r){var o=n(t,i(a,t,r));return!0===e.get(o,"shouldBeStretchedByDefaultMobile")},minHeight:function(t,a,r){var o=n(t,i(a,t,r));return e.get(o,"componentFields.minHeightInMobile")}},anchors:o.isOpen("sv_fixTpaGap")?null:{to:{allow:!0,lock:t.ANCHORS.LOCK_CONDITION.NEVER},from:{allow:!0}},removable:!1,duplicatable:!1,containable:!1,canBeFixedPosition:!1,canBeStretched:function(t,r){var o=n(t,a.getDataItem(t,r));return!0===e.get(o,"canBeStretched")},getWidgetData:n,nickname:function(t,o){var i=n(t,a.getDataItem(t,o));if(i){var s=e.get(i,"appPage.id");return e.camelCase(s)}return r.getComponentNickname(t,o)}}}),define("documentServices/componentsMetaData/components/appPageMetaData",[],function(){"use strict";return{resizableSides:[],moveDirections:[],fullWidth:!0,containable:!1,duplicatable:!1,removable:!1,mobileConversionConfig:{marginX:20}}}),define("documentServices/wixapps/utils/classicsUtils",["lodash"],function(e){"use strict";function t(e,t){return e.siteAPI.getWixappsPackageDescriptor(t)}function a(a,r,o){var n=t(a,r),i=e.get(n,"parts");return e.find(i,{id:o})}return{getDescriptor:t,getPackageName:function(e,t){var a=e.pointers.general.getClientSpecMap(),r=e.pointers.getInnerPointer(a,[t,"packageName"]);return e.dal.get(r)},getAppPartRole:function(t,r,o){var n=a(t,r,o);return e.get(n,"role")},getAppPartDefinition:a}}),define("documentServices/wixapps/services/blogUtils",["lodash","documentServices/documentMode/documentModeInfo"],function(e,t){"use strict";var a={SINGLE_POST:"7326bfbb-4b10-4a8e-84c1-73f776051e10",FEED:"79f391eb-7dfc-4adf-be6e-64434c4838d9"};function r(t,a,r){var o=e(a).thru(t.pointers.data.getDataItem).thru(t.dal.get).value();return o&&"AppPage"===o.type&&"AppPage"===o.appPageType&&o.appPageId===r}return{isSinglePost:function(e,t){return r(e,t,a.SINGLE_POST)},isFeed:function(e,t){return r(e,t,a.FEED)},isBlogPage:function(e,a){var r=t.getViewMode(e),o=e.pointers.components.getPage(a,r),n=e.pointers.getInnerPointer(o,"componentType");return"wixapps.integration.components.AppPage"===e.dal.get(n)}}}),define("documentServices/componentsMetaData/components/appPartMetaData",["lodash","documentServices/constants/constants","documentServices/dataModel/dataModel","documentServices/wixapps/utils/classicsUtils","documentServices/componentsMetaData/metaDataUtils","wixappsClassics","documentServices/wixapps/services/blogUtils","utils"],function(e,t,a,r,o,n,i,s){"use strict";var l=s.blogAppPartNames;function u(e,t){return e.pointers.components.isMasterPage(t)||e.pointers.components.isInMasterPage(t)}function c(t,o,n){var i=a.getDataItem(t,o),s=r.getPackageName(t,i.appInnerID);return"blog"===s&&e.includes(n,r.getAppPartRole(t,s,i.appPartName))}return{layoutLimits:function(e,r){return a.getDataItem(e,r).appPartName===l.HERO_IMAGE?{minHeight:t.HERO_IMAGE.MIN_HEIGHT}:{}},resizableSides:function(e,o){var i=[t.RESIZE_SIDES.LEFT,t.RESIZE_SIDES.RIGHT],s=a.getDataItem(e,o),l=r.getPackageName(e,s.appInnerID),u=r.getAppPartDefinition(e,l,s.appPartName);return n.descriptorUtils.doesAllowHeightResize(u,s.viewName)&&(i=i.concat([t.RESIZE_SIDES.TOP,t.RESIZE_SIDES.BOTTOM])),i},containable:function(e,t,a){return a&&(n=e,i=t,s=a,!(u(n,i)!==u(n,s)&&(r=e,o=t,c(r,o,["BLOG_FEED","SINGLE_POST","RELATED_POSTS"]))));var r,o,n,i,s},containableByStructure:function(t,a,r){var n=!o.notContainableByPopup.apply(o,arguments),s=i.isSinglePost(t,e.get(r,"id")||t.siteAPI.getFocusedRootId()),u=a.data.appPartName===l.RELATED_POSTS;return!(n||u&&!s)},canBeStretched:function(e,t){return c(e,t,["POST_GALLERY","BLOG_FEED","CUSTOM_FEED"].concat(["RELATED_POSTS"]))},mobileConversionConfig:{fixedSize:function(t,r,o){var n=a.getDataItemById(t,r.dataQuery.replace("#",""),o),i=e.get(n,"appPartName");return i===l.POSTS_GALLERY||i===l.RELATED_POSTS?{height:r.layout.height}:{}}}}}),define("documentServices/wixapps/utils/pathUtils",["lodash"],function(e){"use strict";var t="Must provide a type ID",a="Must provide an item ID",r=["wixapps"],o=r.concat("appbuilder"),n=o.concat("descriptor"),i={VIEWS:n.concat("views"),TYPES:n.concat("types"),PARTS:n.concat("parts"),DATA_SELECTORS:n.concat("dataSelectors"),PAGES:n.concat("pages"),ITEMS:o.concat("items"),DELETED_ITEMS:o.concat("deletedItems")};function s(e,t){if(!e)throw new Error(t)}return{initBasePaths:function(t){var a=[r,o,n].concat(e.values(i));e.forEach(a,function(e){t.dal.isPathExist(e)||t.dal.full.setByPath(e,{})})},getBaseItemsPath:function(e){return e?i.ITEMS.concat(e):i.ITEMS},getItemPath:function(e,r,o){s(e,t),s(r,a);var n=this.getBaseItemsPath(e).concat(r);return o&&(n=n.concat(o)),n},getBaseDeletedItemsPath:function(e){return e?i.DELETED_ITEMS.concat(e):i.DELETED_ITEMS},getDeletedItemPath:function(e,r){return s(e,t),s(r,a),this.getBaseDeletedItemsPath(e).concat(r)},getBaseTypesPath:function(){return i.TYPES},getTypePath:function(e){return s(e,t),this.getBaseTypesPath().concat(e)},getBasePartsPath:function(){return i.PARTS},getPartPath:function(e){return s(e,"Must provide a part ID"),this.getBasePartsPath().concat(e)},getBaseViewsPath:function(){return i.VIEWS},getViewPath:function(e){return s(e,"Must provide a view ID"),this.getBaseViewsPath().concat(e)},getBaseDataSelectorsPath:function(){return i.DATA_SELECTORS},getDataSelectorPath:function(e){return s(e,"Must provide a data selector ID"),this.getBaseDataSelectorsPath().concat(e)},getPagePath:function(e){return s(e,"Must provide a page ID"),i.PAGES.concat(e)},getApplicationInstanceVersionPath:function(){return n.concat(["applicationInstanceVersion"])},getOffsetFromServerTimePath:function(){return n.concat(["offsetFromServerTime"])},getRepoPath:function(){return n},getAppbuilderPath:function(){return o},getPackageMetaDataPath:function(){return o.concat(["metadata"])},getAppbuilderMetadataPath:function(t){return e.compact(o.concat(["metadata","appbuilder_metadata"].concat(t)))},getAppPart2MetadataPath:function(e){return o.concat(["metadata",e])}}}),define("documentServices/wixapps/services/metadata",["documentServices/wixapps/utils/pathUtils"],function(e){"use strict";return{wasPartLoadedSuccessfully:function(t,a){var r=t.dal.getByPath(e.getAppPart2MetadataPath(a));return r&&!1===r.loading&&!r.error},wasRepoLoadedSuccessfully:function(t){var a=t.dal.getByPath(e.getAppbuilderMetadataPath());return a&&!1===a.loading&&!a.error}}}),define("documentServices/componentsMetaData/components/appPart2MetaData",["documentServices/constants/constants","documentServices/dataModel/dataModel","documentServices/wixapps/services/metadata","documentServices/documentMode/documentModeInfo","documentServices/componentsMetaData/metaDataUtils"],function(e,t,a,r,o){"use strict";return{resizableSides:[e.RESIZE_SIDES.LEFT,e.RESIZE_SIDES.RIGHT],removable:!0,duplicatable:function(e,o){return!r.isMobileView(e)&&a.wasPartLoadedSuccessfully(e,function(e,a){var r=t.getDataItem(e,a);if(!r)throw new Error("Can't find data for component id "+a.id);return r.appPartName}(e,o))},containableByStructure:o.notContainableByPopup,usingLegacyAppPartSchema:!0}}),define("documentServices/componentsMetaData/components/anchorMetaData",["lodash","documentServices/componentsMetaData/metaDataUtils","documentServices/constants/constants","documentServices/page/popupUtils"],function(e,t,a,r){"use strict";var o=["mobile.core.components.Page","core.components.Page","wixapps.integration.components.AppPage"];function n(a,n,i){if(i){var s=t.getComponentType(a,i),l=a.pointers.components.getPageOfComponent(i);return e.includes(o,s)&&!r.isPopup(a,l.id)}return!1}return{resizableSides:[],moveDirections:[a.MOVE_DIRECTIONS.VERTICAL],containable:n,containableByStructure:n,fullWidth:!0,fullWidthByStructure:!0,collapsible:!1,mobileConversionConfig:{isInvisible:!0}}}),define("documentServices/componentsMetaData/components/masonryMetaData",["documentServices/constants/constants"],function(e){"use strict";return{canBeStretched:!0,defaultMobileProperties:function(e,t,a){return{numCols:2,margin:a.margin<=3?a.margin:15,textMode:{titleAndDescription:"titleOnly",descriptionOnly:"noText"}[a.textMode]||a.textMode}},resizableSides:[e.RESIZE_SIDES.LEFT,e.RESIZE_SIDES.RIGHT]}}),define("documentServices/componentsMetaData/components/freestyleMetaData",["documentServices/dataModel/dataModel","documentServices/constants/constants"],function(e,t){"use strict";return{resizableSides:function(a,r){var o=e.getPropertiesItem(a,r),n=[t.RESIZE_SIDES.LEFT,t.RESIZE_SIDES.RIGHT];return"horizontal"===o.orientation?n.concat([t.RESIZE_SIDES.TOP,t.RESIZE_SIDES.BOTTOM]):n}}}),define("documentServices/componentsMetaData/components/stripGallerySlideShowMetaData",["lodash","documentServices/constants/constants","documentServices/componentsMetaData/metaDataUtils"],function(e,t,a){"use strict";return{mobileConversionConfig:{isScreenWidth:!0},moveDirections:[t.MOVE_DIRECTIONS.VERTICAL],resizableSides:[t.RESIZE_SIDES.TOP,t.RESIZE_SIDES.BOTTOM],fullWidth:!0,fullWidthByStructure:!0,canBeFixedPosition:!1,containableByStructure:a.containableByFullWidthPopup}}),define("documentServices/componentsMetaData/components/stripShowCaseMetaData",["documentServices/constants/constants","documentServices/componentsMetaData/metaDataUtils"],function(e,t){"use strict";return{mobileConversionConfig:{isScreenWidth:!0},moveDirections:[e.MOVE_DIRECTIONS.VERTICAL],resizableSides:[e.RESIZE_SIDES.TOP,e.RESIZE_SIDES.BOTTOM],fullWidth:!0,fullWidthByStructure:!0,canBeFixedPosition:!1,containableByStructure:t.containableByFullWidthPopup}}),define("documentServices/componentsMetaData/components/collageMetaData",["lodash","documentServices/constants/constants","documentServices/dataModel/dataModel"],function(e,t,a){"use strict";function r(e,t){return!!a.getPropertiesItem(e,t).fitToScreenWidth}return{mobileConversionConfig:{isScreenWidth:function(t,a,r){var o=t.dal.get(t.pointers.data.getPropertyItem(a.propertyQuery,r));return e.get(o,"fitToScreenWidth",!1)}},moveDirections:function(e,a){return function(e){var a=[t.MOVE_DIRECTIONS.VERTICAL];return e||a.push(t.MOVE_DIRECTIONS.HORIZONTAL),a}(r(e,a))},resizableSides:function(e,a){return r(e,a)?[]:[t.RESIZE_SIDES.LEFT,t.RESIZE_SIDES.RIGHT]},fullWidth:r,fullWidthByStructure:function(e,t){return!!t.props.fitToScreenWidth}}}),define("documentServices/componentsMetaData/components/3DCarouselMetaData",["documentServices/constants/constants"],function(e){"use strict";return{resizableSides:[e.RESIZE_SIDES.LEFT,e.RESIZE_SIDES.RIGHT]}}),define("documentServices/componentsMetaData/components/videoMetaData",["documentServices/dataModel/dataModel"],function(e){"use strict";var t={DEFAULT:{minWidth:10,minHeight:10},VIMEO:{minWidth:100,minHeight:100},YOUTUBE:{minWidth:200,minHeight:200},DAILYMOTION:{minWidth:100,minHeight:100},FACEBOOK:{minWidth:100,minHeight:100}};return{styleCanBeApplied:!0,layoutLimits:function(a,r){var o=e.getDataItem(a,r);return t[o.videoType]||t.DEFAULT},defaultMobileProperties:{autoplay:!1}}}),define("documentServices/componentsMetaData/components/matrixGalleryMetaData",[],function(){"use strict";return{canBeStretched:!0,styleCanBeApplied:!0,layoutLimits:{minWidth:45,minHeight:70},defaultMobileProperties:function(e,t,a){return{margin:Math.min(20,a.margin),numCols:a.numCols>=2?2:1}},mobileConversionConfig:{preserveAspectRatio:!1}}}),define("documentServices/componentsMetaData/components/documentMediaMetaData",["utils","lodash"],function(e,t){"use strict";return{rotatable:!0,layoutLimits:function(a,r){var o=a.siteAPI.getSiteMeasureMap();return{minWidth:t.get(o,["minWidth",r.id],e.siteConstants.COMP_SIZE.MIN_WIDTH)}}}}),define("documentServices/componentsMetaData/components/spotifyPlayerMetaData",[],function(){"use strict";return{resizableSides:[]}}),define("documentServices/componentsMetaData/components/soundCloudMetaData",[],function(){"use strict";return{layoutLimits:{minWidth:250,minHeight:50}}}),define("documentServices/componentsMetaData/components/wRichTextMetaData",["documentServices/constants/constants","utils","experiment"],function(e,t,a){"use strict";function r(e,t){var a=e.pointers.getInnerPointer(t,"layout");return!!e.dal.get(a).rotationInDegrees}return{layoutLimits:{minWidth:10},rotatable:function(){return a.isOpen("sv_rotateText")},isProportionallyResizable:!0,resizableSides:function(t,o){return a.isOpen("sv_restrictTextHeightInEditor")?r(t,o)?[e.RESIZE_SIDES.LEFT,e.RESIZE_SIDES.RIGHT]:[e.RESIZE_SIDES.LEFT,e.RESIZE_SIDES.RIGHT,e.RESIZE_SIDES.BOTTOM]:t.siteDataAPI.siteData.isMobileView()||r(t,o)?[e.RESIZE_SIDES.LEFT,e.RESIZE_SIDES.RIGHT]:[e.RESIZE_SIDES.LEFT,e.RESIZE_SIDES.RIGHT,e.RESIZE_SIDES.BOTTOM]},defaultMobileProperties:{packed:!1,minHeight:null},mobileConversionConfig:{isSuitableForProportionGrouping:!0,category:"text",preserveAspectRatio:!1,shouldEnlargeToFitWidth:!0}}}),define("documentServices/componentsMetaData/components/verticalMenuMetaData",["lodash"],function(e){"use strict";return{styleCanBeApplied:!0,mobileConversionConfig:{isScreenWidth:!0,desktopOnly:function(t,a,r){var o,n=a.dataQuery,i=t.pointers.data.getDataItem((o=n,e.isString(o)&&"#"===o[0]?o.slice(1):o),r);return"#CUSTOM_MAIN_MENU"===(t.dal.get(i)||{menuRef:"#CUSTOM_MAIN_MENU"}).menuRef},fixedSize:{height:48}}}}),define("documentServices/componentsMetaData/components/dropDownMenuMetaData",[],function(){"use strict";return{canBeStretched:!0,styleCanBeApplied:!0,mobileConversionConfig:{desktopOnly:!0}}}),define("documentServices/componentsMetaData/components/sliderGalleryMetaData",[],function(){"use strict";return{canBeStretched:!0,styleCanBeApplied:!0,mobileConversionConfig:{preserveAspectRatio:!1}}}),define("documentServices/componentsMetaData/components/PaginatedGridGalleryMetaData",[],function(){"use strict";return{canBeStretched:!0,styleCanBeApplied:!0,defaultMobileProperties:function(e,t,a){return{margin:Math.min(20,a.margin),numCols:Math.min(2,a.numCols)}},mobileConversionConfig:{preserveAspectRatio:!1}}}),define("documentServices/componentsMetaData/components/containerMetaData",[],function(){"use strict";return{styleCanBeApplied:!0,mobileConversionConfig:{category:"boxContainer",minHeight:50,isSuitableForProportionGrouping:!0,filterChildrenWhenHidden:!0}}}),define("documentServices/componentsMetaData/components/popupContainerMetaData",["lodash","documentServices/constants/constants","experiment"],function(e,t,a){"use strict";var r={mobileConversionConfig:{createMobilePresets:!1},hiddenable:!1,styleCanBeApplied:!1,moveDirections:[],canBeFixedPosition:!1,duplicatable:!1,groupable:!1,removable:!1,enforceContainerChildLimitsByWidth:!1,enforceContainerChildLimitsByHeight:!1,layoutLimits:{minWidth:50,minHeight:50},resizableSides:function(e,a){var r=t.RESIZE_SIDES.LEFT,o=t.RESIZE_SIDES.RIGHT,n=t.RESIZE_SIDES.BOTTOM,i=t.RESIZE_SIDES.TOP,s=e.dal.get(a),l=e.pointers.components.getPageOfComponent(a),u=l&&l.id,c=e.pointers.data.getPropertyItem(s.propertyQuery,u),d=e.dal.get(c),p={left:{top:[n,o],center:[n,o],bottom:[i,o]},center:{top:[n,o,r],center:[i,n,o,r],bottom:[i,o,r]},right:{top:[n,r],center:[n,r],bottom:[i,r]}},g={left:[o],center:[o,r],right:[r]},f={top:[n],center:[i,n],bottom:[i]};return{nineGrid:function(){return p[d.horizontalAlignment][d.verticalAlignment]},fullHeight:function(){return g[d.horizontalAlignment]},fullWidth:function(){return f[d.verticalAlignment]}}[d.alignmentType]()},defaultMobileProperties:function(e,t,a){return{horizontalAlignment:"nineGrid"===a.alignmentType?"center":a.horizontalAlignment,horizontalOffset:0,verticalOffset:0}}};return a.isOpen("sv_movePopup")&&delete r.moveDirections,r}),define("documentServices/componentsMetaData/components/audioPlayerMetaData",[],function(){"use strict";return{styleCanBeApplied:!0}}),define("documentServices/componentsMetaData/components/clipArtMetaData",[],function(){"use strict";return{mobileConversionConfig:{category:"graphic",isSuitableForProportionGrouping:!0},rotatable:!0}}),define("documentServices/componentsMetaData/components/boxSlideShowSlideMetaData",["documentServices/componentsMetaData/metaDataUtils"],function(e){"use strict";function t(t,a,r,o){if(o){var n=t?o.componentType:e.getComponentType(a,o);return e.isComponentSuitableForNonRenderingState(n)}return!1}return{mobileConversionConfig:{nestOverlayingSiblings:!1,stackLayout:!0,structuralItem:!0},enforceContainerChildLimitsByWidth:!1,enforceContainerChildLimitsByHeight:!1,canContain:t.bind(null,!1),canContainByStructure:t.bind(null,!0)}}),define("documentServices/componentsMetaData/components/boxSlideShowMetaData",[],function(){"use strict";return{minimalChildrenNumber:1,enforceContainerChildLimitsByWidth:!1,enforceContainerChildLimitsByHeight:!1,defaultMobileProperties:{flexibleBoxHeight:!1,shouldHideOverflowContent:!0,navigationButtonMargin:22,navigationButtonSize:15,navigationDotsGap:15,navigationDotsMargin:24,navigationDotsSize:6},mobileConversionConfig:{structuralContainer:!0,nestOverlayingSiblings:!1,filterChildrenWhenHidden:!0,marginX:0}}}),define("documentServices/componentsMetaData/components/stripSlideShowSlideMetaData",["documentServices/constants/constants","documentServices/componentsMetaData/metaDataUtils"],function(e,t){"use strict";function a(e,a,r,o){if(o){var n=e?o.componentType:t.getComponentType(a,o);return t.isComponentSuitableForNonRenderingState(n)}return!1}return{enforceContainerChildLimitsByWidth:!1,enforceContainerChildLimitsByHeight:!1,moveDirections:[e.MOVE_DIRECTIONS.VERTICAL],resizableSides:[e.RESIZE_SIDES.TOP,e.RESIZE_SIDES.BOTTOM],fullWidth:!0,fullWidthByStructure:!0,canContain:a.bind(null,!1),canContainByStructure:a.bind(null,!0),mobileConversionConfig:{nestOverlayingSiblings:!1,structuralItem:!0,stackLayout:!0,isScreenWidth:!0,filterChildrenWhenHidden:!0,preserveAspectRatio:!1}}}),define("documentServices/componentsMetaData/components/quickActionBarMetaData",[],function(){"use strict";return{mobileOnly:!0,anchors:{to:!1,from:!1},moveDirections:[],resizableSides:[],dockable:!1,alignable:!1,groupable:!1,canContainByStructure:!0,hiddenable:!1}}),define("documentServices/componentsMetaData/components/quickActionBarItemMetaData",[],function(){"use strict";return{mobileOnly:!0,anchors:{to:!1,from:!1},moveDirections:[],resizableSides:[],dockable:!1,alignable:!1,groupable:!1,containableByStructure:!0,hiddenable:!1}}),define("documentServices/componentsMetaData/components/stripSlideShowMetaData",["documentServices/constants/constants","documentServices/componentsMetaData/metaDataUtils"],function(e,t){"use strict";return{minimalChildrenNumber:1,enforceContainerChildLimitsByWidth:!1,enforceContainerChildLimitsByHeight:!1,moveDirections:[e.MOVE_DIRECTIONS.VERTICAL],resizableSides:[e.RESIZE_SIDES.TOP,e.RESIZE_SIDES.BOTTOM],fullWidth:!0,fullWidthByStructure:!0,containableByStructure:t.containableByFullWidthPopup,defaultMobileProperties:{flexibleBoxHeight:!1,shouldHideOverflowContent:!0,navigationButtonMargin:22,navigationButtonSize:15,navigationDotsGap:15,navigationDotsMargin:24,navigationDotsSize:6},mobileConversionConfig:{structuralContainer:!0,nestOverlayingSiblings:!1,isScreenWidth:!0,filterChildrenWhenHidden:!0,marginX:0,preserveAspectRatio:!1}}}),define("documentServices/componentsMetaData/components/stripColumnsMetaData",["lodash","documentServices/constants/constants","documentServices/componentsMetaData/metaDataUtils","documentServices/documentMode/documentModeInfo","documentServices/dataModel/dataModel"],function(e,t,a,r,o){"use strict";var n="wysiwyg.viewer.components.Column";return{minimalChildrenNumber:1,canContain:function(e,t,r){return a.getComponentType(e,r)===n},canContainByStructure:function(e,t,a){return a.componentType===n},containableByStructure:a.containableByFullWidthPopup,moveDirections:[t.MOVE_DIRECTIONS.VERTICAL],resizableSides:function(e,a){var r=1===e.pointers.components.getChildren(a).length;return e.pointers.components.isMobile(a)&&!r?[]:[t.RESIZE_SIDES.TOP,t.RESIZE_SIDES.BOTTOM]},fullWidth:function(e,t){return o.getPropertiesItem(e,t).fullWidth},fullWidthByStructure:function(e,t){return t.props.fullWidth},canBeFixedPosition:!1,mobileConversionConfig:{nestOverlayingSiblings:!1,hideWhenEmptyBackgroundContainer:!0,filterChildrenWhenHidden:!0,isScreenWidth:!0,marginX:0,category:"columns"}}}),define("documentServices/componentsMetaData/components/textInputMetadata",["lodash","documentServices/componentsMetaData/components/baseInputMetadata"],function(e,t){"use strict";return e.assign({},t)}),define("documentServices/componentsMetaData/components/textAreaMetadata",["lodash","documentServices/componentsMetaData/components/baseInputMetadata"],function(e,t){"use strict";return e.assign({},t)}),define("documentServices/componentsMetaData/components/fileUploaderMetaData",[],function(){"use strict";return{disableable:!0}}),define("documentServices/componentsMetaData/components/checkboxMetadata",["lodash","documentServices/componentsMetaData/components/baseInputMetadata"],function(e,t){"use strict";return e.assign({},t,{mobileConversionConfig:{category:"graphic",inlineWhenGrouped:!0},resizableSides:[],layoutLimits:{minHeight:12,minWidth:12,aspectRatio:1}})}),define("documentServices/componentsMetaData/components/datePickerMetadata",["utils","lodash"],function(e,t){"use strict";return{layoutLimits:function(a,r){var o=a.siteAPI.getSiteMeasureMap()||{},n=r.id;return{minWidth:t.get(o,["minWidth",n],e.siteConstants.COMP_SIZE.MIN_WIDTH),minHeight:t.get(o,["minHeight",n],e.siteConstants.COMP_SIZE.MIN_HEIGHT)}},disableable:!0}}),define("documentServices/componentsMetaData/components/columnMetaData",["lodash","documentServices/constants/constants","documentServices/dataModel/dataModel"],function(e,t,a){"use strict";return{duplicatable:function(e,t,a){if(e.siteAPI.isMobileView())return!1;var r=e.pointers.isSamePointer(e.pointers.components.getParent(t),a),o=a&&e.pointers.components.getChildren(a).length;return r&&o<5},groupable:!1,enforceContainerChildLimitsByWidth:!1,enforceContainerChildLimitsByHeight:!0,anchors:{to:{allow:!0,lock:t.ANCHORS.LOCK_CONDITION.NEVER},from:{allow:!1,lock:t.ANCHORS.LOCK_CONDITION.ALWAYS}},isContainCheckRecursive:!1,mobileConversionConfig:{structuralItem:!0,filterChildrenWhenHidden:!0,stretchHorizontally:!0,minHeight:200,category:"column",preserveAspectRatio:!1,hideWhenEmptyBackgroundContainer:!0,fixedSize:function(t,r,o){var n=r.designQuery&&a.getDesignItemById(t,r.designQuery.replace("#",""),o),i=e.get(n,["background","mediaRef"]);return(i=i&&(i.posterImageRef||i)||{}).height&&i.width?{width:320,height:320*i.height/i.width}:null}}}}),define("documentServices/componentsMetaData/components/mediaPlayerMetaData",["lodash","documentServices/componentsMetaData/metaDataUtils"],function(e,t){"use strict";var a=["wysiwyg.viewer.components.MediaControls","wysiwyg.viewer.components.MediaOverlayControls"];return{rotatable:!1,canContain:function(r,o,n){var i=t.getComponentType(r,n);return e.includes(a,i)},canContainByStructure:function(t,r,o){var n=o.componentType;return e.includes(a,n)},enforceContainerChildLimitsByWidth:!1,enforceContainerChildLimitsByHeight:!1,preserveAspectRatio:!0,ignoreChildrenOnProportionalResize:["wysiwyg.viewer.components.MediaControls"],layoutLimits:{minWidth:240,maxWidth:1920,minHeight:240,maxHeight:1920},mobileConversionConfig:{filterChildrenWhenHidden:!0,fixedSize:function(e,t){return{width:320,height:t.layout.height*(320/t.layout.width)}}}}}),define("documentServices/componentsMetaData/components/mediaControlsMetaData",[],function(){"use strict";return{anchors:{to:!1,from:!1},dockable:!1,alignable:!1,removable:!1,groupable:!1,duplicatable:!1,canBeFixedPosition:!1,mobileConversionConfig:{}}}),define("documentServices/componentsMetaData/components/mediaOverlayControlsMetaData",[],function(){"use strict";return{anchors:{to:!1,from:!1},resizableSides:[],dockable:!1,alignable:!1,removable:!1,groupable:!1,duplicatable:!1,canBeFixedPosition:!1,enforceMaxDimensionsOnProportionalResize:!0,layoutLimits:function(){return{minWidth:50,minHeight:50,aspectRatio:1}}}}),define("documentServices/platform/common/constants",[],function(){"use strict";return{Intents:{PLATFORM_WORKER:"PLATFORM_WORKER"},AppIds:{EDITOR:"editor"},MessageTypes:{WORKER_ALIVE:"workerAlive",SDK_READY:"sdkReady",SET_MANIFEST:"setManifest",TRIGGER_EVENT:"triggerEvent",ADD_APPS:"addApps",VIEWER_INFO_CHANGED:"viewerInfoChanged",ADD_APP_COMPLETED:"addAppCompleted",GET_INSTALLED_APPS:"getInstalledApps",SET_APP_PUBLIC_API:"setAppPublicAPI",GET_IS_PLATFORM_APP_INSTALLED:"getIsPlatformAppInstalled"},EVENTS:{COMPONENT_DELETED:"componentDeleted"},Controller:{DEFAULT_STATE:"default"},APPS:{DATA_BINDING:{appDefId:"dataBinding"},DYNAMIC_PAGES:{appDefId:"wix-code"},SANTA_MEMBERS:{appDefId:"14cc59bc-f0b7-15b8-e1c7-89ce41d0e0c9"}}}}),define("documentServices/appControllerData/appControllerData",["lodash","documentServices/dataModel/dataModel","documentServices/platform/common/constants","documentServices/utils/utils"],function(e,t,a,r){"use strict";var o="platform.components.AppController";function n(e,a){if(r.getComponentType(e,a)!==o)throw new Error("controllerRef component type is invalid - should be an AppController");return t.getDataItem(e,a)}function i(e,t){var a=n(e,t);return a.settings?JSON.parse(a.settings):{}}function s(e,a,n){if(r.getComponentType(e,a)!==o)throw new Error("controllerRef component type is invalid - should be an AppController");t.updateDataItem(e,a,n)}function l(e,t,a){var r=void 0;try{r=JSON.stringify(a)}catch(e){throw new Error("Invalid settings item - should be JSON stringifiable")}s(e,t,{settings:r})}function u(e,t){var r=e.pointers.platform.getAppStatePointer();return e.dal.get(e.pointers.getInnerPointer(r,t))||a.Controller.DEFAULT_STATE}function c(t,r,o,n){var i=u(t,r),s=t.pointers.platform.getControllerStageDataPointer(n,o,i),l=t.dal.get(s);if(i===a.Controller.DEFAULT_STATE)return l;var c=t.pointers.platform.getControllerStageDataPointer(n,o,a.Controller.DEFAULT_STATE),d=t.dal.get(c);return e.defaults({},l,d)}return{setSettings:l,getSettings:i,setSettingsIn:function(t,a,r,o){var n=i(t,a);e.set(n,r,o),l(t,a,n)},getSettingsIn:function(t,a,r){var o=i(t,a);return e.get(o,r)},getName:function(t,a){return e.get(n(t,a),"name")},setName:function(e,t,a){s(e,t,{name:a})},setState:function(t,a){var r=t.pointers.platform.getAppStatePointer();e.forEach(a,function(a,o){e.forEach(a,function(e){t.dal.full.set(t.pointers.getInnerPointer(r,e.id),o)})})},getState:function(e,t){return u(e,t.id)},getControllerStageDataByControllerRef:function(e,t){if(t){var a=n(e,t),r=a.applicationId,o=a.controllerType;return c(e,t.id,o,r)}},getControllerStageData:c}}),define("documentServices/componentsMetaData/components/controllerMetaData",["lodash","coreUtils","documentServices/componentsMetaData/metaDataUtils","documentServices/appControllerData/appControllerData","documentServices/dataModel/dataModel"],function(e,t,a,r,o){"use strict";var n=["core.components.Page","mobile.core.components.Page","wixapps.integration.components.AppPage"];function i(t,r,o){var i=a.getComponentType(t,r);return o&&a.isHeaderOrFooterOrPageOrMasterPage(i)||e.includes(n,i)||a.isPopupPageOrPopupContainer(t,r)}function s(t,a,o,n){var i=r.getControllerStageData(t,a,o.controllerType,o.applicationId);return e.get(i,n)}return{containable:function(e,t,a){var r=o.getDataItem(e,t);return i(e,a,!1!==s(e,t.id,r,"enableShowOnAllPages"))},containableByStructure:function(e,t,a){return i(e,a,!0)},container:!1,canContain:!1,canContainByStructure:!1,resizableSides:[],alignable:!1,hiddenable:!1,collapsible:!1,fullWidth:!1,fullWidthByStructure:!1,canBeFixedPosition:!1,groupable:!1,mobileConversionConfig:{nonLayoutComponent:!0},removable:function(e,t){var a=o.getDataItem(e,t);return!1!==s(e,t.id,a,"removable")},duplicatable:function(e,t){var a=o.getDataItem(e,t);return!1!==s(e,t.id,a,"duplicatable")},nickname:function(t,a){var r=o.getDataItem(t,a);return e.get(r,"controllerType")},isVisible:function(e,a){var n=o.getDataItem(e,a),i=n.applicationId,s=n.controllerType,l=e.pointers.platform.getAppManifestPointer(n.applicationId),u=!!e.dal.get(l),c=r.getControllerStageData(e,a.id,s,i);return t.appManifest.controllerStageData.isControllerVisible(c,u)}}}),define("documentServices/componentsMetaData/components/wixappsOnlyMetaData",[],function(){"use strict";return{containableByStructure:!1}}),define("documentServices/componentsMetaData/components/hoverboxMetaData",["lodash","utils","documentServices/constants/constants","documentServices/componentsMetaData/metaDataUtils"],function(e,t,a,r){"use strict";function o(e){return!r.isContainer(e)&&r.isComponentSuitableForNonRenderingState(e)}return{canContainByStructure:function(a,n,i){return function(a){var n=t.objectUtils.cloneDeep(a.components),i=a.componentType;if(!n)return o(i);var s=[i].concat(r.getChildrenTypesDeep(n));return e.every(s,o)}(i)},canContain:function(t,a,n){return function(t,a){var n=t.pointers.components.getChildrenRecursively(a);return e.every(n.concat(a),function(e){return o(r.getComponentType(t,e))})}(t,n)},mobileConversionConfig:{nestOverlayingSiblings:!1,createMobilePresets:!1,filterChildrenWhenHidden:!0}}}),define("documentServices/componentsMetaData/components/repeaterMetaData",["lodash","utils","documentServices/constants/constants","documentServices/componentsMetaData/metaDataUtils"],function(e,t,a,r){"use strict";var o={"wysiwyg.viewer.components.Repeater":!0,"wysiwyg.viewer.components.menus.DropDownMenu":!0,"wysiwyg.common.components.verticalmenu.viewer.VerticalMenu":!0,"wysiwyg.common.components.verticalanchorsmenu.viewer.VerticalAnchorsMenu":!0,"wysiwyg.viewer.components.FlashComponent":!0,"wysiwyg.viewer.components.AdminLoginButton":!0,"wysiwyg.viewer.components.LoginButton":!0,"wysiwyg.viewer.components.WFacebookLike":!0,"wysiwyg.common.components.facebooklikebox.viewer.FacebookLikeBox":!0,"wysiwyg.viewer.components.WFacebookComment":!0,"wysiwyg.viewer.components.WGooglePlusOne":!0,"wysiwyg.viewer.components.GoogleMap":!0,"wysiwyg.viewer.components.WTwitterFollow":!0,"wysiwyg.viewer.components.WTwitterTweet":!0,"wysiwyg.viewer.components.FlickrBadgeWidget":!0,"wysiwyg.common.components.pinterestpinit.viewer.PinterestPinIt":!0,"wysiwyg.common.components.pinitpinwidget.viewer.PinItPinWidget":!0,"wysiwyg.viewer.components.PinterestFollow":!0,"wysiwyg.viewer.components.SoundCloudWidget":!0,"wysiwyg.common.components.spotifyfollow.viewer.SpotifyFollow":!0,"wysiwyg.common.components.spotifyplayer.viewer.SpotifyPlayer":!0,"wysiwyg.viewer.components.VKShareButton":!0,"wysiwyg.common.components.youtubesubscribebutton.viewer.YouTubeSubscribeButton":!0,"tpa.viewer.components.Accordion":!0,"tpa.viewer.components.Masonry":!0,"tpa.viewer.components.Collage":!0,"tpa.viewer.components.Impress":!0,"tpa.viewer.components.Freestyle":!0,"tpa.viewer.components.Honeycomb":!0,"tpa.viewer.components.StripShowcase":!0,"tpa.viewer.components.StripSlideshow":!0,"tpa.viewer.components.Thumbnails":!0,"wysiwyg.viewer.components.tpapps.TPA3DGallery":!0,"wysiwyg.viewer.components.tpapps.TPA3DCarousel":!0,"wysiwyg.viewer.components.Video":!0,"wysiwyg.viewer.components.HtmlComponent":!0,"wysiwyg.viewer.components.BoxSlideShow":!0,"wysiwyg.viewer.components.HoverBox":!0,"wysiwyg.viewer.components.inputs.TextInput":!0,"wysiwyg.viewer.components.inputs.TextAreaInput":!0,"wysiwyg.viewer.components.inputs.ComboBoxInput":!0,"wysiwyg.viewer.components.inputs.Checkbox":!0,"wysiwyg.viewer.components.inputs.RadioButton":!0,"wysiwyg.viewer.components.inputs.RadioGroup":!0,"wysiwyg.viewer.components.inputs.DatePicker":!0,"wysiwyg.viewer.components.inputs.FileUploader":!0,"wysiwyg.viewer.components.MediaPlayer":!0,"wysiwyg.viewer.components.tpapps.TPAWidget":!0,"wysiwyg.viewer.components.tpapps.TPASection":!0,"wysiwyg.viewer.components.tpapps.TPAMultiSection":!0,"wysiwyg.viewer.components.tpapps.TPAGluedWidget":!0,"tpa.viewer.components.tpapps.TPASection":!0,"tpa.viewer.components.tpapps.TPAMultiSection":!0,"tpa.viewer.components.tpapps.TPAWidget":!0,"tpa.viewer.components.tpapps.TPAGluedWidget":!0,"wixapps.integration.components.AppPart2":!0};function n(t,a){var r=t.pointers.full.components.getChildren(a);return e.size(r)>0}function i(e){return!o[e]}return{enforceContainerChildLimitsByWidth:!1,layoutLimits:function(t,a){var r=e.head(t.pointers.full.components.getChildren(a));return{minWidth:t.dal.full.get(t.pointers.getInnerPointer(r,["layout"])).width}},canBeStretched:!0,resizableSides:[a.RESIZE_SIDES.LEFT,a.RESIZE_SIDES.RIGHT],canContain:function(t,a,o,s){var l=s.id===a.id,u=t.pointers.components.getChildrenRecursivelyRightLeftRootIncludingRoot(o);return!(l&&n(t,a))&&(c=t,d=u,e.every(d,function(e){return i(r.getComponentType(c,e))}));var c,d},canContainByStructure:function(a,o,s,l){var u=l.id===o.id,c=t.objectUtils.cloneDeep(s.components),d=s.componentType,p=c?[d].concat(r.getChildrenTypesDeep(c)):[d];return!(u&&n(a,o))&&e.every(p,i)},mobileConversionConfig:{filterChildrenWhenHidden:!0,stretchHorizontally:!0}}}),define("documentServices/componentsMetaData/components/mediaContainerMetaData",["lodash","documentServices/constants/constants","documentServices/componentsMetaData/metaDataUtils"],function(e,t,a){"use strict";return{mobileConversionConfig:{stretchHorizontally:function(e,r,o){var n=e.pointers.components.getPage(o,t.VIEW_MODES.DESKTOP),i=e.pointers.full.components.getComponent(r.id,n),s=e.pointers.full.components.getParent(i);return"wysiwyg.viewer.components.Repeater"===(s?a.getComponentType(e,s):null)}}}}),define("documentServices/componentsMetaData/components/gridMetaData",["documentServices/constants/constants"],function(e){"use strict";var t=Object.freeze({MANUAL:"manual",AUTO:"auto"});return{defaultMobileProperties:{columnLayout:"manual"},mobileConversionConfig:{fixedSize:function(e,t){return{height:t.layout.height}}},resizableSides:function(a,r){var o=[e.RESIZE_SIDES.LEFT,e.RESIZE_SIDES.RIGHT],n=a.dal.get(r),i=a.pointers.components.getPageOfComponent(r),s=i&&i.id,l=a.pointers.data.getPropertyItem(n.propertyQuery,s);return a.dal.get(l).heightLayout!==t.AUTO&&o.push(e.RESIZE_SIDES.TOP,e.RESIZE_SIDES.BOTTOM),o}}}),define("documentServices/componentsMetaData/components/languageSelectorMetaData",[],function(){"use strict";return{mobileConversionConfig:{hideByDefault:!0}}}),define("documentServices/componentsMetaData/components/toggleSwitchMetaData",["lodash","documentServices/componentsMetaData/components/baseInputMetadata"],function(e,t){"use strict";return e.assign({},t,{resizableSides:[],layoutLimits:{minHeight:24,maxHeight:128,minWidth:48,maxWidth:256,aspectRatio:2}})}),define("documentServices/componentsMetaData/components/sliderMetaData",[],function(){"use strict";return{rotatable:!1}}),define("documentServices/componentsMetaData/components/formContainerMetaData",[],function(){"use strict";return{mobileConversionConfig:{category:"boxContainer",minHeight:50,isSuitableForProportionGrouping:!0,filterChildrenWhenHidden:!0}}}),define("documentServices/componentsMetaData/metaDataMap",["documentServices/componentsMetaData/components/ebayItemsBySellerMetaData","documentServices/componentsMetaData/components/verticalAnchorsMenuMetaData","documentServices/componentsMetaData/components/adminLoginButtonMetaData","documentServices/componentsMetaData/components/bgImageStripMetaData","documentServices/componentsMetaData/components/contactFormMetaData","documentServices/componentsMetaData/components/facebookLikeBoxMetaData","documentServices/componentsMetaData/components/facebookLikeMetaData","documentServices/componentsMetaData/components/facebookShareMetaData","documentServices/componentsMetaData/components/fiveGridLineMetaData","documentServices/componentsMetaData/components/flickrBadgeWidgetMetaData","documentServices/componentsMetaData/components/headerMetaData","documentServices/componentsMetaData/components/footerMetaData","documentServices/componentsMetaData/components/imageButtonMetaData","documentServices/componentsMetaData/components/itunesButtonMetaData","documentServices/componentsMetaData/components/linkBarMetaData","documentServices/componentsMetaData/components/loginSocialBarMetadata","documentServices/componentsMetaData/components/onlineClockMetaData","documentServices/componentsMetaData/components/pageGroupMetaData","documentServices/componentsMetaData/components/pageMetaData","documentServices/componentsMetaData/components/groupMetaData","documentServices/componentsMetaData/components/flashComponentMetaData","documentServices/componentsMetaData/components/pagesContainerMetaData","documentServices/componentsMetaData/components/payPalButtonMetaData","documentServices/componentsMetaData/components/pinItPinWidgetMetaData","documentServices/componentsMetaData/components/pinterestFollowMetaData","documentServices/componentsMetaData/components/pinterestPinItMetaData","documentServices/componentsMetaData/components/rssButtonMetaData","documentServices/componentsMetaData/components/screenWidthContainerMetaData","documentServices/componentsMetaData/components/stripContainerMetaData","documentServices/componentsMetaData/components/singleAudioPlayerMetaData","documentServices/componentsMetaData/components/siteButtonMetaData","documentServices/componentsMetaData/components/siteSegmentContainerMetaData","documentServices/componentsMetaData/components/siteRegionContainerMetaData","documentServices/componentsMetaData/components/siteStructureMetaData","documentServices/componentsMetaData/components/skypeCallButtonMetaData","documentServices/componentsMetaData/components/slideShowGalleryMetaData","documentServices/componentsMetaData/components/thumbnailsMetaData","documentServices/componentsMetaData/components/accordionMetaData","documentServices/componentsMetaData/components/googleMapMetaData","documentServices/componentsMetaData/components/spotifyFollowMetaData","documentServices/componentsMetaData/components/subscribeFormMetaData","documentServices/componentsMetaData/components/svgShapeMetaData","documentServices/componentsMetaData/components/vectorImageMetaData","documentServices/componentsMetaData/components/tinyMenuMetaData","documentServices/componentsMetaData/components/backToTopButtonMetaData","documentServices/componentsMetaData/components/verticalLineMetaData","documentServices/componentsMetaData/components/vKShareButtonMetaData","documentServices/componentsMetaData/components/weatherMetaData","documentServices/componentsMetaData/components/wFacebookCommentMetaData","documentServices/componentsMetaData/components/disqusCommentsMetaData","documentServices/componentsMetaData/components/radioGroupMetaData","documentServices/componentsMetaData/components/wGooglePlusOneMetaData","documentServices/componentsMetaData/components/wPhotoMetaData","documentServices/componentsMetaData/components/wTwitterFollowMetaData","documentServices/componentsMetaData/components/wTwitterTweetMetaData","documentServices/componentsMetaData/components/youTubeSubscribeButtonMetaData","documentServices/componentsMetaData/components/tpaWidgetMetaData","documentServices/componentsMetaData/components/tpaGluedWidgetMetaData","documentServices/componentsMetaData/components/tpaSectionMetaData","documentServices/componentsMetaData/components/appPageMetaData","documentServices/componentsMetaData/components/appPartMetaData","documentServices/componentsMetaData/components/appPart2MetaData","documentServices/componentsMetaData/components/anchorMetaData","documentServices/componentsMetaData/components/masonryMetaData","documentServices/componentsMetaData/components/freestyleMetaData","documentServices/componentsMetaData/components/stripGallerySlideShowMetaData","documentServices/componentsMetaData/components/stripShowCaseMetaData","documentServices/componentsMetaData/components/collageMetaData","documentServices/componentsMetaData/components/3DCarouselMetaData","documentServices/componentsMetaData/components/videoMetaData","documentServices/componentsMetaData/components/matrixGalleryMetaData","documentServices/componentsMetaData/components/documentMediaMetaData","documentServices/componentsMetaData/components/spotifyPlayerMetaData","documentServices/componentsMetaData/components/soundCloudMetaData","documentServices/componentsMetaData/components/wRichTextMetaData","documentServices/componentsMetaData/components/verticalMenuMetaData","documentServices/componentsMetaData/components/dropDownMenuMetaData","documentServices/componentsMetaData/components/sliderGalleryMetaData","documentServices/componentsMetaData/components/PaginatedGridGalleryMetaData","documentServices/componentsMetaData/components/containerMetaData","documentServices/componentsMetaData/components/popupContainerMetaData","documentServices/componentsMetaData/components/audioPlayerMetaData","documentServices/componentsMetaData/components/clipArtMetaData","documentServices/componentsMetaData/components/boxSlideShowSlideMetaData","documentServices/componentsMetaData/components/boxSlideShowMetaData","documentServices/componentsMetaData/components/stripSlideShowSlideMetaData","documentServices/componentsMetaData/components/quickActionBarMetaData","documentServices/componentsMetaData/components/quickActionBarItemMetaData","documentServices/componentsMetaData/components/stripSlideShowMetaData","documentServices/componentsMetaData/components/stripColumnsMetaData","documentServices/componentsMetaData/components/textInputMetadata","documentServices/componentsMetaData/components/textAreaMetadata","documentServices/componentsMetaData/components/fileUploaderMetaData","documentServices/componentsMetaData/components/checkboxMetadata","documentServices/componentsMetaData/components/datePickerMetadata","documentServices/componentsMetaData/components/columnMetaData","documentServices/componentsMetaData/components/mediaPlayerMetaData","documentServices/componentsMetaData/components/mediaControlsMetaData","documentServices/componentsMetaData/components/mediaOverlayControlsMetaData","documentServices/componentsMetaData/components/controllerMetaData","documentServices/componentsMetaData/components/wixappsOnlyMetaData","documentServices/componentsMetaData/components/hoverboxMetaData","documentServices/componentsMetaData/components/repeaterMetaData","documentServices/componentsMetaData/components/mediaContainerMetaData","documentServices/componentsMetaData/components/gridMetaData","documentServices/componentsMetaData/components/languageSelectorMetaData","documentServices/componentsMetaData/components/toggleSwitchMetaData","documentServices/componentsMetaData/components/sliderMetaData","documentServices/componentsMetaData/components/formContainerMetaData"],function(e,t,a,r,o,n,i,s,l,u,c,d,p,g,f,m,y,_,v,S,O,h,A,E,C,P,R,I,D,T,w,b,L,M,B,V,x,F,k,H,N,U,G,W,X,Z,z,Y,K,J,j,Q,q,$,ee,te,ae,re,oe,ne,ie,se,le,ue,ce,de,pe,ge,fe,me,ye,_e,ve,Se,Oe,he,Ae,Ee,Ce,Pe,Re,Ie,De,Te,we,be,Le,Me,Be,Ve,xe,Fe,ke,He,Ne,Ue,Ge,We,Xe,Ze,ze,Ye,Ke,Je,je,Qe,qe,$e,et){"use strict";var tt={"wysiwyg.viewer.components.HeaderContainer":c,"wysiwyg.viewer.components.EbayItemsBySeller":e,"wysiwyg.viewer.components.FooterContainer":d,"wysiwyg.viewer.components.AdminLoginButton":a,"wysiwyg.viewer.components.BgImageStrip":r,"wysiwyg.viewer.components.ContactForm":o,"wysiwyg.viewer.components.DynamicContactForm":o,"wysiwyg.common.components.facebooklikebox.viewer.FacebookLikeBox":n,"wysiwyg.viewer.components.WFacebookLike":i,"wysiwyg.viewer.components.FacebookShare":s,"wysiwyg.viewer.components.FiveGridLine":l,"wysiwyg.viewer.components.FlickrBadgeWidget":u,"wysiwyg.common.components.imagebutton.viewer.ImageButton":p,"wysiwyg.viewer.components.ItunesButton":g,"wysiwyg.viewer.components.LinkBar":f,"wysiwyg.viewer.components.LoginSocialBar":m,"wysiwyg.common.components.onlineclock.viewer.OnlineClock":y,"wysiwyg.viewer.components.PageGroup":_,"mobile.core.components.Page":v,"wysiwyg.viewer.components.Group":S,"wysiwyg.viewer.components.FlashComponent":O,"wysiwyg.viewer.components.PagesContainer":h,"wysiwyg.viewer.components.PayPalButton":A,"wysiwyg.common.components.pinitpinwidget.viewer.PinItPinWidget":E,"wysiwyg.viewer.components.PinterestFollow":C,"wysiwyg.common.components.pinterestpinit.viewer.PinterestPinIt":P,"wysiwyg.common.components.rssbutton.viewer.RSSButton":R,"wysiwyg.viewer.components.ScreenWidthContainer":I,"wysiwyg.viewer.components.StripContainer":D,"wysiwyg.common.components.singleaudioplayer.viewer.SingleAudioPlayer":T,"wysiwyg.viewer.components.SiteButton":w,"wysiwyg.viewer.components.SiteSegmentContainer":b,"wysiwyg.viewer.components.SiteRegionContainer":L,"wysiwyg.viewer.components.WSiteStructure":M,"wysiwyg.common.components.skypecallbutton.viewer.SkypeCallButton":B,"wysiwyg.viewer.components.SlideShowGallery":V,"tpa.viewer.components.Thumbnails":x,"tpa.viewer.components.Accordion":F,"wysiwyg.viewer.components.GoogleMap":k,"wysiwyg.common.components.spotifyfollow.viewer.SpotifyFollow":H,"wysiwyg.common.components.subscribeform.viewer.SubscribeForm":N,"wysiwyg.viewer.components.svgshape.SvgShape":U,"wysiwyg.viewer.components.VectorImage":G,"wysiwyg.viewer.components.mobile.TinyMenu":W,"wysiwyg.common.components.backtotopbutton.viewer.BackToTopButton":X,"wysiwyg.viewer.components.VerticalLine":Z,"wysiwyg.viewer.components.VKShareButton":z,"wysiwyg.common.components.weather.viewer.Weather":Y,"wysiwyg.viewer.components.WFacebookComment":K,"wysiwyg.common.components.disquscomments.viewer.DisqusComments":J,"wysiwyg.viewer.components.WGooglePlusOne":Q,"wysiwyg.viewer.components.WPhoto":q,"wysiwyg.viewer.components.ClipArt":De,"wysiwyg.viewer.components.WTwitterFollow":$,"wysiwyg.viewer.components.WTwitterTweet":ee,"wysiwyg.common.components.youtubesubscribebutton.viewer.YouTubeSubscribeButton":te,"wysiwyg.viewer.components.tpapps.TPAWidget":ae,"wysiwyg.viewer.components.tpapps.TPASection":oe,"wysiwyg.viewer.components.tpapps.TPAGluedWidget":re,"wysiwyg.viewer.components.tpapps.TPAMultiSection":oe,"wixapps.integration.components.AppPage":ne,"wixapps.integration.components.AppPart":ie,"wixapps.integration.components.AppPart2":se,"wysiwyg.common.components.anchor.viewer.Anchor":le,"tpa.viewer.components.StripSlideshow":de,"tpa.viewer.components.StripShowcase":pe,"tpa.viewer.components.Collage":ge,"tpa.viewer.components.Masonry":ue,"tpa.viewer.components.Freestyle":ce,"wysiwyg.viewer.components.tpapps.TPA3DCarousel":fe,"wysiwyg.viewer.components.Video":me,"wysiwyg.viewer.components.MatrixGallery":ye,"wysiwyg.viewer.components.documentmedia.DocumentMedia":_e,"wysiwyg.common.components.spotifyplayer.viewer.SpotifyPlayer":ve,"wysiwyg.viewer.components.SoundCloudWidget":Se,"wysiwyg.viewer.components.WRichText":Oe,"wysiwyg.common.components.verticalmenu.viewer.VerticalMenu":he,"wysiwyg.viewer.components.menus.DropDownMenu":Ae,"wysiwyg.viewer.components.SliderGallery":Ee,"wysiwyg.viewer.components.PaginatedGridGallery":Ce,"mobile.core.components.Container":Pe,"wysiwyg.viewer.components.PopupContainer":Re,"wysiwyg.viewer.components.PopupCloseTextButton":w,"wysiwyg.viewer.components.AudioPlayer":Ie,"wysiwyg.viewer.components.BoxSlideShowSlide":Te,"wysiwyg.viewer.components.BoxSlideShow":we,"wysiwyg.viewer.components.StripContainerSlideShowSlide":be,"wysiwyg.viewer.components.QuickActionBar":Le,"wysiwyg.viewer.components.QuickActionBarItem":Me,"wysiwyg.viewer.components.StripContainerSlideShow":Be,"wysiwyg.viewer.components.StripColumnsContainer":Ve,"wysiwyg.common.components.verticalanchorsmenu.viewer.VerticalAnchorsMenu":t,"wysiwyg.viewer.components.inputs.TextInput":xe,"wysiwyg.viewer.components.inputs.TextAreaInput":Fe,"wysiwyg.viewer.components.inputs.FileUploader":ke,"wysiwyg.viewer.components.inputs.ComboBoxInput":xe,"wysiwyg.viewer.components.inputs.Checkbox":He,"wysiwyg.viewer.components.inputs.DatePicker":Ne,"wysiwyg.viewer.components.Column":Ue,"wysiwyg.viewer.components.MediaControls":We,"wysiwyg.viewer.components.MediaOverlayControls":Xe,"wysiwyg.viewer.components.MediaPlayer":Ge,"platform.components.AppController":Ze,"wysiwyg.viewer.components.ImageButtonWithText":ze,"wysiwyg.viewer.components.inputs.RadioButton":xe,"wysiwyg.viewer.components.HoverBox":Ye,"wysiwyg.viewer.components.inputs.RadioGroup":j,"wysiwyg.viewer.components.Repeater":Ke,"wysiwyg.viewer.components.MediaContainer":Je,"wysiwyg.viewer.components.Grid":je,"wysiwyg.viewer.components.LanguageSelector":Qe,"wixui.ToggleSwitch":qe,"wixui.Slider":$e,"wysiwyg.viewer.components.FormContainer":et};return{mobileReusableMetaDataMap:{"tpa.viewer.components.tpapps.TPAGluedWidget":"wysiwyg.viewer.components.tpapps.TPAGluedWidget","tpa.viewer.components.tpapps.TPAWidget":"wysiwyg.viewer.components.tpapps.TPAWidget"},getMap:function(){return tt}}}),define("documentServices/privateServices/idGenerator",["utils"],function(e){"use strict";return{getStyleIdToAdd:function(t,a,r,o,n){return n||e.guidUtils.getUniqueId("style","-")}}}),define("documentServices/theme/skins/editorSkinsData",[],function(){"use strict";var e={};return e["wixui.skins.RichTextArea"]={shd:{type:"BOX_SHADOW",defaultValue:"0 0 0 rgba(0, 0, 0, 0)",state:"regular"},placeHolderTextColor:{type:"TEXT_COLOR",defaultValue:"gray",state:"regular"},fnt:{type:"FONT",defaultValue:"font_8",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"#ffffff",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"#e3e3e3",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},textColor:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},iconsColor:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},toolbarBg:{type:"BG_COLOR_ALPHA",defaultValue:"color_1",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"#ffffff",state:"hover"},brwh:{type:"BORDER_SIZE",defaultValue:"1px",state:"hover"},brdh:{type:"BORDER_COLOR_ALPHA",defaultValue:"#a3d9f6",state:"hover"},toolbarBgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_1",state:"hover"},bgf:{type:"BG_COLOR_ALPHA",defaultValue:"#ffffff",state:"focus"},brwf:{type:"BORDER_SIZE",defaultValue:"1px",state:"focus"},brdf:{type:"BORDER_COLOR_ALPHA",defaultValue:"#a3d9f6",state:"focus"},toolbarBgf:{type:"BG_COLOR_ALPHA",defaultValue:"color_1",state:"focus"},bge:{type:"BG_COLOR_ALPHA",defaultValue:"#ffffff",state:"focus"},brwe:{type:"BORDER_SIZE",defaultValue:"1px",state:"focus"},brde:{type:"BORDER_COLOR_ALPHA",defaultValue:"#a3d9f6",state:"focus"},toolbarBge:{type:"BG_COLOR_ALPHA",defaultValue:"color_1",state:"focus"},bgd:{type:"BG_COLOR_ALPHA",defaultValue:"#CCCCCC",state:"regular"},brwd:{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"},brdd:{type:"BORDER_COLOR_ALPHA",defaultValue:"#CCCCCC",state:"regular"},textColorD:{type:"TEXT_COLOR",defaultValue:"#FFFFFF",state:"regular"},toolbarBgd:{type:"BG_COLOR_ALPHA",defaultValue:"#CCCCCC",state:"regular"},activeColor:{type:"TEXT_COLOR",defaultValue:"blue",state:"regular"}},e["wixui.skins.ToggleSwitch"]={outerLabelBorderSizeFocus:{type:"BORDER_SIZE",defaultValue:"0",state:"focus"},outerLabelBorderColorFocus:{type:"COLOR_ALPHA",defaultValue:"color_23",state:"focus"},backgroundColorFocus:{type:"COLOR_ALPHA",defaultValue:"color_6",state:"focus"},outerLabelBorderSizeDisabled:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},outerLabelBorderColorDisabled:{type:"COLOR_ALPHA",defaultValue:"color_20",state:"regular"},backgroundColorDisabled:{type:"COLOR_ALPHA",defaultValue:"color_3",state:"regular"},innerLabelBorderSizeDisabled:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},innerLabelBorderColorDisabled:{type:"COLOR_ALPHA",defaultValue:"color_25",state:"regular"},innerLabelBackgroundColorDisabled:{type:"COLOR_ALPHA",defaultValue:"color_15",state:"regular"},colorCheckedDisabled:{type:"COLOR_ALPHA",defaultValue:"color_9",state:"regular"},colorDisabled:{type:"COLOR_ALPHA",defaultValue:"color_8",state:"regular"},outerLabelBorderSizeHoverChecked:{type:"BORDER_SIZE",defaultValue:"0",state:"hover"},outerLabelBorderColorHoverChecked:{type:"COLOR_ALPHA",defaultValue:"color_22",state:"hover"},backgroundColorHoverChecked:{type:"COLOR_ALPHA",defaultValue:"color_1",state:"hover"},innerLabelBorderSizeHoverChecked:{type:"BORDER_SIZE",defaultValue:"0",state:"hover"},innerLabelBorderColorHoverChecked:{type:"COLOR_ALPHA",defaultValue:"color_27",state:"hover"},innerLabelBackgroundColorHoverChecked:{type:"COLOR_ALPHA",defaultValue:"color_17",state:"hover"},colorHoverChecked:{type:"COLOR_ALPHA",defaultValue:"color_11",state:"hover"},outerLabelBorderSizeHover:{type:"BORDER_SIZE",defaultValue:"0",state:"hover"},outerLabelBorderColorHover:{type:"COLOR_ALPHA",defaultValue:"color_21",state:"hover"},backgroundColorHover:{type:"COLOR_ALPHA",defaultValue:"color_2",state:"hover"},innerLabelBorderSizeHover:{type:"BORDER_SIZE",defaultValue:"0",state:"hover"},innerLabelBorderColorHover:{type:"COLOR_ALPHA",defaultValue:"color_26",state:"hover"},innerLabelBackgroundColorHover:{type:"COLOR_ALPHA",defaultValue:"color_16",state:"hover"},colorHover:{type:"COLOR_ALPHA",defaultValue:"color_10",state:"hover"},outerLabelBorderSizeChecked:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},outerLabelBorderColorChecked:{type:"COLOR_ALPHA",defaultValue:"color_19",state:"regular"},backgroundColorChecked:{type:"COLOR_ALPHA",defaultValue:"color_4",state:"regular"},innerLabelBorderSizeChecked:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},innerLabelBorderColorChecked:{type:"COLOR_ALPHA",defaultValue:"color_24",state:"regular"},innerLabelBackgroundColorChecked:{type:"COLOR_ALPHA",defaultValue:"color_14",state:"regular"},colorChecked:{type:"COLOR_ALPHA",defaultValue:"color_7",state:"regular"},outerLabelBoxShadow:{type:"BOX_SHADOW",defaultValue:"1.5px 1.5px 1px rgba(0,0,0,0.2)",state:"regular"},outerLabelBorderSize:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},outerLabelBorderColor:{type:"COLOR_ALPHA",defaultValue:"color_18",state:"regular"},borderRadius:{type:"BORDER_RADIUS",defaultValue:"12px",state:"regular"},backgroundColor:{type:"COLOR_ALPHA",defaultValue:"color_5",state:"regular"},innerLabelBoxShadow:{type:"BOX_SHADOW",defaultValue:"1.5px 1.5px 1px rgba(0,0,0,0.2)",state:"regular"},innerLabelBorderSize:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},innerLabelBorderColor:{type:"COLOR_ALPHA",defaultValue:"color_23",state:"regular"},innerLabelBackgroundColor:{type:"COLOR_ALPHA",defaultValue:"color_13",state:"regular"},color:{type:"COLOR_ALPHA",defaultValue:"color_6",state:"regular"}},e["wysiwyg.common.components.anchor.viewer.skins.AnchorSkin"]={},e["wysiwyg.viewer.skins.FiveGridLineSkin"]={clr:{type:"COLOR_ALPHA",defaultValue:"color_3",state:"regular"}},e["wysiwyg.viewer.skins.line.ArrowLine"]={brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.line.ArrowRightLine"]={brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.line.DashedLine"]={lnw:{type:"BORDER_BOTTOM_SIZE",defaultValue:"2px",state:"regular"},brd:{type:"COLOR_ALPHA",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.line.DottedLine"]={lnw:{type:"BORDER_BOTTOM_SIZE",defaultValue:"2px",state:"regular"},brd:{type:"COLOR_ALPHA",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.line.DoubleLine"]={lnw1:{type:"BORDER_TOP_SIZE",defaultValue:"3px",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},lnw2:{type:"BORDER_BOTTOM_SIZE",defaultValue:"1px",state:"regular"},dst:{type:"PADDING_SIZE",defaultValue:"5px",state:"regular"}},e["wysiwyg.viewer.skins.line.DoubleLine2"]={},e["wysiwyg.viewer.skins.line.DoubleLine3"]={},e["wysiwyg.viewer.skins.line.FadeLine"]={},e["wysiwyg.viewer.skins.line.FadeNotchBottomLine"]={},e["wysiwyg.viewer.skins.line.FadeNotchTopLine"]={},e["wysiwyg.viewer.skins.line.FiveGridLine"]={},e["wysiwyg.viewer.skins.line.IronLine"]={lnw:{type:"HEIGHT_SIZE",defaultValue:"6px",state:"regular"},clr:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.line.NotchDashedLine"]={},e["wysiwyg.viewer.skins.line.NotchLine"]={},e["wysiwyg.viewer.skins.line.ShadowBottomLine"]={},e["wysiwyg.viewer.skins.line.ShadowTopLine"]={},e["wysiwyg.viewer.skins.line.SloppyLine"]={},e["wysiwyg.viewer.skins.line.SolidLine"]={lnw:{type:"BORDER_BOTTOM_SIZE",defaultValue:"2px",state:"regular"},brd:{type:"COLOR_ALPHA",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.line.ZigzagLineFlipSkin"]={zigzagsize:{type:"BG_SIZE",defaultValue:"10px",state:"regular"},brd:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.line.ZigzagLineSkin"]={zigzagsize:{type:"BG_SIZE",defaultValue:"10px",state:"regular"},brd:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"}},e["skins.core.ImageNewSkin"]={},e["skins.core.ImageNewSkinZoomable"]={},e["skins.core.ImageSkin"]={},e["skins.image.default"]={},e["wysiwyg.viewer.skins.PageGroupSkin"]={},e["wysiwyg.viewer.skins.screenwidthcontainer.AppleScreen"]={shd:{type:"BOX_SHADOW",defaultValue:"0 1px 3px rgba(0, 0, 0, 0.5)",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},brw:{type:"SIZE",defaultValue:"0",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.screenwidthcontainer.BevelScreen"]={shd:{type:"BOX_SHADOW",defaultValue:"inset 0 1px 1px rgba(255, 255, 255, 0.6), inset 0 -1px 1px rgba(0, 0, 0, 0.6), 0 0 5px rgba(0, 0, 0, 0.6)",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},brwt:{type:"SIZE",defaultValue:"0",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},brwb:{type:"SIZE",defaultValue:"0",state:"regular"}},e["wysiwyg.viewer.skins.screenwidthcontainer.BlankScreen"]={},e["wysiwyg.viewer.skins.screenwidthcontainer.BoxScreen"]={shd:{type:"BOX_SHADOW",defaultValue:"0 1px 3px rgba(0, 0, 0, 0.5)",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},brw:{type:"SIZE",defaultValue:"0",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.screenwidthcontainer.DefaultScreen"]={bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 0 5px rgba(0, 0, 0, 0.7)",state:"regular"},brwt:{type:"SIZE",defaultValue:"0",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},brwb:{type:"SIZE",defaultValue:"0",state:"regular"},bgctr:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"}},e["wysiwyg.viewer.skins.screenwidthcontainer.DoubleBorderScreen"]={bgPosition:{type:"SIZE",defaultValue:"0",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 0 5px rgba(0, 0, 0, 0.7)",state:"regular"},bordersPosition:{type:"SIZE",defaultValue:"6",state:"regular"},outerLineSize:{type:"BORDER_SIZE",defaultValue:"3",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},lineGap:{type:"SIZE",defaultValue:"5",state:"regular"},innerLineSize:{type:"BORDER_SIZE",defaultValue:"1",state:"regular"},brd2:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_14",state:"regular"}},e["wysiwyg.viewer.skins.screenwidthcontainer.GridScreen"]={bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},xxx:{type:"BG_COLOR_ALPHA",defaultValue:"color_1",state:"regular"}},e["wysiwyg.viewer.skins.screenwidthcontainer.InnerShadowScreen"]={brd:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},brw:{type:"SIZE",defaultValue:"0",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"inset 0 1px 2px rgba(0, 0, 0, 0.6), inset 0 -1px 1px rgba(255, 255, 255, 0.75)",state:"regular"}},e["wysiwyg.viewer.skins.screenwidthcontainer.IronScreen"]={bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 0 5px rgba(0, 0, 0, 0.7)",state:"regular"},shadow:{type:"BOX_SHADOW",defaultValue:"inset 0 4px 6px -4px rgba(255, 255, 255, 0.59), inset 0 1px 0 0 rgba(255, 255, 255, 0.59), inset 0 -5px 5px -5px rgba(255, 255, 255, 0.9)",state:"regular"}},e["wysiwyg.viewer.skins.screenwidthcontainer.LiftedBottomScreen"]={brd:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},brw:{type:"SIZE",defaultValue:"0",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"}},e["wysiwyg.viewer.skins.screenwidthcontainer.LiftedShadowScreen"]={shd:{type:"BOX_SHADOW",defaultValue:"0 1px 3px rgba(0, 0, 0, 0.5)",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},brw:{type:"SIZE",defaultValue:"0",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.screenwidthcontainer.LiftedTopScreen"]={brd:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},brw:{type:"SIZE",defaultValue:"0",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"}},e["wysiwyg.viewer.skins.screenwidthcontainer.LineBottomScreen"]={brd:{type:"COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},xxx:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"}},e["wysiwyg.viewer.skins.screenwidthcontainer.LineTopScreen"]={brd:{type:"COLOR_ALPHA",defaultValue:"color_15",state:"regular"},xxx:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"}},e["wysiwyg.viewer.skins.screenwidthcontainer.NoiseScreen"]={bgc:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},xxx:{type:"BG_COLOR_ALPHA",defaultValue:"color_1",state:"regular"}},e["wysiwyg.viewer.skins.screenwidthcontainer.ShadowBottomScreen"]={bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 0 5px rgba(0, 0, 0, 0.7)",state:"regular"},brwt:{type:"BORDER_TOP_SIZE",defaultValue:"0",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},brwb:{type:"BORDER_BOTTOM_SIZE",defaultValue:"0",state:"regular"},bgctr:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"}},e["wysiwyg.viewer.skins.screenwidthcontainer.ShadowScreen"]={shd:{type:"BOX_SHADOW",defaultValue:"0 0 5px rgba(0, 0, 0, 0.5)",state:"regular"},bgc:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},clr:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},xxx:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"}},e["wysiwyg.viewer.skins.screenwidthcontainer.ShadowTopScreen"]={bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 0 5px rgba(0, 0, 0, 0.7)",state:"regular"},brwt:{type:"SIZE",defaultValue:"0",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},brwb:{type:"SIZE",defaultValue:"0",state:"regular"},bgctr:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"}},e["wysiwyg.viewer.skins.screenwidthcontainer.SolidScreen"]={bgc:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},xxx:{type:"BG_COLOR_ALPHA",defaultValue:"color_1",state:"regular"}},e["wysiwyg.viewer.skins.screenwidthcontainer.ThreeDeeScreen"]={brd:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},brw:{type:"SIZE",defaultValue:"0",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},shc:{type:"COLOR",defaultValue:"color_11",state:"regular"}},e["wysiwyg.viewer.skins.screenwidthcontainer.TransparentHalfScreen"]={xxx:{type:"BG_COLOR_ALPHA",defaultValue:"color_1",state:"regular"}},e["wysiwyg.viewer.skins.screenwidthcontainer.TransparentScreen"]={},e["wysiwyg.viewer.skins.screenwidthcontainer.TwoColorScreen"]={bgc1:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},brw:{type:"BORDER_TOP_SIZE",defaultValue:"1px",state:"regular"},brw1:{type:"BORDER_BOTTOM_SIZE",defaultValue:"0",state:"regular"},xxx:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},bgc2:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"}},e["wysiwyg.viewer.skins.screenwidthcontainer.WoodScreen"]={bgc:{type:"BG_COLOR_ALPHA",defaultValue:"color_1",state:"regular"},$BorderRadius:{type:"BORDER_RADIUS",defaultValue:"5px",state:"regular"},$boxShadow:{type:"BOX_SHADOW",defaultValue:"0 1px 3px rgba(0, 0, 0, 0.8)",state:"regular"}},e["wysiwyg.viewer.skins.line.VerticalArrowLine"]={brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.line.VerticalArrowLineTop"]={brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.line.VerticalDashedLine"]={lnw:{type:"BORDER_LEFT_SIZE",defaultValue:"3px",state:"regular"},brd:{type:"COLOR_ALPHA",defaultValue:"color_15",state:"regular"},mrg:{type:"SIZE",defaultValue:"3px",state:"regular"}},e["wysiwyg.viewer.skins.line.VerticalDottedLine"]={lnw:{type:"BORDER_LEFT_SIZE",defaultValue:"3px",state:"regular"},brd:{type:"COLOR_ALPHA",defaultValue:"color_15",state:"regular"},mrg:{type:"SIZE",defaultValue:"3px",state:"regular"}},e["wysiwyg.viewer.skins.line.VerticalDoubleLine"]={dst:{type:"WIDTH_SIZE",defaultValue:"5px",state:"regular"},lnw1:{type:"BORDER_LEFT_SIZE",defaultValue:"3px",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},lnw2:{type:"BORDER_RIGHT_SIZE",defaultValue:"1px",state:"regular"}},e["wysiwyg.viewer.skins.line.VerticalFadeNotchLeftLine"]={},e["wysiwyg.viewer.skins.line.VerticalFadeNotchRightLine"]={},e["wysiwyg.viewer.skins.line.VerticalIronLine"]={lnw:{type:"WIDTH_SIZE",defaultValue:"6px",state:"regular"},clr:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.line.VerticalNotchDashedLine"]={lnw:{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"}},e["wysiwyg.viewer.skins.line.VerticalNotchLine"]={lnw:{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"}},e["wysiwyg.viewer.skins.line.VerticalShadowLeftLine"]={},e["wysiwyg.viewer.skins.line.VerticalShadowRightLine"]={},e["wysiwyg.viewer.skins.line.VerticalSloopyLine"]={},e["wysiwyg.viewer.skins.line.VerticalSolidLine"]={lnw:{type:"BORDER_LEFT_SIZE",defaultValue:"3px",state:"regular"},brd:{type:"COLOR_ALPHA",defaultValue:"color_15",state:"regular"},mrg:{type:"SIZE",defaultValue:"3px",state:"regular"}},e["wysiwyg.viewer.skins.VerticalLineSkin"]={},e["wysiwyg.viewer.skins.video.VideoDefault"]={brd:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},brw:{type:"SIZE",defaultValue:"0",state:"regular"}},e["wysiwyg.viewer.skins.video.VideoLiftedShadow"]={brd:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},brw:{type:"SIZE",defaultValue:"0",state:"regular"}},e["wysiwyg.viewer.skins.video.VideoSloppy"]={},e["wysiwyg.viewer.skins.VideoSkin"]={},e["wysiwyg.viewer.skins.AdminLoginSkin"]={rd:{type:"BORDER_RADIUS",defaultValue:"5px",state:"regular"}},e["wysiwyg.viewer.skins.button.AdminLoginButtonSkin"]={fnt:{type:"FONT",defaultValue:"font_9",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_1",state:"hover"}},e["wysiwyg.viewer.skins.audioplayer.Audio3DPlayer"]={bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"3px",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},iconh:{type:"BORDER_COLOR",defaultValue:"color_15",state:"hover"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"active"},shd1:{type:"BOX_SHADOW",defaultValue:"inset 0 1px 4px 2px rgba(0, 0, 0, 0.2)",state:"active"},shd2:{type:"BOX_SHADOW",defaultValue:"inset 0 1px 15px -3px rgba(255, 255, 255, 0.6), inset 0 3px 2px -2px rgba(255, 255, 255, 0.7)",state:"regular"},icon:{type:"BORDER_COLOR",defaultValue:"color_15",state:"regular"},bgh2:{type:"BG_COLOR",defaultValue:"color_18",state:"hover"},bg2:{type:"BG_COLOR",defaultValue:"color_17",state:"regular"}},e["wysiwyg.viewer.skins.audioplayer.BoldPlayer"]={brw:{type:"BORDER_SIZE",defaultValue:"0",state:"hover"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"hover"},brdh:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"hover"}},e["wysiwyg.viewer.skins.audioplayer.ShinyPlayer"]={bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},brdh:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"hover"},iconh:{type:"BORDER_COLOR",defaultValue:"color_15",state:"hover"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"active"},shd1:{type:"BOX_SHADOW",defaultValue:"inset 0 1px 4px 1px rgba(0, 0, 0, 0.2)",state:"active"},icon:{type:"BORDER_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.audioplayer.SimplePlayer"]={brw:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},brdh:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"hover"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"hover"},icon:{type:"BORDER_COLOR",defaultValue:"color_15",state:"regular"},iconh:{type:"BORDER_COLOR",defaultValue:"color_15",state:"hover"}},e["wysiwyg.viewer.skins.AudioPlayerMinimalSkin"]={rd:{type:"BORDER_RADIUS",defaultValue:"10px",state:"regular"}},e["skins.viewer.bgImage.bgImageSkin"]={},e["skins.viewer.bgMedia.bgMediaSkin"]={},e["skins.viewer.bgOverlay.bgOverlaySkin"]={},e["skins.viewer.bgVideo.html5VideoSkin"]={},e["skins.viewer.bgVideo.iframeVideoSkin"]={},e["skins.viewer.bgVideo.youtubeVideoSkin"]={},e["wysiwyg.viewer.skins.backtotopbutton.BackToTopButtonSkin"]={},e["wysiwyg.common.components.boxSlideShowSlide.viewer.skins.boxSlideShowSlideSkin"]={brw:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_11",state:"regular"}},e["wysiwyg.viewer.skins.input.CheckboxBasicSkin"]={brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},bgc:{type:"BG_COLOR_ALPHA",defaultValue:"color_1",state:"regular"},brwh:{type:"BORDER_SIZE",defaultValue:"0",state:"hover"},brdh:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"hover"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"hover"},bgch:{type:"BG_COLOR_ALPHA",defaultValue:"color_1",state:"hover"},brwf:{type:"BORDER_SIZE",defaultValue:"0",state:"focus"},brdf:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"focus"},bgf:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"focus"},bge:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"error"},brde:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"error"},brwe:{type:"BORDER_SIZE",defaultValue:"0",state:"error"},bgd:{type:"BG_COLOR_ALPHA",defaultValue:"#CCCCCC",state:"disabled"},brdd:{type:"BORDER_COLOR_ALPHA",defaultValue:"#CCCCCC",state:"disabled"},brwd:{type:"BORDER_SIZE",defaultValue:"0",state:"disabled"},bgcd:{type:"BG_COLOR_ALPHA",defaultValue:"color_1",state:"disabled"}},e.ComboBoxInputSkin={brwe:{type:"BORDER_SIZE",defaultValue:"2px",state:"error"},brde:{type:"BORDER_COLOR_ALPHA",defaultValue:"#F9F9F9",state:"error"},bge:{type:"BG_COLOR_ALPHA",defaultValue:"color_8",state:"error"},rd:{type:"BORDER_RADIUS",defaultValue:"5px",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 0 0 transparent",state:"regular"},fnt:{type:"FONT",defaultValue:"font_7",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_8",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"#888888",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"2px",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"#F9F9F9",state:"regular"},txt2:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},brwh:{type:"BORDER_SIZE",defaultValue:"2px",state:"hover"},brdh:{type:"BORDER_COLOR_ALPHA",defaultValue:"#F9F9F9",state:"hover"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_8",state:"hover"},brwf:{type:"BORDER_SIZE",defaultValue:"2px",state:"focus"},brdf:{type:"BORDER_COLOR_ALPHA",defaultValue:"#F9F9F9",state:"focus"},bgf:{type:"BG_COLOR_ALPHA",defaultValue:"color_8",state:"focus"},brdd:{type:"BORDER_COLOR_ALPHA",defaultValue:"#CCCCCC",state:"disabled"},txtd:{type:"TEXT_COLOR",defaultValue:"#FFFFFF",state:"disabled"},bgd:{type:"BG_COLOR_ALPHA",defaultValue:"#CCCCCC",state:"disabled"},arrowColor:{type:"BG_COLOR_ALPHA",defaultValue:"color_12",state:"regular"}},e["wysiwyg.viewer.skins.appinputs.AppsComboBoxInputSkin"]={txt:{type:"TEXT_COLOR",defaultValue:"#333",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"2px",state:"regular"},brd:{type:"BORDER_COLOR",defaultValue:"#1ab1ab",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"5px",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"#fff",state:"regular"},bg2:{type:"BG_COLOR_ALPHA",defaultValue:"#aaa",state:"regular"}},e["wysiwyg.viewer.skins.appinputs.AppsComboBoxInputSkinNoValidation"]={txt:{type:"TEXT_COLOR",defaultValue:"#333",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"2px",state:"regular"},brd:{type:"BORDER_COLOR",defaultValue:"#1ab1ab",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"5px",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"#fff",state:"regular"},bg2:{type:"BG_COLOR_ALPHA",defaultValue:"#aaa",state:"regular"}},e["wysiwyg.viewer.skins.input.ComboBoxInputSkin"]={txt:{type:"TEXT_COLOR",defaultValue:"#333",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"2px",state:"regular"},brd:{type:"BORDER_COLOR",defaultValue:"#1ab1ab",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"5px",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"#fff",state:"regular"},bg2:{type:"BG_COLOR_ALPHA",defaultValue:"#aaa",state:"regular"}},e["wysiwyg.viewer.skins.input.ComboBoxInputSkinNoValidation"]={rd:{type:"BORDER_RADIUS",defaultValue:"5px",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 0 0 transparent",state:"regular"},fnt:{type:"FONT",defaultValue:"font_7",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_8",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"#888888",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"2px",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"#F9F9F9",state:"regular"},txt2:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},brwh:{type:"BORDER_SIZE",defaultValue:"2px",state:"hover"},brdh:{type:"BORDER_COLOR_ALPHA",defaultValue:"#F9F9F9",state:"hover"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_8",state:"hover"},brwf:{type:"BORDER_SIZE",defaultValue:"2px",state:"focus"},brdf:{type:"BORDER_COLOR_ALPHA",defaultValue:"#F9F9F9",state:"focus"},bgf:{type:"BG_COLOR_ALPHA",defaultValue:"color_8",state:"focus"},bgd:{type:"BG_COLOR_ALPHA",defaultValue:"#CCCCCC",state:"disabled"},brdd:{type:"BORDER_COLOR_ALPHA",defaultValue:"#CCCCCC",state:"disabled"},txtd:{type:"TEXT_COLOR",defaultValue:"#FFFFFF",state:"disabled"},bge:{type:"BG_COLOR_ALPHA",defaultValue:"color_8",state:"error"},brwe:{type:"BORDER_SIZE",defaultValue:"2px",state:"error"},brde:{type:"BORDER_COLOR_ALPHA",defaultValue:"#F9F9F9",state:"error"}},e["skins.core.InlineSkin"]={},e["skins.core.VerySimpleSkin"]={},e["wysiwyg.viewer.skins.AppPartSkin"]={},e["wysiwyg.viewer.skins.area.RectangleArea"]={bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"}},e["wysiwyg.viewer.skins.input.TextInputSquareSkin"]={},e["wysiwyg.viewer.skins.PasswordLoginSkin"]={txt:{type:"TEXT_COLOR",defaultValue:"#9c9c9c",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"#ffffff",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 3px rgba(0, 0, 0, 0.5)",state:"regular"}},e["skins.viewer.balata.balataBaseSkin"]={},e["skins.viewer.bgimagestrip.BevelScreenSkin"]={bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_13",state:"regular"},brwt:{type:"BORDER_TOP_SIZE",defaultValue:"0",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},brwb:{type:"BORDER_BOTTOM_SIZE",defaultValue:"0",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"rgba(255, 255, 255, 0.592157) 0 4px 6px -4px inset, rgba(255, 255, 255, 0.592157) 0 1px 0 0 inset, rgba(255, 255, 255, 0.901961) 0 -5px 5px -5px inset",state:"regular"}},e["skins.viewer.bgimagestrip.BgImageStripSkin"]={bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 0 5px rgba(0, 0, 0, 0.7)",state:"regular"},brwt:{type:"BORDER_TOP_SIZE",defaultValue:"0",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},brwb:{type:"BORDER_BOTTOM_SIZE",defaultValue:"0",state:"regular"}},e["skins.viewer.bgimagestrip.DefaultScreenSkin"]={brwt:{type:"BORDER_TOP_SIZE",defaultValue:"0",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},brwb:{type:"BORDER_BOTTOM_SIZE",defaultValue:"0",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"inset 0 1px 1px rgba(255, 255, 255, 0.6), inset 0 -1px 1px rgba(0, 0, 0, 0.6), 0 0 5px rgba(0, 0, 0, 0.6)",state:"regular"}},e["skins.viewer.bgimagestrip.DoubleBorderScreenSkin"]={bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},bgPosition:{type:"SIZE",defaultValue:"0",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 0 5px rgba(0, 0, 0, 0.7)",state:"regular"},bordersPosition:{type:"SIZE",defaultValue:"6",state:"regular"},outerLineSize:{type:"BORDER_SIZE",defaultValue:"3",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},lineGap:{type:"SIZE",defaultValue:"5",state:"regular"},innerLineSize:{type:"BORDER_SIZE",defaultValue:"1",state:"regular"},brd2:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_14",state:"regular"}},e["skins.viewer.bgimagestrip.IronScreenSkin"]={bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},shadow:{type:"BOX_SHADOW",defaultValue:"rgba(255, 255, 255, 0.592157) 0 4px 6px -4px inset, rgba(255, 255, 255, 0.592157) 0 1px 0 0 inset, rgba(255, 255, 255, 0.901961) 0 -5px 5px -5px inset",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 0 5px rgba(0, 0, 0, 0.7)",state:"regular"}},e["wysiwyg.viewer.skins.dropmenubutton.ArrowRightMenuButtonNSkin"]={pad:{type:"MARGIN_LEFT_SIZE",defaultValue:"1",state:"regular"},fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bg:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"10px",state:"regular"},bgh:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},bgs:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_18",state:"regular"},rdDrop:{type:"BORDER_RADIUS",defaultValue:"10px",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},txts:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.common.components.dropdownmenu.viewer.skins.ArrowRightMenuButtonSkin"]={menuTotalBordersX:{type:"WIDTH_SIZE",defaultValue:"0",state:"regular"},menuTotalBordersY:{type:"HEIGHT_SIZE",defaultValue:"0",state:"regular"},pad:{type:"MARGIN_LEFT_SIZE",defaultValue:"1",state:"regular"},bgDrop:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},rdDrop:{type:"BORDER_RADIUS",defaultValue:"10px",state:"regular"},padLeft:{type:"MARGIN_LEFT_SIZE",defaultValue:"70",state:"regular"},fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bg:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"10px",state:"regular"},bgh:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},bgs:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_18",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},txts:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.dropmenubutton.IndentedMenuButtonNSkin"]={sep:{type:"COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},pad:{type:"PADDING_SIZE",defaultValue:"5px",state:"regular"},fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"10px",state:"regular"},rdDrop:{type:"BORDER_RADIUS",defaultValue:"10px",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bgs:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"regular"},txts:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.common.components.dropdownmenu.viewer.skins.IndentedMenuButtonSkin"]={menuTotalBordersX:{type:"WIDTH_SIZE",defaultValue:"0",state:"regular"},menuTotalBordersY:{type:"HEIGHT_SIZE",defaultValue:"0",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"10px",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},bgDrop:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},rdDrop:{type:"BORDER_RADIUS",defaultValue:"10px",state:"regular"},sep:{type:"COLOR_ALPHA",defaultValue:"color_15",state:"regular"},pad:{type:"PADDING_SIZE",defaultValue:"5px",state:"regular"},fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bgs:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"regular"},txts:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.dropmenubutton.LinesMenuButtonNBorderRadiusFixSkin"]={pad:{type:"PADDING_SIZE",defaultValue:"5px",state:"regular"},fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bgs:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"regular"},txts:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"10px",state:"regular"}},e["wysiwyg.common.components.dropdownmenu.viewer.skins.LinesMenuButtonBorderRadiusFixSkin"]={menuTotalBordersX:{type:"WIDTH_SIZE",defaultValue:"0",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},bgDrop:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"10px",state:"regular"},pad:{type:"PADDING_SIZE",defaultValue:"5px",state:"regular"},fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bgs:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"regular"},txts:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.dropmenubutton.LinesMenuButtonNSkin"]={pad:{type:"PADDING_SIZE",defaultValue:"5px",state:"regular"},fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bgs:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"regular"},txts:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"10px",state:"regular"}},e["wysiwyg.common.components.dropdownmenu.viewer.skins.LinesMenuButtonSkin"]={menuTotalBordersX:{type:"WIDTH_SIZE",defaultValue:"0",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},bgDrop:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"10px",state:"regular"},pad:{type:"PADDING_SIZE",defaultValue:"5px",state:"regular"},fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bgs:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"regular"},txts:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.dropmenubutton.OverlineMenuButtonHorizontalMenuAdaptationSkin"]={pad:{type:"PADDING_SIZE",defaultValue:"5px",state:"regular"},fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},brd:{type:"COLOR_ALPHA",defaultValue:"color_15",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},brdh:{type:"COLOR_ALPHA",defaultValue:"color_15",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},brds:{type:"COLOR_ALPHA",defaultValue:"color_15",state:"regular"},txts:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.common.components.dropdownmenu.viewer.skins.OverlineMenuButtonHorizontalMenuAdaptationSkin"]={menuTotalBordersX:{type:"WIDTH_SIZE",defaultValue:"0",state:"regular"},menuTotalBordersY:{type:"HEIGHT_SIZE",defaultValue:"0",state:"regular"},bgDrop:{type:"BG_COLOR_ALPHA",defaultValue:"transparent",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"none",state:"regular"},pad:{type:"PADDING_SIZE",defaultValue:"5px",state:"regular"},fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},brd:{type:"COLOR_ALPHA",defaultValue:"color_15",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},brdh:{type:"COLOR_ALPHA",defaultValue:"color_15",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},brds:{type:"COLOR_ALPHA",defaultValue:"color_15",state:"regular"},txts:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.dropmenubutton.OverlineMenuButtonNSkin"]={pad:{type:"PADDING_SIZE",defaultValue:"5px",state:"regular"},fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},brd:{type:"COLOR_ALPHA",defaultValue:"color_15",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},brdh:{type:"COLOR_ALPHA",defaultValue:"color_15",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},brds:{type:"COLOR_ALPHA",defaultValue:"color_15",state:"regular"},txts:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.common.components.dropdownmenu.viewer.skins.OverlineMenuButtonSkin"]={menuTotalBordersX:{type:"WIDTH_SIZE",defaultValue:"0",state:"regular"},menuTotalBordersY:{type:"HEIGHT_SIZE",defaultValue:"0",state:"regular"},bgDrop:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"10px",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},pad:{type:"PADDING_SIZE",defaultValue:"5px",state:"regular"},fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},brd:{type:"COLOR_ALPHA",defaultValue:"color_15",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},brdh:{type:"COLOR_ALPHA",defaultValue:"color_15",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},brds:{type:"COLOR_ALPHA",defaultValue:"color_15",state:"regular"},txts:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.dropmenubutton.PointerMenuButtonHorizontalMenuAdaptationSkin"]={brd:{type:"COLOR_ALPHA",defaultValue:"color_15",state:"regular"},pad:{type:"PADDING_SIZE",defaultValue:"5px",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"10px",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bgs:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"regular"},txts:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.common.components.dropdownmenu.viewer.skins.PointerMenuButtonHorizontalMenuAdaptationSkin"]={menuTotalBordersX:{type:"WIDTH_SIZE",defaultValue:"0",state:"regular"},menuTotalBordersY:{type:"HEIGHT_SIZE",defaultValue:"0",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},brd:{type:"COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bgDrop:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"10px",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},pad:{type:"PADDING_SIZE",defaultValue:"5px",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bgs:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"regular"},txts:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.dropmenubutton.PointerMenuButtonNSkin"]={brd:{type:"COLOR_ALPHA",defaultValue:"color_15",state:"regular"},pad:{type:"PADDING_SIZE",defaultValue:"5px",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"10px",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bgs:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"regular"},txts:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.common.components.dropdownmenu.viewer.skins.PointerMenuButtonSkin"]={menuTotalBordersX:{type:"WIDTH_SIZE",defaultValue:"0",state:"regular"},menuTotalBordersY:{type:"HEIGHT_SIZE",defaultValue:"0",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},brd:{type:"COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bgDrop:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"10px",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},pad:{type:"PADDING_SIZE",defaultValue:"5px",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bgs:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"regular"},txts:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.dropmenubutton.RibbonsMenuButtonNSkin"]={pad:{type:"PADDING_SIZE",defaultValue:"5px",state:"regular"},fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bgs:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"regular"},txts:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.common.components.dropdownmenu.viewer.skins.RibbonsMenuButtonSkin"]={menuTotalBordersX:{type:"WIDTH_SIZE",defaultValue:"0",state:"regular"},menuTotalBordersY:{type:"HEIGHT_SIZE",defaultValue:"0",state:"regular"},els:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 2px 3px rgba(0, 0, 0, 0.7)",state:"regular"},elm:{type:"COLOR_ALPHA",defaultValue:"color_15",state:"regular"},elm2:{type:"COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bgDrop:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},pad:{type:"PADDING_SIZE",defaultValue:"5px",state:"regular"},fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bgs:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"regular"},txts:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.dropmenubutton.SeparateBasicMenuButtonNSkin"]={pad:{type:"MARGIN_SIZE",defaultValue:"5px",state:"regular"},fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"10px",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},noshd:{type:"BOX_SHADOW",defaultValue:"none",state:"regular"},nord:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},rdDrop:{type:"BORDER_RADIUS",defaultValue:"10px",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},brdh:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},txts:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bgs:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"regular"},brds:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"}},e["wysiwyg.common.components.dropdownmenu.viewer.skins.SeparateBasicMenuButtonSkin"]={menuTotalBordersX:{type:"WIDTH_SIZE",defaultValue:"0",state:"regular"},menuTotalBordersY:{type:"HEIGHT_SIZE",defaultValue:"0",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},rdDrop:{type:"BORDER_RADIUS",defaultValue:"10px",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bgDrop:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},pad:{type:"MARGIN_SIZE",defaultValue:"5px",state:"regular"},fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"10px",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},noshd:{type:"BOX_SHADOW",defaultValue:"none",state:"regular"},nord:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},brdh:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},txts:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bgs:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"regular"},brds:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.dropmenubutton.SeparateIndentedMenuButtonNSkin"]={pad:{type:"PADDING_SIZE",defaultValue:"5px",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"10px",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},no_rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},noshd:{type:"BOX_SHADOW",defaultValue:"none",state:"regular"},rdDrop:{type:"BORDER_RADIUS",defaultValue:"10px",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bgs:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"regular"},txts:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.common.components.dropdownmenu.viewer.skins.SeparateIndentedMenuButtonSkin"]={menuTotalBordersX:{type:"WIDTH_SIZE",defaultValue:"0",state:"regular"},menuTotalBordersY:{type:"HEIGHT_SIZE",defaultValue:"0",state:"regular"},pad:{type:"PADDING_SIZE",defaultValue:"5px",state:"regular"},bgDrop:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},rdDrop:{type:"BORDER_RADIUS",defaultValue:"10px",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"10px",state:"regular"},fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},no_rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},noshd:{type:"BOX_SHADOW",defaultValue:"none",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bgs:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"regular"},txts:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.dropmenubutton.SeparateLinesMenuButtonNSkin"]={pad:{type:"PADDING_SIZE",defaultValue:"5px",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},brdh:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},brds:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bgs:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"regular"},txts:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.common.components.dropdownmenu.viewer.skins.SeparateLinesMenuButtonHorizontalMenuAdaptationSkin"]={menuTotalBordersX:{type:"WIDTH_SIZE",defaultValue:"0",state:"regular"},menuTotalBordersY:{type:"HEIGHT_SIZE",defaultValue:"0",state:"regular"},pad:{type:"PADDING_SIZE",defaultValue:"5px",state:"regular"},bgDrop:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},brdh:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},brds:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bgs:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"regular"},txts:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.common.components.dropdownmenu.viewer.skins.SeparateLinesMenuButtonSkin"]={menuTotalBordersX:{type:"WIDTH_SIZE",defaultValue:"0",state:"regular"},menuTotalBordersY:{type:"HEIGHT_SIZE",defaultValue:"0",state:"regular"},pad:{type:"PADDING_SIZE",defaultValue:"5px",state:"regular"},bgDrop:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},brdh:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},brds:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bgs:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"regular"},txts:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.dropmenubutton.SeparateShinyIIMenuButtonNBorderRadiusFixSkin"]={pad:{type:"PADDING_SIZE",defaultValue:"5px",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"10px",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},noshd:{type:"BOX_SHADOW",defaultValue:"none",state:"regular"},no_rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},rdDrop:{type:"BORDER_RADIUS",defaultValue:"10px",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bgs:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"regular"},txts:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.common.components.dropdownmenu.viewer.skins.SeparateShinyIIMenuButtonBorderRadiusFixSkin"]={menuTotalBordersX:{type:"WIDTH_SIZE",defaultValue:"0",state:"regular"},menuTotalBordersY:{type:"HEIGHT_SIZE",defaultValue:"0",state:"regular"},pad:{type:"PADDING_SIZE",defaultValue:"5px",state:"regular"},bgDrop:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},rdDrop:{type:"BORDER_RADIUS",defaultValue:"10px",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"10px",state:"regular"},fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},noshd:{type:"BOX_SHADOW",defaultValue:"none",state:"regular"},no_rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bgs:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"regular"},txts:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.dropmenubutton.SeparateShinyIIMenuButtonNSkin"]={pad:{type:"PADDING_SIZE",defaultValue:"5px",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"10px",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},noshd:{type:"BOX_SHADOW",defaultValue:"none",state:"regular"},no_rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},rdDrop:{type:"BORDER_RADIUS",defaultValue:"10px",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bgs:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"regular"},txts:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.common.components.dropdownmenu.viewer.skins.SeparateShinyIIMenuButtonSkin"]={menuTotalBordersX:{type:"WIDTH_SIZE",defaultValue:"0",state:"regular"},menuTotalBordersY:{type:"HEIGHT_SIZE",defaultValue:"0",state:"regular"},pad:{type:"PADDING_SIZE",defaultValue:"5px",state:"regular"},bgDrop:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},rdDrop:{type:"BORDER_RADIUS",defaultValue:"10px",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"10px",state:"regular"},fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},noshd:{type:"BOX_SHADOW",defaultValue:"none",state:"regular"},no_rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bgs:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"regular"},txts:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.dropmenubutton.SeparateShinyIMenuButtonNSkin"]={pad:{type:"PADDING_SIZE",defaultValue:"5px",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"10px",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},noshd:{type:"BOX_SHADOW",defaultValue:"none",state:"regular"},no_rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},rdDrop:{type:"BORDER_RADIUS",defaultValue:"10px",state:"regular"},bgs:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},txts:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.common.components.dropdownmenu.viewer.skins.SeparateShinyIMenuButtonSkin"]={menuTotalBordersX:{type:"WIDTH_SIZE",defaultValue:"0",state:"regular"},menuTotalBordersY:{type:"HEIGHT_SIZE",defaultValue:"0",state:"regular"},pad:{type:"PADDING_SIZE",defaultValue:"5px",state:"regular"},bgDrop:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},rdDrop:{type:"BORDER_RADIUS",defaultValue:"10px",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"10px",state:"regular"},fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},noshd:{type:"BOX_SHADOW",defaultValue:"none",state:"regular"},no_rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},bgs:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},txts:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.dropmenubutton.ShinyMenuIButtonNSkin"]={sep:{type:"COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},pad:{type:"PADDING_SIZE",defaultValue:"5px",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"10px",state:"regular"},rdDrop:{type:"BORDER_RADIUS",defaultValue:"10px",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bgs:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"regular"},txts:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.common.components.dropdownmenu.viewer.skins.ShinyMenuIButtonSkin"]={menuTotalBordersX:{type:"WIDTH_SIZE",defaultValue:"0",state:"regular"},menuTotalBordersY:{type:"HEIGHT_SIZE",defaultValue:"0",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"10px",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},bgDrop:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},rdDrop:{type:"BORDER_RADIUS",defaultValue:"10px",state:"regular"},sep:{type:"COLOR_ALPHA",defaultValue:"color_15",state:"regular"},fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},pad:{type:"PADDING_SIZE",defaultValue:"5px",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bgs:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"regular"},txts:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.dropmenubutton.ShinyMenuIIButtonNSkin"]={sep:{type:"COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"10px",state:"regular"},rdDrop:{type:"BORDER_RADIUS",defaultValue:"10px",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bgs:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"regular"},txts:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.common.components.dropdownmenu.viewer.skins.ShinyMenuIIButtonSkin"]={menuTotalBordersX:{type:"WIDTH_SIZE",defaultValue:"0",state:"regular"},menuTotalBordersY:{type:"HEIGHT_SIZE",defaultValue:"0",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"10px",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},bgDrop:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},rdDrop:{type:"BORDER_RADIUS",defaultValue:"10px",state:"regular"},sep:{type:"COLOR_ALPHA",defaultValue:"color_15",state:"regular"},fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bgs:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"regular"},txts:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.dropmenubutton.SloppyBorderMenuButtonNSkin"]={pad:{type:"PADDING_SIZE",defaultValue:"5px",state:"regular"},sep:{type:"COLOR_ALPHA",defaultValue:"color_15",state:"regular"},fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bgs:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"regular"},txts:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.common.components.dropdownmenu.viewer.skins.SloppyBorderMenuButtonSkin"]={menuTotalBordersX:{type:"WIDTH_SIZE",defaultValue:"0",state:"regular"},menuTotalBordersY:{type:"HEIGHT_SIZE",defaultValue:"0",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},bgDrop:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},pad:{type:"PADDING_SIZE",defaultValue:"5px",state:"regular"},sep:{type:"COLOR_ALPHA",defaultValue:"color_15",state:"regular"},fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bgs:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"regular"},txts:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.dropmenubutton.SolidColorMenuButtonNSkin"]={pad:{type:"PADDING_SIZE",defaultValue:"5px",state:"regular"},sep:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"10px",state:"regular"},rdDrop:{type:"BORDER_RADIUS",defaultValue:"10px",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bgs:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"regular"},txts:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.common.components.dropdownmenu.viewer.skins.SolidColorMenuButtonSkin"]={bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"10px",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bgDrop:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},rdDrop:{type:"BORDER_RADIUS",defaultValue:"10px",state:"regular"},pad:{type:"PADDING_SIZE",defaultValue:"5px",state:"regular"},sep:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bgs:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"regular"},txts:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.dropmenubutton.TextOnlyMenuButtonNSkin"]={fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},pad:{type:"PADDING_SIZE",defaultValue:"5px",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_14",state:"regular"},txts:{type:"TEXT_COLOR",defaultValue:"color_14",state:"regular"}},e["wysiwyg.common.components.dropdownmenu.viewer.skins.TextOnlyMenuButtonBgFixSkin"]={menuTotalBordersX:{type:"WIDTH_SIZE",defaultValue:"0",state:"regular"},menuTotalBordersY:{type:"HEIGHT_SIZE",defaultValue:"0",state:"regular"},fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},pad:{type:"PADDING_SIZE",defaultValue:"5px",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_14",state:"regular"},txts:{type:"TEXT_COLOR",defaultValue:"color_14",state:"regular"}},e["wysiwyg.common.components.dropdownmenu.viewer.skins.TextOnlyMenuButtonSkin"]={menuTotalBordersX:{type:"WIDTH_SIZE",defaultValue:"0",state:"regular"},menuTotalBordersY:{type:"HEIGHT_SIZE",defaultValue:"0",state:"regular"},bgDrop:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},pad:{type:"PADDING_SIZE",defaultValue:"5px",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_14",state:"regular"},txts:{type:"TEXT_COLOR",defaultValue:"color_14",state:"regular"}},e["wysiwyg.viewer.skins.dropmenubutton.TextSeparatorsMenuButtonNSkin"]={fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},sep:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},pad:{type:"PADDING_SIZE",defaultValue:"5px",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_14",state:"regular"},txts:{type:"TEXT_COLOR",defaultValue:"color_14",state:"regular"}},e["wysiwyg.common.components.dropdownmenu.viewer.skins.TextSeparatorsMenuButtonSkin"]={menuTotalBordersX:{type:"WIDTH_SIZE",defaultValue:"0",state:"regular"},menuTotalBordersY:{type:"HEIGHT_SIZE",defaultValue:"0",state:"regular"},bgDrop:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},sep:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},pad:{type:"PADDING_SIZE",defaultValue:"5px",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_14",state:"regular"},txts:{type:"TEXT_COLOR",defaultValue:"color_14",state:"regular"}},e["wysiwyg.viewer.skins.dropmenubutton.VerticalRibbonsMenuButtonNSkin"]={pad:{type:"SIZE",defaultValue:"5px",state:"regular"},els:{type:"BORDER_SIZE",defaultValue:"10",state:"regular"},fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bgDrop:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},bgs:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"regular"},ribbonShd:{type:"BOX_SHADOW",defaultValue:"2px 0 2px 0 rgba(0, 0, 0, 0.2)",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},txts:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},elmOver:{type:"COLOR_ALPHA",defaultValue:"color_17",state:"regular"},elmSelected:{type:"COLOR_ALPHA",defaultValue:"color_18",state:"regular"}},e["wysiwyg.common.components.dropdownmenu.viewer.skins.VerticalRibbonsMenuButtonSkin"]={menuTotalBordersX:{type:"WIDTH_SIZE",defaultValue:"0",state:"regular"},menuTotalBordersY:{type:"HEIGHT_SIZE",defaultValue:"0",state:"regular"},els:{type:"BORDER_SIZE",defaultValue:"10",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 2px 3px rgba(0, 0, 0, 0.7)",state:"regular"},bgDrop:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},pad:{type:"SIZE",defaultValue:"5px",state:"regular"},fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},bgs:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"regular"},ribbonShd:{type:"BOX_SHADOW",defaultValue:"2px 0 2px 0 rgba(0, 0, 0, 0.2)",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},txts:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},elmOver:{type:"COLOR_ALPHA",defaultValue:"color_17",state:"regular"},elmSelected:{type:"COLOR_ALPHA",defaultValue:"color_18",state:"regular"}},e["wysiwyg.viewer.skins.dropmenubutton.DiagonalMenuButtonSkin"]={fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},txts:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},rdDrop:{type:"BORDER_RADIUS",defaultValue:"10px",state:"regular"},bgh:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},bgs:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_18",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.dropmenu.DiagonalMenuSkin"]={bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bgDrop:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},rdDrop:{type:"BORDER_RADIUS",defaultValue:"10px",state:"regular"},fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},txts:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bgh:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},bgs:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_18",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.menubutton.ArrowsMenuButtonSkin"]={bg:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},pad:{type:"MARGIN_SIZE",defaultValue:"5px",state:"regular"},bgh:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_17",state:"hover"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"hover"},bgs:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_18",state:"regular"}},e["wysiwyg.viewer.skins.menu.ArrowsMenuSkin"]={bg:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},pad:{type:"MARGIN_SIZE",defaultValue:"5px",state:"regular"},bgh:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_17",state:"hover"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"hover"},bgs:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_18",state:"regular"}},e["wysiwyg.viewer.skins.menubutton.CirclesMenuButtonSkin"]={fnt:{type:"FONT",defaultValue:"font_2",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},clr5:{type:"BG_COLOR_ALPHA",defaultValue:"color_9",state:"regular"},clr2:{type:"BG_COLOR_ALPHA",defaultValue:"color_2",state:"regular"},clr3:{type:"BG_COLOR_ALPHA",defaultValue:"color_3",state:"regular"},clr4:{type:"BG_COLOR_ALPHA",defaultValue:"color_4",state:"regular"},clr1:{type:"BG_COLOR_ALPHA",defaultValue:"color_1",state:"regular"},clr6:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},txtac:{type:"TEXT_COLOR",defaultValue:"color_7",state:"active"}},e["wysiwyg.viewer.skins.menu.CirclesMenuSkin"]={fnt:{type:"FONT",defaultValue:"font_2",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},clr5:{type:"BG_COLOR_ALPHA",defaultValue:"color_9",state:"regular"},clr2:{type:"BG_COLOR_ALPHA",defaultValue:"color_2",state:"regular"},clr3:{type:"BG_COLOR_ALPHA",defaultValue:"color_3",state:"regular"},clr4:{type:"BG_COLOR_ALPHA",defaultValue:"color_4",state:"regular"},clr1:{type:"BG_COLOR_ALPHA",defaultValue:"color_1",state:"regular"},clr6:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},txtac:{type:"TEXT_COLOR",defaultValue:"color_7",state:"active"}},e["wysiwyg.viewer.skins.menubutton.SeparateArrowDownMenuButtonSkin"]={pad:{type:"MARGIN_SIZE",defaultValue:"5px",state:"regular"},fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"hover"},brdh:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"hover"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"hover"},bgs:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"regular"},brds:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},txts:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.menu.SeparateArrowDownMenuSkin"]={pad:{type:"MARGIN_SIZE",defaultValue:"5px",state:"regular"},fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"hover"},brdh:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"hover"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"hover"},bgs:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"regular"},brds:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},txts:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.menubutton.SeparatedArrowsMenuButtonSkin"]={bg:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"10px",state:"regular"},pad:{type:"MARGIN_SIZE",defaultValue:"5px",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},bgh:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_17",state:"hover"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"hover"},bgs:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_18",state:"regular"},txts:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},brwA:{type:"SIZE",defaultValue:"10px",state:"regular"}},e["wysiwyg.viewer.skins.menu.SeparatedArrowsMenuSkin"]={bg:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"10px",state:"regular"},pad:{type:"MARGIN_SIZE",defaultValue:"5px",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},bgh:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_17",state:"hover"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"hover"},bgs:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_18",state:"regular"},txts:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},brwA:{type:"SIZE",defaultValue:"10px",state:"regular"}},e["wixapps.integration.skins.ecommerce.options.InfoTipSkin"]={rd:{type:"BORDER_RADIUS",defaultValue:"5px",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, .6);",state:"regular"},txtcolor:{type:"TEXT_COLOR",defaultValue:"#656565",state:"regular"},bgcolor:{type:"BG_COLOR_ALPHA",defaultValue:"#fffedf",state:"regular"}},e["wysiwyg.viewer.skins.option.InfoTipArrowSkin"]={rd:{type:"BORDER_RADIUS",defaultValue:"5px",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 3px rgba(0, 0, 0, 0.25)",state:"regular"}},e["wysiwyg.viewer.skins.dropmenubutton.ArrowsMenuButtonNSkin"]={bg:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},pad:{type:"MARGIN_SIZE",defaultValue:"5px",state:"regular"},bgh:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bgs:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_18",state:"regular"}},e["wysiwyg.viewer.skins.dropmenubutton.CirclesMenuButtonNSkin"]={pad:{type:"PADDING_SIZE",defaultValue:"5px",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"50%",state:"regular"},brw:{type:"PADDING_SIZE",defaultValue:"0",state:"regular"},brd:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},brdh:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},brds:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bgs:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"regular"},txts:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},nord:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},rdDrop:{type:"BORDER_RADIUS",defaultValue:"10px",state:"regular"}},e["wysiwyg.viewer.skins.dropmenubutton.ForkedBannerMenuButtonSkin"]={bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"hover"},bgs:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"regular"},fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},brw:{type:"BORDER_TOP_SIZE",defaultValue:"1px",state:"regular"},brd:{type:"COLOR",defaultValue:"color_17",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"hover"},txts:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.dropmenubutton.ForkedRibbonMenuButtonSkin"]={bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"hover"},bgs:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"regular"},fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},brw:{type:"BORDER_TOP_SIZE",defaultValue:"1px",state:"regular"},brd:{type:"COLOR",defaultValue:"color_17",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"hover"},txts:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.dropmenubutton.SeparateArrowDownMenuButtonNSkin"]={pad:{type:"MARGIN_SIZE",defaultValue:"5px",state:"regular"},fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},brdh:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bgs:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"regular"},brds:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},txts:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.dropmenubutton.SeparatedArrowsMenuButtonNSkin"]={bg:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"10px",state:"regular"},pad:{type:"MARGIN_SIZE",defaultValue:"5px",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},bgh:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bgs:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_18",state:"regular"},txts:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},brwA:{type:"SIZE",defaultValue:"10px",state:"regular"}},e["wysiwyg.viewer.skins.dropmenubutton.SlantedMenuButtonNSkin"]={pad:{type:"MARGIN_LEFT_SIZE",defaultValue:"1",state:"regular"},fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bg:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},bgh:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},bgs:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_18",state:"regular"},rdDrop:{type:"BORDER_RADIUS",defaultValue:"10px",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},txts:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.page.BasicPageSkin"]={bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"}},e["wysiwyg.viewer.skins.page.BorderPageSkin"]={brw:{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"5px",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"}},e["wysiwyg.viewer.skins.page.InnerShadowPageSkin"]={rd:{type:"BORDER_RADIUS",defaultValue:"5px",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"inset 0 1px 2px rgba(0, 0, 0, 0.6), inset 0 -1px 1px rgba(255, 255, 255, 0.75)",state:"regular"}},e["wysiwyg.viewer.skins.page.LiftedBottomPageSkin"]={bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.page.LiftedShadowPageSkin"]={bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"5px",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.page.LiftedTopPageSkin"]={bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.page.ShinyIPageSkin"]={bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"5px",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.page.SloopyPageSkin"]={bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"}},e["wysiwyg.viewer.skins.page.ThreeDeePageSkin"]={brd:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"5px",state:"regular"},brw:{type:"SIZE",defaultValue:"1px",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},shc:{type:"COLOR",defaultValue:"color_11",state:"regular"}},e["wysiwyg.viewer.skins.page.TransparentPageSkin"]={},e["wysiwyg.viewer.skins.paginatedgrid.PaginatedGridArrowsOutside"]={fntds:{type:"FONT",defaultValue:"font_8",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},txt:{type:"BORDER_COLOR",defaultValue:"color_15",state:"regular"},fntt:{type:"FONT",defaultValue:"font_6",state:"regular"},linkColor:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.paginatedgrid.PaginatedGridDefaultSkin"]={txt:{type:"BORDER_COLOR",defaultValue:"color_15",state:"regular"},fntds:{type:"FONT",defaultValue:"font_8",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_5",state:"regular"},fntt:{type:"FONT",defaultValue:"font_6",state:"regular"},linkColor:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.paginatedgrid.PaginatedGridOverlay"]={txt:{type:"BORDER_COLOR",defaultValue:"color_15",state:"regular"},fntds:{type:"FONT",defaultValue:"font_8",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},fntt:{type:"FONT",defaultValue:"font_6",state:"regular"},linkColor:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.paginatedgrid.PaginatedGridRibbonArrows"]={fntds:{type:"FONT",defaultValue:"font_8",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},txt:{type:"BORDER_COLOR",defaultValue:"color_15",state:"regular"},fntt:{type:"FONT",defaultValue:"font_6",state:"regular"},linkColor:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bg1:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"regular"},bg2:{type:"COLOR",defaultValue:"color_18",state:"regular"}},e["wysiwyg.viewer.skins.paginatedgrid.PaginatedGridTextBottom"]={fntds:{type:"FONT",defaultValue:"font_8",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},txt:{type:"BORDER_COLOR",defaultValue:"color_15",state:"regular"},fntt:{type:"FONT",defaultValue:"font_6",state:"regular"},linkColor:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.siteBackgroundSkin"]={},e["wysiwyg.viewer.skins.button.BasicButton"]={rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},fnt:{type:"FONT",defaultValue:"font_5",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"hover"},brdh:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"hover"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"hover"},bgd:{type:"BG_COLOR_ALPHA",defaultValue:"#CCCCCC",state:"disabled"},brdd:{type:"BORDER_COLOR_ALPHA",defaultValue:"#CCCCCC",state:"disabled"},txtd:{type:"TEXT_COLOR",defaultValue:"#FFFFFF",state:"disabled"}},e["wysiwyg.viewer.skins.button.BorderButton"]={rd:{type:"BORDER_RADIUS",defaultValue:"10px",state:"regular"},rd2:{type:"BORDER_RADIUS",defaultValue:"5px",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_1",state:"regular"},xxx:{type:"BG_COLOR_ALPHA",defaultValue:"color_1",state:"regular"},fnt:{type:"FONT",defaultValue:"font_5",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_5",state:"regular"},brdh:{type:"BG_COLOR_ALPHA",defaultValue:"color_6",state:"hover"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_2",state:"hover"},txth:{type:"TEXT_COLOR",defaultValue:"color_6",state:"hover"},brdd:{type:"BORDER_COLOR_ALPHA",defaultValue:"#CCCCCC",state:"disabled"},bgd:{type:"BG_COLOR_ALPHA",defaultValue:"#CCCCCC",state:"disabled"},txtd:{type:"TEXT_COLOR",defaultValue:"#FFFFFF",state:"disabled"}},e["wysiwyg.viewer.skins.button.BrandButton"]={rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},shadowColor:{type:"BOX_SHADOW_COLOR_ALPHA",defaultValue:"#000102",state:"regular"},shadowColor2:{type:"BOX_SHADOW_COLOR_ALPHA",defaultValue:"#000102",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},fnt:{type:"FONT",defaultValue:"font_5",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"hover"},brdh:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"hover"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"hover"},bga:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"active"},brda:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"active"},txta:{type:"TEXT_COLOR",defaultValue:"color_15",state:"active"},bgd:{type:"BG_COLOR_ALPHA",defaultValue:"#CCCCCC",state:"disabled"},brdd:{type:"BORDER_COLOR_ALPHA",defaultValue:"#CCCCCC",state:"disabled"},txtd:{type:"TEXT_COLOR",defaultValue:"#FFFFFF",state:"disabled"}},e["wysiwyg.viewer.skins.button.ButtonArrow"]={bgh:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_18",state:"hover"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"hover"},bg:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},fnt:{type:"FONT",defaultValue:"font_5",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bgd:{type:"BORDER_COLOR_ALPHA",defaultValue:"#CCCCCC",state:"disabled"},txtd:{type:"TEXT_COLOR",defaultValue:"#FFFFFF",state:"disabled"}},e["wysiwyg.viewer.skins.button.ButtonArrowLeft"]={bgh:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_18",state:"hover"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"hover"},bg:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},fnt:{type:"FONT",defaultValue:"font_5",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bgd:{type:"BORDER_COLOR_ALPHA",defaultValue:"#CCCCCC",state:"disabled"},txtd:{type:"TEXT_COLOR",defaultValue:"#FFFFFF",state:"disabled"}},e["wysiwyg.viewer.skins.button.ButtonDoubleArrowLeft"]={bg:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},fnt:{type:"FONT",defaultValue:"font_5",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"hover"},bgh:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_18",state:"hover"}},e["wysiwyg.viewer.skins.button.ButtonDoubleArrowRight"]={bg:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},fnt:{type:"FONT",defaultValue:"font_5",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"hover"},bgh:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_18",state:"hover"}},e["wysiwyg.viewer.skins.button.ButtonForkedLeft"]={bg:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},fnt:{type:"FONT",defaultValue:"font_5",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"hover"},bgh:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_18",state:"hover"}},e["wysiwyg.viewer.skins.button.ButtonForkedRight"]={bg:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},fnt:{type:"FONT",defaultValue:"font_5",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"hover"},bgh:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_18",state:"hover"}},e["wysiwyg.viewer.skins.button.ButtonInnerShadow"]={rd:{type:"BORDER_RADIUS",defaultValue:"5px",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},fnt:{type:"FONT",defaultValue:"font_5",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"hover"},brdh:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"hover"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"hover"},bgd:{type:"BG_COLOR_ALPHA",defaultValue:"#CCCCCC",state:"disabled"},brdd:{type:"BORDER_COLOR_ALPHA",defaultValue:"#CCCCCC",state:"disabled"},txtd:{type:"TEXT_COLOR",defaultValue:"#FFFFFF",state:"disabled"}},e["wysiwyg.viewer.skins.button.ButtonLiftedShadow"]={rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},fnt:{type:"FONT",defaultValue:"font_5",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"hover"},brdh:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"hover"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"hover"},bgd:{type:"BG_COLOR_ALPHA",defaultValue:"#CCCCCC",state:"disabled"},brdd:{type:"BORDER_COLOR_ALPHA",defaultValue:"#CCCCCC",state:"disabled"},txtd:{type:"TEXT_COLOR",defaultValue:"#FFFFFF",state:"disabled"}},e["wysiwyg.viewer.skins.button.ButtonSandclock"]={bg:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},fnt:{type:"FONT",defaultValue:"font_5",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"hover"},bgh:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_18",state:"hover"}},e["wysiwyg.viewer.skins.button.ButtonShadowLeft"]={rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},fnt:{type:"FONT",defaultValue:"font_5",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"hover"},brdh:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"hover"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"hover"},bgd:{type:"BG_COLOR_ALPHA",defaultValue:"#CCCCCC",state:"disabled"},brdd:{type:"BORDER_COLOR_ALPHA",defaultValue:"#CCCCCC",state:"disabled"},txtd:{type:"TEXT_COLOR",defaultValue:"#FFFFFF",state:"disabled"}},e["wysiwyg.viewer.skins.button.ButtonShadowRight"]={rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},fnt:{type:"FONT",defaultValue:"font_5",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"hover"},brdh:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"hover"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"hover"},bgd:{type:"BG_COLOR_ALPHA",defaultValue:"#CCCCCC",state:"disabled"},brdd:{type:"BORDER_COLOR_ALPHA",defaultValue:"#CCCCCC",state:"disabled"},txtd:{type:"TEXT_COLOR",defaultValue:"#FFFFFF",state:"disabled"}},e["wysiwyg.viewer.skins.button.ButtonThreeD"]={rd:{type:"BORDER_RADIUS",defaultValue:"5px",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},fnt:{type:"FONT",defaultValue:"font_5",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"hover"},brdh:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"hover"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"hover"},bgd:{type:"BG_COLOR_ALPHA",defaultValue:"#CCCCCC",state:"disabled"},brdd:{type:"BORDER_COLOR_ALPHA",defaultValue:"#CCCCCC",state:"disabled"},txtd:{type:"TEXT_COLOR",defaultValue:"#FFFFFF",state:"disabled"},shc:{type:"COLOR",defaultValue:"color_17",state:"hover"}},e["wysiwyg.viewer.skins.button.CircleButton"]={bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"50%",state:"regular"},fnt:{type:"FONT",defaultValue:"font_5",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"hover"},brdh:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"hover"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"hover"},bgd:{type:"BG_COLOR_ALPHA",defaultValue:"#CCCCCC",state:"disabled"},brdd:{type:"BORDER_COLOR_ALPHA",defaultValue:"#CCCCCC",state:"disabled"},txtd:{type:"TEXT_COLOR",defaultValue:"#FFFFFF",state:"disabled"},s:{type:"SIZE",defaultValue:"0",state:"hover"}},e["wysiwyg.viewer.skins.button.DisabledLayerButton"]={rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},fnt:{type:"FONT",defaultValue:"font_5",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.button.FixedFontButton"]={bg:{type:"BG_COLOR_ALPHA",defaultValue:"#ffffff",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"#000000",state:"regular"},brd:{type:"BORDER_COLOR",defaultValue:"#000000",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"#000000",state:"hover"},brdh:{type:"BORDER_COLOR",defaultValue:"#000000",state:"hover"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"#ffffff",state:"hover"}},e["wysiwyg.viewer.skins.button.GamingButton"]={bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"hover"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"hover"},rd:{type:"BORDER_RADIUS",defaultValue:"12px",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},fnt:{type:"FONT",defaultValue:"font_6",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bgd:{type:"BG_COLOR_ALPHA",defaultValue:"#CCCCCC",state:"disabled"},txtd:{type:"TEXT_COLOR",defaultValue:"#FFFFFF",state:"disabled"}},e["wysiwyg.viewer.skins.button.IronButton"]={rd:{type:"BORDER_RADIUS",defaultValue:"2",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 2px 5px rgba(0, 0, 0, 0.53)",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},ishd:{type:"BOX_SHADOW",defaultValue:"rgba(255, 255, 255, 0.59) 0 0 6px 0 inset, rgba(255, 255, 255, 0.92) 0 1px 0 0 inset, rgba(255, 255, 255, 0.2) 0 0 5px 0 inset",state:"regular"},fnt:{type:"FONT",defaultValue:"font_5",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"hover"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"hover"},bgd:{type:"BG_COLOR_ALPHA",defaultValue:"#CCCCCC",state:"disabled"},txtd:{type:"TEXT_COLOR",defaultValue:"#FFFFFF",state:"disabled"}},e["wysiwyg.viewer.skins.button.PillButton"]={bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_1",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"80px",state:"regular"},xxx:{type:"BG_COLOR_ALPHA",defaultValue:"color_1",state:"regular"},fnt:{type:"FONT",defaultValue:"font_5",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_5",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_2",state:"hover"},txth:{type:"TEXT_COLOR",defaultValue:"color_6",state:"hover"}},e["wysiwyg.viewer.skins.button.PlasticButton"]={txt:{type:"TEXT_COLOR",defaultValue:"color_5",state:"regular"},fnt:{type:"FONT",defaultValue:"font_5",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_6",state:"hover"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_2",state:"hover"},rd:{type:"BORDER_RADIUS",defaultValue:"15px",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_1",state:"regular"},xxx:{type:"BG_COLOR_ALPHA",defaultValue:"color_1",state:"regular"}},e["wysiwyg.viewer.skins.button.RibbonButton"]={bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"hover"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"hover"},fnt:{type:"FONT",defaultValue:"font_5",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bgd:{type:"BG_COLOR_ALPHA",defaultValue:"#CCCCCC",state:"disabled"},txtd:{type:"TEXT_COLOR",defaultValue:"#FFFFFF",state:"disabled"}},e["wysiwyg.viewer.skins.button.ScotchTapeButton"]={txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"hover"},fnt:{type:"FONT",defaultValue:"font_5",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},txtd:{type:"TEXT_COLOR",defaultValue:"#FFFFFF",state:"disabled"}},e["wysiwyg.viewer.skins.button.ShineButton"]={bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_1",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"5px",state:"regular"},xxx:{type:"BG_COLOR_ALPHA",defaultValue:"color_1",state:"regular"},fnt:{type:"FONT",defaultValue:"font_5",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_5",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_2",state:"hover"},txth:{type:"TEXT_COLOR",defaultValue:"color_6",state:"hover"}},e["wysiwyg.viewer.skins.button.ShinyButtonIISkin"]={rd:{type:"BORDER_RADIUS",defaultValue:"5px",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},fnt:{type:"FONT",defaultValue:"font_5",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"hover"},brdh:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"hover"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"hover"},bgd:{type:"BG_COLOR_ALPHA",defaultValue:"#CCCCCC",state:"disabled"},brdd:{type:"BORDER_COLOR_ALPHA",defaultValue:"#CCCCCC",state:"disabled"},txtd:{type:"TEXT_COLOR",defaultValue:"#FFFFFF",state:"disabled"}},e["wysiwyg.viewer.skins.button.ShinyButtonInverted"]={rd:{type:"BORDER_RADIUS",defaultValue:"5px",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},fnt:{type:"FONT",defaultValue:"font_5",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"hover"},brdh:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"hover"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"hover"},bgd:{type:"BG_COLOR_ALPHA",defaultValue:"#CCCCCC",state:"disabled"},brdd:{type:"BORDER_COLOR_ALPHA",defaultValue:"#CCCCCC",state:"disabled"},txtd:{type:"TEXT_COLOR",defaultValue:"#FFFFFF",state:"disabled"}},e["wysiwyg.viewer.skins.button.ShinyButtonISkin"]={rd:{type:"BORDER_RADIUS",defaultValue:"5px",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},fnt:{type:"FONT",defaultValue:"font_5",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"hover"},brdh:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"hover"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"hover"},bgd:{type:"BG_COLOR_ALPHA",defaultValue:"#CCCCCC",state:"disabled"},brdd:{type:"BORDER_COLOR_ALPHA",defaultValue:"#CCCCCC",state:"disabled"},txtd:{type:"TEXT_COLOR",defaultValue:"#FFFFFF",state:"disabled"}},e["wysiwyg.viewer.skins.button.ShinyGradientButton"]={txt:{type:"TEXT_COLOR",defaultValue:"color_5",state:"regular"},fnt:{type:"FONT",defaultValue:"font_5",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_6",state:"hover"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_2",state:"hover"},rd:{type:"BORDER_RADIUS",defaultValue:"15px",state:"regular"},xxx:{type:"BG_COLOR_ALPHA",defaultValue:"color_1",state:"regular"}},e["wysiwyg.viewer.skins.button.ShinyPillButton"]={bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_1",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"80px",state:"regular"},xxx:{type:"BG_COLOR_ALPHA",defaultValue:"color_1",state:"regular"},fnt:{type:"FONT",defaultValue:"font_5",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_5",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_2",state:"hover"},txth:{type:"TEXT_COLOR",defaultValue:"color_6",state:"hover"}},e["wysiwyg.viewer.skins.button.SiteButtonBlueSkin"]={borderColor:{type:"BORDER_COLOR",defaultValue:"#5b8fa7",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"4px",state:"regular"},bgColor:{type:"BG_COLOR_ALPHA",defaultValue:"#2aa7ea",state:"regular"},borderColorOver:{type:"BORDER_COLOR",defaultValue:"#237aa7",state:"hover"},bgColorOver:{type:"BG_COLOR_ALPHA",defaultValue:"#179ce1",state:"hover"},shadowColor:{type:"BOX_SHADOW_COLOR_ALPHA",defaultValue:"0, 0, 0, 0.2",state:"hover"},shadowInsetColorOver:{type:"BOX_SHADOW_COLOR_ALPHA",defaultValue:"68, 175, 233, 0.7",state:"hover"},labelColor:{type:"TEXT_COLOR",defaultValue:"#ffffff",state:"regular"}},e["wysiwyg.viewer.skins.button.SiteButtonSkin"]={xxx:{type:"BG_COLOR_ALPHA",defaultValue:"color_1",state:"regular"},fnt:{type:"FONT",defaultValue:"font_5",state:"regular"},clr:{type:"TEXT_COLOR",defaultValue:"color_1",state:"regular"}},e["wysiwyg.viewer.skins.button.SloopyButton"]={bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"hover"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"hover"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},fnt:{type:"FONT",defaultValue:"font_5",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bgd:{type:"BG_COLOR_ALPHA",defaultValue:"#CCCCCC",state:"disabled"},txtd:{type:"TEXT_COLOR",defaultValue:"#FFFFFF",state:"disabled"}},e["wysiwyg.viewer.skins.button.TextOnlyButtonSkin"]={txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"hover"},fnt:{type:"FONT",defaultValue:"font_5",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},txtd:{type:"TEXT_COLOR",defaultValue:"#FFFFFF",state:"disabled"}},e["wysiwyg.viewer.skins.button.ViewerButtonBlueSkin"]={borderColor:{type:"BORDER_COLOR",defaultValue:"#5b8fa7",state:"regular"},$borderRadius:{type:"BORDER_RADIUS",defaultValue:"4px",state:"regular"},bgColor:{type:"BG_COLOR_ALPHA",defaultValue:"#2aa7ea",state:"regular"},borderColorOver:{type:"BORDER_COLOR",defaultValue:"#237aa7",state:"regular"},bgColorOver:{type:"BG_COLOR_ALPHA",defaultValue:"#179ce1",state:"regular"},shadowColor:{type:"BOX_SHADOW_COLOR_ALPHA",defaultValue:"0, 0, 0, 0.2",state:"regular"},shadowInsetColorOver:{type:"BOX_SHADOW_COLOR_ALPHA",defaultValue:"68, 175, 233, 0.7",state:"regular"},shadowInsetColor:{type:"BOX_SHADOW_COLOR_ALPHA",defaultValue:"0, 0, 0, 0.7",state:"regular"},labelColor:{type:"TEXT_COLOR",defaultValue:"#ffffff",state:"regular"},borderGrayColor:{type:"BORDER_COLOR",defaultValue:"#c4c4c4",state:"regular"},bgGrayColor:{type:"BG_COLOR_ALPHA",defaultValue:"#f9fafc",state:"regular"},borderGrayColorOver:{type:"BORDER_COLOR",defaultValue:"#89a4af",state:"regular"},bgGrayColorOver:{type:"BG_COLOR_ALPHA",defaultValue:"#f2f3f5",state:"regular"},labelGrayColor:{type:"TEXT_COLOR",defaultValue:"#24a0c4",state:"regular"},borderDisabledColor:{type:"BORDER_COLOR",defaultValue:"#d5d5d5",state:"regular"},bgDisabledColor:{type:"BG_COLOR_ALPHA",defaultValue:"#f9fafc",state:"regular"},labelDisabledColor:{type:"TEXT_COLOR",defaultValue:"#c4c4c4",state:"regular"}},e["skins.viewer.galleryslider.SliderDisplayerIronSkin2"]={shd:{type:"BOX_SHADOW",defaultValue:"0 1px 3px rgba(0, 0, 0, 0.5)",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"2px",state:"hover"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"hover"},ishd:{type:"BOX_SHADOW",defaultValue:"inset 0 0 6px 0 rgba(255, 255, 255, 0.59), inset 0 1px 0 0 rgba(255, 255, 255, 0.92), inset 0 0 5px 0 0 rgba(255, 255, 255, 0.2)",state:"regular"},fntds:{type:"FONT",defaultValue:"font_8",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.galleryslider.SliderDisplayerDefaultSkin"]={rd:{type:"BORDER_RADIUS",defaultValue:"5px",state:"hover"},brw:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"hover"},fntds:{type:"FONT",defaultValue:"font_8",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.gallery.SliderGalleryBorder"]={rd:{type:"BORDER_RADIUS",defaultValue:"5px",state:"hover"},brw:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"hover"},fntds:{type:"FONT",defaultValue:"font_8",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.galleryselectableslider.SelectableSliderDisplayerDefaultSkin"]={brw:{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_13",state:"hover"},brs:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.galleryselectableslider.SelectableSliderGalleryDefaultSkin"]={brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_13",state:"hover"},brw:{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},brs:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.galleryslider.SliderDisplayerVintageSkin"]={shd:{type:"BOX_SHADOW",defaultValue:"0 1px 5px rgba(0, 0, 0, 0.1)",state:"regular"},bg:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_11",state:"hover"},brw:{type:"BORDER_SIZE",defaultValue:"5px",state:"regular"},fntds:{type:"FONT",defaultValue:"font_8",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.galleryslider.SliderDisplayerCircleSkin"]={brd:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},brw:{type:"SIZE",defaultValue:"0",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"50%",state:"hover"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"hover"},fntds:{type:"FONT",defaultValue:"font_8",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.galleryslider.SliderGalleryCircleSkin"]={brd:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},brw:{type:"SIZE",defaultValue:"0",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"50%",state:"hover"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"hover"},fntds:{type:"FONT",defaultValue:"font_8",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.galleryslider.SliderGalleryDefaultSkin"]={rd:{type:"BORDER_RADIUS",defaultValue:"5px",state:"hover"},brw:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"hover"},fntds:{type:"FONT",defaultValue:"font_8",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.galleryslider.SliderDisplayerIronSkin"]={shd:{type:"BOX_SHADOW",defaultValue:"0 1px 3px rgba(0, 0, 0, 0.5)",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"2px",state:"hover"},brd:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"12px",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"hover"},ishd:{type:"BOX_SHADOW",defaultValue:"rgba(255, 255, 255, 0.59) 0px 0px 6px 0px inset, rgba(255, 255, 255, 0.92) 0px 1px 0px 0px inset, rgba(255, 255, 255, 0.2) 0px 0px 5px 0px inset",state:"regular"},fntds:{type:"FONT",defaultValue:"font_8",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.galleryslider.SliderGalleryIronSkin"]={ishd:{type:"BOX_SHADOW",defaultValue:"rgba(255, 255, 255, 0.59) 0px 0px 6px 0px inset, rgba(255, 255, 255, 0.92) 0px 1px 0px 0px inset, rgba(255, 255, 255, 0.2) 0px 0px 5px 0px inset",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 3px rgba(0, 0, 0, 0.5)",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"2px",state:"hover"},brd:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"12px",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"hover"},fntds:{type:"FONT",defaultValue:"font_8",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.galleryslider.SliderGalleryMinimal"]={rd:{type:"BORDER_RADIUS",defaultValue:"5px",state:"hover"},brw:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"hover"},fntds:{type:"FONT",defaultValue:"font_8",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.galleryslider.SliderDisplayerNoArrows"]={rd:{type:"BORDER_RADIUS",defaultValue:"5px",state:"hover"},brw:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"hover"},fntds:{type:"FONT",defaultValue:"font_8",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.galleryslider.SliderGalleryNoArrow"]={rd:{type:"BORDER_RADIUS",defaultValue:"5px",state:"hover"},brw:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"hover"},fntds:{type:"FONT",defaultValue:"font_8",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.galleryslider.SliderDisplayerScotchTapeSkin"]={rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"hover"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 3px rgba(0, 0, 0, 0.5)",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"hover"},fntds:{type:"FONT",defaultValue:"font_8",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.galleryslider.SliderGalleryScotchTapeSkin"]={rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"hover"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 3px rgba(0, 0, 0, 0.5)",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"hover"},fntds:{type:"FONT",defaultValue:"font_8",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.galleryslider.SliderGalleryVintageSkin"]={shd:{type:"BOX_SHADOW",defaultValue:"0 1px 5px rgba(0, 0, 0, 0.1)",state:"regular"},bg:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_11",state:"hover"},brw:{type:"BORDER_SIZE",defaultValue:"5px",state:"regular"},fntds:{type:"FONT",defaultValue:"font_8",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.appinputs.AppsTextInputSkin"]={shd:{type:"BOX_SHADOW",defaultValue:"0 0 0 transparent",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},fnt:{type:"FONT",defaultValue:"font_8",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"#ffffff",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"#e3e3e3",state:"regular"},txt2:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"#ffffff",state:"hover"},brwh:{type:"BORDER_SIZE",defaultValue:"1px",state:"hover"},brdh:{type:"BORDER_COLOR_ALPHA",defaultValue:"#a3d9f6",state:"hover"},bgf:{type:"BG_COLOR_ALPHA",defaultValue:"#ffffff",state:"focus"},brwf:{type:"BORDER_SIZE",defaultValue:"1px",state:"focus"},brdf:{type:"BORDER_COLOR_ALPHA",defaultValue:"#a3d9f6",state:"focus"},bge:{type:"BG_COLOR_ALPHA",defaultValue:"#ffffff",state:"error"},brwe:{type:"BORDER_SIZE",defaultValue:"1px",state:"error"},brde:{type:"BORDER_COLOR_ALPHA",defaultValue:"#a3d9f6",state:"error"},bgd:{type:"BG_COLOR_ALPHA",defaultValue:"#CCCCCC",state:"disabled"},txtd:{type:"TEXT_COLOR",defaultValue:"#FFFFFF",state:"disabled"},brwd:{type:"BORDER_SIZE",defaultValue:"1px",state:"disabled"},brdd:{type:"BORDER_COLOR_ALPHA",defaultValue:"#a3d9f6",state:"disabled"}},e["mobile.core.skins.ImageNewSkin"]={},e["wysiwyg.viewer.skins.ClipArtSkin"]={},e["wysiwyg.viewer.skins.photo.CirclePhoto"]={shd:{type:"BOX_SHADOW",defaultValue:"0 1px 3px rgba(0, 0, 0, 0.5)",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"2px",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_11",state:"regular"}},e["wysiwyg.viewer.skins.photo.DefaultPhoto"]={},e["wysiwyg.viewer.skins.photo.DoubleBorderCirclePhoto"]={bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},sz1:{type:"BORDER_SIZE",defaultValue:"4px",state:"regular"},brd1:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_14",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"50%",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 3px rgba(0, 0, 0, 0.5)",state:"regular"},sz2:{type:"MARGIN_SIZE",defaultValue:"6px",state:"regular"},sz4:{type:"MARGIN_SIZE",defaultValue:"10px",state:"regular"},sz3:{type:"BORDER_SIZE",defaultValue:"8px",state:"regular"},brd2:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_14",state:"regular"}},e["wysiwyg.viewer.skins.photo.DoubleBorderPhoto"]={bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 3px rgba(0, 0, 0, 0.5)",state:"regular"},mrg1:{type:"MARGIN_SIZE",defaultValue:"7px",state:"regular"},brd1:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},sz1:{type:"BORDER_SIZE",defaultValue:"3px",state:"regular"},brd2:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_14",state:"regular"},sz2:{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"},mrg2:{type:"MARGIN_SIZE",defaultValue:"5px",state:"regular"}},e["wysiwyg.viewer.skins.photo.GlowLinePhoto"]={rd:{type:"BORDER_RADIUS",defaultValue:"2px",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 2px 5px rgba(0, 0, 0, 0.53)",state:"regular"}},e["wysiwyg.viewer.skins.photo.IronPhoto"]={rd:{type:"BORDER_RADIUS",defaultValue:"2px",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 2px 5px rgba(0, 0, 0, 0.53)",state:"regular"}},e["wysiwyg.viewer.skins.photo.LiftedShadowPhoto"]={rd:{type:"BORDER_RADIUS",defaultValue:"3px",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"2px",state:"regular"}},e["wysiwyg.viewer.skins.photo.LiftedTopPhoto"]={rd:{type:"BORDER_RADIUS",defaultValue:"3px",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"2px",state:"regular"}},e["wysiwyg.viewer.skins.photo.MouseOverPhoto"]={rd:{type:"BORDER_RADIUS",defaultValue:"5px",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 3px rgba(0, 0, 0, 0.5)",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"2px",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.photo.NewPolaroidPhoto"]={shd:{type:"BOX_SHADOW",defaultValue:"0 1px 2px 1px rgba(0, 0, 0, 0.1)",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"10px",state:"regular"}},e["wysiwyg.viewer.skins.photo.NoSkinPhoto"]={},e["wysiwyg.viewer.skins.photo.PaperclipPhoto"]={shd:{type:"BOX_SHADOW",defaultValue:"0 1px 3px rgba(0, 0, 0, 0.5)",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"}},e["wysiwyg.viewer.skins.photo.PolaroidPhoto"]={rd:{type:"BORDER_RADIUS",defaultValue:"5px",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 3px rgba(0, 0, 0, 0.5)",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"2px",state:"regular"}},e["wysiwyg.viewer.skins.photo.RoundPhoto"]={rd:{type:"BORDER_RADIUS",defaultValue:"5px",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 3px rgba(0, 0, 0, 0.5)",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"2px",state:"regular"}},e["wysiwyg.viewer.skins.photo.RoundShadowPhoto"]={rd:{type:"BORDER_RADIUS",defaultValue:"5px",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 3px rgba(0, 0, 0, 0.5)",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"2px",state:"regular"}},e["wysiwyg.viewer.skins.photo.ScotchDoubleHorizontal"]={rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 2px 5px rgba(0, 0, 0, 0.15)",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"10px",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_11",state:"regular"}},e["wysiwyg.viewer.skins.photo.ScotchDoubleVertical"]={rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 2px 5px rgba(0, 0, 0, 0.15)",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"10px",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_11",state:"regular"}},e["wysiwyg.viewer.skins.photo.ScotchTapePhoto"]={shd:{type:"BOX_SHADOW",defaultValue:"0 1px 3px rgba(0, 0, 0, 0.5)",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"}},e["wysiwyg.viewer.skins.photo.ScotchTopPhoto"]={rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 2px 5px rgba(0, 0, 0, 0.15)",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"10px",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_11",state:"regular"}},e["wysiwyg.viewer.skins.photo.SloppyPhoto"]={},e["wysiwyg.viewer.skins.photo.VintagePhoto"]={brw:{type:"BORDER_SIZE",defaultValue:"10px",state:"regular"},clr:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},pad:{type:"PADDING_SIZE",defaultValue:"15px",state:"regular"}},e["wysiwyg.viewer.skins.WRichTextClickableSkin"]={},e["wysiwyg.viewer.skins.WRichTextNewSkin"]={},e["wysiwyg.viewer.skins.WRichTextSkin"]={},e["wysiwyg.common.components.basicmenu.viewer.skins.BasicMenuSkin"]={},e["wysiwyg.common.components.multiselection.viewer.skins.MultiSelectionSkin"]={},e["wysiwyg.common.components.multiselectionitem.viewer.skins.MultiSelectionItemSkin"]={},e["wysiwyg.viewer.skins.appinputs.AppsTextInputSkinNoValidation"]={bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_12",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_14",state:"regular"}},e["wysiwyg.viewer.skins.appinputs.DateInputSkin"]={},e["wysiwyg.viewer.skins.AreaSkin"]={$BorderRadius30:{type:"BORDER_RADIUS",defaultValue:"30px",state:"regular"}},e["wysiwyg.viewer.skins.displayers.BorderDisplayer"]={bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"5px",state:"regular"}},e["wysiwyg.viewer.skins.displayers.DetailedDisplayerSkin"]={bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},fnt:{type:"FONT",defaultValue:"font_7",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.displayers.LiftedShadowDisplayer"]={bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"3px",state:"regular"},fnt:{type:"FONT",defaultValue:"font_7",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.displayers.MinimalDisplayer"]={rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"}},e["wysiwyg.viewer.skins.displayers.SimpleDetailedDisplayer"]={},e["wysiwyg.viewer.skins.dropmenu.ArrowsMenuNSkin"]={rdDrop:{type:"BORDER_RADIUS",defaultValue:"3px",state:"regular"},bg:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},pad:{type:"MARGIN_SIZE",defaultValue:"5px",state:"regular"},bgh:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bgs:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_18",state:"regular"}},e["wysiwyg.viewer.skins.dropmenu.CirclesMenuNSkin"]={pad:{type:"PADDING_SIZE",defaultValue:"5px",state:"regular"},bgDrop:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},rdDrop:{type:"BORDER_RADIUS",defaultValue:"10px",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"50%",state:"regular"},brw:{type:"PADDING_SIZE",defaultValue:"0",state:"regular"},brd:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},brdh:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},brds:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bgs:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"regular"},txts:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},nord:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"}},e["wysiwyg.viewer.skins.dropmenu.ForkedBannerMenuSkin"]={bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_14",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},brw:{type:"BORDER_TOP_SIZE",defaultValue:"1px",state:"regular"},brd:{type:"COLOR",defaultValue:"color_17",state:"regular"},rb3:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},rb4:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},rb1:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_14",state:"regular"},rb2:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_14",state:"regular"},bgDrop:{type:"TEXT_COLOR",defaultValue:"color_11",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"hover"},bgs:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"regular"},fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"hover"},txts:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.dropmenu.ForkedRibbonMenuSkin"]={bg:{type:"BORDER_COLOR",defaultValue:"color_14",state:"regular"},bgDrop:{type:"TEXT_COLOR",defaultValue:"color_11",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"hover"},bgs:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"regular"},fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},brw:{type:"BORDER_TOP_SIZE",defaultValue:"1px",state:"regular"},brd:{type:"COLOR",defaultValue:"color_17",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"hover"},txts:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.dropmenu.SeparateArrowDownMenuNSkin"]={bgDrop:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"10px",state:"regular"},pad:{type:"MARGIN_SIZE",defaultValue:"5px",state:"regular"},fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},brdh:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bgs:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"regular"},brds:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},txts:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.dropmenu.SeparatedArrowsMenuNSkin"]={bg:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"10px",state:"regular"},pad:{type:"MARGIN_SIZE",defaultValue:"5px",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},bgh:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bgs:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_18",state:"regular"},txts:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},brwA:{type:"SIZE",defaultValue:"10px",state:"regular"}},e["wysiwyg.viewer.skins.dropmenu.SlantedMenuNSkin"]={pad:{type:"MARGIN_LEFT_SIZE",defaultValue:"1",state:"regular"},bgDrop:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},rdDrop:{type:"BORDER_RADIUS",defaultValue:"10px",state:"regular"},padLeft:{type:"MARGIN_LEFT_SIZE",defaultValue:"70",state:"regular"},fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bg:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},bgh:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},bgs:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_18",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},txts:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.gallery.LiftedShadowMatrixGallery"]={bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"3px",state:"regular"},fnt:{type:"FONT",defaultValue:"font_7",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.gallery.MatrixGalleryMinimal"]={rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},"lnk-h":{type:"BORDER_COLOR",defaultValue:"color_6",state:"hover"},lnk:{type:"COLOR_ALPHA",defaultValue:"color_6",state:"regular"}},e["wysiwyg.viewer.skins.displayers.TextBelowDisplayerSkin"]={brw:{type:"BORDER_SIZE",defaultValue:"12px",state:"regular"},fnt:{type:"FONT",defaultValue:"font_8",state:"regular"},ttl:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},fntds:{type:"FONT",defaultValue:"font_9",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.gallery.MatrixGalleryTextBelowSkin"]={bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_1",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"12px",state:"regular"},fnt:{type:"FONT",defaultValue:"font_8",state:"regular"},ttl:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},fntds:{type:"FONT",defaultValue:"font_9",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.displayers.TextOnRollDisplayerSkin"]={bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_6",state:"regular"},fnt:{type:"FONT",defaultValue:"font_8",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},fnt1:{type:"FONT",defaultValue:"font_8",state:"regular"}},e["wysiwyg.viewer.skins.gallery.TextOnRollMatrixGallerySkin"]={bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"5px",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 2px rgba(0, 0, 0, 0.6)",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_6",state:"regular"},fnt:{type:"FONT",defaultValue:"font_8",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},fnt1:{type:"FONT",defaultValue:"font_8",state:"regular"}},e["wysiwyg.viewer.skins.gallerymatrix.MatrixDisplayerGlowLine"]={shd:{type:"BOX_SHADOW",defaultValue:"0 2px 5px rgba(0, 0, 0, 0.53)",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"2px",state:"regular"},ishd:{type:"BOX_SHADOW",defaultValue:"inset 0 2px 0 rgba(255, 255, 255, 0.5), inset 0 1px 10px 1px rgba(255, 255, 255, 0.4), inset 0 0 59px rgba(0, 0, 0, 0.59)",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},fntt:{type:"FONT",defaultValue:"font_6",state:"regular"},ttl:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},fntds:{type:"FONT",defaultValue:"font_8",state:"regular"}},e["wysiwyg.viewer.skins.gallerymatrix.GlowLineMatrixGallery"]={txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},fntds:{type:"FONT",defaultValue:"font_8",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 2px 5px rgba(0, 0, 0, 0.53)",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"2px",state:"regular"},ishd:{type:"BOX_SHADOW",defaultValue:"inset 0 2px 0 rgba(255, 255, 255, 0.5), inset 0 1px 10px 1px rgba(255, 255, 255, 0.4), inset 0 0 59px rgba(0, 0, 0, 0.59)",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},fntt:{type:"FONT",defaultValue:"font_6",state:"regular"},ttl:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.IFrameComponentSkin"]={},e["wysiwyg.viewer.skins.input.CheckBoxInputSkin"]={rd:{type:"BORDER_RADIUS",defaultValue:"3px",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 0 0 transparent",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"#999999",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"#ffffff",state:"regular"}},e["wysiwyg.viewer.skins.input.CheckBoxInputSkinNoValidation"]={brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"#aaa",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"#fff",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"3px",state:"regular"}},e["wysiwyg.viewer.skins.input.ComboBoxInputSimpleSkin"]={$borderRadius:{type:"BORDER_RADIUS",defaultValue:"3px",state:"regular"},shadowColor:{type:"BOX_SHADOW_COLOR_ALPHA",defaultValue:"0, 0, 0, 0.1",state:"regular"}},e["wysiwyg.viewer.skins.input.SMLoginCheckBoxSkin"]={},e["wysiwyg.viewer.skins.input.TextAreaInputSkinNoValidation"]={},e["wysiwyg.viewer.skins.input.TextInputRoundSkin"]={rd:{type:"BORDER_RADIUS",defaultValue:"10px",state:"regular"},boxShadow:{type:"BOX_SHADOW",defaultValue:"inset 1px 1px 4px #CCCCCC",state:"regular"}},e["wysiwyg.viewer.skins.input.TextInputSkin"]={},e["wysiwyg.viewer.skins.menubutton.SeparateShinyIMenuButtonSkin"]={pad:{type:"PADDING_SIZE",defaultValue:"5px",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"10px",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"hover"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"hover"},bgs:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"regular"},txts:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.menubutton.ShinyMenuIButtonSkin"]={brd:{type:"COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},pad:{type:"PADDING_SIZE",defaultValue:"5px",state:"regular"},fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"hover"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"hover"},bgs:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"regular"},txts:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.MobileTryAgainMessageViewSkin"]={rd:{type:"BORDER_RADIUS",defaultValue:"5px",state:"regular"}},e["wysiwyg.viewer.skins.ModalSkin"]={},e["wysiwyg.viewer.skins.option.InfoTipSkin"]={rd:{type:"BORDER_RADIUS",defaultValue:"5px",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"}},e["wysiwyg.viewer.skins.paginatedgrid.counter.CounterTextSkin"]={},e["wysiwyg.viewer.skins.paginatedgrid.PaginatedGridPolaroid"]={txt:{type:"TEXT_COLOR",defaultValue:"color_2",state:"hover"},txtHi:{type:"BG_COLOR_ALPHA",defaultValue:"color_4",state:"regular"},txtGrayed:{type:"COLOR_ALPHA",defaultValue:"color_2",state:"regular"}},e["wysiwyg.viewer.skins.photo.LfShwDBPhoto"]={rd:{type:"BORDER_RADIUS",defaultValue:"3px",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 0 3px rgba(0, 0, 0, 0.5)",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"2px",state:"regular"}},e["wysiwyg.viewer.skins.SliderGallerySkin"]={bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},fnt:{type:"FONT",defaultValue:"font_7",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.SlideShowGallerySkin"]={bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},fnt:{type:"FONT",defaultValue:"font_7",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.sm.SMApplyForMembershipSkin"]={},e["wysiwyg.viewer.skins.sm.SMRegisterSkin"]={},e["wysiwyg.viewer.skins.sm.SMContainerSkin"]={txt:{type:"TEXT_COLOR",defaultValue:"#9c9c9c",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"#ffffff",state:"regular"}},e["wysiwyg.viewer.skins.sm.SMLoginSkin"]={},e["wysiwyg.viewer.skins.sm.SMProfileSkin"]={},e["wysiwyg.viewer.skins.sm.SMResetPasswordEmailSkin"]={},e["wysiwyg.viewer.skins.sm.SMResetPasswordSkin"]={},e["wysiwyg.viewer.skins.TryAgainMessageViewSkin"]={rd:{type:"BORDER_RADIUS",defaultValue:"5px",state:"regular"},borderColor:{type:"BORDER_COLOR",defaultValue:"#5b8fa7",state:"regular"},$borderRadius:{type:"BORDER_RADIUS",defaultValue:"4px",state:"regular"},bgColor:{type:"BG_COLOR_ALPHA",defaultValue:"#2aa7ea",state:"regular"},borderColorOver:{type:"BORDER_COLOR",defaultValue:"#237aa7",state:"regular"},bgColorOver:{type:"BG_COLOR_ALPHA",defaultValue:"#179ce1",state:"regular"},shadowColor:{type:"BOX_SHADOW_COLOR_ALPHA",defaultValue:"0, 0, 0, 0.2",state:"regular"},shadowInsetColorOver:{type:"BOX_SHADOW_COLOR_ALPHA",defaultValue:"68, 175, 233, 0.7",state:"regular"},shadowInsetColor:{type:"BOX_SHADOW_COLOR_ALPHA",defaultValue:"0, 0, 0, 0.7",state:"regular"},labelColor:{type:"TEXT_COLOR",defaultValue:"#ffffff",state:"regular"},borderGrayColor:{type:"BORDER_COLOR",defaultValue:"#c4c4c4",state:"regular"},bgGrayColor:{type:"BG_COLOR_ALPHA",defaultValue:"#f9fafc",state:"regular"},borderGrayColorOver:{type:"BORDER_COLOR",defaultValue:"#89a4af",state:"regular"},bgGrayColorOver:{type:"BG_COLOR_ALPHA",defaultValue:"#f2f3f5",state:"regular"},labelGrayColor:{type:"TEXT_COLOR",defaultValue:"#24a0c4",state:"regular"},borderDisabledColor:{type:"BORDER_COLOR",defaultValue:"#d5d5d5",state:"regular"},bgDisabledColor:{type:"BG_COLOR_ALPHA",defaultValue:"#f9fafc",state:"regular"},labelDisabledColor:{type:"TEXT_COLOR",defaultValue:"#c4c4c4",state:"regular"}},e["wysiwyg.viewer.skins.wphoto.PaperclipWPhotoSkin"]={$boxShadow:{type:"BOX_SHADOW",defaultValue:"0 1px 3px rgba(0, 0, 0, 0.5)",state:"regular"},$bgColor:{type:"BG_COLOR_ALPHA",defaultValue:"color_1",state:"regular"}},e["wysiwyg.viewer.skins.wphoto.PolaroidWPhotoSkin"]={$boxShadow:{type:"BOX_SHADOW",defaultValue:"0 1px 3px rgba(0, 0, 0, 0.5)",state:"regular"},$bgColor:{type:"BG_COLOR_ALPHA",defaultValue:"color_1",state:"regular"}},e["wysiwyg.viewer.skins.input.CheckBoxGroupInputSkin"]={rd:{type:"BORDER_RADIUS",defaultValue:"3px",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 0 0 transparent",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"#999999",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"#ffffff",state:"regular"},fnt:{type:"FONT",defaultValue:"font_7",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.input.NumberInputSkin"]={brd:{type:"BORDER_COLOR",defaultValue:"#cccccc",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"#000000",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"#ffffff",state:"regular"}},e["wysiwyg.viewer.skins.input.RadioGroupInputSkin"]={rd:{type:"BORDER_RADIUS",defaultValue:"50%",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 0 0 transparent",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"2px",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"#999999",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"#ffffff",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},fnt:{type:"FONT",defaultValue:"font_7",state:"regular"}},e["skins.core.ButtonSkin"]={},e["skins.core.ContactItemSkin"]={fontColor:{type:"TEXT_COLOR",defaultValue:"textColor",state:"regular"},itemSpacing:{type:"CSSString",defaultValue:"itemSpacing",state:"regular"},$ButtonIconBgColor:{type:"BG_COLOR_ALPHA",defaultValue:"iconBgColor",state:"regular"},iconSize:{type:"WIDTH_SIZE",defaultValue:"iconSize",state:"regular"},$font:{type:"FONT",defaultValue:"fontButton",state:"regular"}},e["skins.core.GlobalMenuSkin"]={},e["skins.core.HeaderSkin"]={headerSpacing:{type:"MARGIN_TOP_SIZE",defaultValue:"headerSpacing",state:"regular"},$bgColor:{type:"BG_COLOR_ALPHA",defaultValue:"headerBgColor",state:"regular"},fontColor:{type:"TEXT_COLOR",defaultValue:"headerTextColor",state:"regular"},$font:{type:"FONT",defaultValue:"fontHeader",state:"regular"}},e["skins.core.HomeButtonSkin"]={ButtonBorder:{type:"CSSString",defaultValue:"borderButton",state:"regular"},sitePadding:{type:"CSSString",defaultValue:"padding1",state:"regular"},componentSpacing:{type:"CSSString",defaultValue:"componentSpacing",state:"regular"},$BorderRadius:{type:"BORDER_RADIUS",defaultValue:"radiusButton",state:"regular"},$ButtonBgColor:{type:"BG_COLOR_ALPHA",defaultValue:"areaBgColor",state:"regular"},padding:{type:"CSSString",defaultValue:"padding2",state:"regular"},fontColor:{type:"TEXT_COLOR",defaultValue:"textColor",state:"regular"},$font:{type:"FONT",defaultValue:"fontButton",state:"regular"}},e["skins.core.MenuButtonSkin"]={ButtonBorder:{type:"CSSString",defaultValue:"borderButton",state:"regular"},ItemSpacing:{type:"CSSString",defaultValue:"itemSpacing",state:"regular"},$BorderRadius:{type:"BORDER_RADIUS",defaultValue:"radiusButton",state:"regular"},iconSize:{type:"PADDING_SIZE",defaultValue:"iconSize",state:"regular"},fontColor:{type:"TEXT_COLOR",defaultValue:"textColor",state:"regular"},$ButtonBgColor:{type:"BG_COLOR_ALPHA",defaultValue:"areaBgColor",state:"regular"},$ButtonIconBorder:{type:"CSSString",defaultValue:"borderIcon",state:"regular"},$ButtonIconBgColor:{type:"BG_COLOR_ALPHA",defaultValue:"iconBgColor",state:"regular"},$ButtonIconBorderRadius:{type:"BORDER_RADIUS",defaultValue:"radiusIcon",state:"regular"},bulletSize:{type:"PADDING_SIZE",defaultValue:"bulletSize",state:"regular"},$font:{type:"FONT",defaultValue:"fontButton",state:"regular"}},e["skins.core.NetworkItemSkin"]={itemSpacing:{type:"CSSString",defaultValue:"itemSpacing",state:"regular"},$ButtonIconBgColor:{type:"BG_COLOR_ALPHA",defaultValue:"iconBgColor",state:"regular"},iconSize:{type:"WIDTH_SIZE",defaultValue:"iconSize",state:"regular"},$font:{type:"FONT",defaultValue:"fontButton",state:"regular"},fontColor:{type:"TEXT_COLOR",defaultValue:"textColor",state:"regular"}},e["skins.core.NetworkListSkin"]={componentSpacing:{type:"CSSString",defaultValue:"componentSpacing",state:"regular"},$BorderRadius:{type:"BORDER_RADIUS",defaultValue:"radiusContainer",state:"regular"},$bgColor:{type:"BG_COLOR_ALPHA",defaultValue:"areaBgColor",state:"regular"},padding:{type:"CSSString",defaultValue:"padding1",state:"regular"},border:{type:"CSSString",defaultValue:"borderContainer",state:"regular"}},e["skins.core.PhotoFullScreenSkin"]={$overlayBgColor:{type:"BG_COLOR_ALPHA",defaultValue:"0, 0, 0, 0.8",state:"regular"},padding:{type:"CSSString",defaultValue:"padding1",state:"regular"},overlayFontColor:{type:"TEXT_COLOR",defaultValue:"255, 255, 255, 1",state:"regular"},$fontTitle:{type:"FONT",defaultValue:"fontSubTitle",state:"regular"},$fontDesc:{type:"FONT",defaultValue:"fontText",state:"regular"}},e["skins.core.PhotoGalleryFullScreenDefaultSkin"]={$overlayBgColor:{type:"BG_COLOR_ALPHA",defaultValue:"0, 0, 0, 0.8",state:"regular"},padding:{type:"CSSString",defaultValue:"padding1",state:"regular"},overlayFontColor:{type:"TEXT_COLOR",defaultValue:"255, 255, 255, 1",state:"regular"},$fontTitle:{type:"FONT",defaultValue:"fontSubTitle",state:"regular"},$fontDesc:{type:"FONT",defaultValue:"fontText",state:"regular"}},e["skins.core.PhotoGalleryGridDefaultSkin"]={componentSpacing:{type:"CSSString",defaultValue:"componentSpacing",state:"regular"},thumbSpacing:{type:"CSSString",defaultValue:"thumbSpacing",state:"regular"},$thumbBorderRadius:{type:"BORDER_RADIUS",defaultValue:"radiusThumb",state:"regular"},borderThumb:{type:"CSSString",defaultValue:"borderThumb",state:"regular"}},e["mobile.core.skins.PhotoFullScreenSkin"]={},e["skins.core.PhotoSkin"]={},e["skins.core.RichTextImageSkin"]={itemSpacing:{type:"CSSString",defaultValue:"itemSpacing",state:"regular"},$borderRadius:{type:"BORDER_RADIUS",defaultValue:"radiusContainer",state:"regular"},border:{type:"CSSString",defaultValue:"borderContainer",state:"regular"},$bgColor:{type:"BG_COLOR_ALPHA",defaultValue:"areaBgColor",state:"regular"},$font:{type:"FONT",defaultValue:"fontText",state:"regular"},fontColor:{type:"TEXT_COLOR",defaultValue:"textColor",state:"regular"}},e["skins.core.RichTextSkin"]={$borderRadius:{type:"BORDER_RADIUS",defaultValue:"radiusContainer",state:"regular"},border:{type:"CSSString",defaultValue:"borderContainer",state:"regular"},componentSpacing:{type:"CSSString",defaultValue:"componentSpacing",state:"regular"},$bgColor:{type:"BG_COLOR_ALPHA",defaultValue:"areaBgColor",state:"regular"},padding:{type:"CSSString",defaultValue:"padding1",state:"regular"},fontColor:{type:"TEXT_COLOR",defaultValue:"textColor",state:"regular"},$font:{type:"FONT",defaultValue:"fontText",state:"regular"}},e["skins.core.ServiceItemSkin"]={itemSpacing:{type:"CSSString",defaultValue:"itemSpacing",state:"regular"},border:{type:"CSSString",defaultValue:"borderContainer",state:"regular"},$borderRadius:{type:"BORDER_RADIUS",defaultValue:"radiusContainer",state:"regular"},$bgColor:{type:"BG_COLOR_ALPHA",defaultValue:"areaBgColor",state:"regular"},fontColor:{type:"TEXT_COLOR",defaultValue:"textColor",state:"regular"},$fontTitle:{type:"FONT",defaultValue:"fontSubTitle",state:"regular"},$font:{type:"FONT",defaultValue:"fontText",state:"regular"},$moreBgColor:{type:"BG_COLOR_ALPHA",defaultValue:"textColor",state:"regular"},moreFontColor:{type:"TEXT_COLOR",defaultValue:"areaBgColor",state:"regular"},bgColor:{type:"COLOR",defaultValue:"areaBgColor",state:"regular"}},e["skins.core.ServiceListSkin"]={},e["skins.core.SimpleButtonSkin"]={},e["wysiwyg.viewer.skins.contactform.ButtonBaseSkinDefault"]={},e["wysiwyg.viewer.skins.contactform.ButtonInputSkinDefault"]={},e["wysiwyg.viewer.skins.contactform.InputSkinDefault"]={},e["wysiwyg.viewer.skins.contactform.LabelSkinDefault"]={},e["wysiwyg.viewer.skins.contactform.TextAreaSkinDefault"]={},e["wysiwyg.viewer.skins.ContactFormSkin"]={rd:{type:"BORDER_RADIUS",defaultValue:"3px",state:"regular"},bgc1:{type:"BG_COLOR_ALPHA",defaultValue:"color_3",state:"regular"},fnt:{type:"FONT",defaultValue:"font_7",state:"regular"},c1:{type:"TEXT_COLOR",defaultValue:"color_8",state:"regular"},bgc2:{type:"BG_COLOR_ALPHA",defaultValue:"color_3",state:"regular"},c2:{type:"TEXT_COLOR",defaultValue:"color_8",state:"regular"}},e["contactform.FieldAnimationSkin"]={fnt:{type:"FONT",defaultValue:"font_7",state:"regular"},bg1:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},txt1:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},txtError:{type:"TEXT_COLOR",defaultValue:"#8b0000",state:"regular"},bg3:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},txt4:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},fnt2:{type:"FONT",defaultValue:"font_7",state:"regular"},bg2:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"regular"},txt2:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},txtSuccess:{type:"TEXT_COLOR",defaultValue:"#bada55",state:"regular"}},e["contactform.FullWidthButtonSkin"]={shd:{type:"BOX_SHADOW",defaultValue:"0 0px 0px transparent",state:"regular"},fnt:{type:"FONT",defaultValue:"font_7",state:"regular"},bg1:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"1",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_18",state:"regular"},txt1:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},txtError:{type:"BORDER_COLOR",defaultValue:"#8b0000",state:"regular"},txt3:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bg2:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"regular"},txt2:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},fnt2:{type:"FONT",defaultValue:"font_7",state:"regular"},txtSuccess:{type:"TEXT_COLOR",defaultValue:"#bada55",state:"regular"},maxbrw:{type:"SIZE",defaultValue:"1",state:"regular"}},e["contactform.LineOnlySkin"]={brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},txt1:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},fnt:{type:"FONT",defaultValue:"font_7",state:"regular"},brd2:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_18",state:"focus"},txtError:{type:"BORDER_COLOR",defaultValue:"#FF0000",state:"regular"},txt3:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},txt4:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},fnt2:{type:"FONT",defaultValue:"font_7",state:"regular"},txtSuccess:{type:"TEXT_COLOR",defaultValue:"#bada55",state:"regular"}},e["contactform.OverlappingButtonSkin"]={shd:{type:"BOX_SHADOW",defaultValue:"0 0px 0px transparent",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"1",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bg1:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},fnt:{type:"FONT",defaultValue:"font_7",state:"regular"},txt1:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},labelTxt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},txtError:{type:"TEXT_COLOR",defaultValue:"#8b0000",state:"regular"},brw2:{type:"BORDER_SIZE",defaultValue:"1",state:"regular"},bg2:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"regular"},txt2:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},fnt2:{type:"FONT",defaultValue:"font_7",state:"regular"},txtSuccess:{type:"TEXT_COLOR",defaultValue:"#bada55",state:"regular"}},e["wysiwyg.viewer.skins.contactform.BasicContactFormSkin"]={txt1:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},txtSuccess:{type:"TEXT_COLOR",defaultValue:"#bada55",state:"regular"},txtError:{type:"BORDER_COLOR",defaultValue:"#8b0000",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"5px",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},fnt:{type:"FONT",defaultValue:"font_7",state:"regular"},bg1:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},labelTxt:{type:"TEXT_COLOR",defaultValue:"#a9a9a9",state:"regular"},bg2:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"regular"},fnt2:{type:"FONT",defaultValue:"font_7",state:"regular"},txt2:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},maxbrw:{type:"SIZE",defaultValue:"0",state:"regular"}},e["wysiwyg.viewer.skins.contactform.DefaultContactForm"]={txt1:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},txtSuccess:{type:"TEXT_COLOR",defaultValue:"#bada55",state:"regular"},txtError:{type:"BORDER_COLOR",defaultValue:"#8b0000",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"5px",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},bg1:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},fnt:{type:"FONT",defaultValue:"font_7",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},txt2:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bg2:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"regular"},fnt2:{type:"FONT",defaultValue:"font_7",state:"regular"},labelTxt:{type:"TEXT_COLOR",defaultValue:"#a9a9a9",state:"regular"},maxbrw:{type:"SIZE",defaultValue:"0",state:"regular"}},e["wysiwyg.viewer.skins.contactform.HorizontalContactFormSkin"]={txt1:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},txtSuccess:{type:"TEXT_COLOR",defaultValue:"#bada55",state:"regular"},txtError:{type:"BORDER_COLOR",defaultValue:"#8b0000",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"5px",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},fnt:{type:"FONT",defaultValue:"font_7",state:"regular"},bg1:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},labelTxt:{type:"TEXT_COLOR",defaultValue:"#a9a9a9",state:"regular"},bg2:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"regular"},fnt2:{type:"FONT",defaultValue:"font_7",state:"regular"},txt2:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},maxbrw:{type:"SIZE",defaultValue:"0",state:"regular"}},e["wysiwyg.viewer.skins.contactform.VerticalForm"]={txt3:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},fnt:{type:"FONT",defaultValue:"font_7",state:"regular"},txt1:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},txtSuccess:{type:"TEXT_COLOR",defaultValue:"#bada55",state:"regular"},txtError:{type:"BORDER_COLOR",defaultValue:"#8b0000",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"5px",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},bg1:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},fnt2:{type:"FONT",defaultValue:"font_7",state:"regular"},bg2:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"regular"},txt2:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},maxbrw:{type:"SIZE",defaultValue:"0",state:"regular"}},e["wysiwyg.viewer.skins.contactform.VerticalFormLabelsLeft"]={txt3:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},fnt:{type:"FONT",defaultValue:"font_7",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"5px",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},bg2:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"regular"},fnt2:{type:"FONT",defaultValue:"font_7",state:"regular"},txt2:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},txtSuccess:{type:"TEXT_COLOR",defaultValue:"#bada55",state:"regular"},txtError:{type:"BORDER_COLOR",defaultValue:"#8b0000",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},txt1:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bg1:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},maxbrw:{type:"SIZE",defaultValue:"0",state:"regular"}},e["skins.viewer.area.ScotchDoubleHorizontalArea"]={brw:{type:"BORDER_SIZE",defaultValue:"10px",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"}},e["skins.viewer.area.ScotchDoubleVerticalArea"]={brw:{type:"BORDER_SIZE",defaultValue:"10px",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"}},e["skins.viewer.area.ScotchTopArea"]={brw:{type:"BORDER_SIZE",defaultValue:"10px",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"}},e["wysiwyg.viewer.components.GroupSkin"]={},e["wysiwyg.viewer.skins.area.AppleArea"]={bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"5px",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.area.ArrowRightRibbon"]={rb:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_14",state:"regular"},bg:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_11",state:"regular"}},e["wysiwyg.viewer.skins.area.BlankAreaSkin"]={xxx:{type:"BG_COLOR_ALPHA",defaultValue:"color_6",state:"regular"}},e["wysiwyg.viewer.skins.area.BorderDashDefaultAreaSkin"]={brw:{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"5px",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"}},e["wysiwyg.viewer.skins.area.BubbleArea"]={rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"6px",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.area.BubbleAreaLeft"]={rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px 2px rgba(0, 0, 0, 0.6)",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"6px",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.area.BubbleAreaRight"]={rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px 2px rgba(0, 0, 0, 0.6)",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"6px",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.area.BubbleLeftArea"]={rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"6px",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.area.CenterRibbon"]={shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"2px",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},rb2:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_14",state:"regular"},rb1:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_14",state:"regular"}},e["wysiwyg.viewer.skins.area.CircleArea"]={brw:{type:"BORDER_SIZE",defaultValue:"3px",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"}},e["wysiwyg.viewer.skins.area.CleanZoomAreaSkin"]={},e["wysiwyg.viewer.skins.area.CustomRibbonArea"]={bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},rb3:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},rb1:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_14",state:"regular"},rb2:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.area.DBDefaultAreaSkin"]={sz1:{type:"BORDER_SIZE",defaultValue:"3px",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bg2:{type:"BG_COLOR_ALPHA",defaultValue:"color_16",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 3px rgba(0, 0, 0, 0.5)",state:"regular"},sz2:{type:"SIZE",defaultValue:"5px",state:"regular"},sz3:{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"},brd2:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_14",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"}},e["wysiwyg.viewer.skins.area.DefaultAreaSkin"]={brw:{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"5px",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"}},e["wysiwyg.viewer.skins.area.ForkedRibbonArea"]={bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"2px",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_14",state:"regular"},rb3:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},rb4:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},rb1:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_14",state:"regular"},rb2:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_14",state:"regular"}},e["wysiwyg.viewer.skins.area.ForkedRightRibbon"]={bg:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},rb1:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_14",state:"regular"}},e["wysiwyg.viewer.skins.area.GridArea"]={},e["wysiwyg.viewer.skins.area.InnerMarginAreaSkin"]={$BorderRadius:{type:"BORDER_RADIUS",defaultValue:"10px",state:"regular"},$boxShadow:{type:"BOX_SHADOW",defaultValue:"inset 1px 1px 6px rgba(255, 255, 255, 0.9), inset -1px -1px 6px rgba(0, 0, 0, 0.9), 0 1px 2px rgba(0, 0, 0, 0.7)",state:"regular"},$bgColor:{type:"BG_COLOR_ALPHA",defaultValue:"#000",state:"regular"}},e["wysiwyg.viewer.skins.area.InnerShadowAreaSkin"]={rd:{type:"BORDER_RADIUS",defaultValue:"5px",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"inset 0 1px 2px rgba(0, 0, 0, 0.6), inset 0 -1px 1px rgba(255, 255, 255, 0.75)",state:"regular"}},e["wysiwyg.viewer.skins.area.IronBox"]={bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 2px 5px rgba(0, 0, 0, 0.53)",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"2px",state:"regular"},ishd:{type:"BOX_SHADOW",defaultValue:"inset 0 0 6px 0 rgba(255, 255, 255, 0.59), inset 0 1px 0 0 rgba(255, 255, 255, 0.92), inset 0 0 5px 0 rgba(255, 255, 255, 0.2)",state:"regular"}},e["wysiwyg.viewer.skins.area.LeftTriangleArea"]={bg:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_11",state:"regular"}},e["wysiwyg.viewer.skins.area.LiftedBottomAreaSkin"]={bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.area.LiftedShadowArea"]={bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"5px",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.area.LiftedTopAreaSkin"]={bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.area.LinesAreaSkin"]={brwT:{type:"BORDER_TOP_SIZE",defaultValue:"7px",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},brwB:{type:"BORDER_BOTTOM_SIZE",defaultValue:"0",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"}},e["wysiwyg.viewer.skins.area.PhotoArea"]={bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 5px rgba(0, 0, 0, 0.1)",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"10px",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.area.RibbonAreaSkin"]={bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"6px",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},els:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},elm:{type:"COLOR_ALPHA",defaultValue:"color_15",state:"regular"},elm2:{type:"COLOR_ALPHA",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.area.RightTriangleArea"]={bg:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_11",state:"regular"}},e["wysiwyg.viewer.skins.area.RoundArea"]={brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"5px",state:"regular"},xxx:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"}},e["wysiwyg.viewer.skins.area.RoundShadowArea"]={brw:{type:"BORDER_SIZE",defaultValue:"15px",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"5px",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},xxx:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"}},e["wysiwyg.viewer.skins.area.SandClockArea"]={bg:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_11",state:"regular"}},e["wysiwyg.viewer.skins.area.SloopyArea"]={bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"}},e["wysiwyg.viewer.skins.area.ThreeDeeAreaSkin"]={rd:{type:"BORDER_RADIUS",defaultValue:"5px",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"},shc:{type:"COLOR",defaultValue:"color_11",state:"regular"}},e["wysiwyg.viewer.skins.area.TiltedAreaSkin"]={brw:{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"5px",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"}},e["wysiwyg.viewer.skins.area.TransparentArea"]={bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"5px",state:"regular"},xxx:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"}},e["wysiwyg.viewer.skins.area.VerticalArrowArea"]={bg:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_11",state:"regular"}},e["wysiwyg.viewer.skins.area.VerticalRibbonArea"]={bg:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_11",state:"regular"}},e["wysiwyg.viewer.skins.area.WrapperSkin"]={bg:{type:"BG_COLOR_ALPHA",defaultValue:"#fff",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 3px transparent",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"},brd:{type:"BORDER_COLOR",defaultValue:"#000",state:"regular"}},e["wysiwyg.viewer.skins.FormContainerSkin"]={},e["wysiwyg.viewer.skins.VerticalRepeaterEmptySkin"]={},e["wysiwyg.viewer.skins.VerticalRepeaterSkin"]={brw:{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},pad:{type:"PADDING_SIZE",defaultValue:"10px 0",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_16",state:"hover"}},e["wysiwyg.viewer.skins.mediaContainer.DefaultMediaContainer"]={},e["wysiwyg.viewer.skins.screenwidthcontainer.GradientBottomScreen"]={bgc:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"}},e["wysiwyg.viewer.skins.screenwidthcontainer.GradientTopScreen"]={bgc:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"}},e["wysiwyg.viewer.skins.screenwidthcontainer.GrassScreen"]={bgc:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},$BorderRadius:{type:"BORDER_RADIUS",defaultValue:"10px",state:"regular"},$boxShadow:{type:"BOX_SHADOW",defaultValue:"0 1px 3px rgba(0, 0, 0, 0.8)",state:"regular"}},e["wysiwyg.viewer.skins.screenwidthcontainer.PopupOverlayContainer"]={},e["wysiwyg.viewer.skins.screenwidthcontainer.SimpleScreen"]={bgc1:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},bgc2:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"5px",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 3px rgba(0, 0, 0, 0.5)",state:"regular"}},e["wysiwyg.viewer.skins.stripContainer.DefaultStripContainer"]={},e["platform.components.skins.controllerIconAndNameSkin"]={},e["platform.components.skins.controllerSkin"]={},e["wysiwyg.viewer.skins.DayDefaultSkin"]={"fnt-family-day":{type:"FONT_FAMILY",defaultValue:"arial",state:"regular"},"txt-size-day":{type:"TEXT_SIZE",defaultValue:"14px",state:"regular"},"txt-day":{type:"TEXT_COLOR",defaultValue:"#000000",state:"hover"},"txt-day-selected":{type:"TEXT_COLOR",defaultValue:"#ffffff",state:"regular"},"bg-day-selected":{type:"COLOR",defaultValue:"#7343d1",state:"hover"},"rd-day-selected":{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"}},e["wysiwyg.viewer.skins.MonthDefaultSkin"]={"fnt-family-day":{type:"FONT_FAMILY",defaultValue:"arial",state:"regular"},"txt-size-day":{type:"TEXT_SIZE",defaultValue:"14px",state:"regular"},"txt-day":{type:"TEXT_COLOR",defaultValue:"#000000",state:"hover"},"txt-day-selected":{type:"TEXT_COLOR",defaultValue:"#ffffff",state:"regular"},"bg-day-selected":{type:"COLOR",defaultValue:"#7343d1",state:"hover"},"rd-day-selected":{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"}},e["wysiwyg.viewer.skins.CalendarDefaultSkin"]={"shd-calendar":{type:"BOX_SHADOW",defaultValue:"0 0 0 transparent",state:"regular"},"rd-calendar":{type:"BORDER_RADIUS",defaultValue:"10px",state:"regular"},"bg-calendar":{type:"BG_COLOR_ALPHA",defaultValue:"#ffffff",state:"regular"},"brw-calendar":{type:"BORDER_BOTTOM_SIZE",defaultValue:"1px",state:"regular"},"brd-calendar":{type:"BORDER_COLOR",defaultValue:"#aeaeae",state:"regular"},"fnt-family-day":{type:"FONT_FAMILY",defaultValue:"arial",state:"regular"},"txt-size-day":{type:"TEXT_SIZE",defaultValue:"14px",state:"regular"},"txt-day":{type:"TEXT_COLOR",defaultValue:"#000000",state:"hover"},"bg-day-selected":{type:"COLOR",defaultValue:"#7343d1",state:"hover"},"txt-day-selected":{type:"TEXT_COLOR",defaultValue:"#ffffff",state:"regular"},"rd-day-selected":{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},"fnt-family-header":{type:"FONT_FAMILY",defaultValue:"arial",state:"regular"},"txt-header":{type:"TEXT_COLOR",defaultValue:"#ffffff",state:"regular"},"txt-size-header":{type:"TEXT_SIZE",defaultValue:"18px",state:"regular"},"bg-header":{type:"BG_COLOR_ALPHA",defaultValue:"#7343d1",state:"regular"}},e["wysiwyg.viewer.skins.CalendarTextBetweenNavSkin"]={"shd-calendar":{type:"BOX_SHADOW",defaultValue:"0 0 0 transparent",state:"regular"},"rd-calendar":{type:"BORDER_RADIUS",defaultValue:"10px",state:"regular"},"bg-calendar":{type:"BG_COLOR_ALPHA",defaultValue:"#ffffff",state:"regular"},"brw-calendar":{type:"BORDER_BOTTOM_SIZE",defaultValue:"1px",state:"regular"},"brd-calendar":{type:"BORDER_COLOR",defaultValue:"#aeaeae",state:"regular"},"fnt-family-day":{type:"FONT_FAMILY",defaultValue:"arial",state:"regular"},"txt-size-day":{type:"TEXT_SIZE",defaultValue:"14px",state:"regular"},"txt-day":{type:"TEXT_COLOR",defaultValue:"#000000",state:"hover"},"bg-day-selected":{type:"COLOR",defaultValue:"#7343d1",state:"hover"},"txt-day-selected":{type:"TEXT_COLOR",defaultValue:"#ffffff",state:"regular"},"rd-day-selected":{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},"fnt-family-header":{type:"FONT_FAMILY",defaultValue:"arial",state:"regular"},"txt-header":{type:"TEXT_COLOR",defaultValue:"#ffffff",state:"regular"},"txt-size-header":{type:"TEXT_SIZE",defaultValue:"18px",state:"regular"},"bg-header":{type:"BG_COLOR_ALPHA",defaultValue:"#7343d1",state:"regular"}},e["wysiwyg.viewer.skins.CalendarTextYearNavSkin"]={"shd-calendar":{type:"BOX_SHADOW",defaultValue:"0 0 0 transparent",state:"regular"},"rd-calendar":{type:"BORDER_RADIUS",defaultValue:"10px",state:"regular"},"bg-calendar":{type:"BG_COLOR_ALPHA",defaultValue:"#ffffff",state:"regular"},"brw-calendar":{type:"BORDER_BOTTOM_SIZE",defaultValue:"1px",state:"regular"},"brd-calendar":{type:"BORDER_COLOR",defaultValue:"#aeaeae",state:"regular"},"fnt-family-day":{type:"FONT_FAMILY",defaultValue:"arial",state:"regular"},"txt-size-day":{type:"TEXT_SIZE",defaultValue:"14px",state:"regular"},"txt-day":{type:"TEXT_COLOR",defaultValue:"#000000",state:"hover"},"bg-day-selected":{type:"COLOR",defaultValue:"#7343d1",state:"hover"},"txt-day-selected":{type:"TEXT_COLOR",defaultValue:"#ffffff",state:"regular"},"rd-day-selected":{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},"fnt-family-header":{type:"FONT_FAMILY",defaultValue:"arial",state:"regular"},"txt-header":{type:"TEXT_COLOR",defaultValue:"#ffffff",state:"regular"},"bg-header":{type:"BG_COLOR_ALPHA",defaultValue:"#7343d1",state:"regular"},"txt-size-header":{type:"TEXT_SIZE",defaultValue:"18px",state:"regular"}},e["wysiwyg.viewer.skins.input.DatePickerDefaultSkin"]={rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 0 0 transparent",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"#ffffff",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"#cacaca",state:"regular"},bge:{type:"BG_COLOR_ALPHA",defaultValue:"#ffffff",state:"error"},brwe:{type:"BORDER_SIZE",defaultValue:"1px",state:"error"},brde:{type:"BORDER_COLOR_ALPHA",defaultValue:"#f60419",state:"error"},bgd:{type:"BG_COLOR_ALPHA",defaultValue:"#ffffff",state:"disabled"},brwd:{type:"BORDER_SIZE",defaultValue:"1px",state:"disabled"},brdd:{type:"BORDER_COLOR_ALPHA",defaultValue:"#CCCCCC",state:"disabled"},bgf:{type:"BG_COLOR_ALPHA",defaultValue:"#ffffff",state:"focus"},brwf:{type:"BORDER_SIZE",defaultValue:"1px",state:"focus"},brdf:{type:"BORDER_COLOR_ALPHA",defaultValue:"#7343d1",state:"focus"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"#ffffff",state:"hover"},brwh:{type:"BORDER_SIZE",defaultValue:"1px",state:"hover"},brdh:{type:"BORDER_COLOR_ALPHA",defaultValue:"#cacaca",state:"hover"},"icn-color":{type:"COLOR_ALPHA",defaultValue:"#cacaca",state:"regular"},fnt:{type:"FONT",defaultValue:"font_8",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"#000000",state:"regular"},txtd:{type:"TEXT_COLOR",defaultValue:"#CCCCCC",state:"disabled"},"txt-placeholder":{type:"TEXT_COLOR",defaultValue:"#A9A9A9",state:"regular"},"shd-calendar":{type:"BOX_SHADOW",defaultValue:"0 0 0 transparent",state:"regular"},"rd-calendar":{type:"BORDER_RADIUS",defaultValue:"10px",state:"regular"},"bg-calendar":{type:"BG_COLOR_ALPHA",defaultValue:"#ffffff",state:"regular"},"brw-calendar":{type:"BORDER_BOTTOM_SIZE",defaultValue:"1px",state:"regular"},"brd-calendar":{type:"BORDER_COLOR",defaultValue:"#aeaeae",state:"regular"},"fnt-family-day":{type:"FONT_FAMILY",defaultValue:"arial",state:"regular"},"txt-size-day":{type:"TEXT_SIZE",defaultValue:"14px",state:"regular"},"txt-day":{type:"TEXT_COLOR",defaultValue:"#000000",state:"hover"},"bg-day-selected":{type:"COLOR",defaultValue:"#7343d1",state:"hover"},"txt-day-selected":{type:"TEXT_COLOR",defaultValue:"#ffffff",state:"regular"},"rd-day-selected":{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},"fnt-family-header":{type:"FONT_FAMILY",defaultValue:"arial",state:"regular"},"txt-header":{type:"TEXT_COLOR",defaultValue:"#ffffff",state:"regular"},"txt-size-header":{type:"TEXT_SIZE",defaultValue:"18px",state:"regular"},"bg-header":{type:"BG_COLOR_ALPHA",defaultValue:"#7343d1",state:"regular"}},e["wysiwyg.viewer.skins.input.DatePickerTextBetweenNavSkin"]={rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 0 0 transparent",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"#ffffff",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"#cacaca",state:"regular"},bge:{type:"BG_COLOR_ALPHA",defaultValue:"#ffffff",state:"error"},brwe:{type:"BORDER_SIZE",defaultValue:"1px",state:"error"},brde:{type:"BORDER_COLOR_ALPHA",defaultValue:"#f60419",state:"error"},bgd:{type:"BG_COLOR_ALPHA",defaultValue:"#ffffff",state:"disabled"},brwd:{type:"BORDER_SIZE",defaultValue:"1px",state:"disabled"},brdd:{type:"BORDER_COLOR_ALPHA",defaultValue:"#CCCCCC",state:"disabled"},bgf:{type:"BG_COLOR_ALPHA",defaultValue:"#ffffff",state:"focus"},brwf:{type:"BORDER_SIZE",defaultValue:"1px",state:"focus"},brdf:{type:"BORDER_COLOR_ALPHA",defaultValue:"#7343d1",state:"focus"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"#ffffff",state:"hover"},brwh:{type:"BORDER_SIZE",defaultValue:"1px",state:"hover"},brdh:{type:"BORDER_COLOR_ALPHA",defaultValue:"#cacaca",state:"hover"},"icn-color":{type:"COLOR_ALPHA",defaultValue:"#cacaca",state:"regular"},fnt:{type:"FONT",defaultValue:"font_8",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"#000000",state:"regular"},txtd:{type:"TEXT_COLOR",defaultValue:"#CCCCCC",state:"disabled"},"txt-placeholder":{type:"TEXT_COLOR",defaultValue:"#A9A9A9",state:"regular"},"shd-calendar":{type:"BOX_SHADOW",defaultValue:"0 0 0 transparent",state:"regular"},"rd-calendar":{type:"BORDER_RADIUS",defaultValue:"10px",state:"regular"},"bg-calendar":{type:"BG_COLOR_ALPHA",defaultValue:"#ffffff",state:"regular"},"brw-calendar":{type:"BORDER_BOTTOM_SIZE",defaultValue:"1px",state:"regular"},"brd-calendar":{type:"BORDER_COLOR",defaultValue:"#aeaeae",state:"regular"},"fnt-family-day":{type:"FONT_FAMILY",defaultValue:"arial",state:"regular"},"txt-size-day":{type:"TEXT_SIZE",defaultValue:"14px",state:"regular"},"txt-day":{type:"TEXT_COLOR",defaultValue:"#000000",state:"hover"},"bg-day-selected":{type:"COLOR",defaultValue:"#7343d1",state:"hover"},"txt-day-selected":{type:"TEXT_COLOR",defaultValue:"#ffffff",state:"regular"},"rd-day-selected":{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},"fnt-family-header":{type:"FONT_FAMILY",defaultValue:"arial",state:"regular"},"txt-header":{type:"TEXT_COLOR",defaultValue:"#ffffff",state:"regular"},"txt-size-header":{type:"TEXT_SIZE",defaultValue:"18px",state:"regular"},"bg-header":{type:"BG_COLOR_ALPHA",defaultValue:"#7343d1",state:"regular"}},e["wysiwyg.viewer.skins.input.DatePickerTextYearNavSkin"]={rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 0 0 transparent",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"#ffffff",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"#cacaca",state:"regular"},bge:{type:"BG_COLOR_ALPHA",defaultValue:"#ffffff",state:"error"},brwe:{type:"BORDER_SIZE",defaultValue:"1px",state:"error"},brde:{type:"BORDER_COLOR_ALPHA",defaultValue:"#f60419",state:"error"},bgd:{type:"BG_COLOR_ALPHA",defaultValue:"#ffffff",state:"disabled"},brwd:{type:"BORDER_SIZE",defaultValue:"1px",state:"disabled"},brdd:{type:"BORDER_COLOR_ALPHA",defaultValue:"#CCCCCC",state:"disabled"},bgf:{type:"BG_COLOR_ALPHA",defaultValue:"#ffffff",state:"focus"},brwf:{type:"BORDER_SIZE",defaultValue:"1px",state:"focus"},brdf:{type:"BORDER_COLOR_ALPHA",defaultValue:"#7343d1",state:"focus"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"#ffffff",state:"hover"},brwh:{type:"BORDER_SIZE",defaultValue:"1px",state:"hover"},brdh:{type:"BORDER_COLOR_ALPHA",defaultValue:"#cacaca",state:"hover"},"icn-color":{type:"COLOR_ALPHA",defaultValue:"#cacaca",state:"regular"},fnt:{type:"FONT",defaultValue:"font_8",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"#000000",state:"regular"},txtd:{type:"TEXT_COLOR",defaultValue:"#CCCCCC",state:"disabled"},"txt-placeholder":{type:"TEXT_COLOR",defaultValue:"#A9A9A9",state:"regular"},"shd-calendar":{type:"BOX_SHADOW",defaultValue:"0 0 0 transparent",state:"regular"},"rd-calendar":{type:"BORDER_RADIUS",defaultValue:"10px",state:"regular"},"bg-calendar":{type:"BG_COLOR_ALPHA",defaultValue:"#ffffff",state:"regular"},"brw-calendar":{type:"BORDER_BOTTOM_SIZE",defaultValue:"1px",state:"regular"},"brd-calendar":{type:"BORDER_COLOR",defaultValue:"#aeaeae",state:"regular"},"fnt-family-day":{type:"FONT_FAMILY",defaultValue:"arial",state:"regular"},"txt-size-day":{type:"TEXT_SIZE",defaultValue:"14px",state:"regular"},"txt-day":{type:"TEXT_COLOR",defaultValue:"#000000",state:"hover"},"bg-day-selected":{type:"COLOR",defaultValue:"#7343d1",state:"hover"},"txt-day-selected":{type:"TEXT_COLOR",defaultValue:"#ffffff",state:"regular"},"rd-day-selected":{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},"fnt-family-header":{type:"FONT_FAMILY",defaultValue:"arial",state:"regular"},"txt-header":{type:"TEXT_COLOR",defaultValue:"#ffffff",state:"regular"},"bg-header":{type:"BG_COLOR_ALPHA",defaultValue:"#7343d1",state:"regular"},"txt-size-header":{type:"TEXT_SIZE",defaultValue:"18px",state:"regular"}},e["wysiwyg.viewer.skins.InputWithValidationSkin"]={clr:{type:"COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.dialogs.enterPasswordDialogSkinNew"]={txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},clr:{type:"COLOR",defaultValue:"color_15",state:"regular"},"secondary-color":{type:"COLOR",defaultValue:"color_13",state:"regular"},"bg-clr":{type:"COLOR",defaultValue:"color_11",state:"regular"},headingL:{type:"FONT",defaultValue:"font_5",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},fnt:{type:"FONT",defaultValue:"font_5",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"hover"},brdh:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"hover"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"hover"},bgd:{type:"BG_COLOR_ALPHA",defaultValue:"#CCCCCC",state:"disabled"},brdd:{type:"BORDER_COLOR_ALPHA",defaultValue:"#CCCCCC",state:"disabled"},txtd:{type:"TEXT_COLOR",defaultValue:"#FFFFFF",state:"disabled"}},e["wysiwyg.viewer.skins.dialogs.notificationDialogSkinNew"]={txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},clr:{type:"COLOR",defaultValue:"color_15",state:"regular"},"secondary-color":{type:"COLOR",defaultValue:"color_13",state:"regular"},"bg-clr":{type:"COLOR",defaultValue:"color_11",state:"regular"},headingL:{type:"FONT",defaultValue:"font_5",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},fnt:{type:"FONT",defaultValue:"font_5",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"hover"},brdh:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"hover"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"hover"},bgd:{type:"BG_COLOR_ALPHA",defaultValue:"#CCCCCC",state:"disabled"},brdd:{type:"BORDER_COLOR_ALPHA",defaultValue:"#CCCCCC",state:"disabled"},txtd:{type:"TEXT_COLOR",defaultValue:"#FFFFFF",state:"disabled"}},e["wysiwyg.viewer.skins.dialogs.siteMembersDialogs.emailVerificationDialogSkinNew"]={txt:{type:"TEXT_COLOR",defaultValue:"#9c9c9c",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"#fff",state:"regular"},clr:{type:"COLOR",defaultValue:"color_15",state:"regular"},"secondary-color":{type:"COLOR",defaultValue:"color_13",state:"regular"},"bg-clr":{type:"COLOR",defaultValue:"color_11",state:"regular"},headingL:{type:"FONT",defaultValue:"font_5",state:"regular"},defClr:{type:"COLOR",defaultValue:"color_15",state:"regular"},ttlFnt:{type:"FONT",defaultValue:"font_5",state:"regular"},cntFnt:{type:"FONT",defaultValue:"font_7",state:"regular"},ftrFnt:{type:"FONT",defaultValue:"font_7",state:"regular"},lnkClr:{type:"COLOR",defaultValue:"color_18",state:"regular"}},e["wysiwyg.viewer.skins.dialogs.siteMembersDialogs.memberLoginDialogSkinNew"]={txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},clr:{type:"COLOR",defaultValue:"color_15",state:"regular"},"secondary-color":{type:"COLOR",defaultValue:"color_13",state:"regular"},"bg-clr":{type:"COLOR",defaultValue:"color_11",state:"regular"},headingL:{type:"FONT",defaultValue:"font_5",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},fnt:{type:"FONT",defaultValue:"font_5",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"hover"},brdh:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"hover"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"hover"},bgd:{type:"BG_COLOR_ALPHA",defaultValue:"#CCCCCC",state:"disabled"},brdd:{type:"BORDER_COLOR_ALPHA",defaultValue:"#CCCCCC",state:"disabled"},txtd:{type:"TEXT_COLOR",defaultValue:"#FFFFFF",state:"disabled"}},e["wysiwyg.viewer.skins.dialogs.siteMembersDialogs.memberLoginDialogSkinSocialMobile"]={txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},clr:{type:"COLOR",defaultValue:"color_15",state:"regular"},"secondary-color":{type:"COLOR",defaultValue:"color_13",state:"regular"},"bg-clr":{type:"COLOR",defaultValue:"color_11",state:"regular"},headingL:{type:"FONT",defaultValue:"font_5",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},fnt:{type:"FONT",defaultValue:"font_5",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"hover"},brdh:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"hover"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"hover"},bgd:{type:"BG_COLOR_ALPHA",defaultValue:"#CCCCCC",state:"disabled"},brdd:{type:"BORDER_COLOR_ALPHA",defaultValue:"#CCCCCC",state:"disabled"},txtd:{type:"TEXT_COLOR",defaultValue:"#FFFFFF",state:"disabled"}},e["wysiwyg.viewer.skins.dialogs.siteMembersDialogs.noPermissionsToPage"]={txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},clr:{type:"COLOR",defaultValue:"color_15",state:"regular"},"secondary-color":{type:"COLOR",defaultValue:"color_13",state:"regular"},"bg-clr":{type:"COLOR",defaultValue:"color_11",state:"regular"},headingL:{type:"FONT",defaultValue:"font_5",state:"regular"},ttlFnt:{type:"FONT",defaultValue:"font_5",state:"regular"},defClr:{type:"COLOR",defaultValue:"color_15",state:"regular"},btnFnt:{type:"FONT",defaultValue:"font_8",state:"regular"},cntFnt:{type:"FONT",defaultValue:"font_7",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},fnt:{type:"FONT",defaultValue:"font_5",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"hover"},brdh:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"hover"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"hover"},bgd:{type:"BG_COLOR_ALPHA",defaultValue:"#CCCCCC",state:"disabled"},brdd:{type:"BORDER_COLOR_ALPHA",defaultValue:"#CCCCCC",state:"disabled"},txtd:{type:"TEXT_COLOR",defaultValue:"#FFFFFF",state:"disabled"}},e["wysiwyg.viewer.skins.dialogs.siteMembersDialogs.requestPasswordResetDialogSkinNew"]={txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},clr:{type:"COLOR",defaultValue:"color_15",state:"regular"},"secondary-color":{type:"COLOR",defaultValue:"color_13",state:"regular"},"bg-clr":{type:"COLOR",defaultValue:"color_11",state:"regular"},headingL:{type:"FONT",defaultValue:"font_5",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},fnt:{type:"FONT",defaultValue:"font_5",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"hover"},brdh:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"hover"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"hover"},bgd:{type:"BG_COLOR_ALPHA",defaultValue:"#CCCCCC",state:"disabled"},brdd:{type:"BORDER_COLOR_ALPHA",defaultValue:"#CCCCCC",state:"disabled"},txtd:{type:"TEXT_COLOR",defaultValue:"#FFFFFF",state:"disabled"}},e["wysiwyg.viewer.skins.dialogs.siteMembersDialogs.resetPasswordDialogSkinNew"]={txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},clr:{type:"COLOR",defaultValue:"color_15",state:"regular"},"secondary-color":{type:"COLOR",defaultValue:"color_13",state:"regular"},"bg-clr":{type:"COLOR",defaultValue:"color_11",state:"regular"},headingL:{type:"FONT",defaultValue:"font_5",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},fnt:{type:"FONT",defaultValue:"font_5",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"hover"},brdh:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"hover"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"hover"},bgd:{type:"BG_COLOR_ALPHA",defaultValue:"#CCCCCC",state:"disabled"},brdd:{type:"BORDER_COLOR_ALPHA",defaultValue:"#CCCCCC",state:"disabled"},txtd:{type:"TEXT_COLOR",defaultValue:"#FFFFFF",state:"disabled"}},e["wysiwyg.viewer.skins.dialogs.siteMembersDialogs.sentConfirmationEmail"]={txt:{type:"TEXT_COLOR",defaultValue:"#9c9c9c",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"#fff",state:"regular"},clr:{type:"COLOR",defaultValue:"color_15",state:"regular"},"secondary-color":{type:"COLOR",defaultValue:"color_13",state:"regular"},"bg-clr":{type:"COLOR",defaultValue:"color_11",state:"regular"},headingL:{type:"FONT",defaultValue:"font_5",state:"regular"},defClr:{type:"COLOR",defaultValue:"color_15",state:"regular"},ttlFnt:{type:"FONT",defaultValue:"font_5",state:"regular"},cntFnt:{type:"FONT",defaultValue:"font_7",state:"regular"},ftrFnt:{type:"FONT",defaultValue:"font_7",state:"regular"},lnkClr:{type:"COLOR",defaultValue:"color_18",state:"regular"}},e["wysiwyg.viewer.skins.dialogs.siteMembersDialogs.signUpDialogSkinNew"]={txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},clr:{type:"COLOR",defaultValue:"color_15",state:"regular"},"secondary-color":{type:"COLOR",defaultValue:"color_13",state:"regular"},"bg-clr":{type:"COLOR",defaultValue:"color_11",state:"regular"},headingL:{type:"FONT",defaultValue:"font_5",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},fnt:{type:"FONT",defaultValue:"font_5",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"hover"},brdh:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"hover"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"hover"},bgd:{type:"BG_COLOR_ALPHA",defaultValue:"#CCCCCC",state:"disabled"},brdd:{type:"BORDER_COLOR_ALPHA",defaultValue:"#CCCCCC",state:"disabled"},txtd:{type:"TEXT_COLOR",defaultValue:"#FFFFFF",state:"disabled"}},e["wysiwyg.viewer.skins.dialogs.siteMembersDialogs.signUpDialogSkinSocialMobile"]={txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},clr:{type:"COLOR",defaultValue:"color_15",state:"regular"},"secondary-color":{type:"COLOR",defaultValue:"color_13",state:"regular"},"bg-clr":{type:"COLOR",defaultValue:"color_11",state:"regular"},headingL:{type:"FONT",defaultValue:"font_5",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},fnt:{type:"FONT",defaultValue:"font_5",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"hover"},brdh:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"hover"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"hover"},bgd:{type:"BG_COLOR_ALPHA",defaultValue:"#CCCCCC",state:"disabled"},brdd:{type:"BORDER_COLOR_ALPHA",defaultValue:"#CCCCCC",state:"disabled"},txtd:{type:"TEXT_COLOR",defaultValue:"#FFFFFF",state:"disabled"}},e["wysiwyg.viewer.skins.dialogs.siteMembersDialogs.welcomeDialogSkinNew"]={txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},clr:{type:"COLOR",defaultValue:"color_15",state:"regular"},"secondary-color":{type:"COLOR",defaultValue:"color_13",state:"regular"},"bg-clr":{type:"COLOR",defaultValue:"color_11",state:"regular"},headingL:{type:"FONT",defaultValue:"font_5",state:"regular"},ttlFnt:{type:"FONT",defaultValue:"font_5",state:"regular"},defClr:{type:"COLOR",defaultValue:"color_15",state:"regular"},cntFnt:{type:"FONT",defaultValue:"font_7",state:"regular"},btnFnt:{type:"FONT",defaultValue:"font_8",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},fnt:{type:"FONT",defaultValue:"font_5",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"hover"},brdh:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"hover"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"hover"},bgd:{type:"BG_COLOR_ALPHA",defaultValue:"#CCCCCC",state:"disabled"},brdd:{type:"BORDER_COLOR_ALPHA",defaultValue:"#CCCCCC",state:"disabled"},txtd:{type:"TEXT_COLOR",defaultValue:"#FFFFFF",state:"disabled"}},e["skins.viewer.displayers.SlideIronDisplayer"]={rd:{type:"BORDER_RADIUS",defaultValue:"2px",state:"regular"},ishd:{type:"BOX_SHADOW",defaultValue:"rgba(255, 255, 255, 0.4) 0px 0px 6px 0px inset, rgba(255, 255, 255, 0.701961) 0px 1px 0px 0px inset, rgba(255, 255, 255, 0.2) 0px 0px 5px 0px inset",state:"regular"},imageWrapperTop:{type:"TOP_SIZE",defaultValue:"12px",state:"regular"},imageWrapperRight:{type:"RIGHT_SIZE",defaultValue:"12px",state:"regular"},imageWrapperBottom:{type:"BOTTOM_SIZE",defaultValue:"140px",state:"regular"},imageWrapperLeft:{type:"LEFT_SIZE",defaultValue:"12px",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},fntt:{type:"FONT",defaultValue:"font_6",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_11",state:"regular"},fntds:{type:"FONT",defaultValue:"font_8",state:"regular"}},e["skins.viewer.displayers.SlideScotchTapeDisplayer"]={brw:{type:"MARGIN_SIZE",defaultValue:"0",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},fntt:{type:"FONT",defaultValue:"font_6",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_11",state:"regular"},fntds:{type:"FONT",defaultValue:"font_8",state:"regular"},s:{type:"SIZE",defaultValue:"0",state:"regular"}},e["skins.viewer.gallerymatrix.MatrixDisplayerIronSkin"]={shd:{type:"BOX_SHADOW",defaultValue:"0 2px 5px rgba(0, 0, 0, 0.53)",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"2px",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"12px",state:"regular"},ishd:{type:"BOX_SHADOW",defaultValue:"rgba(255, 255, 255, 0.59) 0px 0px 6px 0px inset, rgba(255, 255, 255, 0.92) 0px 1px 0px 0px inset, rgba(255, 255, 255, 0.2) 0px 0px 5px 0px inset",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},fntt:{type:"FONT",defaultValue:"font_6",state:"regular"},ttl:{type:"TEXT_COLOR",defaultValue:"color_18",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_18",state:"regular"},fntds:{type:"FONT",defaultValue:"font_8",state:"regular"}},e["skins.viewer.gallerymatrix.MatrixDisplayerScotchTapeSkin"]={shd:{type:"BOX_SHADOW",defaultValue:"0 1px 3px rgba(0, 0, 0, 0.15)",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"8px",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},fntt:{type:"FONT",defaultValue:"font_6",state:"regular"},ttl:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},fntds:{type:"FONT",defaultValue:"font_8",state:"regular"}},e["wysiwyg.common.components.matrixgallery.viewer.skins.MatrixDisplayerSeparateTextBoxSkin"]={rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},brw:{type:"SIZE",defaultValue:"0",state:"regular"},bghClr:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},fntt:{type:"FONT",defaultValue:"font_7",state:"regular"},ttl2:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},txt2:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},fntds:{type:"FONT",defaultValue:"font_9",state:"regular"},lnkClr:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},boxRd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},imgHeightDiff:{type:"HEIGHT_SIZE",defaultValue:"80px",state:"regular"},boxbg:{type:"BG_COLOR_ALPHA",defaultValue:"color_12",state:"regular"},paddingSize:{type:"MARGIN_SIZE",defaultValue:"10px",state:"regular"},topPadding:{type:"SIZE",defaultValue:"13px",state:"regular"}},e["wysiwyg.common.components.matrixgallery.viewer.skins.MatrixDisplayerTextOnCenterSkin"]={shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},borderColor:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bgHover:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},fntt:{type:"FONT",defaultValue:"font_7",state:"regular"},titleColor:{type:"TEXT_COLOR",defaultValue:"color_18",state:"regular"},descColor:{type:"TEXT_COLOR",defaultValue:"color_11",state:"regular"},fntds:{type:"FONT",defaultValue:"font_9",state:"regular"},linkColor:{type:"BORDER_COLOR",defaultValue:"color_11",state:"regular"},linkHoverColor:{type:"BG_COLOR_ALPHA",defaultValue:"color_12",state:"hover"}},e["wysiwyg.viewer.skins.displayers.SlideShowDisplayerLiftedShadowSkin"]={rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},brw:{type:"MARGIN_SIZE",defaultValue:"0",state:"regular"},fntt:{type:"FONT",defaultValue:"font_6",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_11",state:"regular"},fntds:{type:"FONT",defaultValue:"font_8",state:"regular"}},e["wysiwyg.viewer.skins.displayers.SlideShowPolaroidDisplayer"]={brw:{type:"SIZE",defaultValue:"5px",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"5px",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},fntds:{type:"FONT",defaultValue:"font_8",state:"regular"},fntt:{type:"FONT",defaultValue:"font_6",state:"regular"}},e["wysiwyg.viewer.skins.displayers.SlideShowSloopyDisplayer"]={bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},fntt:{type:"FONT",defaultValue:"font_6",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_11",state:"regular"},fntds:{type:"FONT",defaultValue:"font_8",state:"regular"}},e["wysiwyg.viewer.skins.displayers.SlideShowTextBottomDisplayer"]={bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 3px rgba(0, 0, 0, 0.5)",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},brw:{type:"SIZE",defaultValue:"0",state:"regular"},fntt:{type:"FONT",defaultValue:"font_6",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},fntds:{type:"FONT",defaultValue:"font_8",state:"regular"}},e["wysiwyg.viewer.skins.displayers.SlideTextFloatingDisplayer"]={brw:{type:"SIZE",defaultValue:"0",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_11",state:"regular"},fntt:{type:"FONT",defaultValue:"font_6",state:"regular"},fntds:{type:"FONT",defaultValue:"font_8",state:"regular"},s:{type:"SIZE",defaultValue:"0",state:"regular"},s2:{type:"SIZE",defaultValue:"0",state:"regular"}},e["wysiwyg.viewer.skins.displayers.SlideTextOverlayDisplayer"]={rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},brw:{type:"SIZE",defaultValue:"0",state:"regular"},fntt:{type:"FONT",defaultValue:"font_6",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_11",state:"regular"},fntds:{type:"FONT",defaultValue:"font_8",state:"regular"}},e["wysiwyg.viewer.skins.displayers.SlideTextRightDisplayer"]={brw:{type:"MARGIN_SIZE",defaultValue:"0",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},bgc:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},fntt:{type:"FONT",defaultValue:"font_6",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},fntds:{type:"FONT",defaultValue:"font_8",state:"regular"}},e["wysiwyg.viewer.skins.gallerymatrix.BlogMatrixDisplayer"]={rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"#ffffff",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},fntds:{type:"FONT",defaultValue:"font_8",state:"regular"}},e["wysiwyg.viewer.skins.gallerymatrix.MatrixDisplayerCircleSkin"]={brd:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 3px rgba(0, 0, 0, 0.5)",state:"regular"},fntt:{type:"FONT",defaultValue:"font_6",state:"regular"},ttl:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},brw:{type:"SIZE",defaultValue:"0",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},fntds:{type:"FONT",defaultValue:"font_8",state:"regular"}},e["wysiwyg.viewer.skins.gallerymatrix.MatrixDisplayerDefaultSkin"]={rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},fntt:{type:"FONT",defaultValue:"font_6",state:"regular"},ttl:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},fntds:{type:"FONT",defaultValue:"font_8",state:"regular"}},e["wysiwyg.viewer.skins.gallerymatrix.MatrixDisplayerLiftedShadow"]={rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},fntt:{type:"FONT",defaultValue:"font_6",state:"regular"},ttl:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},fntds:{type:"FONT",defaultValue:"font_8",state:"regular"},s:{type:"SIZE",defaultValue:"0",state:"regular"}},e["wysiwyg.viewer.skins.gallerymatrix.MatrixDisplayerPolaroidSkin"]={rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},brw:{type:"PADDING_SIZE",defaultValue:"5px",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},fntt:{type:"FONT",defaultValue:"font_6",state:"regular"},ttl:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},fntds:{type:"FONT",defaultValue:"font_8",state:"regular"}},e["wysiwyg.viewer.skins.gallerymatrix.MatrixDisplayerSloopy"]={bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},fntt:{type:"FONT",defaultValue:"font_6",state:"regular"},ttl:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},fntds:{type:"FONT",defaultValue:"font_8",state:"regular"}},e["wysiwyg.viewer.skins.gallerymatrix.MatrixDisplayerTextBelowSkin"]={rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},fntt:{type:"FONT",defaultValue:"font_6",state:"regular"},ttl:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},fntds:{type:"FONT",defaultValue:"font_8",state:"regular"}},e["wysiwyg.viewer.skins.gallerymatrix.MatrixDisplayerTextSlideUpSkin"]={rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},fntt:{type:"FONT",defaultValue:"font_8",state:"regular"},ttl:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},paddingSize:{type:"MARGIN_SIZE",defaultValue:"9px",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},fntds:{type:"FONT",defaultValue:"font_9",state:"regular"},paddingTop:{type:"SIZE",defaultValue:"9px",state:"regular"},paddingLeft:{type:"SIZE",defaultValue:"9px",state:"regular"}},e["wysiwyg.viewer.skins.gallerymatrix.MatrixDisplayerTransparentSkin"]={shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"10px",state:"regular"},brdTrans:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"hover"},fntt:{type:"FONT",defaultValue:"font_7",state:"regular"},ttlTrans:{type:"TEXT_COLOR",defaultValue:"color_18",state:"regular"},fntdsTrans:{type:"FONT",defaultValue:"font_9",state:"regular"},txtTrans:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},ttlhTrans:{type:"TEXT_COLOR",defaultValue:"color_18",state:"hover"},txthTrans:{type:"TEXT_COLOR",defaultValue:"color_15",state:"hover"}},e["wysiwyg.viewer.skins.gallerymatrix.PolaroidDisplayerCustomHeightSkin"]={rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},imagePadding:{type:"SIZE",defaultValue:"0",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},imgHeightDiff:{type:"HEIGHT_SIZE",defaultValue:"80px",state:"regular"},paddingSize:{type:"MARGIN_SIZE",defaultValue:"10px",state:"regular"},lnk:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},fntds:{type:"FONT",defaultValue:"font_8",state:"regular"},fntt:{type:"FONT",defaultValue:"font_6",state:"regular"},ttl:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},paddingTop:{type:"SIZE",defaultValue:"10px",state:"regular"},paddingBottom:{type:"SIZE",defaultValue:"10px",state:"regular"}},e["wysiwyg.viewer.skins.gallerymatrix.TextBottomDisplayerCustomHeightSkin"]={rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},brw:{type:"SIZE",defaultValue:"0",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},fntt:{type:"FONT",defaultValue:"font_6",state:"regular"},ttl:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},fntds:{type:"FONT",defaultValue:"font_8",state:"regular"},lnk:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},imgHeightDiff:{type:"HEIGHT_SIZE",defaultValue:"80px",state:"regular"},paddingSize:{type:"MARGIN_SIZE",defaultValue:"0",state:"regular"},paddingTop:{type:"SIZE",defaultValue:"0",state:"regular"},paddingBottom:{type:"SIZE",defaultValue:"0",state:"regular"}},e["wysiwyg.common.components.disquscomments.viewer.skins.DisqusCommentsSkin"]={},e["skins.viewer.documentmedia.DocumentMediaSkin"]={fnt:{type:"FONT",defaultValue:"font_8",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_13",state:"hover"}},e["wysiwyg.viewer.skins.EbayItemsBySellerSkin"]={},e["wysiwyg.common.components.exitmobilemode.viewer.skins.ExitMobileModeSkin"]={fnt:{type:"FONT",defaultValue:"font_8",state:"regular"},clr:{type:"TEXT_COLOR",defaultValue:"color_13",state:"regular"}},e["skins.core.FacebookCommentSkin"]={},e["skins.core.FacebookLikeSkin"]={},e["wysiwyg.common.components.facebooklikebox.viewer.skins.FacebookLikeBoxSkin"]={},e["skins.viewer.facebookshare.FacebookShareSkin"]={},e["wysiwyg.viewer.skins.UploadNameDefaultSkin"]={x_file_txt_h:{type:"TEXT_COLOR",defaultValue:"color_6",state:"hover"},file_bg_h:{type:"BG_COLOR_ALPHA",defaultValue:"color_16",state:"hover"},x_file_txt_e:{type:"TEXT_COLOR",defaultValue:"color_6",state:"error"},x_file_txt:{type:"TEXT_COLOR",defaultValue:"color_6",state:"regular"},x_file_txt_f:{type:"BG_COLOR_ALPHA",defaultValue:"color_6",state:"focus"},x_file_txt_d:{type:"TEXT_COLOR",defaultValue:"color_6",state:"disabled"},file_fnt:{type:"FONT",defaultValue:"font_9",state:"regular"}},e["wysiwyg.viewer.skins.FileUploaderDefaultSkin"]={btn_bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_1",state:"regular"},btn_brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_6",state:"regular"},btn_brw:{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"},btn_rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},btn_shd:{type:"BOX_SHADOW",defaultValue:"0 0 0 transparent",state:"regular"},btn_txt:{type:"TEXT_COLOR",defaultValue:"color_6",state:"regular"},btn_fnt:{type:"FONT",defaultValue:"font_9",state:"regular"},btn_bg_h:{type:"BG_COLOR_ALPHA",defaultValue:"color_1",state:"hover"},btn_brd_h:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_6",state:"hover"},btn_brw_h:{type:"BORDER_SIZE",defaultValue:"1px",state:"hover"},btn_txt_h:{type:"TEXT_COLOR",defaultValue:"color_6",state:"hover"},bg_f:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"focus"},brd_f:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_6",state:"focus"},brw_f:{type:"BORDER_SIZE",defaultValue:"0",state:"focus"},txt_f:{type:"TEXT_COLOR",defaultValue:"color_28",state:"focus"},bg_d:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"disabled"},brd_d:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_6",state:"disabled"},brw_d:{type:"BORDER_SIZE",defaultValue:"1px",state:"disabled"},txt_d:{type:"TEXT_COLOR",defaultValue:"color_6",state:"disabled"},bg_e:{type:"BG_COLOR_ALPHA",defaultValue:"color_1",state:"error"},brd_e:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_6",state:"error"},brw_e:{type:"BORDER_SIZE",defaultValue:"1px",state:"error"},txt_e:{type:"TEXT_COLOR",defaultValue:"color_6",state:"error"},x_file_txt_h:{type:"TEXT_COLOR",defaultValue:"color_6",state:"hover"},file_bg_h:{type:"BG_COLOR_ALPHA",defaultValue:"color_16",state:"hover"},x_file_txt_e:{type:"TEXT_COLOR",defaultValue:"color_6",state:"error"},x_file_txt:{type:"TEXT_COLOR",defaultValue:"color_6",state:"regular"},x_file_txt_f:{type:"BG_COLOR_ALPHA",defaultValue:"color_6",state:"focus"},x_file_txt_d:{type:"TEXT_COLOR",defaultValue:"color_6",state:"disabled"},file_fnt:{type:"FONT",defaultValue:"font_9",state:"regular"}},e["wysiwyg.viewer.skins.FlashComponentSkin"]={},e["wysiwyg.viewer.skins.FlickrBadgeWidgetSkin"]={},e["wysiwyg.viewer.skins.GoogleMapSkin"]={},e["wysiwyg.viewer.skins.map.GoogleMapDefault"]={brd:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},brw:{type:"SIZE",defaultValue:"0",state:"regular"}},e["wysiwyg.viewer.skins.map.GoogleMapLiftedShadow"]={brd:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},brw:{type:"SIZE",defaultValue:"0",state:"regular"}},e["wysiwyg.viewer.skins.map.GoogleMapSloppy"]={},e["wysiwyg.viewer.skins.GridLeftHeaderSkin"]={shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},containerBrw:{type:"BORDER_SIZE",defaultValue:"1",state:"regular"},containerBrd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_5",state:"regular"},containerBg:{type:"BG_COLOR_ALPHA",defaultValue:"color_1",state:"regular"},headerDivider_w:{type:"BORDER_SIZE",defaultValue:"1",state:"regular"},headerBg:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},headerText:{type:"TEXT_COLOR",defaultValue:"color_5",state:"regular"},headerFont:{type:"FONT",defaultValue:"font_9",state:"regular"},columnDivider_w:{type:"BORDER_SIZE",defaultValue:"1",state:"regular"},columnDivider:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_5",state:"regular"},headerDivider:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_5",state:"regular"},row2Bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_10",state:"regular"},rowBg:{type:"BG_COLOR_ALPHA",defaultValue:"color_1",state:"regular"},rowText:{type:"TEXT_COLOR",defaultValue:"color_5",state:"regular"},rowFont:{type:"FONT",defaultValue:"font_9",state:"regular"},rowDivider_w:{type:"BORDER_SIZE",defaultValue:"1",state:"regular"},rowDivider:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_5",state:"regular"},selection:{type:"BG_COLOR_ALPHA",defaultValue:"color_13",state:"regular"},linkColor:{type:"TEXT_COLOR",defaultValue:"color_6",state:"regular"},linkHoverColor:{type:"TEXT_COLOR",defaultValue:"color_7",state:"hover"},paginationColor:{type:"BG_COLOR_ALPHA",defaultValue:"#000000",state:"regular"},cellPadding:{type:"PADDING_RIGHT_SIZE",defaultValue:"0",state:"regular"},rowOrCellHoverBg:{type:"BG_COLOR_ALPHA",defaultValue:"color_4",state:"hover"},headerColumnBg:{type:"BG_COLOR_ALPHA",defaultValue:"color_1",state:"regular"},headerColumnFont:{type:"FONT",defaultValue:"font_9",state:"regular"},headerColumnText:{type:"TEXT_COLOR",defaultValue:"color_5",state:"regular"}},e["wysiwyg.viewer.skins.GridRightHeaderSkin"]={shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},containerBrw:{type:"BORDER_SIZE",defaultValue:"1",state:"regular"},containerBrd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_5",state:"regular"},containerBg:{type:"BG_COLOR_ALPHA",defaultValue:"color_1",state:"regular"},headerDivider_w:{type:"BORDER_SIZE",defaultValue:"1",state:"regular"},headerBg:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},headerText:{type:"TEXT_COLOR",defaultValue:"color_5",state:"regular"},headerFont:{type:"FONT",defaultValue:"font_9",state:"regular"},columnDivider_w:{type:"BORDER_SIZE",defaultValue:"1",state:"regular"},columnDivider:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_5",state:"regular"},headerDivider:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_5",state:"regular"},row2Bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_10",state:"regular"},rowBg:{type:"BG_COLOR_ALPHA",defaultValue:"color_1",state:"regular"},rowText:{type:"TEXT_COLOR",defaultValue:"color_5",state:"regular"},rowFont:{type:"FONT",defaultValue:"font_9",state:"regular"},rowDivider_w:{type:"BORDER_SIZE",defaultValue:"1",state:"regular"},rowDivider:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_5",state:"regular"},selection:{type:"BG_COLOR_ALPHA",defaultValue:"color_13",state:"regular"},linkColor:{type:"TEXT_COLOR",defaultValue:"color_6",state:"regular"},linkHoverColor:{type:"TEXT_COLOR",defaultValue:"color_7",state:"hover"},paginationColor:{type:"BG_COLOR_ALPHA",defaultValue:"#000000",state:"regular"},cellPadding:{type:"PADDING_RIGHT_SIZE",defaultValue:"0",state:"regular"},rowOrCellHoverBg:{type:"BG_COLOR_ALPHA",defaultValue:"color_4",state:"hover"},headerColumnBg:{type:"BG_COLOR_ALPHA",defaultValue:"color_1",state:"regular"},headerColumnFont:{type:"FONT",defaultValue:"font_9",state:"regular"},headerColumnText:{type:"TEXT_COLOR",defaultValue:"color_5",state:"regular"}},e["wysiwyg.viewer.skins.GridSkin"]={shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},containerBrw:{type:"BORDER_SIZE",defaultValue:"1",state:"regular"},containerBrd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_5",state:"regular"},containerBg:{type:"BG_COLOR_ALPHA",defaultValue:"color_1",state:"regular"},headerDivider_w:{type:"BORDER_SIZE",defaultValue:"1",state:"regular"},headerBg:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},headerText:{type:"TEXT_COLOR",defaultValue:"color_5",state:"regular"},headerFont:{type:"FONT",defaultValue:"font_9",state:"regular"},columnDivider_w:{type:"BORDER_SIZE",defaultValue:"1",state:"regular"},columnDivider:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_5",state:"regular"},headerDivider:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_5",state:"regular"},row2Bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_10",state:"regular"},rowBg:{type:"BG_COLOR_ALPHA",defaultValue:"color_1",state:"regular"},rowText:{type:"TEXT_COLOR",defaultValue:"color_5",state:"regular"},rowFont:{type:"FONT",defaultValue:"font_9",state:"regular"},rowDivider_w:{type:"BORDER_SIZE",defaultValue:"1",state:"regular"},rowDivider:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_5",state:"regular"},selection:{type:"BG_COLOR_ALPHA",defaultValue:"color_13",state:"regular"},linkColor:{type:"TEXT_COLOR",defaultValue:"color_6",state:"regular"},linkHoverColor:{type:"TEXT_COLOR",defaultValue:"color_7",state:"hover"},paginationColor:{type:"BG_COLOR_ALPHA",defaultValue:"#000000",state:"regular"},cellPadding:{type:"PADDING_RIGHT_SIZE",defaultValue:"0",state:"regular"},rowOrCellHoverBg:{type:"BG_COLOR_ALPHA",defaultValue:"color_4",state:"hover"}},e["wysiwyg.viewer.skins.HtmlComponentSkin"]={},e["skins.viewer.VectorImageShapeBasicSkin"]={fillcolor:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"regular"}},e["wysiwyg.viewer.skins.IconSkin"]={fillcolor:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"regular"}},e["wysiwyg.common.components.imagebutton.viewer.skins.ImageButtonSkin"]={},e["wysiwyg.skins.ImageZoomDisplayerSkin"]={},e["wysiwyg.viewer.skins.MediaZoomSkin"]={},e["wysiwyg.skins.ImageZoomSkin"]={},e["wysiwyg.viewer.skins.NonOptimizedMediaZoomSkin"]={},e["wysiwyg.skins.NonOptimizedImageZoomSkin"]={},e["wysiwyg.viewer.skins.AppPartMediaZoomSkin"]={},e["wysiwyg.viewer.skins.AppPartMobileMediaZoomSkin"]={zoom:{type:"INVERTED_ZOOM_FIXED",defaultValue:"1",state:"regular"}},e["wysiwyg.viewer.skins.TouchMediaZoomItem"]={},e["wysiwyg.viewer.skins.TouchMediaZoom"]={},e["skins.viewer.itunesbutton.ItunesButtonSkin"]={},e["wysiwyg.viewer.skins.LanguageButtonSkin"]={itemFont:{type:"FONT",defaultValue:"font_0",state:"regular"},itemTextColor:{type:"TEXT_COLOR",defaultValue:"color_1",state:"regular"},backgroundColor:{type:"BG_COLOR_ALPHA",defaultValue:"color_4",state:"regular"},itemTextColorActive:{type:"TEXT_COLOR",defaultValue:"color_1",state:"hover"},backgroundColorActive:{type:"BG_COLOR_ALPHA",defaultValue:"color_4",state:"hover"},itemTextColorHover:{type:"TEXT_COLOR",defaultValue:"color_1",state:"hover"},backgroundColorHover:{type:"BG_COLOR_ALPHA",defaultValue:"color_4",state:"hover"},iconType:{type:"ICON_TYPE",defaultValue:"circle",state:"regular"},iconSize:{type:"SIZE",defaultValue:"16px",state:"regular"}},e["wysiwyg.viewer.skins.LanguageSelectorSkin"]={borderColorHover:{type:"BORDER_COLOR_ALPHA",defaultValue:"#202020",state:"hover"},borderColorActive:{type:"BORDER_COLOR_ALPHA",defaultValue:"#202020",state:"active"},borderColor:{type:"BORDER_COLOR_ALPHA",defaultValue:"#202020",state:"regular"},borderWidth:{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"},borderRadius:{type:"BORDER_RADIUS",defaultValue:"5px",state:"regular"},boxShadow:{type:"BOX_SHADOW",defaultValue:"0 1px 3px rgba(0, 0, 0, 0.5)",state:"regular"},separatorColor:{type:"BG_COLOR_ALPHA",defaultValue:"transparent",state:"regular"},itemFont:{type:"FONT",defaultValue:"font_0",state:"regular"},itemTextColor:{type:"TEXT_COLOR",defaultValue:"color_1",state:"regular"},backgroundColor:{type:"BG_COLOR_ALPHA",defaultValue:"color_4",state:"regular"},itemTextColorActive:{type:"TEXT_COLOR",defaultValue:"color_1",state:"hover"},backgroundColorActive:{type:"BG_COLOR_ALPHA",defaultValue:"color_4",state:"hover"},itemTextColorHover:{type:"TEXT_COLOR",defaultValue:"color_1",state:"hover"},backgroundColorHover:{type:"BG_COLOR_ALPHA",defaultValue:"color_4",state:"hover"},iconType:{type:"ICON_TYPE",defaultValue:"circle",state:"regular"},iconSize:{type:"SIZE",defaultValue:"16px",state:"regular"}},e["wysiwyg.viewer.skins.displayers.LinkBarItemNoBGSkin"]={},e["wysiwyg.viewer.skins.displayers.LinkBarItemSkin"]={bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"100%",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"hover"}},e["wysiwyg.viewer.skins.LinkBarNoBGSkin"]={},e["wysiwyg.viewer.skins.button.LoginButtonSkin"]={fnt:{type:"FONT",defaultValue:"font_7",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_14",state:"hover"}},e["wysiwyg.viewer.skins.LoginSocialButtonSkin"]={"badge-bg":{type:"COLOR",defaultValue:"#E21C21",state:"regular"},"badge-txt":{type:"TEXT_COLOR",defaultValue:"color_11",state:"regular"},fillcolor:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"regular"}},e["wysiwyg.viewer.skins.LoginSocialBarSkin"]={bg:{type:"BG_COLOR_ALPHA",defaultValue:"transparent",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0px",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 0 0 transparent",state:"regular"},"bg-dd":{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},"brw-dd":{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"},"brd-dd":{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},"rd-dd":{type:"BORDER_RADIUS",defaultValue:"0px",state:"regular"},"shd-dd":{type:"BOX_SHADOW",defaultValue:"0 0 0 transparent",state:"regular"},fnt:{type:"FONT",defaultValue:"font_8",state:"regular"},"fnt-size-dd":{type:"TEXT_SIZE",defaultValue:"15px",state:"regular"},"txt-dd":{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},"txt-slct-dd":{type:"TEXT_COLOR",defaultValue:"color_18",state:"regular"},"txth-dd":{type:"TEXT_COLOR",defaultValue:"color_14",state:"hover"},txth:{type:"TEXT_COLOR",defaultValue:"color_17",state:"hover"},txt:{type:"TEXT_COLOR",defaultValue:"color_18",state:"regular"},"badge-bg":{type:"COLOR",defaultValue:"#E21C21",state:"regular"},"badge-txt":{type:"TEXT_COLOR",defaultValue:"color_11",state:"regular"},fillcolor:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"regular"}},e["skins.viewer.gallerymatrix.MatrixGalleryIronSkin"]={txt:{type:"TEXT_COLOR",defaultValue:"color_18",state:"regular"},fntds:{type:"FONT",defaultValue:"font_8",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 2px 5px rgba(0, 0, 0, 0.53)",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"2px",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"12px",state:"regular"},ishd:{type:"BOX_SHADOW",defaultValue:"rgba(255, 255, 255, 0.59) 0px 0px 6px 0px inset, rgba(255, 255, 255, 0.92) 0px 1px 0px 0px inset, rgba(255, 255, 255, 0.2) 0px 0px 5px 0px inset",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},fntt:{type:"FONT",defaultValue:"font_6",state:"regular"},ttl:{type:"TEXT_COLOR",defaultValue:"color_18",state:"regular"}},e["skins.viewer.gallerymatrix.MatrixGalleryScotchTapeSkin"]={txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},fntds:{type:"FONT",defaultValue:"font_8",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 3px rgba(0, 0, 0, 0.15)",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"8px",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},fntt:{type:"FONT",defaultValue:"font_6",state:"regular"},ttl:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.common.components.matrixgallery.viewer.skins.MatrixGallerySeparateTextBoxSkin"]={showMoreClr:{type:"TEXT_COLOR",defaultValue:"color_13",state:"regular"},fntds:{type:"FONT",defaultValue:"font_9",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},brw:{type:"SIZE",defaultValue:"0",state:"regular"},bghClr:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},fntt:{type:"FONT",defaultValue:"font_7",state:"regular"},ttl2:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},txt2:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},lnkClr:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},boxRd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},imgHeightDiff:{type:"HEIGHT_SIZE",defaultValue:"80px",state:"regular"},boxbg:{type:"BG_COLOR_ALPHA",defaultValue:"color_12",state:"regular"},paddingSize:{type:"MARGIN_SIZE",defaultValue:"10px",state:"regular"},topPadding:{type:"SIZE",defaultValue:"13px",state:"regular"}},e["wysiwyg.common.components.matrixgallery.viewer.skins.MatrixGalleryTextOnCenterSkin"]={showMoreColor:{type:"TEXT_COLOR",defaultValue:"color_11",state:"regular"},fntds:{type:"FONT",defaultValue:"font_9",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},borderColor:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bgHover:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},fntt:{type:"FONT",defaultValue:"font_7",state:"regular"},titleColor:{type:"TEXT_COLOR",defaultValue:"color_18",state:"regular"},descColor:{type:"TEXT_COLOR",defaultValue:"color_11",state:"regular"},linkColor:{type:"BORDER_COLOR",defaultValue:"color_11",state:"regular"},linkHoverColor:{type:"BG_COLOR_ALPHA",defaultValue:"color_12",state:"hover"}},e["wysiwyg.viewer.skins.displayers.CircleDetailedDisplayer"]={brw:{type:"SIZE",defaultValue:"0",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"50%",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 3px rgba(0, 0, 0, 0.5)",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.displayers.PolaroidDisplayer"]={bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"5px",state:"regular"}},e["wysiwyg.viewer.skins.gallery.CircleMatrixGallery"]={shd:{type:"BOX_SHADOW",defaultValue:"0 1px 3px rgba(0, 0, 0, 0.5)",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},brw:{type:"SIZE",defaultValue:"0",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"50%",state:"regular"}},e["wysiwyg.viewer.skins.gallery.MatrixGallerySkin"]={bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},fnt:{type:"FONT",defaultValue:"font_7",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.gallery.PolaroidMatrixGallery"]={bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"5px",state:"regular"}},e["wysiwyg.viewer.skins.gallerymatrix.BlogMatrixGallery"]={txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},fntds:{type:"FONT",defaultValue:"font_8",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"#ffffff",state:"regular"}},e["wysiwyg.viewer.skins.gallerymatrix.MatrixDisplayerVintage"]={shd:{type:"BOX_SHADOW",defaultValue:"0 1px 5px rgba(0, 0, 0, 0.1)",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},brw:{type:"PADDING_SIZE",defaultValue:"5px",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},fntt:{type:"FONT",defaultValue:"font_6",state:"regular"},ttl:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},fntds:{type:"FONT",defaultValue:"font_8",state:"regular"}},e["wysiwyg.viewer.skins.gallerymatrix.MatrixGalleryCircleSkin"]={txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},fntds:{type:"FONT",defaultValue:"font_8",state:"regular"},brd:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 3px rgba(0, 0, 0, 0.5)",state:"regular"},fntt:{type:"FONT",defaultValue:"font_6",state:"regular"},ttl:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},brw:{type:"SIZE",defaultValue:"0",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"}},e["wysiwyg.viewer.skins.gallerymatrix.MatrixGalleryDefaultSkin"]={txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},fntds:{type:"FONT",defaultValue:"font_8",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},fntt:{type:"FONT",defaultValue:"font_6",state:"regular"},ttl:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.gallerymatrix.MatrixGalleryLiftedShadow"]={txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},fntds:{type:"FONT",defaultValue:"font_8",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},fntt:{type:"FONT",defaultValue:"font_6",state:"regular"},ttl:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},s:{type:"SIZE",defaultValue:"0",state:"regular"}},e["wysiwyg.viewer.skins.gallerymatrix.MatrixGalleryPolaroidSkin"]={txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},fntds:{type:"FONT",defaultValue:"font_8",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},brw:{type:"PADDING_SIZE",defaultValue:"5px",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},fntt:{type:"FONT",defaultValue:"font_6",state:"regular"},ttl:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.gallerymatrix.MatrixGallerySloopy"]={txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},fntds:{type:"FONT",defaultValue:"font_8",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},fntt:{type:"FONT",defaultValue:"font_6",state:"regular"},ttl:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.gallerymatrix.MatrixGalleryTextBelowSkin"]={txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},fntds:{type:"FONT",defaultValue:"font_8",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},fntt:{type:"FONT",defaultValue:"font_6",state:"regular"},ttl:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.gallerymatrix.MatrixGalleryTextSlideUpSkin"]={showMoreColor:{type:"TEXT_COLOR",defaultValue:"color_13",state:"regular"},fntds:{type:"FONT",defaultValue:"font_9",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},fntt:{type:"FONT",defaultValue:"font_8",state:"regular"},ttl:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},paddingSize:{type:"MARGIN_SIZE",defaultValue:"9px",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},paddingTop:{type:"SIZE",defaultValue:"9px",state:"regular"},paddingLeft:{type:"SIZE",defaultValue:"9px",state:"regular"}},e["wysiwyg.viewer.skins.gallerymatrix.MatrixGalleryTransparentSkin"]={showMoreColor:{type:"TEXT_COLOR",defaultValue:"color_13",state:"regular"},fntdsTrans:{type:"FONT",defaultValue:"font_9",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"10px",state:"regular"},brdTrans:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"hover"},fntt:{type:"FONT",defaultValue:"font_7",state:"regular"},ttlTrans:{type:"TEXT_COLOR",defaultValue:"color_18",state:"regular"},txtTrans:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},ttlhTrans:{type:"TEXT_COLOR",defaultValue:"color_18",state:"hover"},txthTrans:{type:"TEXT_COLOR",defaultValue:"color_15",state:"hover"}},e["wysiwyg.viewer.skins.gallerymatrix.MatrixGalleryVintage"]={txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},fntds:{type:"FONT",defaultValue:"font_8",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 5px rgba(0, 0, 0, 0.1)",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},brw:{type:"PADDING_SIZE",defaultValue:"5px",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},fntt:{type:"FONT",defaultValue:"font_6",state:"regular"},ttl:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.gallerymatrix.PolaroidCustomHeightSkin"]={showMoreColor:{type:"TEXT_COLOR",defaultValue:"color_13",state:"regular"},fntds:{type:"FONT",defaultValue:"font_8",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},imagePadding:{type:"SIZE",defaultValue:"0",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},imgHeightDiff:{type:"HEIGHT_SIZE",defaultValue:"80px",state:"regular"},paddingSize:{type:"MARGIN_SIZE",defaultValue:"10px",state:"regular"},lnk:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},fntt:{type:"FONT",defaultValue:"font_6",state:"regular"},ttl:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},paddingTop:{type:"SIZE",defaultValue:"10px",state:"regular"},paddingBottom:{type:"SIZE",defaultValue:"10px",state:"regular"}},e["wysiwyg.viewer.skins.gallerymatrix.TextBottomCustomHeightSkin"]={showMoreColor:{type:"TEXT_COLOR",defaultValue:"color_13",state:"regular"},fntds:{type:"FONT",defaultValue:"font_8",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},brw:{type:"SIZE",defaultValue:"0",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},fntt:{type:"FONT",defaultValue:"font_6",state:"regular"},ttl:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},lnk:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},imgHeightDiff:{type:"HEIGHT_SIZE",defaultValue:"80px",state:"regular"},paddingSize:{type:"MARGIN_SIZE",defaultValue:"0",state:"regular"},paddingTop:{type:"SIZE",defaultValue:"0",state:"regular"},paddingBottom:{type:"SIZE",defaultValue:"0",state:"regular"}},e["skins.viewer.VectorImageSkin"]={},e["skins.viewer.mediaControlFullscreenDefaultSkin"]={},e["skins.viewer.mediaControlPlayDefaultSkin"]={},e["skins.viewer.mediaControlStoryboardDefaultSkin"]={maincolor:{type:"COLOR",defaultValue:"color_11",state:"regular"}},e["skins.viewer.mediaControlStoryboardMinimalSkin"]={textcolor:{type:"COLOR",defaultValue:"color_15",state:"regular"}},e["skins.viewer.mediaControlProgressDefaultSkin"]={maincolor:{type:"COLOR",defaultValue:"color_11",state:"regular"},buffercolor:{type:"COLOR",defaultValue:"#f80",state:"regular"},progresscolor:{type:"COLOR",defaultValue:"#f00",state:"regular"},textcolor:{type:"COLOR",defaultValue:"color_15",state:"regular"}},e["skins.viewer.mediaControlVolumeDefaultSkin"]={maincolor:{type:"COLOR",defaultValue:"#fff",state:"regular"},progresscolor:{type:"COLOR",defaultValue:"#1fdf67",state:"regular"},disabledcolor:{type:"COLOR",defaultValue:"#777",state:"regular"}},e["skins.viewer.mediaControlTimeDefaultSkin"]={maincolor:{type:"COLOR",defaultValue:"color_11",state:"regular"}},e["skins.viewer.mediaControlsDarkSkin"]={maincolor:{type:"COLOR",defaultValue:"color_11",state:"regular"},progresscolor:{type:"COLOR",defaultValue:"#f00",state:"regular"},disabledcolor:{type:"COLOR",defaultValue:"#777",state:"regular"},buffercolor:{type:"COLOR",defaultValue:"#f80",state:"regular"},textcolor:{type:"COLOR",defaultValue:"color_15",state:"regular"}},e["skins.viewer.mediaControlsLightSkin"]={maincolor:{type:"COLOR",defaultValue:"color_11",state:"regular"},progresscolor:{type:"COLOR",defaultValue:"#f00",state:"regular"},disabledcolor:{type:"COLOR",defaultValue:"#777",state:"regular"},buffercolor:{type:"COLOR",defaultValue:"#f80",state:"regular"},textcolor:{type:"COLOR",defaultValue:"color_15",state:"regular"}},e["skins.viewer.mediaControlsNoControlsSkin"]={maincolor:{type:"COLOR",defaultValue:"#fff",state:"regular"},progresscolor:{type:"COLOR",defaultValue:"#1fdf67",state:"regular"},disabledcolor:{type:"COLOR",defaultValue:"#777",state:"regular"}},e["skins.viewer.mediaOverlayControlsDefaultSkin"]={},e["wysiwyg.viewer.skins.mediaPlayerSkin"]={},e["wysiwyg.viewer.skins.MessageViewSkin"]={rd:{type:"BORDER_RADIUS",defaultValue:"4px",state:"regular"},borderColor:{type:"BORDER_COLOR",defaultValue:"#5b8fa7",state:"regular"},bgColor:{type:"BG_COLOR_ALPHA",defaultValue:"#2aa7ea",state:"regular"},borderColorOver:{type:"BORDER_COLOR",defaultValue:"#237aa7",state:"hover"},bgColorOver:{type:"BG_COLOR_ALPHA",defaultValue:"#179ce1",state:"hover"},shadowColor:{type:"BOX_SHADOW_COLOR_ALPHA",defaultValue:"0, 0, 0, 0.2",state:"hover"},shadowInsetColorOver:{type:"BOX_SHADOW_COLOR_ALPHA",defaultValue:"68, 175, 233, 0.7",state:"hover"},labelColor:{type:"TEXT_COLOR",defaultValue:"#ffffff",state:"regular"}},e["wysiwyg.viewer.skins.MobileMessageViewSkin"]={rd:{type:"BORDER_RADIUS",defaultValue:"4px",state:"regular"},borderColor:{type:"BORDER_COLOR",defaultValue:"#5b8fa7",state:"regular"},bgColor:{type:"BG_COLOR_ALPHA",defaultValue:"#2aa7ea",state:"regular"},borderColorOver:{type:"BORDER_COLOR",defaultValue:"#237aa7",state:"hover"},bgColorOver:{type:"BG_COLOR_ALPHA",defaultValue:"#179ce1",state:"hover"},shadowColor:{type:"BOX_SHADOW_COLOR_ALPHA",defaultValue:"0, 0, 0, 0.2",state:"hover"},shadowInsetColorOver:{type:"BOX_SHADOW_COLOR_ALPHA",defaultValue:"68, 175, 233, 0.7",state:"hover"},labelColor:{type:"TEXT_COLOR",defaultValue:"#ffffff",state:"regular"}},e["wysiwyg.viewer.skins.mobile.MobileActionsMenuSkin"]={},e["wysiwyg.viewer.skins.PayPalButtonSkin"]={clr:{type:"TEXT_COLOR",defaultValue:"color_1",state:"regular"}},e["wysiwyg.common.components.pinitpinwidget.viewer.skins.PinItPinWidgetSkin"]={},e["skins.viewer.pinterestfollow.PinterestFollowSkin"]={},e["skins.viewer.pinterestpin.PinterestPinSkin"]={},e["wysiwyg.common.components.pinterestpinit.viewer.skins.PinterestPinItSkin"]={},e["wysiwyg.viewer.skins.quickActionBar.anchoredSkin"]={colorScheme:{type:"COLOR_SCHEME",defaultValue:"BRAND",state:"regular"},actionsSHD:{type:"BOX_SHADOW",defaultValue:"none",state:"regular"},actionsBorderSize:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},actionsBorderColor:{type:"BORDER_COLOR_ALPHA",defaultValue:"rgba(255, 255, 255, 0)",state:"regular"}},e["wysiwyg.viewer.skins.quickActionBar.floatingSkin"]={colorScheme:{type:"COLOR_SCHEME",defaultValue:"BRAND",state:"regular"},controlButtonBG:{type:"BG_COLOR_ALPHA",defaultValue:"#fff",state:"regular"},controlButtonFG:{type:"TEXT_COLOR",defaultValue:"#4682b4",state:"regular"},controlButtonBorderSize:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},controlButtonBorderColor:{type:"BORDER_COLOR_ALPHA",defaultValue:"rgba(255, 255, 255, 0)",state:"regular"},controlButtonSHD:{type:"BOX_SHADOW",defaultValue:"none",state:"regular"},actionsSHD:{type:"BOX_SHADOW",defaultValue:"none",state:"regular"},actionsBorderSize:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},actionsBorderColor:{type:"BORDER_COLOR_ALPHA",defaultValue:"rgba(255, 255, 255, 0)",state:"regular"}},e["wysiwyg.viewer.skins.quickActionBar.ovalSkin"]={colorScheme:{type:"COLOR_SCHEME",defaultValue:"BRAND",state:"regular"},actionsSHD:{type:"BOX_SHADOW",defaultValue:"none",state:"regular"},actionsBorderSize:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},actionsBorderColor:{type:"BORDER_COLOR_ALPHA",defaultValue:"rgba(255, 255, 255, 0)",state:"regular"}},e["wysiwyg.viewer.skins.quickActionBar.rectSkin"]={colorScheme:{type:"COLOR_SCHEME",defaultValue:"BRAND",state:"regular"},actionsSHD:{type:"BOX_SHADOW",defaultValue:"none",state:"regular"},actionsBorderSize:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},actionsBorderColor:{type:"BORDER_COLOR_ALPHA",defaultValue:"rgba(255, 255, 255, 0)",state:"regular"}},e["wysiwyg.viewer.skins.quickActionBarItem"]={},e["wysiwyg.common.components.radio.viewer.skins.RadioButtonDefaultSkin"]={bge:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"error"},bg3e:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_14",state:"error"},brw:{type:"BORDER_SIZE",defaultValue:"1px",state:"disabled"},bg3d:{type:"BG_COLOR_ALPHA",defaultValue:"color_14",state:"disabled"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bg3:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_14",state:"regular"},bg2:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 0px 0px transparent",state:"regular"},bgf:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},border_color_focus:{type:"BORDER_COLOR_ALPHA",defaultValue:"#CCC",state:"regular"},border_width_focus:{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"hover"},bg3h:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_14",state:"hover"},brwh:{type:"BORDER_SIZE",defaultValue:"1px",state:"hover"},bg2h:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"hover"},bgd:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"disabled"},brdd:{type:"BORDER_COLOR_ALPHA",defaultValue:"#CCCCCC",state:"disabled"},fnt:{type:"FONT",defaultValue:"font_8",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["skins.input.RadioGroupDefaultSkin"]={fnt2:{type:"FONT",defaultValue:"font_8",state:"regular"},txt2:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bge:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"error"},bg3e:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_14",state:"error"},brw:{type:"BORDER_SIZE",defaultValue:"1px",state:"disabled"},bg3d:{type:"BG_COLOR_ALPHA",defaultValue:"color_14",state:"disabled"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bg3:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_14",state:"regular"},bg2:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 0px 0px transparent",state:"regular"},bgf:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},border_color_focus:{type:"BORDER_COLOR_ALPHA",defaultValue:"#CCC",state:"regular"},border_width_focus:{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"hover"},bg3h:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_14",state:"hover"},brwh:{type:"BORDER_SIZE",defaultValue:"1px",state:"hover"},bg2h:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"hover"},bgd:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"disabled"},brdd:{type:"BORDER_COLOR_ALPHA",defaultValue:"#CCCCCC",state:"disabled"},fnt:{type:"FONT",defaultValue:"font_8",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.common.components.rssbutton.viewer.skins.RSSButtonSkin"]={},e["wysiwyg.viewer.skins.semiNativeComponentSkin"]={},e["wysiwyg.common.components.singleaudioplayer.viewer.skins.EPlayerFramedPlay"]={brw:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_13",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},audioIcons:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_21",state:"regular"},dividers:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},audioText:{type:"TEXT_COLOR",defaultValue:"color_11",state:"regular"},fnt:{type:"FONT",defaultValue:"font_9",state:"regular"},fnts:{type:"FONT",defaultValue:"font_10",state:"regular"},vol:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},prog:{type:"BG_COLOR_ALPHA",defaultValue:"color_21",state:"regular"}},e["wysiwyg.common.components.singleaudioplayer.viewer.skins.EPlayerLargePlay"]={brw:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_13",state:"regular"},audioIcons:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_21",state:"regular"},audioText:{type:"TEXT_COLOR",defaultValue:"color_11",state:"regular"},fnt:{type:"FONT",defaultValue:"font_9",state:"regular"},dividers:{type:"COLOR_ALPHA",defaultValue:"color_15",state:"regular"},fnts:{type:"FONT",defaultValue:"font_10",state:"regular"},vol:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},prog:{type:"BG_COLOR_ALPHA",defaultValue:"color_21",state:"regular"}},e["wysiwyg.common.components.singleaudioplayer.viewer.skins.EPlayerRoundPlay"]={brw:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_13",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},audioIcons:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_21",state:"regular"},audioText:{type:"TEXT_COLOR",defaultValue:"color_11",state:"regular"},fnt:{type:"FONT",defaultValue:"font_9",state:"regular"},fnts:{type:"FONT",defaultValue:"font_10",state:"regular"},vol:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},prog:{type:"BG_COLOR_ALPHA",defaultValue:"color_21",state:"regular"}},e["wysiwyg.common.components.singleaudioplayer.viewer.skins.SingleAudioPlayerSkin"]={brw:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_13",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},audioIcons:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_21",state:"regular"},audioText:{type:"TEXT_COLOR",defaultValue:"color_11",state:"regular"},fnt:{type:"FONT",defaultValue:"font_9",state:"regular"},fnts:{type:"FONT",defaultValue:"font_10",state:"regular"},vol:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},prog:{type:"BG_COLOR_ALPHA",defaultValue:"color_21",state:"regular"}},e["wysiwyg.common.components.skypecallbutton.viewer.skins.SkypeCallButtonSkin"]={},e["skins.viewer.displayers.BlogSlideshowDisplayer"]={brw:{type:"MARGIN_SIZE",defaultValue:"0",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"rgba(0, 0, 0, 0.5)",state:"regular"},fntt:{type:"FONT",defaultValue:"font_6",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"#ffffff",state:"regular"},fntds:{type:"FONT",defaultValue:"font_8",state:"regular"},s:{type:"SIZE",defaultValue:"0",state:"regular"}},e["skins.viewer.displayers.SlideCleanAndSimple2Displayer"]={brw:{type:"MARGIN_SIZE",defaultValue:"0",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},fntt:{type:"FONT",defaultValue:"font_6",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_11",state:"regular"},fntds:{type:"FONT",defaultValue:"font_8",state:"regular"},s:{type:"SIZE",defaultValue:"0",state:"regular"}},e["skins.viewer.displayers.SlideCleanAndSimpleDisplayer"]={brw:{type:"MARGIN_SIZE",defaultValue:"0",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},fntt:{type:"FONT",defaultValue:"font_6",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_11",state:"regular"},fntds:{type:"FONT",defaultValue:"font_8",state:"regular"},s:{type:"SIZE",defaultValue:"0",state:"regular"}},e["skins.viewer.gallery.BlogSlideShow"]={rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"none",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"transparent",state:"regular"},brw:{type:"MARGIN_SIZE",defaultValue:"0",state:"regular"},abgh:{type:"BG_COLOR_ALPHA",defaultValue:"rgba(0, 0, 0, 0.5)",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"#ffffff",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"rgba(0, 0, 0, 0.5)",state:"regular"},fntt:{type:"FONT",defaultValue:"font_6",state:"regular"},fntds:{type:"FONT",defaultValue:"font_8",state:"regular"},s:{type:"SIZE",defaultValue:"0",state:"regular"}},e["skins.viewer.gallery.SlideShowCleanAndSimple"]={rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 3px rgba(0, 0, 0, 0.5)",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},brw:{type:"MARGIN_SIZE",defaultValue:"0",state:"regular"},abg:{type:"BG_COLOR_ALPHA",defaultValue:"color_14",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_11",state:"regular"},abgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},fntt:{type:"FONT",defaultValue:"font_6",state:"regular"},fntds:{type:"FONT",defaultValue:"font_8",state:"regular"},s:{type:"SIZE",defaultValue:"0",state:"regular"}},e["skins.viewer.gallery.SlideShowCleanAndSimple2"]={rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 3px rgba(0, 0, 0, 0.5)",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},brw:{type:"MARGIN_SIZE",defaultValue:"0",state:"regular"},abg:{type:"BG_COLOR_ALPHA",defaultValue:"color_14",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_11",state:"regular"},abgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},fntt:{type:"FONT",defaultValue:"font_6",state:"regular"},fntds:{type:"FONT",defaultValue:"font_8",state:"regular"},s:{type:"SIZE",defaultValue:"0",state:"regular"}},e["skins.viewer.gallery.SlideShowIron"]={rd:{type:"BORDER_RADIUS",defaultValue:"2px",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 3px rgba(0, 0, 0, 0.5)",state:"regular"},brd:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},ishdd:{type:"BOX_SHADOW",defaultValue:"rgba(255, 255, 255, 0.4) 0px 0px 6px 0px inset, rgba(255, 255, 255, 0.701961) 0px 1px 0px 0px inset, rgba(255, 255, 255, 0.2) 0px 0px 5px 0px inset, rgba(0, 0, 0, 0.498039) 0px 1px 3px 0px",state:"regular"},abg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_11",state:"regular"},ishd:{type:"BOX_SHADOW",defaultValue:"rgba(255, 255, 255, 0.4) 0px 0px 6px 0px inset, rgba(255, 255, 255, 0.701961) 0px 1px 0px 0px inset, rgba(255, 255, 255, 0.2) 0px 0px 5px 0px inset",state:"regular"},imageWrapperTop:{type:"TOP_SIZE",defaultValue:"12px",state:"regular"},imageWrapperRight:{type:"RIGHT_SIZE",defaultValue:"12px",state:"regular"},imageWrapperBottom:{type:"BOTTOM_SIZE",defaultValue:"140px",state:"regular"},imageWrapperLeft:{type:"LEFT_SIZE",defaultValue:"12px",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},fntt:{type:"FONT",defaultValue:"font_6",state:"regular"},fntds:{type:"FONT",defaultValue:"font_8",state:"regular"}},e["skins.viewer.gallery.SlideShowScotchTape"]={shd:{type:"BOX_SHADOW",defaultValue:"0 1px 0 rgba(0, 0, 0, 0.1)",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},brw:{type:"MARGIN_SIZE",defaultValue:"0",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_11",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},fntt:{type:"FONT",defaultValue:"font_6",state:"regular"},fntds:{type:"FONT",defaultValue:"font_8",state:"regular"},s:{type:"SIZE",defaultValue:"0",state:"regular"}},e["wysiwyg.viewer.skins.displayers.FrameDisplayer"]={brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bgc:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"}},e["wysiwyg.viewer.skins.displayers.RoundFrameDisplayer"]={},e["wysiwyg.viewer.skins.displayers.SlideDisplayer"]={bgc:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"}},e["wysiwyg.viewer.skins.gallery.FrameShowGallery"]={shd:{type:"BOX_SHADOW",defaultValue:"0 1px 2px rgba(0, 0, 0, 0.6)",state:"regular"},bgc:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},rd1:{type:"BORDER_RADIUS",defaultValue:"0 5px 5px 0",state:"regular"},rd2:{type:"BORDER_RADIUS",defaultValue:"5px 0 0 5px",state:"regular"},clr:{type:"BORDER_COLOR",defaultValue:"color_2",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.gallery.RibbonsSlideShow"]={bgc:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 2px rgba(0, 0, 0, 0.6)",state:"regular"},bgc1:{type:"BG_COLOR_ALPHA",defaultValue:"color_2",state:"regular"},clr:{type:"COLOR",defaultValue:"color_2",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.gallery.RoundSlideShowGallery"]={bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_1",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"3px",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 3px rgba(0, 0, 0, 0.6)",state:"regular"},shd1:{type:"BOX_SHADOW",defaultValue:"inset -3px -5px 15px rgba(0, 0, 0, 0.4)",state:"regular"},bge:{type:"BG_COLOR_ALPHA",defaultValue:"color_6",state:"regular"}},e["wysiwyg.viewer.skins.gallery.SlideShowGalleryLiftedShadowSkin"]={rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 3px rgba(0, 0, 0, 0.5)",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},brw:{type:"MARGIN_SIZE",defaultValue:"0",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_11",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},fntt:{type:"FONT",defaultValue:"font_6",state:"regular"},fntds:{type:"FONT",defaultValue:"font_8",state:"regular"}},e["wysiwyg.viewer.skins.gallery.SlideShowGallerySimple"]={clr:{type:"BORDER_COLOR",defaultValue:"color_11",state:"regular"},bgc:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"}},e["wysiwyg.viewer.skins.gallery.SlideShowGallerySloopy"]={txt:{type:"TEXT_COLOR",defaultValue:"color_11",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},fntt:{type:"FONT",defaultValue:"font_6",state:"regular"},fntds:{type:"FONT",defaultValue:"font_8",state:"regular"}},e["wysiwyg.viewer.skins.gallery.SlideShowPolaroid"]={bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 3px rgba(0, 0, 0, 0.5)",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"5px",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},s:{type:"SIZE",defaultValue:"5px",state:"regular"},brw:{type:"SIZE",defaultValue:"5px",state:"regular"},fntds:{type:"FONT",defaultValue:"font_8",state:"regular"},fntt:{type:"FONT",defaultValue:"font_6",state:"regular"}},e["wysiwyg.viewer.skins.gallery.SlideShowTextBottom"]={txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 3px rgba(0, 0, 0, 0.5)",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},brw:{type:"SIZE",defaultValue:"0",state:"regular"},fntt:{type:"FONT",defaultValue:"font_6",state:"regular"},fntds:{type:"FONT",defaultValue:"font_8",state:"regular"}},e["wysiwyg.viewer.skins.gallery.SlideShowTextFloating"]={rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 3px rgba(0, 0, 0, 0.5)",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},brw:{type:"SIZE",defaultValue:"0",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_11",state:"regular"},s:{type:"SIZE",defaultValue:"0",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},fntt:{type:"FONT",defaultValue:"font_6",state:"regular"},fntds:{type:"FONT",defaultValue:"font_8",state:"regular"},s2:{type:"SIZE",defaultValue:"0",state:"regular"}},e["wysiwyg.viewer.skins.gallery.SlideShowTextOverlay"]={rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 3px rgba(0, 0, 0, 0.5)",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},brw:{type:"SIZE",defaultValue:"0",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_11",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},fntt:{type:"FONT",defaultValue:"font_6",state:"regular"},fntds:{type:"FONT",defaultValue:"font_8",state:"regular"}},e["wysiwyg.viewer.skins.gallery.SlideShowTextRight"]={brd:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 3px rgba(0, 0, 0, 0.5)",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},a:{type:"SIZE",defaultValue:"0",state:"regular"},brw:{type:"MARGIN_SIZE",defaultValue:"0",state:"regular"},bgc:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},fntt:{type:"FONT",defaultValue:"font_6",state:"regular"},fntds:{type:"FONT",defaultValue:"font_8",state:"regular"}},e["wysiwyg.viewer.skins.SoundCloudWidgetSkin"]={},e["wysiwyg.common.components.spotifyfollow.viewer.skins.SpotifyFollowSkin"]={},e["wysiwyg.common.components.spotifyplayer.viewer.skins.SpotifyPlayerSkin"]={},e["wysiwyg.common.components.boxSlideShow.viewer.skins.longArrowsLargeSelectedCircleSkin"]={shd:{type:"BOX_SHADOW",defaultValue:"0 0 0 rgba(0, 0, 0, 0.6)",state:"regular"},dotsColor:{type:"BG_COLOR_ALPHA",defaultValue:"color_12",state:"regular"},arrowColor:{type:"BG_COLOR_ALPHA",defaultValue:"color_12",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_11",state:"regular"}},e["wysiwyg.common.components.boxSlideShow.viewer.skins.squareButtonsSkin"]={shd:{type:"BOX_SHADOW",defaultValue:"0 0 0 rgba(0, 0, 0, 0.6)",state:"regular"},dotsColor:{type:"BG_COLOR_ALPHA",defaultValue:"color_12",state:"regular"},dotsSelectedColor:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},arrowContainerColor:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},arrowColor:{type:"BG_COLOR_ALPHA",defaultValue:"color_12",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_11",state:"regular"}},e["wysiwyg.common.components.boxSlideShow.viewer.skins.thinArrowsLargeSelectedCircleSkin"]={shd:{type:"BOX_SHADOW",defaultValue:"0 0 0 rgba(0, 0, 0, 0.6)",state:"regular"},dotsColor:{type:"BG_COLOR_ALPHA",defaultValue:"color_12",state:"regular"},arrowColor:{type:"BG_COLOR_ALPHA",defaultValue:"color_12",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_11",state:"regular"}},e["wysiwyg.common.components.boxSlideShow.viewer.skins.thinArrowsSkin"]={shd:{type:"BOX_SHADOW",defaultValue:"0 0 0 rgba(0, 0, 0, 0.6)",state:"regular"},dotsColor:{type:"BG_COLOR_ALPHA",defaultValue:"color_12",state:"regular"},dotsSelectedColor:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},arrowColor:{type:"BG_COLOR_ALPHA",defaultValue:"color_12",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_11",state:"regular"}},e["wysiwyg.common.components.stripSlideShow.viewer.skins.longArrowsLargeSelectedCircleSkin"]={dotsColor:{type:"BG_COLOR_ALPHA",defaultValue:"color_12",state:"regular"},arrowColor:{type:"BG_COLOR_ALPHA",defaultValue:"color_12",state:"regular"}},e["wysiwyg.common.components.stripSlideShow.viewer.skins.squareButtonsSkin"]={dotsColor:{type:"BG_COLOR_ALPHA",defaultValue:"color_12",state:"regular"},dotsSelectedColor:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},arrowContainerColor:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},arrowColor:{type:"BG_COLOR_ALPHA",defaultValue:"color_12",state:"regular"}},e["wysiwyg.common.components.stripSlideShow.viewer.skins.thinArrowsLargeSelectedCircleSkin"]={dotsColor:{type:"BG_COLOR_ALPHA",defaultValue:"color_12",state:"regular"},arrowColor:{type:"BG_COLOR_ALPHA",defaultValue:"color_12",state:"regular"}},e["wysiwyg.common.components.stripSlideShow.viewer.skins.thinArrowsSkin"]={dotsColor:{type:"BG_COLOR_ALPHA",defaultValue:"color_12",state:"regular"},dotsSelectedColor:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},arrowColor:{type:"BG_COLOR_ALPHA",defaultValue:"color_12",state:"regular"}},e["wysiwyg.common.components.stripSlideShowSlide.viewer.skins.stripSlideShowSlideSkin"]={brw:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_11",state:"regular"}},e["wysiwyg.common.components.subscribeform.viewer.skins.SubscribeFormBoxLayoutEnvelope"]={bg3:{type:"BG_COLOR_ALPHA",defaultValue:"color_12",state:"regular"},tfnt:{type:"FONT",defaultValue:"font_6",state:"regular"},titleColor:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},efnt:{type:"FONT",defaultValue:"font_9",state:"regular"},txtError:{type:"BORDER_COLOR",defaultValue:"#8b0000",state:"regular"},txt1:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bg1:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},fnt:{type:"FONT",defaultValue:"font_9",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_12",state:"regular"},labelTxt:{type:"TEXT_COLOR",defaultValue:"color_12",state:"regular"},txt2:{type:"TEXT_COLOR",defaultValue:"color_11",state:"regular"},fnt2:{type:"FONT",defaultValue:"font_9",state:"regular"},bg2:{type:"BG_COLOR_ALPHA",defaultValue:"color_19",state:"regular"},txt3:{type:"TEXT_COLOR",defaultValue:"color_15",state:"hover"},bg4:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"hover"},txtSuccess:{type:"TEXT_COLOR",defaultValue:"#bada55",state:"regular"},maxbrw:{type:"SIZE",defaultValue:"1px",state:"regular"}},e["wysiwyg.common.components.subscribeform.viewer.skins.SubscribeFormBoxLayoutFlat"]={bg3:{type:"BG_COLOR_ALPHA",defaultValue:"color_12",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},tfnt:{type:"FONT",defaultValue:"font_6",state:"regular"},titleColor:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},txt1:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bg1:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},fnt:{type:"FONT",defaultValue:"font_9",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_12",state:"regular"},txtError:{type:"BORDER_COLOR",defaultValue:"#8b0000",state:"regular"},labelTxt:{type:"TEXT_COLOR",defaultValue:"color_12",state:"regular"},txt2:{type:"TEXT_COLOR",defaultValue:"color_11",state:"regular"},fnt2:{type:"FONT",defaultValue:"font_9",state:"regular"},bg2:{type:"BG_COLOR_ALPHA",defaultValue:"color_19",state:"regular"},txt3:{type:"TEXT_COLOR",defaultValue:"color_15",state:"hover"},bg4:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"hover"},efnt:{type:"FONT",defaultValue:"font_9",state:"regular"},txtSuccess:{type:"TEXT_COLOR",defaultValue:"#bada55",state:"regular"},maxbrw:{type:"SIZE",defaultValue:"1px",state:"regular"}},e["wysiwyg.common.components.subscribeform.viewer.skins.SubscribeFormBoxLayoutShiny"]={bls_bg3:{type:"BG_COLOR_ALPHA",defaultValue:"color_12",state:"regular"},bls_shd:{type:"BOX_SHADOW",defaultValue:"0 2px 1px 0 rgba(50, 50, 50, 0.2)",state:"regular"},bls_tfnt:{type:"FONT",defaultValue:"font_6",state:"regular"},bls_titleColor:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bls_shd_input:{type:"BOX_SHADOW",defaultValue:"inset 1px 1px 0 1px rgba(50, 50, 50, 0.2)",state:"regular"},bls_txt1:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bls_bg1:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},bls_fnt:{type:"FONT",defaultValue:"font_9",state:"regular"},bls_brw:{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"},bls_brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_12",state:"regular"},bls_txtError:{type:"BORDER_COLOR",defaultValue:"#8b0000",state:"regular"},bls_labelTxt:{type:"TEXT_COLOR",defaultValue:"color_12",state:"regular"},bls_shd_subscribe_button:{type:"BOX_SHADOW",defaultValue:"inset 0 -15px 5px 0 rgba(50, 50, 50, 0.4)",state:"regular"},bls_txt2:{type:"TEXT_COLOR",defaultValue:"color_11",state:"regular"},bls_fnt2:{type:"FONT",defaultValue:"font_9",state:"regular"},bls_bg2:{type:"BG_COLOR_ALPHA",defaultValue:"color_19",state:"regular"},bls_txt3:{type:"TEXT_COLOR",defaultValue:"color_15",state:"hover"},bls_bg4:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"hover"},bls_efnt:{type:"FONT",defaultValue:"font_9",state:"regular"},bls_txtSuccess:{type:"TEXT_COLOR",defaultValue:"#bada55",state:"regular"},bls_shd_input_rtl:{type:"BOX_SHADOW",defaultValue:"inset -1px 1px 1px 0 rgba(50, 50, 50, 0.75)",state:"regular"},maxbrw:{type:"SIZE",defaultValue:"1px",state:"regular"}},e["wysiwyg.common.components.subscribeform.viewer.skins.SubscribeFormLineLayoutFlat"]={llf_bg3:{type:"BG_COLOR_ALPHA",defaultValue:"color_12",state:"regular"},llf_shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},llf_fnt2:{type:"FONT",defaultValue:"font_9",state:"regular"},llf_txt2:{type:"TEXT_COLOR",defaultValue:"color_11",state:"regular"},llf_brw:{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"},llf_bg2:{type:"BG_COLOR_ALPHA",defaultValue:"color_19",state:"regular"},llf_txt3:{type:"TEXT_COLOR",defaultValue:"color_15",state:"hover"},llf_bg4:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"hover"},llf_tfnt:{type:"FONT",defaultValue:"font_6",state:"regular"},llf_titleColor:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},llf_txt1:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},llf_bg1:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},llf_fnt:{type:"FONT",defaultValue:"font_9",state:"regular"},llf_brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_12",state:"regular"},llf_labelTxt:{type:"TEXT_COLOR",defaultValue:"color_12",state:"regular"},llf_txtError:{type:"BORDER_COLOR",defaultValue:"#8b0000",state:"regular"},llf_efnt:{type:"FONT",defaultValue:"font_9",state:"regular"},llf_txtSuccess:{type:"TEXT_COLOR",defaultValue:"#bada55",state:"regular"},maxbrw:{type:"SIZE",defaultValue:"1px",state:"regular"}},e["wysiwyg.common.components.subscribeform.viewer.skins.SubscribeFormLineLayoutTransparentWithIcon"]={llf_bg3:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},llf_brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_12",state:"regular"},llf_shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},llf_fnt2:{type:"FONT",defaultValue:"font_9",state:"regular"},llf_txt2:{type:"TEXT_COLOR",defaultValue:"color_11",state:"regular"},llf_brw:{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"},llf_bg2:{type:"BG_COLOR_ALPHA",defaultValue:"color_19",state:"regular"},llf_txt3:{type:"TEXT_COLOR",defaultValue:"color_15",state:"hover"},llf_bg4:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"hover"},llf_icon_color:{type:"BG_COLOR_ALPHA",defaultValue:"color_12",state:"regular"},llf_tfnt:{type:"FONT",defaultValue:"font_6",state:"regular"},llf_titleColor:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},llf_txt1:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},llf_bg1:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},llf_fnt:{type:"FONT",defaultValue:"font_9",state:"regular"},llf_labelTxt:{type:"TEXT_COLOR",defaultValue:"color_12",state:"regular"},llf_txtError:{type:"BORDER_COLOR",defaultValue:"#8b0000",state:"regular"},llf_efnt:{type:"FONT",defaultValue:"font_9",state:"regular"},llf_txtSuccess:{type:"TEXT_COLOR",defaultValue:"#bada55",state:"regular"},maxbrw:{type:"SIZE",defaultValue:"1px",state:"regular"}},e["wysiwyg.common.components.subscribeform.viewer.skins.SubscribeFormPlaceholderSkin"]={tfnt:{type:"FONT",defaultValue:"font_6",state:"regular"},titleColor:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},fnt:{type:"FONT",defaultValue:"font_9",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},txt1:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_12",state:"regular"},bg2:{type:"BG_COLOR_ALPHA",defaultValue:"color_19",state:"regular"},fnt2:{type:"FONT",defaultValue:"font_9",state:"regular"},txt2:{type:"TEXT_COLOR",defaultValue:"color_11",state:"regular"},phs_txt3:{type:"TEXT_COLOR",defaultValue:"color_15",state:"hover"},phs_bg4:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"hover"},efnt:{type:"FONT",defaultValue:"font_9",state:"regular"},txtSuccess:{type:"TEXT_COLOR",defaultValue:"#bada55",state:"regular"},txtError:{type:"BORDER_COLOR",defaultValue:"#8b0000",state:"regular"},bg1:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},labelTxt:{type:"TEXT_COLOR",defaultValue:"color_12",state:"regular"},maxbrw:{type:"SIZE",defaultValue:"1px",state:"regular"}},e["wysiwyg.common.components.subscribeform.viewer.skins.SubscribeFormSkin"]={fnt1:{type:"FONT",defaultValue:"font_7",state:"regular"},labelTxt:{type:"TEXT_COLOR",defaultValue:"#a9a9a9",state:"regular"},fnt:{type:"FONT",defaultValue:"font_9",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"5px",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},txt1:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},efnt:{type:"FONT",defaultValue:"font_9",state:"regular"},txtSuccess:{type:"TEXT_COLOR",defaultValue:"#bada55",state:"regular"},txtError:{type:"BORDER_COLOR",defaultValue:"#8b0000",state:"regular"},bs_txt3:{type:"TEXT_COLOR",defaultValue:"color_15",state:"hover"},bs_bg4:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"hover"},tfnt:{type:"FONT",defaultValue:"font_6",state:"regular"},titleColor:{type:"TEXT_COLOR",defaultValue:"#a9a9a9",state:"regular"},bg2:{type:"BG_COLOR_ALPHA",defaultValue:"color_19",state:"regular"},fnt2:{type:"FONT",defaultValue:"font_9",state:"regular"},txt2:{type:"TEXT_COLOR",defaultValue:"color_11",state:"regular"},bg1:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},maxbrw:{type:"SIZE",defaultValue:"0",state:"regular"}},e["wysiwyg.common.components.subscribeform.viewer.skins.SubscribeFormSkinTopLabels"]={fnt1:{type:"FONT",defaultValue:"font_7",state:"regular"},labelTxt:{type:"TEXT_COLOR",defaultValue:"#a9a9a9",state:"regular"},efnt:{type:"FONT",defaultValue:"font_9",state:"regular"},txtSuccess:{type:"TEXT_COLOR",defaultValue:"#bada55",state:"regular"},txtError:{type:"BORDER_COLOR",defaultValue:"#8b0000",state:"regular"},tl_txt3:{type:"TEXT_COLOR",defaultValue:"color_15",state:"hover"},tl_bg4:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"hover"},tfnt:{type:"FONT",defaultValue:"font_6",state:"regular"},titleColor:{type:"TEXT_COLOR",defaultValue:"#a9a9a9",state:"regular"},fnt:{type:"FONT",defaultValue:"font_9",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"5px",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},txt1:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bg2:{type:"BG_COLOR_ALPHA",defaultValue:"color_19",state:"regular"},fnt2:{type:"FONT",defaultValue:"font_9",state:"regular"},txt2:{type:"TEXT_COLOR",defaultValue:"color_11",state:"regular"},bg1:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},maxbrw:{type:"SIZE",defaultValue:"0",state:"regular"}},e["skins.viewer.svgPrimitive.SvgPrimitiveDefaultSkin"]={},e["skins.viewer.svgshape.SvgShapeDefaultSkin"]={fillcolor:{type:"COLOR",defaultValue:"color_11",state:"regular"},"alpha-fillcolor":{type:"ALPHA",defaultValue:"1",state:"regular"},stroke:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},strokewidth:{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"}},e["wysiwyg.viewer.skins.table.TableComponentDefaultSkin"]={shd:{type:"BOX_SHADOW",defaultValue:"0 0 3px rgba(0, 0, 0, 0.5)",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"hover"},brd:{type:"BORDER_COLOR",defaultValue:"color_14",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_13",state:"hover"}},e.TextAreaDefaultSkin={shd:{type:"BOX_SHADOW",defaultValue:"0 0 0 transparent",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},fnt:{type:"FONT",defaultValue:"font_8",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"#ffffff",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"#e3e3e3",state:"regular"},txt2:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"#ffffff",state:"hover"},brwh:{type:"BORDER_SIZE",defaultValue:"1px",state:"hover"},brdh:{type:"BORDER_COLOR_ALPHA",defaultValue:"#a3d9f6",state:"hover"},bgd:{type:"BG_COLOR_ALPHA",defaultValue:"#CCCCCC",state:"disabled"},txtd:{type:"TEXT_COLOR",defaultValue:"#FFFFFF",state:"disabled"},brwd:{type:"BORDER_SIZE",defaultValue:"1px",state:"disabled"},brdd:{type:"BORDER_COLOR_ALPHA",defaultValue:"#a3d9f6",state:"disabled"},bgf:{type:"BG_COLOR_ALPHA",defaultValue:"#ffffff",state:"focus"},brwf:{type:"BORDER_SIZE",defaultValue:"1px",state:"focus"},brdf:{type:"BORDER_COLOR_ALPHA",defaultValue:"#a3d9f6",state:"focus"},bge:{type:"BG_COLOR_ALPHA",defaultValue:"#ffffff",state:"error"},brwe:{type:"BORDER_SIZE",defaultValue:"1px",state:"error"},brde:{type:"BORDER_COLOR_ALPHA",defaultValue:"#a3d9f6",state:"error"}},e["wysiwyg.viewer.skins.appinputs.AppsTextAreaInputSkin"]={},e["wysiwyg.viewer.skins.appinputs.AppsTextAreaInputSkinNoValidation"]={},e["wysiwyg.viewer.skins.input.TextAreaInputSkin"]={bg:{type:"BG_COLOR_ALPHA",defaultValue:"#ffffff",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"#e3e3e3",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"#000000",state:"regular"},brdh:{type:"BORDER_COLOR_ALPHA",defaultValue:"#a3d9f6",state:"hover"},brdf:{type:"BORDER_COLOR_ALPHA",defaultValue:"#19a0e9",state:"focus"}},e["wysiwyg.viewer.skins.mobile.TinyMenuMemberSectionSkin"]={"badge-bg":{type:"COLOR",defaultValue:"#E21C21",state:"regular"},"badge-txt":{type:"TEXT_COLOR",defaultValue:"color_11",state:"regular"},fillcolor:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"regular"}},e["wysiwyg.viewer.skins.mobile.TinyMenuLanguageSectionSkin"]={},e["wysiwyg.viewer.skins.mobile.TinyMenuFullScreenSkin"]={rd:{type:"BORDER_RADIUS",defaultValue:"4px",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},borderwidth:{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"},bordercolor:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},linewidth:{type:"WIDTH_SIZE",defaultValue:"20px",state:"regular"},strokewidth:{type:"WIDTH_SIZE",defaultValue:"3",state:"regular"},iconcolor:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},iconcolorSelected:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},bgDrop:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},borderColorSelected:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_11",state:"regular"},txts:{type:"TEXT_COLOR",defaultValue:"color_18",state:"regular"},separatorHeight:{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"},separatorColor:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},bgOpen:{type:"BG_COLOR_ALPHA",defaultValue:"transparent",state:"regular"},borderWidthSelected:{type:"BORDER_SIZE",defaultValue:"0px",state:"regular"},textAlignment:{type:"TEXT_ALIGNMENT",defaultValue:"center",state:"regular"},separatorWidthFull:{type:"BORDER_SIZE",defaultValue:"200px",state:"regular"},fixStrokeBlur:{type:"SIZE",defaultValue:"3",state:"regular"},counterColor:{type:"COLOR",defaultValue:"color_11",state:"regular"},"badge-bg":{type:"COLOR",defaultValue:"#E21C21",state:"regular"},"badge-txt":{type:"TEXT_COLOR",defaultValue:"color_11",state:"regular"},fillcolor:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"regular"}},e["wysiwyg.viewer.skins.mobile.TinyMenuPullFromLeftSkin"]={rd:{type:"BORDER_RADIUS",defaultValue:"4px",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},borderwidth:{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"},bordercolor:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},linewidth:{type:"WIDTH_SIZE",defaultValue:"20px",state:"regular"},strokewidth:{type:"WIDTH_SIZE",defaultValue:"3",state:"regular"},iconcolor:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},iconcolorSelected:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},bgDrop:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},borderColorSelected:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_11",state:"regular"},txts:{type:"TEXT_COLOR",defaultValue:"color_18",state:"regular"},separatorHeight:{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"},separatorColor:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},bgOpen:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},borderWidthSelected:{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"},textAlignment:{type:"TEXT_ALIGNMENT",defaultValue:"left",state:"regular"},separatorWidth:{type:"BORDER_SIZE",defaultValue:"140px",state:"regular"},fixStrokeBlur:{type:"SIZE",defaultValue:"3",state:"regular"},counterColor:{type:"COLOR",defaultValue:"color_11",state:"regular"},"badge-bg":{type:"COLOR",defaultValue:"#E21C21",state:"regular"},"badge-txt":{type:"TEXT_COLOR",defaultValue:"color_11",state:"regular"},fillcolor:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"regular"}},e["wysiwyg.viewer.skins.mobile.TinyMenuPullFromRightSkin"]={rd:{type:"BORDER_RADIUS",defaultValue:"4px",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},borderwidth:{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"},bordercolor:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},linewidth:{type:"WIDTH_SIZE",defaultValue:"20px",state:"regular"},strokewidth:{type:"WIDTH_SIZE",defaultValue:"3",state:"regular"},iconcolor:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},iconcolorSelected:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},bgDrop:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},borderColorSelected:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_11",state:"regular"},txts:{type:"TEXT_COLOR",defaultValue:"color_18",state:"regular"},separatorHeight:{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"},separatorColor:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},bgOpen:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},borderWidthSelected:{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"},textAlignment:{type:"TEXT_ALIGNMENT",defaultValue:"right",state:"regular"},separatorWidth:{type:"BORDER_SIZE",defaultValue:"140px",state:"regular"},fixStrokeBlur:{type:"SIZE",defaultValue:"3",state:"regular"},counterColor:{type:"COLOR",defaultValue:"color_11",state:"regular"},"badge-bg":{type:"COLOR",defaultValue:"#E21C21",state:"regular"},"badge-txt":{type:"TEXT_COLOR",defaultValue:"color_11",state:"regular"},fillcolor:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"regular"}},e["wysiwyg.viewer.skins.mobile.TinyMenuPullFromTopSkin"]={rd:{type:"BORDER_RADIUS",defaultValue:"4px",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},borderwidth:{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"},bordercolor:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},linewidth:{type:"WIDTH_SIZE",defaultValue:"20px",state:"regular"},strokewidth:{type:"WIDTH_SIZE",defaultValue:"3",state:"regular"},iconcolor:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},iconcolorSelected:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},bgDrop:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},borderColorSelected:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_11",state:"regular"},txts:{type:"TEXT_COLOR",defaultValue:"color_18",state:"regular"},separatorHeight:{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"},separatorColor:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},bgOpen:{type:"BG_COLOR_ALPHA",defaultValue:"transparent",state:"regular"},borderWidthSelected:{type:"BORDER_SIZE",defaultValue:"0px",state:"regular"},textAlignment:{type:"TEXT_ALIGNMENT",defaultValue:"center",state:"regular"},separatorWidthFull:{type:"BORDER_SIZE",defaultValue:"200px",state:"regular"},fixStrokeBlur:{type:"SIZE",defaultValue:"3",state:"regular"},counterColor:{type:"COLOR",defaultValue:"color_11",state:"regular"},"badge-bg":{type:"COLOR",defaultValue:"#E21C21",state:"regular"},"badge-txt":{type:"TEXT_COLOR",defaultValue:"color_11",state:"regular"},fillcolor:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"regular"}},e["wysiwyg.viewer.skins.mobile.TinyMenuSkin"]={rd:{type:"BORDER_RADIUS",defaultValue:"4px",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},borderwidth:{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"},bordercolor:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},linewidth:{type:"WIDTH_SIZE",defaultValue:"20px",state:"regular"},strokewidth:{type:"WIDTH_SIZE",defaultValue:"3",state:"regular"},iconcolor:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},iconcolorSelected:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},bgDrop:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bgs:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"regular"},txts:{type:"TEXT_COLOR_LEGACY_ALPHA",defaultValue:"color_11",state:"regular"},txt:{type:"TEXT_COLOR_LEGACY_ALPHA",defaultValue:"color_11",state:"regular"},fixStrokeBlur:{type:"SIZE",defaultValue:"3",state:"regular"},counterColor:{type:"COLOR",defaultValue:"color_11",state:"regular"},"badge-bg":{type:"COLOR",defaultValue:"#E21C21",state:"regular"},"badge-txt":{type:"TEXT_COLOR",defaultValue:"color_11",state:"regular"},fillcolor:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"regular"}},e["wysiwyg.viewer.skins.TPAModalSkin"]={rd:{type:"BORDER_RADIUS",defaultValue:"1px",state:"regular"}},e["wysiwyg.viewer.skins.TPAPopupSkin"]={shd:{type:"BOX_SHADOW",defaultValue:"4px 4px 15px rgba(0, 0, 0, 0.4)",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"3px",state:"regular"}},e["wysiwyg.viewer.skins.TPAPreloaderSkin"]={},e["wysiwyg.viewer.skins.TPAUnavailableMessageOverlaySkin"]={},e["wysiwyg.viewer.skins.TPASectionSkin"]={},e["wysiwyg.viewer.skins.TPAWidgetSkin"]={},e["wysiwyg.viewer.skins.TPA3DCarouselSkin"]={},e["wysiwyg.viewer.skins.TPA3DGallerySkin"]={},e["wysiwyg.viewer.skins.TPAAccordionSkin"]={color1:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},color3:{type:"BG_COLOR_ALPHA",defaultValue:"color_14",state:"regular"},color4:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_11",state:"regular"}},e["wysiwyg.viewer.skins.TPACollageSkin"]={color1:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},color2:{type:"TEXT_COLOR",defaultValue:"color_14",state:"regular"},color3:{type:"TEXT_COLOR",defaultValue:"color_11",state:"regular"}},e["wysiwyg.viewer.skins.TPAEcomGallerySkin"]={},e["wysiwyg.viewer.skins.TPAFreestyleSkin"]={color1:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.TPAHoneycombSkin"]={color3:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},color4:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_11",state:"regular"}},e["wysiwyg.viewer.skins.TPAImpressSkin"]={color1:{type:"TEXT_COLOR",defaultValue:"color_13",state:"regular"},color2:{type:"TEXT_COLOR",defaultValue:"color_18",state:"regular"},color3:{type:"TEXT_COLOR",defaultValue:"color_23",state:"regular"},color4:{type:"TEXT_COLOR",defaultValue:"color_28",state:"regular"},color5:{type:"TEXT_COLOR",defaultValue:"color_33",state:"regular"},color6:{type:"TEXT_COLOR",defaultValue:"color_16",state:"regular"},color7:{type:"TEXT_COLOR",defaultValue:"color_1",state:"regular"},color8:{type:"TEXT_COLOR",defaultValue:"color_14",state:"regular"}},e["wysiwyg.viewer.skins.TPAMasonrySkin"]={color1:{type:"TEXT_COLOR",defaultValue:"#000000",state:"regular"},color2:{type:"TEXT_COLOR",defaultValue:"#000000",state:"regular"},color3:{type:"BG_COLOR",defaultValue:"#ffffff",state:"regular"},color4:{type:"TEXT_COLOR",defaultValue:"#000000",state:"regular"}},e["wysiwyg.viewer.skins.TPAStripShowcaseSkin"]={},e["wysiwyg.viewer.skins.TPAStripSlideshowSkin"]={color1:{type:"TEXT_COLOR",defaultValue:"color_18",state:"regular"},color2:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},color3:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"}},e["wysiwyg.viewer.skins.TPAThumbnailsSkin"]={color1:{type:"TEXT_COLOR",defaultValue:"color_11",state:"regular"},color2:{type:"TEXT_COLOR",defaultValue:"color_11",state:"regular"},color3:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.TwitterFeedSkin"]={bg2:{type:"BG_COLOR_ALPHA",defaultValue:"color_12",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"5px",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.common.components.verticalanchorsmenu.viewer.skins.VerticalAnchorsMenuLinkedNoTextSkin"]={symbolColor:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},symbolColorSelected:{type:"BG_COLOR_ALPHA",defaultValue:"color_2",state:"regular"}},e["wysiwyg.common.components.verticalanchorsmenu.viewer.skins.VerticalAnchorsMenuSymbolSkin"]={symbolColor:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},symbolColorSelected:{type:"BG_COLOR_ALPHA",defaultValue:"color_2",state:"regular"}},e["wysiwyg.common.components.verticalanchorsmenu.viewer.skins.VerticalAnchorsMenuSymbolWithHiddenTextSkin"]={textFont:{type:"FONT",defaultValue:"font_1",state:"regular"},symbolColor:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},symbolColorSelected:{type:"TEXT_COLOR",defaultValue:"color_2",state:"regular"},textSpacing:{type:"PADDING_SIZE",defaultValue:"14px",state:"regular"}},e["wysiwyg.common.components.verticalanchorsmenu.viewer.skins.VerticalAnchorsMenuSymbolWithTextSkin"]={textFont:{type:"FONT",defaultValue:"font_1",state:"regular"},symbolColor:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},symbolColorSelected:{type:"TEXT_COLOR",defaultValue:"color_2",state:"regular"},textSpacing:{type:"PADDING_SIZE",defaultValue:"14px",state:"regular"}},e["wysiwyg.common.components.verticalanchorsmenu.viewer.skins.VerticalAnchorsMenuTextSkin"]={textFont:{type:"FONT",defaultValue:"font_1",state:"regular"},symbolColor:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},symbolColorSelected:{type:"TEXT_COLOR",defaultValue:"color_2",state:"regular"}},e["wysiwyg.common.components.verticalmenu.viewer.skins.VerticalMenuArrowSkin"]={shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},textSpacing:{type:"PADDING_SIZE",defaultValue:"10px",state:"regular"},fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},fntDrop:{type:"FONT",defaultValue:"font_1",state:"regular"},bgh:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_13",state:"regular"},bgs:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},txts:{type:"TEXT_COLOR",defaultValue:"color_13",state:"regular"},rdTop:{type:"BORDER_RADIUS",defaultValue:"rd",state:"regular"},rdBottom:{type:"BORDER_RADIUS",defaultValue:"rd",state:"regular"},dropDownRdTop:{type:"BORDER_RADIUS",defaultValue:"dropdownBR",state:"regular"},dropDownRdBottom:{type:"BORDER_RADIUS",defaultValue:"dropdownBR",state:"regular"},bgDrop:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},dropdownBR:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},dropdownMargin:{type:"MARGIN_SIZE",defaultValue:"1px",state:"regular"},subItemAlterAlignPad:{type:"SIZE",defaultValue:"10px",state:"regular"}},e["wysiwyg.common.components.verticalmenu.viewer.skins.VerticalMenuRibbonsSkin"]={shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_13",state:"regular"},bgh:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bgs:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},txts:{type:"TEXT_COLOR",defaultValue:"color_13",state:"regular"},textSpacing:{type:"PADDING_SIZE",defaultValue:"10px",state:"regular"},fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},SKINS_bgSubmenu:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},SKINS_submenuBR:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},SKINS_fntSubmenu:{type:"FONT",defaultValue:"font_1",state:"regular"},SKINS_submenuMargin:{type:"MARGIN_SIZE",defaultValue:"1px",state:"regular"},SKINS_foldh:{type:"COLOR_ALPHA",defaultValue:"color_15",state:"regular"},SKINS_folds:{type:"COLOR_ALPHA",defaultValue:"color_15",state:"regular"},subItemAlterAlignPad:{type:"SIZE",defaultValue:"10px",state:"regular"}},e["wysiwyg.common.components.verticalmenu.viewer.skins.VerticalMenuSeparatedButtonFixedWidthSkin"]={SKINS_submenuMargin:{type:"MARGIN_SIZE",defaultValue:"8px",state:"regular"},SKINS_fntSubmenu:{type:"FONT",defaultValue:"font_1",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},SKINS_bgSubmenu:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},SKINS_submenuBR:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},textSpacing:{type:"PADDING_SIZE",defaultValue:"10px",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},bgs:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},txts:{type:"TEXT_COLOR",defaultValue:"color_13",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_13",state:"regular"},fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},separatorHeight:{type:"HEIGHT_SIZE",defaultValue:"8",state:"regular"},subItemAlterAlignPad:{type:"SIZE",defaultValue:"10px",state:"regular"}},e["wysiwyg.common.components.verticalmenu.viewer.skins.VerticalMenuSeparatedButtonSkin"]={SKINS_fntSubmenu:{type:"FONT",defaultValue:"font_1",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},SKINS_bgSubmenu:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},SKINS_submenuBR:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},SKINS_submenuMargin:{type:"MARGIN_SIZE",defaultValue:"8px",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},textSpacing:{type:"PADDING_SIZE",defaultValue:"10px",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},bgs:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},txts:{type:"TEXT_COLOR",defaultValue:"color_13",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_13",state:"regular"},fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},separatorHeight:{type:"HEIGHT_SIZE",defaultValue:"8",state:"regular"},subItemAlterAlignPad:{type:"SIZE",defaultValue:"10px",state:"regular"}},e["wysiwyg.common.components.verticalmenu.viewer.skins.VerticalMenuSolidColorSkin"]={brw:{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},sepw:{type:"BORDER_BOTTOM_SIZE",defaultValue:"1px",state:"regular"},sep:{type:"COLOR_ALPHA",defaultValue:"color_15",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_13",state:"regular"},bgs:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},txts:{type:"TEXT_COLOR",defaultValue:"color_13",state:"regular"},textSpacing:{type:"PADDING_SIZE",defaultValue:"10px",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},SKINS_submenuBR:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},SKINS_bgSubmenu:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},SKINS_fntSubmenu:{type:"FONT",defaultValue:"font_1",state:"regular"},SKINS_submenuMargin:{type:"MARGIN_SIZE",defaultValue:"0",state:"regular"},subItemAlterAlignPad:{type:"SIZE",defaultValue:"10px",state:"regular"}},e["wysiwyg.common.components.verticalmenu.viewer.skins.VerticalMenuTextSkin"]={textSpacing:{type:"PADDING_SIZE",defaultValue:"10px",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_13",state:"regular"},txts:{type:"TEXT_COLOR",defaultValue:"color_13",state:"regular"},fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},SKINS_bgSubmenu:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},SKINS_fntSubmenu:{type:"FONT",defaultValue:"font_1",state:"regular"},SKINS_submenuMargin:{type:"MARGIN_SIZE",defaultValue:"1px",state:"regular"},subItemAlterAlignPad:{type:"SIZE",defaultValue:"10px",state:"regular"}},e["wysiwyg.common.components.verticalmenu.viewer.skins.VerticalMenuTextWithSeparatorsSkin"]={sepw:{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},textSpacing:{type:"PADDING_SIZE",defaultValue:"10px",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},txth:{type:"TEXT_COLOR",defaultValue:"color_13",state:"regular"},bgs:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},txts:{type:"TEXT_COLOR",defaultValue:"color_13",state:"regular"},fnt:{type:"FONT",defaultValue:"font_1",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},SKINS_bgSubmenu:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, 0.6)",state:"regular"},SKINS_fntSubmenu:{type:"FONT",defaultValue:"font_1",state:"regular"},SKINS_submenuMargin:{type:"MARGIN_SIZE",defaultValue:"0",state:"regular"},subItemAlterAlignPad:{type:"SIZE",defaultValue:"10px",state:"regular"}},e["skins.viewer.vkshare.VKShareSkin"]={},e["skins.core.GooglePlusOneSkin"]={},e["wysiwyg.skins.AppPartZoomSkin"]={},e["wysiwyg.skins.MobileAppPartZoomSkin"]={zoom:{type:"INVERTED_ZOOM_FIXED",defaultValue:"1",state:"regular"}},e["ecommerce.skins.mcom.LoadMoreButton"]={txt:{type:"TEXT_COLOR",defaultValue:"#ffffff",state:"regular"},fnt:{type:"FONT",defaultValue:"font_7",state:"regular"}},e["ecommerce.skins.mcom.MobileAddButton"]={txt:{type:"BORDER_COLOR",defaultValue:"#737373",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"4px",state:"regular"},shadow:{type:"BOX_SHADOW",defaultValue:"inset 0 -13px 20px -10px 0 rgba(0, 0, 0, 0.2)",state:"regular"}},e["ecommerce.skins.mcom.MobileAddCouponButton"]={txt:{type:"BORDER_COLOR",defaultValue:"#222222",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"300px",state:"regular"}},e["ecommerce.skins.mcom.MobileColorOptionSkin"]={},e["ecommerce.skins.mcom.MobileComboBoxSkin"]={rd:{type:"BORDER_RADIUS",defaultValue:"5px",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"#ffffff",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"#888888",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"2px",state:"regular"},brd:{type:"BORDER_COLOR",defaultValue:"#888888",state:"regular"},bg2:{type:"BG_COLOR_ALPHA",defaultValue:"#aaaaaa",state:"regular"}},e["ecommerce.skins.mcom.MobileDeleteItemButton"]={},e["ecommerce.skins.mcom.MobileDropDownInputSkin2"]={},e["ecommerce.skins.mcom.MobileErasableTextInputSkin"]={bg:{type:"BG_COLOR_ALPHA",defaultValue:"#ffffff",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"2px",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"#222222",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"},brd:{type:"BORDER_COLOR",defaultValue:"#aaa9a9",state:"regular"}},e["ecommerce.skins.mcom.MobileOptionsListInputSkin"]={},e["ecommerce.skins.mcom.MobilePaginatedGridDefaultSkin"]={},e["ecommerce.skins.mcom.MobileRemoveButton"]={txt:{type:"BORDER_COLOR",defaultValue:"#373737",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"4px",state:"regular"},shadow:{type:"BOX_SHADOW",defaultValue:"inset 0 -13px 20px -10px 0 rgba(0, 0, 0, 0.2)",state:"regular"}},e["ecommerce.skins.mcom.MobileSelectableSliderGalleryDefaultSkin"]={brw:{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_13",state:"hover"},brs:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"}},e["ecommerce.skins.mcom.MobileSelectOptionsListSkin"]={rd:{type:"BORDER_RADIUS",defaultValue:"2px",state:"regular"}},e["ecommerce.skins.mcom.MobileTextAreaInputSkin"]={txt:{type:"COLOR",defaultValue:"#000000",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"#ffffff",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"5px",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"#a3a0a1",state:"regular"},brdf:{type:"BORDER_COLOR_ALPHA",defaultValue:"#19a0e9",state:"focus"}},e["ecommerce.skins.mcom.MobileTextOptionSkin"]={},e["ecommerce.skins.mcom.MobileVerticalRepeaterSkin"]={bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},pad:{type:"PADDING_SIZE",defaultValue:"10px 0",state:"regular"}},e["ecommerce.skins.mcom.MobileZoomPartSkin"]={rd:{type:"BORDER_RADIUS",defaultValue:"7px",state:"regular"}},e["ecommerce.skins.viewer.dialogs.EcomCheckoutMessageDialogSkin"]={rd:{type:"BORDER_RADIUS",defaultValue:"5px",state:"regular"},shadowColor:{type:"BOX_SHADOW_COLOR_ALPHA",defaultValue:"rgba(0, 0, 0, 0.2)",state:"hover"},shadowInsetColorOver:{type:"BOX_SHADOW_COLOR_ALPHA",defaultValue:"rgba(204, 68, 233, 0.7)",state:"hover"},shadowInsetColor:{type:"BOX_SHADOW_COLOR_ALPHA",defaultValue:"rgba(0, 0, 0, 0.7)",state:"active"}},e["wysiwyg.common.components.numericstepper.viewer.skins.NumericStepperHorizontalSkin"]={bordercolor:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_14",state:"regular"},backgroundcolor:{type:"BG_COLOR_ALPHA",defaultValue:"color_1",state:"regular"},textcolor:{type:"TEXT_COLOR",defaultValue:"color_13",state:"regular"},buttonscolor:{type:"BG_COLOR_ALPHA",defaultValue:"color_14",state:"regular"},buttontextcolor:{type:"TEXT_COLOR",defaultValue:"color_1",state:"regular"}},e["wysiwyg.common.components.numericstepper.viewer.skins.NumericStepperModernSkin"]={bordercolor:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_14",state:"regular"},backgroundcolor:{type:"BG_COLOR_ALPHA",defaultValue:"color_1",state:"regular"},textcolor:{type:"TEXT_COLOR",defaultValue:"color_13",state:"regular"},buttonscolor:{type:"BG_COLOR_ALPHA",defaultValue:"color_14",state:"regular"},arrowscolor:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_1",state:"regular"}},e["wysiwyg.common.components.numericstepper.viewer.skins.NumericStepperSimpleSkin"]={bordercolor:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_14",state:"regular"},textcolor:{type:"TEXT_COLOR",defaultValue:"color_13",state:"regular"},backgroundcolor:{type:"BG_COLOR_ALPHA",defaultValue:"color_1",state:"regular"}},e["wysiwyg.common.components.numericstepper.viewer.skins.NumericStepperVerticalSkin"]={bordercolor:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_14",state:"regular"},backgroundcolor:{type:"BG_COLOR_ALPHA",defaultValue:"color_1",state:"regular"},textcolor:{type:"TEXT_COLOR",defaultValue:"color_13",state:"regular"},buttonscolor:{type:"BG_COLOR_ALPHA",defaultValue:"color_14",state:"regular"},arrowscolor:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_1",state:"regular"}},e["wysiwyg.viewer.skins.appinputs.EcomComboBoxInputSkin"]={},e["wysiwyg.viewer.skins.appinputs.EcomErasableTextInputSkin"]={bg:{type:"BG_COLOR_ALPHA",defaultValue:"#e3e3e3",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},fnt:{type:"FONT",defaultValue:"font_8",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"#000000",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"},brd:{type:"BORDER_COLOR",defaultValue:"#e3e3e3",state:"regular"}},e["wysiwyg.viewer.skins.appinputs.EcomTextInputSkin"]={bg:{type:"BG_COLOR_ALPHA",defaultValue:"#e3e3e3",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},fnt:{type:"FONT",defaultValue:"font_8",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"#000000",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"},brd:{type:"BORDER_COLOR",defaultValue:"#e3e3e3",state:"regular"},brdh:{type:"BORDER_COLOR",defaultValue:"#a3d9f6",state:"hover"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"#e3e3e3",state:"hover"}},e["wysiwyg.viewer.skins.apps.DefaultBoxSkin"]={bg:{type:"BG_COLOR_ALPHA",defaultValue:"#fff",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 1px transparent",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"#333",state:"regular"}},e["wysiwyg.viewer.skins.button.AddProductButton"]={rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},brd:{type:"BORDER_COLOR",defaultValue:"color_15",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},fnt:{type:"FONT",defaultValue:"font_7",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"hover"},brdh:{type:"BORDER_COLOR",defaultValue:"color_16",state:"hover"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"hover"}},e["wysiwyg.viewer.skins.button.ApplyButtonEcom"]={rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},fnt:{type:"FONT",defaultValue:"font_8",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"hover"},brdh:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_15",state:"hover"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"hover"}},e["wysiwyg.viewer.skins.button.EcomFeedbackCheckoutButton"]={rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},brd:{type:"BORDER_COLOR",defaultValue:"color_15",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},fnt:{type:"FONT",defaultValue:"font_8",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_11",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_14",state:"hover"},brdh:{type:"BORDER_COLOR",defaultValue:"color_14",state:"hover"},txth:{type:"TEXT_COLOR",defaultValue:"color_11",state:"hover"}},e["wysiwyg.viewer.skins.button.EcomFeedbackContinueShopping"]={rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_14",state:"regular"},brd:{type:"BORDER_COLOR",defaultValue:"color_14",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},fnt:{type:"FONT",defaultValue:"font_8",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_11",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_13",state:"hover"},brdh:{type:"BORDER_COLOR",defaultValue:"color_13",state:"hover"},txth:{type:"TEXT_COLOR",defaultValue:"color_11",state:"hover"}},e["wysiwyg.viewer.skins.button.EcomFeedbackContinueShopping2"]={rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},brd:{type:"BORDER_COLOR",defaultValue:"color_11",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},fnt:{type:"FONT",defaultValue:"font_8",state:"regular"},txt:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"hover"},brdh:{type:"BORDER_COLOR",defaultValue:"color_11",state:"hover"},txth:{type:"TEXT_COLOR",defaultValue:"color_14",state:"hover"}},e["wysiwyg.viewer.skins.paginatedgrid.PaginatedGridNoBG"]={itemBg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 0 0 rgba(0, 0, 0, 0.15)",state:"regular"},itemBrc:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_12",state:"regular"},itemBrw:{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},txtHoverOutOfStock:{type:"TEXT_COLOR",defaultValue:"228, 82, 63, 1",state:"hover"},paging:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.paginatedgrid.PaginatedGridNoDetail"]={bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},itemBg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 0 0 transparent",state:"regular"},itemBrc:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_12",state:"regular"},itemBrw:{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_12",state:"regular"},txtHoverOutOfStock:{type:"TEXT_COLOR",defaultValue:"228, 82, 63, 1",state:"regular"},paging:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.paginatedgrid.PaginatedGridSimple"]={rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},itemBrw:{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"},itemBrc:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_12",state:"regular"},rbn:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"regular"},strip:{type:"BG_COLOR_ALPHA",defaultValue:"color_12",state:"hover"},txth:{type:"TEXT_COLOR",defaultValue:"color_15",state:"hover"},txtHoverOutOfStock:{type:"TEXT_COLOR",defaultValue:"228, 82, 63, 1",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_12",state:"hover"},itemBrch:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_12",state:"hover"},paging:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wixapps.integration.skins.ClippedParagraphSkin"]={},e["wixapps.integration.skins.DropTargetSkin"]={$BorderRadius:{type:"BORDER_RADIUS",defaultValue:"3px",state:"regular"}},e["wixapps.integration.skins.ecommerce.inputs.ComboBoxInputSkin"]={},e["wixapps.integration.skins.ecommerce.inputs.TextAreaInputSkin"]={txt:{type:"TEXT_COLOR",defaultValue:"#000000",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"#ffffff",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"#e3e3e3",state:"regular"},brdh:{type:"BORDER_COLOR_ALPHA",defaultValue:"#a3d9f6",state:"hover"},brdf:{type:"BORDER_COLOR_ALPHA",defaultValue:"#19a0e9",state:"focus"}},e["wixapps.integration.skins.ecommerce.options.ColorOptionSkin"]={rd:{type:"BORDER_RADIUS",defaultValue:"5px",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, .6);",state:"regular"},txtcolor:{type:"TEXT_COLOR",defaultValue:"#656565",state:"regular"},bgcolor:{type:"BG_COLOR_ALPHA",defaultValue:"#fffedf",state:"regular"}},e["wixapps.integration.skins.ecommerce.options.OptionsListInputSkin"]={},e["wixapps.integration.skins.ecommerce.options.SelectOptionsListSkin"]={},e["wixapps.integration.skins.ecommerce.options.TextOptionSkin"]={rd:{type:"BORDER_RADIUS",defaultValue:"5px",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, .6);",state:"regular"},txtcolor:{type:"TEXT_COLOR",defaultValue:"#656565",state:"regular"},bgcolor:{type:"BG_COLOR_ALPHA",defaultValue:"#fffedf",state:"regular"}},e["wixapps.integration.skins.ecommerce.PaginatedGridSimple"]={rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},itemBrw:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},itemBrc:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_16",state:"regular"},rbn:{type:"BG_COLOR_ALPHA",defaultValue:"color_23",state:"regular"},strip:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"hover"},txth:{type:"TEXT_COLOR",defaultValue:"color_18",state:"hover"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"hover"},itemBrch:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_18",state:"hover"},paging:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wixapps.integration.skins.HelpQuestionMarkIconSkin"]={},e["wixapps.integration.skins.IconSkin"]={},e["wixapps.integration.skins.ImageButtonSkin"]={},e["wixapps.integration.skins.inputs.BUISelectorSkin"]={},e["wixapps.integration.skins.inputs.CheckBoxInputInlineSkin"]={rd:{type:"BORDER_RADIUS",defaultValue:"3px",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 0 0 transparent",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"#999999",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"#ffffff",state:"regular"}},e["wixapps.integration.skins.inputs.CheckBoxInputSkin"]={brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"#aaaaaa",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"#ffffff",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"3px",state:"regular"}},e["wixapps.integration.skins.inputs.ComboBoxInputSkin"]={borderColor:{type:"BORDER_COLOR",defaultValue:"#c4c4c4",state:"regular"},$borderRadius:{type:"BORDER_RADIUS",defaultValue:"4px",state:"regular"},bgColor:{type:"BG_COLOR_ALPHA",defaultValue:"#f9fafc",state:"regular"},borderColorOver:{type:"BORDER_COLOR",defaultValue:"#89a4af",state:"hover"},bgColorOver:{type:"BG_COLOR_ALPHA",defaultValue:"#f2f3f5",state:"hover"},shadowColor:{type:"BOX_SHADOW_COLOR_ALPHA",defaultValue:"0, 0, 0, 0.2",state:"hover"},shadowInsetColorOver:{type:"BOX_SHADOW_COLOR_ALPHA",defaultValue:"255, 255, 255, 0.7",state:"hover"}},e["wixapps.integration.skins.inputs.InlineTextInputSkin"]={},e["wixapps.integration.skins.inputs.LocationSelectorSkin"]={},e["wixapps.integration.skins.inputs.RichTextEditorSkin"]={$borderRadius:{type:"BORDER_RADIUS",defaultValue:"3px",state:"regular"},shadowColor:{type:"BOX_SHADOW_COLOR_ALPHA",defaultValue:"0, 0, 0, 0.1",state:"regular"}},e["wixapps.integration.skins.inputs.SingleLineCheckBoxInputInlineSkin"]={rd:{type:"BORDER_RADIUS",defaultValue:"3px",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"0 0 0 transparent",state:"regular"},brw:{type:"BORDER_SIZE",defaultValue:"1px",state:"regular"},brd:{type:"BORDER_COLOR_ALPHA",defaultValue:"#999999",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"#ffffff",state:"regular"}},e["wysiwyg.editor.skins.buttons.ButtonSmallerSkin"]={},e["wixapps.integration.skins.inputs.SubmitInputMessageAboveButtonSkin"]={$borderRadius:{type:"BORDER_RADIUS",defaultValue:"3px",state:"regular"},shadowColor:{type:"BOX_SHADOW_COLOR_ALPHA",defaultValue:"0, 0, 0, 0.1",state:"regular"}},e["wixapps.integration.skins.inputs.TextInputWithIconSkin"]={},e["wixapps.integration.skins.inputs.TextLinkSkin"]={},e["wixapps.integration.skins.inputs.TimeInputSkin"]={},e["wixapps.integration.skins.LinkSelectorSkin"]={},e["wixapps.integration.skins.LinkSelectorSkinII"]={},e["wixapps.integration.skins.TextAreaSkin"]={shadowColor:{type:"BOX_SHADOW_COLOR_ALPHA",defaultValue:"0, 0, 0, 0.3",state:"regular"}},e["wixapps.integration.skins.ToggleSkin"]={},e["wixapps.integration.skins.ToggleSkin2"]={},e["wixapps.integration.skins.WixAppsButtonSkin"]={borderColor:{type:"BORDER_COLOR",defaultValue:"#c4c4c4",state:"regular"},$borderRadius:{type:"BORDER_RADIUS",defaultValue:"4px",state:"regular"},bgColor:{type:"BG_COLOR_ALPHA",defaultValue:"#f9fafc",state:"regular"},borderColorOver:{type:"BORDER_COLOR",defaultValue:"#89a4af",state:"regular"},bgColorOver:{type:"BG_COLOR_ALPHA",defaultValue:"#f2f3f5",state:"regular"},shadowColor:{type:"BOX_SHADOW_COLOR_ALPHA",defaultValue:"0, 0, 0, 0.2",state:"regular"},shadowInsetColorOver:{type:"BOX_SHADOW_COLOR_ALPHA",defaultValue:"255, 255, 255, 0.7",state:"regular"},bgColorPressed:{type:"BG_COLOR_ALPHA",defaultValue:"#f3f3f3",state:"regular"},shadowInsetColor:{type:"BOX_SHADOW_COLOR_ALPHA",defaultValue:"0, 0, 0, 0.7",state:"regular"},labelColor:{type:"TEXT_COLOR",defaultValue:"#24a0c4",state:"regular"}},e["wysiwyg.viewer.skins.IconLeftImageButtonWithText"]={},e["wysiwyg.viewer.skins.paginatedgrid.counter.CounterGraphicSkin"]={insetShadow:{type:"BOX_SHADOW",defaultValue:"inset 1px 1px 2px 0 rgba(0, 0, 0, 0.2)",state:"regular"}},e["wysiwyg.viewer.skins.paginatedgrid.wixapps.PaginatedGridDefaultSkin"]={bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},itemBg:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"1px 1px 1px rgba(0, 0, 0, 0.15)",state:"regular"},itemBrc:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},itemBrw:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},paging:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.paginatedgrid.wixapps.PaginatedGridNoDetail"]={bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_15",state:"regular"},itemBg:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},shd:{type:"BOX_SHADOW",defaultValue:"1px 1px 1px rgba(0, 0, 0, 0.15)",state:"regular"},itemBrc:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},itemBrw:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_17",state:"regular"},paging:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.paginatedgrid.wixapps.PaginatedGridSimple"]={rd:{type:"BORDER_RADIUS",defaultValue:"0",state:"regular"},bg:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"regular"},itemBrw:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},itemBrc:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_16",state:"regular"},rbn:{type:"BG_COLOR_ALPHA",defaultValue:"color_23",state:"regular"},strip:{type:"BG_COLOR_ALPHA",defaultValue:"color_18",state:"hover"},txth:{type:"TEXT_COLOR",defaultValue:"color_18",state:"hover"},bgh:{type:"BG_COLOR_ALPHA",defaultValue:"color_11",state:"hover"},itemBrch:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_18",state:"hover"},paging:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"}},e["wysiwyg.viewer.skins.paginatedgrid.wixapps.TemplateChooserGallerySkin"]={insetShadow:{type:"BOX_SHADOW",defaultValue:"inset 1px 1px 2px 0 rgba(0, 0, 0, 0.2)",state:"regular"}},e["wysiwyg.viewer.skins.WixCodeWidgetSkin"]={},e["skins.core.TwitterFollowSkin"]={},e["skins.core.TwitterTweetSkin"]={},e["wysiwyg.common.components.youtubesubscribebutton.viewer.skins.YouTubeSubscribeButtonSkin"]={},e["wixui.skins.AddressInput"]={inputBackgroundColor:{type:"COLOR_ALPHA",defaultValue:"#f7f7f7",state:"regular"},inputStrokeColor:{type:"BORDER_COLOR_ALPHA",defaultValue:"#2cd8d7",state:"regular"},inputStrokeWidth:{type:"BORDER_SIZE",defaultValue:"1",state:"regular"},inputBoxShadow:{type:"BOX_SHADOW",defaultValue:"0 2px 0 0 #2cd8d7",state:"regular"},inputFont:{type:"FONT",defaultValue:"font_1",state:"regular"},inputHoverBackgroundColor:{type:"COLOR_ALPHA",defaultValue:"#fdf3f2",state:"hover"},inputHoverStrokeColor:{type:"BORDER_COLOR_ALPHA",defaultValue:"#2cd8d7",state:"hover"},inputHoverStrokeWidth:{type:"BORDER_SIZE",defaultValue:"1",state:"hover"},inputFocusBackgroundColor:{type:"COLOR_ALPHA",defaultValue:"#ffffff",state:"focus"},inputFocusStrokeColor:{type:"BORDER_COLOR_ALPHA",defaultValue:"#2cd8d7",state:"focus"},inputFocusStrokeWidth:{type:"BORDER_SIZE",defaultValue:"1",state:"focus"},inputDisabledBackgroundColor:{type:"COLOR_ALPHA",defaultValue:"#ffffff",state:"disabled"},inputDisabledStrokeColor:{type:"BORDER_COLOR_ALPHA",defaultValue:"#9b9b9b",state:"disabled"},inputDisabledStrokeWidth:{type:"BORDER_SIZE",defaultValue:"1",state:"disabled"},inputDisabledTextColor:{type:"COLOR",defaultValue:"#9b9b9b",state:"disabled"},inputPlaceholderFont:{type:"FONT",defaultValue:"font_1",state:"regular"},dropdownBackgroundColor:{type:"COLOR_ALPHA",defaultValue:"#ffffff",state:"regular"},dropdownStrokeColor:{type:"BORDER_COLOR_ALPHA",defaultValue:"#2cd8d7",state:"regular"},dropdownStrokeWidth:{type:"BORDER_SIZE",defaultValue:"1",state:"regular"},dropdownBoxShadow:{type:"BOX_SHADOW",defaultValue:"none",state:"regular"},dropdownFont:{type:"FONT",defaultValue:"font_1",state:"regular"},dropdownDividerStrokeColor:{type:"BORDER_COLOR_ALPHA",defaultValue:"#2cd8d7",state:"regular"},dropdownDividerStrokeWidth:{type:"BORDER_SIZE",defaultValue:"1",state:"regular"},dropdownHoverBackgroundColor:{type:"COLOR_ALPHA",defaultValue:"rgba(44, 216, 215, .7)",state:"regular"},dropdownHoverTextColor:{type:"COLOR",defaultValue:"#9b9b9b",state:"hover"},dropdownLocationIconColor:{type:"COLOR_ALPHA",defaultValue:"#797979",state:"regular"}},e["wixui.skins.Pagination"]={fnt:{type:"FONT",defaultValue:"font_8",state:"regular"},pageNumbersTextColor:{type:"TEXT_COLOR",defaultValue:"color_6",state:"regular"},selectedPageTextColor:{type:"TEXT_COLOR",defaultValue:"color_25",state:"regular"},selectedPageBG:{type:"COLOR_ALPHA",defaultValue:"color_22",state:"regular"},bRadius:{type:"BORDER_RADIUS",defaultValue:"100px",state:"regular"},selectedPageBorderWidth:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},selectedPageBorderColor:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_26",state:"regular"},shadow:{type:"BOX_SHADOW",defaultValue:"none",state:"regular"},navButtonBorderWidth:{type:"BORDER_SIZE",defaultValue:"3",state:"regular"},navButtonBorderColor:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_32",state:"regular"},navButtonBG:{type:"COLOR_ALPHA",defaultValue:"transparent",state:"regular"},navButtonDisabledBorderWidth:{type:"BORDER_SIZE",defaultValue:"3",state:"disabled"},navButtonDisabledBorderColor:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_43",state:"disabled"},navButtonDisabledBG:{type:"COLOR_ALPHA",defaultValue:"color_27",state:"disabled"},arrowsDisabledColor:{type:"COLOR_ALPHA",defaultValue:"color_37",state:"disabled"},arrowsColor:{type:"COLOR_ALPHA",defaultValue:"color_32",state:"regular"},navButtonTextSize:{type:"TEXT_SIZE",defaultValue:"15px",state:"regular"},navButtonTextColor:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},navButtonDisabledTextColor:{type:"TEXT_COLOR",defaultValue:"color_11",state:"disabled"},totalPagesTextColor:{type:"TEXT_COLOR",defaultValue:"color_7",state:"regular"},pageInputBorderWidth:{type:"BORDER_SIZE",defaultValue:"0",state:"regular"},pageInputTextColor:{type:"TEXT_COLOR",defaultValue:"color_26",state:"regular"},pageInputBorderColor:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_27",state:"regular"},pageInputBG:{type:"COLOR_ALPHA",defaultValue:"color_23",state:"regular"},pageInputFocusBorderWidth:{type:"BORDER_SIZE",defaultValue:"3",state:"focus"},pageInputFocusBG:{type:"COLOR_ALPHA",defaultValue:"color_8",state:"focus"},pageInputFocusBorderColor:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_38",state:"focus"},pageInputErrorBorderWidth:{type:"BORDER_SIZE",defaultValue:"3",state:"error"},pageInputErrorBG:{type:"COLOR_ALPHA",defaultValue:"color_2",state:"error"},pageInputErrorBorderColor:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_22",state:"error"}},e["wixui.skins.Rating"]={labelFontColor:{type:"TEXT_COLOR",defaultValue:"color_15",state:"regular"},labelFont:{type:"FONT",defaultValue:"font_8",state:"regular"},filledShapeColor:{type:"COLOR_ALPHA",defaultValue:"color_5",state:"regular"},emptyShapeColor:{type:"COLOR_ALPHA",defaultValue:"color_15",state:"regular"},shapeBorderColor:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_32",state:"regular"},shapeBorderWidth:{type:"BORDER_SIZE",defaultValue:"3",state:"regular"}},e["wixui.skins.Slider"]={thumbBackground:{type:"COLOR_ALPHA",defaultValue:"color_25",state:"regular"},thumbBorderColor:{type:"COLOR_ALPHA",defaultValue:"color_22",state:"regular"},thumbBorderWidth:{type:"BORDER_SIZE",defaultValue:"4",state:"regular"},thumbBoxShadow:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, .6)",state:"regular"},tickMarkColor:{type:"COLOR_ALPHA",defaultValue:"color_4",state:"regular"},tooltipFontFamily:{type:"FONT_FAMILY",defaultValue:"arial",state:"regular"},tooltipFontSize:{type:"TEXT_SIZE",defaultValue:"14",state:"regular"},tooltipFontColor:{type:"TEXT_COLOR",defaultValue:"color_1",state:"regular"},tooltipBackground:{type:"COLOR_ALPHA",defaultValue:"color_30",state:"regular"},tooltipBorderWidth:{type:"BORDER_SIZE",defaultValue:"2px",state:"regular"},tooltipBorderColor:{type:"COLOR_ALPHA",defaultValue:"color_1",state:"regular"},tooltipBorderRadius:{type:"BORDER_RADIUS",defaultValue:"2px",state:"regular"},tooltipBoxShadow:{type:"BOX_SHADOW",defaultValue:"initial",state:"regular"},thumbBackgroundHover:{type:"COLOR_ALPHA",defaultValue:"color_23",state:"hover"},thumbBorderColorHover:{type:"COLOR_ALPHA",defaultValue:"color_23",state:"hover"},thumbBorderWidthHover:{type:"BORDER_SIZE",defaultValue:"4",state:"hover"},thumbBackgroundFocus:{type:"COLOR_ALPHA",defaultValue:"color_22",state:"focus"},thumbBorderColorFocus:{type:"COLOR_ALPHA",defaultValue:"color_24",state:"focus"},thumbBorderWidthFocus:{type:"BORDER_SIZE",defaultValue:"4",state:"focus"},thumbBackgroundDisabled:{type:"COLOR_ALPHA",defaultValue:"color_21",state:"disabled"},thumbBorderColorDisabled:{type:"COLOR_ALPHA",defaultValue:"color_25",state:"disabled"},thumbBorderWidthDisabled:{type:"BORDER_SIZE",defaultValue:"4",state:"disabled"},trackBackground:{type:"COLOR_ALPHA",defaultValue:"color_26",state:"regular"},trackBorderRadius:{type:"BORDER_RADIUS",defaultValue:"8px",state:"regular"},trackBorderColor:{type:"COLOR_ALPHA",defaultValue:"color_28",state:"regular"},trackBorderWidth:{type:"BORDER_SIZE",defaultValue:"7",state:"regular"},trackBoxShadow:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, .6)",state:"regular"},trackFill:{type:"COLOR_ALPHA",defaultValue:"color_22",state:"regular"},trackFillHover:{type:"COLOR_ALPHA",defaultValue:"color_23",state:"hover"},trackFillFocus:{type:"COLOR_ALPHA",defaultValue:"color_24",state:"focus"},trackFillDisabled:{type:"COLOR_ALPHA",defaultValue:"color_25",state:"disabled"},trackBackgroundHover:{type:"COLOR_ALPHA",defaultValue:"color_27",state:"hover"},trackBorderColorHover:{type:"COLOR_ALPHA",defaultValue:"color_29",state:"hover"},trackBorderWidthHover:{type:"BORDER_SIZE",defaultValue:"6",state:"hover"},trackBackgroundFocus:{type:"COLOR_ALPHA",defaultValue:"color_28",state:"focus"},trackBorderColorFocus:{type:"COLOR_ALPHA",defaultValue:"color_30",state:"focus"},trackBorderWidthFocus:{type:"BORDER_SIZE",defaultValue:"6",state:"focus"},trackBackgroundDisabled:{type:"COLOR_ALPHA",defaultValue:"color_29",state:"disabled"},trackBorderColorDisabled:{type:"COLOR_ALPHA",defaultValue:"color_31",state:"disabled"},trackBorderWidthDisabled:{type:"BORDER_SIZE",defaultValue:"6",state:"disabled"},thumbBorderRadius:{type:"BORDER_RADIUS",defaultValue:"8px",state:"regular"}},e["wixui.skins.Tags"]={tagBoxShadow:{type:"BOX_SHADOW",defaultValue:"0 1px 4px rgba(0, 0, 0, .6)",state:"regular"},tagBorderSize:{type:"BORDER_SIZE",defaultValue:"3",state:"regular"},tagBorderColor:{type:"BORDER_COLOR_ALPHA",defaultValue:"color_3",state:"regular"},tagBorderRadius:{type:"BORDER_RADIUS",defaultValue:"100px",state:"regular"},tagBackgroundColor:{type:"COLOR",defaultValue:"color_8",state:"regular"},tagFont:{type:"FONT",defaultValue:"font_4",state:"regular"},tagFontColor:{type:"COLOR",defaultValue:"color_3",state:"regular"},tagFontColorHover:{type:"COLOR",defaultValue:"color_1",state:"hover"},tagBackgroundColorHover:{type:"COLOR",defaultValue:"color_6",state:"hover"},moreLinkFont:{type:"FONT",defaultValue:"font_5",state:"regular"},moreLinkColor:{type:"COLOR",defaultValue:"color_2",state:"regular"},moreLinkColorHover:{type:"COLOR",defaultValue:"color_4",state:"hover"}},e["wixui.skins.VideoPlayer"]={backgroundColor:{type:"COLOR_ALPHA",defaultValue:"color_10",state:"regular"},font:{type:"FONT",defaultValue:"font_8",state:"regular"},fontColor:{type:"TEXT_COLOR",defaultValue:"color_2",state:"regular"}},e}),define("documentServices/theme/colorPresets.json",[],function(){return[{paletteName:"Lets Hear It For The Boys",paletteTags:["Super Load Movers"],color_1:"#000000",color_2:"#FFFFFF",color_11:"#2D2D2D",color_12:"#575757",color_13:"#818181",color_14:"#ABABAB",color_15:"#E8E8E8",color_16:"#542000",color_17:"#A84000",color_18:"#FC6000",color_19:"#FDAF7E",color_20:"#FEC9A9",color_21:"#000000",color_22:"#333333",color_23:"#666666",color_24:"#999999",color_25:"#FFFFFF",color_26:"#1F3141",color_27:"#3E6282",color_28:"#5E93C4",color_29:"#9FBCD7",color_30:"#C2D7EB",color_31:"#4E3206",color_32:"#9D640C",color_33:"#EC9712",color_34:"#F2C682",color_35:"#F8DAAC"},{paletteName:"I See Red",paletteTags:["Electronic Shop"],color_1:"#FFFFFF",color_2:"#000000",color_11:"#EDA5A6",color_12:"#DD7779",color_13:"#CC1013",color_14:"#880A0C",color_15:"#440506",color_16:"#EDEDED",color_17:"#ABABAB",color_18:"#828282",color_19:"#565656",color_20:"#000000",color_21:"#FFF7AA",color_22:"#FFF47F",color_23:"#FFE900",color_24:"#A99B00",color_25:"#544D00",color_26:"#FFFFFF",color_27:"#ABABAB",color_28:"#828282",color_29:"#565656",color_30:"#2B2B2B",color_31:"#A8E0F4",color_32:"#7CCDEA",color_33:"#0DA8E0",color_34:"#087095",color_35:"#04384A"},{paletteName:"Im a Bumble Bee",paletteTags:["the bakery"],color_1:"#FFFFFF",color_2:"#000000",color_11:"#F9E2A6",color_12:"#F4D27A",color_13:"#F7B800",color_14:"#9F7200",color_15:"#4F3900",color_16:"#FEFDFD",color_17:"#D5D4D4",color_18:"#000000",color_19:"#000000",color_20:"#000000",color_21:"#EBBCB1",color_22:"#D79788",color_23:"#C45033",color_24:"#823522",color_25:"#411A11",color_26:"#ECD3B2",color_27:"#D9B689",color_28:"#C68733",color_29:"#845A22",color_30:"#422D11",color_31:"#D6BBC8",color_32:"#AD909E",color_33:"#846374",color_34:"#5B2D44",color_35:"#2D1622"},{paletteName:"Licorice Allsorts In Blue",paletteTags:["Real Estate"],color_1:"#FFFFFF",color_2:"#000000",color_11:"#A1DCF2",color_12:"#72C6E5",color_13:"#009ED8",color_14:"#006990",color_15:"#003448",color_16:"#FFFFFF",color_17:"#E3E3E3",color_18:"#747575",color_19:"#464747",color_20:"#181919",color_21:"#CCE4A0",color_22:"#AACA70",color_23:"#79AF13",color_24:"#50750C",color_25:"#283A06",color_26:"#D4D4D4",color_27:"#A9A9A9",color_28:"#7F7F7F",color_29:"#545454",color_30:"#2A2A2A",color_31:"#FCDCAD",color_32:"#F9CA84",color_33:"#F79A0E",color_34:"#A46609",color_35:"#523304"},{paletteName:"Pretty in Pink",paletteTags:["wedding 01"],color_1:"#000000",color_2:"#FEFDFD",color_11:"#3D2C2A",color_12:"#7B5955",color_13:"#B98580",color_14:"#F7B2AA",color_15:"#FBD8D4",color_16:"#323232",color_17:"#656565",color_18:"#989897",color_19:"#CBCACA",color_20:"#FEFDFD",color_21:"#895C3C",color_22:"#B0937F",color_23:"#D7C0AF",color_24:"#EDD8C7",color_25:"#F7ECE4",color_26:"#472C0C",color_27:"#8E5918",color_28:"#D68624",color_29:"#E3B985",color_30:"#F1D3AE",color_31:"#3C341E",color_32:"#79693C",color_33:"#B59D5B",color_34:"#F2D279",color_35:"#F8E8BA"},{paletteName:"Tranquil Sea",paletteTags:["spa reesort"],color_1:"#FFFFFF",color_2:"#000000",color_11:"#D0E5DE",color_12:"#B3D9CC",color_13:"#809A91",color_14:"#535B58",color_15:"#72858C",color_16:"#FFFFFF",color_17:"#BECDD1",color_18:"#92A6A2",color_19:"#72858C",color_20:"#5C686C",color_21:"#DACCB3",color_22:"#B59F74",color_23:"#887757",color_24:"#5A4F3A",color_25:"#2D271D",color_26:"#DDEBC3",color_27:"#C4D7A0",color_28:"#A1C460",color_29:"#6B8240",color_30:"#354120",color_31:"#FFBED5",color_32:"#FF9EC0",color_33:"#FF3D81",color_34:"#A92856",color_35:"#54142B"},{paletteName:"My Blue Sneakers",paletteTags:["amazing smile"],color_1:"#FFFFFF",color_2:"#000000",color_11:"#FFFFFF",color_12:"#F2F2F2",color_13:"#CFCFCF",color_14:"#A8A8A8",color_15:"#606060",color_16:"#A4E6F7",color_17:"#77D7EF",color_18:"#00B9E8",color_19:"#007B9A",color_20:"#003D4D",color_21:"#F0ADA0",color_22:"#E28371",color_23:"#D32300",color_24:"#8D1700",color_25:"#460B00",color_26:"#D3E9AA",color_27:"#B6D47E",color_28:"#89BF24",color_29:"#5B7F18",color_30:"#2D3F0C",color_31:"#FFEFAA",color_32:"#FFE77F",color_33:"#FFD000",color_34:"#A98A00",color_35:"#544500"},{paletteName:"Chefs Like Orange",paletteTags:["Papas"],color_1:"#FDFDFE",color_2:"#000000",color_11:"#F3E0B3",color_12:"#EAD38D",color_13:"#DDA92E",color_14:"#93701F",color_15:"#493508",color_16:"#EDA1A1",color_17:"#DD7272",color_18:"#CC0808",color_19:"#880505",color_20:"#440202",color_21:"#FFFFFF",color_22:"#8D929A",color_23:"#5A5F67",color_24:"#424A56",color_25:"#282D35",color_26:"#F9C3AC",color_27:"#F4A582",color_28:"#EF5310",color_29:"#9F370B",color_30:"#4F1B05",color_31:"#DADAA6",color_32:"#B5B57B",color_33:"#90904B",color_34:"#6B6B05",color_35:"#353502"},{paletteName:"Corporate Blues",paletteTags:["James Consulting"],color_1:"#FFFFFF",color_2:"#000000",color_11:"#DAEDFF",color_12:"#AFCBE0",color_13:"#6EA4CA",color_14:"#39729B",color_15:"#0C3C60",color_16:"#FFFFFF",color_17:"#95C6EC",color_18:"#1B99E8",color_19:"#1468A8",color_20:"#062134",color_21:"#B3C0D3",color_22:"#8794A7",color_23:"#5C697B",color_24:"#313E4F",color_25:"#081423",color_26:"#B2D2CB",color_27:"#86A69E",color_28:"#5A7972",color_29:"#2F4D46",color_30:"#07211B",color_31:"#B8B4D3",color_32:"#8C88A7",color_33:"#615D7B",color_34:"#36324F",color_35:"#0D0923"},{paletteName:"At The Car Wash Yeah",paletteTags:["moving company"],color_1:"#FFFFFF",color_2:"#000000",color_11:"#F9D5A6",color_12:"#F3BE79",color_13:"#ED8600",color_14:"#9E5900",color_15:"#4F2C00",color_16:"#FFFFFF",color_17:"#94A2AE",color_18:"#6B7986",color_19:"#42505D",color_20:"#152635",color_21:"#CFCFCF",color_22:"#8396A5",color_23:"#576978",color_24:"#2C3D4B",color_25:"#05131E",color_26:"#FFFFFF",color_27:"#F0F0F0",color_28:"#666666",color_29:"#333333",color_30:"#000000",color_31:"#F7C4A9",color_32:"#EFA67F",color_33:"#E85A0D",color_34:"#9A3C09",color_35:"#4D1E04"},{paletteName:"Sleeping Beauty Wakes",paletteTags:["interiors and co"],color_1:"#000000",color_2:"#FFFFFF",color_11:"#474646",color_12:"#767676",color_13:"#A6A4A4",color_14:"#DEDDDD",color_15:"#FFFFFF",color_16:"#00544D",color_17:"#1A887E",color_18:"#00A99D",color_19:"#8DD3CD",color_20:"#AEE9E4",color_21:"#41431D",color_22:"#82863B",color_23:"#C3C958",color_24:"#D8DB9D",color_25:"#EAEDC0",color_26:"#3B382B",color_27:"#767057",color_28:"#B1A883",color_29:"#EDE0AF",color_30:"#F6EFD6",color_31:"#291C24",color_32:"#533948",color_33:"#7C566D",color_34:"#A88E9D",color_35:"#D3BDCA"},{paletteName:"Elephant Walks",paletteTags:["Coach"],color_1:"#FFFFFF",color_2:"#000000",color_11:"#E0E0E0",color_12:"#C8C8C8",color_13:"#8E8E8B",color_14:"#5F5E5D",color_15:"#454545",color_16:"#E5EBFF",color_17:"#A1C3D2",color_18:"#515D87",color_19:"#132460",color_20:"#091230",color_21:"#DCEBF1",color_22:"#A1C3D2",color_23:"#98A9B0",color_24:"#637E89",color_25:"#42545B",color_26:"#E3AEAE",color_27:"#C88989",color_28:"#AC5B5B",color_29:"#910808",color_30:"#480404",color_31:"#FFFFFF",color_32:"#B0B0B0",color_33:"#898989",color_34:"#585858",color_35:"#2A2A2A"},{paletteName:"Skin Tone Portrait",paletteTags:["interior design"],color_1:"#000000",color_2:"#FFFFFF",color_11:"#1A1A1A",color_12:"#565656",color_13:"#999797",color_14:"#D4D3D3",color_15:"#FFFFFF",color_16:"#533913",color_17:"#A67327",color_18:"#F9AD3B",color_19:"#FBD59B",color_20:"#FDE3BD",color_21:"#49150D",color_22:"#932A1A",color_23:"#DD4027",color_24:"#E89689",color_25:"#F3BAB1",color_26:"#3A0C1B",color_27:"#751936",color_28:"#AF2652",color_29:"#CA7B94",color_30:"#E4A9BC",color_31:"#360F30",color_32:"#6D1E61",color_33:"#915D8A",color_34:"#B68AAF",color_35:"#DAB3D4"},{paletteName:"Feelings Are Overrated",paletteTags:["The Soccer club"],color_1:"#FFFFFF",color_2:"#000000",color_11:"#FFFFFF",color_12:"#D9D9D9",color_13:"#909090",color_14:"#555555",color_15:"#000000",color_16:"#F9BAB0",color_17:"#F39789",color_18:"#ED3A1E",color_19:"#9E2614",color_20:"#4F130A",color_21:"#FFF6AA",color_22:"#FFF27F",color_23:"#FFE500",color_24:"#A99800",color_25:"#544C00",color_26:"#9CDDEB",color_27:"#6BC4D7",color_28:"#00A1C3",color_29:"#006B82",color_30:"#003541",color_31:"#B1E8B5",color_32:"#8FD194",color_33:"#62BA69",color_34:"#08A316",color_35:"#04510B"},{paletteName:"Lolas Nature Trip",paletteTags:["Lifestyle Mentor"],color_1:"#FFFFFF",color_2:"#000000",color_11:"#FFFFFF",color_12:"#B49A8D",color_13:"#8F7365",color_14:"#6A4B3B",color_15:"#441C08",color_16:"#FFEEAA",color_17:"#FFE57F",color_18:"#FFCC00",color_19:"#A98700",color_20:"#544300",color_21:"#C9D1AD",color_22:"#9BA47E",color_23:"#6D774D",color_24:"#3D4916",color_25:"#1E240B",color_26:"#ADD2E9",color_27:"#82B5D4",color_28:"#2B86BF",color_29:"#1D597F",color_30:"#0E2C3F",color_31:"#DCC9B8",color_32:"#BBA28D",color_33:"#99714E",color_34:"#664B34",color_35:"#33251A"},{paletteName:"Black & White",paletteTags:["Photography Studio"],color_1:"#FFFFFF",color_2:"#000000",color_11:"#FFFFFF",color_12:"#999999",color_13:"#666666",color_14:"#333333",color_15:"#000000",color_16:"#D9D9D9",color_17:"#D6D6D6",color_18:"#AFAFAF",color_19:"#828282",color_20:"#000000",color_21:"#FBABE7",color_22:"#F882DA",color_23:"#F40CBA",color_24:"#A3087C",color_25:"#51043E",color_26:"#D7D1C7",color_27:"#AFA99E",color_28:"#888074",color_29:"#605644",color_30:"#302B22",color_31:"#D9CEC6",color_32:"#B4A69C",color_33:"#8E7969",color_34:"#5F5146",color_35:"#2F2823"},{paletteName:"Minimalist White",paletteTags:["Dawkins&Dodger"],color_1:"#FFFFFF",color_2:"#000000",color_11:"#FFFFFF",color_12:"#BFBFBF",color_13:"#808080",color_14:"#404040",color_15:"#000000",color_16:"#F3C5A9",color_17:"#E8A67D",color_18:"#E75101",color_19:"#933F0B",color_20:"#491F05",color_21:"#BDD4D6",color_22:"#8FABAD",color_23:"#578284",color_24:"#3A5658",color_25:"#1D2B2C",color_26:"#DBD9D3",color_27:"#B7B5AE",color_28:"#939085",color_29:"#626058",color_30:"#31302C",color_31:"#D6D2CA",color_32:"#ADA9A0",color_33:"#847F76",color_34:"#5B5547",color_35:"#2D2A23"},{paletteName:"Hot Pink Bites",paletteTags:["Fashion Photographer"],color_1:"#FFFFFF",color_2:"#000000",color_11:"#FFFFFF",color_12:"#999999",color_13:"#666666",color_14:"#333333",color_15:"#000000",color_16:"#FDAAEA",color_17:"#FB7FE0",color_18:"#F904C3",color_19:"#A60282",color_20:"#530141",color_21:"#BCC2D3",color_22:"#9096A7",color_23:"#656A7B",color_24:"#3A3F4F",color_25:"#101523",color_26:"#D6C0D4",color_27:"#AD97AB",color_28:"#846E82",color_29:"#5B4459",color_30:"#331830",color_31:"#D4B0C4",color_32:"#AA8499",color_33:"#80546D",color_34:"#561B3C",color_35:"#2B0D1E"},{paletteName:"Business Edition",paletteTags:["success consulting"],color_1:"#FFFFFF",color_2:"#000000",color_11:"#FFD5AA",color_12:"#FFC17F",color_13:"#FF8300",color_14:"#A95700",color_15:"#542B00",color_16:"#FEFDFD",color_17:"#E3E3E3",color_18:"#919090",color_19:"#5C5C5C",color_20:"#000000",color_21:"#A1C1D3",color_22:"#7394A8",color_23:"#42677C",color_24:"#043551",color_25:"#021A28",color_26:"#E79C9C",color_27:"#CF6A6A",color_28:"#B70505",color_29:"#7A0303",color_30:"#3D0101",color_31:"#9EBAE2",color_32:"#6C92C6",color_33:"#0F50AA",color_34:"#0A3571",color_35:"#051A38"},{paletteName:"White on Black",paletteTags:["Jack Banks Photography"],color_1:"#FFFFFF",color_2:"#000000",color_11:"#000000",color_12:"#333333",color_13:"#7F7E7E",color_14:"#DDDDDD",color_15:"#FFFFFF",color_16:"#514D03",color_17:"#A39B06",color_18:"#F4E909",color_19:"#F8F281",color_20:"#FBF7AB",color_21:"#00494C",color_22:"#009399",color_23:"#00DDE5",color_24:"#76EAED",color_25:"#A4F3F6",color_26:"#51002B",color_27:"#A30057",color_28:"#F40082",color_29:"#F87CBE",color_30:"#FBA7D4",color_31:"#004E14",color_32:"#009D29",color_33:"#00EC3D",color_34:"#79F298",color_35:"#A5F8BB"},{paletteName:"Plants Are Green",paletteTags:["Plant Nursery"],color_1:"#FFFFFF",color_2:"#000000",color_11:"#FFFFFF",color_12:"#DAE39B",color_13:"#95A712",color_14:"#535A0A",color_15:"#252A04",color_16:"#D4D0D3",color_17:"#A9A5A8",color_18:"#7E7A7D",color_19:"#534F52",color_20:"#282527",color_21:"#F3EEE1",color_22:"#E8DFC5",color_23:"#999170",color_24:"#514920",color_25:"#282410",color_26:"#F2C3B1",color_27:"#E5A389",color_28:"#D85C2B",color_29:"#903D1C",color_30:"#481E0E",color_31:"#EDB6BC",color_32:"#DD8F97",color_33:"#CC3D4B",color_34:"#882832",color_35:"#441419"},{paletteName:"Soft Wanderings",paletteTags:["Church"],color_1:"#FFFFFF",color_2:"#000000",color_11:"#FFFFFF",color_12:"#E9E4D1",color_13:"#D6CDAB",color_14:"#97917D",color_15:"#696554",color_16:"#E9E4D1",color_17:"#CDC5BF",color_18:"#B49074",color_19:"#996944",color_20:"#403027",color_21:"#C9D3C5",color_22:"#98A892",color_23:"#727E6D",color_24:"#4C5449",color_25:"#262A24",color_26:"#ACCEE8",color_27:"#66A2D1",color_28:"#4C7A9C",color_29:"#335168",color_30:"#192834",color_31:"#F1E3C3",color_32:"#E3D0A2",color_33:"#D6B15C",color_34:"#8E763D",color_35:"#473B1E"},{paletteName:"Mustard Seed",paletteTags:["the mustard"],color_1:"#FFFFFF",color_2:"#000000",color_11:"#DBC8B5",color_12:"#B8A28E",color_13:"#957B62",color_14:"#724923",color_15:"#392411",color_16:"#FCF4C9",color_17:"#F9EA95",color_18:"#BBB070",color_19:"#7C754A",color_20:"#3E3A25",color_21:"#FFFFFF",color_22:"#CBCACA",color_23:"#989797",color_24:"#656565",color_25:"#323232",color_26:"#E7C8AD",color_27:"#CFAA8A",color_28:"#B8875C",color_29:"#A04A00",color_30:"#502500",color_31:"#CDD8B4",color_32:"#A4B285",color_33:"#768C46",color_34:"#4E5D2E",color_35:"#272E17"},{paletteName:"Brand Me Colorful",paletteTags:["blank template"],color_1:"#FFFFFF",color_2:"#000000",color_11:"#F3F3F3",color_12:"#D6D6D6",color_13:"#AAA8A8",color_14:"#717070",color_15:"#4A4A4A",color_16:"#AADDFF",color_17:"#7FCCFF",color_18:"#0099FF",color_19:"#0065A9",color_20:"#003254",color_21:"#FFEEAA",color_22:"#FFE57F",color_23:"#FFCC00",color_24:"#A98700",color_25:"#544300",color_26:"#C4E7B6",color_27:"#A0CF8E",color_28:"#64B743",color_29:"#437A2D",color_30:"#213D16",color_31:"#E0A1E0",color_32:"#C170C1",color_33:"#A31AA3",color_34:"#6C116C",color_35:"#360836"},{paletteName:"Black Eye",paletteTags:["boxing club"],color_1:"#000000",color_2:"#FFFFFF",color_11:"#1B1B1B",color_12:"#545454",color_13:"#7F7F7F",color_14:"#A9A9A9",color_15:"#FFFFFF",color_16:"#051324",color_17:"#0B2749",color_18:"#445B77",color_19:"#758AA4",color_20:"#A5B9D1",color_21:"#390E04",color_22:"#731D08",color_23:"#AD2C0C",color_24:"#C87D6B",color_25:"#E3AB9D",color_26:"#11213A",color_27:"#224375",color_28:"#3364AF",color_29:"#829FCA",color_30:"#AEC4E4",color_31:"#3D3D1E",color_32:"#7A7A3D",color_33:"#B7B75B",color_34:"#CFCF9B",color_35:"#E7E7C0"},{paletteName:"A Day Mushroom Picking",paletteTags:["Shoe Shop"],color_1:"#FFFFFF",color_2:"#000000",color_11:"#D4CAC5",color_12:"#A99E98",color_13:"#7F6E64",color_14:"#544943",color_15:"#2A2421",color_16:"#FFFFFF",color_17:"#A9A9A9",color_18:"#7F7F7F",color_19:"#545454",color_20:"#2A2A2A",color_21:"#CCCCCC",color_22:"#999999",color_23:"#666666",color_24:"#333333",color_25:"#000000",color_26:"#E2BEAE",color_27:"#C69C89",color_28:"#AA745B",color_29:"#8E3409",color_30:"#471A04",color_31:"#C7D5E1",color_32:"#A2B3C3",color_33:"#6D8BA5",color_34:"#485C6E",color_35:"#242E37"},{paletteName:"Yellow Drops on Minimal",paletteTags:["James Everet"],color_1:"#000000",color_2:"#FFFFFF",color_11:"#000000",color_12:"#545454",color_13:"#7F7F7F",color_14:"#DBD8D8",color_15:"#FFFFFF",color_16:"#544F00",color_17:"#A99E00",color_18:"#FFEE00",color_19:"#FFF67F",color_20:"#FFF9AA",color_21:"#312F26",color_22:"#625E4D",color_23:"#948D73",color_24:"#C5BC9A",color_25:"#F7EBC0",color_26:"#1F2B2F",color_27:"#3F575E",color_28:"#5E838D",color_29:"#7EAFBC",color_30:"#B9D5DD",color_31:"#61772C",color_32:"#635E4C",color_33:"#958E73",color_34:"#C7BD99",color_35:"#F9EDC0"},{paletteName:"Bluebell Wood",paletteTags:["save the planet"],color_1:"#FFFFFF",color_2:"#000000",color_11:"#FFFFFF",color_12:"#D8D1C6",color_13:"#A69376",color_14:"#826F52",color_15:"#645844",color_16:"#C9F8F8",color_17:"#71E8E8",color_18:"#37DDDD",color_19:"#2FC4C6",color_20:"#1A7373",color_21:"#E1E69D",color_22:"#C7CD6B",color_23:"#A9B709",color_24:"#717806",color_25:"#383C03",color_26:"#DAB3D4",color_27:"#B68AAF",color_28:"#915D8A",color_29:"#6D1E61",color_30:"#360F30",color_31:"#FCCBA8",color_32:"#F9B17C",color_33:"#F76700",color_34:"#A44400",color_35:"#522200"},{paletteName:"Hot Air Balloon",paletteTags:["mailchimp"],color_1:"#FFFFFF",color_2:"#000000",color_11:"#CECDC9",color_12:"#9E9D99",color_13:"#6D6C68",color_14:"#3D3C37",color_15:"#1E1E1B",color_16:"#F7C4BB",color_17:"#EFA699",color_18:"#E85A40",color_19:"#9A3C2B",color_20:"#4D1E15",color_21:"#F7F2BB",color_22:"#EFE898",color_23:"#E8D93E",color_24:"#9A9129",color_25:"#4D4814",color_26:"#A1E4F0",color_27:"#72D1E2",color_28:"#02B4D3",color_29:"#01788D",color_30:"#003C46",color_31:"#B2DFD5",color_32:"#72BFAE",color_33:"#568F83",color_34:"#395F57",color_35:"#1C2F2B"},{paletteName:"Find The Gray",paletteTags:["Fashion band"],color_1:"#FFFFFF",color_2:"#000000",color_11:"#E0E0E0",color_12:"#B5B5B5",color_13:"#8D8D8D",color_14:"#585858",color_15:"#353535",color_16:"#FFFFFF",color_17:"#FFFF78",color_18:"#BFBF5A",color_19:"#6B6B2E",color_20:"#000000",color_21:"#ADD2E2",color_22:"#80B0C5",color_23:"#3284A8",color_24:"#215870",color_25:"#102C38",color_26:"#D0E3B1",color_27:"#AFC886",color_28:"#81AD3A",color_29:"#567327",color_30:"#2B3913",color_31:"#C8B8EE",color_32:"#A992DE",color_33:"#6C41CD",color_34:"#482B89",color_35:"#241544"},{paletteName:"Respectable Gentleman",paletteTags:["Lawyer"],color_1:"#FFFFFF",color_2:"#000000",color_11:"#FFFFFF",color_12:"#B8BBC1",color_13:"#808286",color_14:"#404144",color_15:"#2D2D2F",color_16:"#FFDB89",color_17:"#FFC540",color_18:"#FFB400",color_19:"#B98000",color_20:"#5D4100",color_21:"#B0D3E5",color_22:"#8DB6CC",color_23:"#6096B3",color_24:"#0B689A",color_25:"#05344D",color_26:"#B9DEA9",color_27:"#8FBE7A",color_28:"#4F9E2D",color_29:"#35691E",color_30:"#1A340F",color_31:"#F5CBA4",color_32:"#ECAF77",color_33:"#E36D01",color_34:"#974901",color_35:"#4B2400"},{paletteName:"Blue Beats",paletteTags:["App-Store"],color_1:"#FFFFFF",color_2:"#000000",color_11:"#FFFFFF",color_12:"#E3E3E3",color_13:"#ADADAD",color_14:"#757070",color_15:"#000000",color_16:"#D8F3FD",color_17:"#8CDCF8",color_18:"#00ADED",color_19:"#019CD2",color_20:"#00739E",color_21:"#EEC4F7",color_22:"#DE8CEF",color_23:"#A669B3",color_24:"#6F4677",color_25:"#37233B",color_26:"#FFCEAA",color_27:"#FFB67F",color_28:"#FF6E00",color_29:"#A94900",color_30:"#542400",color_31:"#FCF1A9",color_32:"#FAEA7E",color_33:"#F8D801",color_34:"#A59001",color_35:"#524800"},{paletteName:"Earthy Tones",paletteTags:["Landscaping"],color_1:"#FFFFFF",color_2:"#000000",color_11:"#EFE4D5",color_12:"#BFB6AA",color_13:"#8F897F",color_14:"#5F5B55",color_15:"#2F2D2A",color_16:"#FFCBAE",color_17:"#FFB285",color_18:"#FF650C",color_19:"#A94308",color_20:"#542104",color_21:"#C4E2A7",color_22:"#9EC678",color_23:"#65AA23",color_24:"#437117",color_25:"#21380B",color_26:"#FFFFFF",color_27:"#999999",color_28:"#666666",color_29:"#333333",color_30:"#000000",color_31:"#F2E5A3",color_32:"#E5D276",color_33:"#D8B506",color_34:"#907904",color_35:"#483C02"},{paletteName:"Bamboo Speaks Up",paletteTags:["My Organic Garden"],color_1:"#FFFFFF",color_2:"#000000",color_11:"#FFFFFF",color_12:"#A69EA7",color_13:"#7A727B",color_14:"#4E464F",color_15:"#221B23",color_16:"#D5E4AC",color_17:"#B6CA7F",color_18:"#8DAF2D",color_19:"#5E751E",color_20:"#2F3A0F",color_21:"#FFECAA",color_22:"#FFE380",color_23:"#FFC802",color_24:"#A98501",color_25:"#544200",color_26:"#F4BEA9",color_27:"#EA9D7E",color_28:"#E04C11",color_29:"#95320B",color_30:"#4A1905",color_31:"#E5DDC8",color_32:"#CCBE99",color_33:"#998E72",color_34:"#665F4C",color_35:"#332F26"},{paletteName:"African Dreaming",paletteTags:["Chef Catering"],color_1:"#FFFFFF",color_2:"#000000",color_11:"#E3A2A6",color_12:"#C87278",color_13:"#AD1822",color_14:"#731016",color_15:"#39080B",color_16:"#FFFFFF",color_17:"#999999",color_18:"#666666",color_19:"#333333",color_20:"#000000",color_21:"#E3E0AF",color_22:"#C8C48A",color_23:"#ACA75D",color_24:"#91880B",color_25:"#484405",color_26:"#D1CBB6",color_27:"#A49E87",color_28:"#777058",color_29:"#494123",color_30:"#242011",color_31:"#C4DDD6",color_32:"#91BCAF",color_33:"#6C8D83",color_34:"#485E57",color_35:"#242F2B"},{paletteName:"Midnight Lemon",paletteTags:["Revolver"],color_1:"#000000",color_2:"#FFFFFF",color_11:"#000000",color_12:"#192D39",color_13:"#1E3443",color_14:"#8394A0",color_15:"#FFFFFF",color_16:"#A99B00",color_17:"#FFE900",color_18:"#FBEC49",color_19:"#FFF056",color_20:"#FFF7AA",color_21:"#1B4410",color_22:"#378820",color_23:"#52CC30",color_24:"#9BDD89",color_25:"#BEEDB1",color_26:"#4B052E",color_27:"#970A5C",color_28:"#E20F8B",color_29:"#EC7EBE",color_30:"#F5A9D5",color_31:"#004254",color_32:"#0085A9",color_33:"#00C7FF",color_34:"#7FE3FF",color_35:"#AAECFF"},{paletteName:"Its alive",paletteTags:["Landscaping"],color_1:"#FFFFFF",color_2:"#000000",color_11:"#EFE4D5",color_12:"#BFB6AA",color_13:"#8F897F",color_14:"#5F5B55",color_15:"#0F0F0F",color_16:"#FFCBAE",color_17:"#FFB285",color_18:"#FF650C",color_19:"#A94308",color_20:"#542104",color_21:"#C4E2A7",color_22:"#9EC678",color_23:"#65AA23",color_24:"#437117",color_25:"#21380B",color_26:"#FFFFFF",color_27:"#999999",color_28:"#666666",color_29:"#333333",color_30:"#000000",color_31:"#F2E5A3",color_32:"#E5D276",color_33:"#D8B506",color_34:"#907904",color_35:"#483C02"},{paletteName:"Somewhere Over The Rainbow",paletteTags:["Consult inc"],color_1:"#FFFFFF",color_2:"#000000",color_11:"#FFFFFF",color_12:"#999999",color_13:"#666666",color_14:"#444444",color_15:"#303030",color_16:"#AFE0EA",color_17:"#8ECAD6",color_18:"#60B1C1",color_19:"#0090AD",color_20:"#004856",color_21:"#DEA6B2",color_22:"#BE7685",color_23:"#9E253F",color_24:"#7D1C30",color_25:"#340C15",color_26:"#EBE8AF",color_27:"#D7D385",color_28:"#C4BC2F",color_29:"#8F8B20",color_30:"#413E0F",color_31:"#CEC0D8",color_32:"#A594B1",color_33:"#775C8B",color_34:"#4F3D5C",color_35:"#271E2E"},{paletteName:"A Day Mushroom Picking",paletteTags:["Shoemaker"],color_1:"#FFFFFF",color_2:"#000000",color_11:"#D4CAC5",color_12:"#A99E98",color_13:"#7F6E64",color_14:"#544943",color_15:"#2A2421",color_16:"#FFFFFF",color_17:"#A9A9A9",color_18:"#7F7F7F",color_19:"#545454",color_20:"#2A2A2A",color_21:"#CCCCCC",color_22:"#999999",color_23:"#666666",color_24:"#333333",color_25:"#000000",color_26:"#E2BEAE",color_27:"#C69C89",color_28:"#AA745B",color_29:"#8E3409",color_30:"#471A04",color_31:"#C7D5E1",color_32:"#A2B3C3",color_33:"#6D8BA5",color_34:"#485C6E",color_35:"#242E37"},{paletteName:"Light Side of The Moon",paletteTags:["vinyards"],color_1:"#FFFFFF",color_2:"#000000",color_11:"#FEFDFD",color_12:"#BFBFBF",color_13:"#999999",color_14:"#7F7F7F",color_15:"#2E2E2E",color_16:"#C5D8AE",color_17:"#9AB27D",color_18:"#678C39",color_19:"#445D26",color_20:"#222E13",color_21:"#F8DCC0",color_22:"#F1C8A0",color_23:"#EA9C4D",color_24:"#9C6833",color_25:"#4E3419",color_26:"#FCBEA8",color_27:"#F99E7C",color_28:"#F74100",color_29:"#A42B00",color_30:"#521500",color_31:"#E8BEC1",color_32:"#D2999D",color_33:"#BC565D",color_34:"#7D393E",color_35:"#3E1C1F"},{paletteName:"Softly Spoken",paletteTags:["Creative events"],color_1:"#FFFFFF",color_2:"#000000",color_11:"#D1D1D1",color_12:"#999999",color_13:"#6D6D6D",color_14:"#515151",color_15:"#1C1C1C",color_16:"#FFFFFF",color_17:"#C1E088",color_18:"#83B13A",color_19:"#577526",color_20:"#000000",color_21:"#CDEFFF",color_22:"#86B7CC",color_23:"#398EB5",color_24:"#265E76",color_25:"#132F3B",color_26:"#FFEDC6",color_27:"#ECD291",color_28:"#E3B333",color_29:"#977622",color_30:"#4B3B11",color_31:"#FFCFCF",color_32:"#DB9798",color_33:"#CA4C4D",color_34:"#863334",color_35:"#43191A"},{paletteName:"Happy Day Sky",paletteTags:["writers"],color_1:"#FFFFFF",color_2:"#000000",color_11:"#AADBFF",color_12:"#7FC9FF",color_13:"#0094FF",color_14:"#0063A9",color_15:"#003154",color_16:"#FFFFFF",color_17:"#C8C5C5",color_18:"#666666",color_19:"#333333",color_20:"#000000",color_21:"#CEC1FB",color_22:"#B4A2F7",color_23:"#704CF3",color_24:"#4A32A2",color_25:"#251951",color_26:"#C2DEBE",color_27:"#9EBE9A",color_28:"#769E70",color_29:"#3F7D35",color_30:"#1F3E1A",color_31:"#F9D5AD",color_32:"#F4BF85",color_33:"#EF8614",color_34:"#9F590D",color_35:"#4F2C06"},{paletteName:"Fashionista Fusion",paletteTags:["my lil collection"],color_1:"#FFFFFF",color_2:"#000000",color_11:"#FFFFFF",color_12:"#9E9E9E",color_13:"#6E6E6E",color_14:"#3E3E3E",color_15:"#0E0E0E",color_16:"#FDBED7",color_17:"#FB9EC3",color_18:"#F9408A",color_19:"#A62B5C",color_20:"#53152E",color_21:"#FFE9AA",color_22:"#FFDF7F",color_23:"#FFBF00",color_24:"#A97F00",color_25:"#543F00",color_26:"#CCCCCC",color_27:"#999999",color_28:"#666666",color_29:"#333333",color_30:"#000000",color_31:"#9CE8A6",color_32:"#6BD279",color_33:"#03BC1C",color_34:"#027D12",color_35:"#013E09"},{paletteName:"Neon Splash",paletteTags:["the gym"],color_1:"#FFFFFF",color_2:"#000000",color_11:"#FFFFFF",color_12:"#EFEFEF",color_13:"#ABABAB",color_14:"#3E3E3E",color_15:"#000000",color_16:"#FAAFD8",color_17:"#F687C4",color_18:"#F21890",color_19:"#A11060",color_20:"#500830",color_21:"#E8F9A7",color_22:"#DAF47B",color_23:"#B0E200",color_24:"#7D9F01",color_25:"#3E4F00",color_26:"#A8EAF4",color_27:"#7CDBEA",color_28:"#0DC4E0",color_29:"#088295",color_30:"#04414A",color_31:"#E09CE5",color_32:"#C56ACC",color_33:"#A707B2",color_34:"#6F0476",color_35:"#37023B"},{paletteName:"Blueberries and Snow",paletteTags:["Accountant"],color_1:"#FFFFFF",color_2:"#000000",color_11:"#FFFFFF",color_12:"#ECF0F1",color_13:"#BAC5CD",color_14:"#8892A1",color_15:"#484D56",color_16:"#D0E7F9",color_17:"#87B0D1",color_18:"#387FBB",color_19:"#285E88",color_20:"#0F3A69",color_21:"#A7BBDC",color_22:"#7790BB",color_23:"#2A5399",color_24:"#1C3766",color_25:"#0E1B33",color_26:"#FCCEC2",color_27:"#F9B6A3",color_28:"#F7714C",color_29:"#A44B33",color_30:"#522519",color_31:"#F3ACAC",color_32:"#E88282",color_33:"#DD1A1A",color_34:"#931111",color_35:"#490808"},{paletteName:"Indian Summer",paletteTags:["the cafe"],color_1:"#FFFFFF",color_2:"#000000",color_11:"#BEE5E5",color_12:"#99E2E2",color_13:"#86CCCC",color_14:"#0FA8A1",color_15:"#0F5B5B",color_16:"#F9F1EA",color_17:"#E2CAB7",color_18:"#907057",color_19:"#90582D",color_20:"#6B3B17",color_21:"#FFFFFF",color_22:"#C1C0C0",color_23:"#7F7F7F",color_24:"#545454",color_25:"#2A2A2A",color_26:"#FBE4B7",color_27:"#F8D693",color_28:"#F4B22E",color_29:"#A3771F",color_30:"#513B0F",color_31:"#E8AECF",color_32:"#D28CB3",color_33:"#BC5E93",color_34:"#A5005D",color_35:"#52002E"},{paletteName:"A Storm Over Africa",paletteTags:["Close Up"],color_1:"#000000",color_2:"#FFFFFF",color_11:"#FFFFFF",color_12:"#999999",color_13:"#666666",color_14:"#333333",color_15:"#000000",color_16:"#FFFAAA",color_17:"#FFF87F",color_18:"#FFF200",color_19:"#A9A100",color_20:"#545000",color_21:"#ABE1E2",color_22:"#7EC4C6",color_23:"#2EA6AA",color_24:"#1E6F71",color_25:"#0F3738",color_26:"#AAFFEB",color_27:"#7FFFE1",color_28:"#00FFC3",color_29:"#00A982",color_30:"#005441",color_31:"#C1AED1",color_32:"#937FA4",color_33:"#644E77",color_34:"#321749",color_35:"#190B24"},{paletteName:"Warm Hugs",paletteTags:["sugar & sugar"],color_1:"#FEFDFD",color_2:"#000000",color_11:"#FFF1DB",color_12:"#F9D195",color_13:"#FAC16A",color_14:"#FCB64C",color_15:"#C78725",color_16:"#FEFDFD",color_17:"#B49E91",color_18:"#8E6C57",color_19:"#8E6C57",color_20:"#62483D",color_21:"#BBE4CF",color_22:"#80C9A5",color_23:"#60977B",color_24:"#406452",color_25:"#203229",color_26:"#D3EEF7",color_27:"#AADEEF",color_28:"#7FA6B3",color_29:"#556F77",color_30:"#2A373B",color_31:"#F6CCD6",color_32:"#ED9CB0",color_33:"#B17584",color_34:"#764E58",color_35:"#3B272C"},{paletteName:"All The Glitters",paletteTags:["sport photographer"],color_1:"#FFFFFF",color_2:"#000000",color_11:"#FFFFFF",color_12:"#B4B4B4",color_13:"#8B8B8B",color_14:"#4F4F4F",color_15:"#000000",color_16:"#FAE3B2",color_17:"#F6D48C",color_18:"#F2B021",color_19:"#DDA31E",color_20:"#503A0B",color_21:"#F9B8AC",color_22:"#F39483",color_23:"#ED3312",color_24:"#9E220C",color_25:"#4F1106",color_26:"#D0AFC8",color_27:"#A17F99",color_28:"#734E6A",color_29:"#441839",color_30:"#220C1C",color_31:"#C1F4F5",color_32:"#A0EBEC",color_33:"#51E0E2",color_34:"#369597",color_35:"#1B4A4B"},{paletteName:"I Am Strong...Invincible",paletteTags:["Fashion Frenzy"],color_1:"#FFFFFF",color_2:"#000000",color_11:"#FFFFFF",color_12:"#D9D9D9",color_13:"#929292",color_14:"#545454",color_15:"#000000",color_16:"#FFE1DE",color_17:"#FF8A7F",color_18:"#FF1500",color_19:"#A90E00",color_20:"#540700",color_21:"#FFAACE",color_22:"#FF7FB6",color_23:"#FF006E",color_24:"#A90049",color_25:"#540024",color_26:"#FFF0AA",color_27:"#FFE97F",color_28:"#FFD400",color_29:"#A98D00",color_30:"#544600",color_31:"#A7E4E8",color_32:"#7ACCD2",color_33:"#1EB2BC",color_34:"#14767D",color_35:"#0A3B3E"},{paletteName:"Unicorns Rock",paletteTags:["My Bio"],color_1:"#FFFFFF",color_2:"#000000",color_11:"#FFFFFF",color_12:"#999999",color_13:"#666666",color_14:"#333333",color_15:"#000000",color_16:"#B3D7ED",color_17:"#8BBDDD",color_18:"#3592CC",color_19:"#236188",color_20:"#113044",color_21:"#FFEBAA",color_22:"#FFE17F",color_23:"#FFC300",color_24:"#A98200",color_25:"#544100",color_26:"#EDB3C7",color_27:"#DD8BA7",color_28:"#CC3569",color_29:"#882346",color_30:"#441123",color_31:"#F6F8AC",color_32:"#FFFC68",color_33:"#E7EA15",color_34:"#9A9C0E",color_35:"#4D4E07"},{paletteName:"Harvard Law School",paletteTags:["Country B&B"],color_1:"#FFFFFF",color_2:"#000000",color_11:"#E0D4BE",color_12:"#DD974B",color_13:"#8F4120",color_14:"#600505",color_15:"#3A0404",color_16:"#F2EFE9",color_17:"#D1CCD0",color_18:"#959294",color_19:"#534F52",color_20:"#2B272A",color_21:"#CADBB1",color_22:"#A5B889",color_23:"#7D955C",color_24:"#4D721A",color_25:"#26390D",color_26:"#B9C0CF",color_27:"#89909F",color_28:"#585F6F",color_29:"#242D3F",color_30:"#12161F",color_31:"#D6B2B2",color_32:"#AD8888",color_33:"#845F5F",color_34:"#5B3535",color_35:"#330808"},{paletteName:"Pumpkin Patch",paletteTags:["Organic garden"],color_1:"#FFFFFF",color_2:"#000000",color_11:"#FFFFFF",color_12:"#A69EA7",color_13:"#7A727B",color_14:"#4E464F",color_15:"#221B23",color_16:"#D5E4AC",color_17:"#B6CA7F",color_18:"#8DAF2D",color_19:"#5E751E",color_20:"#2F3A0F",color_21:"#FFECAA",color_22:"#FFE380",color_23:"#FFC802",color_24:"#A98501",color_25:"#544200",color_26:"#F4BEA9",color_27:"#EA9D7E",color_28:"#E04C11",color_29:"#95320B",color_30:"#4A1905",color_31:"#E5DDC8",color_32:"#CCBE99",color_33:"#998E72",color_34:"#665F4C",color_35:"#332F26"},{paletteName:"TrRex Rocks",paletteTags:["Simple bio"],color_1:"#000000",color_2:"#FFFFFF",color_11:"#000000",color_12:"#333333",color_13:"#666666",color_14:"#999999",color_15:"#FFFFFF",color_16:"#542A0F",color_17:"#A9541E",color_18:"#FF7E2D",color_19:"#FFBE96",color_20:"#FFD4B9",color_21:"#544D0C",color_22:"#A99B19",color_23:"#FFE926",color_24:"#FFF492",color_25:"#FFF7B6",color_26:"#4D112C",color_27:"#9A2258",color_28:"#E83384",color_29:"#EF92BC",color_30:"#F7B7D3",color_31:"#18414B",color_32:"#318397",color_33:"#4AC4E2",color_34:"#9DDCEC",color_35:"#BEEAF5"},{paletteName:"Smokey Nightclub",paletteTags:["The Nigth club"],color_1:"#000000",color_2:"#FFFFFF",color_11:"#000000",color_12:"#494440",color_13:"#8B8683",color_14:"#CFC7C2",color_15:"#FFFFFF",color_16:"#2D2525",color_17:"#5D4B2B",color_18:"#89744D",color_19:"#C1B297",color_20:"#EAE0CE",color_21:"#1C0417",color_22:"#472941",color_23:"#75546E",color_24:"#A3809C",color_25:"#D1ADC9",color_26:"#4B3F12",color_27:"#977E25",color_28:"#E2BE38",color_29:"#ECD993",color_30:"#F5E8B8",color_31:"#28330F",color_32:"#50661F",color_33:"#79992F",color_34:"#A7BB7A",color_35:"#CDDCAA"},{paletteName:"Browns Baby",paletteTags:["The Animal Clinic"],color_1:"#FFFFFF",color_2:"#000000",color_11:"#FFFFFF",color_12:"#999999",color_13:"#666666",color_14:"#333333",color_15:"#000000",color_16:"#FFFBF1",color_17:"#D7D2C4",color_18:"#E4BF8F",color_19:"#C17F42",color_20:"#3E2816",color_21:"#B1D6E1",color_22:"#84B4C3",color_23:"#3B8CA5",color_24:"#275D6E",color_25:"#132E37",color_26:"#FFD5AA",color_27:"#FFC17F",color_28:"#FF8300",color_29:"#A95700",color_30:"#542B00",color_31:"#FFEBAA",color_32:"#FFE17F",color_33:"#FFC300",color_34:"#A98200",color_35:"#544100"}]}),define("documentServices/pathHelpers/siteMetadataPropertiesInfo",[],function(){"use strict";return{GEO:{path:["rendererModel","geo"],revertible:!1},LANGUAGE_CODE:{path:["rendererModel","languageCode"],revertible:!0},SITE_META_DATA:{path:["rendererModel","siteMetaData"],revertible:!0},SE_INDEXABLE:{path:["documentServicesModel","metaSiteData","indexable"],revertible:!0},SOCIAL_THUMBNAIL:{path:["documentServicesModel","metaSiteData","thumbnail"],revertible:!0},FAVICON:{path:["documentServicesModel","metaSiteData","favicon"],revertible:!0},SUPPRESS_COOKIES:{path:["documentServicesModel","metaSiteData","suppressTrackingCookies"],revertible:!0},META_TAGS:{path:["documentServicesModel","metaSiteData","metaTags"],revertible:!0},EXTERNAL_URI_MAPPINGS:{path:["documentServicesModel","metaSiteData","externalUriMappings"],revertible:!0},USE_ONBOARDING:{path:["documentServicesModel","metaSiteData","useOnboarding"],revertible:!0,optional:!0},ORIGINAL_TEMPLATE_ID:{path:["documentServicesModel","originalTemplateId"],revertible:!1},CUSTOM_HEAD_TAGS:{path:["documentServicesModel","customHeadTags"],revertible:!1},SEO_TITLE:{path:["documentServicesModel","metaSiteData","title"],revertible:!0},SITE_ID:{path:["rendererModel","siteInfo","siteId"],revertible:!0},META_SITE_ID:{path:["rendererModel","metaSiteId"],revertible:!0},USER_ID:{path:["rendererModel","userId"],revertible:!0},EDITOR_SESSION_ID:{path:["documentServicesModel","editorSessionId"],revertible:!1},META_SITE_DATA:{path:["documentServicesModel","metaSiteData"],revertible:!1},USER_INFO:{path:["documentServicesModel","userInfo"],revertible:!1},SITE_NAME:{path:["documentServicesModel","siteName"],revertible:!1},SITE_REVISION:{path:["documentServicesModel","revision"],revertible:!1},SITE_VERSION:{path:["documentServicesModel","version"],revertible:!1},NEVER_SAVED:{path:["documentServicesModel","neverSaved"],revertible:!1},IS_PUBLISHED:{path:["documentServicesModel","isPublished"],revertible:!1},PUBLIC_URL:{path:["documentServicesModel","publicUrl"],revertible:!1},USED_META_SITE_NAMES:{path:["documentServicesModel","usedMetaSiteNames"],revertible:!1},CLIENT_SPEC_MAP:{path:["rendererModel","clientSpecMap"],revertible:!1},APPLICATION_TYPE:{path:["rendererModel","siteInfo","applicationType"],revertible:!1},DOCUMENT_TYPE:{path:["rendererModel","siteInfo","documentType"],revertible:!1},PREMIUM_FEATURES:{path:["rendererModel","premiumFeatures"],revertible:!1},PENDING_APPS:{path:["documentServicesModel","pendingApps"],revertible:!1},PASSWORD_PROTECTED_PAGES:{path:["rendererModel","passwordProtectedPages"],revertible:!1},SESSION_PAGES_TO_HASH_PASSWORD:{path:["rendererModel","pageToHashedPassword"],revertible:!1},PERMISSIONS:{path:["documentServicesModel","permissionsInfo","permissions"],revertible:!1},IS_OWNER:{path:["documentServicesModel","permissionsInfo","isOwner"],revertible:!1},IS_HTTPS_ENABLED:{path:["documentServicesModel","isHttpsEnabled"],revertible:!1},SITE_TOKEN:{path:["documentServicesModel","permissionsInfo","siteToken"],revertible:!1,optional:!0},CURRENT_LANGUAGE_CODE:{path:["multilingual","currentLanguageCode"],revertible:!1,optional:!0},MULTILINGUAL:{path:["rendererModel","multilingualInfo"],revertible:!1,optional:!0},IS_MULTILINGUAL:{path:["rendererModel","multilingualInfo","isEnabled"],revertible:!1,optional:!0},ORIGINAL_LANGUAGE:{path:["rendererModel","multilingualInfo","originalLanguage"],revertible:!1,optional:!0},TRANSLATION_LANGUAGES:{path:["rendererModel","multilingualInfo","translationLanguages"],revertible:!1,optional:!0}}}),define("documentServices/siteMetadata/dataManipulation",["lodash","documentServices/pathHelpers/siteMetadataPropertiesInfo","utils"],function(e,t,a){"use strict";var r=t;return{getRevertibleMetaDataInfo:function(){return e.filter(r,{revertible:!0})},getNonRevertibleMetaDataInfo:function(){return e.filter(r,{revertible:!1})},getProperty:function(e,t){var r=e.pointers.metadata.getSiteMetaDataPointer(t);return r?e.dal.get(r):(a.log.error("SiteMetaData getProperty was called with an invalid metadata property"),null)},setProperty:function(e,t,r){var o=e.pointers.metadata.getSiteMetaDataPointer(t);o?e.dal.set(o,r):a.log.error("SiteMetaData setProperty was called with an invalid metadata property")},PROPERTY_NAMES:e.mapValues(r,function(e,t){return t})}}),define("documentServices/siteMetadata/generalInfo",["lodash","utils","documentServices/siteMetadata/dataManipulation"],function(e,t,a){"use strict";function r(e){return a.getProperty(e,a.PROPERTY_NAMES.SITE_ID)}function o(e){return a.getProperty(e,a.PROPERTY_NAMES.ORIGINAL_TEMPLATE_ID)}function n(e){var a=e.pointers.general.getUrlFormat();return e.dal.get(a)||t.siteConstants.URL_FORMATS.HASH_BANG}function i(e,t){return n(e)===t}return{getUserInfo:function(e){return a.getProperty(e,a.PROPERTY_NAMES.USER_INFO)},isHttpsEnabled:function(e){return!!a.getProperty(e,a.PROPERTY_NAMES.IS_HTTPS_ENABLED)},getPublicUrl:function(e){return a.getProperty(e,a.PROPERTY_NAMES.PUBLIC_URL)},setPublicUrl:function(e,t){a.setProperty(e,a.PROPERTY_NAMES.PUBLIC_URL,t)},getSiteId:r,getMetaSiteId:function(e){return a.getProperty(e,a.PROPERTY_NAMES.META_SITE_ID)},getSiteOriginalTemplateId:o,getLanguage:function(e){return a.getProperty(e,a.PROPERTY_NAMES.LANGUAGE_CODE)||"en"},getGeo:function(e){return a.getProperty(e,a.PROPERTY_NAMES.GEO)},isFirstSave:function(e){return a.getProperty(e,a.PROPERTY_NAMES.NEVER_SAVED)||!1},isTemplate:function(e){return r(e)===o(e)},getDocumentType:function(e){return a.getProperty(e,a.PROPERTY_NAMES.DOCUMENT_TYPE)},isSitePublished:function(e){var t=a.getProperty(e,a.PROPERTY_NAMES.IS_PUBLISHED);return null===t||t},getUrlFormat:n,isUsingUrlFormat:i,isUsingSlashUrlFormat:function(e){return i(e,t.siteConstants.URL_FORMATS.SLASH)},getPossibleUrlFormats:function(){return e.clone(t.siteConstants.URL_FORMATS)},pendingApps:function(e){return a.getProperty(e,a.PROPERTY_NAMES.PENDING_APPS)},isSiteFromOnBoarding:function(t){var r=t.siteAPI.getClientSpecMap(),o=e.find(r,{type:"onboarding"}),n=!0===e.get(o,"inUse",!1),i=a.getProperty(t,a.PROPERTY_NAMES.USE_ONBOARDING);return n&&(e.isUndefined(i)||i)},setUseOnBoarding:function(e,t){a.setProperty(e,a.PROPERTY_NAMES.USE_ONBOARDING,t)},getUserPermissions:function(e){return a.getProperty(e,a.PROPERTY_NAMES.PERMISSIONS)},isOwner:function(e){return a.getProperty(e,a.PROPERTY_NAMES.IS_OWNER)},getSiteToken:function(e){return a.getProperty(e,a.PROPERTY_NAMES.SITE_TOKEN)},getUserId:function(e){return a.getProperty(e,a.PROPERTY_NAMES.USER_ID)}}}),define("documentServices/theme/theme",["lodash","documentServices/dataModel/dataModel","documentServices/privateServices/idGenerator","documentServices/theme/skins/editorSkinsData","color","documentServices/theme/colorPresets.json","utils","documentServices/siteMetadata/generalInfo","documentServicesSchemas"],function(e,t,a,r,o,n,i,s,l){"use strict";var u=i.fonts,c=l.schemas.dataSchemas,d=l.schemas.designSchemas,p=l.services.themeValidationHelper,g="THEME_DATA",f=[];function m(t){var a=l.schemas.componentsDefinitionsMap;return e.some(a,function(e){return e.styles&&e.styles[t]})}var y=["system","custom"];function _(e,t){S(t.id,t);var a=e.pointers.data.getThemeItem(t.id);e.dal.set(a,t)}function v(r,o,n){if(!e.includes(y,o.styleType))throw new Error("Unable to create a style without a styleType. styleType must be one of "+JSON.stringify(y));if("system"===o.styleType&&!m(n))throw new Error("Unable to create a system style whose id - "+n+", is not in componentDefinitionMap");return function(r,o){var n=t.createDataItemByType(null,"TopLevelStyle");return e.merge(n,r),n.compId="",n.pageId="",n.id=o||a.getStyleIdToAdd(),n.metaData={isPreset:!1,schemaVersion:"1.0",isHidden:!1},n.style=n.style||{properties:{},propertiesSource:{}},n}(o,n)}function S(e,t){if(!e||!t)throw new Error("missing arguments - styleId: "+e+", styleValue: "+t);var a=function(e){if("object"!==(void 0===e?"undefined":_typeof(e)))return{success:!1,error:"received style value is not an object"};if(!e.skin)return{success:!1,error:"received style did not contain a skin property"};if(!e.type)return{success:!1,error:"received style did not contain a type property"};return{success:!0}}(t);if(!a.success)throw new Error(a.error)}function O(e){return T(e,"font")}function h(t){function a(e){var t=void 0;if(0!==e.indexOf("#")){var a=0===e.indexOf("r")?e:"rgba("+e+")";t=new o(a)}else t=new o(e);return t.hexString()}return e.isArray(t)?e.map(t,a):e.isObject(t)?e.mapValues(t,a):a(t)}function A(e){return h(T(e,"color"))}function E(e,t){var a=w(e,"color",t);return a&&h(a)}function C(e,t){var a=e.pointers.data.getThemeItem(t.replace("#",""));return e.dal.get(a)}function P(e){return e.dal.get(e.pointers.general.getAllTheme())}function R(e){return e.dal.getKeys(e.pointers.general.getAllTheme())}function I(e,t,a){var r=e.pointers.data.getThemeItem(g);return e.pointers.getInnerPointer(r,[t,a])}function D(t,a,r){var o=T(t,a);n=t,i=r,s=o,l=a,e.forEach(i,function(e,t){if(!s[t])throw new Error("Invalid Key "+t);if("color"===l){var a=function(e){if(e){var t=/^(rgb|rgba)\(([0-9,\\.]*)\)$/.exec(e);e=t&&t[2]||e}return e}(e),r=p.validateColor(a);if(!r)throw new Error("color value isn't valid "+e+" .Please supply or hex/rgb string");i[t]=a}"font"===l&&function(e,t){var a=p.validateFont(t,A(e));if(a.isValid)return!0;if(a.error)throw a.error}(n,e)});var n,i,s,l;e.forEach(r,function(e,r){var o=b(r),n=I(t,a,o);t.dal.set(n,e)})}function T(t,a){var r={},o=t.pointers.data.getThemeItem(g),n=t.pointers.getInnerPointer(o,a),i=t.dal.get(n);return e.forEach(i,function(e,t){r[a+"_"+t]=e}),r}function w(t,a,r){var o=b(r);if(!e.isNaN(o)){var n=I(t,a,o);return t.dal.get(n)}return e.template("Non valid <%=type %> value <%=name %>")({type:a,name:r})}function b(e){return parseInt(e.split("_")[1],10)}function L(t){e(f).filter("callback").invokeMap("callback",t).value()}var M="skins.viewer.svgshape.SvgShapeDefaultSkin";function B(t,a){var o=e.includes(a,"svgshape.")?r[M]:r[a];return e.clone(o)}var V={pl:["latin-ext","latin"],ru:["cyrillic","latin"],ja:["japanese","latin"],ko:["korean","latin"]};function x(t){var a,r,o=(a=t,r=R(t),e.reject(e.without(r,g),function(e){return"system"===C(a,e).styleType})),n=t.pointers.page.getAllPagesPointer(),i=t.dal.getKeys(n),s=e.reduce(i,function(e,a){var r=t.pointers.page.getPagePointer(a);return e[a]=t.dal.full.get(r),e},{}),l=t.siteAPI.collectUsedStylesFromAllPages(s),u=e.difference(o,e.keys(l)),c=t.dal.get(t.pointers.general.getOrphanPermanentDataNodes());c=c.concat(u),t.dal.set(t.pointers.general.getOrphanPermanentDataNodes(),c),e.forEach(u,function(e,t){e.dal.remove(e.pointers.data.getThemeItem(t.replace("#","")))}.bind(null,t))}return{initialize:function(t,a){a&&a.runStylesGC&&(function(t){var a=e(t).thru(R).without(g).map(function(a){return e.merge(C(t,a),{id:a})}).filter(function(e){return"system"===e.styleType&&!m(e.id)}).value();e.forEach(a,function(e){e.styleType="custom",t.dal.set(t.pointers.data.getThemeItem(e.id),e)}),e.size(a)}(t),x(t))},colors:{update:function(e,t){if("object"!==(void 0===t?"undefined":_typeof(t)))throw new Error('Value "'+t+'" is not valid.Param should be an object');D(e,"color",t),e.setOperationsQueue.executeAfterCurrentOperationDone(L.bind(this,{type:"COLOR",values:t}))},get:E,getAll:A,getCustomUsedInSkins:function(t,a){var r,o,n=P(t),i=function(t,a){var r=t.pointers.page.getAllPagesPointer(),o=t.dal.getKeys(r);return e.reduce(o,function(r,o){var n=t.pointers.data.getDesignItemsWithPredicate(a,o);return e.forEach(n,function(e){r.push(t.dal.get(e))}),r},[])}(t,function(e){return"BackgroundMedia"===e.type}),s=(r=i,e.reduce(r,function(t,a){return e(a).pickBy(function(t,r){return a[r]&&"color"===e.get(d.BackgroundMedia.properties[r],"format")}).forOwn(function(e){t[e]=e}),t},{})),l=(t,o=n,e.transform(o,function(t,a){var r=B(0,a.skin);if("TopLevelStyle"===a.type&&r){var o=a.style&&a.style.properties||{};e(o).pickBy(function(t,a){return r[a]&&e.includes(r[a].type,"COLOR")}).forOwn(function(e){t[e]=e})}},{})),u=e.merge(s,l),c=e.filter(u,function(t){return!e.includes(t,"color")});if(c=h(c),a){var p=A(t);c=e.difference(c,p)}return c},getColorPresets:function(){return n},getCssString:function(e){var t=e.pointers.data.getThemeItem("THEME_DATA"),a=e.pointers.getInnerPointer(t,"color"),r=e.dal.get(a);return i.cssUtils.getColorsCssString(r)},render:function(t,a){if(e.includes(a,"color"))return E(t,a);if("#"===a.charAt(0)||e.includes(a,"rgb"))return a;var r=a.split(",");return 3===r.length?"rgb("+a+")":4===r.length?"rgba("+a+")":a}},fonts:{update:function(e,t){if("object"!==(void 0===t?"undefined":_typeof(t)))throw new Error('Value "'+t+'" is not valid.Param should be an object');D(e,"font",t),e.setOperationsQueue.executeAfterCurrentOperationDone(L.bind(this,{type:"FONT",values:t}))},get:function(e,t){return w(e,"font",t)},getAll:O,getMap:function(t){var a=A(t),r=O(t);return e.transform(r,function(e,t,o){return e[o]=u.fontUtils.parseStyleFont(o,r,a),e},{})},getCharacterSet:function(t){var a=t.pointers.data.getDataItemFromMaster("masterPage"),r=t.dal.get(a).characterSets;return r?e.includes(r,"latin")||r.push("latin"):r=["latin"],r},getLanguageCharacterSet:function(e,t){if(t)return V[t]},getCharacterSetByGeo:function(t){var a=[],r=s.getGeo(t);return r&&i.countryCodes.countries[r]&&(a=e.clone(i.countryCodes.countries[r].characterSets)),a.length>0&&!e.includes(a,"latin")?a.push("latin"):a=["latin"],a},updateCharacterSet:function(t,a){if(e.isArray(a)){var r=t.pointers.data.getDataItemFromMaster("masterPage"),o={characterSets:a};t.dal.merge(r,o)}},getThemeStyles:function(e){var t=e.pointers.data.getThemeItem("THEME_DATA"),a=e.pointers.getInnerPointer(t,"color"),r=e.pointers.getInnerPointer(t,"font"),o=e.dal.get(a),n=e.dal.get(r);return u.fontCss.getThemeFontsCss(n,o)}},styles:{update:function(t,a,r){S(a,r);var o=e.omit(r,["styleType"]),n=t.pointers.data.getThemeItem(a),i=t.dal.get(n),s=e.assign(i||{},o);s.id=a,t.dal.set(n,s),t.setOperationsQueue.executeAfterCurrentOperationDone(L.bind(this,{type:"STYLE",values:a}))},createAndAddStyleItem:function(e,t,a){var r=v(0,t,a);return _(e,r),r.id},addStyleItem:_,createStyleItemToAdd:v,get:C,getAll:P,getAllIds:R},skins:{getComponentSkins:function(e,t){return l.services.getComponentSkins(t)},getSkinDefinition:B},getSchema:function(){return e.cloneDeep(c.FlatTheme.properties)},events:{onChange:{addListener:function(e,t){if("function"!=typeof t)throw new Error('Value "'+t+'" is not valid.Param should be function');var a=f.length;return f.push({listenerId:a,callback:t}),a},removeListener:function(t,a){if(e.isNil(a))throw new Error("missing argument - listenerId: "+a);var r=e.findIndex(f,{listenerId:a});if(-1===r)throw new Error('Value "'+a+'" is not valid.No listener with this id exist');f.splice(r,1)},executeListeners:L}},FONT_POSSIBLE_VALUES:p.FONT_POSSIBLE_VALUES}}),define("documentServices/componentsMetaData/componentsMetaData",["lodash","coreUtils","utils","documentServices/componentsMetaData/metaDataMap","documentServices/theme/theme","layout","documentServices/constants/constants","documentServices/componentsMetaData/metaDataUtils","documentServices/documentMode/documentModeInfo","documentServices/page/popupUtils","documentServices/hooks/hooks"],function(e,t,a,r,o,n,i,s,l,u,c){"use strict";var d={MINIMAL_CHILDREN_NUMBER:"minimalChildrenNumber",MAXIMUM_CHILDREN_NUMBER:"maximumChildrenNumber",ANCHORS:"anchors",CONTAINABLE:"containable",CONTAINABLE_BY_STRUCTURE:"containableByStructure",CAN_CONTAIN:"canContain",CAN_CONTAIN_BY_STRUCTURE:"canContainByStructure",IS_CONTAIN_CHECK_RECURSIVE:"isContainCheckRecursive",GROUPABLE:"groupable",ENFORCE_CONTAINER_CHILD_LIMITS_BY_WIDTH:"enforceContainerChildLimitsByWidth",ENFORCE_CONTAINER_CHILD_LIMITS_BY_HEIGHT:"enforceContainerChildLimitsByHeight",CONTAINER:"container",MOVE_DIRECTIONS:"moveDirections",RESIZABLE_SIDES:"resizableSides",ROTATABLE:"rotatable",FIXED_POSITION:"canBeFixedPosition",MODAL:"modal",MOBILE_ONLY:"mobileOnly",CAN_BE_STRETCHED:"canBeStretched",REMOVABLE:"removable",DUPLICATABLE:"duplicatable",HIDDENABLE:"hiddenable",COLLAPSIBLE:"collapsible",DOCKABLE:"dockable",LAYOUT_LIMITS:"layoutLimits",FULL_WIDTH:"fullWidth",FULL_WIDTH_BY_STRUCTURE:"fullWidthByStructure",STYLE_CAN_BE_APPLIED:"styleCanBeApplied",NICKNAME:"nickname",ALIGNABLE:"alignable",DISABLEABLE:"disableable",RESIZE_ONLY_PROPORTIONALLY:"resizeOnlyProportionally",ENFORCE_RESIZABLE_CORNERS:"enforceResizableCorners",IS_PROPORTIONALLY_RESIZABLE:"isProportionallyResizable",IGNORE_CHILDREN_ON_PROPORTINAL_RESIZE:"ignoreChildrenOnProportionalResize",ENFORCE_MAX_DIM_ON_PROPORTIONAL_RESIZE:"enforceMaxDimensionsOnProportionalResize",USING_LEGACY_APP_PART_SCHEMA:"usingLegacyAppPartSchema",DEFAULT_MOBILE_PROPERTIES:"defaultMobileProperties",VISIBLE:"isVisible",MOBILE_CONVERSION_CONFIG:"mobileConversionConfig"},p={};p[d.MOVE_DIRECTIONS]=c.HOOKS.METADATA.MOVE_DIRECTIONS,p[d.REMOVABLE]=c.HOOKS.METADATA.REMOVABLE,p[d.DUPLICATABLE]=c.HOOKS.METADATA.DUPLICATABLE,p[d.ROTATABLE]=c.HOOKS.METADATA.ROTATABLE,p[d.FIXED_POSITION]=c.HOOKS.METADATA.FIXED_POSITION,p[d.RESIZABLE_SIDES]=c.HOOKS.METADATA.RESIZABLE_SIDES,p[d.CONTAINABLE]=c.HOOKS.METADATA.CONTAINABLE,p[d.LAYOUT_LIMITS]=c.HOOKS.METADATA.LAYOUT_LIMITS;function g(e,t){return s.isContainer(s.getComponentType(e,t))||e.pointers.components.isMasterPage(t)}function f(t,a,r,o){var n=g(a,o)&&(function(e,t,a,r){var o=s.getComponentType(t,r),n=e?a.componentType:s.getComponentType(t,a),i=A(t,a,e),l=A(t,r),u=s.isHeaderOrFooterOrPageOrMasterPage(o),c=s.isNonContainableFullWidth(n);return!i||l&&!c||u}(t,a,r,o)||function(e,t,a,r){var o=s.getComponentType(t,r),n=e?a.componentType:s.getComponentType(t,a);return s.isComponentParentTypeMatchesComponentChildType(o,n)}(t,a,r,o)||function(e,t){var a=s.getComponentType(e,t);return u.isPopupContainer(a)}(a,o))&&!function(t,a,r){for(var o=t.pointers.components.getParent(r);o;){if(e.isEqual(o,a))return!0;o=t.pointers.components.getParent(o)}return!1}(a,r,o);return t?n:n&&function(e,t,a){if(e.pointers.components.getPageOfComponent(t).id!==e.pointers.components.getPageOfComponent(a).id){if(!e.pointers.components.isInMasterPage(t)&&!e.pointers.components.isInMasterPage(a))return!1;if(l.isMobileView(e))return!1}return!0}(a,r,o)}function m(e,t,a,r){return r?f(e,t,a,r):!(l.isMobileView(t)||A(t,a,e)||R(t,a))}var y={containable:m.bind(null,!1),containableByStructure:m.bind(null,!0),container:g,canContain:g,canContainByStructure:g,isContainCheckRecursive:!0,moveDirections:[i.MOVE_DIRECTIONS.HORIZONTAL,i.MOVE_DIRECTIONS.VERTICAL],resizableSides:[i.RESIZE_SIDES.TOP,i.RESIZE_SIDES.LEFT,i.RESIZE_SIDES.BOTTOM,i.RESIZE_SIDES.RIGHT],rotatable:!1,anchors:{to:{allow:!0,lock:i.ANCHORS.LOCK_CONDITION.THRESHOLD},from:{allow:!0,lock:i.ANCHORS.LOCK_CONDITION.THRESHOLD}},canBeFixedPosition:!0,canBeStretched:!1,showMarginsIndicator:!1,removable:!0,alignable:function(e,t){var a=e.dal.get(e.pointers.getInnerPointer(t,"layout"));return!(a.fixedPosition||a.docked)},duplicatable:function(e){return!l.isMobileView(e)},hiddenable:!0,minimalChildrenNumber:0,maximumChildrenNumber:Number.MAX_VALUE,collapsible:!0,dockable:!0,fullWidth:function(e,t){var r=e.pointers.getInnerPointer(t,"layout"),o=e.dal.get(r);return a.dockUtils.isHorizontalDockToScreen(o)||s.isLegacyFullWidthContainer(e,t)},fullWidthByStructure:function(e,t){return a.dockUtils.isHorizontalDockToScreen(t.layout)||s.isLegacyFullWidthContainerByType(t.componentType)},styleCanBeApplied:!1,groupable:function(e,t){return S(e,d.CONTAINABLE,t)},enforceContainerChildLimitsByWidth:!0,enforceContainerChildLimitsByHeight:!0,nickname:s.getComponentNickname,layoutLimits:{minWidth:a.siteConstants.COMP_SIZE.MIN_WIDTH,minHeight:a.siteConstants.COMP_SIZE.MIN_HEIGHT,maxWidth:a.siteConstants.COMP_SIZE.MAX_WIDTH,maxHeight:a.siteConstants.COMP_SIZE.MAX_HEIGHT,aspectRatio:null},isProportionallyResizable:function(e,t){return B(e,t)&&V(e,t)},ignoreChildrenOnProportionalResize:!1,enforceMaxDimensionsOnProportionalResize:!1,resizeOnlyProportionally:!1,isVisible:!0,enforceResizableCorners:!1},_=r.getMap();function v(t,a){var r=e.get(_,[t,a]);return e.isUndefined(r)?y[a]:r}function S(t,a,r){var o=s.getComponentType(t,r),n=v(o,a),i=e.toArray(arguments);return i.splice(1,1),"function"==typeof n&&(n=n.apply(this,i)),p[a]?c.executeHookAndUpdateValue(t,p[a],o,i.slice(1),n):n}function O(t,a,r){var o=v(a.componentType,r);return e.isFunction(o)&&(o=o(t,a)),o}function h(e,t){return S(e,d.RESIZABLE_SIDES,t)}function A(e,t,a){return a?O(e,t,d.FULL_WIDTH_BY_STRUCTURE):S(e,d.FULL_WIDTH,t)}function E(e,t){return S(e,d.CONTAINER,t)}function C(e,t){return!!S(e,d.MOVE_DIRECTIONS,t).length}function P(t){return e.isObject(t)&&0!==t.rotationInDegrees}function R(e,t){var r=e.pointers.getInnerPointer(t,"layout"),o=e.dal.get(r);return a.dockUtils.isHorizontalDockToScreen(o)}function I(e,t){var a=s.getComponentType(e,t);return s.isLegacyFullWidthContainer(e,t)||u.isPopupContainer(a)}function D(e,t,a,r){for(var o=void 0,n=!0,i=a;a&&n;)o=S(e,d.IS_CONTAIN_CHECK_RECURSIVE,a),n=r.call(this,e,t,a,i),a=o?e.pointers.components.getParent(a):null;return n}function T(e,t,a,r){return S(e,d.CAN_CONTAIN,a,t,r)}function w(t,r,o,n){var i=r.componentType,s=S(t,d.CAN_CONTAIN_BY_STRUCTURE,o,r,n);a.dockUtils.isHorizontalDockToScreen(r.layout)&&(s=s&&I(t,o));var l=v(i,d.CONTAINABLE_BY_STRUCTURE),u=e.isFunction(l)?l(t,r,o):l;return Boolean(s&&u)}function b(e,t){return S(e,d.ENFORCE_CONTAINER_CHILD_LIMITS_BY_WIDTH,t)}function L(e,t){return S(e,d.ENFORCE_CONTAINER_CHILD_LIMITS_BY_HEIGHT,t)}function M(t,a){var r=e.defaults(S(t,d.LAYOUT_LIMITS,a),y.layoutLimits);return!e.isNull(r.aspectRatio)}function B(t,a){return!!e.intersection(h(t,a),[i.RESIZE_SIDES.LEFT,i.RESIZE_SIDES.RIGHT]).length||M(t,a)}function V(t,a){return!!e.intersection(h(t,a),[i.RESIZE_SIDES.TOP,i.RESIZE_SIDES.BOTTOM]).length||M(t,a)}return{public:{isContainable:function(e,a,r){return!(!r||!E(e,r))&&(s=e,u=a,c=r,(!l.isMobileView(s)||!t.displayedOnlyStructureUtil.isDisplayedComponent(u.id)&&!t.displayedOnlyStructureUtil.isDisplayedComponent(c.id)||t.displayedOnlyStructureUtil.getItemId(u.id)===t.displayedOnlyStructureUtil.getItemId(c.id))&&(o=e,n=a,i=r,D(o,n,i,T))&&S(e,d.CONTAINABLE,a,r)&&(!R(e,a)||I(e,r)));var o,n,i,s,u,c},isContainableByStructure:function(e,t,a){return D(e,t,a,w)},isContainer:E,isAlignable:function(e,t){return S(e,d.ALIGNABLE,t)&&C(e,t)},isMovable:C,isHorizontallyMovable:function(t,a){return e.includes(S(t,d.MOVE_DIRECTIONS,a),i.MOVE_DIRECTIONS.HORIZONTAL)},isVerticallyMovable:function(t,a){return e.includes(S(t,d.MOVE_DIRECTIONS,a),i.MOVE_DIRECTIONS.VERTICAL)},canMoveUp:function(t,a){return e.includes(S(t,d.MOVE_DIRECTIONS,a),i.MOVE_DIRECTIONS.UP)},getMobileConversionConfig:function(t,a,o){var n=a.componentType||a.documentType;n=r.mobileReusableMetaDataMap[n]||n;var s=e.get(_,[n,d.MOBILE_CONVERSION_CONFIG]),l=e.mapValues(s,function(r){return e.isFunction(r)?r(t,a,o):r}),u=e.get(_,[n,d.LAYOUT_LIMITS]);if(e.isFunction(u)){var c=t.pointers.components.getPage(o,i.VIEW_MODES.DESKTOP),p=t.pointers.components.getComponent(a.id,c);u=p&&t.dal.isExist(p)?u(t,p):u}var g=e.get(_,[n,d.HIDDENABLE],!0);return e.defaults(l,u?{layoutLimits:u}:{},{hiddenable:g})},getMobileConversionConfigByName:function(t,a,o,n){var i=a.componentType||a.documentType;i=r.mobileReusableMetaDataMap[i]||i;var s=e.get(_,[i,d.MOBILE_CONVERSION_CONFIG]),l=e.get(s,o);return e.isFunction(l)?l(t,a,n):l},getMinimalChildrenNumber:function(e,t){return S(e,d.MINIMAL_CHILDREN_NUMBER,t)},allowedToContainMoreChildren:function(e,t){var a=S(e,d.MAXIMUM_CHILDREN_NUMBER,t);if(a===Number.MAX_VALUE)return!0;return a>e.pointers.components.getChildren(t).length},getDefaultMobileProperties:function(t,a,r){var o=v(a.componentType,d.DEFAULT_MOBILE_PROPERTIES);return e.isFunction(o)?o(t,a,r):o},getResizableSides:function(e,t){return h(e,t)},isHorizontallyResizable:B,isVerticallyResizable:V,isProportionallyResizable:function(e,t){return S(e,d.IS_PROPORTIONALLY_RESIZABLE,t)},isIgnoreChildrenOnProportionalResize:function(e,t){return S(e,d.IGNORE_CHILDREN_ON_PROPORTINAL_RESIZE,t)},enforceMaxDimensionsOnProportionalResize:function(e,t){return S(e,d.ENFORCE_MAX_DIM_ON_PROPORTIONAL_RESIZE,t)},isResizable:function(e,t){return!!h(e,t).length},isRotatable:function(e,t){return S(e,d.ROTATABLE,t)&&!function(e,t){var r=e.pointers.getInnerPointer(t,"layout"),o=e.dal.get(r);return a.dockUtils.isStretched(o)}(e,t)},isGroupable:function(e,t){return S(e,d.GROUPABLE,t)},canBeFixedPosition:function(e,t){return S(e,d.FIXED_POSITION,t)},isModal:function(e,t){return!!S(e,d.MODAL,t)},isMobileOnly:function(e,t){return!!S(e,d.MOBILE_ONLY,t)},isUsingLegacyAppPartSchema:function(e,t){return!!S(e,d.USING_LEGACY_APP_PART_SCHEMA,t)},canBeStretched:function(e,t){var a=e.pointers.components.getPageOfComponent(t);return!(u.isPopup(e,a.id)&&!u.isPopupFullWidth(e,a))&&S(e,d.CAN_BE_STRETCHED,t)&&!function(e,t){var a=e.pointers.getInnerPointer(t,"layout");return P(e.dal.get(a))}(e,t)},canBeStretchedByStructure:function(e,t){return O(e,t,d.CAN_BE_STRETCHED)&&!P(t.layout)},resizeOnlyProportionally:M,enforceResizableCorners:function(e,t){return S(e,d.ENFORCE_RESIZABLE_CORNERS,t)},isRepeatedComponent:function(e,a){return t.displayedOnlyStructureUtil.isDisplayedComponent(a.id)},isEnforcingContainerChildLimitations:function(e,t){return b(e,t)||L(e,t)},isEnforcingContainerChildLimitationsByWidth:b,isEnforcingContainerChildLimitationsByHeight:L,isFullWidth:function(e,t){return A(e,t,!1)},isFullWidthByStructure:function(e,t){return A(e,t,!0)},isRemovable:function(e,t){return S(e,d.REMOVABLE,t)},isDuplicatable:function(e,t,a){return S(e,d.DUPLICATABLE,t,a)},isStyleCanBeApplied:function(e,t){return S(e,d.STYLE_CAN_BE_APPLIED,t)},getLayoutLimits:function(t,a,r){var o=e.defaults(S(t,d.LAYOUT_LIMITS,a,r),y.layoutLimits);return o.maxWidth=Math.min(o.maxWidth,y.layoutLimits.maxWidth),o.maxHeight=Math.min(o.maxHeight,y.layoutLimits.maxHeight),o.minWidth=Math.max(o.minWidth,y.layoutLimits.minWidth),o.minHeight=Math.max(o.minHeight,y.layoutLimits.minHeight),o},isHiddenable:function(e,t){return S(e,d.HIDDENABLE,t)},isCollapsible:function(e,t){return S(e,d.COLLAPSIBLE,t)},isDockable:function(e,t){return S(e,d.DOCKABLE,t)},isDisableable:function(e,t){return!!S(e,d.DISABLEABLE,t)},isAnchorableFrom:function(t,r){var o=s.getComponentType(t,r),n=a.getComponentsAnchorsMetaData(t.siteDataAPI.siteData);return e.get(n[o],"from.allow",n.default.from.allow)},isAnchorableTo:function(t,r){var o=s.getComponentType(t,r),n=a.getComponentsAnchorsMetaData(t.siteDataAPI.siteData);return e.get(n[o],"to.allow",n.default.to.allow)},isVisible:function(e,t){return S(e,d.VISIBLE,t)},isPotentialContainerForScreenWidthComp:function(e,t){return I(e,t)}},getAnchorableHeight:function(e,t){var r=e.dal.get(e.pointers.getInnerPointer(t,"layout.height"));if(!E(e,t))return r;var n=function(e,t){var a=e.dal.get(e.pointers.getInnerPointer(t,"styleId"));return a?o.styles.get(e,a):null}(e,t),i=n&&n.skin||e.dal.get(e.pointers.getInnerPointer(t,"skin"));return r-a.layoutAnchors.getNonAnchorableHeightForSkin(i,n)},getDefaultNickname:function(e,t){return S(e,d.NICKNAME,t)},getComponentType:s.getComponentType}}),define("documentServices/tpa/constants",[],function(){"use strict";return{TYPE:{TPA_SECTION:"TPASection",TPA_MULTI_SECTION:"TPAMultiSection",TPA_WIDGET:"TPAWidget",TPA_GLUED_WIDGET:"TPAGluedWidget"},DATA_TYPE:{TPA_SECTION:"TPA",TPA_MULTI_SECTION:"TPAMultiSection",TPA_WIDGET:"TPAWidget"},COMP_TYPES:{TPA_SECTION:"wysiwyg.viewer.components.tpapps.TPASection",TPA_MULTI_SECTION:"wysiwyg.viewer.components.tpapps.TPAMultiSection",TPA_WIDGET:"wysiwyg.viewer.components.tpapps.TPAWidget",TPA_GLUED_WIDGET:"wysiwyg.viewer.components.tpapps.TPAGluedWidget"},TPA_COMP_TYPES:{TPA_SECTION:"tpa.viewer.components.tpapps.TPASection",TPA_MULTI_SECTION:"tpa.viewer.components.tpapps.TPAMultiSection",TPA_WIDGET:"tpa.viewer.components.tpapps.TPAWidget",TPA_GLUED_WIDGET:"tpa.viewer.components.tpapps.TPAGluedWidget"},SKINS:{TPA_SECTION:"wysiwyg.viewer.skins.TPASectionSkin",TPA_WIDGET:"wysiwyg.viewer.skins.TPAWidgetSkin"},APP_MARKET:{EDITOR_BASE_URL:"http://editor.wix.com/app-market-editor",DOMAIN:"http://editor.wix.com/"},STYLE:{TPA_WIDGET:"tpaw0",TPA_GLUED_WIDGET:"tpagw0",TPA_SECTION:"tpas0"},CYCLE:{MONTHLY:"monthly",YEARLY:"yearly",ONE_TIME:"oneTime"}}}),define("documentServices/tpa/utils/tpaUtils",["lodash","tpa","coreUtils","documentServices/constants/constants","documentServices/siteMetadata/generalInfo","documentServices/tpa/constants","documentServices/dataModel/dataModel"],function(e,t,a,r,o,n,i){"use strict";return{isSiteSaved:function(e){return!o.isFirstSave(e)},isTpaByCompType:function(t){return e.includes(n.COMP_TYPES,t)||e.includes(n.TPA_COMP_TYPES,t)},isTpaByAppType:a.coreTpaUtils.isTpaByAppType,isTpaByDataType:function(t){return e.includes(n.DATA_TYPE,t)},sendBIEvent:function(e,a,r){var o=e.pointers.components.getViewMode(e.siteAPI.getFocusedRootId()),n=e.pointers.components.getPage(e.siteAPI.getFocusedRootId(),o),s=e.pointers.components.getComponent(a.compId,n),l=i.getDataItem(e,s);t.common.bi.sendBIEvent(a,r,l,e.siteAPI.getClientSpecMap(),e.siteAPI.reportBI.bind(e.siteAPI))}}}),define("documentServices/component/componentStructureInfo",["lodash","coreUtils","documentServices/componentsMetaData/componentsMetaData","documentServices/componentsMetaData/metaDataUtils","documentServices/dataModel/dataModel","documentServices/hooks/hooks","documentServices/tpa/utils/tpaUtils","documentServices/constants/constants","documentServicesSchemas"],function(e,t,a,r,o,n,i,s,l){"use strict";function u(e,t){var r=null;return e&&t&&(r=e.pointers.components.isMasterPage(t)?"wysiwyg.viewer.components.WSiteStructure":a.getComponentType(e,t)),r}function c(e,t){return e.pointers.components.getParent(t)}function d(e,t){return e.pointers.components.isPage(t)}function p(e,t,a){return a?e.pointers.components.getChildrenRecursively(t):e.pointers.components.getChildren(t)}return{createComponentDefaultStructureBuilder:function(e){var t=l.services.createComponentDefaultStructureBuilder(e);return function(e,a){return t(a)}},getType:u,getPropertiesItem:function(e,t){var a=e.pointers.getInnerPointer(t,"propertyQuery"),r=a&&e.dal.get(a),o=e.pointers.components.getPageOfComponent(t),n=o&&o.id,i=r&&e.pointers.data.getPropertyItem(r,n);return i&&e.dal.get(i)},getPage:function(e,t){return e.pointers.full.components.getPageOfComponent(t)},getContainerToAddComponentTo:function(e,t){var a=u(e,t),r=n.executeHooksAndCollectValues(n.HOOKS.ADD_ROOT.GET_CONTAINER_TO_ADD_TO,a,[e,t]);if(r.length>1)throw new Error("you can't have more that one hook returning a container");return r[0]||t},getContainer:c,getAncestors:function(e,t){for(var a=c(e,t),r=[];null!==a;)r.push(a),a=c(e,a);return r},getSiblings:function(t,a){var r=p(t,t.pointers.components.getParent(a));return e.remove(r,{id:a.id}),r},getRepeatedComponents:function(e,a){return t.displayedOnlyStructureUtil.isDisplayedComponent(a.id)?e.pointers.components.getAllDisplayedOnlyComponents(a):[]},getChildren:p,getAllJsonChildren:function(e,t){return e.pointers.components.getChildren(t)},getTpaChildren:function(t,a){var r=t.pointers.components.getChildrenRecursively(a);return e.filter(r,function(e){var a=u(t,e);return i.isTpaByCompType(a)})},getBlogChildren:function(t,a){var r=t.pointers.components.getChildrenRecursively(a);return e.filter(r,function(e){return"wixapps.integration.components.AppPart"===u(t,e)})},getAncestorByPredicate:function(e,t,a){return e.pointers.components.getAncestorByPredicate(t,a)},getChildrenArrayKey:function(e,t){if(!d(void 0,e))return"components";switch(t){case s.VIEW_MODES.MOBILE:return"`mobileComponents";case s.VIEW_MODES.DESKTOP:return"masterPage"===e.id?"children":"components"}},isRenderedOnSite:function(e,t){return e.siteAPI.isComponentRenderedOnSite(t.id)},isContainsCompWithType:function(t,a,r){r=e.isArray(r)?r:[r];for(var o,n=t.pointers.components.getChildrenRecursively(a),i=0;i<n.length;i++)if(o=u(t,n[i]),e.includes(r,o))return!0;return!1},isExist:function(e,t){return e.dal.isExist(t)},isPageComponent:d}}),define("documentServices/anchors/anchors",["lodash","experiment","coreUtils","documentServices/constants/constants","documentServices/component/componentStructureInfo","documentServices/structure/structureUtils"],function(e,t,a,r,o,n){"use strict";function i(e,t){var a=e.pointers.components.getPageOfComponent(t).id,o=e.dal.get(t),n=e.pointers.components.getViewMode(t)===r.VIEW_MODES.MOBILE;e.siteAPI.createChildrenAnchors(o,a,{forceMobileStructure:n})}function s(e,t){var a=e.pointers.general.getCompsToUpdateAnchors();e.dal.isExist(a)?e.dal.push(a,t):e.dal.set(a,[t])}return{updateAnchors:function(e,t,a){t&&s(e,t),a&&s(e,a)},updateAnchorsForCompChildren:i,getMinDragHandleY:function(t,a,r){var o=t.pointers.components.getSiblings(a),i=a.id;return r=r||[],e.reduce(o,function(a,o){if(e.includes(r,o.id))return a;var s=n.getComponentLayout(t,o);return e.find(s.anchors,{targetComponent:i,type:"BOTTOM_TOP"})?Math.max(a,n.getBoundingY(s)+n.getBoundingHeight(s)):e.find(s.anchors,{targetComponent:i,type:"TOP_TOP"})?Math.max(a,n.getBoundingY(s)):a},0)},getMinAnchorLockDistance:function(){return r.ANCHORS.LOCK_THRESHOLD},updateAnchorsForMultipleComps:function(t){var r=t.pointers.general.getCompsToUpdateAnchors(),n=t.dal.get(r)||[];e(n).concat((s=t,l=n,e.transform(l,function(e,t){if(!a.displayedOnlyStructureUtil.isDisplayedComponent(t.id)){var r=s.pointers.full.components.getParent(t);r&&e.push(r)}},[]))).map(function(e){if(a.displayedOnlyStructureUtil.isDisplayedComponent(e.id))return r=t,n=e,o.getAncestorByPredicate(r,n,function(e){return!a.displayedOnlyStructureUtil.isDisplayedComponent(e.id)});var r,n;return e}).uniqBy("id").compact().filter(function(e){var a=t.pointers.components.getPageOfComponent(e);return!!a&&t.siteAPI.isComponentRenderedOnSite(a.id)}).forEach(e.partial(i,t));var s,l;t.dal.set(r,[])}}}),define("documentServices/modes/modesUtils",["lodash","utils","coreUtils","documentServices/documentMode/documentModeInfo"],function(e,t,a,r){"use strict";var o={};o[a.siteConstants.COMP_MODES_TYPES.SHOW_ON_SOME_PAGES]=!0;function n(t,a){return e.every(a.modeIds,function(e){return!!t[e]})}function i(e,t,a){var r=e.componentStructure.getModesDefinitions(a);return t.get(r)}function s(a,r,o,s){for(var l=t.objectUtils.cloneDeep(o),u=function(t,a,r){for(var o={};null!==r;){var n=i(t,a,r),s=e.map(n,"modeId");o=e.merge(o,e.zipObject(s,s)),r=t.components.getParent(r)}return o}(a,r,s),c=[l];!e.isEmpty(c);){var d=c.pop(),p=e.get(d,"modes.definitions"),g=e.map(p,"modeId");u=e.merge(u,e.zipObject(g,g));var f=e.get(d,"modes.overrides");if(f){var m=e.filter(f,e.partial(n,u));e.set(d,"modes.overrides",m),e.isEmpty(m)&&delete d.modes.isHiddenByModes}c=c.concat(d.components||[])}return l}function l(t){var o=function(t){var a=r.getViewMode(t),o=t.pointers.components.getMasterPage(a),n=t.pointers.componentStructure.getModes(o);return n?e.get(t.dal.get(n),"definitions",[]):[]}(t);return e.filter(o,{type:a.siteConstants.COMP_MODES_TYPES.SHOW_ON_SOME_PAGES})}function u(){return{isHiddenByModes:!1,definitions:[],overrides:[]}}function c(t,a,r,o,n){if(!o)return null;for(var i=n?o:t.full.components.getParent(o);i;){if(!e.isEmpty(g(t,a,r,i)))return i;i=t.components.getParent(i)}return null}function d(t,a,r,o,n){var i=c(t,a,r,o,n);return i?e.head(g(t,a,r,i)):null}function p(e,t){var a={isHiddenByModes:!1,definitions:[],overrides:[]};return a.isHiddenByModes=!0,a.overrides.push({modeIds:e,isHiddenByModes:!1,layout:t}),a}function g(a,r,n,i){var s=a.components.getPageOfComponent(i);if(s){var l=function(t,a,r){var o=t.general.getActiveModes(),n=a.get(o);return r&&n[r]?e.omitBy(n[r],function(e){return!e}):{}}(a,n,s.id),u=a.componentStructure.getModesDefinitions(i),c=e.reject(r.get(u),function(e){return o[e.type]});return e.keys(t.modes.getActiveComponentModeIds(l,c))}return[]}return{adjustModesToNewContainer:function(t,a,r,o,n){n=s(t,a,n,o);var i=d(t,a,r,o)||e.head(g(t,a,r,o));if(i){var l=p([i],n.layout);if(n.modes){n.modes.isHiddenByModes=!0,n.modes.overrides=n.modes.overrides||[];var u=e.find(n.modes.overrides,function(t){return e.isEqual(t.modeIds,[i])});u?u.isHiddenByModes=!1:n.modes.overrides.push(l.overrides[0])}else n.modes=l}return n},createEmptyModesObject:u,getFirstAncestorModeToGenerateOverrides:d,createModesObjectForCompAddedInMode:p,getComponentModesToGenerateOverrides:g,getSospModeByPagesGroup:function(t,a){if(t.dal.isExist(a)){var r=l(t);return e.find(r,{settings:{pagesGroupId:"#"+a.id}})}},getFirstAncestorWithModesToGenerateOverrides:c,getSOSPModes:l}}),define("documentServices/actionsAndBehaviors/allowedGroupsByCompType",[],function(){"use strict";var e=["entrance","animation","scrub"].concat(["mask","3d"]),t=["exit"],a=["animation","background"],r=["transition","pageTransition"],o=[],n={AllComponents:e.concat(t),PopupContainer:e.concat(t),WRichText:e.concat(["text"]).concat(t),WSiteStructure:r,Page:r,AppPage:r,Anchor:o,FlashComponent:o,PagesContainer:o,Header:o,Footer:o,TPAWidget:o,TPASection:o,TPAGluedWidget:o,TPAMultiSection:o,AppPart:o,AppPart2:o,Masonry:o,Accordion:o,Impress:o,Freestyle:o,Collage:o,Honeycomb:o,StripShowcase:o,StripSlideshow:o,Thumbnails:o,TPA3DGallery:o,TPA3DCarousel:o,FlickrBadgeWidget:o,GoogleMap:o,HtmlComponent:o,PinItPinWidget:o,PinterestPinIt:o,FacebookLikeBox:o,SkypeCallButton:o,SoundCloudWidget:o,SpotifyFollow:o,SpotifyPlayer:o,Video:o,VKShareButton:o,WTwitterTweet:o,WTwitterFollow:o,YouTubeSubscribeButton:o,MediaControls:o,MediaOverlayControls:o,StripContainer:a,StripContainerSlideShowSlide:a,Column:a,StripColumnsContainer:a,BoxSlideShowSlide:a};Object.freeze(n);return{getSchema:function(){return n}}}),define("documentServices/actionsAndBehaviors/actionsEditorSchema",[],function(){"use strict";var e={screenIn:{groups:["animation","entrance"]},bgScrub:{groups:["animation","background"]},pageTransition:{groups:["transition","pageTransition"]},exit:{groups:["exit","animation"]},load:{groups:["transition","pageTransition"]},modeIn:{groups:["animation","entrance"]},modeOut:{groups:["animation","exit"]},modeChange:{groups:["animation","entrance"]},scrollScrub:{groups:["scrub"]}};Object.freeze(e);return{getSchema:function(){return e}}}),define("documentServices/actionsAndBehaviors/behaviorsEditorSchema",["lodash","documentServices/constants/constants"],function(e,t){"use strict";var a=function(t,a){var r=[];return e.forEach(t,function(t){r=r.concat(e.map(t,function(t){var r=e.cloneDeep(t);return r.type="animation",r.params=r.params||{},e.includes(r.groups,"animation")&&e.defaults(r.params,a),r}))}),r}({general:[{name:"Fade",groups:["animation"],params:{}},{name:"Position",groups:["animation"],params:{}},{name:"Rotate",groups:["animation"],params:{}},{name:"Scale",groups:["animation"],params:{}}],in:[{name:"ArcIn",groups:["3d","entrance","animation"],params:{direction:{type:"list",list:["right","left"]}}},{name:"DropIn",groups:["entrance","animation"],params:{}},{name:"ExpandIn",groups:["entrance","animation"],params:{}},{name:"FadeIn",groups:["entrance","animation"],params:{}},{name:"FlipIn",groups:["3d","entrance","animation"],params:{direction:{type:"list",list:["top","right","bottom","left"]}}},{name:"FloatIn",groups:["entrance","animation"],params:{direction:{type:"list",list:["top","right","bottom","left"]}}},{name:"FlyIn",groups:["entrance","animation"],params:{direction:{type:"list",list:["top","top left","top right","left","bottom","bottom left","bottom right","right"]}}},{name:"FoldIn",groups:["3d","entrance","animation"],params:{direction:{type:"list",list:["top","right","bottom","left"]}}},{name:"Reveal",groups:["mask","entrance","animation"],params:{direction:{type:"list",list:["top","right","center","bottom","left"]}}},{name:"SlideIn",groups:["mask","entrance","animation"],params:{direction:{type:"list",list:["top","right","bottom","left"]}}},{name:"SpinIn",groups:["entrance","animation"],params:{cycles:{type:"number",min:1,max:15,step:1},direction:{type:"list",list:["cw","ccw"]}}},{name:"TurnIn",groups:["entrance","animation"],params:{direction:{type:"list",list:["right","left"]}}},{name:"BounceIn",groups:["entrance","animation"],params:{bounce:{type:"list",list:["soft","medium","hard"]},direction:{type:"list",list:["top left","top right","center","bottom right","bottom left"]}}},{name:"GlideIn",groups:["entrance","animation"],params:{angle:{type:"angle"},distance:{type:"number",min:0,max:300,step:1}}}],out:[{name:"ArcOut",groups:["3d","exit","animation"],params:{direction:{type:"list",list:["right","left"]}}},{name:"PopOut",groups:["exit","animation"],params:{}},{name:"CollapseOut",groups:["exit","animation"],params:{}},{name:"FadeOut",groups:["exit","animation"],params:{}},{name:"FlipOut",groups:["3d","exit","animation"],params:{direction:{type:"list",list:["top","right","bottom","left"]}}},{name:"FloatOut",groups:["exit","animation"],params:{direction:{type:"list",list:["top","right","bottom","left"]}}},{name:"FlyOut",groups:["exit","animation"],params:{direction:{type:"list",list:["top","top left","top right","left","bottom","bottom left","bottom right","right"]}}},{name:"FoldOut",groups:["3d","exit","animation"],params:{direction:{type:"list",list:["top","right","bottom","left"]}}},{name:"Conceal",groups:["mask","exit","animation"],params:{direction:{type:"list",list:["top","right","center","bottom","left"]}}},{name:"SlideOut",groups:["mask","exit","animation"],params:{direction:{type:"list",list:["top","right","bottom","left"]}}},{name:"SpinOut",groups:["exit","animation"],params:{cycles:{type:"number",min:1,max:15,step:1},direction:{type:"list",list:["cw","ccw"]}}},{name:"TurnOut",groups:["exit","animation"],params:{direction:{type:"list",list:["right","left"]}}},{name:"BounceOut",groups:["exit","animation"],params:{direction:{type:"list",list:["top left","top right","center","bottom right","bottom left"]},bounce:{type:"list",list:["soft","medium","hard"]}}},{name:"GlideOut",groups:["exit","animation"],params:{angle:{type:"angle"},distance:{type:"number",min:0,max:300,step:1}}}],background:[{name:"ContainerFixedBg",groups:["animation","background"],params:{}},{name:"BackgroundReveal",groups:["animation","background"],params:{}},{name:"BackgroundParallax",groups:["animation","background"],params:{}},{name:"BackgroundZoom",groups:["animation","background"],params:{}},{name:"BackgroundFadeIn",groups:["animation","background"],params:{}},{name:"BackgroundBlurIn",groups:["animation","background"],params:{}},{name:"SiteBackgroundParallax",groups:["animation","background"],params:{}}],modes:[{name:"ModesMotion",groups:["entrance","animation"]}]},{duration:{type:"number",min:0,max:4,step:.05},delay:{type:"number",min:0,max:4,step:.1}}),r=[{type:"scrub",name:"ScrubAnimation",groups:["scrub"],viewMode:t.VIEW_MODES.DESKTOP,params:{animations:[]}},{type:"scrub",name:"ScrubAnimation",groups:["scrub"],viewMode:t.VIEW_MODES.MOBILE,params:{animations:[]}}];return[].concat([{type:"widget",name:"runCode",params:{callbackId:"",compName:""}},{type:"widget",name:"runAppCode",params:{callbackId:"",compName:""}}],r,[{type:"site",name:"openPopup",params:{delay:2,openInDesktop:!0,openInMobile:!1}},{type:"site",name:"prefetchPages",params:{prefetchFilters:{}}}],a)}),define("documentServices/actionsAndBehaviors/pageTransitionsEditorSchema",[],function(){"use strict";return[{name:"CrossFade",groups:["transition","pageTransition"],legacyName:"crossfade"},{NoTransition:"NoTransition",groups:["transition","pageTransition"],legacyName:"none"},{OutIn:"OutIn",groups:["transition","pageTransition"],legacyName:"outIn"},{name:"SlideHorizontal",groups:["transition","pageTransition"],legacyName:"swipeHorizontalFullScreen"},{name:"SlideVertical",groups:["transition","pageTransition"],legacyName:"swipeVerticalFullScreen"}]}),define("documentServices/actionsAndBehaviors/actionsAndBehaviors",["lodash","documentServices/actionsAndBehaviors/allowedGroupsByCompType","documentServices/actionsAndBehaviors/actionsEditorSchema","documentServices/actionsAndBehaviors/behaviorsEditorSchema","documentServices/actionsAndBehaviors/pageTransitionsEditorSchema","documentServices/component/componentStructureInfo","documentServices/constants/constants","documentServices/dataModel/dataModel","utils"],function(e,t,a,r,o,n,i,s,l){"use strict";var u=["sourceId","type","name"],c=["targetId","type","name","part","viewMode"],d=["action","targetId","name","duration","delay","params","playOnce","type","viewMode"];function p(){return e.sortBy(e.keys(a.getSchema()))}function g(o,n,i){var s=r;if(n){var l=e.last(n.split(".")),u=t.getSchema()[l]||t.getSchema().AllComponents;s=e.isEmpty(u)?[]:e.filter(s,function(t){return e(t.groups).difference(u).isEmpty()})}return i&&(s=e.filter(s,function(t){return e(a.getSchema()[i].groups).difference(t.groups).isEmpty()})),e(s).map("name").sortBy().value()}function f(e,t){if(l.displayedOnlyStructureUtil.isDisplayedComponent(t.id)){var a=l.displayedOnlyStructureUtil.getOriginalId(t.id),r=e.pointers.components.getPageOfComponent(t);return e.pointers.full.components.getComponent(a,r)}return t}function m(t,a){var r=h(t,a);return e.isEmpty(r)?null:r}function y(t){return e.get(t,"type")===i.VIEW_MODES.MOBILE}function _(t){return e.defaults({type:i.VIEW_MODES.DESKTOP},t)}function v(t){return"animation"===e.get(t,"type","animation")}function S(t,a){return e.isEqual(e.pick(t,c),e.pick(a,c))}function O(t,a){return r=t.action,o=a.action,e.isEqual(e.pick(r,u),e.pick(o,u))&&S(t.behavior,a.behavior);var r,o}function h(e,t){var a=f(e,t),r=s.getBehaviorsItem(e,a);return r?JSON.parse(r):[]}function A(t,a,r){var o=JSON.stringify(r);e.isEmpty(r)?s.removeBehaviorsItem(t,a):s.updateBehaviorsItem(t,a,o)}function E(e,t){var a=e.pointers.components.getMasterPage(t),r=e.pointers.components.getComponent(i.COMP_IDS.PAGE_GROUP,a),o=s.getPropertyItemPointer(e,r);return e.pointers.getInnerPointer(o,"transition")}function C(){return e.sortBy(e.map(o,"legacyName"))}function P(e,t,a,r){var o=e.siteAPI.getSiteAspect("actionsAspect"),n=e.pointers.components;return o.previewAnimation(t.id,n.getPageOfComponent(t).id,a,r)}function R(e,t,a){e.siteAPI.getSiteAspect("actionsAspect").stopPreviewAnimation(t,a)}return{getActionNames:p,getActionDefinition:function(t,r){if(e.has(a.getSchema(),r))return{type:"comp",name:r}},getBehaviorDefinition:function(t,a){return e.cloneDeep(e.find(r,{name:a}))},getBehaviorNames:g,isBehaviorable:function(t,a,r){var o=n.getType(t,a);return!e.isEmpty(g(0,o,r))},getComponentBehaviors:m,setComponentBehavior:function t(a,r,o,s){s&&(o.action=s);var l=function(t,a,r){var o={type:"ok",message:""},n=g(0,r);if(e.includes(n,a.name))if(e.isPlainObject(a))if(e.isEmpty(a))o.type="error",o.message+="Behavior can not be empty\n";else{var s=p();e.includes(s,a.action)||(o.type="error",o.message+="Action of type "+a.action+" does not exist\n");var l=g(0,null,a.action);e.includes(l,a.name)||(o.type="error",o.message+="Behavior of type "+a.name+" is not allowed on action "+a.action),v(a)&&e.isNaN(Number(a.duration))&&e.isNaN(Number(a.params.duration))&&(o.type="error",o.message+="Animation duration must be a number\n"),v(a)&&e.isNaN(Number(a.delay))&&e.isNaN(Number(a.params.delay))&&(o.type="error",o.message+="Animation delay must be a number\n"),!a.viewMode||e.isString(a.viewMode)&&e.includes(i.VIEW_MODES,a.viewMode)||(o.type="error",o.message+="Behavior viewMode must be undefined or a string: 'DESKTOP', 'MOBILE' or 'BOTH' \n"),a.params&&!e.isPlainObject(a.params)&&(o.type="error",o.message+="Animation params property are optional, but if they exist params must be an object\n"),a.playOnce&&!e.isBoolean(a.playOnce)&&(o.type="error",o.message+="Animation playOnce property is optional, but if is exists playOnce must be a boolean\n");var u=e.difference(e.uniq(e.keys(a).concat(d)),d);e.isEmpty(u)||(o.type="error",o.message+="The keys ["+u+"] are not allowed values of a Behavior")}else o.type="error",o.message+="Each behavior should be an object\n";else o.type="error",o.message+="Behavior of type "+a.name+" is not allowed on component of type "+r;return o}(0,o,n.getType(a,r));if("error"===l.type)throw new Error(l.message);y(r)&&t(a,_(r),o,s);var u=m(a,r)||[],c=e.partial(S,o);A(a,r,(u=e.reject(u,c)).concat(o))},removeComponentSingleBehavior:function t(a,r,o,n){y(r)&&t(a,_(r),o,n);var i=m(a,r),s={action:n};e.isString(o)?s.name=o:e.isObject(o)&&(s=e.assign(s,o)),A(a,r,i=i?e.reject(i,s):[])},removeComponentBehaviors:function(e,t){A(e,t,[])},removeComponentsBehaviorsWithFilter:function t(a,r,o){y(r)&&t(a,_(r),o);var n=m(a,r);A(a,r,n=n?e.reject(n,o):[])},updateBehavior:function(t,a,r,o,n){var i=f(t,a),s=h(t,i),l={action:e.defaults({sourceId:i.id},r),behavior:e.defaults({targetId:o.id},n)},u=e.partial(O,l);A(t,i,e.reject(s,u).concat(l))},removeBehavior:function(t,a,r,o,n){var i=f(t,a),s=h(t,i),l={action:e.defaults({sourceId:i.id},r),behavior:e.defaults({targetId:o.id},n)},u=e.partial(O,l),c=e.reject(s,u);c.length!==s.length&&A(t,i,c)},getBehaviors:h,hasBehavior:function(t,a,r,o,n){var i=f(t,a),s=h(t,i),l={action:e(i&&{sourceId:i.id}).defaults(r).pick(u).value(),behavior:e(o&&{targetId:o.id}).defaults(n).pick(c).value()};return e.some(s,l)},getPageTransitionsNames:C,getPagesTransition:function(e){var t=E(e,i.VIEW_MODES.DESKTOP);return e.dal.get(t)},setPagesTransition:function(t,a){if(!e.includes(C(),a))throw new Error("No such transition "+a);var r=E(t,i.VIEW_MODES.DESKTOP);t.dal.set(r,a)},executeAction:function(e,t){e.siteAPI.getSiteAspect("actionsAspect").executeAction(t)},deprecatedPreviewAnimation:function(e,t,a,r,o){return P(e,t,a,o)},deprecatedStopPreviewAnimation:function(e,t,a){R(e,a)},previewAnimation:P,previewTransition:function(t,a,r,o,n){var i=t.siteAPI.getSiteAspect("actionsAspect"),s=t.pointers.components,l=e.isArray(a)?a:[a],u=e.isArray(r)?r:[r],c=l.length>0?l[0]:u[0];return i.previewTransition(e.map(l,"id"),e.map(u,"id"),s.getPageOfComponent(c).id,o,n)},stopPreviewAnimation:R,executeAnimationsInPage:function(e){e.siteAPI.getSiteAspect("actionsAspect").reloadPageAnimations()},stopAndClearAllAnimations:function(e){var t=e.siteAPI.getSiteAspect("animationsAspect");t&&t.stopAndClearAllAnimations()}}}),define("documentServices/component/componentModes",["lodash","utils","coreUtils","documentServices/utils/utils","documentServices/documentMode/documentModeInfo","documentServices/modes/modesUtils","documentServices/dataModel/dataModel","documentServices/actionsAndBehaviors/actionsAndBehaviors"],function(e,t,a,r,o,n,i,s){"use strict";var l="isHiddenByModes",u="wysiwyg.viewer.components.SiteRegionContainer",c={SHOW_ON_SOME_PAGES:{mobileConversionConfig:"copyOverrides"},HOVER:{mobileConversionConfig:"chooseMobileMode"}};function d(t,a){if(e.isEmpty(a))return null;var r=t.pointers.componentStructure.getModesDefinitions(a);return t.dal.full.get(r)}function p(a,r){var o=void 0,n=void 0,s=d(a,r),l=s&&e.find(s,{type:t.siteConstants.COMP_MODES_TYPES.HOVER});if(!l)return null;var u=a.pointers.full.components.getDesktopPointer(r),c=i.getPropertyItemPointer(a,u);return c&&(n=(o=a.dal.get(c)).mobileDisplayedModeId&&e.find(s,{modeId:o.mobileDisplayedModeId})),n||l}function g(t,a,r){if(!r)return null;var o=d(t,a);return e.filter(o,{type:r})}function f(e,t){return _(t.id)}function m(a,r,o,n,i,s){if(l=n,!e.includes(e.values(t.siteConstants.COMP_MODES_TYPES),l))throw new Error("added component mode is invalid");var l;!function(e,t){var a=e.pointers.componentStructure.getModes(t),r=e.pointers.componentStructure.getModesDefinitions(t),o=e.pointers.componentStructure.getModesOverrides(t);e.dal.full.isExist(a)?(e.dal.full.isExist(o)||e.dal.full.set(o,[]),e.dal.full.isExist(r)||e.dal.full.set(r,[])):e.dal.full.set(a,{definitions:[],overrides:[]})}(a,o);var u=y(o.id,n,i,r,s),c=function(a,r,o){var n=a.pointers.componentStructure.getModesDefinitions(r),i=a.dal.full.get(n);switch(o.type){case t.siteConstants.COMP_MODES_TYPES.DEFAULT:case t.siteConstants.COMP_MODES_TYPES.HOVER:return function(a,r,o){var n=e.find(a,{type:t.siteConstants.COMP_MODES_TYPES.DEFAULT}),i=e.find(a,{type:t.siteConstants.COMP_MODES_TYPES.HOVER}),s=r.type===t.siteConstants.COMP_MODES_TYPES.DEFAULT,l=r.type===t.siteConstants.COMP_MODES_TYPES.HOVER;if(s&&n||l&&i||n&&i)return a;{if(s)return a.concat(r,y(o,t.siteConstants.COMP_MODES_TYPES.HOVER));if(l)return a.concat(r,y(o,t.siteConstants.COMP_MODES_TYPES.DEFAULT))}return a}(i,o,r.id);case t.siteConstants.COMP_MODES_TYPES.SCROLL:return function(a,r,o){if(e.isUndefined(r.settings.scrollPos))throw new Error("scroll mode must have a scroll pos");var n=[],i=e.filter(a,{type:t.siteConstants.COMP_MODES_TYPES.SCROLL});e.find(i,"settings.scrollPos",0)||0===r.settings.scrollPos||(n=[y(o,t.siteConstants.COMP_MODES_TYPES.SCROLL,{scrollPos:0})]);if(!e.find(i,["settings.scrollPos",r.settings.scrollPos]))return n.concat(r,a);return n.concat(a)}(i,o,r.id);case t.siteConstants.COMP_MODES_TYPES.WIDTH:return function(a,r,o){if(e.isUndefined(r.settings.width))throw new Error("width mode must have a width pos");var n=[],i=e.filter(a,{type:t.siteConstants.COMP_MODES_TYPES.WIDTH});e.find(i,"settings.width",0)||0===r.settings.width||(n=[y(o,t.siteConstants.COMP_MODES_TYPES.WIDTH,{width:0})]);if(!e.find(i,["settings.width",r.settings.width]))return n.concat(r,a);return n.concat(a)}(i,o,r.id);case t.siteConstants.COMP_MODES_TYPES.APPLICATIVE:return[o].concat(i);case t.siteConstants.COMP_MODES_TYPES.SHOW_ON_SOME_PAGES:return function(t,a,r,o){if(!t.pointers.components.isMasterPage(a))throw new Error("SOSP mode can be added only to masterPage");if(e.isUndefined(o.settings.pagesGroupId))throw new Error("SOSP mode must have a pagesGroupId");return[o].concat(r)}(a,r,i,o)}}(a,o,u),d=a.pointers.componentStructure.getModesDefinitions(o);a.dal.full.set(d,c),u.type===t.siteConstants.COMP_MODES_TYPES.SHOW_ON_SOME_PAGES&&a.siteAPI.updateActiveSOSPModes()}function y(e,t,a,r,o){return{modeId:r||_(e.id),type:t,label:o||null,settings:a||null}}function _(e){var a=(e?e+"-":"")+"mode";return t.guidUtils.getUniqueId(a,"-")}function v(e,a){if(!a)return null;var r=e.siteAPI.getActiveModes(),o=e.pointers.components.getPageOfComponent(a)||e.pointers.full.components.getPageOfComponent(a),n=d(e,a);return t.modes.getActiveComponentModeIds(r[o.id],n)}function S(e,t,a){e.siteAPI.deactivateMode(t,a)}function O(e,t){var a=e.pointers.componentStructure.getModesOverrides(t);return e.dal.full.isExist(a)&&e.dal.full.get(a)}function h(e,t){s.removeComponentsBehaviorsWithFilter(e,t,{action:"modeOut"}),s.removeComponentsBehaviorsWithFilter(e,t,{action:"modeIn"})}function A(t,a){for(var r=t.pointers.full.components.getParent(a),o=v(t,r);r&&e.isEmpty(o);)o=(r=t.pointers.components.getParent(r))?v(t,r):null;return r}function E(t,a,r){if(!e.isEmpty(r)&&a){var o=t.pointers.componentStructure.getModes(a),n=t.dal.full.get(o)||{};n.isHiddenByModes=!0,n.overrides=function(t,a){t=t||[];var r=e.find(t,function(e){return R(e.modeIds,a)});r||(r={modeIds:a},t.push(r));return r.isHiddenByModes=!1,t}(n.overrides,r),n.overrides=(i=n.overrides,s=r,e.filter(i,function(e){return R(e.modeIds,s)}));var i,s;t.dal.full.set(o,n)}}function C(e,t){var r=n.getSospModeByPagesGroup(e,t);return r?r.modeId:function(e,t){var r=o.getViewMode(e),n=e.pointers.components.getMasterPage(r),i=f(0,n),s={pagesGroupId:"#"+t.id};m(e,i,n,a.siteConstants.COMP_MODES_TYPES.SHOW_ON_SOME_PAGES,s,(l=t,"SOSP-"+e.dal.get(l).groupName));var l;return i}(e,t)}function P(e,t,a){if(!e.dal.isExist(a))throw new Error("componentModes: pagesGroup not exist");if(o=e,n=t,r.getComponentType(o,n)!==u||!o.pointers.components.isInMasterPage(n))throw new Error("componentModes: cant show component only on some pages");var o,n}function R(t,a){return t.length===a.length&&e.intersection(t,a).length===t.length}function I(e,t){var a=A(e,t);return a?v(e,a):{}}function D(t,a){var r=function(t,a){var r=v(t,a);return e.isEmpty(r)?I(t,a):r}(t,a),o=O(t,a),n=e.findIndex(o,function(t){return e.every(t.modeIds,function(e){return r[e]})});if(n>=0){var i=t.pointers.componentStructure.getModesOverrides(a);return t.pointers.getInnerPointer(i,n)}return null}function T(t,a,r){if(!a)throw new Error("missing component pointer");r&&!e.isArray(r)&&(r=[r]);var o=O(t,a),n=e.find(o,function(t){return e.isEqual(e.sortBy(t.modeIds),e.sortBy(r))});if(n&&!e.isUndefined(n[l]))return!n[l];var i=t.dal.full.get(t.pointers.componentStructure.getModes(a));return!(i&&!e.isUndefined(i[l]))||!i[l]}function w(e,t){return e.dal.isExist(t)}function b(t,a,r,o){var n,s,l=i.getDesignItemByModes(t,a,r),u=t.pointers.components.getPageOfComponent(a).id,c=(n=l,s=o,n.dataChangeBehaviors&&(n.dataChangeBehaviors=e.reject(n.dataChangeBehaviors,function(t){return e.includes(s,t.part)}),e.set(n,"background.mediaTransforms",{scale:1})),n);i.addSerializedDesignItemToPage(t,u,c,c.id)}return{addModeDefinition:m,getComponentModeById:function(t,a,r){var o=d(t,a);return o&&r?e.find(o,{modeId:r}):null},getModeTypes:function(){return e.cloneDeep(t.siteConstants.COMP_MODES_TYPES)},getComponentModes:d,getComponentModesByType:g,removeComponentMode:function(t,a,r){v(t,a)[r]&&S(t,a,r);var o=t.pointers.componentStructure.getModesDefinitions(a),n=t.dal.full.get(o),i=e.reject(n,{modeId:r});t.dal.full.set(o,i)},getComponentActiveModeIds:v,resetAllActiveModes:function(e){e.siteAPI.isMobileView()||e.siteAPI.resetAllActiveModes()},activateComponentMode:function(e,t,a){e.siteAPI.activateMode(t,a)},deactivateCompMode:S,createUniqueModeId:_,showComponentOnlyOnPagesGroup:function(e,t,a){P(e,t,a),E(e,t,[C(e,a)])},overrides:{getAllOverrides:O,removeAllOverrides:function(e,t){var a=e.pointers.componentStructure.getModesOverrides(t);e.dal.full.isExist(a)&&e.dal.full.set(a,[])},getOverridePointerByActiveModes:D,applyCurrentToAllModes:function(t,a){var r=t.pointers.componentStructure.getModes(a),o=t.dal.full.get(r),n=D(t,a);if(n){var i=e.omit(t.dal.full.get(n),["isHiddenByModes","modeIds"]);t.dal.full.merge(a,i)}h(t,a),o&&t.dal.full.set(r,e.assign(o,{isHiddenByModes:!1,overrides:[]}))},updateComponentOverrides:function(e,t,a){var r=e.pointers.componentStructure.getModesOverrides(t);e.dal.full.isExist(r)&&e.dal.full.set(r,a)},showComponentOnlyInModesCombination:E},getFirstAncestorActiveModes:I,getFirstAncestorWithActiveModes:A,isComponentDisplayedByDefault:function(a,r){var o=A(a,r);if(o){var n=e.head(g(a,o,t.siteConstants.COMP_MODES_TYPES.DEFAULT));return!!n&&T(a,r,[n.modeId])}return!0},isComponentDisplayedInModes:T,isComponentCurrentlyDisplayed:w,shouldDeleteComponentFromFullJson:function(a,r){if(!w(a,r)&&a.dal.full.isExist(r))return!0;var o=A(a,r);if(!o)return!0;var n=e(v(a,o)).keys().head();return!t.modes.isCompVisibleAfterRemovalFromMode(a.pointers,a.dal.full,r,o,n)},getModeToAddId:f,getComponentModesAvailableInView:function(e,t){return e.pointers.components.isMobile(t)?[p(e,t)]:d(e,t)},getCompMobileMode:p,removeDesignBehaviorsFromAllModes:function(t,a,r){var o=d(t,a);e.forEach(o,function(e){b(t,a,[e.modeId],r)})},getAllCompDesignItems:function(t,a){var r=t.pointers.componentStructure.getModes(a),o=t.pointers.components.getPageOfComponent(a),n=t.pointers.getInnerPointer(a,"designQuery"),s=t.dal.full.get(n).replace("#",""),l=i.getDesignItemById(t,s,o.id);if(!t.dal.full.isExist(r))return[l];var u=[],c=t.dal.full.get(r),d=c.overrides,p=c.definitions,g=e.filter(d,"designQuery");return g.length!==p.length&&u.push(l),u=u.concat(e.map(g,function(e){return i.getDesignItemByModes(t,a,e.modeIds)}))},getMobileActiveModesMap:function(a,r){var o=a.pointers.components.getPage(r,t.constants.VIEW_MODES.DESKTOP),n=e.filter(d(a,o),function(t){return"copyOverrides"===e.get(c,[t.type,"mobileConversionConfig"])}),i=e.map(a.pointers.components.getChildrenRecursively(o),e.partial(p,a));return e(i).concat(n).map("modeId").compact().uniq().map(function(e){return[e,!0]}).fromPairs().value()},removeSingleModeBehaviors:h,metaData:c,getModesIdsAndParentNeededToShowComp:function(t,a){var r=void 0,o=void 0;if(!t.dal.isExist(a)&&t.dal.full.isExist(a)){var n=t.pointers.componentStructure.getModes(a),i=t.pointers.full.components.getParent(a);for(t.dal.full.isExist(n)&&(r=t.dal.full.get(n),o=a);!r&&i;)t.dal.full.isExist(i)&&(n=t.pointers.componentStructure.getModes(i),t.dal.full.isExist(n)&&(r=t.dal.full.get(n),o=i)),r||(i=t.pointers.full.components.getParent(i));return{modeIdsToActivate:(s=r,e.get(e.find(s.overrides,{isHiddenByModes:!1}),"modeIds")),parentWithModesDef:function(t,a){var r=t.pointers.componentStructure.getModes(a),o=t.dal.full.get(r),n=o&&o.definitions&&!e.isEmpty(o.definitions);if(n)return a;for(var i=t.pointers.full.components.getParent(a);!n&&i;)r=t.pointers.componentStructure.getModes(i),(n=(o=t.dal.full.get(r))&&o.definitions&&!e.isEmpty(o.definitions))||(i=t.pointers.full.components.getParent(i));return i}(t,o)}}var s}}}),define("documentServices/component/sospModes",["lodash","coreUtils","documentServices/documentMode/documentModeInfo","documentServices/component/componentModes"],function(e,t,a,r){"use strict";function o(e){var o=e.pointers.components.getMasterPage(a.getViewMode(e));return r.getComponentModesByType(e,o,t.siteConstants.COMP_MODES_TYPES.SHOW_ON_SOME_PAGES)}function n(t,a,o){var n=r.overrides.getAllOverrides(t,a);return e.some(n,function(t){return!e(t.modeIds).intersection(o).isEmpty()})}function i(t,a){if(!t.pointers.components.isInMasterPage(a))return null;var r=o(t);if(e.isEmpty(r))return null;for(var i=e.map(r,"modeId"),s=a;!n(t,s,i);)if(!(s=t.pointers.components.getParent(s)))return null;return s}return{getSOSPModes:o,removeSOSPMode:function(e,t){var o=e.pointers.components.getMasterPage(a.getViewMode(e));r.removeComponentMode(e,o,t)},getShowOnSomePagesRoot:i,getComponentPagesGroupId:function(t,n){var s=i(t,n),l=s?function(t,n){var i=t.pointers.components.getMasterPage(a.getViewMode(t)),s=e.map(o(t),"modeId"),l=r.overrides.getAllOverrides(t,n),u=e.find(l,function(t){return!e(t.modeIds).intersection(s).isEmpty()});return r.getComponentModeById(t,i,u.modeIds[0])}(t,s):null;return u=l,e.get(u,["settings","pagesGroupId"],"").replace("#","");var u}}}),define("documentServices/structure/fixedComponentMeasuring",["lodash"],function(e){"use strict";var t={};return{getFixedComponentMeasurements:function(e,t,a,r){var o=t.layout,n=void 0;return e?{top:(n=e(t,a.width,a.height,r||0)).top,left:n.left,height:o.height,width:o.width}:null},setMeasuringForType:function(a,r){e.isArray(a)||(a=[a]),e.forEach(a,function(e){t[e]=r})},getMeasuringByType:function(e){return t[e]}}}),define("documentServices/structure/relativeToScreenPlugins/matrixGalleryPlugin",["lodash"],function(e){"use strict";return function(t,a,r,o){var n=t.getSiteMeasureMap(),i=e.get(n.custom,[o.id,"itemsContainer","height"]),s=e.get(n.custom,[o.id,"showMore","height"]);return i&&s?{height:i+s}:{}}}),define("documentServices/structure/relativeToScreenPlugins/screenWidthPlugin",[],function(){"use strict";return function(e,t){var a=e.isMobileView();return{x:a?t.x:0,width:a?e.getSiteWidth():e.getSiteMeasureMap().clientWidth}}}),define("documentServices/structure/relativeToScreenPlugins/fullViewPortPlugin",["lodash","documentServices/structure/relativeToScreenPlugins/screenWidthPlugin"],function(e,t){"use strict";return function(a,r){return e.assign(t.call(this,a,r),{height:Math.max(r.height,a.getScreenHeight())})}}),define("documentServices/structure/relativeToScreenPlugins/siteStructurePlugin",["documentServices/constants/constants"],function(e){"use strict";return function(t,a){var r=t.isMobileView();return{x:r?a.x:0,y:a.y,width:r?t.getSiteWidth():t.getSiteMeasureMap().clientWidth,height:t.getSiteMeasureMap().height[e.MASTER_PAGE_ID]}}}),define("documentServices/structure/relativeToScreenPlugins/anchorPlugin",[],function(){"use strict";var e=141,t=68;return function(a,r){var o=r.width,n=a.getSiteMeasureMap().clientWidth-(e+t);return a.isMobileView()&&(n=n-(a.getSiteMeasureMap().clientWidth-a.getSiteWidth())/2-13,o=140),{x:n,y:r.y,height:0,width:o}}}),define("documentServices/structure/relativeToScreenPlugins/textHeightPlugin",[],function(){"use strict";return function(e,t,a,r){return{height:e.getSiteMeasureMap().minHeight[r.id]}}}),define("documentServices/structure/relativeToScreenPlugins/verticalLinePlugin",[],function(){"use strict";var e=25;return function(t,a){var r={};return a.width<e&&(r.x=a.x-e/2,r.width=e),r}}),define("documentServices/structure/relativeToScreenPlugins/horizontalLinePlugin",["lodash","documentServices/structure/relativeToScreenPlugins/screenWidthPlugin"],function(e,t){"use strict";var a=25;return function(r,o,n){var i={};return o.height<a&&(i.y=o.y-a/2,i.height=a),n&&n.fullScreenModeOn&&e.merge(i,t(r,o,n)),i}}),define("documentServices/structure/relativeToScreenPlugins/popupContainerWidthPlugin",["documentServices/structure/relativeToScreenPlugins/screenWidthPlugin"],function(e){"use strict";return function(t,a,r){return"fullWidth"===r.alignmentType?e(t,a):{}}}),define("documentServices/structure/relativeToScreenPlugins/quickActionBarPlugin",["lodash"],function(e){"use strict";var t=34;return function(a,r,o,n,i){var s,l,u,c,d,p=a.getSiteMeasureMap(),g=(s=p,l=r.width,u=o,c=n,d=i,!u.hideText&&d["text-overflow"]&&s.width[c.id+"maxTextWidth"]>0?l+t+s.width[c.id+"maxTextWidth"]:l),f=p.height[n.id+"actionsContainer"];return{x:(p.clientWidth-p.width.screen)/2+(v=p,S=g,O=o,h=i,"right"===O.alignment&&e.has(h,"qab-right")?v.width.screen-S-h["qab-right"]:e.has(h,"qab-left")?h["qab-left"]:(v.width.screen-S)/2),y:(m=p,y=f,_=i,m.clientHeight-y-_["qab-bottom"]),width:g,height:f};var m,y,_,v,S,O,h}}),define("documentServices/structure/relativeToScreenPlugins/relativeToScreenPlugins",["lodash","documentServices/component/componentStructureInfo","documentServices/componentsMetaData/metaDataUtils","documentServices/page/popupUtils","documentServices/structure/relativeToScreenPlugins/matrixGalleryPlugin","documentServices/structure/relativeToScreenPlugins/screenWidthPlugin","documentServices/structure/relativeToScreenPlugins/fullViewPortPlugin","documentServices/structure/relativeToScreenPlugins/siteStructurePlugin","documentServices/structure/relativeToScreenPlugins/anchorPlugin","documentServices/structure/relativeToScreenPlugins/textHeightPlugin","documentServices/structure/relativeToScreenPlugins/verticalLinePlugin","documentServices/structure/relativeToScreenPlugins/horizontalLinePlugin","documentServices/structure/relativeToScreenPlugins/popupContainerWidthPlugin","documentServices/structure/relativeToScreenPlugins/quickActionBarPlugin"],function(e,t,a,r,o,n,i,s,l,u,c,d,p,g){"use strict";var f=function(){return null},m={"wysiwyg.viewer.components.MatrixGallery":o,"wysiwyg.common.components.anchor.viewer.Anchor":l,"wysiwyg.viewer.components.WSiteStructure":s,"wysiwyg.viewer.components.Column":f,"wysiwyg.viewer.components.StripColumnsContainer":f,"wysiwyg.viewer.components.WRichText":u,"wysiwyg.viewer.components.FiveGridLine":d,"wysiwyg.viewer.components.VerticalLine":c,"wysiwyg.viewer.components.PopupContainer":p,"wysiwyg.viewer.components.QuickActionBar":g};return{getPlugin:function(e,o){var s=t.getType(e,o),l=m[s];return!l&&a.isLegacyFullWidthContainer(e,o)&&(l=r.isPopup(e,o.id)?i:n),l}}}),define("documentServices/layoutPlugins/shapeMeasuring",["lodash","layout","utils"],function(e,t,a){"use strict";function r(t,r,o,n){var i=n[r],s=i.getAttribute("data-svg-id"),l=i.querySelector("svg");if(s&&l){var u=t.pointers.svgShapes.getSvgShapePointer(s),c=t.pointers.getInnerPointer(u,a.svg.SVG_STORES.BOX_BOUNDARIES);if(t.dal.get(u)&&e.isEmpty(t.dal.get(c))){var d="preserve"===i.getAttribute("data-preserve-viewbox"),p=function(e){var t=e.getAttribute("data-viewbox").split(" "),a=_slicedToArray(t,4);return{x:a[0],y:a[1],width:a[2],height:a[3]}}(i),g=d&&e.some(p)?p:function(e){var t=e.getBBox();return{x:t.x,y:t.y,width:t.width,height:t.height}}(l);e.some(g)&&t.dal.set(c,g)}}}var o=["wysiwyg.viewer.components.VectorImage","wysiwyg.viewer.components.svgshape.SvgShape","wysiwyg.viewer.components.PopupCloseIconButton","wysiwyg.viewer.components.MediaControls","wysiwyg.viewer.components.MediaOverlayControls","wysiwyg.viewer.components.mobile.TinyMenu","wysiwyg.viewer.components.LoginSocialBar"];return{initialize:function(a){t.registerShapesMeasureFunction(o,e.partial(r,a))}}}),define("documentServices/layoutPlugins/textMeasuring",["lodash","layout"],function(e,t){"use strict";function a(t){var a=t.getBoundingClientRect(),r=e.toArray(t.children),o=a.left,n=a.top;return a=function t(a,r){r=r||{left:-Number.MAX_VALUE,right:Number.MAX_VALUE,top:-Number.MAX_VALUE,bottom:Number.MAX_VALUE};var o=window.document.createRange();r=e.reduce(a,function(e,a){var r=void 0,n=function(e){var t=void 0,a=void 0,r=e.childNodes,o="";for(t=0;t<r.length;t++)3===(a=r[t]).nodeType&&(o+=a.textContent.trim());return o}(a);return n?(o.selectNodeContents(a),(r=o.getBoundingClientRect()).width&&r.height&&(e.left=Math.min(e.left,r.left),e.top=Math.min(e.top,r.top),e.right=Math.max(e.right,r.right),e.bottom=Math.max(e.bottom,r.bottom))):e=t(a.children,e),e},r);return r}(r,a={left:a.right,right:a.left,top:a.bottom,bottom:a.top}),{dx:Math.floor(a.left)-o,dy:Math.floor(a.top)-n,width:Math.ceil(a.right-a.left),height:Math.ceil(a.bottom-a.top)}}function r(t,r,o,n){var i=n[r],s=t.pointers.general.getTextRuntimeOverallBorders(),l=e.isUndefined(i.dataset.minHeight)?0:parseInt(i.dataset.minHeight,10),u=i.querySelector(".measurer");if(o.minHeight[r]=Math.max(l,e.get(u,"offsetTop",i.offsetHeight)),i.textContent.trim()&&!t.siteAPI.isMobileView()){var c=a(i);t.siteAPI.isMobileView()||t.dal.set(t.pointers.getInnerPointer(s,r),c)}}return{initialize:function(a){t.registerAdditionalMeasureFunction("wysiwyg.viewer.components.WRichText",e.partial(r,a))}}}),define("documentServices/layoutPlugins/groupMeasuring",["lodash","layout","coreUtils"],function(e,t,a){"use strict";t.registerMeasureChildrenFirst("wysiwyg.viewer.components.Group",!0),t.registerRequestToMeasureDom("wysiwyg.viewer.components.Group"),t.registerCustomMeasure("wysiwyg.viewer.components.Group",function(t,r,o,n,i){var s=a.dataUtils.getChildrenData(i.structure,n.isMobileView()),l=function(t,r){var o=void 0,n=void 0,i=void 0,s=void 0;return o=i=Number.MAX_VALUE,n=s=-Number.MAX_VALUE,e.forEach(t,function(e){var t=e.layout,l=r.left&&r.left[e.id]?r.left[e.id]:t.x,u=r.width&&r.width[e.id]?r.width[e.id]:t.width,c=r.top&&r.top[e.id]?r.top[e.id]:t.y,d=r.height&&r.height[e.id]?r.height[e.id]:t.height,p=a.boundingLayout.getBoundingLayout({x:l,y:c,width:u,height:d,rotationInDegrees:t.rotationInDegrees});o=Math.min(o,p.x),n=Math.max(n,p.x+p.width),i=Math.min(i,p.y),s=Math.max(s,p.y+p.height)}),{left:o,right:n,top:i,bottom:s}}(s,r);r.left[t]=i.layout.x,s.length>0&&(r.width[t]=l.right-l.left,r.height[t]=l.bottom-l.top,r.top[t]=i.layout.y+l.top,r.left[t]=i.layout.x+l.left,e.forEach(s,function(e){r.top[e.id]=e.layout.y-l.top,r.left[e.id]=e.layout.x-l.left}))}),t.registerPatcher("wysiwyg.viewer.components.Group",function(t,r,o,n,i){r.css(t,{width:o.width[t],height:o.height[t],top:o.top[t],left:o.left[t]});var s=a.dataUtils.getChildrenData(n.structure,i.isMobileView());e.forEach(s,function(e){r.css(e.id,{top:o.top[e.id],left:o.left[e.id]})})})}),define("documentServices/layoutPlugins/contentAreaMeasuring",["lodash","warmupUtils","experiment","layout"],function(e,t,a,r){"use strict";function o(a,r,o){var n=o[a],i=t.layoutUtils.getMeasurerForElement(n);i&&e.merge(r,{left:_defineProperty({},a,0),width:_defineProperty({},a,i.offsetWidth),relativeToScreenOverrides:_defineProperty({},a,{x:n.offsetLeft,width:n.offsetWidth})})}r.registerAdditionalMeasureFunction("wysiwyg.viewer.components.StripColumnsContainer",o),r.registerAdditionalMeasureFunction("wysiwyg.viewer.components.StripContainerSlideShow",o),r.registerAdditionalMeasureFunction("wysiwyg.viewer.components.StripContainerSlideShowSlide",o),r.registerAdditionalMeasureFunction("wysiwyg.viewer.components.Column",function(t,a,r,o){var n=r[t],i=n.getBoundingClientRect(),s=i.left,l=i.width,u=n.querySelector("[data-content-area-measurer]");u&&e.merge(a,{left:_defineProperty({},t,Math.floor(u.getBoundingClientRect().left+o.getSiteX())),width:_defineProperty({},t,u.offsetWidth),relativeToScreenOverrides:_defineProperty({},t,{x:s,width:l})})})}),define("documentServices/layoutPlugins/verticalLineMeasuring",["lodash","layout"],function(e,t){"use strict";t.registerAdditionalMeasureFunction("wysiwyg.viewer.components.VerticalLine",function(e,t,a){var r=a[e];t.width[e]=parseInt(r.style.width,10),t.left[e]=parseInt(r.style.left,10)})}),define("documentServices/layoutPlugins/pagePlugins",["lodash","layout","coreUtils"],function(e,t,a){"use strict";t.registerAdditionalMeasureFunction("mobile.core.components.Page",function(e,t,r,o,n){t.pageBottomByComponents[e]=a.layoutUtils.getPageBottomChildEnd(t,r,o,n)+t.containerHeightMargin[e]},"pageBottomPlugin")}),define("documentServices/layoutPlugins/layoutPlugins",["documentServices/layoutPlugins/shapeMeasuring","documentServices/layoutPlugins/textMeasuring","documentServices/layoutPlugins/groupMeasuring","documentServices/layoutPlugins/contentAreaMeasuring","documentServices/layoutPlugins/verticalLineMeasuring","documentServices/layoutPlugins/pagePlugins"],function(e,t){"use strict";return{initialize:function(a){t.initialize(a),e.initialize(a)}}}),define("documentServices/structure/layoutCalcPlugins/popupContainerPositioning",["coreUtils","documentServices/component/componentStructureInfo"],function(e,t){"use strict";return function(a,r,o){var n={width:o.width,height:o.height},i=t.getPropertiesItem(a,r);n.x=e.compAlignmentUtils.getLeft(i,n.width,a.siteAPI.getScreenWidth(),a.siteAPI.getSiteWidth()),"fullWidth"===i.alignmentType&&(n.x=Math.max(n.x,0));var s=a.siteAPI.getSiteMeasureMap();return n.y=e.compAlignmentUtils.getTop(i,n.height,s.innerHeight.screen),n}}),define("documentServices/structure/layoutCalcPlugins/layoutCalcPlugins",["documentServices/structure/layoutCalcPlugins/popupContainerPositioning"],function(e){"use strict";var t={};return t["wysiwyg.viewer.components.PopupContainer"]=e,t}),define("documentServices/structure/utils/layoutConstraintsUtils",["lodash","utils","documentServices/componentsMetaData/componentsMetaData","documentServices/structure/structureUtils","documentServices/structure/layoutCalcPlugins/layoutCalcPlugins","documentServices/component/componentStructureInfo"],function(e,t,a,r,o,n){"use strict";var i="wysiwyg.viewer.components.Group",s={VERTICAL:"vertical",HORIZONTAL:"horizontal"},l={TOP:"top",BOTTOM:"bottom",LEFT:"left",RIGHT:"right"};function u(e,t){var a=e.pointers.getInnerPointer(t,"layout");return e.dal.get(a)}function c(t,a){var o=r.getPositionAndSize(t,a),n=u(t,a);return r.getBoundingLayout(t,e.merge(o,e.pick(n,["rotationInDegrees"])))}function d(a,r,o,n){var i={dockedToEdge:[],nonDockedToEdge:[]},l=r===s.VERTICAL?t.layout.isVerticallyStretched:t.layout.isHorizontallyStretched;return e.forEach(n,function(e){var r=u(a,e),n=c(a,e);l(r)||(t.layout.isDockedToDirection(r,o)?i.dockedToEdge.push(n):i.nonDockedToEdge.push(n))}),i}function p(e,t){return a.getComponentType(e,t)===i}return{addCompMinLayout:function t(o,n,i){var s=a.public.isIgnoreChildrenOnProportionalResize(o,n.component),l=n.children;e.isArray(s)&&(l=r.getChildrenToPreserveProportionsByType(o,a,l,s)),!0===s||e.isEmpty(l)||e.forEach(l,function(e){t(o,e)});var u=n.component,c=function(t,o){var n=a.public.getLayoutLimits(t,o),i=r.getComponentLayout(t,o),s=a.public.isHorizontallyResizable(t,o),l=a.public.isVerticallyResizable(t,o),u=a.public.isProportionallyResizable(t,o),c=e.pick(i,["width","height"]);return(u||s||p(t,o))&&(c.width=n.minWidth),(u||l||p(t,o))&&(c.height=n.minHeight),c}(o,u);s||function(t,a,o){var n=r.getComponentLayout(t,a.component);e.forEach(a.children,function(a){var i=r.getBoundingLayout(t,a.minLayout),s=r.getComponentLayout(t,a.component);if(s=r.getBoundingLayout(t,s),u=n,(l=s).x<0||l.x+l.width>u.width||l.y<0||l.y+l.height>u.height)return o.width=n.width,o.height=n.height,!1;var l,u,c=i.width/(1-a.proportions.x),d=i.height/(1-a.proportions.y);o.width=e.max([c,o.width]),o.height=e.max([d,o.height])})}(o,n,c);!!i&&(c=function(e,t,a,o){var n=r.getComponentLayout(e,a);t=function(e,t){var a,r=(a=e,a.width/a.height),o=t.width/r,n=t.height*r;return o>t.height?t.height=o:t.width=n,t}(n,t);var i=n.height-t.height,s=n.width-t.width;return-1===o.y&&(t.y=n.y+i),-1===o.x&&(t.x=n.x+s),0!==o.x&&0===o.y&&(t.y=n.y+i/2),0!==o.y&&0===o.x&&(t.x=n.x+s/2),t}(o,c,u,i)),c=e.pick(c,["x","y","width","height","rotationInDegrees"]),n.minLayout=c},constrainByChildrenLayout:function(t,a,r,o,n){var i=t.pointers.components.getChildren(a);if(!e.isEmpty(i)){var u=c(t,a),p=e.assign({},u,r);if(!(p.width>=u.width&&p.height>=u.height)){var g=p.width<u.width,f=g&&(p.docked&&r.docked.right||p.x>u.x);g&&!o&&(f?function(t,a,r,o){var n=d(t,s.HORIZONTAL,l.LEFT,o),i=e.map(n.nonDockedToEdge,function(e){return a.width-e.x}),u=e.map(n.dockedToEdge,function(e){return e.x+e.width}),c=e.max(i.concat(u));if(c>a.width)a.x&&(r.x=a.x),r.width=a.width;else if(r.width<c){var p=c-r.width;r.x&&(r.x-=p),r.width+=p}}(t,u,r,i):function(t,a,r,o){var n=d(t,s.HORIZONTAL,l.RIGHT,o),i=e.map(n.nonDockedToEdge,function(e){return e.x+e.width}),u=e.map(n.dockedToEdge,function(e){return a.width-e.x}),c=e.max(i.concat(u));if(c>a.width)r.width=a.width;else if(r.width<c){var p=c-r.width;r.width+=p}}(t,u,r,i));var m=p.height<u.height,y=m&&(p.docked&&r.docked.bottom||p.y>u.y);m&&!n&&(y?function(t,a,r,o){var n=d(t,s.VERTICAL,l.TOP,o),i=e.map(n.nonDockedToEdge,function(e){return a.height-e.y}),u=e.map(n.dockedToEdge,function(e){return e.y+e.height}),c=e.max(i.concat(u));if(c>a.height)a.y&&(r.y=a.y),r.height=a.height;else if(r.height<c){var p=c-r.height;r.y&&(r.y-=p),r.height+=p}}(t,u,r,i):function(t,a,r,o){var n=d(t,s.VERTICAL,l.BOTTOM,o),i=e.map(n.nonDockedToEdge,function(e){return e.y+e.height}),u=e.map(n.dockedToEdge,function(e){return a.height-e.y}),c=e.max(i.concat(u));if(c>a.height)r.height=a.height;else if(r.height<c){var p=c-r.height;r.height+=p}}(t,u,r,i))}}},constrainByDimensionsLimits:function(t,o,n){var i=u(t,o),s=a.public.getLayoutLimits(t,o,n);if(!e.isUndefined(n.width)&&n.width!==i.width){var l=r.ensureWithinLimits(n.width,s.minWidth,s.maxWidth);e.isUndefined(n.x)||n.x===i.x||(n.x-=l-n.width),n.width=l}if(!e.isUndefined(n.height)&&n.height!==i.height){var c=r.ensureWithinLimits(n.height,s.minHeight,s.maxHeight);e.isUndefined(n.y)||n.y===i.y||(n.y-=c-n.height),n.height=c}},constrainByDockingLimits:function(a){t.dockUtils.isHorizontalDockToScreen(a)&&e.forEach(["left","right"],function(t){var r=a.docked[t];e.has(r,"px")&&(r.px=Math.max(r.px,0)),r.vw=Math.max(r.vw,0)})},constrainProportionalResize:function(t,r,o,n,i){if(n){if(i){var s=a.public.getLayoutLimits(t,r.component);o.width=e.min([s.maxWidth,o.width]),o.height=e.min([s.maxHeight,o.height])}u=o,((l=r).minLayout.width>u.width||l.minLayout.height>u.height)&&e.assign(o,r.minLayout),a.public.resizeOnlyProportionally(t,r.component)&&function(e,t,r){var o=a.public.getLayoutLimits(e,t).aspectRatio;if(r.height)r.width=r.height*o;else{if(!r.width)throw new Error("maintainCompAspectRatio must get at least height or width values in the layout parameter");r.height=r.width/o}}(t,r.component,o)}else o.width=e.max([r.minLayout.width,o.width]),o.height=e.max([r.minLayout.height,o.height]);var l,u},constrainBySpecificType:function(t,a,r){var i=n.getType(t,a),s=o[i];if(!s)return r;var l=s(t,a,r);e.assign(r,l)}}}),define("documentServices/smartBoxes/groupingUtils",["documentServices/component/componentStructureInfo"],function(e){"use strict";var t="wysiwyg.viewer.components.Group";function a(a,r){return e.getType(a,r)===t}return{isGroup:a,isGroupedComponent:function(t,r){return a(t,e.getContainer(t,r))},getGroupComponentType:function(){return t}}}),define("documentServices/structure/utils/windowScroll",["lodash"],function(e){"use strict";return{setScrollAndScale:function(t,a,r,o,n,i){var s=t.siteAPI.getSiteAnimationsService(),l=s.sequence(),u=e.isUndefined(i)?"50%":i.toString();return l.add(s.animate("BaseNone","#SITE_ROOT",0,0,{transformOrigin:u+" 0"}),0).add(s.animate("BaseScale","#SITE_ROOT",n,0,{to:{scale:o},clearProps:1===o?"transform, transform-origin":""}),0).add(s.animate("BaseScroll",window,n,0,{x:a,y:r}),0),l.get()},animateScroll:function(t,a,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e.noop,i=t.siteAPI.getSiteAnimationsService(),s=i.sequence();return s.add(i.animate("BaseScroll",window,o,0,{x:a,y:r,callbacks:{onComplete:n}}),0),s.get()},setScroll:function(e,t,a){if(e.siteAPI.isPopupOpened()){var r=window.document.getElementById("POPUPS_ROOT");r.scrollLeft=t,r.scrollTop=a}else window.scrollTo(t,a)},getScroll:function(t){if(t.siteAPI.isPopupOpened()){var a=window.document.getElementById("POPUPS_ROOT");return{x:e.get(a,"scrollLeft",0),y:e.get(a,"scrollTop",0)}}return{x:e.isFinite(window.pageXOffset)?window.pageXOffset:window.scrollX,y:e.isFinite(window.pageYOffset)?window.pageYOffset:window.scrollY}}}}),define("documentServices/structure/utils/layoutValidation",["lodash","utils","documentServices/componentsMetaData/componentsMetaData","documentServices/structure/utils/componentLayout"],function(e,t,a,r){"use strict";var o=["x","y","width","height","rotationInDegrees","scale","fixedPosition","anchors","docked","aspectRatio"];function n(t,a,r,o){e(o).pick(t).forEach(function(e,t){if(!a(e))throw new Error(t+" is not a "+r)})}var i=e.partial(n,["x","y","width","height","rotationInDegrees","scale"],function(e){return!isNaN(e)},"number"),s=e.partial(n,["fixedPosition"],function(e){return"boolean"==typeof e},"boolean"),l=e.partial(n,["docked"],e.isPlainObject,"object"),u=e.partial(n,["anchors"],e.isArray,"array");function c(a){a&&(i(a),s(a),l(a),u(a),function(t){var a=e.omit(t,o);if(!e.isEmpty(a))throw new Error("Properties are not supported in layout:"+e.keys(a))}(a)),e.isUndefined(a.rotationInDegrees)||(a.rotationInDegrees=t.math.parseDegrees(a.rotationInDegrees))}function d(t,a){return e.reduce(a,function(r,o,n){return e.isPlainObject(a[n])?r[n]=d(t,a[n]):e.isEqual(a[n],t[n])||(r[n]=o),r},{})}var p=e.template("The following layout changes were ignored for comp {id: <%= id %>, componentType: <%= componentType %>}, due to failure of layout validations: \n<%= layoutChanges %>"),g={WIDTH:"width",HEIGHT:"height",X:"x",Y:"y",ROTATION:"rotationInDegrees",FIXED_POSITION:"fixedPosition"};function f(e,t,a){return a+" change: "+e[a]+" -> "+t[a]}function m(r,o,n,i){var s=d(i,n),l=[];e.isUndefined(s.width)||a.public.isHorizontallyResizable(r,o)||(delete n.width,l.push(g.WIDTH)),e.isUndefined(s.height)||a.public.isVerticallyResizable(r,o)||(delete n.height,l.push(g.HEIGHT)),e.isUndefined(s.x)||a.public.isHorizontallyMovable(r,o)||(delete n.x,l.push(g.X)),a.public.isVerticallyMovable(r,o)||e.isUndefined(s.y)||a.public.canMoveUp(r,o)&&s.y<i.y||e.isUndefined(s.isFixedPosition)&&(delete n.y,l.push(g.Y)),e.isUndefined(s.rotationInDegrees)||a.public.isRotatable(r,o)||(delete n.rotationInDegrees,l.push(g.ROTATION)),e.isUndefined(s.fixedPosition)||a.public.canBeFixedPosition(r,o)||(delete n.fixedPosition,l.push(g.FIXED_POSITION)),l.length&&function(a,r,o,n,i){var s=e.curry(f)(n,i);t.log.warnVerbose(p({id:r.id,componentType:a.dal.get(a.pointers.getInnerPointer(r,"componentType")),layoutChanges:e(o).map(s).join(", ")}))}(r,o,l,i,s)}return{getValidLayoutToUpdate:function(a,n,i){var s=a.pointers.getInnerPointer(n,"layout"),l=a.dal.get(s),u=e.pick(i,o);!function(e){if(e.docked){if(e.docked.hCenter&&(e.docked.left||e.docked.right))throw new Error("cannot set both hCenter and left OR right");if(e.docked.vCenter&&(e.docked.top||e.docked.bottom))throw new Error("cannot set both vCenter and top OR bottom")}}(i),u.docked&&(u.docked=(p=l.docked,g=i.docked,p?e.merge({},p,g):g)),c(u),m(a,n,u,l);var p,g;var f=d(l,i),y=e.assign({},l,u),_=r.getPositionAndSize(a,n,y);v=y,O=_,(S=f).docked&&(t.layout.isHorizontallyDocked(v)&&(S.docked.hCenter?(delete v.docked.left,delete v.docked.right):(S.docked.left||S.docked.right)&&delete v.docked.hCenter,v.width=O.width),t.layout.isVerticallyDocked(v)&&(S.docked.vCenter?(delete v.docked.top,delete v.docked.bottom):(S.docked.top||S.docked.bottom)&&delete v.docked.vCenter,v.height=O.height));var v,S,O;return function(e){if(t.layout.isDockToScreen(e)&&e.fixedPosition)throw new Error("Dock to screen component cannot be fixed position")}(y),y},validateLayout:function(e,t){c(e.dal.get(e.pointers.getInnerPointer(t,"layout")))}}}),define("documentServices/bi/events.json",[],function(){return{SITE_GAPS_MAP:{eventId:356,params:["above_header","above_page","above_footer"]},AUTO_SAVE_DIFFS_RESTORED:{eventId:623,params:[]},FULL_DOCUMENT_SAVE_ATTEMPTED_AFTER_PARTIAL_FAILURE:{eventId:632,params:["endpoint"]},PETRI_BUG_JSON_ANCHORS:{src:38,endpoint:"editor",eventId:640,params:["label_id"]},DATA_ITEM_REFS_SAVE_DATAFIXER:{src:38,eventId:659,params:{dataType:"dataType",dataItemType:"dataItemType"}},PLATFORM_API_CALL:{endpoint:"platform",src:79,evid:24,params:["app_name","module","function","arguments","pageId"]},SECTION_LAYOUT_MIGRATION_REPARENT:{endpoint:"editor",src:38,evid:753,params:["component_id","z_index_changed","new_container_id"]},SECTION_LAYOUT_MIGRATION_CLOSE_GAP:{endpoint:"editor",src:38,evid:754,params:["gap_size","gap_type","is_closed"]},SECTION_LAYOUT_MIGRATION_RUN:{endpoint:"editor",src:38,evid:757,params:[]},EDITOR_PLATFORM_APPS_LOADED:{endpoint:"platform",src:79,evid:25,params:["app_list","number_of_apps"]}}}),define("documentServices/validation/validators/compPropValidator",["lodash","utils","documentServices/dataModel/dataModel","documentServicesSchemas"],function(e,t,a,r){"use strict";function o(a,o){var n=r.schemas.componentsDefinitionsMap[a];if(!n)throw new Error(a+" has no component definition.");if(n.propertyTypes||n.propertyType||o){var i=n.propertyTypes?n.propertyTypes:[n.propertyType||t.constants.BASE_PROPS_SCHEMA_TYPE];if(!(e.includes(i,"")||e.isString(o)&&e.includes(i,o))){var s=a+" must get a compProps of one of the types ["+i+"]";if(!o)throw new Error(s);if(!e.includes(i,o.type))throw new Error(s+" but got "+o.type);r.services.dataValidators.validateDataBySchema(o,"props")}}}return{validateProperties:o,validateCompProps:function(e,t){var r=e.dal.get(e.pointers.getInnerPointer(t,"componentType")),n=a.getPropertyItemPointer(e,t);o(r,n&&e.dal.get(n))}}}),define("documentServices/mobileConversion/modules/mobileHintsValidator",["lodash","mobileCore","documentServices/dataModel/dataModel","documentServices/componentsMetaData/componentsMetaData","documentServicesSchemas","documentServices/hooks/hooks","documentServices/constants/constants"],function(e,t,a,r,o,n,i){"use strict";var s="data";var l=[{error:"Cannot unhide desktop only component",isValid:function(t,a,o,n){return!1!==e.get(o,"hidden")||!r.public.getMobileConversionConfigByName(t,t.dal.get(a),"desktopOnly",n)}},{error:"Cannot hide not hiddenable component",isValid:function(t,a,o){return!e.get(o,"hidden",!1)||r.public.isHiddenable(t,a)}}],u=[{error:"Unhidden container with children number less than allowed",isValid:function(t,o,n){var i=r.public.getMinimalChildrenNumber(t,o);if(0===i||e.get(n,"hidden",!1))return!0;var s=function(t,r){var o=t.pointers.components.getChildren(r);return e.reject(o,function(r){return e.get(a.getMobileHintsItem(t,r),"hidden",!1)})}(t,o);return e.size(s)>=i}},{error:"Unhidden structuralItem component with hidden parent",isValid:function(t,o,n,i){if(!r.public.getMobileConversionConfigByName(t,t.dal.get(o),"structuralItem",i)||e.get(n,"hidden",!1))return!0;var s=t.pointers.components.getParent(o);return!e.get(a.getMobileHintsItem(t,s),"hidden",!1)}}];function c(t,r,o){var n=o||e.get(t.pointers.full.components.getPageOfComponent(r)||t.pointers.components.getPageOfComponent(r),"id",""),i=a.getMobileHintsItem(t,r);!function(t,a,r,o){var n=e.union(l,u);g(t,a,r,o,n)}(t,r,i,n),d(i)}function d(e){e&&o.services.dataValidators.validateDataBySchema(e,s)}function p(e,t,a,r){g(e,t,a,r,l)}function g(t,a,r,o,n){e.forEach(n,function(e){if(!e.isValid(t,a,r,o))throw new Error(e.error)})}return{validateComponentMobileHints:c,validateMobileHintsBySchema:d,validateMobileHintsOnPages:function(t,a){var r={};if(e.forEach(a,function(a){var o=function(t,a){var r=[],o=t.pointers.components.getPage(a,i.VIEW_MODES.DESKTOP);if(!o)return[];var n=t.pointers.components.getChildrenRecursivelyRightLeftRootIncludingRoot(o);return e.forEach(n,function(e){try{c(t,e,a)}catch(a){r.push({componentId:e.id,componentType:t.dal.get(t.pointers.getInnerPointer(e,"componentType")),error:a.message||a.toString()})}}),r}(t,a);e.isEmpty(o)||e.set(r,a,o)}),!e.isEmpty(r))throw{message:"invalid mobileHints are found",error:r}},initialize:function(){n.unregisterHooks([n.HOOKS.MOBILE_HINTS.UPDATE_BEFORE]),n.registerHook(n.HOOKS.MOBILE_HINTS.UPDATE_BEFORE,p)},testAPI:{beforeUpdateValidators:l,finalStructureValidators:u}}}),define("documentServices/component/componentDeprecation",["lodash","experiment"],function(e,t){"use strict";var a="warning";function r(){var e={"wysiwyg.viewer.components.StripContainer":{deprecated:a,message:"This component will be deprecated"}};return t.isOpen("merge_clipart_and_image")&&(e["wysiwyg.viewer.components.ClipArt"]={deprecated:a,message:"This component will be deprecated"}),e}return{isComponentDeprecated:function(t){return"error"===e.get(r(),[t,"deprecated"])},shouldWarnForDeprecation:function(t){return e.get(r(),[t,"deprecated"])===a},getDeprecationMessage:function(t){return t+"|"+e.get(r(),[t,"message"])}}}),define("documentServices/component/componentValidations",["lodash","documentServices/page/pageData","documentServices/page/popupUtils","documentServices/theme/theme","documentServices/validation/validators/compPropValidator","documentServices/mobileConversion/modules/mobileHintsValidator","documentServices/constants/constants","documentServices/componentsMetaData/componentsMetaData","documentServices/component/componentDeprecation","documentServices/utils/utils","utils","documentServicesSchemas"],function(e,t,a,r,o,n,i,s,l,u,c,d){"use strict";var p=d.schemas.componentsDefinitionsMap,g={COMPONENT_DOES_NOT_EXIST:"component param does not exist",COMPONENT_DOES_NOT_HAVE_TYPE:"component does not have type",INVALID_COMPONENT_STRUCTURE:"invalid component structure",INVALID_CONTAINER_STRUCTURE:"invalid container structure",INVALID_CONTAINER_POINTER:"invalid container pointer",MAXIMUM_CHILDREN_NUMBER_REACHED:"maximum number of child components reached",CANNOT_ADD_COMPONENT_TO_MOBILE_PATH:"cannot add component to mobile path",CANNOT_DELETE_MASTER_PAGE:"cannot delete master page",SITE_MUST_HAVE_AT_LEAST_ONE_PAGE:"site must have at least one page",CANNOT_DELETE_MOBILE_COMPONENT:"cannot delete mobile component",CUSTOM_ID_MUST_BE_STRING:"customId must be a string",COMPONENT_IS_NOT_CONTAINER:"component is not a container",LAYOUT_PARAM_IS_INVALID:"layout param is invalid",LAYOUT_PARAM_IS_NOT_ALLOWED:"layout param is not allowed",LAYOUT_PARAM_MUST_BE_NUMERIC:"layout param must be numeric",LAYOUT_PARAM_MUST_BE_BOOLEAN:"layout param must be boolean",LAYOUT_PARAM_ROTATATION_INVALID_RANGE:"rotationInDegrees must be a valid range (0-360)",LAYOUT_PARAM_CANNOT_BE_NEGATIVE:"layout param cannot be a negative value",CANNOT_DELETE_HEADER_COMPONENT:"cannot delete a header component",CANNOT_DELETE_FOOTER_COMPONENT:"cannot delete a footer component",CANNOT_DELETE_NON_EXISTING_COMPONENT:"cannot delete a non existing component",CANNOT_DELETE_NON_DISPLAYED_COMPONENT:"cannot delete a non displayed component",SKIN_PARAM_MUST_BE_STRING:"skin name param must be a string",CANNOT_SET_BOTH_SKIN_AND_STYLE:"skin cannot be set if style already exists",STYLE_ID_PARAM_MUST_BE_STRING:"style id param must be a string",STYLE_ID_PARAM_DOES_NOT_EXIST:"style id param does not exist and cannot be set",STYLE_ID_PARAM_ALREADY_EXISTS:"style id param already exists and cannot be overridden with custom style",STYLE_PROPERTIES_PARAM_MUST_BE_OBJECT:"style properties param must be an object",COMPONENT_IS_DEPRECATED:"cannot add because component was deprecated"},f=["wysiwyg.viewer.components.mobile.TinyMenu","wysiwyg.common.components.backtotopbutton.viewer.BackToTopButton","wysiwyg.viewer.components.mobile.ExitMobileModeButton","wysiwyg.viewer.components.QuickActionBar","wysiwyg.viewer.components.QuickActionBarItem"],m=["x","y","width","height","scale","rotationInDegrees","fixedPosition","docked","aspectRatio"];function y(e,t,a){return!(!e.dal.isExist(a)&&!e.dal.full.isExist(a))&&!!s.public.isContainableByStructure(e,t,a)}function _(t){return r=t,e.isObject(r)&&r.componentType&&e.includes(e.keys(p),r.componentType)&&(a=t,!!a.skin||!!a.style)&&v(t.componentType,t.data)&&function(e){var t=e.componentType,a=e.props;try{return o.validateProperties(t,a),!0}catch(e){return!1}}(t)&&function(e){try{return n.validateMobileHintsBySchema(e.mobileHints),!0}catch(e){return!1}}(t);var a,r}function v(t,a){var r=p[t];if(e.isObject(a)&&!a.type)return!1;var o=e.get(a,"type",a||"");if("RepeatedData"===o)return v(n=t,(i=a).original)&&e.every(i.overrides,e.partial(v,n));var n,i;return e.includes(r.dataTypes,o)}return{validateComponentToSet:function(t,a,r,o,n,i){if(!e.isUndefined(o)&&(s=o,!e.isString(s)))return{success:!1,error:g.CUSTOM_ID_MUST_BE_STRING};var s;return function(t){return!!_(t)&&(a=function(t){var a=[];return t.children&&!e.isEmpty(t.children)?t.children:(t.components&&!e.isEmpty(t.components)&&(a=a.concat(t.components)),t.mobileComponents&&!e.isEmpty(t.mobileComponents)&&(a=a.concat(t.mobileComponents)),a)}(t),!e.some(a,function(e){return!_(e)}));var a}(r)?i||n&&y(t,r,n)?{success:!0}:{success:!1,error:g.INVALID_CONTAINER_POINTER}:{success:!1,error:g.INVALID_COMPONENT_STRUCTURE}},validateComponentToAdd:function(t,a,r,o,n){if(l.isComponentDeprecated(r.componentType))return{success:!1,error:l.getDeprecationMessage(r.componentType)};if(l.shouldWarnForDeprecation(r.componentType)){if(t.runtimeConfig.shouldThrowOnDeprecation)return{success:!1,error:l.getDeprecationMessage(r.componentType)};c.log.warnDeprecation(l.getDeprecationMessage(r.componentType))}if(t.pointers.components.isMobile(a)&&!e.includes(f,r.componentType))return{success:!1,error:g.CANNOT_ADD_COMPONENT_TO_MOBILE_PATH};if(!y(t,r,o))return{success:!1,error:g.INVALID_CONTAINER_POINTER};if(!function(t,a,r){if(!e.isNumber(r))return!0;var o=t.pointers.components.getChildren(a);return!(!e.isFinite(r)||r<0||r>o.length)}(t,o,n))return{success:!1,error:g.INVALID_CONTAINER_POINTER};if(i=t,u=o,!s.public.allowedToContainMoreChildren(i,u))return{success:!1,error:g.MAXIMUM_CHILDREN_NUMBER_REACHED};var i,u;return{success:!0}},validateComponentToDelete:function(e,r){if("masterPage"===r.id)return{success:!1,error:g.CANNOT_DELETE_MASTER_PAGE};if(!e.dal.isExist(r))return e.dal.full.isExist(r)?{success:!1,error:g.CANNOT_DELETE_NON_DISPLAYED_COMPONENT}:{success:!1,error:g.CANNOT_DELETE_NON_EXISTING_COMPONENT};var o=u.getComponentType(e,r),n=e.dal.get(e.pointers.getInnerPointer(r,"type"))||e.dal.full.get(e.pointers.getInnerPointer(r,"type"));if(!o)return{success:!1,error:g.COMPONENT_DOES_NOT_HAVE_TYPE};if("Page"===n)return a.isPopup(e,r.id)?{success:!0}:(s=e,1===t.getNumberOfPages(s)?{success:!1,error:g.SITE_MUST_HAVE_AT_LEAST_ONE_PAGE}:{success:!0});var s;if((l=o)&&l===i.COMP_TYPES.HEADER)return{success:!1,error:g.CANNOT_DELETE_HEADER_COMPONENT};var l;return o===i.COMP_TYPES.FOOTER?{success:!1,error:g.CANNOT_DELETE_FOOTER_COMPONENT}:{success:!0}},validateLayoutParam:function(t,a){if(!e.includes(m,t))return{success:!1,error:g.LAYOUT_PARAM_IS_NOT_ALLOWED};if("fixedPosition"===t&&e.isBoolean(a))return{success:!0};if("docked"===t)return{success:!0};if(!e.isNumber(a))return{success:!1,error:g.LAYOUT_PARAM_MUST_BE_NUMERIC};var r=e.without(m,"x","y");return e.includes(r,t)&&a<0?{success:!1,error:g.LAYOUT_PARAM_CANNOT_BE_NEGATIVE}:"rotationInDegrees"===t&&a>360?{success:!1,error:g.LAYOUT_PARAM_ROTATATION_INVALID_RANGE}:{success:!0}},validateSetSkinParams:function(t,a,o){return e.isString(o)?r.styles.get(t,function(e,t){var a=null;if(e&&t){var r=e.pointers.getInnerPointer(t,"styleId");a=e.dal.get(r)}return a}(t,a))?{success:!1,error:g.CANNOT_SET_BOTH_SKIN_AND_STYLE}:{success:!0}:{success:!1,error:g.SKIN_PARAM_MUST_BE_STRING}},validateSetStyleIdParams:function(t,a){return e.isString(a)?r.styles.get(t,a)?{success:!0}:{success:!1,error:g.STYLE_ID_PARAM_DOES_NOT_EXIST}:{success:!1,error:g.STYLE_ID_PARAM_MUST_BE_STRING}},validateExistingComponent:function(e,t){return e.dal.isExist(t)?{success:!0}:{success:!1,error:g.COMPONENT_DOES_NOT_EXIST}},validateComponentCustomStyleParams:function(t,a,o,n){function i(t){return!e.isNil(t)}return i(n)&&!e.isString(n)?{success:!1,error:g.STYLE_ID_PARAM_MUST_BE_STRING}:i(n)&&r.styles.get(t,n)?{success:!1,error:g.STYLE_ID_PARAM_ALREADY_EXISTS}:i(a)&&!e.isString(a)?{success:!1,error:g.SKIN_PARAM_MUST_BE_STRING}:!i(o)||e.isObject(o)&&!e.isArray(o)?{success:!0}:{success:!1,error:g.STYLE_PROPERTIES_PARAM_MUST_BE_OBJECT}},ALLOWED_LAYOUT_PARAMS:m,ERRORS:g}}),define("documentServices/component/componentStylesAndSkinsAPI",["lodash","skins","documentServices/anchors/anchors","documentServices/componentsMetaData/metaDataUtils","documentServices/component/componentValidations","documentServices/constants/constants","documentServices/theme/theme","documentServicesSchemas"],function(e,t,a,r,o,n,i,s){"use strict";function l(e,t){var a=null;return e&&t&&(a=e.dal.get(e.pointers.getInnerPointer(t,"styleId"))),a}function u(e,t,a,s){var l=i.styles.get(e,a);l||(a=c(e,a,r.getComponentType(e,t)),l=i.styles.get(e,a));var u=o.validateSetStyleIdParams(e,a);if(!u.success)throw new Error(u.error);t.type===n.VIEW_MODES.DESKTOP&&function(e,t,a){var r=e.pointers.full.components.getMobilePointer(t);if(e.dal.isExist(r)){var o=e.pointers.getInnerPointer(t,"styleId"),n=e.pointers.getInnerPointer(r,"styleId");e.dal.get(o)===e.dal.get(n)&&e.dal.set(n,a)}}(e,t,a),e.dal.set(e.pointers.getInnerPointer(t,"styleId"),a),e.setOperationsQueue.executeAfterCurrentOperationDone(function(){s&&s({styleProperties:i.styles.get(e,a).style.properties}),i.events.onChange.executeListeners({type:"STYLE",values:a})}),d(e,t,l.skin)}function c(t,a,r){var o=s.schemas.componentsDefinitionsMap[r];if(!o)throw new Error("Component of type - "+r+" is not listed in componentsDefinitionsMap");var n=o.styles[a];if(!n)throw new Error("Style id - "+a+" is not a known system style id.");var l=function(t,a,r){return{compId:"",componentClassName:r,pageId:"",styleType:"system",type:"TopLevelStyle",skin:a,style:{groups:{},properties:(o=t,n=a,e.mapValues(i.skins.getSkinDefinition(o,n),"defaultValue")),propertiesSource:{}}};var o,n}(t,n,r);return i.styles.createAndAddStyleItem(t,l,a)}function d(e,t,a){var r=e.pointers.getInnerPointer(t,"skin");e.dal.set(r,a)}function p(e,t,a){var r=o.validateExistingComponent(e,t);if(!r.success)throw new Error(r.error);var n=l(e,t);i.styles.update(e,n,a),d(e,t,a.skin)}function g(e,t){var a=null;if(t){var r=m(e,t);a=r&&r.skin?r.skin:e.dal.get(e.pointers.getInnerPointer(t,"skin"))}return a}function f(e,a){var r=g(e,a);return t.params.getSkinDefaultParams(r)}function m(e,t){var a=l(e,t);return a?i.styles.get(e,a):null}return{style:{setId:u,resetToDesktop:function(e,t){if(t.type!==n.VIEW_MODES.MOBILE)throw new Error("Expected MOBILE pointer");var a=e.pointers.full.components.getDesktopPointer(t),r=e.pointers.getInnerPointer(t,"styleId"),o=e.pointers.getInnerPointer(a,"styleId"),i=e.dal.get(o);e.dal.set(r,i)},getId:l,get:m,setCustom:function(t,a,n,s,c){var d=o.validateComponentCustomStyleParams(t,s,c);if(!d.success)throw new Error(d.error);if(!t.dal.isExist(n))throw new Error("component param does not exist");var p=n.id,f=r.getComponentType(t,n),m=void 0,y=void 0;if(c)v=m=c,y=e.mapValues(v,function(t){return e.isNumber(t)||e.isBoolean(t)||e.isString(t)&&(e.includes(t,"#")||e.includes(t,"rgb"))?"value":/^(font|color)_[0-9]+$/.test(t)?"theme":"value"});else if(s)m={},y={};else{var _=i.styles.get(t,l(t,n));m=e.get(_,"style.properties",{}),y=e.get(_,"style.propertiesSource",{})}var v,S={id:a,compId:p,componentClassName:f,pageId:"",styleType:"custom",type:"TopLevelStyle",skin:s||g(t,n),style:{groups:{},properties:m,propertiesSource:y}};i.styles.update(t,a,S),u(t,n,a)},update:function(e,t,r){p(e,t,r),a.updateAnchors(e,t)},updateAndAdjustLayout:p,createSystemStyle:c},skin:{set:function(e,t,a){var r=o.validateSetSkinParams(e,t,a);if(!r.success)throw new Error(r.error);d(e,t,a)},get:g,getComponentSkinExports:function(e,a){var r=g(e,a);return t.params.getSkinExports(r)},getComponentSkinDefaults:f,getCompSkinParamValue:function(t,a,r){var o=m(t,a).style.properties||{},n=f(t,a);return e.isArray(n[r])&&1===n[r].length?o[n[r]]:n[r]}}}}),define("documentServices/structure/structure",["lodash","utils","documentServices/modes/modesUtils","experiment","documentServices/anchors/anchors","documentServices/componentsMetaData/componentsMetaData","documentServices/component/componentStructureInfo","documentServices/component/sospModes","documentServices/component/componentModes","documentServices/structure/fixedComponentMeasuring","documentServices/structure/structureUtils","documentServices/constants/constants","documentServices/structure/relativeToScreenPlugins/relativeToScreenPlugins","documentServices/dataModel/dataModel","documentServices/layoutPlugins/layoutPlugins","documentServices/structure/utils/layoutConstraintsUtils","documentServices/hooks/hooks","documentServices/documentMode/documentModeInfo","documentServices/smartBoxes/groupingUtils","documentServices/structure/utils/windowScroll","documentServices/structure/utils/componentLayout","documentServices/structure/utils/layoutValidation","documentServices/structure/siteGapMap","documentServices/bi/events.json","documentServices/page/popupUtils","documentServices/actionsAndBehaviors/actionsAndBehaviors","documentServices/component/componentStylesAndSkinsAPI","documentServicesSchemas"],function(e,t,a,r,o,n,i,s,l,u,c,d,p,g,f,m,y,_,v,S,O,h,A,E,C,P,R,I){"use strict";var D=I.schemas.dataSchemas,T=I.schemas.propertiesSchemas,w=I.schemas.designSchemas,b=I.schemas.behaviorsSchemas,L=I.schemas.connectionsSchemas,M=I.schemas.mobileHintsSchemas,B=I.schemas.styleSchemas,V=["x","y","width","height","rotationInDegrees","scale","fixedPosition","aspectRatio"],x=["bounding","anchors"],F="ANY",k={x:F,y:F,width:F,height:F,anchors:F,bounding:F,rotationInDegrees:0,scale:1,fixedPosition:!1},H={"wysiwyg.viewer.components.StripColumnsContainer":!0,"wysiwyg.viewer.components.Column":!0},N={mobileHints:M,data:D,props:T,design:w,behaviors:b,connections:L,style:B};function U(t,a,r){var o=t.pointers.components.getParent(a);if(!t.pointers.components.isPage(o)){var n=i.getPage(t,a);n=i.getContainerToAddComponentTo(t,n);var s=r?function(t,a,r){var o=Ae(t,a),n=Ae(t,r),i=e.pick(o,["x","y"]);return i.y-=n.y,i}(t,a,n):null;de(t,a,n),r&&j(t,a,s)}}function G(a,r,o){var n=a.pointers.getInnerPointer(r,"layout");o=o||a.dal.get(n);var i=c.getPositionAndSize(a,r,e.omit(o,"aspectRatio")),s=t.layout.calcAspectRatio(i.width,i.height),l=a.pointers.getInnerPointer(n,"aspectRatio");a.dal.set(l,s)}function W(e,a){var r=e.pointers.getInnerPointer(a,"layout"),o=e.dal.get(r);return t.layout.isAspectRatioOn(o)}var X=function(e){return e.dal.get(e.pointers.general.getRenderFlag("shouldKeepChildrenInPlace"))},Z=function(e){return e.dal.get(e.pointers.general.getRenderFlag("preserveCompLayoutOnReparent"))};function z(t,a,r,o,s){var l=t.pointers.getInnerPointer(a,"layout"),u=t.dal.get(l),d=i.getType(t,a),p=function(e){var t=e?Q:j;return function(e,a,r){t(e,a,r,!0)}}(o);y.executeHook(y.HOOKS.LAYOUT.UPDATE_BEFORE,d,[t,a,r,p,s]);var g=h.getValidLayoutToUpdate(t,a,r);if(m.constrainByDimensionsLimits(t,a,g),m.constrainByDockingLimits(g),n.public.isContainer(t,a)&&n.public.isEnforcingContainerChildLimitations(t,a)){var f=n.public.isEnforcingContainerChildLimitationsByWidth(t,a),_=n.public.isEnforcingContainerChildLimitationsByHeight(t,a);m.constrainByChildrenLayout(t,a,g,!f,!_)}m.constrainBySpecificType(t,a,g);var v=c.getPositionAndSize(t,a);if(t.dal.set(l,g),e.has(g,"aspectRatio")&&G(t,a,g),X(t)){var S=c.getPositionAndSize(t,a),O=(P=v,R=g,R.width!==P.width&&R.x!==P.x),A=(E=v,C=g,C.height!==E.height&&C.y!==E.y);(O||A)&&function(t,a,r,o){var n=t.pointers.components.getChildren(a),i=(o.x||0)-(r.x||0),s=(o.y||0)-(r.y||0);e.forEach(n,function(e){var a=t.pointers.getInnerPointer(e,"layout"),r=t.dal.get(a);c.isHorizontallyDocked(r)||(r.x-=i),c.isVerticallyDocked(r)||(r.y-=s),t.dal.merge(a,r)})}(t,a,v,S)}var E,C,P,R;y.executeHook(y.HOOKS.LAYOUT.UPDATE_AFTER,d,[t,a,g,p,s,u])}function Y(t,a,r){if(_e(t,a)){var o=O.applyPositionAndSizeOnCurrentLayoutSchema(t,a,r);return e.assign(o,r)}return r}function K(e,a){if(e.siteAPI.getLayoutMechanism()===t.constants.LAYOUT_MECHANISMS.MESH&&e.dal.set(e.pointers.layoutAdjustment.getLayoutAdjustmentPointer(),{id:null}),v.isGroupedComponent(e,a)){var r=i.getContainer(e,a);o.updateAnchors(e,a,r)}else o.updateAnchors(e,a)}function J(t,a,r,o,n){var i,s=(i=r,e.omit(i,x));e.isEmpty(s)||(!function(t){var a=e.omit(t,V);if(!e.isEmpty(a))throw new Error("updateCompLayout: new layout properties are not supported")}(s),z(t,a,Y(t,a,s),o,n))}function j(e,t,a,r){J(e,t,a,!1,r),K(e,t)}function Q(e,a,r,n){e.dal.set(e.pointers.layoutAdjustment.getLayoutAdjustmentPointer(),a),J(e,a,r,!0,n),e.siteAPI.getLayoutMechanism()===t.constants.LAYOUT_MECHANISMS.ANCHORS&&e.setOperationsQueue.executeAfterCurrentOperationDone(function(){o.updateAnchorsForCompChildren(e,a)})}function q(e,a){var r=t.displayedOnlyStructureUtil.isDisplayedComponent(a.id),o=t.displayedOnlyStructureUtil.isDisplayedComponent(e.id);return!r&&o}function $(e,a){var r=t.displayedOnlyStructureUtil.isDisplayedComponent(a.id),o=t.displayedOnlyStructureUtil.isDisplayedComponent(e.id);return r&&!o}function ee(e){return!t.displayedOnlyStructureUtil.isDisplayedComponent(e.id)}function te(e,a,r){var o=t.displayedOnlyStructureUtil.isDisplayedComponent(r.id),n=t.displayedOnlyStructureUtil.isDisplayedComponent(a.id);if(o&&n){var s=i.getAncestorByPredicate(e,a,ee),l=i.getAncestorByPredicate(e,r,ee);return!e.pointers.isSamePointer(s,l)}return!1}function ae(e,t,a){var r=e.pointers.components.getParent(t);return e.pointers.components.isPage(r)&&e.pointers.components.isMasterPage(a)||e.pointers.components.isPage(a)&&e.pointers.components.isMasterPage(r)}function re(t,a,r){var o=l.getComponentModes(t,a);if(!o||0===o.length){var n=function(t,a){var r=P.getComponentBehaviors(t,a),o=["modeChange","modeIn","modeOut"];return e.filter(r,function(t){return e.includes(o,t.action)})}(t,r);e.forEach(n,function(e){P.removeComponentSingleBehavior(t,r,e.name,e.action)})}var i=t.pointers.full.components.getPageOfComponent(r),s=t.pointers.full.components.getPageOfComponent(a);e.isEqual(i,s)||function(t,a){var r=[a];for(;!e.isEmpty(r);){var o=r.pop();oe(t,o);var n=t.pointers.full.components.getChildren(o);r=r.concat(n)}}(t,r)}function oe(t,a){var r=l.getComponentModes(t,a);e.forEach(r,function(e){t.siteAPI.deactivateMode(a,e.modeId)})}function ne(e,t){return Boolean(s.getShowOnSomePagesRoot(e,t))}function ie(e){var t=e.siteAPI.getSiteWidth(),a=e.siteAPI.getSiteMeasureMap();return a.clientWidth>t?.5*(a.clientWidth-t):0}function se(e,t,a){if(!(Z(e)||pe(e,t)&&ae(e,t,a))){var r=Oe(e,t);r||De(e,t);var o=e.pointers.getInnerPointer(t,"layout"),n=Re(e,t,!0),i=Re(e,a,!0),s={x:n.x-i.x,y:n.y-i.y};r&&delete s.x,e.dal.merge(o,s)}}function le(t,a){var r=t.pointers.components.getAllDisplayedOnlyComponents(a);e.forEach(r,function(e){g.deleteDataItem(t,e),g.deleteDesignItem(t,e)})}function ue(a,r,o,n,i){var s=[r].concat(i);e.forEach(s,function(r){!function(a,r,o,n){var i=a.dal.get(r),s=i.dataQuery&&t.displayedOnlyStructureUtil.getOriginalId(i.dataQuery.replace("#","")),l=i.designQuery&&t.displayedOnlyStructureUtil.getOriginalId(i.designQuery.replace("#","")),u=a.pointers.components.getAllDisplayedOnlyComponents(o),c=s&&g.getDataItemById(a,s,n,!0),d=l&&g.getDesignItemById(a,l,n,!0);(c||d)&&e.forEach(u,function(e){var r=t.displayedOnlyStructureUtil.getItemId(e.id);if(c){var o=t.displayedOnlyStructureUtil.getUniqueDisplayedId(s.replace("#",""),r);g.addSerializedDataItemToPage(a,n,c,o)}if(d){var i=t.displayedOnlyStructureUtil.getUniqueDisplayedId(l.replace("#",""),r);g.addSerializedDesignItemToPage(a,n,d,i)}})}(a,r,o,n)})}function ce(e,a,r,o){if(r.dataQuery){var n=g.getDataItem(e,a,!0),i=t.displayedOnlyStructureUtil.getOriginalId(r.dataQuery).replace("#",""),s=e.pointers.data.getDataItem(i,o.id);g.removeDataItemRecursively(e,s),g.addSerializedDataItemToPage(e,o.id,n,i)}if(r.designQuery){var l=g.getDesignItem(e,a,!0),u=t.displayedOnlyStructureUtil.getOriginalId(r.designQuery).replace("#",""),c=e.pointers.data.getDesignItem(u,o.id);g.removeDesignItemRecursively(e,c),g.addSerializedDataItemToPage(e,o.id,l,u)}}function de(o,n,i,s,l){var u=l||n,d=o.pointers.components.getPageOfComponent(n),p=o.pointers.components.getPageOfComponent(i);d.id!==p.id&&function a(o,n,i,s){var l=t.constants.DATA_TYPES;var u=r.isOpen("moveCustomStyleFromMasterPage")?t.constants.COMP_DATA_QUERY_KEYS_WITH_STYLE:t.constants.COMP_DATA_QUERY_KEYS;function d(a,r){var n=u[r],l=r,d=o.pointers.getInnerPointer(a,n);if(n&&o.dal.full.isExist(d)){var p=(t.displayedOnlyStructureUtil.isDisplayedComponent(d.id)?o.dal.get(d):o.dal.full.get(d)).replace("#",""),f=o.pointers.data.getItem(l,p,s.id),m=N[r];!function t(a,r,o,n,i){var s=o&&a.dal.full.get(o);if(s&&c.canMoveDataItemToAnotherPage(s,i)){var l=a.pointers.data.getPageIdOfData(o);g.executeForDataItemRefs(r,s,function(o){if(e.isString(o)){var s=a.pointers.data.getItem(i,o.replace("#",""),l);t(a,r,s,n,i)}}),a.dal.full.remove(o);var u=a.pointers.data.getItem(i,o.id,n);a.dal.full.set(u,s)}}(o,m,f,i.id,l)}}e.forEach(l,function(e){d(n,e)});!function(){var t=o.pointers.componentStructure.getModesOverrides(n);if(t&&o.dal.full.isExist(t)){var a=o.dal.full.get(t);e.forEach(a,function(e,a){var r=o.pointers.getInnerPointer(t,a);d(r,l.design),d(r,l.prop)})}}();var p=o.pointers.full.components.getChildren(n);var f=o.pointers.components.getChildren(n);var m=e.unionBy(p,f,function(e){return e.id});e.forEach(m,function(e){a(o,e,i,s)})}(o,n,p,d);var f=o.pointers.components.getChildrenRecursively(n),m=o.dal.full.get(n),y=o.dal.get(n),_=q(n,i),v=$(n,i),S=te(o,n,i);if(S?(ce(o,n,y,p),le(o,n),ue(o,n,i,p.id,f)):_?(ce(o,n,y,p),le(o,n)):v&&ue(o,n,i,p.id,f),o.dal.full.remove(n),_||v||S){var O=o.pointers.full.components.getMobilePointer(n);o.dal.full.isExist(O)&&o.dal.full.remove(O)}var h=o.pointers.full.components.getChildrenContainer(i),A=o.pointers.getOriginalPointerFromInner(h),E=t.displayedOnlyStructureUtil.getOriginalId(u.id);y=t.displayedOnlyStructureUtil.getOriginalStructure(y);var C=a.adjustModesToNewContainer(o.pointers,o.dal.fullJsonDal,o.dal.displayedJsonDal,A,e.assign(m,e.omit(y,["components","modes","parent","id"]),{id:E}));o.dal.full.push(h,C,u,s)}function pe(e,t){var a=e.pointers.getInnerPointer(t,["layout","fixedPosition"]);return e.dal.get(a)}var ge={"wysiwyg.viewer.components.HeaderContainer":!0,"wysiwyg.viewer.components.FooterContainer":!0,"wysiwyg.viewer.components.mobile.TinyMenu":!0};function fe(e,t){if(!pe(e,t))return!1;var a=e.pointers.general.getRenderFlag("renderFixedPositionContainers");if(e.dal.get(a))return!0;var r=i.getType(e,t);return!ge[r]}function me(e,t){var a=t;do{if(!(a=e.pointers.components.getParent(a)))return!1}while(!fe(e,a));return!0}function ye(e,t){return fe(e,t)||me(e,t)}function _e(e,t){var a=e.pointers.getInnerPointer(t,["layout","docked"]);return e.dal.get(a)}function ve(e,t){return{x:e.x+t.x,y:e.y+t.y}}function Se(t,a){return t.pointers.components.isPage(a)?{x:0,y:0}:e.pick(c.getPositionAndSize(t,a),["x","y"])}function Oe(e,a){return t.dockUtils.isHorizontalDockToScreen(e.dal.get(e.pointers.getInnerPointer(a,["layout"])))}function he(e,t){if(fe(e,t))return function(e,t){var a=Se(e,t);return"MOBILE"===_.getViewMode(e)?a:(a.x-=ie(e),a)}(e,t);var a=e.pointers.components.getParent(t),r=Se(e,t);if(a){return ve(r,he(e,a))}if(!e.pointers.components.isInMasterPage(t)){return ve(r,function(e,t,a){var r=e.pointers.components.getPagesContainer(t);return{x:Ie(e,r,"x"),y:C.isPopup(e,a)?0:Ie(e,r,"y")}}(e,e.pointers.components.getViewMode(t),t.id))}return r}function Ae(t,a){var r=he(t,a),o=t.dal.get(t.pointers.getInnerPointer(a,"layout")),n=c.getPositionAndSize(t,a,o);o=e.defaults(o,n);var i=e.assign(o,r);return i.bounding=c.getBoundingLayout(t,i),i}function Ee(t,a,r){var o=t.pointers.getInnerPointer(a,"layout"),n=t.dal.get(o),i=t.siteAPI.getScreenSize(),s=t.siteAPI.getSiteMeasureMap(),l=function(e,t){var a=e.pointers.getInnerPointer(t,"layout");return{data:g.getDataItem(e,t),props:g.getPropertiesItem(e,t),layout:e.dal.get(a)}}(t,a),c=u.getFixedComponentMeasurements(r,l,i,s.siteMarginBottom);d=c,p=i.width,f=i.height,m=s.siteMarginBottom,c={y:e.isNumber(d.top)?d.top:f-d.height-m,x:e.isNumber(d.left)?d.left:p-d.width};var d,p,f,m;return e.assign(n,c)}var Ce=function e(t,a){return!!a&&(we(t,a)||e(t,t.pointers.components.getParent(a)))};function Pe(t,a,r){var o=void 0,n=i.getType(t,a),s=u.getMeasuringByType(n);if(s)o=Ee(t,a,s);else if(o=Ae(t,a),Ce(t,a)||(o.x+=ie(t)),!r){var l=t.siteAPI.getSiteMeasureMap(),d=e.get(l,["relativeToScreenOverrides",a.id]);d&&e.assign(o,d);var f=p.getPlugin(t,a);if(f){var m=g.getPropertiesItem(t,a),y=R.skin.getComponentSkinExports(t,a);e.assign(o,f(t.siteAPI,o,m,a,y))}}return o.bounding=c.getBoundingLayout(t,o),o}function Re(e,t,a){var r=Pe(e,t,a);if(!ye(e,t)){var o=S.getScroll(e).y;r.y-=o,r.bounding.y-=o}return r}function Ie(e,t,a){var r=e.pointers.getInnerPointer(t,["layout",a]);return e.dal.get(r)||0}function De(t,a){if(_e(t,a)){var r=O.getPositionAndSize(t,a),o=t.pointers.getInnerPointer(a,"layout"),n=t.dal.get(o);e.assign(n,r),delete n.docked,t.dal.set(o,n)}}function Te(e,t,a){var r=e.pointers.getInnerPointer(t,"layout"),o=e.dal.get(r),n=h.getValidLayoutToUpdate(e,t,{docked:a}),s=i.getType(e,t);y.executeHook(y.HOOKS.LAYOUT.UPDATE_BEFORE,s,[e,t,n,j]),m.constrainByDockingLimits(n),e.dal.set(r,n),W(e,t)&&G(e,t),y.executeHook(y.HOOKS.LAYOUT.UPDATE_AFTER,s,[e,t,n,j,!1,o]),K(e,t)}function we(e,a){return t.dockUtils.isHorizontallyStretched(e.dal.get(e.pointers.getInnerPointer(a,["layout"])))}return{initialize:function(t){f.initialize(t);var a=A.createInitialGapMap(t);e.some(a,function(e){return e>0})&&t.siteAPI.reportBI(E.SITE_GAPS_MAP,{above_header:a.aboveHeader,above_page:a.abovePagesContainer,above_footer:a.aboveFooter})},getDockedStyle:function(e,a){return t.dockUtils.applyDockedStyleWithMargins(a,{width:a.width,height:a.height},e.siteAPI.getPageMargins(),e.siteAPI.getScreenWidth(),e.siteAPI.getSiteWidth(),e.siteAPI.getSiteX())},unDock:function(e,t){De(e,t),K(e,t)},updateDock:Te,setDock:function(e,t,a){De(e,t),Te(e,t,a)},getDock:function(e,t){var a=e.pointers.getInnerPointer(t,["layout","docked"]);return e.dal.get(a)},isHorizontallyStretchedToScreen:Oe,isHorizontallyStretchedToScreenByStructure:function(e,a){return t.dockUtils.isHorizontalDockToScreen(a.layout)},getPositionAndSize:c.getPositionAndSize,updateCompLayout:j,getProportionStructure:function(t,a,r){var o=function t(a,r){var o,n,i=a.pointers.components.getChildren(r),s=a.pointers.components.getParent(r),l=c.getComponentLayout(a,s),u=c.getComponentLayout(a,r);return{component:r,proportions:(o=u,n=l,{x:o.x/n.width,y:o.y/n.height,width:o.width/n.width,height:o.height/n.height}),children:e.map(i,function(e){return t(a,e)})}}(t,a);return m.addCompMinLayout(t,o,r),o},updateCompLayoutAndAdjustLayout:Q,updateAndPreserveProportions:function t(a,r,o,s){var l=n.public.isIgnoreChildrenOnProportionalResize(a,o.component),u=n.public.enforceMaxDimensionsOnProportionalResize(a,o.component),d=o.children;m.constrainProportionalResize(a,o,r,s,u),e.isArray(l)&&(d=c.getChildrenToPreserveProportionsByType(a,n,d,l)),!0===l||e.isEmpty(d)||e.forEach(d,function(o){var n=function(t,a){var r={x:t.width*a.x,y:t.height*a.y,width:t.width*a.width,height:t.height*a.height};return r=e(r).pickBy(e.isFinite).mapValues(Math.round).value()}(r,o.proportions);t(a,n,o,!1)}),r=e.pick(r,["x","y","width","height"]),function(e,t,a){var r=e.pointers.getInnerPointer(t,"layout"),o=e.dal.get(r);a=Y(e,t,a);var n=i.getType(e,t);y.executeHook(y.HOOKS.LAYOUT.UPDATE_BEFORE,n,[e,t,a]);var s=h.getValidLayoutToUpdate(e,t,a);e.dal.set(r,s),y.executeHook(y.HOOKS.LAYOUT.UPDATE_AFTER,n,[e,t,s,j,!1,o])}(a,o.component,r),K(a,o.component)},setContainer:function(e,t,a,r){!function(e,t,a){if(!e.dal.isExist(t)||!e.dal.isExist(a))throw new Error("invalid component ref or new parent container ref");if(!n.public.isContainable(e,t,a))throw new Error("component isn't containable in container: "+a.id);if(r=e,o=a,!n.public.allowedToContainMoreChildren(r,o))throw new Error("maximum number of child components reached");var r,o}(e,a,r);var s=i.getContainerToAddComponentTo(e,r);se(e,a,s),function(e,t,a){if(pe(e,t)&&!ae(e,t,a)){var r=e.pointers.getInnerPointer(t,"layout.fixedPosition");e.dal.set(r,!1)}}(e,a,s);var l=e.pointers.components.getParent(a),u=i.getType(e,a);return y.executeHook(y.HOOKS.CHANGE_PARENT.BEFORE,u,[e,a,r]),re(e,r,a),de(e,a,s,void 0,t),y.executeHook(y.HOOKS.CHANGE_PARENT.AFTER,u,[e,a,r]),o.updateAnchors(e,a,l),t},getNewComponentPointerAfterReparent:function(a,r,o){var n=e.clone(r);if(te(a,r,o)){var i=t.displayedOnlyStructureUtil.getOriginalId(r.id),s=t.displayedOnlyStructureUtil.getItemId(o.id);n.id=t.displayedOnlyStructureUtil.getUniqueDisplayedId(i,s)}else if(q(r,o))n.id=t.displayedOnlyStructureUtil.getOriginalId(r.id);else if($(r,o)){var l=t.displayedOnlyStructureUtil.getItemId(o.id);n.id=t.displayedOnlyStructureUtil.getUniqueDisplayedId(r.id,l)}var u=a.pointers.components.getViewMode(o);return a.pointers.components.getUnattached(n.id,u)},isShowOnAllPages:function(e,t){return e.pointers.components.isInMasterPage(t)&&!ne(e,t)},isShowOnSomePages:ne,getCompLayoutRelativeToStructure:Ae,getCompLayoutRelativeToScreen:Pe,getCompLayoutRelativeToScreenConsideringScroll:Re,addCompToContainer:de,isFixedPosition:pe,isAncestorFixedPosition:function(e,t){var a=t;do{if(!(a=e.pointers.components.getParent(a)))return!1}while(!pe(e,a));return!0},isRenderedInFixedPosition:fe,isAncestorRenderedInFixedPosition:me,isShowOnFixedPosition:ye,isDocked:_e,isDockedToScreen:function(e,a){return t.layout.isDockToScreen(e.dal.get(e.pointers.getInnerPointer(a,["layout"])))},isRotated:function(e,t){var a=e.pointers.getInnerPointer(t,["layout","rotationInDegrees"]);return 0!==e.dal.get(a)},getDeprecatedMinDimensions:function(){return{width:0,height:0}},getSiteHeight:function(e){var a=e.siteAPI.getSiteMeasureMap();if(a){var r=e.siteAPI.getCurrentPopupId();if(r)return a.height[r];var o=e.pointers.general.getRenderFlag("extraSiteHeight");return a.height[t.siteConstants.MASTER_PAGE_ID]+(e.dal.get(o)||0)}return 0},getSiteWidth:function(e){return e.siteAPI.getSiteWidth()},setScroll:S.setScroll,isScrollingEnabled:function(e){var t=e.siteAPI.getSiteAspect("siteScrollingBlocker");return!t||!t.isSiteScrollingBlocked()},getScroll:S.getScroll,setScrollAndScale:function(e,t,a,r,o,n){var i=e.pointers.general.getRenderFlag("siteScale");e.dal.set(i,r),S.setScrollAndScale(e,t,a,r,o,n)},animateScroll:S.animateScroll,updateFixedPosition:function(t,a,r){var o=t.pointers.getInnerPointer(a,"layout"),n=t.dal.get(o);r!==n.fixedPosition&&(function(t,a,r,o){var n={fixedPosition:r};if(r){var i=Pe(t,a);e.assign(n,e.pick(i,["x","y"])),n.y-=S.getScroll(t).y}else{var s=Pe(t,t.pointers.components.getParent(a),!0);e.assign(n,{y:o.y-s.y+S.getScroll(t).y,x:o.x-s.x})}j(t,a,n)}(t,a,r,n),r&&U(t,a))},reparentComponentToPage:U,getEffectiveTextDimensions:function(e,t){var a=e.pointers.general.getTextRuntimeOverallBorders(),r=e.pointers.getInnerPointer(a,t.id);if(r)return e.dal.get(r)},updateAspectRatio:G,removeAspectRatio:function(t,a){var r=t.pointers.getInnerPointer(a,"layout"),o=t.dal.get(r);e.isUndefined(o.aspectRatio)||(delete o.aspectRatio,t.dal.set(r,o))},getSiteX:ie,isAspectRatioOn:W,shouldUpdateSingleComp:function(e,t){var a=n.getComponentType(e,t);return!H[a]},adjustCompLayoutToNewContainer:se,isHorizontallyStretched:we,isVerticallyStretched:function(e,a){return t.dockUtils.isVerticallyStretched(e.dal.get(e.pointers.getInnerPointer(a,["layout"])))},isSimpleLayout:function(t){if(!t)return!0;var a=!0;return e.forOwn(t,function(t,r){var o=k[r];if(e.isUndefined(o)||o!==F&&t!=o)return a=!1,!1}),a},migrateToMeshLayout:function(a){var r=a.pointers.getInnerPointer(a.pointers.data.getDataItemFromMaster("masterPage"),"layoutSettings"),o=a.dal.get(r);a.dal.set(r,e.assign({},o,{mechanism:t.constants.LAYOUT_MECHANISMS.MESH}))}}}),define("documentServices/documentMode/documentMode",["lodash","documentServices/documentMode/documentModeInfo","documentServices/constants/constants","documentServices/hooks/hooks","utils","experiment"],function(e,t,a,r,o,n){"use strict";function i(e,t,a){var r=e.pointers.general.getRenderFlag(t);e.dal.set(r,a)}function s(e,t){var a=e.pointers.general.getRenderFlag(t);return e.dal.get(a)}function l(e,t,a){!function(e){if("boolean"!=typeof e)throw new Error("param "+e+" is not valid. Should be boolean")}(a),a?e.siteAPI.enableAction(t):e.siteAPI.disableAction(t)}function u(e){e.siteAPI.resetRuntimeData()}return{isMobileView:t.isMobileView,getViewMode:t.getViewMode,setViewMode:function(o,n){var i=e.values(a.VIEW_MODES);if(!e.includes(i,n))throw new Error("view mode not valid. valid viewModes are: "+i);if(t.getViewMode(o)!==n){var s=n===a.VIEW_MODES.MOBILE;s&&r.executeHook(r.HOOKS.SWITCH_VIEW_MODE.MOBILE),u(o),o.siteAPI.setMobileView(s)}},runtime:{reset:u},setComponentVisibility:function(e,t,a){var r=s(e,"componentVisibility")||{};r[t]=a,i(e,"componentVisibility",r)},setComponentViewMode:function(e,t){i(e,"componentViewMode",t)},enablePlaying:function(e,t){i(e,"isPlayingAllowed",t)},enablePageProtection:function(e,t){i(e,"isPageProtectionEnabled",t)},enableZoom:function(e,t){i(e,"isZoomAllowed",t)},enableTransFormScaleOnSite:function(e,t){i(e,"siteTransformScale",t)},getSiteTransformScale:function(e){var t=e.pointers.general.getRenderFlag("siteTransformScale");return e.dal.get(t)},enableSocialInteraction:function(e,t){i(e,"isSocialInteractionAllowed",t)},enableExternalNavigation:function(e,t){i(e,"isExternalNavigationAllowed",t)},enableBackToTopButton:function(e,t){i(e,"isBackToTopButtonAllowed",t)},enableWixAds:function(e,t){i(e,"isWixAdsAllowed",t)},enableSlideShowGalleryClick:function(e,t){i(e,"isSlideShowGalleryClickAllowed",t)},enableShouldUpdateJsonFromMeasureMap:function(e,t){i(e,"shouldUpdateJsonFromMeasureMap",t)},enableTinyMenuOpening:function(e,t){i(e,"isTinyMenuOpenAllowed",t)},enableResetGalleryToOriginalState:function(e,t){i(e,"shouldResetGalleryToOriginalState",t)},enableResetComponent:function(e,t){i(e,"shouldResetComponent",t)},allowSiteMembersDialogsOpening:function(e,t){i(e,"isSiteMembersDialogsOpenAllowed",t)},resetBehaviorsRegistration:function(e,t){t&&e.siteAPI.resetBehaviorsRegistration()},enableAction:l,enablePageTransitions:function(e,t){l(e,"pageTransition",t)},enableBgVideoAutoplay:function(e,t,a){t?e.siteAPI.bgVideo.enableVideoPlayback(a):e.siteAPI.bgVideo.disableVideoPlayback(a)},enableRenderFixedPositionContainers:function(e,t){i(e,"renderFixedPositionContainers",t)},setOnboardingViewportMode:function(e,t){i(e,"onboardingViewportMode",t)},enableRenderFixedPositionBackgrounds:function(e,t){i(e,"renderFixedPositionBackgrounds",t)},setExtraSiteHeight:function(e,t){i(e,"extraSiteHeight",t)},allowSiteOverflow:function(e,t){i(e,"allowSiteOverflow",t)},allowShowingFixedComponents:function(e,t){i(e,"allowShowingFixedComponents",t)},showHiddenComponents:function(e,t){i(e,"showHiddenComponents",t)},isHiddenComponentsEnabled:function(e){return s(e,"showHiddenComponents")},isShowingFixedComponentsEnabled:function(e){return s(e,"allowShowingFixedComponents")},ignoreComponentsHiddenProperty:function(e,t){i(e,"ignoreComponentsHiddenProperty",t)},ignoreComponentsCollapsedProperty:function(e,t){i(e,"ignoreComponentsCollapsedProperty",t)},setComponentPreviewState:function(e,t,a){var r=s(e,"componentPreviewStates")||{};r[t]=a,i(e,"componentPreviewStates",r)},getComponentPreviewState:function(e){return s(e,"componentPreviewStates")},checkComponentsHiddenProperty:function(e,t){var a=s(e,"ignoreComponentsHiddenProperty")||[];return o.objectUtils.isDifferent(t,a)},checkComponentsCollapsedProperty:function(e,t){var a=s(e,"ignoreComponentsCollapsedProperty")||[];return o.objectUtils.isDifferent(t,a)},showControllers:function(e,t){i(e,"showControllers",t)},isControllersVisibilityEnabled:function(e){return s(e,"showControllers")},allowWixCodeInitialization:function(e,t){i(e,"initWixCode",t)},isContactFormMigrationMode:function(){return n.isOpen("sv_contactFormTemplatesMigration")||n.isOpen("sv_contactFormFinalMigration")||n.isOpen("sv_contactFormFinalMigrationEditor")},setShouldKeepChildrenInPlace:function(e,t){i(e,"shouldKeepChildrenInPlace",t)},setPreserveCompLayoutOnReparent:function(e,t){i(e,"preserveCompLayoutOnReparent",t)}}}),define("documentServices/component/componentData",["lodash","documentServices/dataModel/dataModel","documentServices/componentsMetaData/componentsMetaData","documentServices/constants/constants","documentServicesSchemas"],function(e,t,a,r,o){"use strict";var n=o.schemas.componentsDefinitionsMap;function i(e,t){return e.pointers.full.components.getDesktopPointer(t)}function s(e,t){return!a.public.isMobileOnly(e,t)}return{getComponentDataSchemasByType:function(a,r){if(a&&r){var o=n[r];if(!o)throw new Error("component type: "+r+" is unsupported");var i=o.dataTypes||[];return e.map(i,function(e){return t.getDataSchemaByType(a,e)})}return null},getComponentPropertiesByType:function(e,a){if(e&&a){var r=n[a];if(!r)throw new Error("component type: "+a+" is unsupported");var o=r.propertyType;if(o)return t.getPropertiesSchemaByType(e,o)}return null},resetMobileComponentProperties:function(e,a){if(e&&a&&s(e,a)){var r=i(e,a),o=t.getPropertiesItem(e,r);t.deletePropertiesItem(e,a),t.updatePropertiesItem(e,a,o)}},splitMobileComponentProperties:function(e,a){if(e&&a&&s(e,a)){var o=i(e,a),n=t.getPropertiesItem(e,o),l=e.dal.get(e.pointers.getInnerPointer(o,"propertyQuery")).replace("#",""),u=r.DOM_ID_PREFIX.MOBILE+l;t.setPropertiesItem(e,a,n,u),e.dal.set(e.pointers.getInnerPointer(a,"propertyQuery"),u)}},isMobileComponentPropertiesSplit:function(r,o){if(a.public.isMobileOnly(r,o))return!0;var n=i(r,o),s=t.getPropertyItemPointer(r,o),l=t.getPropertyItemPointer(r,n),u=s&&s.id,c=l&&l.id;return!e.isEqual(u,c)}}}),define("documentServices/bi/errors.json",[],function(){return{MOBILE_STRUCTURE_NOT_SAVED_DUE_TO_CORRUPTION:{errorCode:21056,desc:"mobile structure was not saved with site due to a corruption in site structure - missing header, footer or pages container",severity:"fatal"},SAVE_FAILED_DUE_TO_PRE_SAVE_OPERATION:{errorCode:55021,severity:"fatal",params:{p1:"stack"}},SAVE_DOCUMENT_FAILED_ON_SERVER:{errorCode:55666,severity:"fatal",desc:"Save document failed due to a server error",params:{p1:"serverErrorCode",p2:"origin",p3:"errorType"}},SAVE_BLOCKED_BY_DOCUMENT_SERVICES:{errorCode:55022,severity:"fatal",desc:"save has been blocked in the client by documentServices, since it failed 3x *in a row* via -10104 validation error from server"},AUTOSAVE_RESTORE_FAILED:{errorCode:55023,severity:"error",desc:"Failed to apply autosave diffs",params:{p1:"errorMsg",p2:"op",p3:"path",p4:"value"}},AUTOSAVE_FAILED_DUE_TO_PRE_SAVE_OPERATION:{errorCode:55024,severity:"error",params:{p1:"stack"}},PASSWORD_PROTECTION_HASH_GENERATION_FAILED:{errorCode:55025,severity:"error",params:{p1:"serverErrorCode",p2:"errorDescription"}},SYNC_DELETED_ITEMS_AFTER_SAVE_FAILED:{errorCode:55026,severity:"error",params:{p1:"errorType",p2:"itemId",p3:"pagesIds"}},MOBILE_STRUCTURE_MANDATORY_ELEMENT_MISSING:{errorCode:55027,severity:"error",params:{p1:"missingComponents",p2:"stack"}},DIRECT_PAGES_DATA_ACCESS_IN_GSD:{errorCode:55028,severity:"warning",params:{p1:"path",p2:"stack"}},STYLE_USED_BY_MULTIPLE_COMPONENTS:{errorCode:55777,severity:"warning",params:{p1:"styleIds"}}}}),define("documentServices/bi/errors",["documentServices/bi/errors.json","lodash","utils"],function(e,t,a){"use strict";var r=a.logger;return t.forEach(e,function(e,t){e.errorName=t}),r.register("documentServices","error",e),e}),define("documentServices/mobileConversion/bi/events.json",[],function(){return{CUSTOM_MOBILE_PRESET_APPLIED:{endpoint:"editor",eventId:664,src:38,params:{component_id:"componentId",page_id:"pageId"}}}}),define("documentServices/mobileConversion/bi/events",["documentServices/mobileConversion/bi/events.json","utils"],function(e,t){"use strict";return t.logger.register("documentServices/mobileConversion","event",e.events),{events:e.events}}),define("documentServices/mobileConversion/modules/mobilePropertiesHandler",["lodash","documentServices/constants/constants","documentServices/componentsMetaData/componentsMetaData","documentServices/dataModel/dataModel"],function(e,t,a,r){"use strict";function o(t,a,o){var n=e.get(a,["conversionData","mobileProps"],{});if(e.isEmpty(n))return!1;var i=r.generateNewPropertiesItemId(),s=t.pointers.data.getPropertyItem(i,o),l=e.set(n,"id",i);return t.dal.set(s,l),a.propertyQuery=i,!0}return{modifyComponentProperties:function(r,o,n,i){var s=o.propertyQuery,l=o.componentType;if(!s||!l)return null;var u=r.pointers.data.getPropertyItem(s,n);if(!u)return null;var c=r.dal.get(u);if(!c)return null;var d=a.public.getDefaultMobileProperties(r,o,c);if(!d)return null;var p=function(a){var r=a.replace("#","");return(e.startsWith(r,t.DOM_ID_PREFIX.MOBILE)?"":t.DOM_ID_PREFIX.MOBILE)+r}(s),g=r.pointers.data.getPropertyItem(p,n),f=r.dal.get(g)||{};return e.get(f,"metaData.autoGenerated",!0)||i.override?(e.mergeWith(f,c,{metaData:{autoGenerated:!0}},d,function(t,a){if(e.isArray(a)&&e.isArray(t))return a}),f.id=p,r.dal.set(g,f),p):p},createPropertiesAccordingToPreset:function t(a,r,n){o(a,r,n)&&delete r.conversionData.mobileProps,r.components&&e.forEach(r.components,function(e){return t(a,e,n)})},createPropertiesAccordingToConversionData:o}}),define("documentServices/mobileConversion/modules/structuresComparer",["lodash","mobileCore","coreUtils","documentServices/componentsMetaData/componentsMetaData","documentServices/constants/constants","documentServices/component/componentModes"],function(e,t,a,r,o,n){"use strict";var i=function(t,a,o){return e.get(r.public.getMobileConversionConfig(t,o,a),"desktopOnly",!1)};return{getHiddenAndShownComponents:function(s,l){var u=s.pointers.components.getPage(l,o.VIEW_MODES.MOBILE),c=n.getMobileActiveModesMap(s,l),d=e.set({},l,c),p=a.fullToDisplayedJson.getDisplayedJson(s.dal.full.get(u),d,l).structure;if(p.mobileComponents){var g=a.dataUtils.getAllCompsInStructure(p,!1,e.negate(i.bind(null,s,l))),f=a.dataUtils.getAllCompsInStructure(p,!0,e.negate(function(t,a,o){var n=t.pointers.full.components.getComponent(o.id,a);return e.get(r.public.isMobileOnly(t,n),"mobileOnly",!1)}.bind(null,s,u)));return{hiddenComponents:t.structuresComparer.getComponentIdsAddedToDesktopStructure(g,f),shownComponents:e.intersection(e.keys(f),e.keys(g))}}},hasMobileStructure:function(t){var a=t.pointers.components.getMasterPage(o.VIEW_MODES.MOBILE);return!e.isEmpty(t.pointers.components.getChildren(a))}}}),define("documentServices/mobileConversion/modules/mergeAggregator",["lodash","documentServices/hooks/hooks","coreUtils","documentServices/component/componentModes","documentServices/mobileConversion/modules/structuresComparer","documentServices/constants/constants"],function(e,t,a,r,o,n){"use strict";var i=!0;function s(e){var t=e.pointers.general.getCommittedMobilePages();e.dal.set(t,null)}function l(t){var a=t.pointers.page.getNonDeletedPagesPointers(i);return o.hasMobileStructure(t)?e.filter(a,function(e){return t.dal.wasValueChangedSinceLastSnapshot(n.SNAPSHOT_TAGS.MOBILE_MERGE,e)}):a}function u(t,o){var n=t.pointers.page.getPagePointer(o),i=r.getMobileActiveModesMap(t,o),s=e.set({},o,i);return a.fullToDisplayedJson.getDisplayedJson(t.dal.full.get(n),s,o).structure}return{initialize:function(e){t.unregisterHooks([t.HOOKS.PUBLISH.BEFORE]),t.registerHook(t.HOOKS.PUBLISH.BEFORE,function(){return s(e)}),e.dal.full.immutable.getLastSnapshotByTagName(n.SNAPSHOT_TAGS.MOBILE_MERGE)||e.dal.takeSnapshot(n.SNAPSHOT_TAGS.MOBILE_MERGE)},getAggregatedPages:function(t){var r=function(t){var a=l(t);return e.transform(a,function(a,r){var o=r.id,n=u(t,o);e.set(a,o,n)},{})}(t);if(e.isEmpty(r))return null;var o=t.pointers.general.getCommittedMobilePages(),n=t.dal.get(o)||{};return e.forOwn(r,function(t,r){if(!n[r]){var o=a.objectUtils.cloneDeep(t);e.set(o,o.components?"components":"children",t.mobileComponents||[]),n[r]=o}}),t.dal.set(o,n),{desktop:r,mobile:function(t,a){var r=e.keys(a);return e.pickBy(t,function(t,a){return e.includes(r,a)})}(n,r)}},getChangedPagesPointers:l,getPage:u,commitResults:function(e){s(e),e.dal.takeSnapshot(n.SNAPSHOT_TAGS.MOBILE_MERGE)},getCommittedMobileComponent:function(t,r,o){if(!r||!o)return null;var n=t.pointers.general.getCommittedMobilePages(),i=t.dal.get(n),s=e.get(i,r);return e.isEmpty(s)?t.dal.full.get(o):a.dataUtils.findCompInStructure(s,!1,function(e){return e.id===o.id})}}}),define("documentServices/mobileConversion/modules/mobilePresets/mobileHintsPresets",["lodash","documentServices/hooks/hooks","documentServices/mobileConversion/modules/mergeAggregator","mobileCore","coreUtils","documentServices/dataModel/dataModel","documentServices/constants/constants","documentServices/component/componentModes","documentServices/component/componentData"],function(e,t,a,r,o,n,i,s,l){"use strict";var u,c={STUDIO:"studio",DUPLICATE:"duplicate"},d={nestOverlayingSiblings:!1,keepIfVerticalDivider:!1,isSuitableForProportionGrouping:!1,hideByDefault:!1},p={GENERAL_HINTS_PROPERTIES:["id","metaData","type"],GENERAL_PRESET_DATA:["author"],SIZE_DATA:["recommendedHeight","recommendedWidth","recommendedScale","originalCompId"],OFFSET_DATA:["offsetX","offsetY","offsetOrigin","orderIndex"]},g=function(e,t,a){return e.pointers.components.getPage(t,a||i.VIEW_MODES.DESKTOP)},f=function(t){return(r=t)&&e.some(p.SIZE_DATA,function(t){return e.has(r,t)})||(a=t,a&&e.some(p.OFFSET_DATA,function(t){return e.has(a,t)}));var a,r},m=function(t,a,r){return e.get(n.getMobileHintsItemById(t,r.mobileHintsQuery,a),"orderIndex")};function y(t,a){var i=t.pointers.components.getPageOfComponent(a),l=function(t,a,r){var n=e.set({},r,s.getMobileActiveModesMap(t,r)),i=t.dal.full.get(a);return o.fullToDisplayedJson.getDisplayedJson(i,n,r).structure}(t,a,i.id);if(e.get(l,"mobileStructure")){var u=r.mobileHints.parseMobilePreset(l);c=t,d=e.keys(u),p=i,e.forEach(d,function(e){var t=c.pointers.full.components.getComponent(e,p),a=c.pointers.getInnerPointer(t,"mobileStructure");c.dal.full.remove(a)});var c,d,p;g=t,f=u,m=i,e.forEach(f,function(e,t){var a=g.pointers.components.getComponent(t,m);n.updateMobileHintsItem(g,a,e)});var g,f,m}else{var _=t.pointers.components.getChildren(a);e.forEach(_,function(e){return y(t,e)})}}function _(t,a){var r=t.pointers.components.getChildren(a);e.forEach(r,_.bind(null,t));var o=n.getMobileHintsItem(t,a);e.get(o,"author")===c.DUPLICATE&&n.deleteMobileHintsItem(t,a)}function v(e,t,a){var r=e.pointers.components.getComponent(t,g(e,a,i.VIEW_MODES.MOBILE));if(!r||!e.dal.isExist(r))return null;if(!l.isMobileComponentPropertiesSplit(e,r))return null;var o=n.getPropertyItemPointer(e,r);return o&&e.dal.isExist(o)?e.dal.get(o):null}function S(t,a,r){if(!t.pointers.components.isMobile(a)){var o=n.getMobileHintsItem(t,a);if(f(o)){var i=e.omit(o,[].concat(_toConsumableArray(r),_toConsumableArray(p.GENERAL_HINTS_PROPERTIES)));n.deleteMobileHintsItem(t,a),e.isEmpty(i)||n.updateMobileHintsItem(t,a,i)}}}function O(t,a){var r=e.concat(p.OFFSET_DATA,p.SIZE_DATA,p.GENERAL_PRESET_DATA);S(t,a,r);var o=t.pointers.components.getChildren(a);e.forEach(o,function(e){return O(t,e)})}function h(e,t){S(e,t,p.OFFSET_DATA)}function A(t,a){var r=t.pointers.components.getChildren(a);e.forEach(r,function(e){return h(t,e)}),E(t,a)}function E(e,t){S(e,t,["recommendedHeight"]);var a=e.pointers.components.getParent(t);a&&!e.pointers.components.isPage(a)&&E(e,a)}var C=(u={},_defineProperty(u,t.HOOKS.CHANGE_PARENT.BEFORE,function(e,t,a){if(!e.pointers.components.isMobile(t)){O(e,t),A(e,a);A(e,e.pointers.components.getParent(t))}}),_defineProperty(u,t.HOOKS.ADD_ROOT.BEFORE,function(e,t,a){e.pointers.components.isMobile(t)||e.pointers.components.isPage(t)||(A(e,a),h(e,t),e.pointers.components.isPage(a)||O(e,t))}),_defineProperty(u,t.HOOKS.REMOVE.BEFORE,function(e,t,a){if(!(e.pointers.components.isMobile(t)||e.pointers.components.isPage(t)||a)){A(e,e.pointers.components.getParent(t))}}),u);function P(t,a,r){return e.isEmpty(a)||e.every(a,function(a){return e.isNumber(m(t,r,a))})?e(a).reject(["conversionData.mobileHints.hidden",!0]).sortBy(function(e){return m(t,r,e)}).map("id").value():null}return{createDuplicateMobilePreset:function(t,r,n,i){var s=t.pointers.components.getMobilePointer(n);if(r&&s&&t.dal.isExist(s)){var l=a.getCommittedMobileComponent(t,r,s);l&&!f(i.mobileHints)&&e.set(i,"mobileStructure",{layout:o.objectUtils.cloneDeep(l.layout),metaData:{originalCompId:s.id,author:c.DUPLICATE}})}},removeAutomaticPresets:_,initialize:function(){t.registerHook(t.HOOKS.ADD_ROOT.AFTER,y),e.forEach(C,function(e,a){return t.registerHook(a,e)}),t.registerHook(t.HOOKS.MOBILE_CONVERSION.AFTER,function(t,a,r){r&&e.forEach(a,function(e){return _(t,t.pointers.components.getPage(e.id,i.VIEW_MODES.DESKTOP))})})},applyPresetsToConversionData:function t(a,r,o){e.forEach(r,function(r){var i=n.getMobileHintsItemById(a,r.mobileHintsQuery,o);if(t(a,r.components,o),f(i)){var s=v(a,i.originalCompId,o);e.assign(r.conversionData,{mobileScale:i.recommendedScale||r.conversionData.mobileScale,mobileProps:s||r.conversionData.mobileProps},d),e.assign(r.conversionData.mobileHints,e.pick(i,["recommendedHeight","recommendedWidth","offsetX","offsetY","offsetOrigin"]),{recommendedComponentsOrder:P(a,r.components,o)})}})},testAPI:{getRecommendedComponentsOrder:P,handleMobileStructure:y,getMobilePropsIfForked:v,removePresetData:S,removeAllPresetDataRecursively:O,removeOffsetDataOfChildren:A,removeHeightOfParent:E}}}),define("documentServices/mobileConversion/modules/mobilePresets/mobileStructurePresets",["lodash","documentServices/hooks/hooks","documentServices/mobileConversion/modules/mergeAggregator","documentServices/component/componentData","coreUtils"],function(e,t,a,r,o){"use strict";var n={};function i(e,t,a){a.mobileStructure&&(n[t.id]=t)}function s(t,a){!function t(a,r){if(!r.mobileStructure)return void e.forEach(r.components,function(e){return t(a,e)});var o=l(r);!function(e,t,a){var r=e.pointers.general.getMobileStructuresPointer();e.dal.get(r)||e.dal.set(r,{});var o=e.pointers.getInnerPointer(r,a);e.dal.set(o,t)}(a,o,r.id);i=a,e.forOwn(n,function(e,t){var a=i.pointers.getInnerPointer(e,"mobileStructure");i.dal.full.remove(a),delete n[t]});var i}(t,t.dal.full.get(a))}function l(t){if(!e.isEmpty(t.mobileStructure)){var a=e.assign({},e.pick(t,["id","componentType","type"]),e.pick(t.mobileStructure,["layout"]));return e.set(a,"conversionData",e.get(t.mobileStructure,"conversionData",{})),t.components?e.set(a,"components",e(t.components).map(l).compact().value()):a}}function u(t){var a=t.pointers.general.getMobileStructuresPointer(),r=t.dal.get(a);if(r){e.forEach(r,c);var o=e.omitBy(r,function(t){return e.has(t,"conversionData.isCustomPreset")});t.dal.full.set(a,o)}}function c(t){t&&(t.components=e.reject(t.components,function(t){return e.has(t,"conversionData.isCustomPreset")})||[],e.isEmpty(t.components)?delete t.components:e.forEach(t.components,c))}return{removeCustomPresets:u,applyPresetsToConversionData:function(t,a){var r=t.pointers.general.getMobileStructuresPointer();r&&e.forEach(a,function(a){var o=t.pointers.getInnerPointer(r,a.id),n=o?t.dal.get(o):null;n&&e.set(a,["conversionData","preset"],n)})},createDuplicateMobilePreset:function(t,n,i,s){var l=e.assign(e.pick(s,["componentType","type"]),{conversionData:{isCustomPreset:!0}}),u=e.get(s,["mobileHints","hidden"],!1),c=t.pointers.components.getMobilePointer(i);if(n&&(c||u)){var d=a.getCommittedMobileComponent(t,n,c);if(d&&!u&&(s.mobileStructure=l,l.layout=o.objectUtils.cloneDeep(d.layout),d.propertyQuery)){var p=r.isMobileComponentPropertiesSplit(t,c),g=t.pointers.data.getPropertyItem(d.propertyQuery,n);p&&t.dal.isExist(g)&&e.set(l,["conversionData","mobileProps"],t.dal.get(g))}}},initialize:function(){t.registerHook(t.HOOKS.ADD.AFTER,i),t.registerHook(t.HOOKS.ADD_ROOT.AFTER,s),t.registerHook(t.HOOKS.MOBILE_CONVERSION.AFTER,function(t,a,r){return r?u(t):e.noop()})}}}),define("documentServices/mobileConversion/modules/mobilePresets/mobilePresetsHandler",["lodash","experiment","documentServices/componentsMetaData/componentsMetaData","documentServices/mobileConversion/modules/mergeAggregator","documentServices/mobileConversion/modules/mobilePresets/mobileHintsPresets","documentServices/mobileConversion/modules/mobilePresets/mobileStructurePresets"],function(e,t,a,r,o,n){"use strict";var i=t.isOpen("sv_persistentMobilePresets")?o:n;function s(t,a,r){if(!r.mobileHintsQuery)return!1;var o=t.pointers.data.getMobileHintsItem(r.mobileHintsQuery,a);return!(!o||!t.dal.full.isExist(o))&&e.get(t.dal.full.get(o),"hidden",!1)}return{initialize:i.initialize,createMobilePreset:i.createDuplicateMobilePreset,applyPresetsToConversionData:i.applyPresetsToConversionData,shouldCreateMobilePreset:function(t,o){var n=e.get(t.pointers.full.components.getPageOfComponent(o),"id"),i=t.dal.full.get(o);if(!i||s(t,n,i))return!1;if(!e.get(a.public.getMobileConversionConfig(t,i,n),"createMobilePresets",!0))return!1;var l=t.pointers.components.getMobilePointer(o),u=r.getCommittedMobileComponent(t,n,l);return!!u&&!function t(a,r,o){var n=e.reject(a.components||[],function(e){return o(e)})||[],i=e.xor(e.map(n,"id"),e.map(r.components||[],"id"));return!e.isEmpty(i)||e.some(n,function(a){var n=e.find(r.components,{id:a.id});return!n||t(a,n,o)})}(i,u,s.bind(null,t,n))}}}),define("documentServices/bi/bi",["lodash","utils"],function(e,t){"use strict";var a=t.logger,r=function(){var e=window.parent.location.search.replace(/^\??/,""),a=t.urlUtils.parseUrlParams(e).editorSessionId;return r=function(){return a},a};function o(t){var a=e.tail(arguments);a[0]=e.defaults({},a[0],{src:38,endpoint:"editor"}),a[1]=e.defaults({},a[1],{esi:(n=t,n.siteAPI.getEditorSessionId()||r()),editor_working_mode:(o=t,o.siteAPI.isMobileView()?"mobile":"desktop")});var o,n;return t.siteAPI.reportBI.apply(t.siteAPI,a)}return{event:o,error:function(t){var r=e.toArray(arguments);return r[1]=e.defaults({},r[1],{endpoint:"trg",evid:10}),r[2]={initiator_name:t.config.origin},e.forEach(["p1","p2","p3"],function(e){r[1][e]&&(r[1][e]=a.sanitizePIIForBi(r[1][e]))}),o.apply(this,r)},register:function(){return a.register.apply(a,e.tail(arguments))}}}),define("documentServices/mobileConversion/modules/mobileHints",["lodash","documentServices/mobileConversion/modules/structuresComparer","mobileCore","documentServices/constants/constants","documentServices/dataModel/dataModel","documentServices/componentsMetaData/componentsMetaData","documentServices/bi/bi","documentServices/bi/errors","coreUtils","experiment"],function(e,t,a,r,o,n,i,s,l,u){"use strict";var c=function(e,t,a){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r.VIEW_MODES.DESKTOP;return e.pointers.full.components.getComponent(t,e.pointers.components.getPage(a,o))},d=function(e,t){return n.public.isHiddenable(e,t)},p=function(t,a){return e.get(o.getMobileHintsItem(t,a),"hidden",!1)},g=function(t){return e.map(t.pointers.page.getNonDeletedPagesPointers(!0),"id")};function f(t,n,i){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=arguments[4];if(i&&!a.mobileOnlyComponents.isMobileOnlyComponentId(i.id)){l=l||t.pointers.full.components.getPageOfComponent(i).id;var u=!n.hidden||d(t,i),g=p(t,i)!==n.hidden;if(u&&g&&o.updateMobileHintsItem(t,i,n),s.updateChildren){!function(t,a,r,o,n){var i=t.pointers.full.components.getChildren(r);e.forEach(i,function(e){var r=c(t,e.id,n);f(t,a,r,o,n)})}(t,n,s.childrenSourceView===r.VIEW_MODES.MOBILE?c(t,i.id,l,r.VIEW_MODES.MOBILE):i,s,l)}}}var m=function(e,t,a,r){var o,n,i=c(e,t,a);(o=e,n=i,o.dal.displayedJsonDal.isExist(n))&&f(e,{hidden:r},i)};function y(a,o){var n=t.getHiddenAndShownComponents(a,o);n&&(!function(t,a,o){if(a===r.MASTER_PAGE_ID){var n=["SITE_FOOTER","PAGES_CONTAINER","SITE_PAGES","SITE_HEADER"],l=e.remove(o.hiddenComponents,function(t){return e.includes(n,t)});if(!e.isEmpty(l)){var u;(u=o.shownComponents).push.apply(u,_toConsumableArray(l));var c=(new Error).stack;i.error(t,s.MOBILE_STRUCTURE_MANDATORY_ELEMENT_MISSING,{missingComponents:l.toString(),stack:c})}}}(a,o,n),e.forEach(n.hiddenComponents,function(e){return m(a,e,o,!0)}),e.forEach(n.shownComponents,function(e){return m(a,e,o,!1)}))}function _(e,t){var a=e.pointers.components.getPage(t,r.VIEW_MODES.DESKTOP),o=e.pointers.getInnerPointer(a,"mobileHintsQuery");return!!e.dal.get(o)}function v(a){if(t.hasMobileStructure(a)){var r=function(e){if(u.isOpen("sv_patchDataDisablesMobileHintsInit")){var t=e.pointers.general.getAutoSaveInnerPointer("changesApplied")||!1;return t&&e.dal.get(t)}return!1}(a),o=g(a);e.forEach(o,function(e){var t=_(a,e);r&&t||(y(a,e),S(a,e))})}}function S(e,t){if(!_(e,t)){var a=e.pointers.components.getPage(t,r.VIEW_MODES.DESKTOP);o.updateMobileHintsItem(e,a,{hidden:!1})}}return{initialize:function(e){v(e)},updateProperty:f,updateHiddenComponentsOnPage:y,updateHiddenComponents:function(a,r){t.hasMobileStructure(a)&&(r=r||g(a),e.forEach(r,function(e){return y(a,e)}))},markPageAsInitialized:S,testAPI:{initializeMobileHints:v}}}),define("documentServices/mobileConversion/modules/conversionSettings",["lodash","experiment"],function(e,t){"use strict";var a={conversionType:"FULL",heuristicStrategy:"default"},r={default:{detectSemanticGroups:!0},onboarding:{detectSemanticGroups:!1},accessibility:{keepNotRecommendedMobileComponents:!0,detectSemanticGroups:!1,analyzeOnly:!0}},o={FULL:{},MERGE_ALL_PAGES:{keepEmptyTextComponents:!1,keepNotRecommendedMobileComponents:!1,keepOccludedAndEmptyBackgrounds:!0,keepOutOfScreenComponents:!0},MERGE_UNHIDE:{keepEmptyTextComponents:!0,keepNotRecommendedMobileComponents:!0,keepOccludedAndEmptyBackgrounds:!0,keepOutOfScreenComponents:!0,keepInvisibleComponents:!0},MERGE_PRESET:{keepEmptyTextComponents:!0,keepNotRecommendedMobileComponents:!0,keepOccludedAndEmptyBackgrounds:!0,keepOutOfScreenComponents:!0},MERGE_DISPLAY_MODE:{keepEmptyTextComponents:!1,keepNotRecommendedMobileComponents:!0,keepOccludedAndEmptyBackgrounds:!0,keepOutOfScreenComponents:!0}};return{getConversionSettings:function(n){return n=e.defaults({},n,a),e.assign({applySemanticRules:t.isOpen("sv_mobileSemantics")&&t.isOpen("sv_mobileGroupingAnchors"),useOverlapRules:t.isOpen("sv_mobileOverlapRules")},o[n.conversionType],r[n.heuristicStrategy])}}}),define("documentServices/mobileConversion/modules/componentSpecificConversionData/buttonConversionData",["lodash","mobileCore","coreUtils","documentServices/theme/theme","experiment"],function(e,t,a,r,o){"use strict";var n=14,i=10,s=24,l={breakPoints:[16,19,24],value:[42,48,54]},u={breakPoints:[7,14,20,30,100],value:[120,160,200,240,280]},c=function(t,a){var r=a.breakPoints,o=Math.min(t,e.last(r)),n=e.findIndex(r,function(e){return o<=e});return a.value[n]},d=function(e,t){return{height:c(e,l),width:c(t,u)}};return{getButtonConversionData:function(l,u,c){if(!o.isOpen("sv_mobileScaleRules_Button"))return null;var p=function(t,a){if(!a)return n;var o=r.styles.get(t,a),i=e.get(o,["style","properties","fnt"],""),s=e.get(i.match(/\d+px/),"0",n+" + 'px'");return+e.get(s.match(/\d+/),"0",n)}(l,u.styleId),g=function(t,a,r){if(!a)return i;var o=t.pointers.data.getDataItem(a.replace("#",""),r);return e.get(t.dal.get(o),"label","").length||i}(l,u.dataQuery,c),f=Math.min(t.textUtils.convertFontSizeByTextLength(p,g),s),m={};m.fixedSize=d(f,g),m.mobileScale=(y=f,_=p,y/a.mobileUtils.convertFontSizeToMobile(_,1));var y,_;return m}}}),define("documentServices/mobileConversion/modules/componentSpecificConversionData/valueScaleHelper",["lodash"],function(e){"use strict";return{roundToNearestDecade:function(e){return 10*Math.round(e/10)},buildRangeDataStructure:function(e,t,a){return{upToValue:e,valueHandler:t,additionalParamsForHandler:a||[]}},buildScaleFactorDataStructure:function(e,t,a){return{scaleFactor:e,minValueLimit:t,roundFunction:a||Math.round}},scaleByRange:function(t,a){var r=Math.min(t,e.last(a).upToValue),o=e.find(a,function(e){return r<=e.upToValue}),n=o.valueHandler;return e.isFunction(n)?n.apply(void 0,[t].concat(_toConsumableArray(o.additionalParamsForHandler))):n},scaleByFactor:function(e,t){var a=e*t.scaleFactor,r=t.roundFunction(a);return Math.max(t.minValueLimit,r)},scaleProportionally:function(e,t,a){var r=t&&a?t/a:1;return Math.round(e*r)}}}),define("documentServices/mobileConversion/modules/componentSpecificConversionData/vectorImageConversionData",["lodash","mobileCore","documentServices/mobileConversion/modules/componentSpecificConversionData/valueScaleHelper","experiment"],function(e,t,a,r){"use strict";var o={upToSize:60,convert:a.roundToNearestDecade},n={upToSize:400,convert:a.scaleByFactor,paramsForConvert:[a.buildScaleFactorDataStructure(.7,60,a.roundToNearestDecade)]},i={upToSize:980,convert:e.constant(280)},s=function(e,t){var r=[a.buildRangeDataStructure(o.upToSize,o.convert),a.buildRangeDataStructure(n.upToSize,n.convert,n.paramsForConvert),a.buildRangeDataStructure(i.upToSize,i.convert)],s=a.scaleByRange(e,r);return{width:s,height:a.scaleProportionally(t,s,e)}};return{getVectorImageConversionData:function(t){if(!r.isOpen("sv_mobileScaleRules_Shape"))return null;var a=e.get(t,["layout","width"],0),o=e.get(t,["layout","height"],0);return{fixedSize:s(a,o)}}}}),define("documentServices/mobileConversion/modules/componentSpecificConversionData/componentSpecificConversionData",["lodash","documentServices/mobileConversion/modules/componentSpecificConversionData/buttonConversionData","documentServices/mobileConversion/modules/componentSpecificConversionData/vectorImageConversionData"],function(e,t,a){"use strict";var r=function(e,t){return a.getVectorImageConversionData(t)},o={"wysiwyg.viewer.components.SiteButton":t.getButtonConversionData,"wysiwyg.viewer.components.VectorImage":r,"wysiwyg.viewer.components.WPhoto":r,"wysiwyg.viewer.components.ClipArt":r};return{getComponentSpecificConversionData:function(t,a,r){return e.get(o,a.componentType,e.noop)(t,a,r)||null}}}),define("documentServices/mobileConversion/modules/componentReducer",["lodash","mobileCore","utils","documentServices/theme/theme","documentServices/componentsMetaData/componentsMetaData","documentServices/dataModel/dataModel","documentServices/componentsMetaData/metaDataUtils","documentServices/mobileConversion/modules/componentSpecificConversionData/componentSpecificConversionData"],function(e,t,a,r,o,n,i,s){"use strict";function l(e,t){var a=t.styleId;return a?r.styles.get(e,a):null}function u(t,a,r){return e.get(a.designQuery&&n.getDesignItemById(t,a.designQuery.replace("#",""),r),"background")}function c(t,a,r){return e.has(u(t,a,r),"mediaRef")}return{createConversionData:function(r,d,p){var g,f,m=o.public.getMobileConversionConfig(r,d,p),y=e.assign({},e.clone(d),{conversionData:m}),_={},v=(g=r,f=d,+(""+e.get(l(g,f),["style","properties","brw"],"0")).match(/\d/g).join(""));_.borderWidth=v||null,_.isSolidColorBackground=(S=r,O=y,h=p,("columns"===e.get(O,["conversionData","category"])?1===e.size(O.components)&&!c(S,O.components[0],h):("column"===e.get(O,["conversionData","category"])||"wysiwyg.viewer.components.StripContainer"===O.componentType)&&!c(S,O,h))||null);var S,O,h,A=function(t,a,r,o){if(o||"column"===e.get(a,["conversionData","category"]))return+e.get(u(t,a,r),"colorOpacity",1);if("mobile.core.components.Container"!==a.componentType)return 1;var n=l(t,a),i=e.get(n,"skin");return"wysiwyg.viewer.skins.area.RectangleArea"!==i&&"wysiwyg.viewer.skins.area.DefaultAreaSkin"!==i?1:+e.get(n,["style","properties","alpha-bg"],1)}(r,y,p,_.isSolidColorBackground);_.isSemiTransparentContainer=A<1,_.isTransparentContainer=!v&&0===A,_.backgroundColor=function(t,a,r){var o=a.designQuery?e.get(u(t,a,r),"color",null):e.get(l(t,a),["style","properties","bg"],null);return o?o.replace(/[{}]/g,""):null}(r,d,p),_.shouldApplyPreset=function(t,r,o){var n=e.get(r,["modes","definitions"]);if(e.isEmpty(n))return!0;var i=t.pointers.data.getPropertyItem(r.propertyQuery,o);if(!i)return!0;var s=t.dal.get(i)||{},l=s.mobileDisplayedModeId&&e.find(n,"modeId",s.mobileDisplayedModeId);return e.get(l,"type")!==a.siteConstants.COMP_MODES_TYPES.DEFAULT}(r,d,p),_.mobileHints={hidden:function(t,a,r){var o=e.get(a,"mobileHintsQuery","");return e.get(o?n.getMobileHintsItemById(t,o,r):{},"hidden",!1)}(r,d,p)};var E=s.getComponentSpecificConversionData(r,d,p);e.assign(_,E);var C=r.dal.get(r.pointers.general.getDockedRuntimeLayout());e.has(d,["layout","docked"])&&C[d.id]&&e.assign(d.layout.docked,C[d.id]),_.isScreenWidth=_.isScreenWidth||a.dockUtils.isHorizontalDockToScreen(d.layout)||a.dockUtils.isFullPageComponent(d.layout)||null,_.isNonContainableFullWidth=i.isNonContainableFullWidth(d.componentType),e.assign(_,m),function(t,a){var r=e.get(t,"conversionData",{}),o=e.assign(r,a);e.assign(t,{conversionData:e.omitBy(o,e.isNull)})}(d,_),P=d,e.defaults(P,{layout:{}}),delete P.layout.anchors,t.conversionUtils.isSiteSegmentOrPage(P)||t.conversionUtils.isMasterPage(P)?e.assign(P.layout,{fixedPosition:!1}):e.defaults(P.layout,{height:e.get(P,["conversionData","layoutLimits","minHeight"]),width:e.get(P,["conversionData","layoutLimits","minWidth"])},{height:a.siteConstants.COMP_SIZE.MIN_HEIGHT,width:a.siteConstants.COMP_SIZE.MIN_WIDTH,x:t.conversionConfig.COMPONENT_MOBILE_MARGIN_X,y:t.conversionConfig.COMPONENT_MOBILE_MARGIN_Y});var P}}}),define("documentServices/mobileConversion/modules/modesConverter",["lodash","documentServices/component/componentModes"],function(e,t){"use strict";return{convertModes:function(a,r){var o=a.pointers.components.getDesktopPointer(r),n=t.getComponentModes(a,o),i=e(n).filter(function(a){return"copyOverrides"===e.get(t.metaData,[a.type,"mobileConversionConfig"])}).map("modeId").value();if(!e.isEmpty(i)){var s=a.pointers.full.components.getChildren(r);e.forEach(s,function(t){var r=a.pointers.components.getDesktopPointer(t),o=a.dal.full.get(a.pointers.componentStructure.getModes(r));if(o){var n=e(o.overrides).map(function(t){return e.defaults({modeIds:e.intersection(t.modeIds,i)},t)}).filter(function(t){return e.size(t.modeIds)}).value();e.isEmpty(n)||a.dal.full.set(a.pointers.componentStructure.getModes(t),e.defaults({overrides:n},o))}})}}}}),define("documentServices/mobileConversion/modules/tinyMenuHandler",["lodash","documentServices/dataModel/dataModel","documentServicesSchemas","documentServices/componentsMetaData/componentsMetaData","documentServices/constants/constants","documentServices/theme/theme","mobileCore"],function(e,t,a,r,o,n,i){"use strict";var s="TinyMenu",l="TINY_MENU",u=function(t,a){return e.get(r.public.getMobileConversionConfig(t,t.dal.get(a),o.MASTER_PAGE_ID),"tinyMenuDataRefName")};return{applyDataToTinyMenu:function(r){var n=r.pointers.components.getPage(o.MASTER_PAGE_ID,o.VIEW_MODES.MOBILE),i=r.pointers.components.getComponent(o.MOBILE_ONLY_COMPONENTS.TINY_MENU,n);if(i&&r.dal.isExist(i)){!function(r,o){var n=r.pointers.getInnerPointer(o,"dataQuery");r.dal.set(n,"#"+l);var i=a.services.createDataItemByType(s),u=e.assign({id:l},i),c=r.pointers.data.getDataItemFromMaster("TINY_MENU");t.setDataItemByPointer(r,c,u,"data")}(r,i),function(e,a){var r=e.pointers.getInnerPointer(a,"connectionQuery");e.dal.set(r,"TINY_MENU_CONNECTION"),t.updateConnectionsItem(e,a,[])}(r,i);var c=function(t){var a=t.pointers.components.getHeader(o.VIEW_MODES.DESKTOP),r=t.pointers.components.getChildrenRecursively(a),n=t.pointers.components.getPage(o.MASTER_PAGE_ID,o.VIEW_MODES.DESKTOP),i=t.pointers.components.getChildrenRecursively(n),s=e.unionBy(r,i,function(e){return e.id});return e.find(s,function(e){return u(t,e)})}(r);if(c){var d=e.get(r.dal.get(c),"dataQuery"),p=t.getDataItem(r,i),g=u(r,c);e.set(p,g,d),t.updateDataItem(r,i,p);var f=t.getPlatformAppConnections(r,c);t.updateConnectionsItem(r,i,f)}}},addAdditionalStyles:function(t){e.forOwn(i.mobileOnlyComponents.getAdditionalStyles(),function(a,r){if(!n.styles.get(t,r)){var o=e.assign({type:"TopLevelStyle",styleType:"system",id:r,metaData:{isHidden:!1,isPreset:!1}},a);n.styles.createAndAddStyleItem(t,o,r)}})}}}),define("documentServices/mobileConversion/modules/textStats",["documentServices/theme/theme","lodash","documentServices/dataModel/dataModel","mobileCore","coreUtils"],function(e,t,a,r,o){"use strict";function n(a,r){if(t.isEmpty(r))return null;if(/^#\w{3,6}$/.test(r))return r;var o=t.get(r.match(/^\{(color_\d+)\}$/),1,"");return o?e.colors.get(a,o):null}var i=function(e){return/^color_\d+$/.test(e)},s=function(e){return/^font_\d{1,10}$/.test(e)},l=function(e){return t.pickBy(e,t.identity)};function u(a,r){if(i(r))return l({textColor:e.colors.get(a,r)});if(!s(r))return{};var o=e.fonts.get(a,r),u=/^\w+\s\w+\s\w+\s(-?\d+(?:\.\d+)?)px\/[\w\-.]*\s('[^']*'|[\w#$%&'()*+,.:;?@^_`~-]*)\s({\w+}|#\w{3,6})?$/.exec(o),c=n(a,t.get(u,3,""));return l({fontSize:+t.get(u,1,0),fontName:t.get(u,2),textColor:c})}function c(e){return t.size(e)?(e=" "+e,l({fontSize:+t.get(e.match(/font-size:\s?(\d+(\.\d+)?)px/i),1,0),textAlignment:t.get(e.match(/text-align:\s?(left|right|center)/i),1),textColor:t.get(e.match(/[^-]color:\s*(#[\da-f]{3,6}|[a-z]{3,20})/i),1)})):{}}function d(e,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{fontSize:0,fontName:"",textAlignment:"left",textColor:""},n={textLength:0,accumulatedFontSize:0,accumulatedNormalizedFontSize:0,textAlignments:[],textColors:[],fontNames:[]};if(t.get(a,"nodeType")===a.TEXT_NODE){var i=a.textContent.trim().length;return t.assign({textLength:i,accumulatedFontSize:i*o.fontSize,accumulatedNormalizedFontSize:i*r.textUtils.getFontSizeByFontName(o.fontName,o.fontSize)},i>0?{textAlignments:[o.textAlignment],fontNames:[o.fontName],textColors:[o.textColor]}:{textAlignments:[],textColors:[],fontNames:[]})}if(!a||!t.size(a.childNodes))return n;var s={};if(a.nodeType===a.ELEMENT_NODE){var l=a.getAttribute("class"),p=a.getAttribute("style");t.defaults(s,c(p),u(e,l))}return t.defaults(s,o),t.reduce(a.childNodes,function(t,a){var r=d(e,a,s);return{fontNames:[].concat(_toConsumableArray(t.fontNames),_toConsumableArray(r.fontNames)),textColors:[].concat(_toConsumableArray(t.textColors),_toConsumableArray(r.textColors)),textAlignments:[].concat(_toConsumableArray(t.textAlignments),_toConsumableArray(r.textAlignments)),textLength:t.textLength+r.textLength,accumulatedFontSize:t.accumulatedFontSize+r.accumulatedFontSize,accumulatedNormalizedFontSize:t.accumulatedNormalizedFontSize+r.accumulatedNormalizedFontSize}},n)}function p(e,a){var n,i,s=d(e,a),l=s.textLength,u=s.accumulatedNormalizedFontSize/l,c=(n=u,i=l,r.textUtils.convertFontSizeByTextLength(n,i)/o.mobileUtils.convertFontSizeToMobile(n,1)),p=s.accumulatedFontSize/s.textLength,g=o.mobileUtils.convertFontSizeToMobile(p||0,1);return{fontNames:t.uniq(s.fontNames),textLength:l,actualTextWidth:"undefined"!=typeof window?a.clientWidth+1:void 0,textAlignments:t.uniq(s.textAlignments),textColors:t.uniq(s.textColors),averageFontSize:p,mobileAdjustedAverageFontSize:g,averageNormalizedFontSize:u,mobileScale:c}}return{reduceAllTextsData:function(e,n,i){var s=o.fragment.document.createElement("DIV"),l=t(n).filter(r.conversionUtils.isTextComponent).map(function(r){return function(e,r,n,i){var s=o.fragment.document.createElement("DIV");return s.innerHTML=r.dataQuery?t.get(a.getDataItemById(e,r.dataQuery.replace("#",""),n),"text",""):"",s.setAttribute("style","opacity: 0; max-width: none !important; white-space: nowrap; position: absolute"),i.appendChild(s),{htmlElement:s,component:r}}(e,r,i,s)}).value();window.document.body.appendChild(s),t.forEach(l,function(a){return t.assign(a.component.conversionData,p(e,a.htmlElement))}),window.document.body.removeChild(s)},testAPI:{getTextColorValue:n,getFontDataByClassName:u,getFontDataByStyleAttribute:c,getAccumulatedTextStats:d}}}),define("documentServices/mobileConversion/modules/nonLayoutComponentHandler",["lodash","mobileCore"],function(e,t){"use strict";function a(o){var n=t.conversionUtils.getChildren(o),i=e.remove(n,r);return e.concat(i,e.flatMap(n,a))}function r(t){var a=e.get(t,["conversionData","desktopOnly"],!1),r=e.get(t,["conversionData","nonLayoutComponent"],!1);return!a&&r}return{extractNonLayoutComponentsFromPages:function(e,t){return t&&a(t),a(e)},insertNonLayoutComponentsToPage:function(a,r){o=a,n=r,e.forEach(n,function(t){return e.assign(t.layout,{width:0,height:0,x:0,y:0})}),t.conversionUtils.addComponentsTo(o,n);var o,n}}}),define("documentServices/mobileConversion/modules/mobileConversion",["lodash","experiment","mobileCore","documentServices/bi/errors","documentServices/mobileConversion/bi/events","documentServices/mobileConversion/modules/mobilePropertiesHandler","documentServices/mobileConversion/modules/mobilePresets/mobilePresetsHandler","documentServices/mobileConversion/modules/mergeAggregator","documentServices/mobileConversion/modules/mobileHints","documentServices/mobileConversion/modules/conversionSettings","documentServices/mobileConversion/modules/componentReducer","documentServices/mobileConversion/modules/structuresComparer","documentServices/mobileConversion/modules/modesConverter","documentServices/mobileConversion/modules/tinyMenuHandler","coreUtils","documentServices/hooks/hooks","documentServices/constants/constants","documentServices/mobileConversion/modules/textStats","documentServices/mobileConversion/modules/mobileHintsValidator","documentServices/mobileConversion/modules/nonLayoutComponentHandler"],function(e,t,a,r,o,n,i,s,l,u,c,d,p,g,f,m,y,_,v,S){"use strict";return{mobileConversion:function(O){var h=O.ps,A=O.heuristicStrategy,E=u.getConversionSettings({conversionType:"FULL",heuristicStrategy:A});function C(t){var a=e.map(t.updatedPageIds,function(e){return h.pointers.components.getPage(e,y.VIEW_MODES.MOBILE)});e.forEach(a,e.partial(p.convertModes,h)),m.executeHook(m.HOOKS.MOBILE_CONVERSION.AFTER,null,[h,a,t.commitConversionResults]),t.commitConversionResults&&s.commitResults(h),e.forEach(t.updatedPageIds,function(e){return h.siteAPI.createPageAnchors(e,{forceMobileStructure:!0,applyGroupingAnchors:!0})})}function P(e,t,a){var r=h.pointers.components.getPage(t,y.VIEW_MODES.MOBILE),o=h.pointers.getInnerPointer(r,"mobileComponents");h.dal.full.set(o,e),l.updateHiddenComponentsOnPage(h,t),l.markPageAsInitialized(h,t),t===y.MASTER_PAGE_ID&&(g.applyDataToTinyMenu(h),g.addAdditionalStyles(h)),a&&C({updatedPageIds:[t],commitConversionResults:a.commitConversionResults})}function R(t,a){e.forEach(t,function(e,t){return P(e,t)}),a&&C({updatedPageIds:e.keys(t),commitConversionResults:a.commitConversionResults})}function I(r,s){var l=e.values(a.conversionUtils.getAllCompsInStructure(r)).concat(a.conversionUtils.isMasterPage(r)?[]:[r]),d=!s;return r.mobileComponents=[],e.forEach(l,function(e){var t=s?a.conversionUtils.getComponentByIdFromStructure(e.id,s)||e:e,o=n.modifyComponentProperties(h,e,r.id,{override:d}),i=h.pointers.data.getPropertyItem(t.propertyQuery,r.id),l=!d&&i&&h.dal.isExist(i)?t.propertyQuery:e.propertyQuery;e.propertyQuery=t.propertyQuery=o||l,c.createConversionData(h,e,r.id)}),_.reduceAllTextsData(h,l,r.id),p=l,g=e.set(r,"conversionData",e.get(r,"conversionData",{})),i.applyPresetsToConversionData(h,p,g.id),e.forEach(p,function(r){if(t.isOpen("sv_persistentMobilePresets"))n.createPropertiesAccordingToConversionData(h,r,g.id);else{var i=e.get(r,["conversionData","preset"]);if(i){var s=Math.random()<.1;i.conversionData.isCustomPreset&&s&&h.siteAPI.reportBI(o.events.CUSTOM_MOBILE_PRESET_APPLIED,{componentId:r.id,pageId:g.id});var l=u.getConversionSettings({conversionType:"MERGE_PRESET",heuristicStrategy:A});n.createPropertiesAccordingToPreset(h,i,g.id),a.conversion.mergeDesktopStructureWithMobile(r,i,l),e.set(r,["conversionData","preset"],i)}}}),g;var p,g}function D(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r=e.get(s.getAggregatedPages(h),"desktop");R(e.mapValues(r,function(e){var t=I(f.objectUtils.cloneDeep(e)),r=S.extractNonLayoutComponentsFromPages(e,t),o=a.conversion.convertDesktopPageToMobile(t,a.conversionUtils.getChildren(t),E);return S.insertNonLayoutComponentsToPage(t,r),o}),{commitConversionResults:t})}return{getComponentsOrder:function(t){var r=u.getConversionSettings({heuristicStrategy:"accessibility",conversionType:"FULL"}),o=function(t){return e.get(t,["conversionData","componentsOrder"],(a=t,e.map(a.components,"id")));var a},n=h.pointers.page.getComponentsMapPointer(t,y.VIEW_MODES.DESKTOP),i=h.dal.get(n,!0),s=f.mobileUtils.buildDeepStructure(i[t],i);!function(t){t.mobileComponents=[];var r=e.values(a.conversionUtils.getAllCompsInStructure(t)).concat(a.conversionUtils.isMasterPage(t)?[]:[t]);e.forEach(r,function(e){c.createConversionData(h,e,t.id)})}(s),a.conversion.inspectStructure(s,a.conversionUtils.getChildren(s),r);var l=a.conversionUtils.getAllCompsInStructure(s),d=function(e){return"RESCALE_VIRTUAL_GROUP"===l[e].componentType};return e.reduce(l,function(t,a){if(!e.has(a,"components")||d(a.id))return t;var r=e.reduce(o(a),function(e,t){return e.concat(d(t)?o(l[t]):[t])},[]);return e.set(t,a.id,r)},{})},inspect:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,r=h.dal.get(h.pointers.general.getPagesData());return e.transform(r,function(r,o,n){var i=o.structure.DESKTOP,s=f.mobileUtils.buildDeepStructure(i[n],i);I(s),a.conversion.inspectStructure(s,a.conversionUtils.getChildren(s),t);var l=e.transform(a.conversionUtils.getAllCompsInStructure(s),function(t,a){return e.isEmpty(e.get(a,["conversionData","componentsOrder"]))||(t[a.id]=a.conversionData.componentsOrder),t},{});return r.reducedPages.push(s),r.componentsOrder.push(l),r},{reducedPages:[],componentsOrder:[]})},executeConversion:function(e){return a.conversion.convertDesktopPageToMobile(e,a.conversionUtils.getChildren(e),E)},runMobileMergeOnAllPages:function(t){if(f.loggingUtils.performance.start(f.loggingUtils.performanceMetrics.MOBILE.MERGE_ALL_PAGES),function(){var t=y.VIEW_MODES.DESKTOP,a=h.pointers.components;return e.every([a.getFooter(t),a.getHeader(t),a.getPagesContainer(t)],h.dal.isExist)}())if(d.hasMobileStructure(h)){m.executeHook(m.HOOKS.MOBILE_MERGE.BEFORE,null,[h]);var o=s.getAggregatedPages(h);if(!e.isEmpty(o)){var n=o.desktop,i=o.mobile;!function(t,r){var o=e.difference(e.keys(t),e.keys(r));e.forEach(o,function(e){var o=t[e],n=f.objectUtils.cloneDeep(o);r[e]=n,I(n);var i=S.extractNonLayoutComponentsFromPages(o,n);a.conversion.convertDesktopPageToMobile(n,[],E),S.insertNonLayoutComponentsToPage(n,i)})}(n,i);var l={};e.forOwn(n,function(e,t){var a=i[t];I(e,a),l[t]=S.extractNonLayoutComponentsFromPages(e,a)});var c=u.getConversionSettings({conversionType:"MERGE_ALL_PAGES",heuristicStrategy:A}),p=a.conversion.mergeDesktopPagesWithMobile(n,i,c);e.forOwn(n,function(e,t){var a=i[t];S.insertNonLayoutComponentsToPage(a,l[t])}),R(p,{commitConversionResults:t}),f.loggingUtils.performance.finish(f.loggingUtils.performanceMetrics.MOBILE.MERGE_ALL_PAGES)}}else D(t);else h.siteAPI.reportBI(r.MOBILE_STRUCTURE_NOT_SAVED_DUE_TO_CORRUPTION)},runMobileMergeOnPage:function(e,t,r){I(e,t);var o=S.extractNonLayoutComponentsFromPages(e,t),n=a.conversion.mergeDesktopStructureWithMobile(e,t,r);S.insertNonLayoutComponentsToPage(t,o),P(n,e.id,{commitConversionResults:!1})},runMobileConversionOnPage:function(e){f.loggingUtils.performance.start(f.loggingUtils.performanceMetrics.MOBILE.CONVERT_PAGE);var t=f.objectUtils.cloneDeep(e);I(t);var r=S.extractNonLayoutComponentsFromPages(e,t),o=a.conversionUtils.getChildren(t),n=a.conversion.convertDesktopPageToMobile(t,o,E);S.insertNonLayoutComponentsToPage(t,r),P(n,e.id,{commitConversionResults:!1}),f.loggingUtils.performance.finish(f.loggingUtils.performanceMetrics.MOBILE.CONVERT_PAGE)},runMobileConversionOnAllPages:D,syncMobileSite:function(){var t=s.getAggregatedPages(h);if(!e.isEmpty(t)){var r=e.difference(e.keys(t.desktop),e.keys(t.mobile));e.forEach(r,function(e){var a=f.objectUtils.cloneDeep(t.desktop[e]);t.mobile[e]=a}),v.validateMobileHintsOnPages(h,e.keys(t.desktop));var o={};e.forOwn(t.desktop,function(e,a){var r=t.mobile[a];I(e,r),o[a]=S.extractNonLayoutComponentsFromPages(e,r)});var n=a.conversion.synchronizePages(t.desktop,t.mobile);e.forOwn(t.desktop,function(e,a){var r=t.mobile[a];S.insertNonLayoutComponentsToPage(r,o[a])}),R(n,{commitConversionResults:!0})}},applyConvertedComponentsMap:R,applyConvertedComponentsToPage:P,prepareConversion:I}}}}),define("documentServices/mobileConversion/mobileConversionFacade",["lodash","mobileCore","coreUtils","documentServices/mobileConversion/modules/mobileConversion","documentServices/mobileConversion/modules/mobilePresets/mobilePresetsHandler","documentServices/constants/constants"],function(e,t,a,r,o,n){"use strict";return{runMobileConversionOnPage:function(e,t){r.mobileConversion({ps:e}).runMobileConversionOnPage(t)},runMobileConversionOnAllPages:function(t,a){var o=e.get(a,"heuristicStrategy");return"minimal"===o?r.mobileConversion({ps:t}).syncMobileSite():r.mobileConversion({ps:t,heuristicStrategy:o}).runMobileConversionOnAllPages()},prepareForConversion:function(t,o){var n=t.dal.get(t.pointers.general.getPagesData(),!0),i=r.mobileConversion({ps:t});return o&&(n=e.pick(n,o)),e.mapValues(n,function(e,t){var r=e.structure.DESKTOP,o=a.mobileUtils.buildDeepStructure(r[t],r);return i.prepareConversion(o)})},applyConversion:function(a,o){var n=e.mapValues(o,t.conversionUtils.getChildren);r.mobileConversion({ps:a}).applyConvertedComponentsMap(n)},execConversion:function(t,a,o){var n={ps:t,heuristicStrategy:o},i=r.mobileConversion(n);e.forEach(a,function(e){return i.executeConversion(e)})},runMobileMergeOnPage:function(e,t,a,o){r.mobileConversion({ps:e}).runMobileMergeOnPage(t,a,o)},addMobileOnlyComponent:function(e,o,i){var s=e.pointers.page.getComponentsMapPointer("masterPage",n.VIEW_MODES.MOBILE),l=e.dal.get(s,!0),u=a.mobileUtils.buildDeepStructure(l.masterPage,l);u.mobileComponents=u.children;var c=r.mobileConversion({ps:e});c.prepareConversion(u),t.mobileOnlyComponents.addComponent(u,o),c.applyConvertedComponentsToPage(t.conversionUtils.getChildren(u),u.id,i)},syncMobileSite:function(e){r.mobileConversion({ps:e}).syncMobileSite()},runPartialConversionAllPages:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.config.disableMobileConversion?r.mobileConversion({ps:e}).syncMobileSite():r.mobileConversion({ps:e}).runMobileMergeOnAllPages(t)},inspect:function(e,t){return r.mobileConversion({ps:e}).inspect(t)},getComponentsOrder:function(e,t){return r.mobileConversion({ps:e}).getComponentsOrder(t)},shouldCreateMobilePreset:o.shouldCreateMobilePreset,createMobilePreset:o.createMobilePreset}}),define("documentServices/component/componentSerialization",["lodash","coreUtils","documentServices/constants/constants","documentServices/dataModel/dataModel","documentServices/hooks/hooks","documentServices/component/componentStructureInfo","documentServices/component/componentModes","documentServices/structure/structureUtils","documentServices/mobileConversion/mobileConversionFacade","experiment","documentServicesSchemas"],function(e,t,a,r,o,n,i,s,l,u,c){"use strict";var d=c.schemas.dataSchemas,p=c.schemas.designSchemas,g=c.schemas.propertiesSchemas,f=c.schemas.behaviorsSchemas,m=c.schemas.connectionsSchemas,y=c.schemas.mobileHintsSchemas,_="custom",v=["dataQuery","designQuery"];function S(r,i,s,c,d,p){c=c||function(t){var a=t.pointers.general.getMobileStructuresPointer(),r=t.dal.get(a),o={};return e.forOwn(r,function t(a){o[a.id]=e.omit(e.clone(a),"components"),e.forEach(a.components,t)}),o}(r);var g=r.dal.full.get(i);if(!g)return null;var f=t.displayedOnlyStructureUtil.isDisplayedComponent(i.id);g=e.reduce(v,function(e,a){return e[a]&&(p.itemId?e[a]=t.displayedOnlyStructureUtil.getUniqueDisplayedId(e[a],p.itemId):f&&(e[a]=r.dal.get(r.pointers.getInnerPointer(i,a)))),e},g);var m=r.pointers.full.components.getPageOfComponent(i),y=m.id;if(O(r,g,s,p,y,d),p.ignoreChildren)delete g.components;else{var h=e.clone(p);f&&(h.itemId=t.displayedOnlyStructureUtil.getItemId(i.id)),o.executeHook(o.HOOKS.SERIALIZE.CHILDREN_BEFORE,g.componentType,[g,h]),function(t,a,r,o,n,i,s){var l=t.pointers.full.components.getChildren(r);l.length&&(a.components=e.map(l,function(e){return S(t,e,null,n,i,s)}))}(r,g,i,0,c,d,h),p.maintainIdentifiers&&function(t,r,o,n,i,s){if(r.mobileComponents){var l=t.pointers.components.getPage(o,a.VIEW_MODES.MOBILE),u=t.pointers.full.components.getChildren(l);r.mobileComponents=e.map(u,function(e){return S(t,e,null,i,s,n)})}}(r,g,y,h,c,d)}p.maintainIdentifiers||(delete g.mobileComponents,delete g.id);var A={},E=[r,i,A];return o.executeHook(o.HOOKS.SERIALIZE.SET_CUSTOM,g.componentType,E),e.isEmpty(A)||(g[_]=e.defaults(g[_]||{},A)),i.type===a.VIEW_MODES.DESKTOP&&function(t,a,r,o,i,s,c){var d=t.pointers.components.getMobilePointer(a);if(u.isOpen("presetUploaderAddOn")){if(n.isExist(t,d)){r.mobileStructure=S(t,d,null,null,s,{ignoreChildren:!0,maintainIdentifiers:!1})}return}if(t.pointers.components.isPage(a))return;var p=i[a.id];if(p&&!p.isCustomPreset)return O(t,p,void 0,c,o,s),void(r.mobileStructure={layout:e.cloneDeep(p.layout)});c.shouldAddMobilePresets&&l.createMobilePreset(t,o,a,r)}(r,i,g,y,c,d,p),g}function O(t,a,o,n,i,s){s(a),function(t,a,r,o,n){var i=r.dataQuery;if(i){var s=a.repeatedItemIds,l=e.isArray(s)&&s.length>0;r.data=l?E(t,i,o,n,s,A):A(t,i,o,n),a.maintainIdentifiers&&r.data&&(r.data.id=h(i)),delete r.dataQuery}}(t,n,a,i,o),C(t,n.maintainIdentifiers,a,i),function(e,t,a,o){if(!a.mobileHintsQuery)return;var n=e.pointers.data.getMobileHintsItem(h(a.mobileHintsQuery),o);a.mobileHints=r.serializeDataItem(e,y,n,!0),t&&a.mobileHints&&(a.mobileHints.id=h(a.mobileHintsQuery));delete a.mobileHintsQuery}(t,n.maintainIdentifiers,a,i),R(t,n,a,i),I(t,n.maintainIdentifiers,a),function(e,t,a,o){if(a.behaviorQuery){var n=e.pointers.data.getBehaviorsItem(h(a.behaviorQuery),o);a.behaviors=r.serializeDataItem(e,f,n,!0),t&&a.behaviors&&(a.behaviors.id=a.behaviorQuery),delete a.behaviorQuery}}(t,n.maintainIdentifiers,a,i),function(e,t,a,o){if(a.connectionQuery){var n=e.pointers.data.getConnectionsItem(h(a.connectionQuery),o);a.connections=r.serializeDataItem(e,m,n,!0),t&&a.connections&&(a.connections.id=a.connectionQuery),delete a.connectionQuery}}(t,n.maintainIdentifiers,a,i),e.get(a,"modes.overrides")&&(l=t,u=a.modes.overrides,c=n,d=i,p=s,e.forEach(u,function(e){p(e),I(l,c.maintainIdentifiers,e),R(l,c,e,d),C(l,c.maintainIdentifiers,e,d)}));var l,u,c,d,p}function h(t){return e.isString(t)?t.replace("#",""):null}function A(e,t,a,o){var n=o||e.pointers.data.getDataItem(h(t),a);return r.serializeDataItem(e,d,n,!0)}function E(a,o,n,i,s,l){var u=r.createDataItemByType(a,"RepeatedData");return u.original=l(a,o,n,i),u.overrides=e.zipObject(s,e.map(s,function(e){var r=t.displayedOnlyStructureUtil.getUniqueDisplayedId(o,e);return l(a,r,n)})),u}function C(e,t,a,o){if(a.propertyQuery){var n=h(a.propertyQuery),i=e.pointers.data.getPropertyItem(n,o);a.props=r.serializeDataItem(e,g,i,!t),t&&a.props&&(a.props.id=n),delete a.propertyQuery}}function P(e,t,a,o){var n=o||e.pointers.data.getDesignItem(h(t),a);return r.serializeDataItem(e,p,n,!0)}function R(t,a,r,o){var n=r.designQuery;if(n){var i=a.repeatedItemIds,s=e.isArray(i)&&i.length>0,l=t.pointers.data.getDesignItem(h(n),o);r.design=s?E(t,n,o,l,i,P):P(t,n,o,l),a.maintainIdentifiers&&r.design&&(r.design.id=h(n)),delete r.designQuery}}function I(e,t,a){if(a.styleId){var o=e.pointers.data.getThemeItem(h(a.styleId));"custom"===e.dal.get(e.pointers.getInnerPointer(o,"styleType"))?(a.style=r.serializeDataItem(e,null,o,!0),t&&(a.style.id=a.styleId)):a.style=a.styleId,delete a.styleId}}return{serializeComponent:function(t,a,r,o,n,s,u){var c=S(t,a,r,s,u=u||e.noop,{shouldAddMobilePresets:l.shouldCreateMobilePreset(t,a),ignoreChildren:o,maintainIdentifiers:n});return c&&(c.activeModes=function(t,a){for(var r={},o=t.pointers.full.components.getParent(a);o;){var n=i.getComponentActiveModeIds(t,o);e.merge(r,n),o=t.pointers.full.components.getParent(o)}return r}(t,a)),c}}}),define("documentServices/tpa/services/tpaEventHandlersService",["lodash","documentServices/theme/theme"],function(e,t){"use strict";var a={},r={},o={},n={},i={},s={},l={},u={},c={},d={},p=[],g=[],f=function(t){return!e.isUndefined(c[t])};return{supportedEvents:["COMPONENT_DELETED","EDIT_MODE_CHANGE","SITE_PUBLISHED","SETTINGS_UPDATED","WINDOW_PLACEMENT_CHANGED","THEME_CHANGE","DEVICE_TYPE_CHANGED","STYLE_PARAMS_CHANGE","SITE_SAVED","ON_MESSAGE_RESPONSE","PUBLIC_DATA_CHANGED"],unRegisterHandlers:function(d,p){a=e.omit(a,p),r=e.omit(r,p),o=e.omit(o,p),n=e.omit(n,p),i=e.omit(i,p),s=e.omit(s,p),u=e.omit(u,p),c=e.omit(c,p),e.isUndefined(l[p])||(t.events.onChange.removeListener(d,l[p]),l=e.omit(l,p))},registerEditModeChangeHandler:function(e,t){a[e]=t},registerSettingsUpdatedHandler:function(e,t){o[e]=t},registerWindowPlacementChangedHandler:function(e,t){n[e]=t},registerSitePublishedHandler:function(e,t){i[e]=t},registerDeviceTypeChangeHandler:function(e,t){s[e]=t},registerSiteSavedHandler:function(e,t){u[e]=t},registerCompLoaded:function(t){e.forEach(g,function(e){t({compPointer:e})}),p.push(t)},callCompLoaded:function(t){g.push(t),e.forEach(p,function(e){e({compPointer:t})})},editModeChange:function(t){e.forEach(a,function(e){e(t)})},sitePublished:function(){e.forEach(i,function(e){e()})},siteSaved:function(){e.forEach(u,function(e){e()})},deviceTypeChange:function(t){e.forEach(s,function(e){e(t)})},triggerOnWindowPlacementChanged:function(e){var t=e.data.placement,a=e.compId,r=n[a];r&&r(t)},registerThemeChangeHandler:function(a,r,o){if(e.isUndefined(l[r])){var n=t.events.onChange.addListener(a,o);l[r]=n}},callSettingsUpdateCallback:function(e,t){var a=o[e];a&&a(t)},registerDeleteCompHandler:function(e,t){c[e]=t},executeDeleteHandler:function(e){f(e)&&(c[e](),delete c[e])},isDeleteHandlerExists:f,registerPublicDataChangedHandler:function(e,t,a){d[t]||(d[t]={});d[t][e]=a},callPublicDataChangedCallback:function(t,a,r){var o=d[a],n=e.get(o,t);n&&n(r)},callPublicDataChangedCallbackForAllAppRegisteredComps:function(t,a){var r=d[t];e.forEach(r,function(e){e(a)})},registerEditorEventHandler:function(e,t){r[e]=t},triggerEditorEvent:function(t){e.forEach(r,function(e){e(t)})}}}),define("documentServices/structure/utils/arrangement",["lodash","utils","documentServices/component/componentModes","documentServices/hooks/hooks","documentServices/componentsMetaData/componentsMetaData"],function(e,t,a,r,o){"use strict";var n="platform.components.AppController";function i(e,t,a,r){var o=e.dal.full,n=e.pointers,i=n.getInnerPointer(t,a),s=n.getInnerPointer(t,r),l=o.get(i),u=o.get(s);o.set(i,u),o.set(s,l)}function s(e,t){var a=e.pointers.getInnerPointer(t,"layout.fixedPosition");return!!e.dal.get(a)}function l(t,a,r,o){var n=s(t,a);return e.findIndex(o,function(e,a){return a>r&&s(t,e)===n&&g(t,e)})}function u(t,a,r,o){var n=s(t,a);return e.findLastIndex(o,function(e,a){return a<r&&s(t,e)===n&&g(t,e)})}var c=function(t){return function(a,r){if(!g(a,r))return!1;var o=a.pointers.components.getParent(r),n=a.pointers.components.getChildren(o),i=e.findIndex(n,{id:r.id});return t(a,r,i,n)>-1}},d=c(u),p=c(l);function g(e,a){if(e.pointers.components.isPage(a))return!1;if(r=e,i=a,o.getComponentType(r,i)===n)return!1;var r,i,s=e.pointers.components.getParent(a),l=t.displayedOnlyStructureUtil.isDisplayedComponent(a.id),u=s&&t.displayedOnlyStructureUtil.isDisplayedComponent(s.id);return!(l&&!u)}return{moveToIndex:function(t,a,n){var i=t.dal.full,s=t.pointers.full.components;if(!function(t,a,r){if(!g(t,a))return!1;var o=t.pointers.components.getParent(a),n=t.pointers.components.getChildren(o);return e.isFinite(r)&&r>=0&&r<n.length}(t,a,n))throw new Error("index is out of children's bounds, cannot move to index");var l=s.getParent(a),u=s.getChildrenContainer(l),c=s.getChildren(l),d=e.findIndex(c,{id:a.id});if(d!==n){var p=i.get(a);i.remove(a),i.push(u,p,a,n);var f=o.getComponentType(t,a);r.executeHook(r.HOOKS.ARRANGEMENT.MOVE_AFTER,f,[t,a,d,n])}},moveBackward:function(t,a){var n=t.pointers.full.components;if(!d(t,a))throw new Error("component is the bottom one, cannot move backward");var s=n.getParent(a),l=n.getChildren(s),c=e.findIndex(l,{id:a.id}),p=u(t,a,c,l);i(t,n.getChildrenContainer(s),c,p);var g=o.getComponentType(t,a);r.executeHook(r.HOOKS.ARRANGEMENT.MOVE_AFTER,g,[t,a,c,p])},moveForward:function(t,a){var n=t.pointers.components;if(!p(t,a))throw new Error("component is the top one, cannot move forward");var s=n.getParent(a),u=n.getChildren(s),c=e.findIndex(u,{id:a.id}),d=l(t,a,c,u);i(t,n.getChildrenContainer(s),c,d);var g=o.getComponentType(t,a);r.executeHook(r.HOOKS.ARRANGEMENT.MOVE_AFTER,g,[t,a,c,d])},canMoveForward:p,canMoveBackward:d,moveToFront:function(t,a){var n=t.dal.full,i=t.pointers.full.components;if(!p(t,a))throw new Error("component is the top one, cannot move to front");var s=i.getParent(a),l=i.getChildren(s),u=e.findIndex(l,{id:a.id}),c=n.get(a);n.remove(a);var d=i.getChildrenContainer(s);n.push(d,c,a);var g=o.getComponentType(t,a);r.executeHook(r.HOOKS.ARRANGEMENT.MOVE_AFTER,g,[t,a,u,e.size(l)-1])},moveToBack:function(t,a){var n=t.dal.full,i=t.pointers.full.components;if(!d(t,a))throw new Error("component is the bottom one, cannot move to back");var s=i.getParent(a),l=i.getChildrenContainer(s),u=n.get(l),c=e.findIndex(u,{id:a.id}),p=u.splice(c,1)[0];u.unshift(p),n.set(l,u);var g=o.getComponentType(t,a);r.executeHook(r.HOOKS.ARRANGEMENT.MOVE_AFTER,g,[t,a,c,0])}}}),define("documentServices/connections/connectionsDataGetter",["lodash","documentServices/dataModel/dataModel"],function(e,t){"use strict";function a(e,a){return t.getConnectionsItem(e,a)||[]}function r(t,r){return e.reject(a(t,r),{type:"WixCodeConnectionItem"})}return{getConnections:a,getPlatformAppConnections:r,isCompConnectedToController:function(t,r,o){return e.some(a(t,r),{controllerRef:o})},getPrimaryConnection:function(t,a){return e.find(r(t,a),{isPrimary:!0})}}}),define("documentServices/component/component",["lodash","coreUtils","utils","documentServices/dataModel/dataModel","documentServices/component/componentData","documentServices/hooks/hooks","documentServices/anchors/anchors","documentServices/theme/theme","documentServices/component/componentValidations","documentServices/component/componentSerialization","documentServices/componentsMetaData/componentsMetaData","documentServices/component/componentStylesAndSkinsAPI","documentServices/component/componentModes","documentServices/tpa/services/tpaEventHandlersService","documentServices/tpa/utils/tpaUtils","documentServices/structure/structureUtils","documentServices/component/componentStructureInfo","documentServices/structure/structure","documentServices/documentMode/documentModeInfo","documentServices/structure/utils/arrangement","documentServices/connections/connectionsDataGetter","experiment"],function(e,t,a,r,o,n,i,s,l,u,c,d,p,g,f,m,y,_,v,S,O,h){"use strict";var A=["custom","data","props","style","design","connections","activeModes","behaviors","mobileHints"],E="mobile_",C=["wysiwyg.viewer.components.SiteSegmentContainer","wysiwyg.viewer.components.FooterContainer","wysiwyg.viewer.components.HeaderContainer","wysiwyg.viewer.components.PagesContainer","wysiwyg.viewer.components.PageGroup","wysiwyg.viewer.components.ScreenWidthContainer","wysiwyg.viewer.components.StripContainer","wysiwyg.viewer.components.StripColumnsContainer","wysiwyg.viewer.components.Column","wysiwyg.viewer.components.SiteRegionContainer","core.components.Container","core.components.ContainerOBC","wysiwyg.viewer.components.PopupContainer","mobile.core.components.Container","wysiwyg.viewer.components.Group","wysiwyg.viewer.components.FormContainer","wixapps.integration.components.common.formcontainer.viewer.FormContainer","wixapps.integration.components.Area","wysiwyg.viewer.components.BoxSlideShow","wysiwyg.viewer.components.BoxSlideShowSlide","wysiwyg.viewer.components.StripContainerSlideShow","wysiwyg.viewer.components.StripContainerSlideShowSlide"],P=["mobile.core.components.Page","core.components.Page","wixapps.integration.components.AppPage"],R=["wysiwyg.viewer.components.Repeater"];function I(e,a,r,o){var n=o||K(),i=e.pointers.components.getViewMode(a),s=t.displayedOnlyStructureUtil;if(s.isDisplayedComponent(a.id)){var l=s.getItemId(a.id);return e.pointers.components.getUnattached(s.getUniqueDisplayedId(n,l),i)}return e.pointers.components.getUnattached(n,i)}function D(e,t,a,r,o,n){T(e,t,a,r,o,n),B(e,t)}function T(t,a,r,o,i,s){var u=y.getContainerToAddComponentTo(t,r),c=l.validateComponentToAdd(t,a,o,u,s);if(!c.success)throw new Error(c.error);n.executeHook(n.HOOKS.ADD_ROOT.BEFORE,o.componentType,arguments),b(t,a,r,o,i),e.isEqual(u,r)?e.isFinite(s)&&S.moveToIndex(t,a,s):(_.adjustCompLayoutToNewContainer(t,a,u),_.addCompToContainer(t,a,u,s)),n.executeHook(n.HOOKS.ADD_ROOT.AFTER,o.componentType,arguments)}function w(t){return e.omit(t,A)}function b(o,i,s,u,c,d,g,f){var m=l.validateComponentToSet(o,i,u,c,s,d);if(!m.success)throw new Error(m.error);u.layout&&delete u.layout.anchors,n.executeHook(n.HOOKS.ADD.BEFORE,u.componentType,arguments);var y=a.objectUtils.cloneDeep(u);g&&u.id&&(g[u.id]=i.id),y.id=a.displayedOnlyStructureUtil.getOriginalId(i.id),y.type||(_=y,e.includes(R,_.componentType)?_.type="RepeaterContainer":e.includes(C,_.componentType)?_.type="Container":e.includes(P,_.componentType)?_.type="Page":_.type="Component");var _;!function(t){t.layout=t.layout||{};var a={},r=l.ALLOWED_LAYOUT_PARAMS;e.forEach(r,function(e){var r=t.layout[e];if(r){var o=l.validateLayoutParam(e,r);if(!o.success)throw new Error(o.error);a[e]=r}}),delete a.anchors,t.layout=e.assign({x:0,y:0,fixedPosition:!1,width:160,height:90,scale:1,rotationInDegrees:0},a),t.layout.docked&&(((o=t.layout).docked.right||o.docked.left||o.docked.hCenter)&&(o.docked.right&&o.docked.left&&delete o.width,delete o.x),(o.docked.top||o.docked.bottom||o.docked.vCenter)&&(o.docked.top&&o.docked.bottom&&delete o.height,delete o.y));var o}(y),(f=f||{ancestorsModes:function(t,a,r){var o=[];for(;a;){var n=L(t,a,r);o=o.concat(n),a=t.pointers.full.components.getParent(a)}return e(o).groupBy(e.identity).mapValues(Boolean).value()}(o,s,{}),oldModeIdsToNew:{}}).ancestorsModes=e.merge(f.ancestorsModes,function(t){var a={};return e.forEach(e.get(t,"modes.definitions"),function(e){a[e.modeId]=!0}),a}(y)),function(t,a){e.defaults(a,function(t){var a=e.get(t,"modes.definitions");if(a){var r=t.id;return e.reduce(a,function(e,t){return e[t.modeId]=p.createUniqueModeId(r),e},{})}return{}}(t)),s=t,l=a,s.modes&&s.modes.definitions&&(s.modes.definitions=e.map(s.modes.definitions,function(t){return e.defaults({modeId:l[t.modeId]},t)})),n=t,i=a,e.get(n,"modes.overrides")&&(n.modes.overrides=e.map(n.modes.overrides,function(t){var a=e.map(t.modeIds,function(e){return i[e]||e});return e.defaults({modeIds:a},t)})),r=t,o=a,e.get(r,"props.mobileDisplayedModeId")&&(r.props.mobileDisplayedModeId=o[r.props.mobileDisplayedModeId]);var r,o;var n,i;var s,l}(y=function(t,r,o,n){var i=n.ancestorsModes;if(e.isEmpty(i))return function(t,r,o){var n=o.activeModes,i=a.siteRenderPrivateStuff.fullToDisplayedJson.applyModesOnSerializedStructure(o,n);e.isEmpty(n)||(s=i,l=o.layout,s.layout.x=e.get(l,"x")||e.get(s,"layout.x"),s.layout.y=e.get(l,"y")||e.get(s,"layout.y"));var s,l;return i}(0,0,r);return function(t,a){if(t&&a){var r=e.get(t,"modes.overrides");r&&(r=e.filter(r,function(t){return e.every(t.modeIds,function(e){return a[e]})}),t.modes.overrides=r)}return t}(r,i)}(0,y,0,f),f);var v=d?i.id:o.pointers.full.components.getPageOfComponent(s).id;!function(t,a,o,n,i,s,l){x(t,o,n,i,s,a),k(t,o,n,s,a),F(t,o,n,s,a),function(t,a,o,n,i,s){if(!s.behaviors)return;e.isString(s.behaviors)&&(s.behaviors=r.createBehaviorsItem(s.behaviors));s.behaviors=function(t,a){if(t&&t.items){var r=t.items;e.isString(r)&&(r=JSON.parse(r));var o=e.map(r,function(t){var r=e.get(t,"params.modeIds");return r&&e.set(t,"params.modeIds",e.map(r,function(e){return a[e]})),t}),n=e.omit(t,"items");return n.items=JSON.stringify(o),n}return t}(s.behaviors,i),o=H(n,s.behaviors,o);var l=(u=t,c=s.behaviors,d=a,p=o,c?r.addSerializedBehaviorsItemToPage(u,d,c,p):null);var u,c,d,p;l&&(s.behaviorQuery=l,N(s.behaviors,l,n))}(t,o,n,s,l,a),function(e,t,a,o,n){a=H(o,n.mobileHints,a);var i=(s=e,l=n.mobileHints,u=t,c=a,l?r.addSerializedMobileHintsItemToPage(s,u,l,c):null);var s,l,u,c;if(!i)return;n.mobileHintsQuery=i,N(n.mobileHints,i,o)}(t,o,n,s,a),u=t,c=o,d=a,M(u,c,d.componentType,d),function(t,a,r,o,n){var i=e.get(a,"modes.overrides");e.isEmpty(i)||(e.forEach(i,function(e){M(t,r,a.componentType,e),F(t,r,o,n,e),k(t,r,o,n,e)}),i=e.map(i,w),e.set(a,"modes.overrides",i))}(t,a,o,n,s),function(e,t,a,o,n){o=H(n,e.connections,o);var i=(s=t,l=e.connections,u=a,c=o,l?r.addSerializedConnectionsItemToPage(s,u,l,c):null);var s,l,u,c;i&&(e.connectionQuery=i,N(e.connections,i,n))}(a,t,o,n,s);var u,c,d}(o,y,v,c,d,g,f);var S=u.components;S&&(y.components=[]);var O=u.mobileComponents;O&&(y.mobileComponents=[]);var h=w(y);if(d)o.dal.full.set(i,h);else{var A=o.pointers.full.components.getChildrenContainer(s);o.dal.full.push(A,h,i),function(a,r){var n=o.pointers.components.getAllDisplayedOnlyComponents(i);!e.isEmpty(n)&&t.displayedOnlyStructureUtil.isDisplayedComponent(i.id)&&(r.dataQuery||r.designQuery)&&e.forEach(n,function(n){var i=t.displayedOnlyStructureUtil.getItemId(n.id);if(r.dataQuery){var s=t.displayedOnlyStructureUtil.getUniqueDisplayedId(r.dataQuery.replace("#",""),i);o.dal.full.isExist(o.pointers.data.getDataItem(s,a))||x(o,a,s,d,g,e.clone(u))}if(r.designQuery){var l=t.displayedOnlyStructureUtil.getUniqueDisplayedId(r.designQuery.replace("#",""),i);o.dal.full.isExist(o.pointers.data.getDesignItem(l,a))||F(o,a,l,g,e.clone(u))}})}(v,h)}if(V(o,S,i,g,f,y.activeModes),O){var E=o.pointers.components.getPage(v,"MOBILE");V(o,O,E,g,f,y.activeModes)}var I=[o,i,y,c,g,s];return n.executeHook(n.HOOKS.ADD.AFTER,y.componentType,I),i}function L(t,a,r){var o=[],n=p.getComponentModes(t,a);return e.forEach(n,function(e){var t=r[e.modeId];t?o.push(t):o.push(e.modeId)}),o}function M(t,a,o,n){if(n.style)if(e.isObject(n.style)){var i=h.isOpen("moveCustomStyleFromMasterPage")&&"custom"===n.style.styleType?a:"masterPage",l=r.addSerializedStyleItemToPage(t,n.style,void 0,i);n.styleId=l}else s.styles.get(t,n.style)||d.style.createSystemStyle(t,n.style,o),n.styleId=n.style}function B(e,t){i.updateAnchors(e,t)}function V(t,a,r,o,n,i){a&&r&&e.forEach(a,function(e){var a=o&&o[e.id],s=I(t,r,0,a);e.activeModes=i,b(t,s,r,e,a,!1,o,n),B(t,s)})}function x(a,o,n,i,s,l){if(i)l.dataQuery="#"+o;else{n=H(s,l.data,n);var u=function(a,o,n,i){var s=null;if(o)if(e.isObject(o))"RepeatedData"===o.type?(s=r.addSerializedDataItemToPage(a,n,o.original,i),e.forEach(o.overrides,function(e,o){var i=t.displayedOnlyStructureUtil.getUniqueDisplayedId(s,o);r.addSerializedDataItemToPage(a,n,e,i)})):s=r.addSerializedDataItemToPage(a,n,o,i);else if(e.isString(o)){var l=r.createDataItemByType(a,o);s=r.addSerializedDataItemToPage(a,n,l,i)}return s}(a,l.data,o,n);u&&(l.dataQuery="#"+u,N(l.data,u,s))}}function F(a,o,n,i,s){n=H(i,s.design,n);var l=function(a,o,n,i){var s=null;if(o){if(e.isObject(o))"RepeatedData"===o.type?(s=r.addSerializedDesignItemToPage(a,n,o.original,i),e.forEach(o.overrides,function(e,o){var i=t.displayedOnlyStructureUtil.getUniqueDisplayedId(s,o);r.addSerializedDesignItemToPage(a,n,e,i)})):s=r.addSerializedDesignItemToPage(a,n,o,i);else if(e.isString(o)){var l=r.createDataItemByType(a,o);s=r.addSerializedDesignItemToPage(a,n,l,i)}s&&!e.startsWith(s,"#")&&(s="#"+s)}return s}(a,s.design,o,n);l&&(s.designQuery=l,N(s.design,l,i))}function k(t,a,o,n,i){o=H(n,i.props,o);var s=function(t,a,o,n){var i=null;if(a)if(e.isObject(a))i=r.addSerializedPropertyItemToPage(t,o,a,n);else if(e.isString(a)){var s=r.createPropertiesItemByType(t,a);i=r.addSerializedPropertyItemToPage(t,o,s,n)}return i}(t,i.props,a,o);s&&(i.propertyQuery=s,N(i.props,s,n))}function H(t,a,r){var o=r;if(!t||!a)return o;var n=z(a.id);if(t[n])o=t[n];else if(e.startsWith(n,E)){var i=t[n.substring(E.length)];i&&(o=E+i)}return o}function N(e,t,a){if(a){var r=z(e.id);t=z(t),e.id&&a&&!a[r]&&(a[r]=t)}}function U(t,a,r){if(r=r||e.noop,p.shouldDeleteComponentFromFullJson(t,a)){if(t.pointers.components.isMobile(a))throw new Error(l.ERRORS.CANNOT_DELETE_MOBILE_COMPONENT);!function(t,a,r){r=r||e.noop;W(t,a)?(!function(t,a){var r=G(t,a);e.forEach(r,function(e){g.isDeleteHandlerExists(e.id)&&g.executeDeleteHandler(e.id)})}(t,a),e.delay(function(){g.unRegisterHandlers(t,a.id),r()},500)):r()}(t,a,r)}else r()}function G(e,t){var a=y.getTpaChildren(e,t);return f.isTpaByCompType(y.getType(e,t))&&a.push(t),a}function W(t,a){if(!y.isExist(t,a))return!1;var r=G(t,a);return e.some(r,function(e){return g.isDeleteHandlerExists(e.id)})}function X(a,s,u,c,d,g){var f=d||p.shouldDeleteComponentFromFullJson(a,s);if(!f)return _=s,v=g,(m=a).dal.remove(_),void(v&&v(m));var m,_,v,S=l.validateComponentToDelete(a,s);if(!S.success)throw new Error(S.error);var h=a.pointers.components.getParent(s),A=y.getType(a,s);n.executeHook(n.HOOKS.REMOVE.BEFORE,A,arguments);var E=a.pointers.components.getChildren(s);e.forEachRight(E,function(e){return Z(a,e,!0,c,f)});var C=r.getDataItem(a,s),P=O.getPlatformAppConnections(a,s);a.pointers.components.isPage(s)||function(a,n){var i=[n];if(t.displayedOnlyStructureUtil.isDisplayedComponent(n.id)){var s=t.displayedOnlyStructureUtil.getOriginalId(n.id),l=a.pointers.components.getPageOfComponent(n),u=a.pointers.full.components.getComponent(s,l);i.push(u)}var c=!a.pointers.components.isMobile(n);e.forEach(i,function(t){var n=c?t:a.pointers.components.getDesktopPointer(t),i=c?a.pointers.components.getMobilePointer(t):t,s=a.dal.isExist(i);if(c&&(r.deleteDataItem(a,n),r.removeBehaviorsItem(a,n),r.deleteMobileHintsItem(a,n),r.deleteDesignItem(a,n),r.deletePropertiesItem(a,n),r.removeConnectionsItem(a,n)),s){var l=!e.isEqual(r.getDesignItemPointer(a,n),r.getDesignItemPointer(a,i)),u=o.isMobileComponentPropertiesSplit(a,i);l&&r.deleteDesignItem(a,i),u&&r.deletePropertiesItem(a,i)}})}(a,s);var R=e.toArray(arguments);R[5]=C,R.push(h),R.push(P);(a.dal.isExist(s)?a.dal:a.dal.full).remove(s),n.executeHook(n.HOOKS.REMOVE.AFTER,A,R),i&&h&&!u&&a.dal.get(h)&&i.updateAnchors(a,h),g(a)}function Z(t,a,r,o,n,i){var s=t.pointers.full.components.getAllDisplayedOnlyComponents(a);i=i||e.noop;var l=e.after(s.length,i);e.forEach(s,function(e){X(t,e,r,o,n,l)})}function z(t){return e.isString(t)?t.replace("#",""):null}function Y(e,t){return m.getComponentLayout(e,t)}function K(){return a.guidUtils.getUniqueId("comp","-")}return e.merge({isContainsCompWithType:y.isContainsCompWithType,isRenderedOnSite:y.isRenderedOnSite,getComponentToAddRef:I,getComponentToDuplicateRef:function(e,t,a,r){var o=r||K(),n=e.pointers.components.getViewMode(a);return e.pointers.components.getUnattached(o,n)},add:D,addWithConstraints:function(t,a,r,o,n,i){if(function(t){if(e.isNull(t)||e.isPlainObject(t)&&e.isEmpty(t))return!0;if(!e.isObject(t))throw new Error("Non valid constraints value. Expected null or object");var a=Object.getOwnPropertyNames(t);if(1!==a.length||e.isUndefined(t.under))throw new Error('Constrains should be empty {} or have only property "under"');if(!e.isPlainObject(t.under))throw new Error('Constrains "under" property should have plain object value');if(2!==(a=Object.getOwnPropertyNames(t.under)).length||e.isUndefined(t.under.margin)||e.isUndefined(t.under.comp))throw new Error('Constraints "under" property should has the schema {comp: compRef, margin: number}');if(!e.isNumber(t.under.margin))throw new Error('Constrains "margin" should be a number')}(n),!t.pointers.components.isPage(r))throw new Error("this API works only for page parent for now");if(!_.isSimpleLayout(o.layout))throw new Error("the layout of the added comp should be simple, no fixed, docked, rotated and such");var s=o;if(!e.isEmpty(n)){var l=t.dal.get(t.pointers.getInnerPointer(n.under.comp,"layout"));if(!_.isSimpleLayout(l))throw new Error("you cannot place a component below a fixed, rotated, docked and such comps.");(s=e.clone(o)).layout=e.assign({},s.layout,function(e,t){var a=Y(e,t.under.comp);return{y:a.y+a.height+t.under.margin}}(t,n))}D(t,a,r,s,i)},addAndAdjustLayout:T,duplicate:function(e,t,a,r,o){D(e,t,r,u.serializeComponent(e,a),o)},serialize:u.serializeComponent,remove:function(e,t,a,r){if(e.pointers.components.isMobile(t))throw new Error(l.ERRORS.CANNOT_DELETE_MOBILE_COMPONENT);Z(e,t,!1,r,!1,a)},deleteComponent:Z,validateRemoval:function(e,t){U(e,t,e.setOperationsQueue.asyncPreDataManipulationComplete.bind(e.setOperationsQueue))},validateRemovalInternal:U,shouldDelayDeletion:W,getContainer:y.getContainer,getAncestors:y.getAncestors,getPage:y.getPage,getSiblings:y.getSiblings,getRepeatedComponents:y.getRepeatedComponents,getChildren:y.getChildren,getAllJsonChildren:y.getAllJsonChildren,getTpaChildren:y.getTpaChildren,getBlogChildren:y.getBlogChildren,getType:y.getType,setComponent:b,isComponentRemovable:function(e,t){if(!c.public.isRemovable(e,t))return!1;var a=y.getType(e,t);return n.executeHook(n.HOOKS.REMOVE.IS_OPERATION_ALLOWED,a,arguments,function(e){return!1===e})},isComponentVisible:function(e,a){var r=e.dal.get(e.pointers.general.getRenderFlags()),o=e.pointers.components.getViewMode(a),n=e.dal.get(e.pointers.general.getIsCompHiddenPointer(a.id,o)),i={compId:a.id,compType:y.getType(e,a),compProperties:y.getPropertiesItem(e,a),compLayout:m.getComponentLayout(e,a),isMobile:v.isMobileView(e),isVisible:c.public.isVisible(e,a),renderFlags:r,isCompHiddenByRenderPlugin:n};return t.componentVisibility.isComponentVisible(i)},isComponentModal:function(e,t){return c.public.isModal(e,t)},isComponentUsingLegacyAppPartSchema:function(e,t){return c.public.isUsingLegacyAppPartSchema(e,t)},isComponentDuplicatable:function(e,t,a){if(!c.public.isDuplicatable(e,t,a))return!1;var r=y.getType(e,t);return n.executeHook(n.HOOKS.DUPLICATE.IS_OPERATION_ALLOWED,r,arguments,function(e){return!1===e})},getChildrenArrayKey:y.getChildrenArrayKey,isPageComponent:y.isPageComponent,generateNewComponentId:K,properties:{update:r.updatePropertiesItem,get:r.getPropertiesItem,mobile:{fork:o.splitMobileComponentProperties,join:o.resetMobileComponentProperties,isForked:o.isMobileComponentPropertiesSplit}},data:{get:r.getDataItem,update:r.updateDataItem},design:{updateDesignItem:function(t,a,o,n){var i=r.getDesignItem(t,a),s=o.background&&!e.isEqual(o.background,i.background),l=r.updateDesignItem(t,a,o,n);return s&&function(t,a){var o=p.getAllCompDesignItems(t,a),n=e.map(o,function(t){return e.pick(r.getMediaRef(t),["uri","videoId","type"])});(!e.every(n,function(t){return e.isEqual(t,e.head(n))})||n.length<=1)&&p.removeDesignBehaviorsFromAllModes(t,a,["media"])}(t,a),l}},layout:{get:Y},isExist:y.isExist,getContainerToAddComponentTo:y.getContainerToAddComponentTo,applyComponentToMode:function(t,a,o){e.forEach(a,function(a){var n=a.compRef;p.removeSingleModeBehaviors(t,n);var i=t.pointers.componentStructure.getModes(n),s=t.dal.full.get(i);e.some(s.overrides,function(t){return e.includes(t.modeIds,o)})?s.overrides=s.overrides.map(function(t){return e.includes(t.modeIds,o)&&(t.isHiddenByModes=!1),t}):s.overrides.push({modeIds:[o],isHiddenByModes:!1}),t.dal.full.set(i,s);var l=e.find(a.compDefinition.modes.overrides,function(t){var r=e(a.compDefinition.activeModes).keys().head();return e.includes(t.modeIds,r)}),u=l&&l.layout?l.layout:a.compDefinition.layout,c=t.pointers.getInnerPointer(n,"layout");t.dal.set(c,u);var g=l&&l.props?l.props:a.compDefinition.props;g&&r.updatePropertiesItem(t,n,g),l&&l.style&&d.style.setId(t,n,l.previousStyleId)})}},{modes:p})}),define("documentServices/componentDetectorAPI/componentDetectorAPI",["lodash","zepto","utils","documentServices/documentMode/documentMode","documentServices/documentMode/documentModeInfo","documentServices/page/pageData","documentServices/page/popupUtils","documentServices/structure/structure","documentServices/component/componentStructureInfo","documentServices/component/component","documentServices/structure/utils/windowScroll"],function(e,t,a,r,o,n,i,s,l,u,c){"use strict";function d(e,t,a){var r=t.right-t.left+1,o=t.bottom-t.top+1,n={x:t.left+r/2,y:t.top+o/2},i={A:e,B:n},s=e.y-n.y,l=e.x-n.x;i.hypotenuse=Math.pow(Math.pow(l,2)+Math.pow(s,2),.5),i.ABHorizontalXangle=0===l?s>0?Math.PI/2:-Math.PI/2:Math.atan(s/l);var u,c=(u=a,u*Math.PI/180);i.ABComponentXangle=i.ABHorizontalXangle-c;var d=Math.abs(i.hypotenuse*Math.cos(i.ABComponentXangle)),p=Math.abs(i.hypotenuse*Math.sin(i.ABComponentXangle));return d<r/2&&p<o/2}function p(e,t,a,r,o,n,i){var l,u,c,p={x:t,y:s.isShowOnFixedPosition(e,i)?a-o:a,margin:r},g=(l=e,u=i,c=n,c(l,u)),f=g.rotationInDegrees,m=f>0;m||(g=g.bounding);var y,_,v,S,O,h=isNaN(r)?0:r,A=(y=g.width,_=g.height,v=g.x,S=g.y,O=h,{left:v-O,top:S-O,right:v+y+O,bottom:S+_+O});return m?d(p,A,f):(E=p).x>(C=A).left&&E.x<C.right&&E.y>C.top&&E.y<C.bottom;var E,C}function g(t,a,r,o){var n=t.siteAPI.getSiteMeasureMap(),i=o?t.pointers.full:t.pointers,l=a.reverse();return e(l).map(function(e){return i.components.getChildrenRecursivelyRightLeftRootIncludingRoot(e)}).flattenDeep().filter(r).sortBy(function(a){var r=e.get(n,["zIndex",a.id],0);return s.isFixedPosition(t,a)||s.isAncestorFixedPosition(t,a)?-1:1e3-r}).value()}function f(t,a,r){var o=r?t.dal.full:t.dal;return e.filter(a,function(e){return"platform.components.AppController"===o.get(t.pointers.getInnerPointer(e,"componentType"))})}function m(t,a,o,s){o=o||r.getViewMode(t);var l=s?t.pointers.full:t.pointers,u=l.components.getMasterPage(o),c=l.components.getChildren(u);if(a===u.id)return c;var d=a?[a]:n.getPagesList(t,!1,!0),p=e.map(d,function(e){return l.components.getPage(e,o)}),g=void 0;if(a&&t.siteAPI.isPageLandingPage(a)){var m=l.components.getLandingPageComponents(o);return g=f(t,c,s),m.concat(p,g)}if(a&&i.isPopup(t,a))return g=f(t,c,s),p.concat(g);var y=e.findIndex(c,{id:"PAGES_CONTAINER"})+1;return c.splice.apply(c,[y,0].concat(p)),c}function y(t,a,r,o,n,i,s){var u,d=a,f=r,y=(u=t,c.getScroll(u));if(s){var _=t.pointers.general.getRenderFlag("siteScale"),v=t.dal.get(_);d+=y.x,f+=y.y/v}var S=e.partial(p,t,d,f,o,y.y,i);n=n||t.siteAPI.getFocusedRootId();var O=m(t,n),h=g(t,O,S);return n===t.siteAPI.getFocusedRootId()&&(h=e.reject(h,function(e){return!l.isRenderedOnSite(t,e)})),h}function _(e,t,a,r){if(!t)return null;a=a||e.siteAPI.getCurrentUrlPageId(),r=r||o.getViewMode(e);var n=e.pointers.components.getPage(a,r),i=void 0;return n&&(i=e.pointers.components.getComponent(t,n))?i:(n=e.pointers.full.components.getPage(a,r))&&e.pointers.full.components.getComponent(t,n)}return{getComponentsAtXYRelativeToStructure:function(e,t,a,r,o){return y(e,t,a,r,o,s.getCompLayoutRelativeToStructure,!1)},getComponentsAtXYRelativeToScreen:function(e,t,a,r,o){return y(e,t,a,r,o,s.getCompLayoutRelativeToScreen,!0)},getComponentByType:function(t,a,r){var o,n,i=e.isArray(a)?a:[a],s=r?[r]:m(t,void 0,void 0,!0),l=(o=t,n=s,e(n).map(function(e){return o.pointers.full.components.getChildrenRecursively(e)}).flattenDeep().value());return l=l.concat(s),e.filter(l,function(a){var r=t.dal.full.get(t.pointers.getInnerPointer(a,"componentType"));return e.includes(i,r)})},getAllComponents:function(e,t,a,r){return g(e,m(e,t,r),a)},getAllComponentsFromFull:function(e,t,a){return g(e,m(e,t,r.getViewMode(e),!0),a,!0)},getComponentsUnderAncestor:function(e,t){return e.pointers.components.getChildrenRecursively(t)},getComponentById:_,getSiteHeader:function(e,t){return _(e,"SITE_HEADER","masterPage",t)},isDescendantOfComp:function(e,t,a){return a&&e.pointers.full.components.isDescendant(t,a)}}}),define("documentServices/pagesGroup/pagesGroup",["lodash","utils","coreUtils","documentServices/component/sospModes","documentServices/modes/modesUtils","documentServices/documentMode/documentModeInfo","documentServices/dataModel/dataIds","documentServices/dataModel/dataModel","documentServices/componentDetectorAPI/componentDetectorAPI","documentServices/component/componentModes","documentServices/component/component"],function(e,t,a,r,o,n,i,s,l,u,c){"use strict";var d=t.constants.DATA_TYPES,p="PAGES_GROUP_COLLECTION",g="PagesGroupCollection",f="PagesGroupData",m="wysiwyg.viewer.components.SiteRegionContainer";function y(t){var a=t.pointers.data.getDataItem(p,"masterPage");if(!a)return[];var r=t.pointers.getInnerPointer(a,"groups"),o=t.dal.full.get(r);return e.map(o,function(e,t){return e.pointers.data.getDataItem(t.replace("#",""),"masterPage")}.bind(null,t))}function _(t){return e.map(y(t),A.bind(null,t))}function v(t,a,r){var o=_(t),n=e.reject(o,{id:a});if(i=n,s=r,e.some(i,function(t){return e.some(s,function(a){return e.includes(t.pages,a)})}))throw new Error("pagesGroup: page already exist in another pagesGroup");var i,s}function S(t,a,i){var s=o.getSospModeByPagesGroup(t,a);s&&(i&&function(t,a){var r=t.pointers.components.getMasterPage(n.getViewMode(t)),i=u.getComponentActiveModeIds(t,r),s=!e.includes(i,a);s&&u.activateComponentMode(t,r,a);var d=l.getComponentByType(t,m,r),p=o.getSOSPModes(t),g=e.map(p,"modeId");e.forEach(d,function(o){var n=u.overrides.getAllOverrides(t,o),i=e.flatMap(e.map(n,"modeIds"));if(e.includes(i,a)){var l=e.reduce(n,function(t,r){var o=r.modeIds,n=e.cloneDeep(r);return n.modeIds=e.without(o,a),e.isEmpty(n.modeIds)||t.push(n),t},[]),d=e.flatMap(e.map(l,"modeIds"));e.isEmpty(l)||e.isEmpty(e.intersection(d,g))?c.remove(t,o):(s&&u.deactivateCompMode(t,r,a),u.overrides.updateComponentOverrides(t,o,l))}})}(t,s.modeId),r.removeSOSPMode(t,s.modeId))}function O(t,a){var r=e.find(_(t),a);return r?t.pointers.data.getDataItem(r.id,"masterPage"):null}function h(e,t){return O(e,{id:t})}function A(e,t){return t?e.dal.get(t):null}return{createPagesGroup:function(t,a,r){var o=function(t,a){var r=s.createDataItemByType(t,f);return e.defaults(a,r)}(t,r);!function(t,a,r){var o=_(t);if(e.isEmpty(a.groupName))throw new Error("pagesGroup: groupName is required");if(e.some(o,e.pick(a,"groupName")))throw new Error("pagesGroup: groupName must be unique");if(e.has(a,"appId")&&e.some(o,e.pick(a,"appId")))throw new Error("pagesGroup: appId must be unique");v(t,r,a.pages)}(t,o,a),s.addSerializedDataItemToPage(t,"masterPage",o,a),n=t,Boolean(s.getDataItemById(n,p))||function(e){var t=s.createDataItemByType(e,g);s.addSerializedDataItemToPage(e,"masterPage",t,p)}(t);var n;!function(e,t){var a=e.pointers.data.getDataItemFromMaster(p),r=e.pointers.getInnerPointer(a,"groups");e.dal.push(r,"#"+t)}(t,a)},removePagesGroup:function(t,a,r){t.dal.isExist(a)&&(S(t,a,r),function(t,a){var r=t.pointers.data.getDataItemFromMaster(p),o=t.pointers.getInnerPointer(r,"groups"),n=t.dal.get(o),i=e.pull(n,"#"+a.id);t.dal.set(o,i)}(t,a),s.removeDataItemRecursively(t,a))},getNewPagesGroupId:function(){return i.generateNewId(d.data)},getAll:y,getPagesGroupById:h,getPagesGroupByGroupName:function(e,t){return O(e,{groupName:t})},getPagesGroupByAppId:function(e,t){return O(e,{appId:t})},getPagesGroupByPageId:function(t,a){var r="#"+a;return O(t,function(t){return e.includes(t.pages,r)})},getComponentPagesGroup:function(e,t){var a=r.getComponentPagesGroupId(e,t);return a?h(e,a):null},serializePagesGroup:A,addPageToPagesGroup:function(t,a,r){var o=t.pointers.getInnerPointer(a,"pages"),n=t.dal.get(o),i="#"+r;n&&!e.includes(n,i)&&(v(t,a.id,[i]),t.dal.push(o,i),t.siteAPI.updateActiveSOSPModes())},removePageFromPagesGroup:function(t,a,r){var o=t.pointers.getInnerPointer(a,"pages"),n=t.dal.get(o),i="#"+r;if(e.includes(n,i)){var s=e.pull(n,i);t.dal.set(o,s),t.siteAPI.updateActiveSOSPModes()}}}}),define("documentServices/page/pageProperties",["lodash","documentServices/dataModel/dataModel"],function(e,t){"use strict";function a(e,t){return e.pointers.components.getViewMode(t).toLowerCase()}return{getPageProperties:function(r,o){return e.get(t.getPropertiesItem(r,o),a(r,o))},updatePageProperties:function(r,o,n){var i=function(r,o,n){var i=t.getPropertiesItem(r,o)||t.createPropertiesItemByType(r,"PageProperties"),s=a(r,o),l=void 0;if(e.isPlainObject(n)){var u=e.get(i,s,{});l=e.assign(u,n)}else l=n;return e.set(i,s,l),i}(r,o,n);t.updatePropertiesItem(r,o,i)}}}),define("documentServices/mobileConversion/modules/displayModeUtils",["lodash","documentServices/dataModel/dataModel","documentServices/hooks/hooks","mobileCore","documentServices/mobileConversion/modules/mergeAggregator","documentServices/mobileConversion/mobileConversionFacade","documentServices/mobileConversion/modules/conversionSettings"],function(e,t,a,r,o,n,i){"use strict";return{setComponentDisplayMode:function(s,l,u){var c=s.pointers.components.getDesktopPointer(l);if(!function(t,a){var r=t.dal.full.get(t.pointers.componentStructure.getModesDefinitions(a));return e.size(r)>1}(s,c))return null;var d=s.pointers.components.getPageOfComponent(l).id,p=s.pointers.page.getPagePointer(d);t.updatePropertiesItem(s,c,{mobileDisplayedModeId:u});var g=s.dal.get(s.pointers.getInnerPointer(p,"componentType"));a.executeHook(a.HOOKS.MOBILE_CONVERSION.BEFORE,g,[s,p]);var f=o.getPage(s,d),m=r.conversionUtils.extractMobilePage(f);!function t(a,r){var o=e.remove(a,r);return!e.isEmpty(o)||e.some(a,function(e){return t(e.components,r)})}(r.conversionUtils.getChildren(m),{id:l.id});var y=i.getConversionSettings({conversionType:"MERGE_DISPLAY_MODE"});n.runMobileMergeOnPage(s,f,m,y)}}}),define("documentServices/mobileConversion/modules/hideMobileComponent",["documentServices/structure/structure","documentServices/componentsMetaData/componentsMetaData","documentServices/component/component","mobileCore","lodash"],function(e,t,a,r,o){"use strict";var n=function(e,a,r,n){return o.get(t.public.getMobileConversionConfig(e,e.dal.get(a),r),n)},i=function(e,t,r){return o.filter(r,function(r){return l(a.layout.get(e,r))>t.y})},s=function(t,r,o){return e.updateCompLayout(t,r,{y:a.layout.get(t,r).y+o})},l=function(e){return e.y+e.height},u=function(e){return[e.y,l(e)]},c=function(e,t,n){return o.filter(n,function(o){return r.conversionUtils.getRangesOverlap(u(a.layout.get(e,o)),u(t))>0})};function d(e,t,r){var n=c(e,t,r),i=function(e,t,r){if(o.isEmpty(r))return{overlappingSiblingsOffset:0,lowerSiblingsOffset:t.height};var n=o.minBy(r,function(t){return a.layout.get(e,t).y}),i=a.layout.get(e,n).y-t.y,s=o.maxBy(r,function(t){return l(a.layout.get(e,t))}),u=l(t)-l(a.layout.get(e,s));if(i>0&&u>0)return{overlappingSiblingsOffset:i,lowerSiblingsOffset:i+u};if(i>0&&u<=0)return{overlappingSiblingsOffset:i,lowerSiblingsOffset:i};if(i<=0&&u>0)return{overlappingSiblingsOffset:0,lowerSiblingsOffset:u};return{overlappingSiblingsOffset:0,lowerSiblingsOffset:0}}(e,t,n);i.overlappingSiblingsOffset>0&&o.forEach(n,function(t){return s(e,t,-i.overlappingSiblingsOffset)});var u=o.difference(r,n);return i.lowerSiblingsOffset>0&&o.forEach(u,function(t){return s(e,t,-i.lowerSiblingsOffset)}),i.lowerSiblingsOffset}function p(e,t,r){return{freedRect:r=r||a.layout.get(e,t),parentPointer:a.getContainer(e,t),affectedComps:i(e,r,a.getSiblings(e,t))}}return{hideMobileComponent:function(t,r,i){if((arguments.length>3&&void 0!==arguments[3]?arguments[3]:{updateLayout:!0}).updateLayout){var s=p(t,r);a.deleteComponent(t,r,!1),function t(r,i,s){var l=d(r,i.freedRect,i.affectedComps);if(0!==l){var u=a.layout.get(r,i.parentPointer),c=o.max([u.height-l,n(r,i.parentPointer,s,"minHeight")||0]);if(e.updateCompLayout(r,i.parentPointer,{height:c}),a.getContainer(r,i.parentPointer)){var g=o.assign(u,{y:u.y+c,height:u.height-c});t(r,p(r,i.parentPointer,g),s)}}}(t,s,i)}else a.deleteComponent(t,r,!1)}}}),define("documentServices/mobileConversion/mobileActions",["documentServices/page/pageProperties","lodash","mobileCore","documentServices/mobileConversion/mobileConversionFacade","documentServices/mobileConversion/modules/mergeAggregator","documentServices/mobileConversion/modules/displayModeUtils","documentServices/mobileConversion/modules/hideMobileComponent","documentServices/mobileConversion/modules/conversionSettings","documentServices/constants/constants","documentServices/hooks/hooks","coreUtils","documentServices/mobileConversion/modules/mobileHints","documentServices/componentsMetaData/componentsMetaData","documentServices/dataModel/dataModel"],function(e,t,a,r,o,n,i,s,l,u,c,d,p,g){"use strict";var f=function(e,t,a){return e.pointers.full.components.getComponent(t,e.pointers.components.getPage(a,l.VIEW_MODES.DESKTOP))},m=function(e,t,a){return e.pointers.components.getComponent(t,e.pointers.components.getPage(a,l.VIEW_MODES.MOBILE))},y=function(e,a,r,o){return t.get(p.public.getMobileConversionConfig(e,e.dal.get(a),r),o)};function _(t,a){var r=t.pointers.components.getPage(a,l.VIEW_MODES.MOBILE);e.updatePageProperties(t,r,{minHeight:null})}function v(e,t){var a=e.dal.get(e.pointers.getInnerPointer(t,"componentType"));u.executeHook(u.HOOKS.MOBILE_CONVERSION.BEFORE,a,[e,t])}function S(e){!function(e){var a=o.getChangedPagesPointers(e),r=t.map(e.siteAPI.getAllRenderedRootIds(),function(t){return e.pointers.page.getPagePointer(t)});t.forEach(t.uniqBy(a.concat(r),"id"),function(t){return v(e,t)})}(e),r.runPartialConversionAllPages(e)}function O(e,r){return t.reduce(r,function(r,o,n){return t.set(r,n,function(e,r,o){var n=t.flatMap(r,function(r){if(a.mobileOnlyComponents.isMobileOnlyComponentId(r))return[];var n=e.pointers.components.getPage(o,l.VIEW_MODES.DESKTOP),i=e.pointers.components.getComponent(r,n);return y(e,i,o,"filterChildrenWhenHidden")?t.map(e.pointers.components.getChildrenRecursively(i),"id"):[]});return t.difference(r,n)}(e,o,n))},{})}function h(e,t){var a=m(e,t,l.MASTER_PAGE_ID);return a&&e.dal.isExist(a)}function A(e,a){var r=a?[a]:t.keys(e.dal.get(e.pointers.page.getAllPagesPointer())),o=t.reduce(r,function(a,r){return t.set(a,r,function(e,a){var r=e.pointers.components.getPage(a,l.VIEW_MODES.DESKTOP);if(!r)return null;var o=t(e.pointers.components.getChildrenRecursively(r)).filter(function(a){return t.get(g.getMobileHintsItem(e,a),"hidden")}).map("id").value();return a!==l.MASTER_PAGE_ID?o:h(e,l.MOBILE_ONLY_COMPONENTS.TINY_MENU)?o:t.compact([].concat(_toConsumableArray(o),[l.MOBILE_ONLY_COMPONENTS.TINY_MENU]))}(e,r))},{});return a?o[a]:o}return{initialize:function(e){a=u.HOOKS.SWITCH_VIEW_MODE.MOBILE,r=t.bind(S,null,e),u.unregisterHooks([a]),u.registerHook(a,r);var a,r;d.initialize(e)},reLayoutPage:function(e,t){t=t||e.siteAPI.getCurrentUrlPageId(),v(e,e.pointers.page.getPagePointer(t)),_(e,t);var a=o.getPage(e,t);r.runMobileConversionOnPage(e,a),u.executeHook(u.HOOKS.RELAYOUT_MOBILE_PAGE.AFTER,null,[e,t])},enableBackToTopButton:function(e,t){if("boolean"!=typeof t)throw new Error("invalid parameter type");var a=l.MASTER_PAGE_ID,o=m(e,l.MOBILE_ONLY_COMPONENTS.BACK_TO_TOP_BUTTON,a),n=o&&e.dal.isExist(o);t&&!n&&r.addMobileOnlyComponent(e,l.MOBILE_ONLY_COMPONENTS.BACK_TO_TOP_BUTTON),!t&&n&&i.hideMobileComponent(e,o,a,{updateLayout:!1})},setComponentDisplayMode:n.setComponentDisplayMode,getTinyMenuDefaultPosition:a.conversionUtils.getTinyMenuDefaultPosition,hiddenComponents:{get:A,getFiltered:function(e,a){var r=A(e,a),o=O(e,a?t.set({},a,r):r);return a?o[a]:o},hide:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{updateLayout:!0};if(t=e.pointers.components.getMobilePointer(t),e.dal.isExist(t)){var r=e.pointers.components.getPageOfComponent(t).id;_(e,r);var o=f(e,t.id,r);d.updateProperty(e,{hidden:!0},o,{updateChildren:!0,childrenSourceView:l.VIEW_MODES.MOBILE},r),i.hideMobileComponent(e,t,r,a)}},show:function(e,t,n,i){if(!n||!i)throw new Error("function must receive component id and page id");if(a.mobileOnlyComponents.isMobileOnlyComponentId(n))r.addMobileOnlyComponent(e,l.MOBILE_ONLY_COMPONENTS.TINY_MENU,{commitConversionResults:!1});else{var u=f(e,n,i);d.updateProperty(e,{hidden:!1},u,{updateChildren:!0,childrenSourceView:l.VIEW_MODES.DESKTOP});var c=o.getPage(e,i),p=a.conversionUtils.extractMobilePage(c),g=s.getConversionSettings({conversionType:"MERGE_UNHIDE"});r.runMobileMergeOnPage(e,c,p,g)}},set:function(e,r,o){var n=e.dal.full.get(e.pointers.components.getPage(r,l.VIEW_MODES.DESKTOP)),i=t(c.dataUtils.getAllCompsInStructure(n)).reject(a.conversionUtils.isPageComponent).map("id").value();t.forEach(i,function(a){var n=t.includes(o,a),i=f(e,a,r);d.updateProperty(e,{hidden:n},i)})}},isMobileOnlyComponent:function(e,t){return a.mobileOnlyComponents.isMobileOnlyComponentId(t)},isMobileOnlyComponentExistOnStructure:h,mobileOnlyComps:l.MOBILE_ONLY_COMPONENTS,implicitFontSize:function(e,t){return c.mobileUtils.convertFontSizeToMobile(t,1)},getMobileComponentToShow:m}}),define("documentServices/siteMetadata/seo",["lodash","utils","documentServices/siteMetadata/dataManipulation"],function(e,t,a){"use strict";var r=t.ajaxLibrary,o={SE_ENABLE_INDEX_PARAM_IS_NOT_BOOLEN:"SE_ENABLE_INDEX_PARAM_IS_NOT_BOOLEN",TEXT_IS_NOT_STRING:"TEXT_IS_NOT_STRING",TEXT_TOO_LONG:"TEXT_TOO_LONG",TEXT_INVALID_CHARS:"TEXT_INVALID_CHARS",KEYWORDS_INVALID_CHARS:"KEYWORDS_INVALID_CHARS",METATAGS_INVALID_FORMAT:"METATAGS_INVALID_FORMAT",METATAGS_INVALID_CHARS:"METATAGS_INVALID_CHARS",METATAGS_SERVER_INVALID_CODE:"METATAGS_SERVER_INVALID_CODE",METATAGS_SERVER_INVALID_TAG:"METATAGS_SERVER_INVALID_TAG",REDIRECT_INVALID_CHARS:"REDIRECT_INVALID_CHARS",REDIRECT_URI_MAPPING_IS_NOT_OBJECT:"REDIRECT_URI_MAPPING_IS_NOT_OBJECT",REDIRECT_FROM_URIS_IS_NOT_ARRAY:"REDIRECT_FROM_URIS_IS_NOT_ARRAY",REDIRECT_MAPPING_INVALID_FORMAT:"REDIRECT_MAPPING_INVALID_FORMAT",REDIRECT_MAPPING_URIS_NOT_STRING:"REDIRECT_MAPPING_URIS_NOT_STRING",SERVER_VALIDATION_TIMEOUT:"SERVER_VALIDATION_TIMEOUT"},n={TITLE_MAX_LENGTH:70,DESCRIPTION_MAX_LENGTH:320,KEYWORDS_MAX_LENGTH:250,METATAGS_MAX_LENGTH:2e3,REDIRECT_MAX_LENGTH:149},i={HTML_CHARS:/[<>]/g,KEYWORD_CHARS:/[!#$%^&()+=\]\[}{";:\/><~]/g,META_TAG:/^\s*((((<meta|<link)\s[^>]*>*[\s\n]*)*>)|[\s\n]*(<!--[^<>]*-->)[\s\n]*)*[\s\n]*$/i,URI_CHARS:/[^.,';()%@!?$&*+~a-zA-Z0-9\[\]_:\/\"\n=-]/gi};function s(t,a){if(!e.isString(a))return{success:!1,errorCode:o.TEXT_IS_NOT_STRING};if(a.length>n.TITLE_MAX_LENGTH)return{success:!1,errorCode:o.TEXT_TOO_LONG,validLength:n.TITLE_MAX_LENGTH};var r=g(a);return r&&r.length?{success:!1,errorCode:o.TEXT_INVALID_CHARS,errorContent:r}:{success:!0}}function l(t,a){if(!e.isString(a))return{success:!1,errorCode:o.TEXT_IS_NOT_STRING};if(a.length>n.DESCRIPTION_MAX_LENGTH)return{success:!1,errorCode:o.TEXT_TOO_LONG,validLength:n.DESCRIPTION_MAX_LENGTH};var r=g(a);return r&&r.length?{success:!1,errorCode:o.TEXT_INVALID_CHARS,errorContent:r}:{success:!0}}function u(t,a){if(!e.isString(a))return{success:!1,errorCode:o.TEXT_IS_NOT_STRING};if(a.length>n.KEYWORDS_MAX_LENGTH)return{success:!1,errorCode:o.TEXT_TOO_LONG,validLength:n.KEYWORDS_MAX_LENGTH};var r,s=(r=a,e.uniq(r.match(i.KEYWORD_CHARS)));return s&&s.length?{success:!1,errorCode:o.KEYWORDS_INVALID_CHARS,errorContent:s}:{success:!0}}function c(t,a,r,s){if(!e.isString(a))return s({success:!1,errorCode:o.TEXT_IS_NOT_STRING}),!1;if(e.isEmpty(a)&&r({success:!0}),a.length>n.METATAGS_MAX_LENGTH)return s({success:!1,errorCode:o.TEXT_TOO_LONG,validLength:n.METATAGS_MAX_LENGTH}),!1;if(l=a,e.isEmpty(l)||!i.META_TAG.test(l))return s({success:!1,errorCode:o.METATAGS_INVALID_FORMAT}),!1;var l;return!e.includes(a,"”")||(s({success:!1,errorCode:o.METATAGS_INVALID_CHARS}),!1)}function d(t,a,n,i){c(0,a,n,i)&&(s=a,l=n,u=i,r.ajax({type:"POST",url:"//editor.wix.com/html/head-tags/validate",contentType:"text/plain; charset=utf-8",data:s,success:function(t,a,r){if(r.success)t({success:!0});else{var n=r.errorCode,i=r.errorDescription,s="",l=void 0;if(0===n)s=o.SERVER_VALIDATION_TIMEOUT;else{var u=i.match(/'(.*)' tags are not allowed/),c=u&&e.size(u)>=1?u[1]:"";switch(c){case"":case"#text":s=o.METATAGS_SERVER_INVALID_CODE;break;default:s=o.METATAGS_SERVER_INVALID_TAG,l=c}}a({success:!1,errorCode:s,errorContent:l})}}.bind(null,l,u),error:function(e){e({success:!1})}.bind(null,u)}));var s,l,u}function p(t,a){if(!e.isObject(a))return{success:!1,errorCode:o.REDIRECT_URI_MAPPING_IS_NOT_OBJECT};var r=null;return e.forEach(a,function(t,a){if(e.isString(a)&&e.isString(t))if(a.length>n.REDIRECT_MAX_LENGTH)r=r||{success:!1,errorCode:o.TEXT_TOO_LONG,validLength:n.REDIRECT_MAX_LENGTH};else{var s,l=(s=a,e.uniq(s.match(i.URI_CHARS)));l&&l.length&&(r=r||{success:!1,errorCode:o.REDIRECT_INVALID_CHARS,errorContent:l})}else r=r||{success:!1,errorCode:o.REDIRECT_MAPPING_URIS_NOT_STRING}}),r||{success:!0}}function g(t){return e.uniq(t.match(i.HTML_CHARS))}function f(t,r,o){var n=a.getProperty(t,a.PROPERTY_NAMES.META_TAGS),i=e.find(n,{name:r});i||(i={name:r,value:"",isProperty:!1},n.push(i));i.value=o,a.setProperty(t,a.PROPERTY_NAMES.META_TAGS,n)}return{ERRORS:o,indexing:{enable:function(t,r){if(!e.isBoolean(r))throw new Error(o.SE_ENABLE_INDEX_PARAM_IS_NOT_BOOLEN);a.setProperty(t,a.PROPERTY_NAMES.SE_INDEXABLE,r)},isEnabled:function(e){return a.getProperty(e,a.PROPERTY_NAMES.SE_INDEXABLE)}},title:{set:function(e,t){var r=s(0,t);if(!r.success)throw new Error(r.errorCode);a.setProperty(e,a.PROPERTY_NAMES.SEO_TITLE,t)},get:function(e){return a.getProperty(e,a.PROPERTY_NAMES.SEO_TITLE)},validate:s},description:{set:function(e,t){var a=l(0,t);if(!a.success)throw new Error(a.errorCode);f(e,"description",t)},get:function(t){var r=a.getProperty(t,a.PROPERTY_NAMES.META_TAGS),o=e.find(r,{name:"description"});return o&&o.value||""},validate:l},keywords:{set:function(e,t){var a=u(0,t);if(!a.success)throw new Error(a.errorCode);f(e,"keywords",t)},get:function(t){var r=a.getProperty(t,a.PROPERTY_NAMES.META_TAGS),o=e.find(r,{name:"keywords"});return o&&o.value||""},validate:u},headTags:{set:function(e,t,r,o){d(0,t,function(){a.setProperty(e,a.PROPERTY_NAMES.CUSTOM_HEAD_TAGS,t),r()},function(e){o(e.errorCode)})},get:function(e){return a.getProperty(e,a.PROPERTY_NAMES.CUSTOM_HEAD_TAGS)},validate:d,clientSideValidation:function(e,t,a,r){return c(0,t,a,r)}},redirectUrls:{update:function(t,r){var o=p(0,r);if(!o.success)throw new Error(o.errorCode);var n=a.getProperty(t,a.PROPERTY_NAMES.EXTERNAL_URI_MAPPINGS),i={};e.forEach(n,function(e){var t=e.fromExternalUri,a=e.toWixUri;i[t]=a});var s=e.mergeWith(i,r,function(t,a){return e.isEmpty(a)?t:a}),l=e.map(s,function(e,t){return{fromExternalUri:t,toWixUri:e}});a.setProperty(t,a.PROPERTY_NAMES.EXTERNAL_URI_MAPPINGS,l)},remove:function(t,r){if(!e.isArray(r))throw new Error(o.REDIRECT_FROM_URIS_IS_NOT_ARRAY);var n=a.getProperty(t,a.PROPERTY_NAMES.EXTERNAL_URI_MAPPINGS),i=e.filter(n,function(t){var a=t.fromExternalUri;return!e.includes(r,a)});return a.setProperty(t,a.PROPERTY_NAMES.EXTERNAL_URI_MAPPINGS,i),!0},get:function(t){var r=a.getProperty(t,a.PROPERTY_NAMES.EXTERNAL_URI_MAPPINGS),o={};return e.forEach(r,function(e){o[e.fromExternalUri]=e.toWixUri}),o},validate:p}}}),define("documentServices/siteMetadata/social",["lodash","documentServices/siteMetadata/dataManipulation"],function(e,t){"use strict";var a={FB_USERNAME_IS_NOT_STRING:"FB_USERNAME_IS_NOT_STRING",FB_USERNAME_INVALID_CHARS:"FB_USERNAME_INVALID_CHARS",FB_USERNAME_TOO_LONG:"FB_USERNAME_TOO_LONG",FB_THUMBNAIL_IS_NOT_STRING:"FB_THUMBNAIL_IS_NOT_STRING"},r={FB_USERNAME_MAX_LENGTH:250};function o(t,o){if(!e.isString(o))return{success:!1,errorCode:a.FB_USERNAME_IS_NOT_STRING};if(o.length>r.FB_USERNAME_MAX_LENGTH)return{success:!1,errorCode:a.FB_USERNAME_TOO_LONG};var n,i=(n=o,e.uniq(n.match(/[^a-zA-Z0-9\.]/g)));return i&&i.length?{success:!1,errorCode:a.FB_USERNAME_INVALID_CHARS,errorContent:i}:{success:!0}}return{facebook:{setThumbnail:function(r,o){var n=(i=o,e.isString(i)?{success:!0}:{success:!1,errorCode:a.FB_THUMBNAIL_IS_NOT_STRING});var i;if(!n.success)throw new Error(n.errorCode);t.setProperty(r,t.PROPERTY_NAMES.SOCIAL_THUMBNAIL,o||"")},getThumbnail:function(e){return t.getProperty(e,t.PROPERTY_NAMES.SOCIAL_THUMBNAIL)},setUsername:function(a,r){var n=o(0,r);if(!n.success)throw new Error(n.errorCode);var i=t.getProperty(a,t.PROPERTY_NAMES.META_TAGS);e.find(i,{name:"fb_admins_meta_tag"}).value=r||"",t.setProperty(a,t.PROPERTY_NAMES.META_TAGS,i)},getUsername:function(a){var r=t.getProperty(a,t.PROPERTY_NAMES.META_TAGS);return e.find(r,{name:"fb_admins_meta_tag"}).value},validateUsername:o,ERRORS:a}}}),define("documentServices/siteMetadata/favicon",["lodash","documentServices/siteMetadata/dataManipulation"],function(e,t){"use strict";var a={FAVICON_IS_NOT_STRING:"FAVICON_IS_NOT_STRING"};return{get:function(e){return t.getProperty(e,t.PROPERTY_NAMES.FAVICON)},set:function(r,o){var n=(i=o,e.isString(i)?{success:!0}:{success:!1,errorCode:a.FAVICON_IS_NOT_STRING});var i;if(!n.success)throw new Error(n.errorCode);t.setProperty(r,t.PROPERTY_NAMES.FAVICON,o||"")},ERRORS:a}}),define("documentServices/siteMetadata/premiumFeatures",["documentServices/siteMetadata/dataManipulation"],function(e){"use strict";return{getFeatures:function(t){return e.getProperty(t,e.PROPERTY_NAMES.PREMIUM_FEATURES)},setFeatures:function(t,a){e.setProperty(t,e.PROPERTY_NAMES.PREMIUM_FEATURES,a)}}}),define("documentServices/siteMetadata/siteName",["lodash","documentServices/siteMetadata/dataManipulation"],function(e,t){"use strict";var a={SITE_NAME_IS_EMPTY:"SITE_NAME_IS_EMPTY",SITE_NAME_IS_NOT_STRING:"SITE_NAME_IS_NOT_STRING",SITE_NAME_INVALID_CHARS:"SITE_NAME_INVALID_CHARS",SITE_NAME_ENDS_WITH_HYPHEN:"SITE_NAME_ENDS_WITH_HYPHEN",SITE_NAME_TOO_SHORT:"SITE_NAME_TOO_SHORT",SITE_NAME_TOO_LONG:"SITE_NAME_TOO_LONG",SITE_NAME_ALREADY_EXISTS:"SITE_NAME_ALREADY_EXISTS"},r={MIN_LENGTH:4,MAX_LENGTH:20};function o(t,r){var o=n(r);return o.success?function(t,a){return a=l(a),e.includes(e.invokeMap(s.call(this,t),"toLowerCase"),a)}(t,r)?{success:!1,errorCode:a.SITE_NAME_ALREADY_EXISTS}:{success:!0,extraInfo:l(r)}:o}function n(t){if(!e.isString(t))return{success:!1,errorCode:a.SITE_NAME_IS_NOT_STRING};if(e.isEmpty(t))return{success:!1,errorCode:a.SITE_NAME_IS_EMPTY};var o,n=(o=t,e.uniq(o.match(/[^a-zA-Z0-9\s\-]/g)));if(n&&n.length)return{success:!1,errorCode:a.SITE_NAME_INVALID_CHARS,errorContent:n};if("-"===t.slice(-1))return{success:!1,errorCode:a.SITE_NAME_ENDS_WITH_HYPHEN};return(t=l(t)).length<r.MIN_LENGTH?{success:!1,errorCode:a.SITE_NAME_TOO_SHORT}:t.length>r.MAX_LENGTH?{success:!1,errorCode:a.SITE_NAME_TOO_LONG}:{success:!0,extraInfo:l(t)}}function i(e){return t.getProperty(e,t.PROPERTY_NAMES.SITE_NAME)}function s(e){return t.getProperty(e,t.PROPERTY_NAMES.USED_META_SITE_NAMES)}function l(e){return e.replace(/([^\s\w\d_\-])/g,"").replace(/\s+/g,"-").replace(/-+$/g,"").toLowerCase()}return{set:function(a,r){var u=o(a,r);if(!u.success)throw new Error(u.errorCode);var c=i(a);t.setProperty(a,t.PROPERTY_NAMES.SITE_NAME,l(r)),n(c).success&&function(a,r){var o=s(a);o=e.without(o,r),t.setProperty(a,t.PROPERTY_NAMES.USED_META_SITE_NAMES,o)}(a,c)},get:i,sanitize:function(e,t){return l(t)},validate:o,getUsedSiteNames:s,markSiteNameAsUsed:function(e,a){var r=t.getProperty(e,t.PROPERTY_NAMES.USED_META_SITE_NAMES);r.push(a),t.setProperty(e,t.PROPERTY_NAMES.USED_META_SITE_NAMES,r)},ERRORS:a}}),define("documentServices/siteMetadata/statistics",["lodash","documentServices/siteMetadata/dataManipulation"],function(e,t){"use strict";return{cookies:{enable:function(a,r){if(!e.isBoolean(r))throw new Error("argument isEnabled must be boolean");t.setProperty(a,t.PROPERTY_NAMES.SUPPRESS_COOKIES,!r)},isEnabled:function(e){return!t.getProperty(e,t.PROPERTY_NAMES.SUPPRESS_COOKIES)}}}}),define("documentServices/siteMetadata/compatibility",["lodash","documentServices/componentDetectorAPI/componentDetectorAPI","documentServices/dataModel/dataModel"],function(e,t,a){"use strict";var r=["news","menu","faq"],o="wixapps.integration.components.AppPart";return{hasAppPage:function(t){var a=function(e){var t=e.pointers.page.getPageData("masterPage");return e.dal.get(t)}(t);return!!e.find(a,{type:"AppPage",appPageType:"AppBuilderPage"})},hasOldApp:function(n){var i=n.pointers.general.getClientSpecMap(),s=n.dal.get(i),l={};e.forEach(r,function(t){var a=e.find(s,{type:"wixapps",packageName:t});if(a){var r=a.applicationId;l[r]=a}});var u=e.find(s,{packageName:"ecommerce"});if(u&&(l[u.applicationId]=u),e.isEmpty(l))return!1;var c=t.getComponentByType(n,o);return e.some(c,function(e){var t=a.getDataItem(n,e);return!!l[t.appInnerID]})},hasNewBlog:function(t){var a=t.pointers.general.getClientSpecMap(),r=t.dal.get(a);return!!e.find(r,["appDefinitionName","Wix Blog"])}}}),define("documentServices/siteMetadata/language",["lodash","coreUtils","coreMultilingual"],function(e,t,a){"use strict";var r=a.languageStatus,o=e.property("languageCode");function n(t,a){return e(t).map(o).includes(o(a))}function i(e){return t.multilingual.getCurrentLanguageCode(e)}function s(e,a){m(e,{languageCode:a})&&t.multilingual.setCurrentLanguage({dal:e.dal,pointers:e.pointers,siteDataAPI:e.siteDataAPI})(a)}function l(a,r){var n=a.dal.get(a.pointers.page.getAllPagesPointer());e.forEach(n,function(n,i){var s=_defineProperty({},o(r),e.cloneDeep(t.multilingual.EMPTY_TRANSLATION_DATA)),l=a.pointers.page.getPageTranslations(i,a.siteAPI.isExperimentOpen.bind(a.siteAPI)),u=a.dal.fullJsonDal.get(l),c=e.assign(s,u);a.dal.fullJsonDal.set(l,c)})}function u(t,a,l){var u=d(t);if(n(u,a)){var g=e.assign({},a,{status:l});if(p(t,u.map(function(e){return o(e)===o(a)?g:e})),l===r.DELETED&&i(t)===a.languageCode){s(t,c(t).languageCode)}}}function c(e){var t=e.dal,a=e.pointers;return t.get(a.multilingual.originalLanguage())}function d(e){var t=e.dal,a=e.pointers;return t.get(a.multilingual.translationLanguages())}function p(e,t){var a=e.dal,r=e.pointers;return a.set(r.multilingual.translationLanguages(),t)}function g(t){var a=t.dal,o=t.pointers;return e.reject(d({dal:a,pointers:o}),{status:r.DELETED})}function f(t){return e.concat(c(t),g(t))}function m(e,t){return n(f(e),t)}function y(e,t){var a=e.pointers.components.getPageOfComponent(t);return e.dal.fullJsonDal.get(a).id}function _(e,t){var a=e.pointers.getInnerPointer(t,"dataQuery");return e.dal.fullJsonDal.get(a).replace("#","")}return{multilingual:{isEnabled:function(t){return!e.isEmpty(c(t))}},current:{get:i,set:s},original:{get:c,set:function(e,t){if(!m(e,t)){var a=o(c(e));t.status=r.ACTIVE;var n=e.dal,l=e.pointers;n.set(l.multilingual.originalLanguage(),t),i(e)===a&&s(e,o(t))}}},public:{get:function(t,a){var o;return n((o=t,e.filter(f(o),{status:r.ACTIVE})),a)}},status:{set:u},get:g,getFull:d,add:function(e,t){m(e,t)||(p(e,d(e).concat(t)),l(e,t))},remove:function(t,a){var n=d(t),i={languageCode:o(a)};if(e.find(n,i)){var s=e.reject(n,i),l=e.filter(s,{status:r.ACTIVE});e.isEmpty(l)&&u(t,c(t),r.ACTIVE);var p=t.dal,g=t.pointers;p.set(g.multilingual.translationLanguages(),s)}},init:function(t,a){var r=a.originalLanguage,n=a.translationLanguages;t.dal.set(t.pointers.multilingual.originalLanguage(),r),t.dal.set(t.pointers.multilingual.translationLanguages(),n),function(t){var a=t.dal.get(t.pointers.page.getAllPagesPointer());e.forEach(a,function(a,r){var o=t.pointers.page.getPageTranslations(r,t.siteAPI.isExperimentOpen.bind(t.siteAPI)),n=t.dal.fullJsonDal.get(o);e.isUndefined(n)&&t.dal.fullJsonDal.set(o,{})})}(t),e.forEach(n,e.partial(l,t)),s(t,o(r)||null)},copyTranslationData:function(t,a,r){var o=y(t,a),n=y(t,r),i=t.pointers.page.getPageTranslations(o,t.siteAPI.isExperimentOpen.bind(t.siteAPI)),s=t.dal.fullJsonDal.get(i),l=_(t,a),u=_(t,r);t.siteDataAPI.getActionQueue().runImmediately(function(){e.forEach(s,function(a,r){var i=t.pointers.multilingualTranslations.translationDataItem(o,r,l);if(t.dal.fullJsonDal.isExist(i)){var s=t.dal.fullJsonDal.get(i),c=e.cloneDeep(s);c.id=u;var d=t.pointers.multilingualTranslations.translationDataItem(n,r,u);t.dal.fullJsonDal.set(d,c)}}),t.siteDataAPI.createDisplayedPages()})}}}),define("documentServices/siteMetadata/siteMetadata",["lodash","documentServices/siteMetadata/dataManipulation","documentServices/siteMetadata/seo","documentServices/siteMetadata/social","documentServices/siteMetadata/favicon","documentServices/siteMetadata/premiumFeatures","documentServices/siteMetadata/generalInfo","documentServices/siteMetadata/siteName","documentServices/siteMetadata/statistics","documentServices/siteMetadata/compatibility","documentServices/siteMetadata/language"],function(e,t,a,r,o,n,i,s,l,u,c){"use strict";return{PROPERTY_NAMES:t.PROPERTY_NAMES,getProperty:t.getProperty,setProperty:t.setProperty,getRevertibleMetaDataInfo:t.getRevertibleMetaDataInfo,getNonRevertibleMetaDataInfo:t.getNonRevertibleMetaDataInfo,seo:a,social:r,favicon:o,premiumFeatures:n,generalInfo:i,siteName:s,statistics:l,compatibility:u,language:c}}),define("documentServices/siteMetadata/passwordProtected",["lodash","utils","experiment","documentServices/siteMetadata/siteMetadata","documentServices/bi/bi","documentServices/bi/errors"],function(e,t,a,r,o,n){"use strict";function i(e){return r.getProperty(e,r.PROPERTY_NAMES.PASSWORD_PROTECTED_PAGES)||[]}function s(t,a,o){var n=i(t),s=o?e.union(n,[a]):e.difference(n,[a]);r.setProperty(t,r.PROPERTY_NAMES.PASSWORD_PROTECTED_PAGES,s)}function l(t,a){var r=i(t);return e.includes(r,a)}function u(a,o,n){var i=e.isObject(n)?n.value:n;if(e.isNull(i))return c(a,o,null);var u=a.dal.get(a.pointers.getInnerPointer(a.pointers.general.getServiceTopology(),["editorServerRoot"])),p=l(a,o);s(a,o,!0),t.ajaxLibrary.ajax({url:u.replace("http://","https://")+"/api/page_protection/new",type:"POST",dataType:"json",xhrFields:{withCredentials:!0},data:{siteId:r.getProperty(a,r.PROPERTY_NAMES.SITE_ID),metaSiteId:r.getProperty(a,r.PROPERTY_NAMES.META_SITE_ID),pageId:o,password:i},success:function(e){e.result?c(a,o,e.result):d(a,o,p,e.errorCode,e.errorDescription)},error:function(e,t){d(a,o,p,-1,t)}})}function c(e,t,a){var o,n=(o=e,r.getProperty(o,r.PROPERTY_NAMES.SESSION_PAGES_TO_HASH_PASSWORD)||{});n[t]=a,r.setProperty(e,r.PROPERTY_NAMES.SESSION_PAGES_TO_HASH_PASSWORD,n),s(e,t,a)}function d(e,t,a,r,i){s(e,t,a);o.error(e,n.PASSWORD_PROTECTION_HASH_GENERATION_FAILED,{serverErrorCode:r,errorDescription:i})}return{getPasswordProtectedPages:i,isPageProtected:l,setPagePassword:u,setPageToNoRestriction:function(e,t){u(e,t,{value:null})},isPagesProtectionOnServerOn:function(){return!0}}}),define("documentServices/page/blankPageStructure",["lodash","coreUtils","documentServices/page/pageData","experiment"],function(e,t,a,r){"use strict";var o=t.imageClientApi;return{getBlankPageStructure:function(t,o,n){var i={componentType:"mobile.core.components.Page",type:"Page",id:"mainPage",styleId:"p2",skin:"skins.core.InlineSkin",layout:{x:0,y:0,width:980,height:500,anchors:[]},data:{type:"Page",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},title:"Blank",hideTitle:!0,icon:"",descriptionSEO:"",metaKeywordsSEO:"",pageTitleSEO:"",pageUriSEO:"",hidePage:!1,underConstruction:!1,pageBackgrounds:null},components:[]};if(i.data=e.assign(i.data,{pageUriSEO:a.getValidPageUriSEO(t,o,"blank"),pageBackgrounds:e.get(a.getPageDataWithoutIds(t,t.siteAPI.getPrimaryPageId()),"pageBackgrounds")}),r.isOpen("usa_keepPageDesign")){var s=n(t,t.siteAPI.getPrimaryPageId(),!0);i.style=s.style,i.skin=s.skin}return i},getBlankPopupPageStructure:function(t){var a={componentType:"mobile.core.components.Page",type:"Page",id:"mainPage",styleId:"p2",skin:"skins.core.InlineSkin",layout:{x:0,y:0,width:980,height:500,anchors:[]},data:{type:"Page",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},title:"Blank",hideTitle:!0,icon:"",descriptionSEO:"",metaKeywordsSEO:"",pageTitleSEO:"",pageUriSEO:"",hidePage:!1,underConstruction:!1,pageBackgrounds:null},components:[]};a.data=e.assign({},a.data,{pageBackgrounds:{desktop:{custom:!0,ref:{type:"BackgroundMedia",color:"{color_11}",alignType:"top",fittingType:"fill",scrollType:"fixed"},isPreset:!1},mobile:{custom:!0,ref:{type:"BackgroundMedia",color:"{color_11}",alignType:"top",fittingType:"fill",scrollType:"fixed"},isPreset:!0}},indexable:!1,isPopup:!0});var r={popup:{closeOnOverlayClick:!0}};return a.props=e.defaults({type:"PageProperties",metaData:{schemaVersion:"1.0"},mobile:e.cloneDeep(r),desktop:e.cloneDeep(r)},a.props),a.components=[{type:"Container",components:[],skin:"wysiwyg.viewer.skins.stripContainer.DefaultStripContainer",props:{type:"PopupContainerProperties",metaData:{schemaVersion:"1.0"},horizontalAlignment:"center",verticalAlignment:"center",alignmentType:"nineGrid",horizontalOffset:0,verticalOffset:0},design:{type:"MediaContainerDesignData",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},background:{type:"BackgroundMedia",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},color:"#FFFFFE",colorOpacity:1,alignType:"center",fittingType:"fill",scrollType:"none",colorOverlay:"",colorOverlayOpacity:0}},layout:{width:340,height:276,x:620,y:80,scale:1,rotationInDegrees:0,anchors:[]},componentType:"wysiwyg.viewer.components.PopupContainer",style:{type:"TopLevelStyle",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:{properties:{"alpha-bg":"1",bg:"rgba(255,255,255,1)"},propertiesSource:{"alpha-bg":"value",bg:"value"},groups:{}},componentClassName:"wysiwyg.viewer.components.PopupContainer",pageId:"",compId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.stripContainer.DefaultStripContainer",id:"style-ili7m0pe"}}],a},getBlankBackground:function(){return{desktop:{custom:!0,ref:{type:"BackgroundMedia",color:"{color_11}",alignType:o.alignTypes.CENTER,fittingType:o.fittingTypes.SCALE_TO_FILL,scrollType:"none"},isPreset:!0},mobile:{custom:!0,ref:{type:"BackgroundMedia",color:"{color_11}",alignType:o.alignTypes.CENTER,fittingType:o.fittingTypes.SCALE_TO_FILL,scrollType:"none"},isPreset:!0}}}}}),define("documentServices/siteMetadata/clientSpecMap",["lodash","documentServices/siteMetadata/siteMetadata"],function(e,t){"use strict";function a(e){return t.getProperty(e,t.PROPERTY_NAMES.CLIENT_SPEC_MAP)||{}}return{registerAppData:function(e,r){var o=a(e);o[r.applicationId]=r,t.setProperty(e,t.PROPERTY_NAMES.CLIENT_SPEC_MAP,o)},getAppData:function(e,t){return a(e)[t]||{}},getAppDataByAppDefinitionId:function(t,r){var o=a(t);return e.find(o,{appDefinitionId:r})},getAppsData:a,filterAppsDataByType:function(t,r){var o=a(t);return e.filter(o,{type:r})}}}),define("documentServices/tpa/services/clientSpecMapService",["lodash","documentServices/siteMetadata/siteMetadata","documentServices/siteMetadata/clientSpecMap","documentServices/tpa/utils/tpaUtils","documentServices/componentDetectorAPI/componentDetectorAPI","documentServices/component/component","experiment"],function(e,t,a,r,o,n,i){"use strict";var s=!1,l=function(e,t,r){return(a.getAppData(e,t).widgets||{})[r]||null},u=function(e){var t=e.published,a=e.santaEditorPublished;return t||a},c=function(t,a){var r=a&&a.widgets;return r=e.filter(r,function(t){return e.isNil(t.appPage)}),s||(r=e.filter(r,u)),r},d=function(t,a){var r=a&&a.widgets;return r=e.filter(r,function(t){return!e.isNil(t.appPage)}),s||(r=e.filter(r,u)),r},p=function(t){return!e.isUndefined(t)&&!e.isUndefined(t.appType)&&"Hybrid"===t.appType},g=function(t){return!e.isUndefined(t)&&!e.isUndefined(t.appType)&&("Hybrid"===t.appType||"Editor"===t.appType)},f=function(t,a){var r=d(0,a);return e.find(r,function(e){return!e.appPage.hidden})};return{registerAppData:a.registerAppData,getAppData:a.getAppData,getAppDataByAppDefinitionId:a.getAppDataByAppDefinitionId,getAppsData:a.getAppsData,filterApps:function(t){return e.pickBy(t,function(a,o){return t.hasOwnProperty(o)&&r.isTpaByAppType(a.type)&&(e.isUndefined(a.appType)||g(a))})},getLargestApplicationId:function(t){var r=a.getAppsData(t);return e(r).keys().map(function(e){return parseInt(e,10)}).filter().concat(0).max()},getWidgetData:l,getExtensionsWidgets:c,isHybridAppAndEditorPartNotDismissed:function(t){return p(t)&&(e.isUndefined(t.editorPartDismissed)||!1===t.editorPartDismissed)},isHybridApp:function(e,t){var r=t&&a.getAppData(e,t);return p(r)},isHybridAppFromAppData:p,isDashboardAppOnly:function(t){return!e.isUndefined(t)&&!e.isUndefined(t.appType)&&"Dashboard"===t.appType},isEditorOrHybridApp:g,setAppsData:function(e,a){t.setProperty(e,t.PROPERTY_NAMES.CLIENT_SPEC_MAP,a)},isAppPermissionsIsRevoked:function(t){return t.permissions&&e.isBoolean(t.permissions.revoked)&&t.permissions.revoked},isPremiumApp:function(e,t){var r=a.getAppData(e,t);return!!r&&!!r.vendorProductId},hasPremiumOffering:function(t,r){var o=a.getAppData(t,r);return!!o&&e.size(o.vendorProducts)>0},hasHiddenPages:function(t,r){var o=a.getAppData(t,r),n=d(0,o),i=e.filter(n,"appPage.hidden");return e.size(i)>0},getAppSections:d,getAppSectionsToInstall:function(t,r){var o=a.getAppData(t,r),n=d(0,o);return i.isOpen("sv_tpaFilterSubSections")&&(n=e.filter(n,{autoAddToSite:!0})),e.sortBy(n,"appPage.order")},widgetsToAutoAddToSite:function(t,a){var r=c(0,a);return e.filter(r,"autoAddToSite")},getWidgetDataFromTPAPageId:function(t,r,o){var n=d(0,a.getAppDataByAppDefinitionId(t,r));return e.find(n,{appPage:{id:o}})},getWidgetDataFromTPAWidgetId:function(t,r,o){var n=c(0,a.getAppDataByAppDefinitionId(t,r));return e.find(n,{tpaWidgetId:o})},setIsInDevMode:function(e){s=e},isWidgetHasMobileUrl:function(t,a,r){if(!a||!r)return!1;var o=l(t,a,r);if(o&&o.mobileUrl){var n=o.mobileUrl,i=o.mobilePublished&&e.isBoolean(o.mobilePublished)&&o.mobilePublished;return!e.isEmpty(n)&&(s||i)}return!1},isAppPermissionsIsGranted:function(t){return t.permissions&&e.isBoolean(t.permissions.revoked)&&!t.permissions.revoked},hasSections:function(t,a){var r=d(0,a);return!e.isEmpty(r)},isAppProvisionedOnServer:function(e,t){return!a.getAppData(e,t).notProvisioned},hasMainSection:function(t,a){var r=d(0,a);return e.some(r,function(e){return!e.appPage.hidden})},getMainSectionWidgetData:f,getMainSectionWidgetDataFromApplicationId:function(e,t){return f(0,a.getAppData(e,t))},getSectionsWidgetIdsToPreFetch:function(t){return e(t.widgets).filter("preFetch").filter("appPage").filter(u).map("widgetId").value()},isDemoAppAfterProvision:function(t){var a=e.get(t,"instance");if(!e.isEmpty(a)){var r=t.instance.split("."),o=JSON.parse(atob(r[1]));return!e.isEmpty(o.originInstanceId)}},isSuperAppByCompId:function(t,r){var i=o.getComponentById(t,r),s=n.data.get(t,i),l=e.get(s,"applicationId");return a.getAppData(t,l).isWixTPA},getDependentApps:function(){return[]},hasEditorPlatformPart:function(t){return!!e.get(t,"appFields.platform.editorScriptUrl")},isPageMarkedAsAutoAddToSite:function(t,r){var o=a.getAppData(t,e.get(r,"tpaApplicationId")),n=d(0,o),i=e.find(n,{appPage:{id:e.get(r,"tpaPageId")}});return e.get(i,"autoAddToSite")},computeHidePage:function(t,a,r){var o=e.defaultTo(a,e.get(t,"componentFields.hiddenInPagesPanel"));return o=e.defaultTo(o,r)},isMultiSectionInstanceEnabled:function(t,a){if(!a)return!1;var r=e.get(t,["widgets",a]);return e.get(r,"appPage.multiInstanceEnabled")}}}),define("documentServices/page/page",["lodash","coreUtils","core","utils","documentServices/hooks/hooks","documentServices/pagesGroup/pagesGroup","documentServices/actionsAndBehaviors/actionsAndBehaviors","documentServices/constants/constants","documentServices/component/component","documentServices/componentDetectorAPI/componentDetectorAPI","documentServices/component/componentStylesAndSkinsAPI","documentServices/dataModel/dataModel","documentServices/page/pageUtils","documentServices/page/popupUtils","documentServices/page/pageData","documentServices/page/pageProperties","documentServices/tpa/constants","documentServices/documentMode/documentModeInfo","documentServices/mobileConversion/mobileActions","documentServices/mobileConversion/modules/mobileHints","documentServices/mobileConversion/mobileConversionFacade","documentServices/siteMetadata/passwordProtected","documentServices/page/blankPageStructure","documentServices/tpa/services/clientSpecMapService","documentServices/documentMode/documentMode","experiment","documentServices/routers/routersGetters"],function(e,t,a,r,o,n,i,s,l,u,c,d,p,g,f,m,y,_,v,S,O,h,A,E,C,P,R){"use strict";var I="wysiwyg.viewer.components.PopupContainer";function D(t,a,r,o,n){var i=u.getComponentByType(t,"wysiwyg.common.components.verticalanchorsmenu.viewer.VerticalAnchorsMenu",a),s=a.id;e.forEach(i,function(a){!function(t,a,r,o){var n=e.findKey(o,function(e){return e===r}),i=l.data.get(t,a),s=void 0;n?(u=i.hiddenAnchorIds[n],c=o,s=e.compact(e.map(u,function(e){return c[e]}).concat(e.includes(u,"PAGE_TOP_ANCHOR")?"PAGE_TOP_ANCHOR":null))):s=[];var u,c;i.hiddenAnchorIds[r]=s,l.data.update(t,a,i)}(t,a,s,n)})}o.registerHook(o.HOOKS.ADD.AFTER,D,"mobile.core.components.Page");function T(t){if(!e.isString(t))throw Error("pageId to remove should be a string "+t);return t.replace("#","")}function w(a,r,n,i){var s=r.id,u=void 0,c=P.isOpen("usa_keepPageDesign")?A.getBlankPageStructure(a,s,L):A.getBlankPageStructure(a,s);i&&(u=e.cloneDeep(i),e.defaultsDeep(u,c)),(u=u||A.getBlankPageStructure(a,s,L)).data.title=n||u.data.title;var d=u.data;d.id=s,f.setPageData(a,s,d);var p=function(e,a,r){var o=e.dal,n=e.pointers,i={data:{component_properties:{},document_data:{},theme_data:{},behaviors_data:{},connections_data:{},mobile_hints:{},design_data:{}},pageUriSEO:r,structure:{},title:a};P.isOpen("sv_multilingual")&&(i.translations=t.multilingual.generatePageTranslationsData({dal:o,pointers:n}));return i}(a,u.data.title,u.data.pageUriSEO),g=a.pointers.page.getNewPagePointer(s);a.dal.full.set(g,p);var m=u.mobileComponents&&{};l.setComponent(a,r,null,u,s,!0,m),S.markPageAsInitialized(a,s),o.executeHook(o.HOOKS.ADD_PAGE.AFTER,u.componentType,[a,r]),o.executeHook(o.HOOKS.ADD_ROOT.AFTER,u.componentType,[a,r]),u.mobileComponents&&function(t,a,r,o){var n=v.hiddenComponents.get(t,a),i=e(o).pick(n).values().value();v.hiddenComponents.set(t,r,i)}(a,u.id,r.id,m)}function b(e,t){var a=T(t),r=x(e,a);if(!r.success)throw new Error(r.description);var o=e.pointers.components.getPage(a,s.VIEW_MODES.DESKTOP);l.validateRemovalInternal(e,o)}function L(e,t,a){var r=k(e,t),o=e.pointers.data.getDataItemFromMaster(t);a=a||!1;var n=l.serialize(e,r,o,!1,a,!1);return n.data=f.getPageDataWithoutIds(e,t),n}function M(e,t,a){var r=k(e,t);return l.isContainsCompWithType(e,r,a)}function B(t,a){var r,o=(r=a,"string"==typeof r?{pageId:r}:r);return o.pageId&&t.siteAPI.getFocusedRootId()!==o.pageId||function(t,a){var r=t.siteAPI.getRootNavigationInfo();return!e.isEqual(a.routerDefinition,r.routerDefinition)||a.innerRoute!==r.innerRoute}(t,a)}function V(t,a,r){var o=function(t,a){if(e.isString(a))return{pageId:a};if("PageLink"===a.type){var r=f.getPageData(t,a.pageId);return{pageId:r.id,title:r.pageUriSEO}}if("DynamicPageLink"===a.type){var o=R.get.byId(t,a.routerId),n=a.innerRoute;return{routerDefinition:o,innerRoute:n,pageAdditionalData:n&&"/"!==n?o.prefix+"/"+n:o.prefix}}}(t,a);if(o.pageId&&!o.routerDefinition){var n=R.getRouterDataForPageIfExist(t,o.pageId);n&&(o=e.assign(o,{routerDefinition:n}))}B(t,o)?(r&&t.setOperationsQueue.waitForChangesApplied(r),t.siteAPI.navigateToPage(o)):r&&r()}function x(e,t){var a=T(t);return p.isMasterPage(e,a)?{success:!1,description:"It is not allowed to remove masterPage"}:f.doesPageExist(e,a)?p.isHomepage(e,a)?{success:!1,description:"It is not allowed to delete homePage ("+a+"), please set a new page as homePage (page.setAsHomepage) and try again"}:e.siteAPI.getPrimaryPageId()===a?{success:!1,description:"It is not allowed to delete current page ("+t+"), please navigate to another page (page.navigateTo) and try again"}:e.siteAPI.getCurrentPopupId()===a?{success:!1,description:"It is not allowed to delete open popup ("+a+"), please close the popoup nand try again"}:{success:!0,description:""}:{success:!1,description:'Page with id "'+a+'" does not exist'}}function F(e,t){var a=T(t),r=f.getPageData(e,a),o=M(e,a,[y.COMP_TYPES.TPA_MULTI_SECTION,y.COMP_TYPES.TPA_SECTION]),n=r&&r.appInnerID&&E.getAppData(e,r.appInnerID)&&"blog"===E.getAppData(e,r.appInnerID).packageName;return p.isMasterPage(e,a)?{success:!1,description:"It is not allowed to duplicate masterPage"}:f.doesPageExist(e,a)?o?{success:!1,description:"It is not allowed to duplicate TPA pages"}:n?{success:!1,description:"It is not allowed to duplicate Blog pages"}:{success:!0,description:""}:{success:!1,description:'Page with id "'+a+'" does not exist'}}function k(e,t){return e.pointers.components.getPage(t,_.getViewMode(e))}var H={shouldDelayDeletion:function(e,t){var a=e.pointers.components.getPage(t,_.getViewMode(e));return l.shouldDelayDeletion(e,a)},initialize:function(t){var a=function(t){var a=[],r=f.getPagesList(t);return e.forEach(r,function(r){var o=f.getPageData(t,r);e.get(o,"pageSecurity.passwordDigest")&&a.push(o)}),a}(t);r=t,o=a,e.forEach(o,function(e){h.setPagePassword(r,e.id,{value:e.pageSecurity.passwordDigest,isHashed:!0})});var r,o;n=t,i=a,e.forEach(i,function(e){f.setPageData(n,e.id,{pageSecurity:{requireLogin:!1,dialogLanguage:e.pageSecurity.dialogLanguage}})});var n,i;!function(t){var a=f.getPagesList(t);e.forEach(a,function(a){var r=f.getPageData(t,a);if(r.tpaApplicationId>0&&r.tpaPageId){var o=E.getAppData(t,r.tpaApplicationId),n=E.getWidgetDataFromTPAPageId(t,o.appDefinitionId,r.tpaPageId);e.isBoolean(e.get(n,"appPage.indexable"))&&e.get(n,"appPage.indexable")!==r.indexable&&f.setPageData(t,r.id,{indexable:e.get(n,"appPage.indexable")})}})}(t)},getPageBottomByComponents:function(e,t){return e.siteAPI.getSiteMeasureMap().pageBottomByComponents[t]},getPageIdToAdd:function(e){var t=e.pointers.page.getAllPagesPointer(),a=e.pointers.general.getDeletedPagesMapPointer(),o=e.dal.getKeys(t).concat(e.dal.getKeys(a)),n=r.guidUtils.generateNewPageId(o);return e.pointers.components.getNewPage(n)},add:w,duplicate:function(e,t,a){var r=T(a),n=e.pointers.page.getPagePointer(r);if(!n)throw new Error("page does not exist "+a);var i=F(e,a);if(!i.success)throw new Error(i.description);var s=e.dal.get(e.pointers.getInnerPointer(n,"title"));O.runPartialConversionAllPages(e);var l=L(e,r,!0);l.data.pageUriSEO=f.getValidPageUriSEO(e,"",l.data.pageUriSEO),o.executeHook(o.HOOKS.DUPLICATE_ROOT.BEFORE,l.componentType,[e,l]),w(e,t,s,l),o.executeHook(o.HOOKS.DUPLICATE_ROOT.AFTER,l.componentType,[e,t.id,r])},remove:function(t,a,r){r=r||e.noop;var o=T(a),i=t.pointers.components.getPage(o,s.VIEW_MODES.DESKTOP);l.deleteComponent(t,i),t.siteDataAPI.removeResolvedDataMapForPage(o),function(e,t){var a=e.pointers.data.getDataItemFromMaster(t),r=e.pointers.page.getPagePointer(t);f.removePageData(e,a),e.dal.full.remove(r),function(e,t){var a=e.pointers.general.getDeletedPagesMapPointer(),r={};r[t]=!0,e.dal.merge(a,r)}(e,t)}(t,o),function(e,t){var a=n.getPagesGroupByPageId(e,t);a&&n.removePageFromPagesGroup(e,a,t)}(t,o),r(t)},validatePageRemoval:function(e,t){b(e,t),e.setOperationsQueue.asyncPreDataManipulationComplete()},validatePageRemovalInternal:b,navigateTo:V,scrollToComponent:function(e,t,a){e.siteAPI.scrollToComponent(t,a)},navigateToPageAndScrollToAnchor:function(e,t,a,o){var n=r.scrollAnchors.isSpecialAnchor(a),i=e.siteAPI.scrollToAnchor.bind(e.siteAPI,a,o);n?i():V(e,t,i)},willNavigateNavigateAndScroll:function(e,t,a){return!r.scrollAnchors.isSpecialAnchor(a)&&B(e,t)},willNavigateNavigateToPage:B,isRemovable:function(e,t){return x(e,t).success},isDuplicable:function(e,t){return F(e,t).success},isLandingPage:function(e,t){var a=e.pointers.data.getDataItemFromMaster(t),r=e.pointers.getInnerPointer(a,"isLandingPage"),o=e.pointers.getInnerPointer(a,"isMobileLandingPage"),n=e.siteAPI.isMobileView(),i=e.dal.isExist(r)&&e.dal.get(r),s=n&&e.dal.isExist(o)&&e.dal.get(o);return i||s},isPageContainsCompWithType:M,getSocialUrl:function(e,t,a){var r=e.pointers.general.getPublicUrl(),o=e.dal.get(r);return a?p.getMainPageUrl(e,t,o):p.getCurrentUrl(e,t,o)},getPageUrl:function(e,t,a,r){var o=f.getPageUriSEO(e,t);return a=a||e.dal.get(e.pointers.general.getPublicUrl()),p.getPageUrl(e,{pageId:t,title:o},r,a)},getPageTitle:function(e,t){var a=e.pointers.data.getDataItemFromMaster(t),r=e.pointers.getInnerPointer(a,"title");return e.dal.get(r)||""},getPage:k,getPageIdList:f.getPagesList,getPagesDataItems:f.getPagesDataItems,getLayout:function(e,t){var a=k(e,t),r=l.layout.get(e,a),o=e.siteAPI.getSiteWidth();return r.width=o,r},getReference:k,serializePage:L,homePage:{set:function(e,t){if(t=T(t),!e.dal.pointers.page.isExists(t))throw Error("pageId "+t+" does not exist. cannot set as home page.");if(g.isPopup(e,t))throw Error("Can't set popup page as home page.");var a=e.pointers.data.getDataItemFromMaster(s.MASTER_PAGE_ID),r=e.pointers.getInnerPointer(a,"mainPage"),o=e.pointers.getInnerPointer(a,"mainPageId");e.dal.set(r,"#"+t),e.dal.set(o,t)},get:p.getHomepageId},data:{set:f.setPageData,get:f.getPageData},style:{setId:function(e,t,a){var r=k(e,t);c.style.setId(e,r,a)},getId:function(e,t){var a=k(e,t);return c.style.getId(e,a)},setCustom:function(e,t,a,r,o,n){var i=k(e,a);c.style.setCustom(e,t,i,r,o,n)}},background:{get:f.getBgDataItem,update:f.updateBgDataItem},getPageAnchors:function(t,a,o){var n=t.pointers.data.getDataItemsWithPredicate({type:"Anchor"},a).map(t.dal.get),i=r.scrollAnchors.getPageTopAnchor(a,o);n.push(i);var s=t.pointers.components.getPage(a,"DESKTOP"),l=e.keyBy(t.pointers.components.getChildren(s),"id");return e.sortBy(n,function(e){var a=r.scrollAnchors.SCROLL_PAGE_TOP_Y_POS,o=l[e.compId];if(o){var n=t.pointers.getInnerPointer(o,"layout.y");a=t.dal.get(n)}return a})},permissions:{hasPassword:function(e,t){return h.isPageProtected(e,t)},updatePassword:function(t,a,o){e.isObject(o)?(r.log.warnDeprecation("pages.permissions.updatePassword: Pass password as a string and not an object"),h.setPagePassword(t,a,o)):h.setPagePassword(t,a,{value:o,isHashed:!1})},removePassword:function(e,t){h.setPageToNoRestriction(e,t)},isPagesProtectionOnServerOn:function(e){return r.log.warnDeprecation("pages.permissions.isPagesProtectionOnServerOn: Use true instead of calling this function, because it always returns true"),h.isPagesProtectionOnServerOn(e)}},properties:{get:m.getPageProperties,update:m.updatePageProperties}};return H.popupPages={open:V,close:function(e,t){var a=e.siteAPI.getRootNavigationInfo();a&&H.navigateTo(e,a.pageId,t)},getCurrentPopupId:function(e){return e.siteAPI.getCurrentPopupId()},getCurrentMainContainer:function(e,t){var a={id:H.popupPages.getCurrentPopupId(e),type:t||C.getViewMode(e)};return g.getPopupContainer(e,a)},add:function(t,a,o,n){n?function(t){if(!e.find(t.components,{componentType:I}))throw new Error("Can't create a popup page. Main container inside the popup was not found")}(n):n=A.getBlankPopupPageStructure(t),n.data.pageUriSEO=n.data.pageUriSEO||r.siteConstants.DEFAULT_POPUP_URI_SEO_PREFIX+a.id,w(t,a,o,n),function(e,t){var a=k(e,e.siteAPI.getPrimaryPageId()),r=k(e,s.MASTER_PAGE_ID),o=i.getActionDefinition(e,"load"),n=i.getBehaviorDefinition(e,"openPopup");i.hasBehavior(e,a,o,null,n)||i.hasBehavior(e,r,o,null,n)||i.updateBehavior(e,a,o,t,n)}(t,a)},getPopupIdToAdd:function(t){var a=t.pointers.page.getAllPagesPointer(),o=t.pointers.general.getDeletedPagesMapPointer(),n=t.dal.getKeys(a),i=n.concat(t.dal.getKeys(o)),s=e.filter(n,e.partial(g.isPopup,t)),l=r.guidUtils.generateNewPopupId(i,s);return t.pointers.components.getNewPage(l)},getDataList:f.getPopupsDataItems,isPopup:function(e,t){return g.isPopup(e,t)},isPopupOpened:function(e){return e.siteAPI.isPopupOpened()}},H}),define("documentServices/smartBoxes/multiComponentsUtilsValidations",["lodash","documentServices/structure/structure","documentServices/componentsMetaData/componentsMetaData","documentServices/constants/constants"],function(e,t,a,r){"use strict";var o={};o[r.COMP_MATCH_SIZE_OPTIONS.WIDTH]=n,o[r.COMP_MATCH_SIZE_OPTIONS.BOTH]=n,o[r.COMP_ALIGNMENT_OPTIONS.LEFT]=s,o[r.COMP_ALIGNMENT_OPTIONS.RIGHT]=s,o[r.COMP_ALIGNMENT_OPTIONS.CENTER]=s,o[r.COMP_ALIGNMENT_OPTIONS.TOP]=s,o[r.COMP_ALIGNMENT_OPTIONS.BOTTOM]=s,o[r.COMP_ALIGNMENT_OPTIONS.MIDDLE]=s,o[r.COMP_DISTRIBUTION_OPTIONS.HORIZONTAL]=n,o[r.COMP_DISTRIBUTION_OPTIONS.BOTH]=n;function n(a,r){return e.filter(r,function(e){return!t.isHorizontallyStretchedToScreen(a,e)})}function i(t,r){if(1===e.size(r))return e.filter(r,function(e,t){return a.public.isAlignable(e,t)}.bind(this,t));var o=n(t,r);return 1===o.length&&(o=[]),o}function s(e,t,a){return u(a)?i(e,t):t}function l(t,a,r){return e.isFunction(o[r])?o[r](t,a,r):a}function u(t){return e.includes([r.COMP_ALIGNMENT_OPTIONS.LEFT,r.COMP_ALIGNMENT_OPTIONS.RIGHT,r.COMP_ALIGNMENT_OPTIONS.CENTER,r.COMP_DISTRIBUTION_OPTIONS.HORIZONTAL,r.COMP_DISTRIBUTION_OPTIONS.BOTH,r.COMP_MATCH_SIZE_OPTIONS.WIDTH,r.COMP_MATCH_SIZE_OPTIONS.BOTH],t)}return{canAlign:function(t,a,r){if(!r||!e.size(a))return!1;var o=l(t,a,r);return e.size(o)>0},canDistribute:function(t,a,r){return r&&e.size(l(t,a,r))>1},canMatchSize:function(t,a,r){return r&&e.size(l(t,a,r))>1},isHorizontalAxis:u,getFilteredComponentsToApplyAction:l}}),define("documentServices/smartBoxes/multiComponentsUtils",["lodash","documentServices/component/component","documentServices/structure/structure","documentServices/componentsMetaData/componentsMetaData","documentServices/smartBoxes/multiComponentsUtilsValidations","documentServices/constants/constants"],function(e,t,a,r,o,n){"use strict";function i(t){var a=void 0,r=void 0,o=void 0,n=void 0,i=void 0,s=void 0,l=void 0,u=void 0;return a=o=i=l=Number.MAX_VALUE,r=n=u=s=-Number.MAX_VALUE,e.forEach(t,function(e){a=Math.min(a,e.x),r=Math.max(r,e.x+e.width),o=Math.min(o,e.y),n=Math.max(n,e.y+e.height),l=Math.min(l,e.bounding.x),s=Math.max(s,e.bounding.x+e.bounding.width),i=Math.min(i,e.bounding.y),u=Math.max(u,e.bounding.y+e.bounding.height)}),{bounding:{x:l,y:i,width:s-l,height:u-i},x:l,y:i,width:s-l,height:u-i,rotationInDegrees:0}}function s(a,r,o,n){if(!o)return!1;var i=t.layout.get(r,o).bounding[a];return!e.isUndefined(i)&&(n=n||t.getSiblings(r,o),e.every(n,function(n){if(o.id===n.id)return!0;var s=t.layout.get(r,n).bounding[a];return!!e.isUndefined(s)||i<=s}))}function l(t,r){if(r&&0!==r.length){return i(e.map(r,function(e){return a.isHorizontallyStretchedToScreen(t,e)?function(e,t){var r=a.getCompLayoutRelativeToScreen(e,t),o=a.getCompLayoutRelativeToScreen(e,e.pointers.components.getPagesContainer(n.VIEW_MODES.DESKTOP));return{x:o.x,width:o.width,y:r.y,height:r.height,bounding:{x:o.x,width:o.width,y:r.y,height:r.height}}}(t,e):a.getCompLayoutRelativeToScreen(t,e)}))}}function u(r,o,i,s,l){e.forEach(o,function(o){var u=a.getCompLayoutRelativeToScreen(r,o,!0),c=t.getContainer(r,o),p=a.getCompLayoutRelativeToScreen(r,c,!0),g={};switch(s){case n.COMP_ALIGNMENT_OPTIONS.LEFT:g.x=0;break;case n.COMP_ALIGNMENT_OPTIONS.RIGHT:g.x=i.width-u.bounding.width;break;case n.COMP_ALIGNMENT_OPTIONS.TOP:g.y=0;break;case n.COMP_ALIGNMENT_OPTIONS.BOTTOM:g.y=i.height-u.bounding.height;break;case n.COMP_ALIGNMENT_OPTIONS.CENTER:g.x=.5*(i.width-u.bounding.width);break;case n.COMP_ALIGNMENT_OPTIONS.MIDDLE:g.y=.5*(i.height-u.bounding.height)}l||(void 0!==g.x&&(g.x+=i.x-p.x),void 0!==g.y&&(g.y+=i.y-p.y));var f=e.keys(g);e.forEach(f,function(e){g[e]=d(u,e,g[e])}),a.updateCompLayout(r,o,g)})}function c(e,t,o,n){var i=r.public.resizeOnlyProportionally(e,n),s=a.getProportionStructure(e,n),l={};l[t]=o,i?a.updateAndPreserveProportions(e,l,s,!0):a.updateCompLayout(e,n,l)}function d(e,t,a){return e[t]+a-e.bounding[t]}return{getSnugPositionAndSize:function(t,r){if(r&&0!==r.length)return function(t){var a=void 0,r=void 0,o=void 0,n=void 0;return a=o=Number.MAX_VALUE,r=n=-Number.MAX_VALUE,e.forEach(t,function(e){a=Math.min(a,e.x),r=Math.max(r,e.x+e.width),o=Math.min(o,e.y),n=Math.max(n,e.y+e.height)}),{x:a,y:o,width:r-a,height:n-o}}(e.map(r,function(e){return a.getPositionAndSize(t,e)}))},getSnugLayout:function(a,r){if(r&&0!==r.length)return i(e.map(r,function(e){return t.layout.get(a,e)}))},getSnugLayoutRelativeToStructure:function(t,r){if(r&&0!==r.length)return i(e.map(r,function(e){return a.getCompLayoutRelativeToStructure(t,e)}))},getSnugLayoutRelativeToScreen:function(t,r){if(r&&0!==r.length)return i(e.map(r,function(e){return a.getCompLayoutRelativeToScreen(t,e)}))},getSnugLayoutRelativeToScreenConsideringScroll:function(t,r,o){if(r&&0!==r.length)return i(e.map(r,function(e){return a.getCompLayoutRelativeToScreenConsideringScroll(t,e,o)}))},isTopMost:e.partial(s,"y"),isLeftMost:e.partial(s,"x"),alignComponentsToOuterLayout:u,sortComponentsByZOrder:function(a,r,o){if(0===r.length)return[];var n=t.getContainer(a,r[0]),i=t.getChildren(a,n),s=function(t,a){return e.some(r,a)&&t.push(a),t};return o?e.reduceRight(i,s,[]):e.reduce(i,s,[])},distribute:function(r,n,s){var l=void 0,u=void 0;if(o.canDistribute(r,n,s)){var c=o.getFilteredComponentsToApplyAction(r,n,s),p=void 0,g=void 0,f=e.map(c,function(e){var o=t.getContainer(r,e);return{compPointer:e,layoutRelativeToScreen:a.getCompLayoutRelativeToScreen(r,e,!0),compContainerLayoutRelativeToScreen:a.getCompLayoutRelativeToScreen(r,o,!0)}});if("horizontal"===s||"verticalAndHorizontal"===s){l=e.map(f,"layoutRelativeToScreen"),u=i(l);var m=e.sumBy(l,"bounding.width");p=(u.width-m)/(l.length-1);var y=0;g=e.sortBy(f,"layoutRelativeToScreen.bounding.x"),e.forEach(g,function(e){var t=y+(u.x-e.compContainerLayoutRelativeToScreen.x);y+=e.layoutRelativeToScreen.bounding.width+p;var o=d(e.layoutRelativeToScreen,"x",t);a.updateCompLayout(r,e.compPointer,{x:o})})}if("vertical"===s||"verticalAndHorizontal"===s){l=e.map(f,"layoutRelativeToScreen"),u=i(l);var _=e.sumBy(f,"layoutRelativeToScreen.bounding.height");p=(u.height-_)/(l.length-1);var v=0;g=e.sortBy(f,"layoutRelativeToScreen.bounding.y"),e.forEach(g,function(e){var t=v+(u.y-e.compContainerLayoutRelativeToScreen.y);v+=e.layoutRelativeToScreen.bounding.height+p;var o=d(e.layoutRelativeToScreen,"y",t);a.updateCompLayout(r,e.compPointer,{y:o})})}}},matchSize:function(a,r,n){if(o.canMatchSize(a,r,n)){var i=o.getFilteredComponentsToApplyAction(a,r,n),s=e.map(i,function(e){return t.layout.get(a,e)}),l=e.sumBy(s,"width")/s.length,u=e.sumBy(s,"height")/s.length;!l||"width"!==n&&"heightAndWidth"!==n||e.forEach(i,c.bind(this,a,"width",l)),!u||"height"!==n&&"heightAndWidth"!==n||e.forEach(i,c.bind(this,a,"height",u))}},align:function(e,t,a){o.canAlign(e,t,a)&&u(e,o.getFilteredComponentsToApplyAction(e,t,a),l(e,t),a,!1)}}}),define("documentServices/smartBoxes/grouping",["lodash","coreUtils","documentServices/hooks/hooks","documentServices/component/component","documentServices/structure/structure","documentServices/smartBoxes/multiComponentsUtils","documentServices/smartBoxes/groupingUtils","documentServices/mobileConversion/mobileActions","documentServices/structure/utils/arrangement"],function(e,t,a,r,o,n,i,s,l){"use strict";var u=["wysiwyg.viewer.components.HoverBox"];function c(e,t,a,o,n,s,l){if(!a&&(!o||!o.isReplacingComp)&&l&&e.dal.isExist(l)&&i.isGroup(e,l)&&!(r.getChildren(e,l).length>=2)){d(e,r.getChildren(e,l),l)}}function d(t,a,n){var i=r.getContainer(t,n),u=e.findIndex(r.getChildren(t,i),{id:n.id});e.forEach(a,function(e){o.setContainer(t,void 0,e,i)}),e.forEach(a.reverse(),function(e){l.moveToIndex(t,e,u)}),t.pointers.components.isMobile(n)?s.hiddenComponents.hide(t,n):r.deleteComponent(t,n,!1)}return{initialize:function(){a.registerHook(a.HOOKS.REMOVE.AFTER,c)},groupComponents:function(t,a,s){if(s&&!(s.length<2)&&!e.some(s,i.isGroupedComponent.bind(this,t))){var l=e.clone(s);e.forEach(l,function(a){if(i.isGroup(t,a)){var o=r.getChildren(t,a);s=s.concat(o),d(t,r.getChildren(t,a),a),s=e.reject(s,{id:a.id})}});var c=n.getSnugLayout(t,s),p=function(t,a){for(var o=r.getContainer(t,e.head(a));o&&e.includes(u,r.getType(t,o));)o=r.getContainer(t,o);return o}(t,s);!function(t,a,o,n){var s={type:"Container",components:[],skin:"wysiwyg.viewer.components.GroupSkin",layout:{width:void 0,height:void 0,x:void 0,y:void 0,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:i.getGroupComponentType(),id:"i5zga2e4"};e.assign(s.layout,a),r.add(t,n,o,s)}(t,c,p,a),s=n.sortComponentsByZOrder(t,s),e.forEach(s,function(e){o.setContainer(t,void 0,e,a)})}},addToGroup:function(t,a,r){e.forEach(a,function(e){o.setContainer(t,void 0,e,r)})},ungroup:d,genGroupPointer:function(a,o){var n=r.generateNewComponentId(),i=a.pointers.components,s=t.displayedOnlyStructureUtil,l=e.head(o),u=i.getViewMode(l);if(s.isDisplayedComponent(l.id)){var c=s.getItemId(l.id);return a.pointers.components.getUnattached(s.getUniqueDisplayedId(n,c),u)}return i.getUnattached(n,u)},getUngroupedComponents:function(e,t){return r.getChildren(e,t)}}}),define("documentServices/bi/events",["documentServices/bi/events.json","lodash","utils"],function(e,t,a){"use strict";return a.logger.register("documentServices","event",e),e}),define("documentServices/sectionsLayoutMigrator/sectionsLayoutMigrator",["lodash","documentServices/bi/events","documentServices/constants/constants","documentServices/structure/structure","documentServices/structure/structureUtils"],function(e,t,a,r,o){"use strict";var n={SITE_HEADER:"HEADER",PAGES_CONTAINER:"PAGES",SITE_FOOTER:"FOOTER"},i=function(e,t){return t.top-e.bottom},s=function(t){return e.omitBy(t,function(e){return!e})};var l=function(e,t,a){var r=e.pointers.getInnerPointer(t,"layout"),o=e.dal.get(r);o.y+=a,e.dal.set(r,o)},u=function(e){return!!n[e.id]},c=function(a,o,n){var i=n.top,s=n.pointer,l=e(o).filter(function(e){return e.bottom>i}).map("pointer").value();e.forEach(l,(u=a,c=s,function(e){u.siteAPI.reportBI(t.SECTION_LAYOUT_MIGRATION_REPARENT,{component_id:e.id,new_container_id:c.id})}));var u,c;e.forEach(l,(d=a,p=s,function(e){return r.setContainer(d,e,e,p)}));var d,p},d=function(t,a,r){if(t.config.closeSectionGaps)return{};var o=function(t,a,r){if(!r.pagesToFooterGap)return r;var o={top:a.bottom,bottom:a.bottom+r.pagesToFooterGap};if(r.pagesToFooterGap<=20&&!e.some(t,(n=o,function(e){return!(e.top>n.bottom||e.bottom<n.top)})))return e.assign({},r,{pagesToFooterGap:0});var n;return r}(a,r.PAGES,r.gaps);return n=o,e.pickBy(n,function(e){return e>0});var n};return function(r){if(!function(e){return(t=e,t.dal.get(t.pointers.getInnerPointer(t.pointers.data.getDataItemFromMaster("masterPage"),"layoutSettings"))||{}).useDesktopSectionsLayout;var t}(r)){var p=a.VIEW_MODES.DESKTOP,g=r.pointers.components,f=g.getMasterPage(p),m=g.getChildren(f).map(function(t,a){return e.assign({i:a,pointer:t},function(e,t){var a=o.getComponentLayout(e,t);return{top:a.y,bottom:a.y+a.height,isFixed:a.fixedPosition}}(r,t))}),y=function(t){var a=e(t).filter(function(e){var t=e.pointer;return u(t)}).reduce(function(e,t){return e[n[t.pointer.id]]=t,e},{}),r=a.HEADER,o=a.PAGES,l=a.FOOTER;return{PAGES:o,FOOTER:l,gaps:s({headerToPagesGap:i(r,o),pagesToFooterGap:i(o,l)})}}(m),_=e.filter(m,e.conforms({isFixed:function(e){return!e},pointer:function(e){return!u(e)}}));c(r,_,y.FOOTER),function(e,t){var a=t.gaps,r=t.PAGES,o=t.FOOTER;a.headerToPagesGap&&a.headerToPagesGap<0&&l(e,r.pointer,-1*a.headerToPagesGap),a.pagesToFooterGap&&a.pagesToFooterGap<0&&l(e,o.pointer,-1*a.pagesToFooterGap)}(r,y);var v=d(r,_,y);!function(t,a){var r=t.pointers.getInnerPointer(t.pointers.data.getDataItemFromMaster("masterPage"),"layoutSettings");t.dal.set(r,e.assign({useDesktopSectionsLayout:!0},a))}(r,v),S=r,O=y.gaps,h=v,S.siteAPI.reportBI(t.SECTION_LAYOUT_MIGRATION_RUN),e.forEach(O,function(a,r){S.siteAPI.reportBI(t.SECTION_LAYOUT_MIGRATION_CLOSE_GAP,{gap_size:a,gap_type:r,is_closed:!e.has(h,r)})});var S,O,h;r.siteAPI.createPageAnchors("masterPage")}}}),define("documentServices/siteAccessLayer/postUpdateOperations",["lodash","coreUtils","documentServices/structure/utils/componentLayout","documentServices/structure/structure","documentServices/documentMode/documentMode","documentServices/dataModel/dataModel","documentServices/anchors/anchors","documentServices/constants/constants","documentServices/component/componentModes","documentServices/page/page","documentServices/siteMetadata/generalInfo","documentServices/smartBoxes/grouping","documentServices/utils/setOperationQueueUtils","documentServices/sectionsLayoutMigrator/sectionsLayoutMigrator","utils","layout","experiment"],function(e,t,a,r,o,n,i,s,l,u,c,d,p,g,f,m,y){"use strict";function _(e){return e&&e.packed}function v(t,a,r,o,i,s){var l=t.siteAPI.getPrimaryPageId(),c=r.height[l],d=u.getReference(t,l),p=!1;if(f=a,"wysiwyg.viewer.components.WRichText"!==(g=t).dal.get(g.pointers.getInnerPointer(f,"componentType")))return!1;var g,f,m=n.getPropertiesItem(t,a);if((y=m)&&!e.isUndefined(y.minHeight))return _(m)&&(m.packed=!1,n.updatePropertiesItem(t,a,m)),!1;var y;if(_(m))return!1;m||(m=n.createPropertiesItemByType(t,"WRichTextProperties"));var v,S,A,E=t.pointers.getInnerPointer(a,"layout"),C=t.dal.get(E),P=r.minHeight[a.id],R=(v=i,S=s,A=a,O(v,S,A,"previousPackFixHeight"));O(i,s,a,"originalValues")&&(P<C.height||R&&P!==R)&&(I=l,D=C.anchors,e.some(D,{targetComponent:I,type:"BOTTOM_PARENT"})&&u.properties.update(t,d,{minHeight:c}));var I,D;C.height!==P&&(p=!0),C.height=P,h(i,s,a,"previousPackFixHeight",P);return function(t,a){var r=t.pointers.components.getSiblings(a);e.forEach(r,function(r){var o=t.pointers.getInnerPointer(r,["layout","anchors"]);if(t.dal.isExist(o)){var n=t.dal.get(o);if(e.some(n,{type:"BOTTOM_BOTTOM",targetComponent:a.id})){var i=e.reject(n,{type:"BOTTOM_BOTTOM",targetComponent:a.id});t.dal.set(o,i)}}})}(t,a),t.dal.set(E,C),r.height[a.id]=P,o||(m.packed=!0,n.updatePropertiesItem(t,a,m)),p}var S={};function O(t,a,r,o){return e.get(S,[t,a,r.id,o])}function h(t,a,r,o,n){e.set(S,[t,a,r.id,o],n)}function A(t,a,r,o,n,i){O(n,i,a,"originalValues")||(s=n,l=i,u=a,c={height:t.dal.get(o),distancesTo:function(t,a){var r=t.pointers.getInnerPointer(a,"anchors"),o=t.dal.get(r),n={};return e.forEach(o,function(t){e.set(n,[t.type,t.targetComponent],t.distance)}),n}(t,r)},h(s,l,u,"originalValues",c));var s,l,u,c}function E(t,r,o,n,i){if(r){var s=t.pointers.getInnerPointer(i,"layout");if(t.dal.isExist(s)){var l=r.top[i.id],u=r.height[i.id],c=r.width[i.id];if(function(){return e.every(arguments,e.isFinite)}(l,u,c)){var d=r.left[i.id],p=t.pointers.getInnerPointer(s,"docked");if(t.dal.get(p)){var g=t.pointers.getInnerPointer(t.pointers.general.getDockedRuntimeLayout(),i.id),f=a.getPositionAndSize(t,i);C(t.dal.get(g),f)&&t.dal.set(g,f)}var m={y:l,width:c},y=t.dal.get(t.pointers.getInnerPointer(s,"fixedPosition"));e.isUndefined(d)||n&&y||(m.x=d);var _=t.pointers.getInnerPointer(s,"height");m.height=u,A(t,i,s,_,o,n);C(t.dal.get(s),m)&&(t.siteAPI.setPostUpdateOperationsRender(i.id),t.dal.merge(s,m))}}}}function C(t,a){return!t||e.some(a,function(a,r){return!t||!e.isEqual(t[r],a)})}function P(a){var r=a.pointers.components.getMasterPage(s.VIEW_MODES.DESKTOP),o=a.pointers.components.getChildren(r),n=e.find(o,{id:"PAGES_CONTAINER"}),i=a.pointers.getInnerPointer(n,"layout.y"),l=a.dal.full.get(i),u=a.pointers.getInnerPointer(r,"layout"),c=e.find(o,{id:"SITE_HEADER"}),d=a.pointers.getInnerPointer(c,"layout"),p=a.dal.full.get(d),g=l-(p.y+p.height),f=g<0,m={targetComponent:"PAGES_CONTAINER",type:"BOTTOM_TOP"};m.distance=f?function(a,r,o){var n=a.dal.get(o),i=n.anchors&&e.find(n.anchors,{targetComponent:"PAGES_CONTAINER"});if(i)return i.distance;var s=e.map(r,function(e){var t=a.pointers.getInnerPointer(e,"layout");return a.dal.get(t)}),l=e.maxBy(s,function(e){return R(e.anchors)?t.boundingLayout.getBoundingY(e)+t.boundingLayout.getBoundingHeight(e):-1e4}),u=l&&R(l.anchors);if(!u)return 0;var c=t.boundingLayout.getBoundingY(l)+t.boundingLayout.getBoundingHeight(l),d=u.distance+c,p=e.find(r,{id:"SITE_HEADER"}),g=a.pointers.getInnerPointer(p,"layout"),f=a.dal.get(g);return d-(f.y+f.height)}(a,o,u):g;var y=e.get(a.dal.get(u),["anchors","0"]);e.isEqual(y,m)||a.dal.full.merge(u,{anchors:[m]})}function R(t){return e.find(t,{targetComponent:"PAGES_CONTAINER",type:"BOTTOM_TOP"})}function I(t,a){var r=t.siteAPI.isMobileView(),n=t.pointers.general.getRootsRenderedInMobileEditor(),i=[],s=t.dal.isExist(n)?t.dal.get(n):{};return e.forEach(a,function(a,l){if(r&&!s[l])return s[l]=!0,void t.dal.set(n,s);if("masterPage"===l){var u=t.pointers.components.getMasterPage(o.getViewMode(t));a=t.pointers.components.getChildrenRecursively(u)}"masterPage"!==l||r||P(t);(function(t,a){var r=!1;return e(a).map(function(e){return t.pointers.getInnerPointer(e,["layout","anchors"])}).filter(t.dal.full.isExist).forEach(function(e){r=!0,t.dal.full.remove(e)}),r})(t,a)&&i.push(l)}),i}function D(t,a,n){var i=e.some(a,function(e){return t.dal.isExist(t.pointers.getInnerPointer(e,["layout","anchors"]))});if(!i){var s=t.pointers.components.getPage(n,o.getViewMode(t)),l=r.getCompLayoutRelativeToStructure(t,s).y,u=t.pointers.getInnerPointer(s,"components"),c=e.filter(a,function(e){var a=t.pointers.components.getParent(e),r=t.pointers.getInnerPointer(a,"componentType"),o=t.pointers.getInnerPointer(e,"componentType");return a&&"wysiwyg.viewer.components.Column"===t.dal.get(r)&&"wysiwyg.common.components.anchor.viewer.Anchor"===t.dal.get(o)});e.forEach(c,function(e){var a=t.dal.get(e);a.layout.y=r.getCompLayoutRelativeToStructure(t,e).y-l,t.dal.remove(e),t.dal.push(u,a,e)}),i||e.isEmpty(c)||t.siteAPI.createPageAnchors(n)}}function T(t){(function(t){var a=t.siteAPI.getMasterPageLayoutSettings(),r=e.get(a,"useDesktopSectionsLayout",!1);return y.isOpen("useDesktopSectionsLayout")&&!r&&(o=t,!o.siteAPI.isPageLandingPage(o.siteAPI.getPrimaryPageId()));var o})(t)&&(a=t).setOperationsQueue.runSetOperation(g,[a],{methodName:"sectionsLayoutMigrator",singleComp:!1,noBatching:!0,isUpdatingAnchors:p.IS_UPDATING_ANCHORS.NO,enforceType:p.ENFORCE_TYPES.FULL});var a}return{runPostUpdateOperations:function(t,a){var r=t.pointers.general.getRenderFlag("shouldUpdateJsonFromMeasureMap");if(!t.dal.get(r))return t.siteAPI.clearReLayoutedCompsMap(),!1;var n=function(t){var a=t.siteAPI.getSiteMeasureMap(),r=t.siteAPI.getAllRenderedRootIds(),n=t.siteAPI.getReLayoutedCompsMap(),i=e.keyBy(r);return i=e.mapValues(i,function(r){var i=t.pointers.components.getPage(r,o.getViewMode(t)),s=t.pointers.components.getChildrenRecursively(i);return s=e.filter(s,function(t){return!!n[t.id]&&e.isFinite(a.height[t.id])}),t.pointers.components.isMasterPage(i)||s.push(i),s}),t.siteAPI.clearReLayoutedCompsMap(),{compsByRoot:i,allComps:[].concat.apply([],e.values(i))}}(t),s=n.allComps;if(function(t,a){var r=t.siteAPI.getSiteMeasureMap(),o=t.siteAPI.getSiteId(),n=t.siteAPI.isMobileView();e.forEach(a,e.partial(E,t,r,o,n))}(t,s),!a)return!1;var l=function(t,a){var r=t.siteAPI.getSiteMeasureMap(),o=t.siteAPI.getSiteId(),n=t.siteAPI.hasPendingFonts(),s=t.siteAPI.isMobileView(),l=[];return e.forEach(a,function(a,i){var u=!1;e.forEach(a,function(e){var a=v(t,e,r,n,o,s);u=u||a}),u&&l.push(i)}),i.updateAnchorsForMultipleComps(t),l}(t,n.compsByRoot);e.forEach(n.compsByRoot,e.partial(D,t));var u=I(t,n.compsByRoot);e(l).union(u).forEach(function(e){t.siteAPI.createPageAnchors(e)}),T(t)},reset:function(){S={}}}}),define("documentServices/debug/dsQTrace",["lodash"],function(e){"use strict";var t=function(e){return e.runtimeConfig.trace.isTracing};return{initialize:function(e){e.runtimeConfig.trace.isTracing=e.siteAPI.getQueryParam("dsQTrace")},startTrace:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shouldLogConsoleTraces:!1}).shouldLogConsoleTraces,a=void 0!==t&&t;e.runtimeConfig.trace.isTracing=!0,e.runtimeConfig.trace.shouldLogConsoleTraces=a},endTrace:function(e){e.runtimeConfig.trace.isTracing=!1},get:function(e){return e.runtimeConfig.trace.log},logTrace:function(a,r,o){t(a)&&a.runtimeConfig.trace.log.push(e.merge({type:r},o))},shouldLogConsoleTrace:function(e){return e.runtimeConfig.trace.shouldLogConsoleTraces},isTracing:t,cleanTrace:function(e){e.runtimeConfig.trace.log=[]}}}),define("documentServices/siteAccessLayer/SiteUpdatesHandler",["lodash","documentServices/utils/setOperationQueueUtils","documentServices/anchors/anchors","documentServices/siteAccessLayer/postUpdateOperations","documentServices/debug/dsQTrace"],function(e,t,a,r,o){"use strict";var n={};function i(e,t){this.continuous=null,this.clearLastUpdate(),this.ps=e,this.actionQueue=this.ps.siteDataAPI.getActionQueue(),this.updateProcessDoneCallback=t,this.traceTimes={}}function s(e){return(e=e||t.ENFORCE_TYPES.FULL)!==t.ENFORCE_TYPES.FULL}i.prototype={beforeContinuousStart:function(){this.continuous.withOriginalValues&&this.ps.siteAPI.createOriginalValuesMapForRenderedRoots()},afterContinuousEnd:function(){this.continuous.withOriginalValues&&this.ps.siteAPI.clearOriginalValuesMapForRenderedRoots(),this.clearContinuousState()},clearLastUpdate:function(){this.isUpdatingAnchors=t.IS_UPDATING_ANCHORS.DONT_CARE,this.enforceType=t.ENFORCE_TYPES.DONT_CARE,this.batchedItemsCount=0,this.postUpdateOperations=[],this.addedToBatchItems=[],this.lockedComps={},this.singleCompFunctions=[],this.methodNames=[],this.noBatchingAfter=!1,this.isDuringBatch=!1,this.waitingForTransition=!1,this.isDuringContinuous()&&this.continuous.isLastBatch&&this.afterContinuousEnd()},initContinuousState:function(e){this.continuous={name:e.methodName,withOriginalValues:e.withOriginalValues,isLastBatch:!1}},updateContinuousState:function(e){this.continuous&&e.continuousActionType===t.CONTINUOUS_ACTION_TYPES.END&&(this.continuous.isLastBatch=!0)},clearContinuousState:function(){this.continuous=null},isDuringContinuous:function(){return null!==this.continuous},canRunAfterCurrentItem:function(e){return!!this.isBatchEmpty()||this.isDuringContinuous()===e.isContinuousAction&&(e.isContinuousAction?e.methodName===this.continuous.name&&e.continuousActionType!==t.CONTINUOUS_ACTION_TYPES.START:this.enforceType===t.ENFORCE_TYPES.DONT_CARE||e.enforceType===t.ENFORCE_TYPES.DONT_CARE||this.enforceType===e.enforceType)},canAddItemToBatch:function(e){return!(this.noBatchingAfter||this.ps.siteAPI.isSiteBusyIncludingTransition())&&this.canRunAfterCurrentItem(e)},beforeContinuousActionApplied:function(e){e.continuousActionType===t.CONTINUOUS_ACTION_TYPES.START?(this.initContinuousState(e),this.beforeContinuousStart()):this.updateContinuousState(e)},addItemToBatch:function(a,r){this.batchedItemsCount++,this.addedToBatchItems.push(a),r.isUpdatingAnchors!==t.IS_UPDATING_ANCHORS.DONT_CARE&&(this.isUpdatingAnchors=r.isUpdatingAnchors),r.enforceType!==t.ENFORCE_TYPES.DONT_CARE&&(this.enforceType=r.enforceType),this.noBatchingAfter=!!r.noBatchingAfter,this.isDuringBatch=!0,r.lockedComp&&e.set(this.lockedComps,r.lockedComp,!0),this.singleCompFunctions.push(r.singleComp),this.waitingForTransition=this.waitingForTransition||r.waitingForTransition,this.methodNames=e.union(this.methodNames,[r.methodName]);var o=1===this.addedToBatchItems.length;return o&&this.startTrace(),o},batchIncludes:function(t){return e.includes(this.addedToBatchItems,t)},cancelBatchedItem:function(t){this.batchedItemsCount--,e.remove(this.postUpdateOperations,{itemId:t})},addPostUpdateOperation:function(e,t){this.postUpdateOperations.push({itemId:e,operation:t})},isBatchEmpty:function(){return e.isEmpty(this.addedToBatchItems)},closeBatchAfterCurrentItem:function(){this.noBatchingAfter=!0},logTrace:function(){o.isTracing(this.ps)&&this.traceTimes.start&&(this.traceTimes.total=this.traceTimes.last-this.traceTimes.start,o.logTrace(this.ps,"VIEWER RENDERED FROM Q",{items:this.traceTimes.items,traceTimes:e.omit(this.traceTimes,"items")}))},startTrace:function(){if(o.isTracing(this.ps)){this.traceTimes={};var e=performance.now();this.traceTimes.items=this.addedToBatchItems,this.traceTimes.start=e,this.traceTimes.last=e}},addTraceTime:function(e){if(o.isTracing(this.ps)){var t=performance.now();this.traceTimes[e]=t-this.traceTimes.last,this.traceTimes.last=t}},batchUpdateDone:function(e){var t=this.addedToBatchItems;this.clearLastUpdate(),this.updateProcessDoneCallback(t,e)},processSiteUpdated:function(){if(!this.isDuringBatch){var t=!this.isDuringContinuous()||this.continuous.isLastBatch;this.actionQueue.runImmediately(function(){this.addTraceTime("renderAndStuff"),r.runPostUpdateOperations(this.ps,t),e.forEach(this.postUpdateOperations,function(e){e.operation()}),this.updateAnchorsOnNextRelayout&&(a.updateAnchorsForMultipleComps(this.ps),this.updateAnchorsOnNextRelayout=!1);this.ps.siteAPI.enforceAndPatchIfNeeded()&&r.runPostUpdateOperations(this.ps,!1),this.addTraceTime("postUpdate"),this.batchUpdateDone(this.methodNames)}.bind(this))}},onSiteUpdated:function(){this.isDuringBatch||this.waitingForTransition&&this.ps.siteAPI.isSiteBusyIncludingTransition()||(this.waitingForTransition=!1,this.processSiteUpdated())},listenToPageTransitionEnded:function(){var e=this;this.ps.siteAPI.getSiteAspect("actionsAspect").registerNavigationComplete(function(){e.onSiteUpdated()})},listenToPageNavigationCanceled:function(){var e=this;this.ps.siteAPI.getSiteAspect("actionsAspect").registerToPageNavigationCanceled(function(){e.onSiteUpdated()})},closeBatch:function(e){this.isDuringBatch=!1,this.isUpdatingAnchors===t.IS_UPDATING_ANCHORS.YES&&(this.updateAnchorsOnNextRelayout=!0),e&&(this.isInPostUpdateOperation=!1,this.waitingForTransition&&(this.listenToPageTransitionEnded(),this.listenToPageNavigationCanceled()),this.enforceType=this.enforceType===t.ENFORCE_TYPES.DONT_CARE?t.ENFORCE_TYPES.FULL:this.enforceType,this.addTraceTime("allOps"))},getLockedCompsMap:function(){return e.isEmpty(this.lockedComps)?null:this.lockedComps},getCompToRelayout:function(){var t=e.reduce(this.singleCompFunctions,function(t,a){var r=!!e.isFunction(a)&&a();return!(!t||!r)&&e.set(t,r,!0)},{});return e.isEmpty(t)?null:t},handleBatchFlushEnd:function(){this.ps.siteAPI.setNoEnforceAnchors(!!s(this.enforceType)&&e.uniqueId("enforce")),this.ps.siteAPI.setLockedCompMap(this.getLockedCompsMap()),this.ps.siteAPI.setCompsToRelayoutMap(this.getCompToRelayout()),this.ps.siteAPI.refreshRenderedRootsData()},closeBatchAndUpdate:function(){var e=this.batchedItemsCount>0;this.closeBatch(e),e?(this.ps.siteAPI.resetSiteReacted(),this.ps.siteAPI.clearPostUpdateOperationsRender(),this.actionQueue.addItem(this.handleBatchFlushEnd.bind(this)),this.actionQueue.flush(),this.ps.siteAPI.didReact()||(s(this.enforceType)&&a.updateAnchorsForMultipleComps(this.ps),this.onSiteUpdated())):this.isBatchEmpty()||this.batchUpdateDone()}};function l(e,t){this.siteId=e.siteAPI.getSiteId();var a=new i(e,t);n[this.siteId]=a,a.boundOnSiteUpdate=a.onSiteUpdated.bind(a),e.siteAPI.registerToDidLayout(a.boundOnSiteUpdate)}function u(){return n[this.siteId]||{logTrace:e.noop,addTraceTime:e.noop}}return l.prototype={addItemToUpdateBatch:function(e,t){if(!this.canAddItemToUpdateBatch(t))throw new Error("the site is during update or this item isn't compatible with the current batch");return u.call(this).addItemToBatch(e,t)},addTraceTime:function(e){return u.call(this).addTraceTime(e)},logTrace:function(){return u.call(this).logTrace()},beforeContinuousActionApplied:function(e){u.call(this).beforeContinuousActionApplied(e)},closeUpdateBatchAfterCurrentItem:function(){var e=u.call(this);if(e.isBatchEmpty())throw new Error("there are no items in the batch..");e.closeBatchAfterCurrentItem()},canAddItemToUpdateBatch:function(e){return u.call(this).canAddItemToBatch(e)},cancelUpdateBatchItem:function(e){var t=u.call(this);if(!t.batchIncludes(e))throw new Error("no such item in the batch");t.cancelBatchedItem(e)},addItemPostUpdateOperation:function(e,t){var a=u.call(this);if(!a.batchIncludes(t))throw new Error("no such item in the batch");a.addPostUpdateOperation(t,e)},closeBatchAndUpdate:function(){u.call(this).closeBatchAndUpdate()},dispose:function(){var e=u.call(this);e.clearLastUpdate(),e.ps.siteAPI.unRegisterFromDidLayout(e.boundOnSiteUpdate),e.updateProcessDoneCallback=null,e.disposed=!0,this.siteId=null}},l}),define("documentServices/siteAccessLayer/SetOperationsQueue",["lodash","documentServices/utils/setOperationQueueUtils","documentServices/siteAccessLayer/SiteUpdatesHandler","documentServices/debug/dsQTrace","utils"],function(e,t,a,r,o){"use strict";var n={};function i(t,a,r){var o=e.get(t,a,r);return e.isFunction(o)&&(o=o.apply(null,t.args)),o}function s(e){this.updateHandlesCounter=1,this.queue=[],this.doneCallbacks={},this.currentContinuousAction=null,this.itemCurrentlyRunning=null,this.lastUpdateFinished=null,this.failed={},this.siteUpdatesHandler=new a(e,this.onSiteUpdated.bind(this)),this.onErrorCallbacks=[],this.siteUpdatedCallbacks=[],this.isDebug=e.siteAPI.isDebugMode(),this.deferFunction=o.animationFrame.request,this.actionQueue=e.siteDataAPI.getActionQueue(),this.privateServices=e}s.prototype={addToActionQueue:function(e){e.params.isContinuousAction&&this.siteUpdatesHandler.beforeContinuousActionApplied(e.params),this.actionQueue.addItem(this.executeOperation.bind(this,e.operation,e.args,e))},executeSetOperation:function(e){this.itemCurrentlyRunning=e,e.firstInBatch=this.siteUpdatesHandler.addItemToUpdateBatch(e.handle,e.params),e.firstInBatch?this.deferFunction(this.applySetOperationAndRunNext.bind(this,e)):this.applySetOperationAndRunNext(e)},applySetOperationAndRunNext:function(e){e.firstInBatch&&this.siteUpdatesHandler.addTraceTime("notMe"),i(e,"params.shouldExecOp",!0)?e.isRealAsyncOperation&&e.asyncPreDataManipulation?this.executeOperation(e.asyncPreDataManipulation,e.args,e):this.addToActionQueue(e):this.siteUpdatesHandler.cancelUpdateBatchItem(e.handle),e.isRealAsyncOperation||this.runNextStepInQueue()},validateContinuousAction:function(e){if(null!==this.currentContinuousAction){if(this.currentContinuousAction!==e.params.methodName)throw new Error("cant run "+e.params.methodName+" action while "+this.currentContinuousAction+" is running");if(e.params.continuousActionType===t.CONTINUOUS_ACTION_TYPES.START)throw new Error("cant start new continuous operation")}else if(e.params.continuousActionType===t.CONTINUOUS_ACTION_TYPES.ON||e.params.continuousActionType===t.CONTINUOUS_ACTION_TYPES.END)throw new Error("cant continue "+e.params.methodName+" before started")},validateNonContinuousAction:function(){if(null!==this.currentContinuousAction)throw new Error("cant run other actions while "+this.currentContinuousAction+" is running")},validateOperation:function(e){e.params.isContinuousAction?this.validateContinuousAction(e):this.validateNonContinuousAction()},updateContinuousQueueState:function(e){e.params.continuousActionType===t.CONTINUOUS_ACTION_TYPES.START?this.currentContinuousAction=e.params.methodName:e.params.continuousActionType===t.CONTINUOUS_ACTION_TYPES.END&&(this.currentContinuousAction=null)},executeOperation:function(e,t,a){try{return this.validateOperation(a),a.params.isContinuousAction&&this.updateContinuousQueueState(a),e.apply(null,t)}catch(e){throw this.handleFailure(a,e),e}},handleFailure:function(t,a){this.failed[t.handle]=a,this.siteUpdatesHandler.cancelUpdateBatchItem(t.handle),this.itemCurrentlyRunning=null,o.log.error(a),e.forEach(this.onErrorCallbacks,function(e){e({error:a,methodName:t.params.methodName,handle:t.handle})}),!this.isDebug||window.karmaIntegration||window.__karma__||window.alert("you have error (in DS) !!! look at the console"),this.runNextStepInQueue()},runDoneCallbacks:function(t){var a=this.failed[t];e.forEach(this.doneCallbacks[t],function(e){e(a)}),delete this.doneCallbacks[t]},runNextStepInQueue:function(){if(!this.disposed){var e=this.queue[0];e&&this.siteUpdatesHandler.canAddItemToUpdateBatch(e.params)?(this.queue.shift(),this.executeSetOperation(e)):this.siteUpdatesHandler.closeBatchAndUpdate()}},onSiteUpdated:function(t,a){this.disposed||(t&&!e.isEmpty(t)&&(this.itemCurrentlyRunning=null,this.lastUpdateFinished=e.last(t),e.forEach(t,this.runDoneCallbacks.bind(this))),this.siteUpdatesHandler.addTraceTime("waitForChanges"),this.siteUpdatesHandler.logTrace(),r.shouldLogConsoleTrace(this.privateServices)&&console.trace&&console.trace(),this.itemCurrentlyRunning||this.runNextStepInQueue(),e.forEach(this.siteUpdatedCallbacks,function(e){e(a)}))},getNextUpdateHandle:function(){return++this.updateHandlesCounter},getLastQueueItem:function(){if(!this.itemCurrentlyRunning&&!this.queue.length)return null;var t=this.itemCurrentlyRunning;return this.queue.length&&(t=e.last(this.queue)),t},setNoBatchingAfterLastItemInQ:function(){var e=this.getLastQueueItem();e&&(e===this.itemCurrentlyRunning?this.siteUpdatesHandler.closeUpdateBatchAfterCurrentItem():e.params.noBatchingAfter=!0)},createNewQueueItem:function(t,a,r){var o={handle:this.getNextUpdateHandle(),operation:t,args:a,params:r,snapshot:null,isAsyncOperation:r.isAsyncOperation,asyncPreDataManipulation:r.asyncPreDataManipulation};if(e.isFunction(o.isAsyncOperation)&&"components.remove"!==r.methodName)throw Error("isAsyncOperation has to be a boolean. functions are still allowed for components.remove since we didn't have a choice. please make it false there as soon as you can");return o.isRealAsyncOperation=i(o,"isAsyncOperation"),delete o.isAsyncOperation,o}};function l(e){this.siteId=e.siteAPI.getSiteId(),n[this.siteId]=new s(e)}return l.prototype={dispose:function(){var e=n[this.siteId];e.siteUpdatesHandler.dispose(),e.queue=[],e.doneCallbacks={},e.onErrorCallbacks=[],e.disposed=!0,this.siteId=null},useSimpleTimeoutToDefer:function(t){n[this.siteId].deferFunction=e.partialRight(e.delay,t)},useAnimationFrameToDefer:function(){n[this.siteId].deferFunction=o.animationFrame.request},runSetOperation:function(e,t,a){var r=n[this.siteId],o=a||{},i=r.createNewQueueItem(e,t,o);return o.noBatching&&(o.noBatchingAfter=!0),(o.noBatching||i.isRealAsyncOperation)&&r.setNoBatchingAfterLastItemInQ(),r.queue.push(i),this.isRunningSetOperation()||r.runNextStepInQueue(),i.handle},isRunningSetOperation:function(){return!!n[this.siteId].itemCurrentlyRunning},executeAfterCurrentOperationDone:function(e){var t=n[this.siteId];t.itemCurrentlyRunning&&t.siteUpdatesHandler.addItemPostUpdateOperation(e,t.itemCurrentlyRunning.handle)},asyncPreDataManipulationComplete:function(t,a){var r=n[this.siteId];if(r.itemCurrentlyRunning&&r.itemCurrentlyRunning.isRealAsyncOperation)if(a)r.handleFailure(r.itemCurrentlyRunning,a);else{var o=r.itemCurrentlyRunning;e.isNil(t)||o.args.splice(1,0,t),r.addToActionQueue(o),e.defer(r.runNextStepInQueue.bind(r))}},registerToSiteChanged:function(e){n[this.siteId].siteUpdatedCallbacks.push(e)},registerToErrorThrown:function(e){n[this.siteId].onErrorCallbacks.push(e)},unRegisterFromErrorThrown:function(t){var a=n[this.siteId];a.onErrorCallbacks=e.without(a.onErrorCallbacks,t)},unRegisterAll:function(){var e=n[this.siteId];e.siteUpdatedCallbacks=[],e.onErrorCallbacks=[]},waitForChangesApplied:function(e){var t=n[this.siteId].getLastQueueItem();t?this.registerToSetOperationDone(t.handle,e):e()},registerToSetOperationDone:function(e,t){var a=n[this.siteId];a.lastUpdateFinished&&e<=a.lastUpdateFinished?t(a.failed[e]):(a.doneCallbacks[e]=a.doneCallbacks[e]||[],a.doneCallbacks[e].push(t))},flushQueueAndExecute:function(e){n[this.siteId].setNoBatchingAfterLastItemInQ(),this.waitForChangesApplied(e)}},l}),define("documentServices/siteAccessLayer/SetOperationsQueueNoSite",["lodash"],function(e){"use strict";function t(){this._siteDataChangedCallbacks=[],this._waitingForAsync=!1,this._waitingForAsyncBatch=[],this._setOperationWaitingForAsync=null}return t.prototype={dispose:function(){},runSetOperation:function(t,a,r){this._waitingForAsync?this._waitingForAsyncBatch.push({setOperation:t,args:a,params:r}):(o=a,n=e.get(r,"isAsyncOperation"),(e.isFunction(n)?n.apply(null,o):n)&&(this._waitingForAsync=!0,this._setOperationWaitingForAsync={setOperation:t,args:a,params:r},t=r.asyncPreDataManipulation?r.asyncPreDataManipulation:t),t.apply(null,a),e.forEach(this._siteDataChangedCallbacks,function(e){e()}));var o,n},isRunningSetOperation:function(){return!1},executeAfterCurrentOperationDone:function(e){e()},registerToSetOperationDone:function(){throw new Error("not supported, there are no handles here")},asyncSetOperationComplete:function(){this._waitingForAsync=!1;var t=this._waitingForAsyncBatch;this._waitingForAsyncBatch=[],e.forEach(t,e.bind(function(e){this.runSetOperation(e.setOperation,e.args,e.params)},this))},asyncPreDataManipulationComplete:function(t,a){this._waitingForAsync=!1;var r=this._setOperationWaitingForAsync;a||(this._setOperationWaitingForAsync=null,e.isNil(t)||r.args.splice(1,0,t),r.setOperation.apply(null,r.args))},registerToSiteDataChanged:function(e){this._siteDataChangedCallbacks.push(e)},registerToSiteChanged:function(){throw new Error("there is no site")},registerToErrorThrown:function(){throw new Error("errors are sync")},unRegisterFromErrorThrown:function(){throw new Error("errors are sync")},waitForChangesApplied:function(e){this.runSetOperation(e,[],{})},flushQueueAndExecute:function(e){this.waitForChangesApplied(e)}},t}),define("documentServices/privateServices/GeneralSuperDal",["lodash","coreUtils","documentServices/constants/constants","documentServices/bi/errors","experiment"],function(e,t,a,r,o){"use strict";var n=new WeakMap,i=function(t,a,r,i,s){var l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e.noop;n.set(this,{isInTransaction:!1}),this.displayedJsonUpdater=i,this.fullJsonUpdater=r,this.fullJsonDal=t,this.displayedJsonDal=a,function t(a,r){return e.forIn(a,function(o,n){e.isFunction(o)?a[n]=o.bind(r):e.isPlainObject(o)&&(a[n]=t(e.clone(o),r))}),a}(this,this),this.pointers=s,this.isMultilingualExperimentOpen=o.isOpen("sv_multilingual"),this.onError=l};function s(e,t){return e.getPointerJsonType(t)===a.JSON_TYPES.FULL}function l(e,t){return e.getPathJsonType(t)===a.JSON_TYPES.FULL}function u(e,t){var a=t.general.getActiveModes();return e.get(a)}return i.prototype={get:function(e){return this.displayedJsonDal.get(e,!0)},getByPath:function(e){return this.displayedJsonDal.getByPath(e,!0)},isExist:function(e){return this.displayedJsonDal.isExist(e)},isPathExist:function(e){return this.displayedJsonDal.isPathExist(e)},getKeys:function(e){return this.displayedJsonDal.getKeys(e,!0)},getKeysByPath:function(e){return this.displayedJsonDal.getKeysByPath(e,!0)},set:function(t,a){s(this.fullJsonDal,t)?(this.displayedJsonUpdater.Displayed.onSet(t,a),this.fullJsonUpdater.onSet(t,a)):(r=t,e.includes(["wixapps","siteAspects","compBehaviours","svgShapes","layoutAdjustment","displayedOnlyComponents"],r.type)?this.displayedJsonDal.set(t,a):(this.fullJsonDal.set(t,a),this.displayedJsonUpdater.Displayed.onSet(t,a)));var r},push:function(e,t,a,r){s(this.fullJsonDal,e)?(this.displayedJsonUpdater.Displayed.onPush(e,t,a,r),this.fullJsonUpdater.onPush(e,t,a,r)):(this.fullJsonDal.push(e,t,a,r),this.displayedJsonDal.push(e,t,a,r))},merge:function(e,t){s(this.fullJsonDal,e)?(this.displayedJsonDal.merge(e,t),this.fullJsonUpdater.onMerge(e,t)):(this.fullJsonDal.merge(e,t),this.displayedJsonDal.merge(e,t))},remove:function(e){s(this.fullJsonDal,e)?(this.displayedJsonUpdater.Displayed.onRemove(e),this.fullJsonUpdater.onRemove(e)):(this.fullJsonDal.remove(e),this.displayedJsonDal.remove(e))},takeSnapshot:function(e){return this.fullJsonDal.takeSnapshot(e)},duplicateLastSnapshot:function(e,t){return this.fullJsonDal.duplicateLastSnapshot(e,t)},wasValueChangedSinceLastSnapshot:function(e,t){return this.fullJsonDal.wasValueChangedSinceLastSnapshot(e,t)},getLastSnapshotByTagName:function(e,t){return this.fullJsonDal.getLastSnapshotByTagName(e,t)},getInitialSnapshot:function(e){return this.fullJsonDal.getInitialSnapshot(e)},removeLastSnapshot:function(e){this.fullJsonDal.removeLastSnapshot(e)},getSnapshotByTagAndIndex:function(e,t,a){return this.fullJsonDal.getSnapshotByTagAndIndex(e,t,a)},transaction:function(e){var t=n.get(this);t.isInTransaction=!0;try{e()}finally{t.isInTransaction=!1}},full:{immutable:{getSnapshotByTagAndIndex:function(e,t){return this.fullJsonDal.immutable.getSnapshotByTagAndIndex(e,t)},getLastSnapshotByTagName:function(e){return this.fullJsonDal.immutable.getLastSnapshotByTagName(e)},getInitialSnapshot:function(){return this.fullJsonDal.immutable.getInitialSnapshot()},getByPath:function(e){return this.fullJsonDal.immutable.getByPath(e)}},get:function(a){if(s(this.fullJsonDal,a)){var r=a;return this.isMultilingualExperimentOpen&&(a.useOriginalLanguage||((r=e.cloneDeep(a)).multilingual=t.multilingual.PointerOperation.GET)),this.fullJsonDal.get(r)}return this.displayedJsonDal.get(a)},set:function(e,t){if(this.fullJsonDal.set(e,t),s(this.fullJsonDal,e)){if(n.get(this).isInTransaction)return;var a=u(this.displayedJsonDal,this.pointers);this.displayedJsonUpdater.onSet(e,a)}else this.displayedJsonDal.set(e,t)},push:function(e,t,a,r){if(this.fullJsonUpdater.push(e,t,a,r),s(this.fullJsonDal,e)){if(n.get(this).isInTransaction)return;var o=u(this.displayedJsonDal,this.pointers);this.displayedJsonUpdater.onPush(e,r,t,a,o)}else this.displayedJsonDal.push(e,t,a,r)},merge:function(e,t){if(this.fullJsonDal.merge(e,t),s(this.fullJsonDal,e)){if(n.get(this).isInTransaction)return;var a=u(this.displayedJsonDal,this.pointers);this.displayedJsonUpdater.onMerge(e,a)}else this.displayedJsonDal.merge(e,t)},getByPathInHostModel:function(e){return l(this.fullJsonDal,e)?this.fullJsonDal.getByPath(e):this.displayedJsonDal.getByPath(e)},getByPath:function(e){if(l(this.fullJsonDal,e)){var t=(new Error).stack;this.onError(r.DIRECT_PAGES_DATA_ACCESS_IN_GSD,{path:e,stack:t})}return this.full.getByPathInHostModel(e)},isExist:function(e){return s(this.fullJsonDal,e)?this.fullJsonDal.isExist(e):this.displayedJsonDal.isExist(e)},isPathExistInHostModel:function(e){return l(this.fullJsonDal,e)?this.fullJsonDal.isPathExist(e):this.displayedJsonDal.isPathExist(e)},isPathExist:function(e){if(l(this.fullJsonDal,e)){var t=(new Error).stack;this.onError(r.DIRECT_PAGES_DATA_ACCESS_IN_GSD,{path:e,stack:t})}return this.full.isPathExistInHostModel(e)},remove:function(e){if(this.fullJsonDal.remove(e),s(this.fullJsonDal,e)){if(n.get(this).isInTransaction)return;var t=u(this.displayedJsonDal,this.pointers);this.displayedJsonUpdater.onRemove(e,t)}else this.displayedJsonDal.remove(e)},getKeys:function(e){return s(this.fullJsonDal,e)?this.fullJsonDal.getKeys(e):this.displayedJsonDal.getKeys(e)},getKeysByPathInHostModel:function(e){return l(this.fullJsonDal,e)?this.fullJsonDal.getKeysByPath(e):this.displayedJsonDal.getKeysByPath(e)},getKeysByPath:function(e){if(l(this.fullJsonDal,e)){var t=(new Error).stack;this.onError(r.DIRECT_PAGES_DATA_ACCESS_IN_GSD,{path:e,stack:t})}return this.full.getKeysByPathInHostModel(e)},setByPathToHostModel:function(e,t){if(this.fullJsonDal.setByPath(e,t),l(this.fullJsonDal,e)){if(n.get(this).isInTransaction)return;var a=u(this.displayedJsonDal,this.pointers);this.displayedJsonUpdater.onSetByPath(e,a)}else this.displayedJsonDal.setByPath(e,t)},setByPath:function(e,t){if(l(this.fullJsonDal,e)){var a=(new Error).stack;this.onError(r.DIRECT_PAGES_DATA_ACCESS_IN_GSD,{path:e,stack:a})}this.full.setByPathToHostModel(e,t)},removeByPathInHostModel:function(e){if(this.fullJsonDal.removeByPath(e),l(this.fullJsonDal,e)){if(n.get(this).isInTransaction)return;var t=u(this.displayedJsonDal,this.pointers);this.displayedJsonUpdater.onRemoveByPath(e,t)}else this.displayedJsonDal.removeByPath(e)},removeByPath:function(e){if(l(this.fullJsonDal,e)){var t=(new Error).stack;this.onError(r.DIRECT_PAGES_DATA_ACCESS_IN_GSD,{path:e,stack:t})}this.full.removeByPathInHostModel(e)},pushByPathToHostModel:function(e,t,a){if(this.fullJsonDal.pushByPath(e,t,a),l(this.fullJsonDal,e)){if(n.get(this).isInTransaction)return;var r=u(this.displayedJsonDal,this.pointers);this.displayedJsonUpdater.onPushByPath(e,a,r)}else this.displayedJsonDal.pushByPath(e,t,a)},pushByPath:function(e,t,a){if(l(this.fullJsonDal,e)){var o=(new Error).stack;this.onError(r.DIRECT_PAGES_DATA_ACCESS_IN_GSD,{pathToArray:e,stack:o})}this.full.pushByPathToHostModel(e,t,a)},mergeByPathToHostModel:function(e,t){if(this.fullJsonDal.mergeByPath(e,t),l(this.fullJsonDal,e)){if(n.get(this).isInTransaction)return;var a=u(this.displayedJsonDal,this.pointers);this.displayedJsonUpdater.onMergeByPath(e,a)}else this.displayedJsonDal.mergeByPath(e,t)},mergeByPath:function(e,t){if(l(this.fullJsonDal,e)){var a=(new Error).stack;this.onError(r.DIRECT_PAGES_DATA_ACCESS_IN_GSD,{path:e,stack:a})}this.full.mergeByPathToHostModel(e,t)}}},i}),define("documentServices/privateServices/FullJsonUpdater",["lodash","coreUtils","utils","documentServices/modes/modesUtils","documentServices/dataModel/dataIds","documentServices/constants/constants","documentServicesSchemas","experiment"],function(e,t,a,r,o,n,i,s){"use strict";var l=i.schemas.designSchemas,u=i.schemas.propertiesSchemas,c={PROPERTY:"propertyQuery",DESIGN:"designQuery"},d=["mobileComponents","components","children"],p=["styleId","designQuery","propertyQuery"],g=e.union(["layout"],p),f=function(a,r,o){if(s.isOpen("sv_multilingual")){this.fullJsonDal=e(["get","set","merge","remove","push","isExist","getPointerJsonType"]).map(function(r){return[r,(o=r,function(r){var n=e.cloneDeep(r);n.multilingual=t.multilingual.PointerOperation.SET;for(var i=arguments.length,s=Array(i>1?i-1:0),l=1;l<i;l++)s[l-1]=arguments[l];return a[o].apply(a,[n].concat(s))})];var o}).fromPairs().value()}else this.fullJsonDal=a;this.pointers=r,this.displayedJsonDal=o};function m(t,a){return a=[].concat(a),e.findIndex(t,function(t){return t.modeIds.length>=1&&e.isEqual(t.modeIds.sort(),a.sort())})}function y(e,t){t=[].concat(t),function(e){var t=this.pointers.componentStructure.getModes(e),a=this.pointers.componentStructure.getModesOverrides(e);this.fullJsonDal.isExist(t)?this.fullJsonDal.isExist(a)||this.fullJsonDal.set(a,[]):this.fullJsonDal.set(t,r.createEmptyModesObject())}.call(this,e);var a=this.pointers.componentStructure.getModesOverrides(e),o=this.fullJsonDal.get(a),n=m.call(this,o,t);return n<0&&(this.fullJsonDal.push(a,{modeIds:t}),n=o.length),this.pointers.getInnerPointer(a,n)}function _(t,a,r,o){var n=y.call(this,t,a),i=this.fullJsonDal.get(n);e.set(i,o,r),this.fullJsonDal.set(n,i)}function v(t,a,r,o){var n=function(t,a,r){var o=this.pointers.getOriginalPointerFromInner(t),n=this.fullJsonDal.get(this.pointers.getInnerPointer(o,"layout")),i=e.get(a,r);return e.merge({},n,i)}.call(this,t,a,r);return e.size(r)>1?e.set(n,e.takeRight(r,e.size(r)-1),o):n=e.merge(n,o),n}function S(t,o,n,i){var s=a.dataUtils.getChildrenKey(t,this.pointers.components.isMobile(o)),l=t[s];if(l&&l.length){for(var u=this.pointers.getInnerPointer(o,s),c=this.fullJsonDal.get(u),d=e(c).filter(function(a){return!e.find(t[s],{id:a.id})}).map("id").value(),p=d.length+l.length,g=[],f=0,m=0;f<p;f++){var y=c[f];y&&e.includes(d,y.id)?g.push(y):(g.push(l[m]),m++)}t[s]=e.map(g,function(a){return!e.find(t[s],{id:a.id})?function(t,a){t.modes=t.modes||r.createEmptyModesObject(),t.modes.overrides=t.modes.overrides||[];var o=e.find(t.modes.overrides,["modeIds[0]",a]);return o||(o={modeIds:[a]},t.modes.overrides.push(o)),o.isHiddenByModes=!0,t}(a,i):function(e,t,a,r){var o=this.pointers.components.getComponent(e.id,t),n=this.pointers.components.getViewMode(a);return o=o||this.pointers.components.getUnattached(e.id,n),O.call(this,o,t,e,r)}.call(this,a,n,o,i)}.bind(this))}}function O(t,o,n,i){n=a.displayedOnlyStructureUtil.getOriginalStructure(n);var s=e.head(r.getComponentModesToGenerateOverrides(this.pointers,this.fullJsonDal,this.displayedJsonDal,t)),l=s===(i=i||r.getFirstAncestorModeToGenerateOverrides(this.pointers,this.fullJsonDal,this.displayedJsonDal,t)||s)?p:g,u=e.pick(n,l),c=e.clone(n),d=this.pointers.componentStructure.getModes(t),f=this.fullJsonDal.isExist(d)?this.fullJsonDal.get(d):null,m=i&&!this.fullJsonDal.isExist(t),y=i&&this.fullJsonDal.isExist(t);f&&(c.modes=f);var _=null;if(m)return _=n&&n.layout||_,e.assign(c,{modes:r.createModesObjectForCompAddedInMode([i],_)});if(y){var v=this.pointers.getInnerPointer(t,"layout");_=this.fullJsonDal.get(v)||_,u.layout&&(u.layout=e.defaults(u.layout,_));var O=function(t,a){return e.mapValues(t,function(e,t){var r=this.pointers.getInnerPointer(a,t);return this.fullJsonDal.get(r)}.bind(this))}.call(this,u,t),h=function(t,a,o){if(e.isEmpty(o))return t;t=t&&e.cloneDeep(t)||r.createEmptyModesObject();var n=e.find(t.overrides,["modeIds[0]",a]);n||(n={modeIds:[a]},t.overrides.push(n));return e.merge(n,o),t}(f,i,u=e.omitBy(u,function(t,a){return e.isEqual(t,O[a])}));h&&(c.modes=h),e.assign(c,O)}return S.call(this,c,t,o,i),c}function h(t,a,o){var n=this.pointers.getOriginalPointerFromInner(t),i=r.getFirstAncestorModeToGenerateOverrides(this.pointers,this.fullJsonDal,this.displayedJsonDal,n);i?function(t,a,r,o){var n=y.call(this,t,a),i=this.fullJsonDal.get(n);if(e.includes(o,"layout")){var s=v.call(this,t,i,o,r);e.set(i,o,s)}else e.get(i,o)?e.assign(e.get(i,o),r):e.set(i,o,r);this.fullJsonDal.merge(n,i)}.call(this,n,i,a,o):this.fullJsonDal.merge(t,a)}function A(e,t){return e.getPointerJsonType(t)===n.JSON_TYPES.FULL}function E(t,a,o,n){var i=this.pointers.data.getPageIdOfData(t),s=t.component;if(s&&e.includes(c,o)){var l=r.getFirstAncestorModeToGenerateOverrides(this.pointers,this.fullJsonDal,this.displayedJsonDal,s,n);if(l){var u=y.call(this,s,l),d=this.fullJsonDal.get(u);return void(d[o]?w.call(this,d,o,i,a,t.refPath):function(e,t,a,r,o,n){(function(e,t,a,r){var o=this.pointers.getInnerPointer(r,e),n=L(e),i=(e!==c.PROPERTY?"#":"")+n;this.fullJsonDal.set(o,i),R.call(this,a,n,t,e)}).call(this,n,a,t,e),function(e,t,a,r,o){e.id=t.id,this.fullJsonDal.set(t,e);var n=(a!==c.PROPERTY?"#":"")+t.id;_.call(this,r,o,n,a)}.call(this,r,t,n,e,o)}.call(this,s,t,i,a,l,o))}}this.fullJsonDal.set(t,a)}function C(e,t,a,o){var n=this.pointers.data.getPageIdOfData(e),i=e.component;if(i){var s=r.getFirstAncestorModeToGenerateOverrides(this.pointers,this.fullJsonDal,this.displayedJsonDal,i,!!o);if(s){var l=this.pointers.componentStructure.getModesOverrides(i),u=function(e,t){var a=this.fullJsonDal.get(e),r=m.call(this,a,t);return r<0?null:this.pointers.getInnerPointer(e,r)}.call(this,l,s);u||P(a);var c=this.fullJsonDal.get(u);return void(c&&c[a]?w.call(this,c,a,n,t,e.refPath):P(a))}}this.fullJsonDal.merge(e,t)}function P(e){if(e===c.PROPERTY)throw new Error("Can't merge value to non-existent properties overrides.");if(e===c.DESIGN)throw new Error("Can't merge value to non-existent design overrides.");throw new Error("Can't merge value to non-existent overrides.")}function R(t,a,r,o){if(t&&a){var n=this.fullJsonDal.get(t);if(n){var i=I(n,o);(function(t,a,r,o){if(!r)return null;return e.forOwn(t,function(e,n){if(T(n,e,r)){var i=L(o),s=b(e),l=D(this.pointers,o,s,a),u=R.call(this,l,i,a,o);t[n]=u?"#"+u:null}}.bind(this)),t}).call(this,n,r,i,o),n.id=a;var s=D(this.pointers,o,a,r);return this.fullJsonDal.set(s,n),this.displayedJsonDal.set(s,n),a}return null}}function I(t,a){var r=null;switch(a){case c.PROPERTY:r=u[t.type];break;case c.DESIGN:r=l[t.type]}return e.get(r,"properties")||e.get(r,"allOf.0.properties")}function D(e,t,a,r){var o=void 0;return t===c.PROPERTY?o=e.data.getPropertyItem(a,r):t===c.DESIGN&&(o=e.data.getDesignItem(a,r)),o}function T(t,a,r){if(a){var o=e.get(r[t],"pseudoType")||[];return e.some(o,e.partial(e.includes,["ref","refList"]))}return!1}function w(t,a,r,o,n){var i=t[a],s=function(e,t,a,r){var o=function(e,t,a){var r=b(t),o=void 0;e===c.PROPERTY?o=this.pointers.data.getPropertyItem(r,a):e===c.DESIGN&&(o=this.pointers.data.getDesignItem(r,a));return o}.call(this,r,e,t),n=this.pointers.data,i=null;switch(r){case c.DESIGN:i=n.getDesignItem.bind(n);break;case c.PROPERTY:i=n.getPropertyItem.bind(n)}if(i&&a)for(var s=0;s<a.length;s++){var l=this.fullJsonDal.get(o);if(!l){o=null;break}var u=b(l[a[s]]);o=i(u,t)}return o}.call(this,i,r,n,a);if(s){var l=this.fullJsonDal.get(s),u=function(t,a,r){{if(!t)return a;if(!a)return t;if(t.type!==a.type)return e.assign({},a,{id:t.id})}var o=I(t,r),n=e.omit(a,"id");return e.forOwn(a,function(r,i){T(i,r,o)&&t[i]&&a[i]&&(n=e.omit(n,i))}),e.assign({},t,n)}.call(this,l,o,a);this.fullJsonDal.set(s,u)}}function b(t){return e.isString(t)?t.replace("#",""):t}function L(e){var t=void 0;switch(e){case c.PROPERTY:t=o.generateNewId("properties");break;case c.DESIGN:t=o.generateNewId("design");break;default:t=o.generateNewId("")}return t}function M(e){if(!B.call(this,e,"layout"))return!1;if(!this.displayedJsonDal.get(this.pointers.changedByRelayout.getCompChangedByRelayout(e.id)))return!1;var a=this.pointers.getOriginalPointerFromInner(e),r=t.displayedOnlyStructureUtil.getItemId(e.id),o=this.pointers.components.getAncestorByPredicate(a,function(e){return!t.displayedOnlyStructureUtil.isDisplayedComponent(e.id)}),n=this.pointers.displayedOnlyComponents.getComponentTemplateId(o.id);return r!==this.displayedJsonDal.get(n)}function B(e,a){if(!t.displayedOnlyStructureUtil.isDisplayedComponent(e.id))return!1;return this.pointers.getInnerPointerPathRoot(e)===a}function V(a){if(t.displayedOnlyStructureUtil.isDisplayedComponent(a.id)){var r=this.pointers.getOriginalPointerFromInner(a),o=this.pointers.components.getParent(r);if(t.displayedOnlyStructureUtil.isDisplayedComponent(o.id))V.call(this,o);else{var n=t.displayedOnlyStructureUtil.getItemId(r.id),i=this.pointers.displayedOnlyComponents.getComponentTemplateId(o.id);if(this.displayedJsonDal.get(i)!==n){this.displayedJsonDal.set(i,n);var s=this.pointers.components.getChildrenRecursivelyRightLeftRootIncludingRoot(r);e.forEach(s,function(e){var t=this.pointers.getInnerPointer(e,"layout"),a=this.displayedJsonDal.get(t);this.fullJsonDal.set(t,a)}.bind(this))}}}}return f.prototype={push:function(e,a,r,o){var n,i,s=(n=this.pointers,i=e,"components"!==n.getInnerPointerPathRoot(i)?i:n.full.components.getChildrenContainer(n.getOriginalPointerFromInner(i)));this.fullJsonDal.push(s,a,r,o),t.displayedOnlyStructureUtil.isDisplayedComponent(s.id)&&"components"===this.pointers.getInnerPointerPathRoot(s)&&V.call(this,s)},onSet:function(t,a){if(!A(this.fullJsonDal,t))throw new Error("updates outside of pagesData should be done only through full json DAL");switch(this.pointers.getPointerType(t)){case"page":if(e.isEmpty(t.innerPath))throw new Error("updating pages object should be done directly through full json DAL");break;case"component":var o=this.pointers.components.getPageOfComponent(t);return void this.fullJsonDal.set(t,O.call(this,t,o,a));case"componentStructure":var n=this.pointers.getInnerPointerPathRoot(t);if(n&&e.includes(g,n)){if(B.call(this,t,"designQuery")||M.call(this,t))return;return function(t,a,o){var n=this.pointers.getOriginalPointerFromInner(t),i=e.head(r.getComponentModesToGenerateOverrides(this.pointers,this.fullJsonDal,this.displayedJsonDal,n)),s=r.getFirstAncestorModeToGenerateOverrides(this.pointers,this.fullJsonDal,this.displayedJsonDal,n)||i,l=i===s?p:g,u=e.head(o);if(s&&e.includes(l,u)){if("layout"===u&&e.size(o)>1){var c=e.set({},e.takeRight(o,o.length-1),a);o=["layout"];var d=y.call(this,n,s),f=this.fullJsonDal.get(d);a=v.call(this,n,f,o,c)}_.call(this,n,s,a,o)}else this.fullJsonDal.set(t,a)}.call(this,t,a,t.innerPath),void("layout"===n&&V.call(this,t))}break;case"props":return void E.call(this,t,a,c.PROPERTY);case"design":return void E.call(this,t,a,c.DESIGN,!0)}this.fullJsonDal.set(t,a)},onRemove:function(t){if(!A(this.fullJsonDal,t))throw new Error("updates outside of pagesData should be done only through full json DAL");switch(this.pointers.getPointerType(t)){case"page":if(e.isEmpty(t.innerPath))throw new Error("updating pages object should be done directly through full json DAL");break;case"component":return void function(t){var o=r.getFirstAncestorWithModesToGenerateOverrides(this.pointers,this.fullJsonDal,this.displayedJsonDal,t),n=void 0,i=void 0;if(o&&(i=e.head(r.getComponentModesToGenerateOverrides(this.pointers,this.fullJsonDal,this.displayedJsonDal,o)),n=a.modes.isCompVisibleAfterRemovalFromMode(this.pointers,this.fullJsonDal,t,o,i)),o&&n){var s=e.head(r.getComponentModesToGenerateOverrides(this.pointers,this.fullJsonDal,this.displayedJsonDal,o)),l=y.call(this,t,s);this.fullJsonDal.merge(l,{isHiddenByModes:!0})}else this.fullJsonDal.isExist(t)&&this.fullJsonDal.remove(t)}.call(this,t)}this.fullJsonDal.remove(t)},onPush:function(t,o,n,i){if(!A(this.fullJsonDal,t))throw new Error("updates outside of pagesData should be done only through full json DAL");var s=this.pointers.getOriginalPointerFromInner(t),l=this.pointers.getInnerPointerPathRoot(t),u=this.pointers.getOriginalPointerFromInner(t);if("components"===l){var c=e.tail(t.innerPath);if(this.pointers.components.isMobile(t)){var p=this.pointers.full.components.getPage(t.id,u.type),g=this.pointers.full.components.getChildrenContainer(p);t=this.pointers.getInnerPointer(g,c)}else if(this.pointers.components.isMasterPage(s)){var f=this.pointers.full.components.getChildrenContainer(u);t=this.pointers.getInnerPointer(f,c)}}var m=void 0,y=l&&e.includes(d,l);if(y){var _=a.displayedOnlyStructureUtil.getOriginalStructure(o);m=r.adjustModesToNewContainer(this.pointers,this.fullJsonDal,this.displayedJsonDal,u,_)}this.fullJsonDal.push(t,m||o,n,i),y&&V.call(this,u)},onMerge:function(t,o){if(!A(this.fullJsonDal,t))throw new Error("updates outside of pagesData should be done only through full json DAL");switch(this.pointers.getPointerType(t)){case"page":if(e.isEmpty(t.innerPath))throw new Error("updating pages object should be done directly through full json DAL");break;case"component":var n=r.getFirstAncestorModeToGenerateOverrides(this.pointers,this.fullJsonDal,this.displayedJsonDal,t)||e.head(r.getComponentModesToGenerateOverrides(this.pointers,this.fullJsonDal,this.displayedJsonDal,t));if(!n){o=a.displayedOnlyStructureUtil.getOriginalStructure(o);break}var i=this.pointers.components.getPageOfComponent(t);return void this.fullJsonDal.merge(t,O.call(this,t,i,o,n));case"componentStructure":var s=this.pointers.getInnerPointerPathRoot(t);if(s&&e.includes(g,s)){if(B.call(this,t,"designQuery")||M.call(this,t))return;return h.call(this,t,o,t.innerPath),void("layout"===s&&V.call(this,t))}break;case"props":return void C.call(this,t,o,c.PROPERTY);case"design":return void C.call(this,t,o,c.DESIGN,!0)}this.fullJsonDal.merge(t,o)}},f}),define("documentServices/privateServices/displayedComponentsUpdater",["lodash","coreUtils"],function(e,t){"use strict";return function(a,r){function o(o){return function(n,i){if(t.displayedOnlyStructureUtil.isDisplayedComponent(n.id)){var s=a.components.getAllDisplayedOnlyComponents(n);if(r.get(a.changedByRelayout.getCompChangedByRelayout(n.id)))o(n,i);else{var l=a.components.getParent(a.getOriginalPointerFromInner(n));if(u=n,c=l,"layout"!==a.getInnerPointerPathRoot(u)||t.displayedOnlyStructureUtil.isDisplayedComponent(c.id)){var u,c;!function(e,t){var a=e.getInnerPointerPathRoot(t);return"designQuery"===a||"dataQuery"===a}(a,n)?e.forEach(s,function(t){o(t,e.clone(i))}):o(n,i)}else{var d=r.get(a.getInnerPointer(l,"componentType"));t.jsonUpdaterRegistrar.getCompLayouter(d).setLayout(a,r,l,i)}}}else o(n,i)}}return{onSet:o(e.bind(r.set,r)),onMerge:o(e.bind(r.merge,r)),onRemove:function(t){if("component"===a.getPointerType(t)){var o=a.components.getParent(t);if(o){var n=a.components.getChildrenContainer(o),i=r.get(n);r.set(n,e.without(i,t.id))}}r.remove(t)},onPush:function(t,o,n,i){if(n){var s=e.defaults({parent:t.id},o);o.components&&(s.components=e.map(o.components,"id"));var l=a.full.components.getPageOfComponent(a.getOriginalPointerFromInner(t)).id,u=a.components.getViewMode(t),c=a.page.getComponentsMapPointer(l,u);r.merge(c,_defineProperty({},s.id,s)),r.push(t,o.id,n,i)}else r.push(t,o,n,i)}}}}),define("documentServices/privateServices/DisplayedJsonUpdater",["lodash","utils","core","documentServices/privateServices/displayedComponentsUpdater"],function(e,t,a,r){"use strict";var o="updates outside of pagesData should be done only through full json DAL";function n(e){return s(e)&&e.length>2&&"structure"===e[2]}function i(e){return s(e)&&2===e.length}function s(e){return e&&e.length>0&&"pagesData"===e[0]}function l(e){var t=this.pointers.getOriginalPointerFromInner(e);return s(this.displayedCache.getPath(t)||this.fullCache.getPath(t))}function u(e){return"componentStructure"===this.pointers.getPointerType(e)}function c(a,r){var o=a[1];if(n(a)){var s=this.pointers.components.getPage(o,t.constants.VIEW_MODES.DESKTOP);this.simpleDisplayedJsonUpdater.updateDisplayedJsonInPagesDataByPointer(s,r)}else if(i(a)){var l=this.pointers.page.getPagePointer(o)||this.pointers.page.getNewPagePointer(o);this.simpleDisplayedJsonUpdater.updateDisplayedJsonInPagesDataByPointer(l,r)}else if(d=a,e.isEqual(d,["pagesData"])){var u=t.objectUtils.cloneDeep(e.get(this.fullJson,a));this.simpleDisplayedJsonUpdater.updateDisplayedPagesData(u,r)}else{var c=t.objectUtils.cloneDeep(e.get(this.fullJson,a));this.displayedJsonDAL.setByPath(a,c)}var d}function d(e,t,o,n,i,s){this.fullJson=e,this.displayedJsonDAL=t,this.fullCache=o,this.displayedCache=n,this.pointers=i,this.simpleDisplayedJsonUpdater=new a.SimpleDisplayedJsonUpdater(e,t,o,i,s),this.Displayed=r(this.pointers,this.displayedJsonDAL)}return d.prototype={onPush:function(e,t,a,r,n){if(n=n||{},!l.call(this,e))throw new Error(o);if(function(e){return function(e){return"component"===this.pointers.getPointerType(e)}.call(this,e)||u.call(this,e)}.call(this,e)){var i=this.pointers.getOriginalPointerFromInner(e);this.simpleDisplayedJsonUpdater.updateDisplayedJsonByPointer(i,n)}else this.displayedJsonDAL.push(e,a,r,t)},onMerge:function(e,t){t=t||{};var a=this.pointers.getOriginalPointerFromInner(e);if(!l.call(this,a))throw new Error(o);this.simpleDisplayedJsonUpdater.updateDisplayedJsonByPointer(a,t)},onRemove:function(t,a){a=a||{};var r=this.displayedJsonDAL;if(r.isExist(t)&&!l.call(this,t))throw new Error(o);if(u.call(this,t)){var n=this.pointers.getOriginalPointerFromInner(t);if(!r.isExist(n))return;this.simpleDisplayedJsonUpdater.updateDisplayedJsonByPointer(n,a)}else e.forEach(this.pointers.components.getAllDisplayedOnlyComponents(t),function(e){r.isExist(e)&&r.remove(e)})},onSet:function(e,t){t=t||{};var a="modes"===this.pointers.getInnerPointerPathRoot(e),r=this.pointers.getOriginalPointerFromInner(e),n=void 0;if(a){var i=this.pointers.full.components.getParent(r);n=i||r}else n=r;if(!s(this.fullCache.getPath(n)))throw new Error(o);this.simpleDisplayedJsonUpdater.updateDisplayedJsonByPointer(n,t)},onSetByPath:function(e,t){if(t=t||{},!s(e))throw new Error(o);c.call(this,e,t)},onRemoveByPath:function(t,a){if(a=a||{},!s(t))throw new Error(o);if(!e.isArray(t)||e.isEqual(t,["pagesData"]))throw new Error('path "'+t+'" is invalid or cant be removed');i(t)||(r=t,s(r)&&r.length>2&&"data"===r[2])?this.displayedJsonDAL.removeByPath(t,a):n(t)&&c.call(this,t,a);var r},onPushByPath:function(t,a,r){if(r=r||{},!s(t))throw new Error(o);if(e.isArray(t)&&s(t))c.call(this,t,r);else{var n=e.isNumber(a)?t.concat(a):t,i=e.get(this.fullJson,n);this.displayedJsonDAL.pushByPath(t,i,a)}},onMergeByPath:function(t,a){if(a=a||{},!s.call(this,t))throw new Error(o);if(e.isArray(t)&&s(t))c.call(this,t,a);else{var r=e.get(this.fullJson,t);this.displayedJsonDAL.mergeByPath(t,r)}},onModesChange:function(e,t){return this.simpleDisplayedJsonUpdater.updateDisplayedJsonByPointer(e,t)}},d}),define("documentServices/aspects/DocumentServicesAspect",["core","lodash"],function(e,t){"use strict";var a=e.siteAspectsRegistry;function r(e){e&&(this.siteAPI=e,this.pageChangeCallbacks=[],this.siteAPI.registerToUrlPageChange(this.handlePageChange.bind(this)))}return r.prototype={handlePageChange:function(e){t.forEach(this.pageChangeCallbacks,function(t){t(e)}),this.pageChangeCallbacks=[]},registerToUrlPageChange:function(e){this.pageChangeCallbacks.push(e)}},a.registerSiteAspect("DocumentServicesAspect",r),r}),define("documentServices/hooks/layoutHooks/wphoto",["lodash","coreUtils","imageClientLib","documentServices/component/component","documentServices/component/componentStylesAndSkinsAPI"],function(e,t,a,r,o){"use strict";function n(e,t){var a=e.width-t.contentPaddingHorizontal,r=e.height-t.contentPaddingVertical;return{width:a>0?a:16,height:r>0?r:16}}return function(i,s,l){if(function(t,a,r){if(e.isUndefined(r.height)&&e.isUndefined(r.width))return!1;var o=t.pointers.getInnerPointer(a,"layout"),n=t.dal.get(o);return!e.isUndefined(r.height)&&r.height!==n.height||!e.isUndefined(r.width)&&r.width!==n.width}(i,s,l)){var u=r.properties.get(i,s),c=r.data.get(i,s),d=r.layout.get(i,s);if("fitWidth"===u.displayMode){var p={width:l.width?l.width:d.width,height:l.height?l.height:d.height},g={width:c.width,height:c.height},f=function(e,t,a){var r=parseInt(o.skin.getCompSkinParamValue(e,t,"contentPaddingLeft"),10)||0,n=parseInt(o.skin.getCompSkinParamValue(e,t,"contentPaddingRight"),10)||0,i=parseInt(o.skin.getCompSkinParamValue(e,t,"contentPaddingTop"),10)||0,s=parseInt(o.skin.getCompSkinParamValue(e,t,"contentPaddingBottom"),10)||0,l={},u=r+parseInt(a.contentPaddingLeft||0,10),c=n+parseInt(a.contentPaddingRight||0,10),d=i+parseInt(a.contentPaddingTop||0,10),p=s+parseInt(a.contentPaddingBottom||0,10);return l.contentPaddingHorizontal=u+c,l.contentPaddingVertical=d+p,l}(i,s,o.skin.getComponentSkinExports);if(l.height){var m=t.imageUtils.getContainerSize(a,n(p,f),g,a.fittingTypes.LEGACY_FIT_HEIGHT);l.width=m.width+f.contentPaddingHorizontal}else{var y=t.imageUtils.getContainerSize(a,n(p,f),g,a.fittingTypes.LEGACY_FIT_WIDTH);l.height=y.height+f.contentPaddingVertical}}}}}),define("documentServices/hooks/layoutHooks/mediaPlayer",["lodash","documentServices/structure/structure"],function(e,t){"use strict";var a={"wysiwyg.viewer.components.MediaOverlayControls":function(e,a,r,o){s(r,o),t.updateCompLayout(e,a,r,!0)},"wysiwyg.viewer.components.MediaControls":function(e,a,r,o){l(r,o,u(e,a)),t.updateCompLayout(e,a,r,!0)}},r={vertical:2,horizontal:2},o=.65;function n(t,a){var r=e.get(a,["cssStyle","cssBorderRadius"]),o=function(t,a){if(!e.isEmpty(a)){var r=Math.max(a.topLeft.value+a.topRight.value,a.bottomLeft.value+a.bottomRight.value),o=Math.max(a.topLeft.value+a.bottomLeft.value,a.topRight.value+a.bottomRight.value),n=t.width/r,i=t.height/o,s=Math.min(n,i);return s<1?s:1}return 1}(t,r),n=e.get(r,["bottomLeft","value"],0)*o;return{left:.8*n,width:.8*(n+e.get(r,["bottomRight","value"],0)*o)}}function i(e,t){var a=e.dal.get(e.pointers.getInnerPointer(t,"propertyQuery")),r=e.pointers.components.getPageOfComponent(t),o=e.dal.get(e.pointers.data.getPropertyItem(a.replace("#",""),r.id)).playerId;return e.pointers.components.getComponent(o,r)}function s(e,t){var a=Math.min(t.width,t.height)*o;(e.width>a||e.height>a)&&(e.width=a,e.height=a),e.y=(t.height-e.height)/2,e.x=(t.width-e.width)/2}function l(e,t,a){var o=n(t,a);e.y=t.height-e.height-r.vertical,e.x=r.horizontal+o.left,e.width=t.width-o.width-2*r.horizontal}function u(e,t){var a=i(e,t),r=e.dal.get(e.pointers.getInnerPointer(a,"designQuery")),o=e.pointers.components.getPageOfComponent(t),n=e.pointers.data.getDesignItem(r.replace("#",""),o.id);return e.dal.get(n)}return{layoutPlayerChildren:function(t,r,o){var n=t.pointers.components.getChildren(r);e.forEach(n,function(e){var r=t.dal.get(t.pointers.getInnerPointer(e,"componentType"));if(a[r]){var n=t.dal.get(t.pointers.getInnerPointer(e,"layout"));a[r](t,e,n,o)}})},positionBigPlay:function(e,t,a,r,o){if(!o){var n=i(e,t);e.pointers.components.isDescendant(t,n)&&s(a,e.dal.get(e.pointers.getInnerPointer(n,"layout")))}},positionControlsBar:function(e,t,a,r,o){if(!o){var n=i(e,t);e.pointers.components.isDescendant(t,n)&&l(a,e.dal.get(e.pointers.getInnerPointer(n,"layout")),u(e,t))}}}}),define("documentServices/hooks/layoutHooks/wFacebookComment",["documentServices/component/component","documentServices/documentMode/documentModeInfo"],function(e,t){"use strict";return function(a,r,o){o.width&&!t.isMobileView(a)&&e.properties.update(a,r,{width:Math.max(o.width,400)})}}),define("documentServices/hooks/layoutHooks/documentMedia",["lodash","documentServices/component/component"],function(e,t){"use strict";return function(a,r,o){e.isUndefined(o.height)||t.properties.update(a,r,{height:o.height})}}),define("documentServices/hooks/layoutHooks/verticalMenu",["lodash","utils","documentServices/dataModel/dataModel","documentServices/component/componentStylesAndSkinsAPI","documentServices/component/component"],function(e,t,a,r,o){"use strict";return{before:function(n,i,s){if(!e.isUndefined(s.height)){var l=o.layout.get(n,i),u=e.get(l,"height");if(!e.isEqual(u,s.height)){var c=a.getDataItem(n,i),d=e.isString(c.menuRef)?c.menuRef.replace("#",""):c.menuRef.id,p=a.getDataItemById(n,d).items,g=e.filter(p,"isVisible").length;if(!(s.height<3*g)){var f=r.skin.getComponentSkinExports(n,i),m=parseInt(r.skin.getCompSkinParamValue(n,i,"sepw")||r.skin.getCompSkinParamValue(n,i,"separatorHeight"),10)||0,y=Math.max(t.verticalMenuCalculations.getItemHeight(s.height,m,g,f),1);o.properties.update(n,i,{menuItemHeight:y})}}}}}}),define("documentServices/layouters/boxSlideShowLayouter",["lodash","core","documentServices/component/component","documentServices/componentsMetaData/componentsMetaData","documentServices/structure/structure"],function(e,t,a,r,o){"use strict";var n=t.componentUtils.boxSlideShowCommon;function i(e,t,a){return r.getComponentType(e,a)===n.getMatchingChildSlideType(t)}function s(t,r,o){return e.reject(a.getChildren(t,r),i.bind(this,t,o))}function l(t,r,o){return e.filter(a.getChildren(t,r),i.bind(this,t,o))}function u(t,o){var n=r.getComponentType(t,o),i=e.find(l(t,o,n),function(e){return a.isRenderedOnSite(t,e)}),u=s(t,o,n);return i?[i].concat(u):u}function c(e,t,o){if(e.pointers.components.isPage(t))return null;for(var n=a.getContainer(e,t);n&&!e.pointers.components.isPage(n);){if(r.getComponentType(e,n)===o)return n;n=a.getContainer(e,n)}return null}function d(e,t,a){var o=r.getComponentType(e,t),i=n.getMatchingChildSlideType(a);return"MOBILE"!==t.type&&o!==i&&!!c(e,t,a)}return{getMasterChildren:s,getNonMasterChildren:l,getCurrentRenderedChildren:u,isMasterChild:function(e,t,a){var r=n.getMatchingChildSlideType(a);return d(e,t,a)&&!c(e,t,r)},canBeMasterChild:d,toggleMasterChild:function(t,a,i){var s=c(t,a,i),l=n.getMatchingChildSlideType(i);if(s&&r.getComponentType(t,a)!==l){var d=void 0;d=c(t,a,l)?s:e.find(u(t,s),function(e){return r.getComponentType(t,e)===l}),o.setContainer(t,void 0,a,d)}},getParentCompWithOverflowHidden:function(e,t,r){var o=c(e,t,r);return a.properties.get(e,o).shouldHideOverflowContent?o:null}}}),define("documentServices/layouters/layouters",["lodash","documentServices/component/component","documentServices/component/componentValidations","documentServices/componentsMetaData/componentsMetaData","documentServices/layouters/boxSlideShowLayouter"],function(e,t,a,r,o){"use strict";var n={"wysiwyg.viewer.components.BoxSlideShow":o,"wysiwyg.viewer.components.StripContainerSlideShow":o};function i(e,t,a){if(!e||!e.dal.isExist(t)||(o=e,i=t,!n[r.getComponentType(o,i)]))throw new Error("invalid args");var o,i,s=r.getComponentType(e,t);return n[s][a].call(this,e,t,s)}function s(e,t,a,r){if(!e||!e.dal.isExist(t)||!n[a])throw new Error("invalid args");return n[a][r].call(this,e,t,a)}function l(e,t,a){return s(e,t,a,"canBeMasterChild")}return{getMasterChildren:function(e,t){return i(e,t,"getMasterChildren")},getNonMasterChildren:function(e,t){return i(e,t,"getNonMasterChildren")},isMasterChild:function(e,t,a){return s(e,t,a,"isMasterChild")},toggleMasterChild:function(e,t,a){if(!l(e,t,a))throw new Error("component can't be shown on all states");return s(e,t,a,"toggleMasterChild")},canBeMasterChild:l,getParentCompWithOverflowHidden:function(a,o){var i=function(a,o){if(a.pointers.components.isPage(o))return null;for(var i=t.getContainer(a,o);i;){var s=r.getComponentType(a,i);if(e.includes(e.keys(n),s))return s;i=t.getContainer(a,i)}return null}(a,o);return!!i&&s(a,o,i,"getParentCompWithOverflowHidden")}}}),define("documentServices/hooks/layoutHooks/boxSlideShow",["lodash","documentServices/component/component","documentServices/layouters/layouters"],function(e,t,a){"use strict";return function(r,o,n,i){var s=t.layout.get(r,o);if(c=s,d=n,(e.isNumber(d.width)&&d.width!==c.width||e.isNumber(d.height)&&d.height!==c.height)&&e.isFunction(i)){var l=a.getNonMasterChildren(r,o),u=function(t,a){var r=e.pick(a,["width","height"]);return e.isNumber(a.x)&&(r.x=a.x-t.x),e.isNumber(a.y)&&(r.y=a.y-t.y),r}(s,n);e.forEach(l,function(e){i(r,e,u)})}var c,d}}),define("documentServices/hooks/layoutHooks/tinyMenu",["documentServices/component/component"],function(e){"use strict";return function(t,a){var r=e.properties.get(t,a)||{};r.metaData=r.metaData||{},r.metaData.schemaVersion="2.0",e.properties.update(t,a,r)}}),define("documentServices/hooks/layoutHooks/columns",["lodash","documentServices/structure/utils/layoutConstraintsUtils","documentServices/componentsMetaData/componentsMetaData","documentServices/component/component"],function(e,t,a,r){"use strict";function o(e,t){return r.properties.get(e,t).rowMargin}function n(t,a){return e.isNumber(a.height)&&a.height<t.height}return function(i,s,l,u){var c=r.getChildren(i,s),d=r.layout.get(i,s),p=c.length>1;if(!(!(e.isNumber(l.height)&&l.height!==d.height)||p&&i.pointers.components.isMobile(s))){var g=n(d,l),f=function(t,a,n){var i=r.layout.get(t,a),s=o(t,a),l={height:n.height-2*s};return e.isNumber(n.y)&&(l.y=n.y-i.y+s),l}(i,s,l);f.y=e.isUndefined(f.y)?r.layout.get(i,c[0]).y:f.y,e.forEach(c,function(e){var r=a.public.isEnforcingContainerChildLimitationsByWidth(i,e),o=a.public.isEnforcingContainerChildLimitationsByHeight(i,e);t.constrainByChildrenLayout(i,e,f,!r,!o)}),e.forEach(c,function(t){if(u(i,t,f),g){var a=o(i,s);!n(r=d,c=l)||e.isNumber(c.y)&&r.y!==c.y?u(i,t,{y:f.y-a}):u(i,t,{y:f.y+a})}var r,c})}}}),define("documentServices/hooks/layoutHooks/column",["lodash","documentServices/component/component"],function(e,t){"use strict";var a=["layout","y"],r=["layout","height"];return function(o,n,i,s,l,u){if(!l&&e.isNumber(i.height)&&i.height!==u.height){var c=t.getContainer(o,n);if(o.pointers.components.isMobile(n)){var d=i.height-u.height,p=o.pointers.components.getChildren(c);e(p).takeRightWhile(function(e){return e.id!==n.id}).forEach(function(e){return s(o,e,{y:(t=o,r=e,n=d,t.dal.get(t.pointers.getInnerPointer(r,a))+n)},s,!0);var t,r,n});var g=e.reduce(p,function(e,t){return n=t,(a=o).dal.get(a.pointers.getInnerPointer(n,r))+e;var a,n},0);o.dal.set(o.pointers.getInnerPointer(c,r),g)}else{var f,m,y=(f=o,m=c,t.properties.get(f,m).rowMargin),_={height:i.height+2*y};s(o,c,_)}}}}),define("documentServices/hooks/layoutHooks/verticalAnchorsMenu",["lodash","documentServices/component/component"],function(e,t){"use strict";return function(e,a,r){var o=void 0,n=void 0;r.docked?n=r.docked.right?"right":"left":(o=e.siteAPI.getSiteWidth()/2,n=r.x+r.width/2>o?"right":"left"),t.properties.update(e,a,{orientation:n})}}),define("documentServices/hooks/componentHooks/repeaterHooks",["lodash","coreUtils","documentServices/structure/structure","documentServices/dataModel/dataModel","documentServices/anchors/anchors","documentServices/component/componentStructureInfo","documentServices/utils/utils","documentServicesSchemas"],function(e,t,a,r,o,n,i,s){"use strict";var l="wysiwyg.viewer.components.Repeater",u=s.schemas;var c={dataQuery:{add:r.addSerializedDataItemToPage,get:function(e,t){var a=r.getDataItemPointer(e,t);return r.serializeDataItem(e,u.dataSchemas,a,!0)},getItemById:r.getDataItemById,delete:r.deleteDataItem},designQuery:{add:r.addSerializedDesignItemToPage,get:function(e,t){var a=r.getDesignItemPointer(e,t);return r.serializeDataItem(e,u.designSchemas,a,!0)},getItemById:r.getDesignItemById,delete:r.deleteDesignItem}};function d(a,r,o,n){e.forEach(c,function(e,i){var s=a.dal.get(a.pointers.getInnerPointer(n,i));if(s){s=s.replace("#","");var l=t.displayedOnlyStructureUtil.getOriginalId(s),u=c[i],d=u.get(a,n);u.add(a,r.id,d,t.displayedOnlyStructureUtil.getUniqueDisplayedId(l,o))}})}function p(t,a){e.forEach(c,function(e){e.delete(t,a)})}function g(a,r,o,n,i){var s=a.dal.get(a.pointers.getInnerPointer(o,i));if(s){s=s.replace("#","");var l,u,d=(l=c[i].getItemById(a,s,r,!0),u=s,l?e.assign(l,{id:t.displayedOnlyStructureUtil.getOriginalId(u)}):l);if(d){var p=a.dal.full.get(a.pointers.getInnerPointer(n,i)).replace("#","");c[i].delete(a,n),c[i].add(a,r,d,p)}}}function f(a,r,o){var n=a.pointers.components.getPageOfComponent(r),i=t.displayedOnlyStructureUtil.getOriginalId(r.id),s=a.pointers.full.components.getComponent(i,n);e.forEach(o,function(e){g(a,n.id,r,s,e)})}function m(a,r){if(t.displayedOnlyStructureUtil.isDisplayedComponent(r.id)){var o=n.getAncestorByPredicate(a,r,function(e){return i.getComponentType(a,e)===l});if(o&&function(a,r,o){var n=a.pointers.components.getChildren(r);if(e.size(n)>0){var i=n[0];return t.displayedOnlyStructureUtil.getItemId(i.id)===t.displayedOnlyStructureUtil.getItemId(o.id)}return!1}(a,o,r))return!0}return!1}function y(e,t,a){m(t,a)&&f(t,a,[e])}function _(t,a){var r=t.pointers.components.getChildren(a);if(e.size(r)>0){var o=t.pointers.components.getChildrenRecursivelyRightLeftRootIncludingRoot(r[0]);e.forEach(o,function(e){f(t,e,["dataQuery","designQuery"])})}}return{afterAdd:function(e,t){a=t,e.siteAPI.createDisplayedNode(a);var a;_(e,t)},addRepeatedDataItems:function(e,t){t.repeatedItemIds=e.data.items},afterLayoutChanged:function(t,r,o,n,i,s){if(o.width!==s.width){var l=e.head(t.pointers.components.getChildren(r)),u=t.dal.get(t.pointers.getInnerPointer(l,["layout"]));a.updateCompLayout(t,l,u,!0)}},beforeUpdateRepeaterData:function(t,a,o){var n=t.pointers.components.getPageOfComponent(a)||t.pointers.full.components.getPageOfComponent(a),i=e.get(r.getDataItem(t,a),"items"),s=e.filter(o.items,function(t){return!e.includes(i,t)}),l=e.filter(i,function(t){return!e.includes(o.items,t)}),u=t.pointers.components.getChildren(a);e.forEach(s,function(a){var r=function(t,a,r){for(var o=Math.max(e.indexOf(t,r),0);o>0;){o--;var n=e.indexOf(a,t[o]);if(n>=0)return n}return 0}(o.items,i,a),s=u[r],l=[s].concat(t.pointers.components.getChildrenRecursively(s));e.forEach(l,e.partial(d,t,n,a))}),e.forEach(i,function(a,r){if(!e.includes(o.items,a)){var n=u[r],i=[n].concat(t.pointers.components.getChildrenRecursively(n));e.forEach(i,e.partial(p,t))}});var c=t.pointers.displayedOnlyComponents.getComponentTemplateId(a.id);!e.isEmpty(l)&&e.includes(l,t.dal.get(c))&&t.dal.set(c,e.head(o.items))},afterUpdateRepeaterData:function(e,t){e.siteDataAPI.createDisplayedNode(t),_(e,t)},syncRepeaterTemplateDataWithFirstItem:y.bind(this,"dataQuery"),syncRepeaterTemplateDesignWithFirstItem:y.bind(this,"designQuery"),afterUpdateRepeaterProperties:function(e,t){e.siteDataAPI.updateDisplayedNodesLayout(t),o.updateAnchorsForCompChildren(e,t)}}}),define("documentServices/hooks/layoutHooks/wRichText",["lodash","documentServices/component/component","documentServices/smartBoxes/groupingUtils"],function(e,t,a){"use strict";return function(r,o,n){(function(t,a){if(t&&!e.isUndefined(t.height)&&a)return t.height!==a.height})(n,t.layout.get(r,o))&&!a.isGroupedComponent(r,o)&&t.properties.update(r,o,{minHeight:n.height,packed:!1})}}),define("documentServices/hooks/layoutHooks/fixedInProps",["lodash","documentServices/component/component"],function(e,t){"use strict";var a={vertical:{names:["top","center","bottom"],offset:"verticalOffset",field:"verticalAlignment"},horizontal:{names:["left","center","right"],offset:"horizontalOffset",field:"horizontalAlignment"}};function r(t,a){var r=e.minBy(t,Math.abs),o=t.indexOf(r),n=a.names[o],i={};return i[a.field]=n,i[a.offset]=r,i}return function(o,n,i){var s=t.layout.get(o,n);if(i.width===s.width&&i.height===s.height){var l=t.properties.get(o,n),u=o.siteAPI.getScreenSize(),c=o.siteAPI.getSiteWidth();"nineGrid"!==l.alignmentType&&"fullWidth"!==l.alignmentType||e.assign(l,function(e,t,o){var n=e+t/2;return r([Math.round(e),Math.round(n-o/2),Math.round(o-(e+t))],a.vertical)}(i.y,i.height,u.height)),"nineGrid"!==l.alignmentType&&"fullHeight"!==l.alignmentType||e.assign(l,function(e,t,o,n){var i=e+t/2,s=Math.round((n-o)/2);return r([Math.max(Math.round(e+s),0),Math.round(i-o/2),Math.max(Math.round(n-(e+t+s)),0)],a.horizontal)}(i.x,i.width,c,u.width)),t.properties.update(o,n,l)}}}),define("documentServices/hooks/layoutHooks/slider",["lodash","coreUtils","documentServices/component/component"],function(e,t,a){"use strict";return function(e,t,r){if(r.width||r.height){var o=function(e,t,r){var o=r.width,n=r.height,i=a.layout.get(e,t);return{width:o=o||i.width,height:n=n||i.height}}(e,t,r),n=o.width,i=o.height;if("vertical"===a.properties.get(e,t).orientation){var s=4*n;r.height=Math.max(i,s)}else{var l=4*i;r.width=Math.max(n,l)}}}}),define("documentServices/hooks/layoutHooksRegistrar",["documentServices/hooks/hooks","documentServices/hooks/layoutHooks/wphoto","documentServices/hooks/layoutHooks/mediaPlayer","documentServices/hooks/layoutHooks/wFacebookComment","documentServices/hooks/layoutHooks/documentMedia","documentServices/hooks/layoutHooks/verticalMenu","documentServices/hooks/layoutHooks/boxSlideShow","documentServices/hooks/layoutHooks/tinyMenu","documentServices/hooks/layoutHooks/columns","documentServices/hooks/layoutHooks/column","documentServices/hooks/layoutHooks/verticalAnchorsMenu","documentServices/hooks/componentHooks/repeaterHooks","documentServices/hooks/layoutHooks/wRichText","documentServices/hooks/layoutHooks/fixedInProps","documentServices/hooks/layoutHooks/slider"],function(e,t,a,r,o,n,i,s,l,u,c,d,p,g,f){"use strict";e.registerHook(e.HOOKS.LAYOUT.UPDATE_BEFORE,t,"wysiwyg.viewer.components.WPhoto"),e.registerHook(e.HOOKS.LAYOUT.UPDATE_BEFORE,o,"wysiwyg.viewer.components.documentmedia.DocumentMedia"),e.registerHook(e.HOOKS.LAYOUT.UPDATE_BEFORE,i,"wysiwyg.viewer.components.BoxSlideShow"),e.registerHook(e.HOOKS.LAYOUT.UPDATE_BEFORE,i,"wysiwyg.viewer.components.StripContainerSlideShow"),e.registerHook(e.HOOKS.LAYOUT.UPDATE_BEFORE,l,"wysiwyg.viewer.components.StripColumnsContainer"),e.registerHook(e.HOOKS.LAYOUT.UPDATE_BEFORE,s,"wysiwyg.viewer.components.mobile.TinyMenu"),e.registerHook(e.HOOKS.LAYOUT.UPDATE_BEFORE,p,"wysiwyg.viewer.components.WRichText"),e.registerHook(e.HOOKS.LAYOUT.UPDATE_BEFORE,n.before,"wysiwyg.common.components.verticalmenu.viewer.VerticalMenu"),e.registerHook(e.HOOKS.LAYOUT.UPDATE_BEFORE,g,"wysiwyg.viewer.components.PopupContainer"),e.registerHook(e.HOOKS.LAYOUT.UPDATE_BEFORE,a.positionBigPlay,"wysiwyg.viewer.components.MediaOverlayControls"),e.registerHook(e.HOOKS.LAYOUT.UPDATE_BEFORE,a.positionControlsBar,"wysiwyg.viewer.components.MediaControls"),e.registerHook(e.HOOKS.LAYOUT.UPDATE_BEFORE,f,"wixui.Slider"),e.registerHook(e.HOOKS.LAYOUT.UPDATE_AFTER,d.afterLayoutChanged,"wysiwyg.viewer.components.Repeater"),e.registerHook(e.HOOKS.LAYOUT.UPDATE_AFTER,r,"wysiwyg.viewer.components.WFacebookComment"),e.registerHook(e.HOOKS.LAYOUT.UPDATE_AFTER,c,"wysiwyg.common.components.verticalanchorsmenu.viewer.VerticalAnchorsMenu"),e.registerHook(e.HOOKS.LAYOUT.UPDATE_AFTER,u,"wysiwyg.viewer.components.Column"),e.registerHook(e.HOOKS.LAYOUT.UPDATE_AFTER,a.layoutPlayerChildren,"wysiwyg.viewer.components.MediaPlayer")}),define("documentServices/hooks/componentHooks/anchor",[],function(){"use strict";return function(e,t,a,r){r.data.compId=t.id}}),define("documentServices/hooks/componentHooks/svgShapeToVectorImageHook",["lodash","coreUtils","documentServices/theme/theme"],function(e,t,a){"use strict";var r=t.vectorImageConversionUtils.vectorImageDefaults,o=t.vectorImageConversionUtils.convertStyleToDesignData,n=t.vectorImageConversionUtils.convertStyle,i=t.vectorImageConversionUtils.convertData,s=t.vectorImageConversionUtils.convertProperties,l=t.vectorImageConversionUtils.convertStructure;return{beforeAdd:function(t,u,c,d){d.design=d.design||{type:"VectorImageDesignData"};var p=d.skin,g=e.isString(d.style),f=g?a.styles.get(t,d.style):d.style,m=d.data,y=d.design,_=d.props;l(d,r),n(f,r),o(y,f,r),i(m,r,p),s(_,r),function(t){var a=e.get(t,["modes","overrides"]);e.forEach(a,function(t){t.style&&(t.design={},o(t.design,t.style,r),e.unset(t,"style"))})}(d),function(t){if("RepeatedData"===t.data.type){var a={type:"RepeatedData",original:t.design,overrides:{}};e.forEach(t.data.overrides,function(r,o){a.overrides[o]=e.clone(t.design)}),t.design=a}}(d),g&&a.styles.update(t,d.style,f)}}}),define("documentServices/hooks/componentHooks/clipartHooks",[],function(){"use strict";return{beforeAdd:function(e,t,a,r){r.componentType="wysiwyg.viewer.components.WPhoto",r.props.displayMode="fill"}}}),define("documentServices/hooks/componentHooks/boxSlideShow",["lodash","core","documentServices/component/component","documentServices/layouters/layouters","documentServices/component/componentStylesAndSkinsAPI","documentServices/theme/theme"],function(e,t,a,r,o,n){"use strict";var i=t.componentUtils.boxSlideShowCommon,s=["rd","brd","brw","alpha-brd"];return{updateSlidesStyle:function(t,i,l,u){var c=e.omitBy(u.style.properties,function(e,t){return l.style.properties[t]===e});if(!e(c).keys().intersection(s).isEmpty()){var d=r.getNonMasterChildren(t,i),p={style:{properties:{}}};e.forEach(s,function(e){p.style.properties[e]=c[e]}),e.forEach(d,function(r){var i=function(t,r,i){var s=o.style.getId(t,r),l=n.styles.get(t,s),u=e.cloneDeep(l);return u.styleType="custom",u.componentClassName=u.componentClassName||a.getType(t,r),u=e.merge(u,i),n.styles.createAndAddStyleItem(t,u)}(t,r,p),s=n.styles.get(t,i);o.style.update(t,r,s)})}},verifySlideShowStructureOnAdd:function(t,a,r,o){var n=i.getSlidesFromChildrenByStructure(o.components),s=n.length>0,l=e.find(n,function(e){return e.componentType!==i.getMatchingChildSlideType(o.componentType)});if(!s||l)throw new Error("Invalid slideShow structure definition")},verifySlideShowStructureOnDelete:function(t,r,o){if(!o){var n=t.pointers.components.getParent(r),s=t.pointers.components.getChildren(n),l=e.map(s,function(e){return{componentType:a.getType(t,e)}});if(1===i.getSlidesFromChildrenByStructure(l).length)throw new Error("can't delete the last slide")}}}}),define("documentServices/hooks/componentHooks/wRichTextHooks",["lodash","documentServices/dataModel/dataModel","utils"],function(e,t,a){"use strict";return{setLinksCustomData:function(a,r,o){var n=t.getDataItem(a,r);return e.has(n,"linkList")&&n.linkList.length>0&&(o.linkList=n.linkList),{success:!0,description:"Added text links to the custom component structure"}},duplicateLinksDataItems:function(r,o,n){if(!n.custom)return{success:!0,description:"Duplicated text links data items"};var i=e.cloneDeep(n.custom.linkList),s=n.data.text;return e.forEach(i,function(e){if(e.id){var t=a.guidUtils.getUniqueId("link","-");s=s.replace("#"+e.id,"#"+t),e.id=t}}),function(e,a,r,o){var n=t.getDataItem(e,a);n.text=r,n.linkList=o,t.updateDataItem(e,a,n)}(r,o,s,i),{success:!0,description:"Duplicated text links data items"}}}}),define("documentServices/mobileConversion/mobileEditorSettings/quickActionsDefinitions",["lodash"],function(e){"use strict";var t={"3dots":{hash:"286a3b718f2e46d1bdceaea477f567db",color:"#C63A84",isFree:!0},"3dotsvertical":{hash:"5b8499dddc884b0c87c906f2945f7962",color:"#C63A84",isFree:!0},address:{hash:"51ecb8e1148b45ba827df5c5134801af",color:"#00B594"},album:{hash:"d709a69b4a714cebb65fc287d0630e75",color:"#733CA6"},arrowdown:{hash:"094cf2e688d74039954477cf851901a3",color:"#2AA3A9",isFree:!0},arrowup:{hash:"1f4ff05481fd413a96841c299ffc48f5",color:"#2AA3A9",isFree:!0},blog:{hash:"637cdaa62e924d7aad59381e66330fc5",color:"#60BC57",isFree:!0},booking:{hash:"a94c8289b0ea431c980dce3b6aa9d0a6",color:"#8754B5",isFree:!0},briefcase:{hash:"30310f1c574449d4bcf29c2549b61270",color:"#09262A",isFree:!0},chat:{hash:"55ef598f51c14f36ba4f0690cf28626f",color:"#2D41A9"},clock:{hash:"bed5fd23d3814f0bb299fd79f204fe55",color:"#1F3655",isFree:!0},clothes:{hash:"e46817a53c534c49b882f6ee07be5094",color:"#EA7A58",isFree:!0},contactform:{hash:"f0ca657289864c5b9edef58b618e6e5f",color:"#4D599B"},creditcard:{hash:"08268d30cd6044fba10cdbd0d8773b8e",color:"#8B572A",isFree:!0},currency:{hash:"b4542c951dd74a99a9e1b03b70faa8ea",color:"#606C18",isFree:!0},ecom:{hash:"c229237b026740dfb16cdb09ec871e71",color:"#03BEFD",isFree:!0},email:{hash:"e4dde6644597420b93af3ca1ccfa9683",color:"#BE1867"},events:{hash:"4285df5e7be04a75814382611597fba0",color:"#EC125A"},facebook:{hash:"a855d9a5d94e444a9ef9f8f8f9192a5a",color:"#3C5A99"},flickr:{hash:"e27433a598ef44c1ba46e7f00ac0a7a1",color:"#000000"},google_plus:{hash:"0a6ab2eef3f14015ada0a0ab109afbcc",color:"#3B3B3B"},heart:{hash:"1330065097db4eb9aab7c9ac4a1f9b86",color:"#FF001F",isFree:!0},home:{hash:"6e90c5e2acf844ceaa63078cf649d7d3",color:"#3D0045",isFree:!0},hotel:{hash:"9af8517dcdf0402191aca1d28b4c45a6",color:"#0ACDCD",isFree:!0},icecream:{hash:"7ab1cea0e9384ab9a0b5d8bc5d6033e6",color:"#FF87B0",isFree:!0},instegram:{hash:"b6218b8d6b2549ad8a560dc75771a395",color:"#000000"},linkedin:{hash:"149a816584cd44b997f3023a42716113",color:"#1670BB"},restaurant:{hash:"bf24cfb7a774404bbc82477c34ce816e",color:"#E05050",isFree:!0},phone:{hash:"4387e0ae8fd6412e9a988f77faa4f379",color:"#63C956"},pinterest:{hash:"01c31f7f2d44432498ca45e05a3cf675",color:"#E33F44"},present:{hash:"e81a40c1ebba4666aec6e813e8ada603",color:"#FA6B6B",isFree:!0},progallery:{hash:"fd308926fe3e4a769b1f7ffbc228b502",color:"#733CA6"},register:{hash:"ba87eb144d914cfc89f2e3db904ddcf7",color:"#0058FF",isFree:!0},sale_free:{hash:"4c04d52e5f684c2a9c6c665046753ece",color:"#FF8447",isFree:!0},sale_vert:{hash:"f699000a2fef45348e20e216dae95f90",color:"#FFA300"},search:{hash:"32d9ddb6733d49b58eca7e21b503b619",color:"#6274C0",isFree:!0},shoppingcart:{hash:"0bc9ff91b06245b29e06f4010f61ab7e",color:"#EC00FF",isFree:!0},social:{hash:"ad394788d7224e189a13755a84d648e8",color:"#008751",isFree:!0},star:{hash:"a5e038d3c1dd478187aa016a17f210b1",color:"#FFCB00",isFree:!0},subscribe:{hash:"27c43b9381384a21ae01d8efcc0fbc12",color:"#3899EC"},ticket:{hash:"b8c5b2babffd4f3a819207a8da2bd94d",color:"#AD7C26",isFree:!0},twitter:{hash:"96ecb8929029472c90c7e72980d0c77c",color:"#68C1ED"},vk:{hash:"931c3651bada4183b7aa2c9b80016dc1",color:"#4E7DA0"},vimeo:{hash:"14a099fdcd514554a289f702afb73a6b",color:"#1AB7EA"},yelp:{hash:"2e61070007304317aadc1b49816ea07c",color:"#CD0F23"},youtube:{hash:"f58d5df33a944ddba14878977dd6dab0",color:"#E14D3B"},about:{hash:"3b550d5040dc4dddbb30939e36b37822",color:"#876969",isFree:!0},add:{hash:"e91cd3dc01e8493c81901aecf2c63ae7",color:"#A49595",isFree:!0},cloud:{hash:"8f9ad7995fdf40b28874170d6f3ea525",color:"#5CACB8",isFree:!0},crown:{hash:"fcb89d73f7a340abac9d96bd69e634b2",color:"#0D1F60",isFree:!0},dribbble:{hash:"c9d243a60f654aba9438199a22d986b1",color:"#F1538F"},earth:{hash:"ad5375b24d2d4687a09fb42d7ca2f1ca",color:"#0024AA",isFree:!0},flag:{hash:"b8a15fd471c745b390660fc4fa036383",color:"#578A80",isFree:!0},gallery:{hash:"f931ccee8c3c41be85194d887c683aa9",color:"#B58ED6",isFree:!0},hamburgermenu:{hash:"5bc41ee34c744e3983a0e1f4a1ac825e",color:"#C63A84",isFree:!0},hot:{hash:"c2082a19ca4d46c0956146df4471b16b",color:"#E55600",isFree:!0},hotsale:{hash:"f699000a2fef45348e20e216dae95f90",color:"#FFA300",isFree:!0},lightning:{hash:"2bcf8eda9a204136a3d92616774f87bd",color:"#1E1F45",isFree:!0},link:{hash:"d5ddf13e300448b6b0bacf1c7752e009",color:"#3E505E",isFree:!0},music:{hash:"5b1be2530dba4e5993b3b224b38e4cba",color:"#A6B941",isFree:!0},new:{hash:"21f18c501e8e422990c89b7df6018197",color:"#AB47FF",isFree:!0},page:{hash:"634183d69e7b4929a231d5afb5eadaf6",color:"#636478",isFree:!0},rocket:{hash:"7d307c038ead47c598cf2353384e2d0e",color:"#575174",isFree:!0},signup_free:{hash:"84d93d95e9ec4a779e5463f51cf311b5",color:"#52D3D4",isFree:!0},signup_cont:{hash:"84d93d95e9ec4a779e5463f51cf311b5",color:"#52D3D4"},smile:{hash:"84cbddf7e33e46438d7beb465ce9914d",color:"#11D5B8",isFree:!0},speaker:{hash:"f8c7e50b75174c0aa4ddb6dd149b6b3e",color:"#B94156",isFree:!0}};function a(e){return new RegExp("^(?:https?://)?(?:www.)?"+e+".com")}var r={type:"Container",componentType:"wysiwyg.viewer.components.QuickActionBar",components:[],layout:{fixedPosition:!0},style:{type:"TopLevelStyle",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:{properties:{"alpha-controlButtonBG":"1","alpha-controlButtonFG":"1","alpha-controlButtonBorderColor":"1","alpha-actionsBorderColor":"1","boxShadowToggleOn-actionsSHD":"false","boxShadowToggleOn-controlButtonSHD":"false",controlButtonBG:"#008afc",controlButtonFG:"#ffffff",controlButtonBorderSize:"0",controlButtonBorderColor:"#ffffff",actionsBorderSize:"0",actionsBorderColor:"#ffffff",colorScheme:"brand inv",controlButtonSHD:"0px 1px 4px 0px rgba(0,0,0,0.6)",actionsSHD:"0px 1px 4px 0px rgba(0,0,0,0.6)"},propertiesSource:{controlButtonBG:"value",controlButtonFG:"value",controlButtonBorderSize:"value",controlButtonBorderColor:"value",actionsBorderSize:"value",actionsBorderColor:"value",colorScheme:"value",controlButtonSHD:"value",actionsSHD:"value"},groups:{}},componentClassName:"wysiwyg.viewer.components.QuickActionBar",styleType:"custom"}};return{quickActionIconsData:t,actionTypesMap:["phone","email","contactform","chat","address","facebook","twitter","instegram","pinterest","linkedin","youtube","google_plus","yelp","vimeo","vk","flickr","subscribe","album","progallery","custom"],socialLinkTexts:{facebook:"Facebook",twitter:"Twitter",pinterest:"Pinterest",google_plus:"Google+",tumblr:"Tumblr",linkedin:"Linkedin",youtube:"Youtube",vimeo:"Vimeo",flickr:"Flickr",instegram:"instagram"},socialLinkPatterns:{facebook:a("facebook"),twitter:a("twitter"),pinterest:a("pinterest"),google_plus:a("plus.google"),tumblr:a("tumblr"),linkedin:a("linkedin"),youtube:a("youtube"),vimeo:a("Vimeo"),flickr:a("flickr"),instegram:a("instagram")},defaultSerializedMAB:e.defaultsDeep({},{skin:"wysiwyg.viewer.skins.quickActionBar.anchoredSkin",style:{skin:"wysiwyg.viewer.skins.quickActionBar.anchoredSkin",style:e.set({},"properties",{colorScheme:"brand",actionsSHD:"0px 0px 20px 0px rgba(0,0,0,0.1)","boxShadowToggleOn-actionsSHD":"true"})}},r),defaultSerializedFAB:e.defaultsDeep({},{skin:"wysiwyg.viewer.skins.quickActionBar.floatingSkin",style:{skin:"wysiwyg.viewer.skins.quickActionBar.floatingSkin",style:e.set({},"properties",{colorScheme:"brand inv",controlButtonBG:"#008afc","alpha-controlButtonBG":"1",controlButtonSHD:"0px 2px 8px 0px rgba(0,0,0,0.3)",actionsSHD:"0px 2px 8px 0px rgba(0,0,0,0.3)","boxShadowToggleOn-actionsSHD":"true","boxShadowToggleOn-controlButtonSHD":"true"})}},r),defaultSerializedQuickActionBarItem:{type:"Component",componentType:"wysiwyg.viewer.components.QuickActionBarItem",layout:{},style:{type:"TopLevelStyle",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:{properties:{color:"#000000"},propertiesSource:{color:"value"},groups:{}},componentClassName:"wysiwyg.viewer.components.QuickActionBarItem",pageId:"",compId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.quickActionBarItem"}},defaultQuickActionItems:[{itemType:"phone",link:{type:"PhoneLink",phoneNumber:""},text:"Phone",icon:t.phone.hash},{itemType:"email",link:{type:"EmailLink",recipient:"",subject:""},text:"Email",icon:t.email.hash},{itemType:"facebook",link:{type:"ExternalLink",url:"",target:"_blank"},text:"Facebook",icon:t.facebook.hash}],QUICK_ACTION_ITEM_MAX_LENGTH:40}}),define("documentServices/mobileConversion/mobileEditorSettings/quickActionBarManager",["lodash","utils","documentServices/dataModel/dataModel","documentServices/component/component","documentServices/theme/theme","documentServices/mobileConversion/mobileEditorSettings/quickActionsDefinitions"],function(e,t,a,r,o,n){"use strict";var i=t.constants;function s(t){(a=t).text=a.text.slice(0,n.QUICK_ACTION_ITEM_MAX_LENGTH);var a;!function(t){if(!e.includes(n.actionTypesMap,t.itemType))throw new Error('"'+t.itemType+'" is an unsupported action')}(t),"custom"===t.itemType?function(t){var a=e.find(n.quickActionIconsData,{hash:t.icon,isFree:!0});if(e.isUndefined(a))throw new Error('"'+t.icon+'" is not a predefined free icon and cannot be used for custom action bar item');e.assign(t,{color:a.color})}(t):function(t){var a=n.quickActionIconsData[t.itemType];e.assign(t,{icon:a.hash,color:a.color})}(t)}function l(e){return e.pointers.components.getPage("masterPage",i.VIEW_MODES.MOBILE)}function u(e){return e.pointers.components.getComponent("QUICK_ACTION_BAR",l(e))}function c(t){var a=u(t);return!e.isNull(a)&&r.isExist(t,a)}function d(t,o){s(o);var i=e.merge(e.clone(n.defaultSerializedQuickActionBarItem),{data:e.assign(a.createDataItemByType(t,"QuickActionBarItem"),e.pick(o,["link","itemType","text","icon"])),style:e.set({},"style.properties",e.pick(o,["color"]))}),l=u(t),c=r.getComponentToAddRef(t,l,null);r.add(t,c,l,i)}function p(t){if(!c(t))return[];var a=function(t){var a=t.pointers.components.getChildren(u(t));return e.map(a,function(a){var n=r.data.get(t,a),i=t.dal.get(a).styleId,s=o.styles.get(t,i);return e.assign({pointer:a},e.pick(n,["text","icon","link","itemType"]),e.pick(s.style.properties,["color"]))})}(t),n=function(t){var a=e(t.siteDataAPI.siteData.getClientSpecMap()).reject(function(t){return e.get(t,["permissions","revoked"],!1)}).map("appDefinitionId").value();return e(i.SUPPORTED_DYNAMIC_ACTIONS).map(function(t){return e.assign({},t,{isDynamic:!0})}).filter(function(t){return e.includes(a,t.appId)}).value()}(t);return e.concat(a,n)}return{getQuickActionBarPointer:u,hasQuickActionBar:c,addAction:d,addQuickActionBar:function(t,o,i){var s=c(t),u=e(p(t)).reject("isDynamic").isEmpty();if(!s||u){if(!s){var g=e.merge(e.clone(o||n.defaultSerializedFAB),{props:a.createPropertiesItemByType(t,"QuickActionBarProperties")}),f=l(t),m=r.getComponentToAddRef(t,f,null,"QUICK_ACTION_BAR");r.add(t,m,f,g)}e.forEach(i,e.partial(d,t,e))}},removeQuickActionBar:function(e){c(e)&&r.deleteComponent(e,u(e))},getActions:p,clearActions:function(t){if(c(t)){var a=t.pointers.components.getChildren(u(t));e.forEach(a,function(e){return r.deleteComponent(t,e)})}},getAllTypes:function(){return n.actionTypesMap},validateActionItemData:s,getIconsMap:function(){return n.quickActionIconsData},createActionDataFromSocialLink:function(t){var a=e.findKey(n.socialLinkPatterns,function(e){return e.test(t.url)});return a?{itemType:a,link:t,text:n.socialLinkTexts[a],icon:n.quickActionIconsData[a].hash,color:n.quickActionIconsData[a].color}:null}}}),define("documentServices/mobileConversion/mobileEditorSettings/mobileMetaDataUtils",["lodash","documentServices/siteMetadata/siteMetadata","documentServicesSchemas"],function(e,t,a){"use strict";return{setSiteMetaData:function(r,o){var n=e.omit(o,["preloader","contactInfo","quickActions"])||{},i=e.clone(e.get(o,"preloader"))||{},s=e.clone(e.get(o,"contactInfo"))||{},l=e.clone(e.get(o,"quickActions"))||{},u=a.services.dataValidators;u.validateItem(n,"data",{schemaName:"MobileMetaData"}),u.validateItem(i,"data",{schemaName:"Preloader"}),u.validateItem(s,"data",{schemaName:"ContactInfo"}),u.validateItem(l,"data",{schemaName:"QuickActions"}),o=e.assign(n,{preloader:i},{contactInfo:s},{quickActions:l}),t.setProperty(r,t.PROPERTY_NAMES.SITE_META_DATA,o)},getSiteMetaData:function(e){return t.getProperty(e,t.PROPERTY_NAMES.SITE_META_DATA)}}}),define("documentServices/mobileConversion/mobileEditorSettings/quickActions",["lodash","documentServices/dataModel/dataModel","documentServices/mobileConversion/mobileEditorSettings/quickActionBarManager","documentServices/mobileConversion/mobileEditorSettings/mobileMetaDataUtils"],function(e,t,a,r){"use strict";function o(a,r){var o=e(t.getDataSchemaByType(a,"QuickActions").configuration.properties).omit("quickActionsMenuEnabled").keys().map(function(e){return/(\w*)Enabled/.exec(e)[1]}).value(),n=e.difference(r,o);if(e.some(n))throw new Error("["+n+"] are unsupported.")}function n(e,t){if(a.hasQuickActionBar(e))throw new Error('"'+t+'" is allowed only for actionBar version 1')}return{QUICK_ACTIONS_PROPS:{NAVIGATION_MENU:{type:"boolean",id:"navigationMenu"},PHONE:{type:"string",id:"phone"},EMAIL:{type:"string",id:"email"},ADDRESS:{type:"string",id:"address"},SOCIAL_LINKS:{type:"object",id:"socialLinks"}},SOCIAL_LINKS_IDS:["facebook","twitter","pinterest","google_plus","tumblr","blogger","linkedin","youtube","vimeo","flickr"],enable:function(t,o){var n=r.getSiteMetaData(t);n.quickActions.configuration.quickActionsMenuEnabled=o,r.setSiteMetaData(t,n);var i=e(t.siteAPI.getClientSpecMap()).values().find({appDefinitionId:"14517e1a-3ff0-af98-408e-2bd6953c36a2"}),s=!e.isUndefined(i)&&!e.get(i,"permissions.revoked");!o&&s&&a.addQuickActionBar(t),o&&e(a.getActions(t)).reject("isDynamic").isEmpty()&&a.removeQuickActionBar(t)},isEnabled:function(e){return r.getSiteMetaData(e).quickActions.configuration.quickActionsMenuEnabled},colorScheme:{set:function(e,t){n(e,"actionBar.colorScheme.set");var a=r.getSiteMetaData(e);a.quickActions.colorScheme=t,r.setSiteMetaData(e,a)},get:function(e){return r.getSiteMetaData(e).quickActions.colorScheme}},actions:{enable:function(t,a){n(t,"actionBar.actions.enable"),function(t,a){var n=e(a).pickBy(function(e){return!!e}).keys().value();o(t,n);var i=r.getSiteMetaData(t),s=e.filter(n,function(t){return e.includes(["phone","email","address"],t)&&!i.contactInfo[t]||"socialLinks"===t&&e.isEmpty(i.quickActions.socialLinks)});if(e.some(s))throw new Error("Actions ["+s+"] has a missing value and thus cannot be enabled")}(t,a);var i=r.getSiteMetaData(t);e.assign(i.quickActions.configuration,e.transform(a,function(e,t,a){e[a+"Enabled"]=t},{})),r.setSiteMetaData(t,i)},getEnabled:function(t){var a=e.omit(r.getSiteMetaData(t).quickActions.configuration,"quickActionsMenuEnabled");return e.transform(a,function(e,t,a){e[/(\w*)Enabled/.exec(a)[1]]=t},{})},update:function(t,a){n(t,"actionBar.actions.update"),o(t,e.keys(a));var i=r.getSiteMetaData(t);e.forEach(a,function(t,a){switch(a){case"phone":case"email":case"address":i.contactInfo[a]=t;break;case"socialLinks":i.quickActions.socialLinks=e(i.quickActions.socialLinks).reject(function(a){return e.includes(e.keys(t),a.id)}).concat(e.map(t,function(e,t){return{id:t,url:e}})).reject(function(t){return e.isEmpty(t.url)}).value()}}),r.setSiteMetaData(t,i)},get:function(a){var o=r.getSiteMetaData(a),n=e.pick(o.contactInfo,["phone","email","address"]),i=t.getDataSchemaByType(a,"SocialLink").id.enum,s=e.transform(i,function(e,t){e[t]=""},{}),l=e.transform(o.quickActions.socialLinks,function(e,t){e[t.id]=t.url},{});return e.assign(n,{socialLinks:e.assign(s,l)})}}}}),define("documentServices/hooks/componentHooks/tpaHooks",["lodash","documentServices/mobileConversion/mobileEditorSettings/quickActionBarManager","documentServices/mobileConversion/mobileEditorSettings/quickActions","documentServices/component/component"],function(e,t,a,r){"use strict";function o(t,a){var o=r.data.get(t,a);return"14517e1a-3ff0-af98-408e-2bd6953c36a2"===e.get(t.siteAPI.getClientSpecMap(),[o.applicationId,"appDefinitionId"])}return{addedGluedWidget:function(e,r){var n;o(e,r)&&(n=e,!a.isEnabled(n))&&t.addQuickActionBar(e)},willRemoveGluedWidget:function(a,r){o(a,r)&&e(t.getActions(a)).reject("isDynamic").isEmpty()&&t.removeQuickActionBar(a)}}}),define("documentServices/hooks/componentHooks/quickActionBarHooks",["lodash","experiment","documentServices/constants/constants","documentServices/component/component","documentServices/mobileConversion/mobileEditorSettings/quickActionBarManager","documentServices/mobileConversion/mobileEditorSettings/quickActionsDefinitions","documentServices/component/componentStylesAndSkinsAPI","documentServices/theme/theme","documentServices/dataModel/dataModel"],function(e,t,a,r,o,n,i,s,l){"use strict";var u=5;return{enforceIconLimitations:function(t,a,r){var u=e.defaults({},r,l.getDataItem(t,a));o.validateActionItemData(u),e.assign(r,e.pick(u,["itemType","icon","text"]));var c=e.find(n.quickActionIconsData,{hash:u.icon}),d=i.style.getId(t,a),p=s.styles.get(t,d);p.style.properties.color=c.color,i.style.update(t,a,p)},createFromHeader:function(t){if(!e.some(o.getActions(t))){var n=t.pointers.full.components.getPage("masterPage",a.VIEW_MODES.DESKTOP),i=t.pointers.full.components.getComponent(a.COMP_IDS.HEADER,n);if(i){var s,c,d=r.getChildren(t,i,!0),p=(s=t,c=d,e(c).filter(function(e){return"wysiwyg.viewer.components.LinkBar"===r.getType(s,e)}).map(function(t){var a=r.serialize(s,t),n=e.map(a.data.items,"link");return{linkBarPointer:t,socialActionsData:e.map(n,o.createActionDataFromSocialLink),socialLinksCount:n.length}}).find(function(t){return t.socialLinksCount<=u&&!e.includes(t.socialActionsData,null)}));p&&(o.addQuickActionBar(t),e.forEach(p.socialActionsData,o.addAction.bind(null,t)),l.updateMobileHintsHidden(t,p.linkBarPointer,{hidden:!0}))}}}}}),define("documentServices/wixCode/utils/utils",["lodash","utils"],function(e,t){"use strict";function a(a){return new Promise(function(r,o){a.success=r,a.error=function(e,t){if("abort"===t)o(function(){var e=new Error("Request aborted by browser");return e.name="RequestAbortError",e}());else if("timeout"===t)o(function(){var e=new Error("Request timed out");return e.name="RequestTimeoutError",e}());else{var r=function(e){var t="Status: "+e.status,a="Response Text: "+e.responseText;return new Error(["Server Error",t,a].join("\n"))}(e);r.xhr=e,r.request=a,o(r)}},a.data&&!e.isString(a.data)&&(a.data=JSON.stringify(a.data)),t.ajaxLibrary.ajax(a)})}return{sendRequest:function(e,t,r){var o={type:t,url:e,dataType:"json",contentType:"application/json"};return r&&(o.data=JSON.stringify(r)),a(o)},sendRequestObj:a,extractFromSnapshot:function(e,t,a){var r=e.getIn(t);return a&&(r=r.toJS()),r},requestTypes:{POST:"POST",GET:"GET",PUT:"PUT",DELETE:"DELETE"},safeGetErrorCode:function(e){if(!e||!e.xhr||!e.xhr.responseText)return null;try{return JSON.parse(e.xhr.responseText).errorCode}catch(e){return null}}}}),define("documentServices/wixCode/utils/constants",[],function(){"use strict";var e=["wixCode"],t=e.concat("nonUndoable"),a=e.concat("undoable"),r=["rendererModel","wixCodeModel"],o=r.concat("appData"),n=o.concat("codeAppId"),i=r.concat("signedAppRenderInfo"),s=t.concat("isAppReadOnly");return{paths:{BASE:e,NON_UNDOABLE_BASE_PATH:t,UNDOABLE_BASE_PATH:a,DUPLICATED_FILES_INFO:t.concat("duplicatedFilesInfo"),LOADED_FILE_CONTENTS:t.concat("loadedFileContents"),MODIFIED_FILE_CONTENTS:t.concat("modifiedFileContents"),UNDOABLE_MODIFIED_FILE_CONTENTS:a.concat("modifiedFileContents"),FILE_PATH_TO_ID_MAP:t.concat("filePathToIdMap"),LOADED_CHILDREN:t.concat("loadedChildren"),ARE_CHILDREN_LOADED:t.concat("areChildrenLoaded"),WIX_CODE_MODEL:r,WIX_CODE_APP_DATA:o,GRID_APP_ID:n,SCARI:i,IS_APP_READ_ONLY:s},WIX_CODE_APP_ID:"wixCode",WIX_CODE_SERVICE_URL_KEY:"wixCloudSiteExtensionsServiceUrl",WIX_CODE_SPEC_TYPE:"siteextension",PAGES_ROOT:"pages",JS_EXTENSION:".js"}}),define("documentServices/platform/services/viewerInfoChangedEmitter",["lodash","documentServices/platform/common/constants"],function(e,t){"use strict";var a={};function r(e){return a[e.siteAPI.getSiteId()]||[]}return{register:function(t,o,n){var i=function(t,r,o){var n=t.siteAPI.getSiteId(),i={appId:r,callback:o};return a[n]=e.compact([i].concat(a[n])),i}(t,o,n);return function(){e.pull(r(t),i)}},emit:function(e,a){r(e).forEach(function(e){e.callback({eventType:t.MessageTypes.VIEWER_INFO_CHANGED,eventPayload:a})})}}}),define("documentServices/wixCode/services/wixCodeModelService",["documentServices/platform/services/viewerInfoChangedEmitter"],function(e){"use strict";return{setScari:function(t,a){var r=t.pointers.wixCode.getScari();t.dal.set(r,a),e.emit(t,{scari:a})},getScari:function(e){var t=e.pointers.wixCode.getScari();return e.dal.get(t)},setGridAppId:function(e,t){var a=e.pointers.wixCode.getGridAppId();e.dal.set(a,t)},getGridAppId:function(e){var t=e.pointers.wixCode.getGridAppId();return e.dal.get(t)}}}),define("documentServices/wixCode/utils/clientSpecMapUtils",["lodash","documentServices/siteMetadata/clientSpecMap","documentServices/wixCode/utils/utils","documentServices/wixCode/utils/constants"],function(e,t,a,r){"use strict";return{getExistingWixCodeAppFromPS:function(a){return e.head(t.filterAppsDataByType(a,r.WIX_CODE_SPEC_TYPE))},getExistingWixCodeAppFromSnapshot:function(t){var o=a.extractFromSnapshot(t,["rendererModel","clientSpecMap"],!0);return e.find(o,{type:r.WIX_CODE_SPEC_TYPE})}}}),define("documentServices/tpa/utils/AppMarketUrlBuilder",["lodash","utils"],function(e,t){"use strict";var a=function(e){this.url=t.urlUtils.parseUrl(e),this.url.query={}};return a.prototype={addLangParam:function(t){return t&&!e.isEmpty(t)&&(this.url.query.lang=t),this},addOriginParam:function(t){return t&&!e.isEmpty(t)&&(this.url.query.eo=window.btoa(t)),this},addDevAppParam:function(t){return t&&!e.isEmpty(t)&&(this.url.query.appDefinitionId=t),this},addCompIdParam:function(){return this.url.query.compId="MarketPanel",this},addAppMarketTests:function(t){return t&&!e.isEmpty(t)&&(this.url.query.experiment=t),this},addMetaSiteIdParam:function(t){return t&&!e.isEmpty(t)&&(this.url.query.metaSiteId=t),this},addModalParams:function(e,t,a){return e&&(this.url.path+="/"+e+"/"+t+"/",a&&(this.url.path+=a+"/")),this},addSiteIdParam:function(t){return t&&!e.isEmpty(t)&&(this.url.query.siteId=t),this},addTagsParam:function(t){return t&&!e.isEmpty(t)&&(this.url.query.query=t),this},addOpenAppParam:function(t){return t&&!e.isEmpty(t)&&(this.url.query.openAppDefId=t),this},addNewWixStores:function(t){return e.isUndefined(t)||(this.url.query.newWixStores=""+t),this},addCategoryParam:function(t){return t&&!e.isEmpty(t)&&(this.url.query.categorySlug=t),this},addBiReferralInfoParam:function(t){return t&&!e.isEmpty(t)&&(this.url.query.referralInfo=t),this},addBiReferralInfoCategoryParam:function(t){return t&&!e.isEmpty(t)&&(this.url.query.referralInfoCategory=t),this},addBiSectionParam:function(t){return t&&!e.isEmpty(t)&&(this.url.query.section=t),this},addAddingMethodParam:function(t){return t&&!e.isEmpty(t)&&(this.url.query.addingMethod=t),this},addStateParam:function(t){return t&&!e.isEmpty(t)&&(this.url.query.state=t),this},build:function(){return t.urlUtils.buildFullUrl(this.url)}},a}),define("documentServices/editorData/composers/WixAppsComposer",[],function(){"use strict";return{key:"wixapps",compose:function(e,t){return{countByParts:null}}}}),define("documentServices/editorData/composers/GeneralComposer",[],function(){"use strict";return{key:"general",compose:function(e,t){return{pagesSEO:null,siteType:null}}}}),define("documentServices/editorData/composersHandler",["lodash","documentServices/editorData/composers/WixAppsComposer","documentServices/editorData/composers/GeneralComposer"],function(e,t,a){"use strict";var r={wixapps:t,general:a};function o(t,a,r){var o={};return e.forEach(r,function(e){if("function"!=typeof a.compose)throw new Error("Composer with key: "+a.key+" did not expose/implement the compose function");var r=t.dal.get(e),n=r.structure.id;o[n]=a.compose(t,r)}),o}return{COMPOSERS:r,getData:function(t,a){var n={};return e.forEach(r,function(e){var r=e.key;n[r]=o(t,e,a)}),n},getComposerPagesData:o}}),define("documentServices/editorData/editorDataPath",[],function(){"use strict";var e={generatedData:"generated",generatedVersion:"generatedVersion"};function t(t){return t.pointers.getInnerPointer(t.pointers.general.getEditorData(),e.generatedData)}return{getComposerPointer:function(e,a){return e.pointers.getInnerPointer(t(e),a)},getGeneratedDataPointer:t,getGeneratedVersionPointer:function(t){return t.pointers.getInnerPointer(t.pointers.general.getEditorData(),e.generatedVersion)}}}),define("documentServices/editorData/editorData",["lodash","documentServices/editorData/composersHandler","documentServices/editorData/editorDataPath"],function(e,t,a){"use strict";var r=t.COMPOSERS,o="0.1";function n(){return o}function i(a,r,o){var n=a.dal,i=a.pointers.page.getNonDeletedPagesPointers(!0),s=n.get(r),l=[];e.forEach(i,function(t){var a=n.get(t);e.isEmpty(a)&&l.push(a.id)}),e.assign(s,t.getComposerPagesData(a,o,i)),n.set(r,(u=s,c=l,e.isEmpty(c)?u:(e.forEach(u,function(t,a){e.includes(c,a)&&delete u[a]}),u)));var u,c}return{initialize:function(r){(function(t){var r=t.dal,o=a.getGeneratedDataPointer(t),i=a.getGeneratedVersionPointer(t),s=i&&r.get(i),l=o&&r.get(o);return e.isEmpty(l)||s!==n()})(r)&&(o=function(r){var o=r.dal,i=r.pointers.general.getEditorData();e.isEmpty(o.get(i))&&o.set(i,{});var s=a.getGeneratedDataPointer(r),l=a.getGeneratedVersionPointer(r),u=r.pointers.page.getNonDeletedPagesPointers(!0);o.set(s,t.getData(r,u)),o.set(l,n())}.bind(null,r))&&o();var o},getComposerData:function(e,t){var r=t.key,o=a.getComposerPointer(e,r);return i(e,o,t),e.dal.get(o)},getVersion:n,updateAllComposers:function(t){e.forEach(r,function(e){var r=e.key,o=e.class,n=a.getComposerPointer(t,r);i(t,n,o)})},COMPOSERS:r}}),define("documentServices/tpa/services/pendingAppsService",["lodash","documentServices/tpa/services/clientSpecMapService","documentServices/siteMetadata/siteMetadata"],function(e,t,a){"use strict";var r=[],o=[],n=[],i=function(a){var r=t.getAppsData(a);return e.filter(r,function(e){return u(a,e)&&s(e)&&l(e)})},s=function(t){return e.has(t,"appDefId")?!e.includes(r,t.appDefId):!e.includes(r,t.appDefinitionId)},l=function(t){return e.has(t,"appDefId")?!e.some(o,{appDefinitionId:t.appDefId}):!e.some(o,{appDefinitionId:t.appDefinitionId})},u=function(a,r){return a&&r?r.requiresEditorComponent&&t.isHybridApp(a,r.applicationId):!(!e.isUndefined(a)||!r)&&(r.requiresEditorComponent&&t.isHybridAppFromAppData(r))};return{getPendingApps:i,getPendingAppsFromSiteMetaData:function(t){var r=(a.getProperty(t,a.PROPERTY_NAMES.PENDING_APPS)||[]).slice(0).concat(n),o=e.uniqBy(r,"appDefId");return e.filter(o,function(e){return s(e)&&l(e)})},getPendingAppsCount:function(t){var a=i(t);return e.size(a)},getPremiumPendingApps:function(r){var o=t.getAppsData(r),n=e.map(o,"appDefinitionId"),i=a.getProperty(r,a.PROPERTY_NAMES.PENDING_APPS)||[],s=e.filter(i,function(t){return e.has(t,"appDefId")&&e.has(t,"vendorProductId")});return e.filter(s,function(t){return!e.includes(n,t.appDefId)})},isPending:u,dismiss:function(t,a){e.find(o,{appDefinitionId:a})||(e.includes(r,a)||r.push(a),n=n.filter(function(e){return e.appDefId!==a}))},add:function(t){o.push(t),e.includes(r,t.appDefinitionId)&&(r=e.without(r,t.appDefinitionId))},addPendingDashboardApp:function(t,a){if(!e.isEmpty(a)){var o={appDefId:a};n.push(o),r=r.filter(function(e){return e!==a})}},getAppsToDismiss:function(){return r},getAppsToAdd:function(){return o},isPremiumPendingApp:function(t,r){var o=a.getProperty(t,a.PROPERTY_NAMES.PENDING_APPS)||[];return e.some(o,function(t){return e.has(t,"appDefId")&&e.has(t,"reason")&&"Premium"===t.reason&&t.applicationId===r})},onSave:function(){r=[],o=[]}}}),define("documentServices/tpa/services/appInstallationAndDeletionEvents",["lodash"],function(e){"use strict";var t={},a={};return{registerOnAppDeleted:function(a,r){e.isUndefined(t[a])&&(t[a]=[]),t[a].push(r)},registerOnAppInstalled:function(t,r){e.isUndefined(a[t])&&(a[t]=[]),a[t].push(r)},invokeDeleteAppCallbacks:function(a){t[a]&&e.forEach(t[a],function(e){e()})},invokeAddAppCallbacks:function(t){a[t]&&e.forEach(a[t],function(e){e()})}}}),define("documentServices/platform/services/platformUtils",["lodash"],function(e){"use strict";return{isPlatformAppInstalled:function(t,a){if(!a)return!1;var r=e.get(a,"appDefinitionId");return!(!t||!t[r])}}}),define("documentServices/platform/services/platformAppDataGetter",["lodash","documentServices/siteMetadata/clientSpecMap","documentServices/tpa/services/clientSpecMapService","documentServices/platform/services/platformUtils"],function(e,t,a,r){"use strict";var o=[],n=[];function i(e,t){return a.getAppDataByAppDefinitionId(e,t)}function s(e,t){var a=e.pointers.platform.getAppManifestPointer(t);return e.dal.get(a)}return{registerToManifestAdded:function(a,r){o.push(r);var n=function(a){var r=t.filterAppsDataByType(a,"Application");return e.compact(e.map(r,function(e){return s(a,e.appDefinitionId)}))}(a);e.isEmpty(n)||n.forEach(function(e){r(e)})},setManifest:function(t,a,r){var n=t.pointers.platform.getAppManifestPointer(a),s=i(t,a);t.dal.set(n,r),e.forEach(o,function(e){e(r,s)})},getAppManifest:s,getAppDataByAppDefId:i,getAppDataByApplicationId:function(e,t){return a.getAppData(e,t)},setAppPublicAPI:function(t,a,r){var o=t.pointers.platform.appPublicApiNamePointer(a);t.dal.set(o,r),e.forEach(n,function(e){return e({apiName:r})})},registerToPublicApiSet:function(a,r){n.push(r);var o=function(a){var r=t.filterAppsDataByType(a,"Application");return e.compact(e.map(r,function(e){return function(e,t){var a=e.pointers.platform.appPublicApiNamePointer(t);return e.dal.get(a)}(a,e.appDefinitionId)}))}(a);e.isEmpty(o)||o.forEach(function(e){return r({apiName:e})})},isPlatformAppInstalled:function(e,t){var a=e.pointers.platform.getPagesPlatformApplicationsPointer(),o=e.dal.get(a),n=i(e,t);return r.isPlatformAppInstalled(o,n)}}}),define("documentServices/tpa/services/installedTpaAppsOnSiteService",["lodash","documentServices/editorData/editorData","documentServices/page/page","documentServices/dataModel/dataModel","documentServices/component/component","documentServices/tpa/services/clientSpecMapService","documentServices/tpa/services/pendingAppsService","documentServices/tpa/services/appInstallationAndDeletionEvents","documentServices/tpa/constants","documentServices/tpa/utils/tpaUtils","documentServices/platform/services/platformAppDataGetter","experiment"],function(e,t,a,r,o,n,i,s,l,u,c,d){"use strict";var p=function(t,a){return e.filter(t,function(e){return m(e,a)})},g=function(t,a,r,o){return n.hasEditorPlatformPart(t)&&(l=t,u=o,!!e.find(u,{appDefinitionId:l.appDefinitionId})||(i=a,s=t,e.find(i,function(t){var a=t.data.document_data;return e.find(a,function(e){return""+e.appId==""+s.applicationId||""+e.applicationId==""+s.applicationId||""+e.applicationId==""+s.appDefinitionId||""+e.appDefId==""+s.appDefinitionId})})));var i,s,l,u},f=function(t,a){return n.isEditorOrHybridApp(t)&&n.isAppPermissionsIsGranted(t)&&!e.includes(e.invokeMap(a,"toString"),t.applicationId.toString())},m=function(t,a){return n.isEditorOrHybridApp(t)&&n.isAppPermissionsIsRevoked(t)&&e.includes(e.invokeMap(a,"toString"),t.applicationId.toString())},y=function(t){return e.isBoolean(t.preInstalled)&&t.preInstalled},_=function(t,a){var r=A(t,a),o=e.map(r,"applicationId"),i=n.getAppsData(t);return e(i).pick(o).values().value()},v=function(t,r,o){var n=a.getPageIdList(t,!0,!0),i=void 0,s=e.find(n,function(a){var n=A(t,a);return i=e.find(n,function(e){return e.applicationId.toString()===r.toString()&&o(e)}),!e.isUndefined(i)});return s?{pageId:s,compId:i.id}:null},S=function(t,r){r=r||-1;var o=a.getPageIdList(t,!0,!0);return e.some(o,function(e){return O(t,e,r)})},O=function(t,a,r){var o=A(t,a);return e.some(o,function(e){return e.applicationId.toString()===r.toString()})},h=function(t,a,r){var o,n,i,s=e.reduce(t,function(t,a){return e.union(t,function(t){if(e.isEmpty(t))return null;var a=t.data.document_data;return e(a).filter(function(e){return u.isTpaByDataType(e.type)}).map("applicationId").uniq().value()}(a))},[]);return s=e.union(s,(o=a,n=r,i=t,e.reduce(o,function(e,t,a){return g(t,i,0,n)&&e.push(a),e},[])))},A=function(t,r){var n=a.getPage(t,r),i=o.getTpaChildren(t,n);return e.map(i,function(a){return e.assign(o.data.get(t,a),{id:a.id,pageId:r})})},E=function(t){if(e.isEmpty(t))return!1;var a=t.data.document_data;return e.some(a,function(e){return u.isTpaByDataType(e.type)})};return{getAllTpaCompsOnPage:A,getInstalledAppsOnPage:_,isMainSectionInstalled:function(t,r){var o=a.getPageIdList(t,!0);return e.some(o,function(a){var o=A(t,a);return e.some(o,function(e){return e.applicationId.toString()===r.toString()&&e.type===l.DATA_TYPE.TPA_SECTION})})},getWidgetsByAppId:function(t,r){var o=[],n=a.getPageIdList(t,!0,!0);return e.forEach(n,function(a){var n=A(t,a);o=e.union(o,e.filter(n,function(e){return e.applicationId.toString()===r.toString()&&e.type===l.DATA_TYPE.TPA_WIDGET}))}),e.isEmpty(o)?null:o},getAllAppCompsByAppId:function(t,r){var o=[];e.isArray(r)||(r=[r]),r=e(r).compact().invokeMap("toString").value();var n=a.getPageIdList(t,!0,!0);return e.forEach(n,function(a){var n=A(t,a);o=e.union(o,e.filter(n,function(t){return t&&t.applicationId&&e.includes(r,t.applicationId.toString())}))}),e.isEmpty(o)?null:o},isMultiSectionInstalled:function(t,r){var o=[];r=r||-1;var n=a.getPageIdList(t,!0);return e.forEach(n,function(a){var n=A(t,a);o=e.union(o,e.filter(n,function(e){return e&&e.applicationId&&e.applicationId.toString()===r.toString()&&e.type===l.DATA_TYPE.TPA_SECTION}))}),e.size(o)>1},getHiddenSections:function(t,r){var o=[],n=a.getPageIdList(t,!0);return e.forEach(n,function(a){var n=A(t,a);o=e.union(o,e.filter(n,function(e){return e.applicationId.toString()===r.toString()&&e.type===l.DATA_TYPE.TPA_MULTI_SECTION}))}),e.isEmpty(o)?null:o},getFirstAppCompPageId:function(t,a,r){var o,i,s=n.getAppDataByAppDefinitionId(t,a),u=e.get(s,"applicationId",null),c=u&&(o=t,i=u,v(o,i,function(e){return e.type===l.DATA_TYPE.TPA_SECTION}));return!c&&r&&(c=function(t,a){var r=e.find(a.widgets,{default:!0});return r?v(t,a.applicationId,function(e){return e.widgetId===r.widgetId}):null}(t,s)),c=u&&(c||v(t,u,function(){return!0}))},isApplicationIdExists:S,isAppInstalledBy:function(e,t,a){var r=n.getAppDataByAppDefinitionId(e,t);if(r){var o=S(e,r.applicationId);return a?o&&!r.demoMode:o}return!1},isAppInstalledOnPage:function(e,t,a,r){var o=n.getAppDataByAppDefinitionId(e,a);if(o){var i=O(e,t,o.applicationId);return r?i&&!o.demoMode:i}return!1},getDeletedAppsIds:function(t){var a=n.getAppsData(t);return e(a).filter(function(e){return!S(t,e.applicationId)&&n.isEditorOrHybridApp(e)}).map("applicationId").value()},getAppsDefIdToProvisionOnSiteLoad:function(t){var a=n.getAppsData(t);return e(a).filter(function(e){return d.isOpen("se_tpaProvisionOnAdd")?e.demoMode&&(S(t,e.applicationId)||c.isPlatformAppInstalled(t,e.appDefinitionId)):e.provisionOnSaveSite&&e.demoMode&&(S(t,e.applicationId)||c.isPlatformAppInstalled(t,e.appDefinitionId))}).map("appDefinitionId").value()},getAppsToGrantAndRevoke:function(t,a,r,o){var s=h(a,t,o);return{revoke:function(t,a,r){var o=e.filter(t,function(e){return f(e,a)&&!y(e)&&!i.isPending(void 0,e)});return r&&e.isBoolean(r.excludeHybrid)&&r.excludeHybrid?e.filter(o,function(e){return n.isHybridAppAndEditorPartNotDismissed(e)}):o}(t,s,r),grant:p(t,s)}},getAllAppIdsInstalledOnPages:h,areTpaCompsWereUnInstalled:function(t,a,r){if(o=r,e.some(o,function(e){return E(e)}))return!0;var o,n=h(t)||[],i=h(a)||[];return n.length>i.length||n.length===i.length&&!e.isEqual(n,i)},getAppsToGrantPermissions:p,getAppPages:function(t,r){var o=a.getPageIdList(t,!1,!1);return e(o).map(function(r){return e.merge(a.data.get(t,r),{pageId:r})}).filter({tpaApplicationId:parseInt(r,10)}).value()},getPagesByApplicationIds:function(t,r){var o=a.getPagesDataItems(t);return e.filter(o,function(t){return e.includes(r,t.tpaApplicationId)})},isAppComponentInstalled:function(t,r){var o=a.getPageIdList(t,!0,!0);return e.some(o,function(a){var o=t.pointers.page.getPageData(a),n=t.dal.get(o);return e.some(n,{widgetId:r})})},isSectionInstalledByTpaPageId:function(t,r,o){var n=a.getPagesDataItems(t);return e.some(n,{tpaApplicationId:r,tpaPageId:o})},isPlatformOnlyAppReinstalled:function(t,a,r){var o=e.filter(a,function(a){return!!n.hasEditorPlatformPart(a)&&!0===e.get(a.permissions,"revoked")&&g(a,t,0,r)});return!e.isEmpty(o)},isPlatformOnlyAppUninstalled:function(t,a,r){var o=e.filter(a,function(a){return!!n.hasEditorPlatformPart(a)&&!1===e.get(a.permissions,"revoked")&&!g(a,t,0,r)});return!e.isEmpty(o)},getInstalledDependentAppsData:function(t,r){var o=n.getAppData(t,r),i=e.get(o,"appDefinitionId"),s=n.getDependentApps(t,i);if(!e.isEmpty(s)){var l=function(t){var r=a.getPageIdList(t,!0,!0),o=e.reduce(r,function(a,r){var o=e.map(_(t,r),"applicationId");return e.union(a,o)},[]);return e.uniq(o)}(t);return e.reduce(s,function(a,r){var o=n.getAppDataByAppDefinitionId(t,r);return o&&e.includes(l,o.applicationId)&&a.push(o),a},[])}return[]}}}),define("documentServices/tpa/utils/cacheInMemory",["lodash"],function(e){"use strict";return{create:function(t){var a={},r={},o=function(e){return a[e]};return{get:o,set:function(r,n){var i=o(r);return a[r]=i&&t?e.merge({},i,n):n,a[r]},lock:function(e){r[e]=1},unlock:function(e){delete r[e]},isLocked:function(e){return r[e]},keys:function(){return a&&e.keys(a)||[]},clear:function(){a={},r={}}}}}}),define("documentServices/tpa/services/appMarketCacheService",["documentServices/tpa/utils/cacheInMemory"],function(e){"use strict";return e.create(!0)}),define("documentServices/tpa/services/billingService",["lodash","utils","tpa","documentServices/siteMetadata/siteMetadata","documentServices/tpa/services/clientSpecMapService"],function(e,t,a,r,o){"use strict";var n=e.template("<%= premiumStateAPIUrl %>?siteGuid=<%= metasiteId %>"),i=function(e){return 6===e.cycle};return{getPremiumApps:function(a,r,o,i){var s=function(e){var t=e.pointers.general.getServiceTopology(),a=e.pointers.getInnerPointer(t,"premiumStateApiUrl");return e.dal.get(a)}(a),l=n({premiumStateAPIUrl:s,metasiteId:r});t.ajaxLibrary.ajax({type:"POST",url:l,data:{},dataType:"json",success:function(t){e.isFunction(o)&&o(t.payload)},error:i})},extractYearlyPremiumApps:function(t){var a=[],r=t.tpaPackages;return e.isArray(r)?e.forEach(r,function(e){i(e)&&a.push(e.appDefinitionId)}):e.isObject(r)&&i(r)&&a.push(r.appDefinitionId),a},isYearly:i,getSiteUpgradeUrl:function(e,t){var o=e.dal.get(e.pointers.general.getServiceTopology()).premiumServerUrl+"/wix/api/premiumStart",n=r.generalInfo.getMetaSiteId(e);return(t=t||{}).siteGuid=n,new a.common.TPABaseUrlBuilder(o).addMultipleQueryParams(t).build()},getAppUpgradeUrl:function(e,t,n,i,s){var l=e.dal.get(e.pointers.general.getServiceTopology()).premiumServerUrl+"/wix/api/tpaStartPurchase",u=o.getAppData(e,t),c=r.generalInfo.getMetaSiteId(e);s=s||{};var d={applicationId:t,vendorProductId:n,paymentCycle:i||"MONTHLY",appDefinitionId:u.appDefinitionId,metaSiteId:c,pp_type:s.pp_type,referralAdditionalInfo:s.referralAdditionalInfo};return s.premiumIntent&&(d.premiumIntent=s.premiumIntent),new a.common.TPABaseUrlBuilder(l).addMultipleQueryParams(d).build()}}}),define("documentServices/tpa/services/appMarketService",["lodash","utils","documentServices/siteMetadata/siteMetadata","documentServices/tpa/constants","documentServices/tpa/utils/AppMarketUrlBuilder","documentServices/tpa/services/installedTpaAppsOnSiteService","documentServices/tpa/services/appMarketCacheService","documentServices/tpa/services/billingService"],function(e,t,a,r,o,n,i,s){"use strict";var l=e.template("<%= appMarketEditorAPIUrl %><%= appDefinitionId %>/priced-app?metaSiteId=<%= metaSiteId %>&lang=<%= lang %>"),u=e.template("<%= appMarketEditorAPIUrl %>?market=related_apps&fields=appDefinitionId,slug,name,appIcon,colorSvgIcon,weights,categories,by,relatedAppsTeaser,hasSection,widgets.defaultWidth,widgets.defaultHeight"),c=e.template("<%= appMarketEditorAPIUrl %>?id=<%= appDefinitionIds %>"),d=e.template("<%= appMarketEditorAPIUrl %>page-apps?fields=widgets.title,widgets.widgetId,appDefinitionId&lang=<%= lang %>"),p=e.template("<%= premiumBaseUrl %>?appInstanceId=<%= instanceId %>&appDefinitionId=<%= appDefinitionId %>&paymentCycle=<%= cycle %>&vendorProductId=<%= vendorProductId %>"),g=function(e){var t=e.pointers.general.getServiceTopology(),a=e.pointers.getInnerPointer(t,"appMarketEditorApiUrl");return e.dal.get(a)+"/"};var f=function(r,o,n,s,u){i.lock(o);t.ajaxLibrary.ajax({type:"GET",url:function(e,t,r){var o=a.getProperty(e,a.PROPERTY_NAMES.META_SITE_ID),n=a.getProperty(e,a.PROPERTY_NAMES.LANGUAGE_CODE)||"en",i=l({appMarketEditorAPIUrl:g(e),appDefinitionId:t,metaSiteId:o,lang:n});return r&&(i+="&currency="+r),i}(r,o,e.get(n,"currency")),success:function(t){if(r=n,e.get(r,"currency")){var a=i.get(o);a&&(t=e.merge({},a,t))}else t=i.set(o,t);var r;i.unlock(o),s&&s(t)},error:function(){i.unlock(o),s?s({error:"app market response error for appDefinitionId: "+o}):u&&u({error:"app market response error for appDefinitionId: "+o})}})},m=function(t,a,r){return new Promise(function(o,n){if(e.isUndefined(a))n({error:"appDefinitionId was not given"});else{var s=i.get(a);s&&_(s)&&!e.get(r,"currency")?o(s):f(t,a,r,o,n)}})},y=function(e,t,a){var r=i.get(t);return v(t)&&f(e,t,a),r},_=function(e){return e&&e.price},v=function(t){var a=i.get(t);return 1!==i.isLocked(t)&&(e.isUndefined(a)||!_(a))},S=function(t,r){var n=t.pointers.general.getServiceTopology(),i=t.pointers.getInnerPointer(n,"appMarketEditorNewUrl"),s=t.dal.get(i);s=e.replace(s,"wix-app-market","one-app-market");var l=new o(s),u=a.getProperty(t,a.PROPERTY_NAMES.LANGUAGE_CODE)||"en",c=a.getProperty(t,a.PROPERTY_NAMES.META_SITE_ID),d=a.getProperty(t,a.PROPERTY_NAMES.SITE_ID);return l.addOriginParam(r.origin).addModalParams(r.modalName,r.appName,r.tab).addDevAppParam(r.appDefinitionId).addLangParam(u).addAppMarketTests(r.tests).addCompIdParam("MarketPanel").addMetaSiteIdParam(c).addSiteIdParam(d).addTagsParam(r.query).addOpenAppParam(r.openAppDefId).addNewWixStores("true").addCategoryParam(r.categorySlug).addBiReferralInfoParam(r.openMarketOrigin).addBiReferralInfoCategoryParam(r.referralInfoCategory).addBiSectionParam(r.section).addAddingMethodParam(r.addingMethod).addStateParam(r.state).build()},O=function(t){return e.isArray(t)||(t=[t]),t};return{getAppMarketDataAsync:m,getAppMarketData:y,getAppMarketDataForPage:function(a,r,o,s){if(e.isUndefined(r))s&&s({error:"pageId was not given"});else{var l=function(t,a){var r=n.getInstalledAppsOnPage(t,a),o=e.map(r,"appDefinitionId"),s=i.keys();return e.remove(o,function(t){return!e.includes(s,t)})}(a,r);if(e.isEmpty(l))return;var u=function(e,t){var a=g(e);return c({appMarketEditorAPIUrl:a,appDefinitionIds:t.toString()})}(a,l);t.ajaxLibrary.ajax({type:"GET",url:u,success:function(t){e.forEach(t,function(e){i.set(e.appDefinitionId,e)}),o&&o(t)},error:function(){o?o({error:"app market response error for appDefinitionIds: "+l.toString()}):s&&s({error:"app market response error for appDefinitionIds: "+l.toString()})}})}},getAppMarketUrl:S,getAppMarketInfoUrl:function(e,t,a){t.appName=a,t.modalName="app-modal";return S(e,t)},getAppReviewsUrl:function(e,t,a){t.appName=a,t.modalName="app-modal",t.tab="reviews";return S(e,t)},getAppMarketPermissionsUrl:function(e,t){t.modalName="permissions-modal";return S(e,t)},getPackages:function(t,a,o,n){return new Promise(function(i,s){m(t,a,n).then(function(t){if(t.error)s(t);else{var n=t.purchaseStartUrl,l=e.pick(t.price,"currencyCode","currencySymbol"),u=e.map(t.packages,function(t){var i=e.assign(e.cloneDeep(t),l);return e.forEach(r.CYCLE,function(t){l=n,u=o,c=a,d=t,(s=i).hasOwnProperty(d)&&(s[d].hasOwnProperty("price")?s[d].url=p({premiumBaseUrl:l,instanceId:u,appDefinitionId:c,cycle:e.findKey(r.CYCLE,function(e){return e===d}),vendorProductId:s.id}):delete s[d]);var s,l,u,c,d}),i});i(u)}}).catch(function(e){s(e)})})},getPremiumApps:function(t,a,r,o){s.getPremiumApps(t,a,function(a){o=t,n=a,l=r,e.forEach(n.tpaPackages,function(e){i.get(e.appDefinitionId)?i.set(e.appDefinitionId,{upgradedToYearly:s.isYearly(e)}):f(o,e.appDefinitionId,{},function(){i.set(e.appDefinitionId,{upgradedToYearly:s.isYearly(e)})})}),e.isFunction(l)&&l(n.tpaPackages);var o,n,l},o)},getRelatedApps:function(e,a,r){var o=function(e){var t=g(e);return u({appMarketEditorAPIUrl:t})}(e);t.ajaxLibrary.ajax({type:"GET",url:o,data:{},dataType:"json",contentType:"application/json",success:function(e){a(O(e))},error:r})},getSectionsTranslatedPageTitles:function(e){return new Promise(function(r,o){var n=function(e){var t=g(e),r=a.getProperty(e,a.PROPERTY_NAMES.LANGUAGE_CODE)||"en";return d({appMarketEditorAPIUrl:t,lang:r})}(e);t.ajaxLibrary.ajax({type:"GET",url:n,success:function(e){r(e)},error:o})})},requestAppMarketDataToBeCached:y}}),define("documentServices/tpa/bi/errors",["lodash","utils"],function(e,t){"use strict";var a={EVENT_TYPE_NOT_SUPPORTED:{errorName:"EVENT_TYPE_NOT_SUPPORTED",errorCode:28004,desc:"tpa event type is not supported",severity:"error"},ECOM_HIDDEN_PAGES_MISSING:{errorName:"ECOM_HIDDEN_PAGES_MISSING",errorCode:28005,desc:"ecom pages are missing after save",severity:"error"},FAIL_TO_GET_APP_MARKET_DATA:{errorName:"FAIL_TO_GET_APP_MARKET_DATA",errorCode:28006,desc:"failure while trying to get app market data",severity:"error"}};return t.logger.register("documentServices","error",a),a}),define("documentServices/tpa/utils/provisionUtils",["lodash","documentServices/tpa/services/appMarketService","documentServices/tpa/bi/errors"],function(e,t,a){"use strict";return{cacheAppMarketDataAfterProvision:function(e,r){t.getAppMarketDataAsync(e,r.appDefinitionId).catch(function(){e.siteAPI.reportBI(a.FAIL_TO_GET_APP_MARKET_DATA)})},generateAppFlowsLargestAppId:function(t){return e.max([t,999])+e.random(1,999)+e.random(1,99)}}}),define("documentServices/wixCode/services/kibanaReporterWrapper",["lodash","wixCode","documentServices/wixCode/services/wixCodeModelService","documentServices/wixCode/utils/clientSpecMapUtils","experiment"],function(e,t,a,r,o){"use strict";function n(t,o){var n,i={appId:(n=t,a.getGridAppId(n)||""),params:{metaSiteId:function(e){var t=e.pointers.general.getMetaSiteId();return e.dal.get(t)}(t),instanceId:function(e){var t=r.getExistingWixCodeAppFromPS(e);return t?t.instanceId:""}(t)}};return e.merge({},i,o)}return{levels:t.log.levels,trace:function(e,a){var r=n(e,a);return t.log.trace(r,function(e){if(o.isOpen("sv_wixCodeNewDomain"))return"https://code.wix.com/_api/cloud-monitoring-hub/v1/";var t=e.pointers.general.getServiceTopology();return e.dal.get(e.pointers.getInnerPointer(t,"wixCloudMonitoringHubUrl"))}(e))}}}),define("documentServices/wixCode/utils/traceUtils",["documentServices/wixCode/utils/utils","documentServices/wixCode/utils/constants","documentServices/wixCode/utils/clientSpecMapUtils"],function(e,t,a){"use strict";return{getParams:function(r,o){return{action:o,appId:e.extractFromSnapshot(r,t.paths.GRID_APP_ID)||"",params:{metaSiteId:(n=r,e.extractFromSnapshot(n,["rendererModel","metaSiteId"])),instanceId:function(e){var t=a.getExistingWixCodeAppFromSnapshot(e);return t?t.instanceId:""}(r)}};var n},getBaseUrl:function(e){return e.getIn(["serviceTopology","wixCloudMonitoringHubUrl"])||"//editor.wix.com/_api/cloud-monitoring-hub"}}}),define("documentServices/saveAPI/lib/saveRunner",["lodash","utils"],function(e,t){"use strict";function a(e){this.name="PrimaryTaskError",this.message="Document save has failed",this.reason={document:e},this.stack=(new Error).stack}function r(e){this.name="SecondarySaveError",this.message="One or more Secondary save tasks have failed",this.reason=e,this.stack=(new Error).stack}a.prototype=Object.create(Error.prototype),r.prototype=Object.create(Error.prototype);function o(e,t){var a=new Promise(function(a,r){var o=e.args().concat([a,r,t]);e.execute.apply(null,o)});return e.onTaskFailure&&a.catch(e.onTaskFailure),e.onTaskSuccess?a.then(e.onTaskSuccess):a}function n(t,a){var n=e.transform(t,function(e,t){e[t.name]=(r=o(t,a),n=t.name,new Promise(function(e){return r.then(e).catch(function(t){e({error:!0,name:n,result:t})})}));var r,n},{});return Promise.all(e.values(n)).then(function(t){var a={};if(t.filter(function(e){return e&&e.error}).forEach(function(e){a[e.name]=e.result}),0!==e.keys(a).length)throw new r(a);return n})}function i(t,a,r,o){this.name=a,this.execute=r,this.onTaskSuccess=function(r){if(r&&r.historyAlteringChanges){var n=function(e,t,a){var r=t+a[0],o=this.currentState;e.takeSnapshot(r);var n=e.full.immutable.getLastSnapshotByTagName(r);return e.removeLastSnapshot(r),o.equals(n)}.call(this,t,a,o);i=t,s=r.historyAlteringChanges,u=a,c=o,e.forEach(c,function(e){var t=u+e;i.duplicateLastSnapshot(t,s)}),r=n?e(r).assign(r.historyAlteringChanges).omit(["historyAlteringChanges"]).value():e.omit(r,"historyAlteringChanges")}var i,s,u,c;l(t,r)}.bind(this)}function s(t,a,r,o){i.call(this,t,a,o,r),this.lastSavedState=t.full.immutable.getLastSnapshotByTagName(a+r[0])||t.full.immutable.getInitialSnapshot(),e.forEach(r,function(e){t.takeSnapshot(a+e)}),this.currentState=t.full.immutable.getLastSnapshotByTagName(a+r[0]),this.args=function(){return[this.lastSavedState,this.currentState]};var n=function(o){e.forEach(r,function(e){t.removeLastSnapshot(a+e)}),o&&!e.isEmpty(o.changes)&&(e.forEach(r,function(e){t.duplicateLastSnapshot(a+e,o.changes)}),l(t,o.changes))};this.onTaskFailure=n,this.cancel=n}function l(t,a){e.forOwn(a,function(a,r){e.isUndefined(a)?t.full.removeByPathInHostModel(r.split(".")):t.full.setByPath(r.split("."),a)})}function u(i,s,l,u,c,d){var p=o(s,d).catch(function(t){throw e.invokeMap(l,"cancel"),new a(t)}).then(function(t,a){e.forOwn(a,function(e){e.currentState&&(e.currentState=e.currentState.withMutations(function(e){return e.set("documentServicesModel",t.full.immutable.getByPath(["documentServicesModel"])).set("rendererModel",t.full.immutable.getByPath(["rendererModel"]))}))})}.bind(null,i,l)).then(function(){return n(l,d)});return p.then(function(){u&&u()}).catch(function(e){if(!e instanceof a&&!e instanceof r)throw e;t.log.error("Save has failed - please see the failure details below:",e),c&&c(e.reason)}),p}function c(t,a){var r=t.getSnapshotTags(a);return r&&e.isArray(r)&&!e.isEmpty(r)||(r=[""]),r}function d(t,a,r,o,n,i,s){var l=r.primaryTask.getTaskName(),d=c(r.primaryTask,t),p=new a(o,l,d,r.primaryTask[t]),g=e.map(r.secondaryTasks,function(e){return l=e.getTaskName(),d=c(e,t),new a(o,e.getTaskName(),e.getSnapshotTags(t),e[t])});return u(o,p,g,n,i,s)}return{runPartialSaveTasks:d.bind(null,"partialSave",s),runFullSaveTasks:d.bind(null,"fullSave",s),runFirstSaveTasks:d.bind(null,"firstSave",s),runSaveAsTemplate:d.bind(null,"saveAsTemplate",s),runPublishTasks:d.bind(null,"publish",function(e,t,a,r){i.call(this,e,t,r,a);var o=e.full.immutable.getLastSnapshotByTagName(t+a[0])||e.full.immutable.getInitialSnapshot();this.currentState=function(e,t){var a=e.getByPath(["rendererModel"]);return t.mergeIn(["rendererModel"],{metaSiteId:a.metaSiteId,siteInfo:{siteId:a.siteInfo.siteId}})}(e,o),this.args=function(){return[this.currentState]}}),runAutosaveTasks:d.bind(null,"autosave",function(e,t,a,r){s.call(this,e,t,a,r),this.onTaskSuccess=function(t){t&&this.currentState.getIn(["documentServicesModel","version"])===e.full.getByPath(["documentServicesModel","version"])&&l(e,t)}.bind(this)})}}),define("documentServices/wixCode/utils/runSaveTask",["lodash","documentServices/saveAPI/lib/saveRunner","documentServices/bi/bi"],function(e,t,a){"use strict";return function(r,o,n,i,s){r.setOperationsQueue.flushQueueAndExecute(function(){var l,u=[{primaryTask:o,secondaryTasks:[]},r.dal,i,function(e){s(e.document)},(l=r,{event:e.partial(a.event,l),error:e.partial(a.error,l)})];n?t.runFullSaveTasks.apply(t,u):t.runPartialSaveTasks.apply(t,u)})}}),define("documentServices/wixCode/services/wixCodeServiceFacade",["lodash","documentServices/wixCode/utils/utils","experiment"],function(e,t,a){"use strict";var r=function(){return a.isOpen("sv_wixCodeNewDomain")},o=e.template("<%= baseUrl %>/api/apps?msid=<%= metasiteId %>"),n=e.template("https://code.wix.com/wix-code-service/api/code/apps?msid=<%= metasiteId %>"),i=e.template("<%= baseUrl %>/api/apps/<%= gridAppId %>/clone?msid=<%= metasiteId %>"),s=e.template("https://code.wix.com/wix-code-service/api/code/apps/<%= gridAppId %>/clone?msid=<%= metasiteId %>"),l=e.template("<%= baseUrl %>/api/apps/<%= gridAppId %>/save?msid=<%= metasiteId %>"),u=e.template("https://code.wix.com/wix-code-service/api/code/apps/<%= gridAppId %>/save?msid=<%= metasiteId %>"),c=function(a){var o=a.url,n=a.data,i=a.signedInstance,s=a.scari;return e.assign({url:o,type:t.requestTypes.POST,contentType:"application/json",data:n,headers:function(t){var a=t.signedInstance,r=t.scari;return e.pickBy({"X-Wix-Si":a,"X-Wix-Scari":r})}({signedInstance:i,scari:s}),timeout:15e3},r()?{xhrFields:{withCredentials:!0},crossDomain:!0}:{})};return{create:function(e){var a=e.baseUrl,i=e.metasiteId,s=e.signedInstance,l=r()?n({baseUrl:a,metasiteId:i}):o({baseUrl:a,metasiteId:i}),u=c({url:l,data:{},signedInstance:s});return t.sendRequestObj(u)},save:function(e){var a=e.baseUrl,o=e.gridAppId,n=e.metasiteId,i=e.signedInstance,s=e.scari,d=r()?u({baseUrl:a,gridAppId:o,metasiteId:n}):l({baseUrl:a,gridAppId:o,metasiteId:n}),p=c({url:d,data:{},signedInstance:i,scari:s});return t.sendRequestObj(p)},clone:function(e){var a=e.baseUrl,o=e.gridAppId,n=e.metasiteId,l=e.signedInstance,u=e.scari,d=r()?s({baseUrl:a,gridAppId:o,metasiteId:n}):i({baseUrl:a,gridAppId:o,metasiteId:n}),p=c({url:d,data:{},signedInstance:l,scari:u});return t.sendRequestObj(p)}}}),define("documentServices/wixCode/services/markAppImmutable",["lodash","documentServices/wixCode/utils/utils","documentServices/wixCode/utils/clientSpecMapUtils","documentServices/wixCode/services/wixCodeServiceFacade","documentServices/wixCode/utils/constants"],function(e,t,a,r,o){"use strict";return function(e){var n=a.getExistingWixCodeAppFromSnapshot(e);if(!n)return Promise.reject(new Error("no wix code app"));var i,s={baseUrl:t.extractFromSnapshot(e,["serviceTopology",o.WIX_CODE_SERVICE_URL_KEY]),gridAppId:t.extractFromSnapshot(e,o.paths.GRID_APP_ID),metasiteId:(i=e,t.extractFromSnapshot(i,["rendererModel","metaSiteId"])),signedInstance:n.instance,scari:t.extractFromSnapshot(e,o.paths.SCARI)};return r.save(s)}}),define("documentServices/wixCode/saveTasks/markAppImmutable",["lodash","documentServices/wixCode/utils/utils","documentServices/wixCode/utils/constants","documentServices/wixCode/utils/traceUtils","documentServices/wixCode/services/markAppImmutable","wixCode"],function(e,t,a,r,o,n){"use strict";function i(e,i,s,l){var u,c=(u=i,t.extractFromSnapshot(u,["rendererModel","clientSpecMap"],!0));if(n.wixCodeWidgetService.getWixCodeSpec(c)){var d=n.log.trace(r.getParams(i,"markAppImmutable"),r.getBaseUrl(i));if(i.getIn(a.paths.IS_APP_READ_ONLY))return d({message:"no changes"}),void s();o(i).then(function(){d(),s(p())}).catch(function(e){a=e,-409===t.safeGetErrorCode(a)?(d({level:n.log.levels.WARN,message:"The grid app was already saved on server"}),s(p())):(d({level:n.log.levels.ERROR,message:e}),l(e));var a})}else s();function p(){var e={};return e[a.paths.IS_APP_READ_ONLY.join(".")]=!0,e}}return{partialSave:i,fullSave:i,firstSave:i,saveAsTemplate:i,publish:function(e,t){t()},getTaskName:function(){return"markAppImmutable"},getSnapshotTags:function(e){switch(e){case"autosave":return["autosave"];default:return["primary"]}}}}),define("documentServices/wixCode/services/wixCodeLifecycleService",["lodash","utils","documentServices/wixCode/utils/utils","documentServices/wixCode/utils/constants","documentServices/wixCode/services/wixCodeModelService","documentServices/siteMetadata/clientSpecMap","documentServices/tpa/services/clientSpecMapService","documentServices/wixCode/utils/clientSpecMapUtils","documentServices/tpa/utils/provisionUtils","documentServices/wixCode/services/kibanaReporterWrapper","wixCode","documentServices/wixCode/utils/traceUtils","documentServices/wixCode/utils/runSaveTask","documentServices/wixCode/saveTasks/markAppImmutable","documentServices/wixCode/services/markAppImmutable","documentServices/wixCode/services/wixCodeServiceFacade","documentServices/hooks/hooks","experiment"],function(e,t,a,r,o,n,i,s,l,u,c,d,p,g,f,m,y,_){"use strict";var v="/appStore/wix-code/",S="save",O="wixCodeNotProvisioned",h=new t.SiteDataPrivates;function A(e){return e.payload}function E(e,t){var a=i.getLargestApplicationId(e),o={type:r.WIX_CODE_SPEC_TYPE,appDefinitionId:t.appDefinitionId,instance:t.dsi,instanceId:t.instanceId,applicationId:l.generateAppFlowsLargestAppId(a)};return o[O]=!0,n.registerAppData(e,o),o}function C(e,t){return o.setScari(e,t.dscari),o.setGridAppId(e,t.gridAppId),_.isOpen("se_autosavePlatform")&&y.executeHook(y.HOOKS.AUTOSAVE.ACTION),t}function P(e){var t=e.pointers.general.getServiceTopology();return e.dal.get(e.pointers.getInnerPointer(t,r.WIX_CODE_SERVICE_URL_KEY))}function R(t,r){var n=u.trace(t,{action:"cloneApp"});return function(t){var a={baseUrl:P(t),gridAppId:o.getGridAppId(t),metasiteId:I(t),signedInstance:s.getExistingWixCodeAppFromPS(t).instance,scari:o.getScari(t)};return m.clone(a).then(A).then(e.partial(C,t)).then(e.partial(w,t))}(t).then(function(e){n({appId:o.getGridAppId(t),message:e})}).catch(function(o){if(i=o,-409===a.safeGetErrorCode(i))return w(t),n({level:u.levels.WARN,message:o}),new Promise(function(e,a){p(t,g,!1,e,a)}).then(e.partial(R,t,r));var i;return 0===r?(n({level:u.levels.ERROR,message:o}),Promise.reject(o)):(n({level:u.levels.WARN,message:o,params:{retriesLeft:r}}),R(t,r-1))})}function I(e){var t=e.pointers.general.getMetaSiteId();return e.dal.get(t)}function D(e){return a.extractFromSnapshot(e,["rendererModel","clientSpecMap"],!0)}function T(e){var t=e.pointers.wixCode.getIsAppReadOnly();return!e.dal.get(t)}function w(e,t){var a=e.pointers.wixCode.getIsAppReadOnly();return e.dal.set(a,!1),t}function b(e){return h.get(e.siteDataAPI.siteData)}function L(e,t){h.set(e.siteDataAPI.siteData,t)}function M(e){return a=e,!!s.getExistingWixCodeAppFromPS(a)&&(t=e,!!o.getGridAppId(t));var t,a}return{provision:function(t){var a=u.trace(t,{action:"createApp"}),r=s.getExistingWixCodeAppFromPS(t);return M(t)?(a({message:"wix code is already provisioned"}),Promise.resolve(r)):function(t,a){var r={baseUrl:P(t),metasiteId:I(t),signedInstance:a?a.instance:null};return m.create(r).then(A).then(e.partial(C,t)).then(e.partial(w,t)).then(a?e.constant(a):e.partial(E,t))}(t,r).then(function(e){return a({message:e}),e}).catch(function(e){return a({message:e,level:u.levels.ERROR}),Promise.reject(e)})},save:function(t,o,n){var i,s,l=(i=t,a.extractFromSnapshot(i,["serviceTopology","appStoreUrl"])+v+S),u=(s=t,a.extractFromSnapshot(s,["rendererModel","metaSiteId"])),c=e(t).thru(D).filter(O).map(function(e){return{applicationId:e.applicationId.toString(),instanceId:e.instanceId,signedInstance:e.instance,signedCodeAppInfo:a.extractFromSnapshot(t,r.paths.SCARI)}}).value();if(c.length>0){var d={metaSiteId:u,codeAppSpec:c[0]};a.sendRequest(l,a.requestTypes.POST,d).then(function(t){o(function(t){if(!t.success)return t;var a={};return a[t.payload.applicationId]=t.payload,e.assign({},t,{payload:{clientSpecMap:a}})}(t))}).catch(function(e){n(e)})}else o()},ensureAppIsWriteable:function(e){if(!M(e))return u.trace(e,{action:"cloneApp"})({level:u.levels.ERROR,message:"trying to ensure app is writable, but wixCode not provisioned"}),Promise.reject(new Error("no wix code app"));return T(e)?Promise.resolve():function(e){var t=b(e);return t||(t=R(e,2).then(function(t){try{L(e,null)}catch(e){}return t}).catch(function(t){try{L(e,null)}catch(e){}throw t}),L(e,t)),t}(e)},isAppWriteable:T,markAppImmutable:f,isProvisioned:M,waitForPendingClone:function(e){return Promise.resolve(b(e))}}}),define("documentServices/connections/connections",["lodash","documentServices/dataModel/dataModel","documentServices/connections/connectionsDataGetter","documentServices/component/component","documentServices/componentDetectorAPI/componentDetectorAPI"],function(e,t,a,r,o){"use strict";var n="platform.components.AppController";return{connect:function(o,i,s,l,u){var c=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(r.getType(o,s)!==n)throw new Error("controllerRef component type is invalid - should be a controller or current context");if(c&&r.getType(o,i)===n)throw new Error("cannot connect to another controller with a primary connection");var d={type:"ConnectionItem",controllerRef:s,role:l,isPrimary:c};u&&(d.config=u);var p=a.getConnections(o,i),g=e.reject(p,{controllerRef:s,role:l});if(d.isPrimary&&e.some(g,{isPrimary:!0}))throw new Error("Primary connection is already connected to the component");t.updateConnectionsItem(o,i,g.concat(d))},disconnect:function(r,o,n,i){var s=a.getConnections(r,o),l={controllerRef:n};i&&(l.role=i);var u=e.reject(s,l);e.isEmpty(u)?t.removeConnectionsItem(r,o):t.updateConnectionsItem(r,o,u)},get:a.getConnections,getPlatformAppConnections:a.getPlatformAppConnections,getPrimaryConnection:a.getPrimaryConnection,getConnectedComponents:function(e,t){var r=e.pointers.full.components.getPageOfComponent(t);if(!r)return[];var n=e.pointers.full.components.isMasterPage(r)?null:r.id;return o.getAllComponentsFromFull(e,n,function(r){return a.isCompConnectedToController(e,r,t)})},getControllerConnections:function(t,r){var n=t.pointers.full.components.getPageOfComponent(r);if(!n)return[];var i=t.pointers.full.components.isMasterPage(n)?null:n.id,s=o.getAllComponentsFromFull(t,i);return e.flatMap(s,function(o){return e(a.getConnections(t,o)).reject({type:"WixCodeConnectionItem"}).filter(["controllerRef.id",r.id]).map(function(e){return{componentRef:o,connection:{config:e.config,controllerRef:e.controllerRef,role:e.role,isPrimary:e.isPrimary}}}).value()})}}}),define("documentServices/component/componentCode",["lodash","utils","documentServices/constants/constants","documentServices/dataModel/dataModel","documentServices/component/component","documentServices/page/page","documentServices/componentsMetaData/componentsMetaData","documentServices/connections/connections","documentServices/documentMode/documentMode"],function(e,t,a,r,o,n,i,s,l){"use strict";var u=128,c={VALID:"VALID",ALREADY_EXISTS:"ALREADY_EXISTS",TOO_SHORT:"TOO_SHORT",TOO_LONG:"TOO_LONG",INVALID_NAME:"INVALID_NAME"};function d(t,a){return e(a).filter(_.bind(this,t)).keyBy(_.bind(this,t)).value()}function p(e,t){return e.pointers.full.components.getChildrenRecursivelyRightLeftRootIncludingRoot(t)}function g(t,a,r,o){var n=p(t,r),s=d(t,n),l=e.assign({},s,a),u=e.groupBy(n,function(e){return i.getDefaultNickname(t,e)}),c=e.flatMap(u,function(a,r){var n=function(t,a){var r=new RegExp(t+"(\\d+)");return e(a).map(function(t,a){var o=r.exec(a);return o?e.parseInt(o[1]):null}).concat(0).max()+1}(r,l);return function(t,a,r,o,n){return e(a).filter(A.bind(this,t,n)).map(function(e){var a=r+o++;return S(t,e,a),e}).value()}(t,a,r,n,o)});return e.assign(s,d(t,c))}function f(t,a,r){var o=t.pointers.components.getPage("masterPage",r),n=d(t,p(t,o)),i=e.reduce(a,function(a,o){var i=t.pointers.components.getPage(o,r),s=g(t,n,i,r);return e.assign(a,s)},{});g(t,i,o,r)}function m(t,r,o){if(e.includes(r,"masterPage"))return y(t,o);o=o||l.getViewMode(t),f(t,r,a.VIEW_MODES.DESKTOP),o!==a.VIEW_MODES.DESKTOP&&(n=t,i=o,e(r).concat("masterPage").uniq().forEach(function(t){var r=n.pointers.components.getPage(t,i),o=p(n,r),s=n.pointers.components.getPage(t,a.VIEW_MODES.DESKTOP);e(o).filter(A.bind(this,n,i)).forEach(function(e){var t=n.pointers.components.getComponent(e.id,s);if(t){var a=_(n,t);a&&S(n,e,a)}})}),f(t,r,o));var n,i}function y(t,a){var r=e.map(n.popupPages.getDataList(t),"id");m(t,n.getPageIdList(t).concat(r),a)}function _(e,t){var a=v(s.get(e,t));if(a)return a.role}function v(t){return"WixCodeConnectionItem"===e.get(t,[0,"type"])&&t[0]}function S(e,t,a){if(h(e,t,a)!==c.VALID)throw new Error("The new nickname you provided is invalid");var o=s.get(e,t),n=v(o);if(n)n.role=a;else{o=[{type:"WixCodeConnectionItem",role:a}].concat(o)}r.updateConnectionsItem(e,t,o)}function O(t,a,r,o){if(!r)return!1;o=o?t.pointers.full.components.getComponent(o.id,a):void 0;var n=function(t,a){var r=a.type;return"masterPage"===a.id?e.map(t.pointers.page.getNonDeletedPagesPointers(!0),function(e){return t.pointers.full.components.getPage(e.id,r)}):[a,t.pointers.full.components.getMasterPage(r)]}(t,a);return e(n).flatMap(t.pointers.full.components.getChildrenRecursivelyRightLeftRootIncludingRoot).reject(e.isEqual.bind(e,o)).map(_.bind(this,t)).includes(r)}function h(t,a,r){if(e.isEmpty(r))return c.TOO_SHORT;if(r.length>u)return c.TOO_LONG;if(O(t,o.getPage(t,a),r,a))return c.ALREADY_EXISTS;if(!/^[a-zA-Z0-9]+$/.test(r))return c.INVALID_NAME;return c.VALID}function A(t,a,r){return!e.isEqual(r,t.pointers.components.getMasterPage(a))&&!_(t,r)}return{generateNicknamesForSite:y,getNickname:_,setNickname:S,removeNickname:function(e,t){var a=s.get(e,t);v(a)&&((a=a.slice(1)).length>0?r.updateConnectionsItem(e,t,a):r.removeConnectionsItem(e,t))},validateNickname:h,generateNicknamesForPages:m,hasComponentWithThatNickname:O,getComponentsInPage:p,VALIDATIONS:c}}),define("documentServices/hooks/componentHooks/nickname",["lodash","documentServices/wixCode/services/wixCodeLifecycleService","documentServices/component/component","documentServices/componentDetectorAPI/componentDetectorAPI","documentServices/component/componentCode"],function(e,t,a,r,o){"use strict";function n(e,r){if(t.isProvisioned(e)){var n=a.isPageComponent(e,r)?r:a.getPage(e,r),i=e.pointers.components.getViewMode(n);o.generateNicknamesForPages(e,[n.id],i)}}return{generateNicknamesForPages:function(t,a){e.forEach(a,e.partial(n,t))},generateNicknamesForComponent:n,removeNicknameFromSerializedComponentIfInvalid:function(r,n,i,s){if(t.isProvisioned(r)&&"Page"!==s.type&&s.connections){var l=a.isPageComponent(r,i)?i:a.getPage(r,i),u=e.find(s.connections.items,{type:"WixCodeConnectionItem"});u&&o.hasComponentWithThatNickname(r,l,u.role,n)&&e.remove(s.connections.items,u)}},deleteNicknameFromComponentIfInvalid:function(r,n,i){if(t.isProvisioned(r)&&"Page"!==a.getType(r,n)){var s=a.isPageComponent(r,i)?i:a.getPage(r,i);e.forEach(r.pointers.components.getChildrenRecursivelyRightLeftRootIncludingRoot(n),function(e){var t=o.getNickname(r,e);o.hasComponentWithThatNickname(r,s,t,e)&&o.removeNickname(r,e)})}}}}),define("documentServices/hooks/componentHooks/modesHooks",["lodash","documentServices/component/componentModes","documentServices/dataModel/dataModel","utils"],function(e,t,a,r){"use strict";return{activatePageMobileHoverModes:function(a,o){var n=a.pointers.components.getPage(o.id,r.constants.VIEW_MODES.DESKTOP),i=a.pointers.components.getChildrenRecursively(n);e(i).filter(function(a,r){return!!function(a,r){var o=t.getComponentModes(a,r);return e.find(o,{type:"HOVER"})}(a,r)}.bind(null,a)).forEach(function(e,a){var r=e.pointers.components.getMobilePointer(a);(function(e,a){var r=t.getCompMobileMode(e,a);t.activateComponentMode(e,a,r.modeId)})(e,a),function(e,t){var a=e.pointers.components.getMobilePointer(t);return e.dal.isExist(a)}(e,a)&&function(e,t,a){var r=e.dal.get(e.pointers.getInnerPointer(t,"designQuery"));e.dal.set(e.pointers.getInnerPointer(a,"designQuery"),r)}(e,a,r)}.bind(null,a))}}}),define("documentServices/hooks/componentHooks/wPhoto",["lodash","documentServices/dataModel/dataModel","documentServices/component/component"],function(e,t,a){"use strict";return{removeMobileCropOverrideIfNeeded:function(r,o,n){var i=t.getDataItem(r,o),s=n.uri&&i.uri!==n.uri,l=r.pointers.components.getMobilePointer(o);if(s&&a.isExist(r,l)){var u=t.getPropertiesItem(r,l);t.setPropertiesItem(r,l,e.assign(u,{overrideCrop:null}))}}}}),define("documentServices/hooks/componentHooks/mediaPlayer",["lodash","documentServices/dataModel/dataModel","documentServices/component/component","documentServices/component/componentData","documentServices/hooks/layoutHooks/mediaPlayer"],function(e,t,a,r,o){"use strict";function n(e,t){var a=e.dal.get(e.pointers.getInnerPointer(t,"layout"));o.layoutPlayerChildren(e,t,a)}return{setPlayerIdAfterAddHook:function(o,n,i,s,l,u){!function(o,n,i){if("wysiwyg.viewer.components.MediaPlayer"===a.getType(o,i)){var s=i.id,l=a.getType(o,n),u=r.getComponentPropertiesByType(o,l);e.get(u,["properties","playerId"])&&t.updatePropertiesItem(o,n,{playerId:s})}}(o,n,u)},layoutPlayerChildren:n,layoutChildrenOnMobileConversion:function(t,r){e.forEach(r,function(r){var o=a.getChildren(t,r,!0),i=e.filter(o,function(e){return"wysiwyg.viewer.components.MediaPlayer"===a.getType(t,e)});e.forEach(i,function(e){return n(t,e)})})}}}),define("documentServices/hooks/componentHooks/columns",["lodash","documentServices/dataModel/dataModel","documentServices/component/component","documentServices/componentsMetaData/componentsMetaData","documentServices/structure/structure","documentServices/utils/utils","documentServices/component/componentData","documentServices/constants/constants"],function(e,t,a,r,o,n,i,s){"use strict";var l="wysiwyg.viewer.components.StripColumnsContainer";function u(t,a){var i=e.head(t.pointers.components.getChildren(a)),s=t.pointers.components.getChildren(i);e.forEach(s,function(e){(n.getComponentType(t,e)===l||r.public.isFullWidth(t,e))&&o.reparentComponentToPage(t,e,!0)})}return{handleFullWidthPropertyChange:function(a,r,o){var n=t.getPropertiesItem(a,r);n.fullWidth&&e.get(o,"fullWidth",n.fullWidth)!==n.fullWidth&&u(a,r)},handleSplitToColumns:function(e,t,a){1===e.pointers.components.getChildren(a).length&&u(e,a)},handleColumnDeletion:function(e,a,r){if(!r){var o=e.pointers.components.getParent(a);2===e.pointers.components.getChildren(o).length&&(n=e,(l=o).type!==s.VIEW_MODES.DESKTOP&&(i.isMobileComponentPropertiesSplit(n,l)||i.splitMobileComponentProperties(n,l)),t.updatePropertiesItem(e,o,{rowMargin:0,columnsMargin:0,siteMargin:0,frameMargin:0}));var n,l}},deleteContainerIfHasNoMoreColumns:function(e,t,r,o,n,i,s){e.pointers.components.getChildren(s).length||r||a.deleteComponent(e,s)}}}),define("documentServices/hooks/componentHooks/stripColumnsContainer",[],function(){"use strict";return function(e,t,a,r){r.layout.x=0}}),define("documentServices/hooks/componentHooks/siteRegionContainer",["lodash","documentServices/component/component"],function(e,t){"use strict";return function(a,r,o,n){var i=a.pointers.components.getChildren(o);if(e.find(i,function(e){return t.getType(a,e)===n.componentType}))throw new Error("Only one SiteRegionContainer allowed")}}),define("documentServices/utils/publicMethodUtils",["lodash","documentServices/utils/setOperationQueueUtils","documentServices/debug/dsQTrace"],function(e,t,a){"use strict";var r={REGULAR:"REGULAR",DATA_MANIPULATION:"DATA_MANIPULATION",CONTINUOUS_ACTION:"CONTINUOUS_ACTION"},o={REGULAR:{},DATA_MANIPULATION:{getReturnValue:null,asyncPreDataManipulation:null,isUpdatingAnchors:t.IS_UPDATING_ANCHORS.NO,singleComp:!1,shouldLockComp:!1,noRefresh:!1,noBatching:!1,noBatchingAfter:!1,shouldExecOp:!0,isAsyncOperation:!1,allowInReadOnly:!1,waitingForTransition:!1},CONTINUOUS_ACTION:{updatingAnchorsAfterContinuous:t.IS_UPDATING_ANCHORS.NO,enforceTypeDuringContinuous:t.ENFORCE_TYPES.FULL,singleComp:!1}};function n(t,a){var r=e.keys(o[a]);if(e.some(t,function(t,a){return!e.includes(r,a)}))throw new Error(a+" options is not valid")}function i(e){return function(){throw new Error(e)}}function s(a,r,o,n,s){return n.isReadOnly?i("you are in read only mode, so you cannot do this!!"):function(){var n=e.toArray(arguments);n.unshift(r);var i=t.getContinuousActionParams(r,a,o,s,n);r.setOperationsQueue.runSetOperation(a[s],n,i)}}return{METHOD_DEFINITIONS_TYPES:r,defineMethod:function(t){if(!e.isFunction(t))throw new Error("method Function is require");return{isPublicAPIDefinition:!0,type:r.REGULAR,method:t}},defineDataManipulationMethod:function(t,a){if(!e.isFunction(t))throw new Error("method Function is require");n(a,r.DATA_MANIPULATION);var i={isPublicAPIDefinition:!0,type:r.DATA_MANIPULATION,method:t},s=o[r.DATA_MANIPULATION];return e.assign(i,s,a)},defineContinuousAction:function(t,a){if(!e.isFunction(t))throw new Error("on Function is require");n(a,r.CONTINUOUS_ACTION);var i={isPublicAPIDefinition:!0,type:r.CONTINUOUS_ACTION,start:e.noop,on:t,end:e.noop},s=o[r.CONTINUOUS_ACTION];return e.assign(i,s,a)},resolvePublicAPIDefinition:function(o,n,l,u){var c=void 0;switch(n.type){case r.REGULAR:c=e.partial(n.method,o);break;case r.DATA_MANIPULATION:u.isReadOnly?c=i("you are in read only mode, so you cannot do this!!"):(E=n,C=o,P=l,c=u.isReadOnly?i("you are in read only mode, so you cannot do this!!"):function(){var r=e.toArray(arguments);r.unshift(C);var o=null;E.getReturnValue&&(o=E.getReturnValue.apply(null,r),r.splice(1,0,o));var n=t.getDataManipulationParams(C,E,P,r),i=C.setOperationsQueue.runSetOperation(E.method,r,n);return a.isTracing(C)&&(a.shouldLogConsoleTrace(C)&&console.trace&&console.trace(),a.logTrace(C,"Q OPERATION ADDED",{handle:i,methodName:P,args:arguments})),o});break;case r.CONTINUOUS_ACTION:c={start:(S=n,O=o,h=l,A=u,s(S,O,h,A,t.CONTINUOUS_ACTION_TYPES.START)),on:(m=n,y=o,_=l,v=u,s(m,y,_,v,t.CONTINUOUS_ACTION_TYPES.ON)),end:(d=n,p=o,g=l,f=u,s(d,p,g,f,t.CONTINUOUS_ACTION_TYPES.END))}}var d,p,g,f,m,y,_,v,S,O,h,A,E,C,P;return c},isPublicAPIDefinition:function(t){return e.get(t,"isPublicAPIDefinition",!1)}}}),define("documentServices/dataModel/dataModelPublicAPI",["documentServices/utils/publicMethodUtils","documentServices/dataModel/dataModel"],function(e,t){"use strict";return{methods:{components:{data:{update:e.defineDataManipulationMethod(t.updateDataItem,{singleComp:t.shouldUpdateDataWithSingleComp}),get:e.defineMethod(t.getDataItem),remove:e.defineDataManipulationMethod(t.removeComponentDataItem)}},data:{addLink:e.defineMethod(t.addLink),getById:e.defineMethod(t.getDataItemById),createItem:e.defineMethod(t.createDataItemByType),getSchema:e.defineMethod(t.getDataSchemaByType),isItemValid:e.defineMethod(t.isDataItemValid)},properties:{createItem:e.defineMethod(t.createPropertiesItemByType),getById:e.defineMethod(t.getPropertiesItemById),getSchema:e.defineMethod(t.getPropertiesSchemaByType),isItemValid:e.defineMethod(t.isPropertiesItemValid)},design:{createItem:e.defineMethod(t.createDesignItemByType),getById:e.defineMethod(t.getDataItemById)}}}}),define("documentServices/hooks/componentHooks/utils/socialComp",["lodash","documentServices/dataModel/dataModelPublicAPI","documentServices/siteMetadata/generalInfo","documentServices/page/page","utils"],function(e,t,a,r,o){"use strict";function n(e,a,r){var o=t.methods.components.data.update,n=[e,a,r],i={methodName:"components.data.update",singleComp:o.singleComp(e,a)};e.setOperationsQueue.runSetOperation(o.method,n,i)}function i(e,a,r){var o=t.methods.components.data.get.method(e,a);o&&o.urlFormat!==r&&(o.urlFormat=r,n(e,a,o))}return{updateUrlFormatIfNeeded:i,upgradeUrl:function(s,l,u,c){var d=a.getPossibleUrlFormats(),p=r.getSocialUrl(s,d.HASH_BANG,c&&c.forceMainPage);a.isHttpsEnabled(s)&&function(e,a){var r=t.methods.components.data.get.method(e,a);r&&(r.isHttpsEnabled=!0,n(e,a,r))}(s,l),a.isUsingUrlFormat(s,d.HASH_BANG)?i(s,l,d.HASH_BANG):u&&e.get(o.socialAPI,u)(p,function(e){i(s,l,e?d.HASH_BANG:d.SLASH)})}}}),define("documentServices/hooks/componentHooks/wFacebookLike",["utils","documentServices/structure/structure","documentServices/hooks/componentHooks/utils/socialComp"],function(e,t,a){"use strict";return function(e,r,o,n,i,s){a.upgradeUrl(e,r,"facebook.likes",{forceMainPage:t.isShowOnAllPages(e,s)})}}),define("documentServices/hooks/componentHooks/wFacebookComment",["documentServices/hooks/componentHooks/utils/socialComp"],function(e){"use strict";return function(t,a){e.upgradeUrl(t,a,"facebook.comments")}}),define("documentServices/hooks/componentHooks/pinterestPinIt",["documentServices/hooks/componentHooks/utils/socialComp"],function(e){"use strict";return function(t,a){e.upgradeUrl(t,a,"pinterest")}}),define("documentServices/hooks/componentHooks/vkShareButton",["documentServices/hooks/componentHooks/utils/socialComp"],function(e){"use strict";return function(t,a){e.upgradeUrl(t,a,"vk")}}),define("documentServices/hooks/componentHooks/facebookShare",["documentServices/dataModel/dataModel","documentServices/hooks/componentHooks/utils/socialComp"],function(e,t){"use strict";return function(a,r){var o=e.getDataItem(a,r),n=o.urlChoice&&"site"===o.urlChoice.toLowerCase();t.upgradeUrl(a,r,"facebook.shares",{forceMainPage:n})}}),define("documentServices/hooks/componentHooks/popupPageHooks",["lodash","documentServices/actionsAndBehaviors/actionsAndBehaviors","documentServices/documentMode/documentModeInfo","documentServices/page/page"],function(e,t,a,r){"use strict";return{getContainerToAddTo:function(e,t){return e.pointers.components.isPage(t)&&r.popupPages.isPopup(e,t.id)?r.popupPages.getCurrentMainContainer(e):t},removeDeadBehaviors:function(e,o){if(r.popupPages.isPopup(e,o.id)){var n=a.getViewMode(e);r.getPageIdList(e,!0).map(function(t){return e.pointers.components.getPage(t,n)}).forEach(function(a){t.removeComponentsBehaviorsWithFilter(e,a,{behavior:{targetId:o.id}})})}},removeBehaviorsFromAddedPage:function(e,a){t.removeComponentsBehaviorsWithFilter(e,a,{behavior:{name:"openPopup"}})}}}),define("documentServices/hooks/componentHooks/fiveGridLineHooks",["documentServices/dataModel/dataModel","documentServices/structure/structure"],function(e,t){"use strict";return{replaceFullScreenPropertyWithDocking:function(a,r){var o=e.getPropertiesItem(a,r);o&&o.fullScreenModeOn&&(t.setDock(a,r,{left:{vw:0},right:{vw:0}}),e.updatePropertiesItem(a,r,{fullScreenModeOn:!1}))}}}),define("documentServices/platform/services/sdkAPIService",["lodash","platformAPI"],function(e,t){"use strict";return{getAPIForSDK:function(a){var r=function t(a,r){return e.isFunction(a)?e.partial(a,r):e.isObject(a)?e.mapValues(a,function(e){return t(e,r)}):a}({document:t},window.documentServices);return a=a||{},e.merge(r.document,a),e(r).merge(a).merge(a.editor).reduce(function(t,a,r,o){return e.assign(t,function t(a,r){return e.reduce(e.get(r,a),function(o,n,i){var s=a.concat([i]);return e.isFunction(n)||!e.isObject(n)?(o[s.join(".")]=n,o):e.merge(o,t(s,r))},{})}([r],o))},{})}}}),define("documentServices/platform/core/workerFactory",["lodash","utils"],function(e,t){"use strict";var a=/\d+\.\d+\.\d+/,r=function(e,t,r){if(/^https?\:\/\/localhost/.test(t))return t;/^\d+\.\d+\.\d+$/.test(t)&&(o=t,e=e.replace(a,o));var o;return"true"===r&&(e=e.replace(/^https:\/\//,"http://")),e};return{createWorkerIframe:function(e,t,a){var r=window.document.createElement("iframe");return r.id=e,r.src=t,r.style.display="none",window.addEventListener("message",a),r=window.document.body.appendChild(r)},getAppsContainerUrl:function(a){var o=function(e){var t=e.pointers.general.getServiceTopology();return e.dal.get(e.pointers.getInnerPointer(t,"scriptsLocationMap"))}(a),n=o["santa-platform-apps-container"],i=a.dal.getByPath(["currentUrl","query"]),s=r(n,i.PlatformContainerSource,i.PlatformContainerHttp),l=i.EditorSdkSource||i.editorSdkSource||t.urlUtils.joinURL(e.get(o,"js-platform-editor-sdk",""),"lib","editorSDK.min.js");return t.urlUtils.joinURL(s,"index.html?sdkVersion="+l)}}}),define("documentServices/platform/core/messageFormatter",["lodash","documentServices/platform/common/constants"],function(e,t){"use strict";function a(a){return{intent:t.Intents.PLATFORM_WORKER,type:t.MessageTypes.ADD_APPS,apps:e.map(a,function(t){return e.pick(t,["applicationId","appFields.platform.editorScriptUrl","appDefinitionId","firstInstall","origin"])})}}return e.mapValues({triggerEvent:function(e,a){return{intent:t.Intents.PLATFORM_WORKER,type:t.MessageTypes.TRIGGER_EVENT,applicationId:e,args:a}},addApp:function(e){return a([e])},addApps:a},function(t){return e.flow(t,JSON.stringify)})}),define("documentServices/platform/services/apiCallBiService",["lodash","documentServices/bi/bi","documentServices/bi/events.json"],function(e,t,a){"use strict";return{reportAPICallBI:function(r,o){var n=o.call.split("."),i=n.slice(0,-1).join("."),s=e.last(n),l=o.args.map(JSON.stringify).join(",");t.event(r,a.PLATFORM_API_CALL,{app_name:o.args[0].appDefinitionId,module:i,function:s,arguments:l,pageId:r.siteAPI.getPrimaryPageId()})}}}),define("documentServices/platform/services/workerService",["lodash","pmrpc","documentServices/platform/services/sdkAPIService","documentServices/platform/core/workerFactory","documentServices/platform/core/messageFormatter","documentServices/platform/common/constants","documentServices/platform/services/platformAppDataGetter","documentServices/platform/services/apiCallBiService","documentServices/tpa/services/installedTpaAppsOnSiteService"],function(e,t,a,r,o,n,i,s,l){"use strict";var u=void 0,c={},d=[],p=!1,g=!1;function f(t,a){if(a.source===u.contentWindow)switch(a.data.type){case n.MessageTypes.SDK_READY:p=!0,e.forEach(d,m);break;case n.MessageTypes.SET_MANIFEST:var r=e.get(i.getAppDataByApplicationId(t,a.data.applicationId),"appDefinitionId");i.setManifest(t,r,a.data.manifest);break;case n.MessageTypes.SET_APP_PUBLIC_API:i.setAppPublicAPI(t,a.data.appDefinitionId,a.data.apiName);break;case n.MessageTypes.ADD_APP_COMPLETED:var o=e.get(c,[n.MessageTypes.ADD_APP_COMPLETED,a.data.applicationId]);e.isFunction(o)&&o(a.data);break;case n.MessageTypes.GET_INSTALLED_APPS:var s=t.siteDataAPI.siteData.getClientSpecMap(),g=t.siteDataAPI.siteData.getRouters(),f=t.dal.get(t.pointers.general.getPagesData()),y=l.getAllAppIdsInstalledOnPages(f,s,g);a.ports&&a.ports[0]&&e.isFunction(a.ports[0].postMessage)&&a.ports[0].postMessage(y);break;case n.MessageTypes.GET_IS_PLATFORM_APP_INSTALLED:var _=i.isPlatformAppInstalled(t,a.data.appDefinitionId);a.ports&&a.ports[0]&&a.ports[0].postMessage({isAppInstalled:_})}}function m(e){u.contentWindow.postMessage(e,"*")}function y(e){p?m(e):d.push(e)}return{init:function(e,o){g=!0,t.api.set(n.AppIds.EDITOR,a.getAPIForSDK(o),{onApiCall:s.reportAPICallBI.bind(null,e)});var i=r.getAppsContainerUrl(e);u=r.createWorkerIframe("workerIframe",i,f.bind(this,e))},triggerEvent:function(e,t){y(o.triggerEvent(e,t))},addApp:function(t,a){a&&e.set(c,[n.MessageTypes.ADD_APP_COMPLETED,t.applicationId],a),y(o.addApp(t))},addApps:function(e){y(o.addApps(e))},getAppsContainer:function(){return u},isInitiated:function(){return g}}}),define("documentServices/tpa/utils/ProvisionUrlBuilder",["lodash","utils","tpa"],function(e,t,a){"use strict";var r=a.common.TPABaseUrlBuilder,o=function(e){r.call(this,e)};return o.prototype=e.assign(new r,{addMetaSiteId:function(e){return this.addQueryParam("metaSiteId",e)},addEditorSessionId:function(e){return this.addQueryParam("editorSessionId",e)},addAcceptJson:function(){return this.addQueryParam("accept","json")}}),o}),define("documentServices/tpa/services/appStoreService",["lodash","utils","documentServices/tpa/utils/ProvisionUrlBuilder","documentServices/tpa/services/clientSpecMapService","documentServices/siteMetadata/siteMetadata","documentServices/tpa/utils/tpaUtils","documentServices/tpa/services/pendingAppsService","documentServices/tpa/services/installedTpaAppsOnSiteService","documentServices/tpa/utils/provisionUtils","experiment"],function(e,t,a,r,o,n,i,s,l,u){"use strict";var c=e.template("<%= provisionServerBaseUrl %>/editor/pre-save-add-apps/template/<%= metaSiteId %>?"),d=e.template("<%= provisionServerBaseUrl %>/editor/pre-save-add-app/<%= metaSiteId %>?appDefId=<%= appDefinitionId %>"),p=e.template("<%= provisionServerBaseUrl %>/editor/settle/<%= metaSiteId %>?context=<%= context %>&editorSessionId=<%= editorSessionId %>"),g=e.template("<%= provisionServerBaseUrl %>/editor/provision-from-source-template/<%= metaSiteId %>?appDefId=<%= appDefinitionId %>&sourceTemplateId=<%= sourceTemplateId %>"),f="save",m="load",y="firstSave",_=function(t,a,r){var o=a.payload;e.forEach(o,function(e){I(t,e),r&&r(e)})},v=function(e,t,r,i){if(n.isSiteSaved(e)){var s=o.getProperty(e,o.PROPERTY_NAMES.META_SITE_ID),l=T(e,d,t,s),u=new a(l).addAcceptJson().build();b(e,u,"GET",{},r,i)}else{O(e,[t],function(t){t&&t.success?_(e,t,r):i(t)},i)}},S=function(e,t,r,n,i){var s=o.getProperty(e,o.PROPERTY_NAMES.META_SITE_ID),l=e.pointers.general.getServiceTopology(),u=e.dal.get(e.pointers.getInnerPointer(l,"appStoreUrl")),c=g({provisionServerBaseUrl:u,metaSiteId:s,appDefinitionId:t,sourceTemplateId:r}),d=new a(c).addAcceptJson().build();b(e,d,"POST",{},n,i)},O=function(e,t,r,n){var i=o.getProperty(e,o.PROPERTY_NAMES.META_SITE_ID),s=e.pointers.general.getServiceTopology(),l=e.dal.get(e.pointers.getInnerPointer(s,"appStoreUrl")),u=c({provisionServerBaseUrl:l,metaSiteId:i}),d=new a(u).addAcceptJson().build();b(void 0,d,"POST",{guids:t},r,n)},h=function(t,a,o,n,l){var u=P(t,o),c=t.getIn(["rendererModel","clientSpecMap"]).toJS(),d=e.invoke(t.getIn(["routers","configMap"]),"toJS");c=r.filterApps(c);var p=s.getAllAppIdsInstalledOnPages(a,c,d),g=s.getAppsToGrantPermissions(c,p);g=e.union(e.filter(c,"notProvisioned"),i.getAppsToAdd(),g);var f=e.reduce(g,function(t,a){return e.includes(p,e.toString(a.applicationId))||r.isDemoAppAfterProvision(a)||r.hasEditorPlatformPart(a)?t.concat([{type:"add",appDefId:a.appDefinitionId,applicationId:e.toString(a.applicationId),instanceId:a.instanceId}]):t},[]),m=e.map(i.getAppsToDismiss(),function(e){return{type:"dismiss",appDefId:e}}),_={actions:e.union(f,m)};e.size(_.actions)>0||o===y?b(void 0,u,"POST",_,n,l):n()},A=function(e,t){return t.filter(function(e,t,a){var r=t.get("structure");return!e&&r||!r.equals(e.getIn([a,"structure"]))}.bind(null,e)).toJS()},E=function(e,t){return e.filter(C.bind(null,t)).toJS()},C=function(e,t,a){return!e.getIn([a,"structure"])},P=function(e,t){var r=e.getIn(["serviceTopology","appStoreUrl"]),o=e.getIn(["rendererModel","metaSiteId"]),n=e.getIn(["documentServicesModel","editorSessionId"]),i=w(r,p,o,n,t);return new a(i).addAcceptJson().build()},R=function(t,a,o,n,l){var c=P(t,o),d=t.getIn(["rendererModel","clientSpecMap"]).toJS();d=r.filterApps(d);var p={};o===m&&(p.excludeHybrid=!0);var g=e.invoke(t.getIn(["routers","configMap"]),"toJS"),f=s.getAppsToGrantAndRevoke(d,a,p,g),_=f.grant,v=f.revoke;o!==m&&(_=e.union(e.filter(d,"notProvisioned"),i.getAppsToAdd(),_));var S=e.reduce(_,function(t,a){return e.find(v,{applicationId:a.applicationId})?t:t.concat([{type:"add",appDefId:a.appDefinitionId,applicationId:e.toString(a.applicationId),instanceId:a.instanceId}])},[]),O=e.reduce(v,function(t,a){return u.isOpen("sv_tpaRevokeInTemplate")?t.concat([{type:"remove",applicationId:e.toString(a.applicationId)}]):e.find(_,{applicationId:a.applicationId})?t:t.concat([{type:"remove",applicationId:e.toString(a.applicationId)}])},[]),h=e.map(i.getAppsToDismiss(),function(e){return{type:"dismiss",appDefId:e}}),A={actions:e.union(S,O,h)};e.size(A.actions)>0||o===y?b(void 0,c,"POST",A,n,l):o!==m&&n()},I=function(t,a){if(e.includes([void 0,-1],a.applicationId))a.applicationId=D(t),a.notProvisioned=!0;else{var o=r.getAppDataByAppDefinitionId(t,a.appDefinitionId),s=o&&o.demoMode&&!a.demoMode;i.isPremiumPendingApp(t,a.applicationId)?i.add(a):!s&&o||(a.notProvisioned=!0)}t.setOperationsQueue.executeAfterCurrentOperationDone(function(){n.isTpaByAppType(a.type)&&l.cacheAppMarketDataAfterProvision(t,a)})},D=function(e){var t=r.getLargestApplicationId(e);return l.generateAppFlowsLargestAppId(t)},T=function(e,t,a,r){var o=e.pointers.general.getServiceTopology();return t({provisionServerBaseUrl:e.dal.get(e.pointers.getInnerPointer(o,"appStoreUrl")),metaSiteId:r,appDefinitionId:a})},w=function(e,t,a,r,o){return t({provisionServerBaseUrl:e,metaSiteId:a,editorSessionId:r,context:o})},b=function(a,r,o,n,i,s){var l={type:o,url:r,dataType:"json",contentType:"application/json",success:function(e){a?function(e,t,a){var r=a.payload;I(e,r),t(r)}(a,i,e):i(e)},error:s};n&&!e.isEmpty(n)&&(l.data=JSON.stringify(n)),t.ajaxLibrary.ajax(l)};return{preSaveAddApp:v,settleOnSave:function(t,a,r,o,n){var i=f,l=a.get("pagesData"),u=void 0,c=!1,d=!1,p=!1;if(r)i=y;else{var g=t.get("pagesData");u=A(g,l);var m=E(g,l),_=function(t,a){var r=e.keys(a);return t.filter(function(t,a){return e.includes(r,a)}).toJS()}(g,u);c=s.areTpaCompsWereUnInstalled(_,u,m);var v=a.getIn(["rendererModel","clientSpecMap"]).toJS(),S=e.invoke(a.getIn(["routers","configMap"]),"toJS");p=s.isPlatformOnlyAppUninstalled(_,v,S),d=e.some(v,{shouldTriggerFullSave:!0})}r||c||d||p?R(a,l.toJS(),i,o,n):h(a,u,i,o,n)},settleOnLoad:function(e){var t="tpa-settle-on-load";e.dal.takeSnapshot(t);var a=e.dal.full.immutable.getLastSnapshotByTagName(t);e.dal.removeLastSnapshot(t);var o=a.get("pagesData").toJS();R(a,o,m,function(t){t&&t.success&&r.setAppsData(e,t.payload.clientSpecMap)},function(){})},preSaveAddAppsOnLoad:function(t){var a=s.getAppsDefIdToProvisionOnSiteLoad(t);e.isEmpty(a)||(n.isSiteSaved(t)?function(t,a){var o=function(e){e&&(e.shouldTriggerFullSave=!0,r.registerAppData(t,e))},n=function(){};e.forEach(a,function(e){v(t,e,o,n)})}(t,a):O(o=t,a,function(t){t&&t.success&&(_(o,t),e.forEach(t.payload,function(e){r.registerAppData(o,e)}))},function(){}));var o},provisionAppFromSourceTemplate:function(e,t,a,r,o){n.isSiteSaved(e)?S(e,t,a,r,o):o({success:!1})}}}),define("documentServices/platform/hooks/connectedComponentsHooks",["lodash","platformEvents","documentServices/appControllerData/appControllerData","documentServices/connections/connections","documentServices/platform/services/platformAppDataGetter","documentServices/platform/common/constants","documentServices/dataModel/dataModel"],function(e,t,a,r,o,n,i){"use strict";function s(a,r,n,s,l,u,c,d,p){if(!e.isEmpty(p)){var g=e.reduce(p,function(t,a){var n=i.getDataItem(r,a.controllerRef);if(n){var s=n.applicationId,l=e.get(o.getAppDataByAppDefId(r,s),"applicationId");l&&(t[l]=t[l]||[],t[l].push(a))}return t},{});e.forEach(g,function(e,o){a(r,o,t.factory.componentDeleted({componentRef:n,connections:e}),!0)})}}function l(t,o,n,i,s){if(!1===i)return!1;var l=r.getPrimaryConnection(t,n);if(!l||!l.controllerRef||!l.role)return i;var u=a.getControllerStageDataByControllerRef(t,l.controllerRef),c=e.get(u,["connections",l.role,"behavior",o]);return e.isUndefined(c)||e.isUndefined(s[c])?i:e.isFunction(s[c])?s[c](i):s[c]}return{getOnDeleteHook:function(t){return e.partial(s,t)},isDuplicatable:function(e,t,a){return l(e,"duplicatable",a,t,{false:!1,true:t})},isRotatable:function(e,t,a){return l(e,"rotatable",a,t,{false:!1,true:t})},canBeFixedPosition:function(e,t,a){return l(e,"pinnable",a,t,{false:!1,true:t})},isResizableSides:function(e,t,a){return l(e,"resizable",a,t,{false:[],true:t})},layoutLimitsHook:function(t,a,r){return l(t,"resizable",r,a,{false:function(t){return t.aspectRatio?e.omit(t,"aspectRatio"):t},true:a})},shouldShowOnAllPages:function(e,t,a,r){return a&&r&&(e.pointers.components.isInMasterPage(r)&&!e.pointers.components.isInMasterPage(a)||!e.pointers.components.isInMasterPage(r)&&e.pointers.components.isInMasterPage(a))?l(e,"toggleShowOnAllPagesEnabled",a,t,{false:!1,true:t}):t}}}),define("documentServices/platform/platform",["lodash","documentServices/hooks/hooks","documentServices/constants/constants","documentServices/siteMetadata/clientSpecMap","documentServices/platform/services/workerService","documentServices/platform/services/sdkAPIService","documentServices/wixCode/services/wixCodeModelService","documentServices/platform/services/platformAppDataGetter","documentServices/tpa/services/clientSpecMapService","documentServices/tpa/services/appStoreService","documentServices/tpa/utils/provisionUtils","documentServices/platform/hooks/connectedComponentsHooks","documentServices/platform/common/constants"],function(e,t,a,r,o,n,i,s,l,u,c,d,p){"use strict";function g(t,a){var o=l.getLargestApplicationId(t),n=c.generateAppFlowsLargestAppId(o),i={type:"Application",displayName:a.appDefinitionId,appDefinitionId:a.appDefinitionId,applicationId:n,editorArtifact:a.editorArtifact,appFields:{platform:{editorScriptUrl:e.get(a,"appFields.platform.editorScriptUrl")}}};return e.get(a,"appFields.platform.viewerScriptUrl")&&e.set(i,"appFields.platform.viewerScriptUrl",a.appFields.platform.viewerScriptUrl),r.registerAppData(t,i),i}function f(t,a,r,n){l=t,u=a,c=r,"dataBinding"===e.get(s.getAppDataByApplicationId(l,u),"appDefinitionId")&&"treeItemSelected"===e.get(c,"eventType")&&(r.eventPayload.scari=i.getScari(t));var l,u,c;n&&e.set(r,"eventPayload.historySnapshotId",t.runtimeConfig.nextHistorySnapshotId),o.triggerEvent(a,r)}function m(t,a,r,o){var n=a.id,i=t.pointers.platform.getPagesPlatformApplicationPointer(r),s=t.dal.full.get(i)||{};delete s[n],o&&e.set(s,n,!0),e.isEmpty(s)&&"14cc59bc-f0b7-15b8-e1c7-89ce41d0e0c9"===r?t.dal.full.isExist(i)&&t.dal.full.remove(i):t.dal.full.set(i,s)}function y(a,n,i,s,u){l.getAppDataByAppDefinitionId(a,e.get(u,"appDefinitionId"))||(u.notProvisioned=!0,r.registerAppData(a,u));u.firstInstall=!0,u.origin=e.get(s,"origin"),o.addApp(u,function(r){t.executeHook(t.HOOKS.PLATFORM.APP_PROVISIONED,"",[a]);var o=e.assign(u,r||{});e.get(o,"success")?n(o):i&&i(o)})}return{init:function(a,r){!function(e){var t=e.pointers.platform.getPlatformPointer(),a=e.pointers.platform.getPagesPlatformApplicationsPointer();e.dal.full.set(t,{appState:{},appManifest:{},appPublicApiName:{}}),e.dal.full.isExist(a)||e.dal.full.set(a,{})}(a),o.init(a,r),function(t){var a=["wix-code","dataBinding"],r=e(l.getAppsData(t)).filter(function(t){return!e.includes(a,t.appDefinitionId)&&(r=t,o=void 0,e.get(r,"appFields.platform.editorScriptUrl")&&(!e.get(r,"permissions.revoked")||o));var r,o}).map(function(e){return e.firstInstall=!1,e}).value();o.addApps(r)}(a),t.registerHook(t.HOOKS.REMOVE.AFTER,d.getOnDeleteHook(f)),t.registerHook(t.HOOKS.METADATA.DUPLICATABLE,d.isDuplicatable),t.registerHook(t.HOOKS.METADATA.ROTATABLE,d.isRotatable),t.registerHook(t.HOOKS.METADATA.FIXED_POSITION,d.canBeFixedPosition),t.registerHook(t.HOOKS.METADATA.RESIZABLE_SIDES,d.isResizableSides),t.registerHook(t.HOOKS.METADATA.LAYOUT_LIMITS,d.layoutLimitsHook),t.registerHook(t.HOOKS.METADATA.CONTAINABLE,d.shouldShowOnAllPages)},setManifest:s.setManifest,registerToManifestAdded:s.registerToManifestAdded,initApp:function(t,a){var r=l.getAppDataByAppDefinitionId(t,a);r||(r=g(t,a)),o.addApp(r);var n=function(t){function a(e){return"http://localhost:"+e.port+"/"+e.path}function r(a){var r=t.dal.getByPath(["currentUrl","query",a]);return e(r||"").split(",").invokeMap("split",":").fromPairs().value()}var o=r("editorPlatformAppSources"),n=r("viewerPlatformAppSources"),i=o.id;if(i)return{appDefinitionId:i,appFields:{platform:{viewerScriptUrl:a(n),editorScriptUrl:a(o)}}}}(t);if(n){var i=g(t,n);o.addApp(i)}},provision:function(t,a,r){return new Promise(function(n,i){o.isInitiated()?function(t,a,r,o,n){var i=l.getAppDataByAppDefinitionId(t,a);i?y(t,o,n,r,i):u.preSaveAddApp(t,a,e.partial(y,t,o,n,r),n)}(t,a,r,n,i):i()})},notifyApplication:f,getAPIForSDK:function(e,t){return n.getAPIForSDK(t)},getInstalledAppsData:function(e){return[s.getAppDataByAppDefId(e,p.APPS.DATA_BINDING.appDefId)]},pageHasPlatformApp:function(e,t,a){var r=e.pointers.platform.getPagesPlatformApplicationPointer(a);return!!(e.dal.full.get(r)||{})[t]},updatePagePlatformApp:m,removePageFromPlatformApps:function(t,a){var r=t.pointers.platform.getPagesPlatformApplicationsPointer(),o=t.dal.full.get(r);e.forEach(o,function(e,r){m(t,a,r,!1)})},getAppManifest:s.getAppManifest,getAppDataByAppDefId:s.getAppDataByAppDefId,getAppDataByApplicationId:s.getAppDataByApplicationId,getAppsContainer:o.getAppsContainer,getInstalledEditorApps:function(t){var a=r.getAppsData(t);return e.filter(a,"appFields.platform.editorScriptUrl")},registerToPublicApiSet:s.registerToPublicApiSet,isPlatformAppInstalled:s.isPlatformAppInstalled,getPagesDataFromAppManifest:function(t,a,r,o){var n=s.getAppManifest(t,a),i=e.get(n,["pages",r,"default"]),l=e.get(n,["pages",r,"overrides"]);return e.isEmpty(l)?i:e.reduce(l,function(t,a){return e.isMatch(o,a.condition)&&(e.isArray(a.override)?t=a.override:e.assign(t,a.override)),t},e.get(n,["pages",r,"default"]))}}}),define("documentServices/hooks/componentHooks/appControllerHooks",["lodash","utils","documentServices/connections/connections","documentServices/component/component","documentServices/dataModel/dataModel","documentServices/platform/platform","documentServices/appControllerData/appControllerData","documentServices/componentDetectorAPI/componentDetectorAPI"],function(e,t,a,r,o,n,i,s){"use strict";function l(e,t){var a=r.getPage(e,t),i=o.getDataItem(e,t).applicationId,s=e.pointers.data.getDataItemsWithPredicate({applicationId:i},a.id);n.updatePagePlatformApp(e,a,i,s.length>1)}function u(o,n,i,l,u){var c,d,p=(c=i,d=u,e(c).chain().get("custom.relatedConnections").transform(function(t,a,r){t[e.get(d,r,r)]=a},{}).value()),g=e.keys(p),f=r.getPage(o,n).id,m=f===t.siteConstants.MASTER_PAGE_ID?null:f,y=s.getAllComponents(o,m,function(t){return e.includes(g,t.id)});_=y,v=p,S=o,O=n,e.forEach(_,function(t){var r=e.get(v,t.id,[]);e.forEach(r,function(e){a.connect(S,t,O,e.role,e.config)})});var _,v,S,O}function c(e,t,a,o){o=o||r.getPage(e,t),n.updatePagePlatformApp(e,o,a,!0)}return{handleControllerDeletion:function(t,r){!function(t,r){var o=a.getConnectedComponents(t,r);e.forEach(o,function(e){a.disconnect(t,e,r)})}(t,r),l(t,r),function(e,t){var a=e.pointers.platform.getControllerStatePointer(t.id);e.dal.isExist(a)&&e.dal.remove(a)}(t,r)},handleControllerSerialization:function(t,r,o){!function(t,r,o){var n=a.getConnectedComponents(t,r);if(!e.isEmpty(n)){var i=e.transform(n,function(o,n){o[n.id]=e.filter(a.get(t,n),{controllerRef:r})},{});e.set(o,"relatedConnections",i)}}(t,r,o),function(e,t,a){var r=e.dal.get(e.pointers.platform.getControllerStatePointer(t.id));void 0!==r&&(a.state=r)}(t,r,o)},handleControllerAddition:function(t,a,r,o,n){u(t,a,r,0,n),s=t,l=a,d=r,e.has(d,"custom.state")&&i.setState(s,e.set({},e.get(d,"custom.state"),[l]));var s,l,d;c(t,a,r.data.applicationId)},handleControllerParentChange:function(n,i,s){var u=o.getDataItem(n,i).applicationId;!function(o,n,i){var s=r.getPage(o,i).id;if(s!==t.siteConstants.MASTER_PAGE_ID){var l=a.getConnectedComponents(o,n);e(l).reject(function(e){return r.getPage(o,e).id===s}).forEach(function(e){a.disconnect(o,e,n)})}}(n,i,s),l(n,i),c(n,i,u,r.getPage(n,s))}}}),define("documentServices/wixCode/pointers/wixCodePointers",["core","wixCode","documentServices/wixCode/utils/constants"],function(e,t,a){"use strict";var r="wixCode",o=e.pointerGeneratorsRegistry;o.registerPointerType(r,function(){return null},function(){return!0});var n={getRoot:function(e,t){return t.getPointer("wixCodeRoot",r,a.paths.BASE)},getNonUndoableRoot:function(e,t){return t.getPointer("wixCodeNonUndoableRoot",r,a.paths.NON_UNDOABLE_BASE_PATH)},getUndoableRoot:function(e,t){return t.getPointer("wixCodeUndoableRoot",r,a.paths.UNDOABLE_BASE_PATH)},getModifiedFileContentMap:function(e,t){return t.getPointer("modifiedFileContents",r,a.paths.MODIFIED_FILE_CONTENTS)},getModifiedFileContent:function(e,t,o){return t.getPointer("modifiedFileContents_"+o,r,a.paths.MODIFIED_FILE_CONTENTS.concat(o))},getLoadedFileContentMap:function(e,t){return t.getPointer("loadedFileContents",r,a.paths.LOADED_FILE_CONTENTS)},getLoadedFileContent:function(e,t,o){return t.getPointer("loadedFileContents_"+o,r,a.paths.LOADED_FILE_CONTENTS.concat(o))},getUndoableModifiedFileContentMap:function(e,t){return t.getPointer("undoableModifiedFileContents",r,a.paths.UNDOABLE_MODIFIED_FILE_CONTENTS)},getUndoableModifiedFileContent:function(e,t,o){return t.getPointer("undoableModifiedFileContents_"+o,r,a.paths.UNDOABLE_MODIFIED_FILE_CONTENTS.concat(o))},getFilePathToIdMap:function(e,t){return t.getPointer("filePathToIdMap",r,a.paths.FILE_PATH_TO_ID_MAP)},getFilePathId:function(e,t,o){return t.getPointer("filePathToIdMap_"+o,r,a.paths.FILE_PATH_TO_ID_MAP.concat(o))},getDuplicatedFilesInfoMap:function(e,t){return t.getPointer("duplicatedFilesInfo",r,a.paths.DUPLICATED_FILES_INFO)},getGlobalBundleCacheKiller:function(e,a){return a.getPointer("globalBundleCacheKiller",r,t.wixCodeUserScriptsService.paths.GLOBAL_CACHE_KILLER)},getBundleCacheKillerMap:function(e,a){return a.getPointer("bundleCacheKillers",r,t.wixCodeUserScriptsService.paths.CACHE_KILLERS_MAP)},getBundleCacheKiller:function(e,a,o){return a.getPointer("bundleCacheKillers_"+o,r,t.wixCodeUserScriptsService.paths.CACHE_KILLERS_MAP.concat(o))},getLoadedChildrenMap:function(e,t){return t.getPointer("loadedChildren",r,a.paths.LOADED_CHILDREN)},getLoadedChildren:function(e,t,o){return t.getPointer("loadedChildren_"+o,r,a.paths.LOADED_CHILDREN.concat(o))},getAreChildrenLoadedMap:function(e,t){return t.getPointer("areChildrenLoaded",r,a.paths.ARE_CHILDREN_LOADED)},getAreChildrenLoaded:function(e,t,o){return t.getPointer("areChildrenLoaded_"+o,r,a.paths.ARE_CHILDREN_LOADED.concat(o))},getWixCodeModel:function(e,t){return t.getPointer("wixCodeModel",r,a.paths.WIX_CODE_MODEL)},getWixCodeAppData:function(e,t){return t.getPointer("appData",r,a.paths.WIX_CODE_APP_DATA)},getGridAppId:function(e,t){return t.getPointer("gridAppId",r,a.paths.GRID_APP_ID)},getScari:function(e,t){return t.getPointer("scari",r,a.paths.SCARI)},getIsAppReadOnly:function(e,t){return t.getPointer("isAppReadOnly",r,a.paths.IS_APP_READ_ONLY)}};o.registerDataAccessPointersGenerator(r,n)}),define("documentServices/wixCode/utils/pathUtils",["lodash","documentServices/wixCode/pointers/wixCodePointers"],function(e){"use strict";return{initPaths:function(t){var a=[t.pointers.wixCode.getRoot(),t.pointers.wixCode.getNonUndoableRoot(),t.pointers.wixCode.getUndoableRoot(),t.pointers.wixCode.getModifiedFileContentMap(),t.pointers.wixCode.getLoadedFileContentMap(),t.pointers.wixCode.getDuplicatedFilesInfoMap(),t.pointers.wixCode.getUndoableModifiedFileContentMap(),t.pointers.wixCode.getFilePathToIdMap(),t.pointers.wixCode.getBundleCacheKillerMap(),t.pointers.wixCode.getWixCodeModel(),t.pointers.wixCode.getWixCodeAppData(),t.pointers.wixCode.getAreChildrenLoadedMap(),t.pointers.wixCode.getLoadedChildrenMap()];e.forEach(a,function(e){t.dal.isExist(e)||t.dal.set(e,{})})}}}),define("documentServices/wixCode/utils/systemFolders",[],function(){"use strict";return{PUBLIC:"public",PAGES:"public/pages",BACKEND:"backend",SCHEMAS:".schemas"}}),define("documentServices/wixCode/utils/fileDescriptorUtils",["lodash","documentServices/wixCode/utils/systemFolders"],function(e,t){"use strict";var a="public/pages";function r(t){return e.isObject(t)&&t.name&&t.location}function o(e){return r(e)&&e.directory}function n(e){return r(e)&&!e.directory}return{isFileSystemItem:r,isFolder:o,isFile:n,isInsideFolder:function(e,t){return o(e)&&0===t.location.indexOf(e.location)},getFileName:function(t){return e.last(t.location.split("/"))},isPagesFolder:function(t){return o(t)&&e.startsWith(t.location,a)},isPageFile:function(t){return n(t)&&3===t.location.split("/").length&&e.startsWith(t.location,a)},isSystemFolder:function(a){return o(a)&&e.includes(e.values(t),a.location.toLowerCase().replace(/\/*$/,""))},getParentFolderPath:function(e){var t=e.location.replace(/\/$/,"").split("/");return t.pop(),t.join("/")}}}),define("documentServices/wixCode/services/userCodeCacheKillerService",["lodash","wixCode"],function(e,t){"use strict";function a(e){(t=e).dal.set(t.pointers.wixCode.getBundleCacheKillerMap(),{});var t;!function(e,t){var a=r(e.dal.get(t));e.dal.set(t,a)}(e,e.pointers.wixCode.getGlobalBundleCacheKiller())}function r(e){var t=Date.now().toString();return t===e?t+"_1":t}return{init:function(e){a(e)},getNewCacheKillerValue:r,notifyItemModified:function(e,r){var o=r.location;t.wixCodeUserScriptsService.filePathAffectsBundles(o)&&a(e)}}}),define("documentServices/wixCode/utils/errors",[],function(){"use strict";function e(e,t,a,r){var o=r?"Expecting "+r:"";this.name="ArgumentError",this.message="Illegal Argument '"+e+"' in "+t+". '"+a+"' is invalid. "+o+".",this.stack=(new Error).stack}e.prototype=Object.create(Error.prototype),e.prototype.constructor=e;function t(e){this.name="FileSystemError",this.message=e,this.stack=(new Error).stack}return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,{ArgumentError:e,FileSystemError:t}}),define("documentServices/wixCode/services/fileSystemService",["lodash","utils","documentServices/wixCode/utils/utils","documentServices/wixCode/utils/fileDescriptorUtils","documentServices/wixCode/utils/errors","documentServices/wixCode/utils/constants","experiment"],function(e,t,a,r,o,n,i){"use strict";var s="application/json;charset=UTF-8",l="text/plain;charset=UTF-8",u="public",c="backend",d=".schemas",p="/",g=/^\/file\/[^\/]+\/(.+)$/;function f(e,t){return e.match(g)?e:"/file/"+t.appId+"/"+e}function m(t){return e.assign({},t,{location:function(e){var t=e.match(g);return t?t[1]:e}(t.location)})}function y(t){return e.isString(t)}function _(t){return e.isObject(t)&&t.diff&&e.isArray(t.diff)}function v(e){return e?"?"+t.urlUtils.toQueryString(e):""}function S(e){return i.isOpen("sv_wixCodeNewDomain")?e.baseUrl+"/v1":e.baseUrl}function O(t,r){return t.headers=e.assign({"X-Wix-Si":r.signedInstance,"X-Wix-Scari":r.scari},t.headers),i.isOpen("sv_wixCodeNewDomain")&&e.assign(t,{xhrFields:{withCredentials:!0},crossDomain:!0}),a.sendRequestObj(t)}function h(e,t,a,r){e.url=(o=t,n=a,i=r,S(o)+f(n,o)+v(i));var o,n,i;return O(e,t)}function A(e,t,a,r){e.url=(o=t,n=a,i=r,S(o)+"/find"+f(n,o)+v(i));var o,n,i;return O(e,t)}function E(t,n,i,l){if(!r.isFolder(i))return Promise.reject(new o.ArgumentError("parentFolder","fileSystemService.doCreateFileOrFolder",i,"folder object"));if(u=n,!(e.isString(u)&&u.length>0))return Promise.reject(new o.ArgumentError("itemName","fileSystemService.doCreateFileOrFolder",n));var u,c={name:n,localTimeStamp:0,directory:l};return h({type:a.requestTypes.POST,contentType:s,headers:{"X-Create-Options":"no-overwrite"},timeout:15e3,data:JSON.stringify(c)},t,i.location).then(m)}function C(e,t,n,i,l){if(!r.isFileSystemItem(n))return Promise.reject(new o.ArgumentError("fileSystemItem","fileSystemService.doCopyOrMove",n));if(!r.isFolder(i))return Promise.reject(new o.ArgumentError("targetFolder","fileSystemService.doCopyOrMove",i,"folder object"));if(!l){var u=n.location.split(p);l=u.pop()||u.pop()}var c={"X-Create-Options":"no-overwrite,"+t},d={name:l,location:f(n.location,e)};return h({type:a.requestTypes.POST,contentType:s,headers:c,timeout:15e3,data:JSON.stringify(d)},e,i.location).then(m)}function P(e,t,a){var r,o=(r=t,r.replace(new RegExp(p+"*$"),""));return{virtual:!0,localTimeStamp:0,eTag:'"virtual"',name:o.split(p).pop(),length:0,directory:Boolean(a),location:o+(a?p:""),attributes:{readOnly:!1}}}return{getRoots:function(e){return{schemas:P(0,d,!0),public:P(0,u,!0),pages:P(0,u+"/"+n.PAGES_ROOT,!0),backend:P(0,c,!0)}},createFolder:function(e,t,a){return E(e,t,a,!0)},deleteItem:function(e,t){return r.isFileSystemItem(t)?h({type:a.requestTypes.DELETE,timeout:15e3},e,t.location):Promise.reject(new o.ArgumentError("location","fileSystemService.deleteItem",t))},copy:function(e,t,a,r){return C(e,"copy",t,a,r)},move:function(e,t,a,r){return C(e,"move",t,a,r)},getChildren:function(t,n){return r.isFolder(n)?h({type:a.requestTypes.GET},t,n.location,{depth:1}).then(function(t){return e.map(t.children||[],m)}):Promise.reject(new o.ArgumentError("parentFolder","fileSystemService.getChildren",n,"folder object"))},getMetadata:function(e,t){return r.isFileSystemItem(t)?h({type:a.requestTypes.GET},e,t.location,{parts:"meta"}).then(m):Promise.reject(new o.ArgumentError("fileSystemItem","fileSystemService.getMetadata",t,"file system object"))},readFile:function(e,t){return r.isFileSystemItem(t)?h({type:a.requestTypes.GET},e,t.location):Promise.reject(new o.ArgumentError("filePath","fileSystemService.readFile",t,"file object"))},writeFile:function(e,t,n){return r.isFileSystemItem(t)?y(n)||_(n)?"string"==typeof n?function(e,t,r){if(!y(r))return Promise.reject(new o.ArgumentError("content","fileSystemService.overrideFileContent",r,"string"));var n={"If-Match":t.eTag};return h({type:a.requestTypes.PUT,headers:n,contentType:l,log:!1,data:r},e,t.location).then(m)}(e,t,n):function(e,t,r){if(!_(r))return Promise.reject(new o.ArgumentError("partialChange","fileSystemService.patchFileContent",r,"partial change with diff object"));var n={"X-HTTP-Method-Override":"PATCH","If-Match":t.eTag};return h({type:a.requestTypes.POST,headers:n,contentType:l,log:!1,data:JSON.stringify(r)},e,t.location).then(m)}(e,t,n):Promise.reject(new o.ArgumentError("content","fileSystemService.writeFile",n,"string or partial-change object")):Promise.reject(new o.ArgumentError("filePath","fileSystemService.writeFile",t,"file object"))},getVirtualDescriptor:P,findByExtension:function(t,n,i){if(!r.isFolder(n))return Promise.reject(new o.ArgumentError("parentFolder","fileSystemService.findByExtension",n,"folder object"));if(e.isEmpty(i))return Promise.reject(new o.ArgumentError("extension","fileSystemService.findByExtension",i,"empty extension"));var s={extension:e.startsWith(i,".")?i:"."+i};return A({type:a.requestTypes.GET},t,n.location,s).then(function(t){return e.map(t.items||[],m)})}}}),define("documentServices/wixCode/utils/schemaUtils",["lodash","documentServices/wixCode/utils/systemFolders"],function(e,t){"use strict";function a(e){return"pagelink"===e.type&&"dataBinding"===e.plugin}var r="/";return{assembleSchema:function(t,r,o){var n=JSON.parse(t||"{}"),i=r?JSON.parse(r):n,s=o?JSON.parse(o):n,l=e.pickBy(s.fields,a);return JSON.stringify(e.assign({},i,{fields:function(t,r){var o=e.keys(r),n=e.assign({},t,r);return e.omitBy(n,function(t,r){return a(t)&&!e.includes(o,r)})}(i.fields,l)}))},isSchemaFile:function(a){return e.startsWith(a,t.SCHEMAS+"/")},isSchemasDirectory:function(e){return e===t.SCHEMAS+"/"},isValidContent:function(t){try{var a=JSON.parse(t);return e.isObject(a)}catch(e){return!1}},getSchemaIdFromFilePath:function(a){var r=RegExp("^"+e.escapeRegExp(t.SCHEMAS)+"/([^.]+)");return a.match(r)[1]},isDbDriverSchemaId:function(t){return e.includes(t,r)},getDbDriverIdFromSchemaId:function(t){return e.head(t.split(r))}}}),define("documentServices/wixCode/utils/undoRedo",["lodash","documentServices/wixCode/utils/schemaUtils","coreUtils"],function(e,t,a){"use strict";function r(e,t,a){return e.dal.isExist(t)?e.dal.get(t):a}return{isUndoableFile:function(e){return t.isSchemaFile(e)},assembleUndoableFile:function(a,r,o,n){if(e.isUndefined(r))throw new Error("Cannot read undoable file which has not been loaded ["+a+"]");if(t.isSchemaFile(a))return t.assembleSchema(r,o,n)},setUndoableContent:function(e,t,o){var n=e.pointers.wixCode.getFilePathId(t),i=r(e,n,null);null===i&&(s=t,i=a.guidUtils.getUniqueId(s,"-"),e.dal.set(n,i));var s,l=e.pointers.wixCode.getUndoableModifiedFileContent(i);e.dal.set(l,o)},getUndoableContent:function(e,t){var a=r(e,e.pointers.wixCode.getFilePathId(t),null);return null===a?null:r(e,e.pointers.wixCode.getUndoableModifiedFileContent(a),null)},getUndoableContentByPath:function(t,a){return e.mapValues(a,function(e){return t[e]})}}}),define("documentServices/wixCode/services/filesDAL",["lodash","documentServices/wixCode/utils/undoRedo","documentServices/wixCode/services/kibanaReporterWrapper","documentServices/wixCode/utils/constants"],function(e,t,a,r){"use strict";function o(e,t,a){return e.dal.isExist(t)?e.dal.get(t):a}function n(e,t){e.dal.isExist(t)&&e.dal.remove(t)}function i(t,r,o){if(e.isUndefined(o)){a.trace(t,{action:"filesDAL.loadFileContent",message:{filePath:r}})({message:new Error("about to set file content to undefined"),level:a.levels.ERROR})}var n=t.pointers.wixCode.getLoadedFileContent(r);t.dal.isExist(n)||t.dal.set(n,o)}function s(t,a){return e.some([t.pointers.wixCode.getLoadedFileContent(a),t.pointers.wixCode.getModifiedFileContent(a)],t.dal.isExist)}function l(t){return e.orderBy(t,["directory","name"],["desc","asc"])}function u(e,t){var a=e&&e.getIn(t);return a?a.toJS():null}function c(a,r,o){return e.mapValues(r,function(e,n){return t.isUndoableFile(n)?t.assembleUndoableFile(n,a[n],r[n],o[n]):r[n]})}function d(e){var a=u(e,r.paths.LOADED_FILE_CONTENTS),o=u(e,r.paths.MODIFIED_FILE_CONTENTS),n=u(e,r.paths.UNDOABLE_MODIFIED_FILE_CONTENTS),i=u(e,r.paths.FILE_PATH_TO_ID_MAP);return c(a,o,t.getUndoableContentByPath(n,i))}function p(t,a){return e.transform(a,function(e,a,r){a!==t[r]&&e.push({fileId:r,content:a})},[])}function g(t,a){return e.transform(a,function(e,r,o){if(!t[o]){for(var n=r;a[n];)n=a[n];e.push({destFileId:o,srcFileId:n})}},[])}return{writeFile:function(r,o,n){e.isUndefined(n)&&a.trace(r,{action:"filesDAL.writeFile",message:{filePath:o}})({message:new Error("about to set file content to undefined"),level:a.levels.ERROR});var i=r.pointers.wixCode.getModifiedFileContent(o);r.dal.set(i,n),t.isUndoableFile(o)&&t.setUndoableContent(r,o,n)},loadFileContent:i,readFile:function(a,r){if(t.isUndoableFile(r))return function(e,a){var r=o(e,e.pointers.wixCode.getLoadedFileContent(a),null),n=o(e,e.pointers.wixCode.getModifiedFileContent(a),null),i=t.getUndoableContent(e,a);return null===r&&null===n&&null===i?null:t.assembleUndoableFile(a,r,n,i)}(a,r);var n=e.find([a.pointers.wixCode.getModifiedFileContent(r),a.pointers.wixCode.getLoadedFileContent(r)],a.dal.isExist);return n?a.dal.get(n):null},getSourceFilePath:function(e,t){for(var a=e.pointers.wixCode.getDuplicatedFilesInfoMap(),r=e.dal.get(a);r[t];)t=r[t];return t},markFileForDuplication:function(e,t,a){var r=e.pointers.wixCode.getDuplicatedFilesInfoMap(),o=e.dal.get(r);o[a]=t,e.dal.set(r,o)},updateDuplicates:function t(a,r,o){var n=a.pointers.wixCode.getDuplicatedFilesInfoMap(),l=a.dal.get(n),u=e.transform(l,function(e,t,o){o!==r||s(a,t)?t!==r||s(a,o)||e.push(o):e.push(t)},[]);e.forEach(u,function(e){i(a,e,o)}),e.forEach(u,function(e){t(a,e,o)})},moveFile:function(t,a,r){if(s(t,r))throw new Error("target file ["+r+"] already exists");e.forEach([t.pointers.wixCode.getLoadedFileContent,t.pointers.wixCode.getModifiedFileContent,t.pointers.wixCode.getFilePathId],function(e){o=t,n=e(a),i=e(r),o.dal.isExist(n)&&(o.dal.set(i,o.dal.get(n)),o.dal.remove(n));var o,n,i})},deleteFile:function(e,t){n(e,e.pointers.wixCode.getLoadedFileContent(t)),n(e,e.pointers.wixCode.getModifiedFileContent(t)),n(e,e.pointers.wixCode.getFilePathId(t))},deleteFolder:function(t,a){e.forEach([t.pointers.wixCode.getLoadedFileContentMap(),t.pointers.wixCode.getModifiedFileContentMap(),t.pointers.wixCode.getFilePathToIdMap(),t.pointers.wixCode.getAreChildrenLoadedMap(),t.pointers.wixCode.getLoadedChildrenMap()],function(r){var o=t.dal.get(r),n=e(o).keys().filter(function(t){var a=t.replace(/\/*$/,"/");return function(t){return e.startsWith(t,a)}}(a)).value(),i=e.omit(o,n);t.dal.set(r,i)})},isFileReadable:function(a,r){return t.isUndoableFile(r)?a.dal.isExist(a.pointers.wixCode.getLoadedFileContent(r)):e.some([a.pointers.wixCode.getLoadedFileContent(r),a.pointers.wixCode.getModifiedFileContent(r)],a.dal.isExist)},isFileExists:s,addChild:function(t,a,r){var o=t.pointers.wixCode.getLoadedChildren(a),n=t.dal.get(o)||[];if(!e.find(n,{name:r.name,directory:r.directory})){var i=l((s=n,u=r,s.concat([u])));t.dal.set(o,i)}var s,u},removeChild:function(t,a,r){var o,n,i=t.pointers.wixCode.getLoadedChildren(a),s=t.dal.get(i)||[],l=(o=s,n=r,e.reject(o,{name:n.name,directory:n.directory}));t.dal.set(i,l)},hasKnownChild:function(t,a,r){var o=t.pointers.wixCode.getLoadedChildren(a),n=t.dal.get(o)||[];return!!e.find(n,{name:r.name,directory:r.directory})},isChildrenExists:function(e,t){return e.dal.isExist(e.pointers.wixCode.getLoadedChildren(t))},areChildrenLoaded:function(e,t){return!!e.dal.get(e.pointers.wixCode.getAreChildrenLoaded(t))},getChildren:function(e,t){var a=e.pointers.wixCode.getLoadedChildren(t);return a?e.dal.get(a):null},loadChildren:function(t,a,r){var o,n,i=t.pointers.wixCode.getLoadedChildren(a),s=t.dal.get(i)||[],u=l((o=s,n=r,e.unionBy(o,n,"name")));t.dal.set(i,u),t.dal.set(t.pointers.wixCode.getAreChildrenLoaded(a),!0)},getChangesBetweenSnapshots:function(e,t){var a=d(e),o=d(t),n=e&&e.getIn(r.paths.DUPLICATED_FILES_INFO)?e.getIn(r.paths.DUPLICATED_FILES_INFO).toJS():{},i=t.getIn(r.paths.DUPLICATED_FILES_INFO).toJS();return{toSave:p(a,o),toCopy:g(n,i)}},getChangesBetweenLastSnapshotAndCurrentStateTakenFromPS:function(e,a){var n=d(e),i=function(e){var a=o(e,e.pointers.wixCode.getLoadedFileContentMap(),{}),r=o(e,e.pointers.wixCode.getModifiedFileContentMap(),{}),n=o(e,e.pointers.wixCode.getUndoableModifiedFileContentMap(),{}),i=o(e,e.pointers.wixCode.getFilePathToIdMap(),{});return c(a,r,t.getUndoableContentByPath(n,i))}(a),s=e&&e.getIn(r.paths.DUPLICATED_FILES_INFO)?e.getIn(r.paths.DUPLICATED_FILES_INFO).toJS():{},l=a.dal.get(a.pointers.wixCode.getDuplicatedFilesInfoMap());return{toSave:p(n,i),toCopy:g(s,l)}},isChangesEmpty:function(t){return e.isEmpty(t.toSave)&&e.isEmpty(t.toCopy)}}}),define("documentServices/wixCode/utils/codeAppInfo",["documentServices/wixCode/services/wixCodeModelService","documentServices/wixCode/utils/clientSpecMapUtils","documentServices/wixCode/utils/errors","experiment"],function(e,t,a,r){"use strict";function o(e,t,r,o){if(!r)throw new a.ArgumentError(e,t,r,o)}function n(e){var t=e.baseUrl,a=e.appId,r=e.signedInstance,n=e.instanceId,i=e.scari;return o("baseUrl","createCodeAppInfo",t,"string"),o("appId","createCodeAppInfo",a,"string"),o("signedInstance","createCodeAppInfo",r,"string"),o("instanceId","createCodeAppInfo",n,"string"),o("scari","createCodeAppInfo",i,"string"),{baseUrl:t,signedInstance:r,instanceId:n,appId:a,scari:i}}return{createCodeAppInfo:n,getCodeAppInfoFromPS:function(a){var o=t.getExistingWixCodeAppFromPS(a),i=e.getGridAppId(a),s=e.getScari(a),l=a.dal.get(a.pointers.general.getServiceTopology());return n({baseUrl:r.isOpen("sv_wixCodeNewDomain")?"https://code.wix.com/wix-code-ide-server":l.wixCloudEditorBaseUrl,appId:i,signedInstance:o.instance,instanceId:o.instanceId,scari:s})}}}),define("documentServices/wixCode/services/wixDataSchemas",["utils","elementory-browser-support","wix-data-schemas-creator","experiment"],function(e,t,a,r){"use strict";var o=function(e){return n(e),a.default(t)},n=function(a){var o=a.signedInstance,n=a.scari,i=a.instanceId;t.baseUrl=r.isOpen("sv_wixCodeNewDomain")?"//"+i+".dev.wix-code.com/preview":"/_api/wix-code-dev-dispatcher/preview",t.queryParameters=e.urlUtils.toQueryString({instance:o,scari:n}),t.options={headers:{"X-XSRF-TOKEN":e.cookieUtils.getCookie("XSRF-TOKEN")}}};return{list:function(e){return o(e).list()},get:function(e,t){return o(e).get(t)},save:function(e,t,a){return o(e).save(t,a)},remove:function(e,t){return o(e).remove(t)}}}),define("documentServices/wixCode/saveTasks/saveCode",["lodash","documentServices/wixCode/services/fileSystemService","wixCode","documentServices/wixCode/utils/codeAppInfo","documentServices/wixCode/utils/traceUtils","documentServices/wixCode/utils/constants","documentServices/wixCode/utils/schemaUtils","documentServices/wixCode/services/filesDAL","documentServices/wixCode/services/wixDataSchemas","documentServices/wixCode/services/userCodeCacheKillerService","experiment"],function(e,t,a,r,o,n,i,s,l,u,c){"use strict";var d=a.wixCodeUserScriptsService;function p(e){return e.getIn(["rendererModel","clientSpecMap"]).toJS()}function g(g,f,m,y){var _=p(f);if(a.wixCodeWidgetService.hasWixCodeWidgetSpecs(_)){var v=a.log.trace(o.getParams(f,"saveCode"),o.getBaseUrl(f));Promise.resolve().then(function(){return function(o,u){var d=p(u),g=s.getChangesBetweenSnapshots(o,u);if(s.isChangesEmpty(g))return Promise.resolve({message:"no changes"});var f=g.toSave.map(function(e){var t=e.fileId;return t}),m={filesToSave:JSON.stringify(f),filesToCopy:JSON.stringify(g.toCopy)};try{var y=u.getIn(n.paths.IS_APP_READ_ONLY);if(y){throw new Error("Wix Code App is not writeable")}var _=a.wixCodeWidgetService.getWixCodeSpec(d),v=function(e,t){var a=(s=e,c.isOpen("sv_wixCodeNewDomain")?"https://code.wix.com/wix-code-ide-server":s.getIn(["serviceTopology","wixCloudEditorBaseUrl"])),o=e.getIn(n.paths.GRID_APP_ID),i=e.getIn(n.paths.SCARI);var s;return r.createCodeAppInfo({baseUrl:a,appId:o,signedInstance:t.instance,instanceId:t.instanceId,scari:i})}(u,_),S=(C=v,P=g.toSave,e.map(P,function(e){return function(e,a,r){if(c.isOpen("sv_dsUseWixDataSchemas")&&i.isSchemaFile(a))return l.save(e,i.getSchemaIdFromFilePath(a),JSON.parse(r));var o=t.getVirtualDescriptor(e,a,!1);return t.writeFile(e,o,r)}(C,e.fileId,e.content)})),O=(A=v,E=g.toCopy,e.map(E,function(e){return function(e,a,r){var o=t.getVirtualDescriptor(e,a,!1),n=r.lastIndexOf("/"),i=r.substr(0,n),s=t.getVirtualDescriptor(e,i,!0),l=r.substr(n+1);return t.copy(e,o,s,l)}(A,e.srcFileId,e.destFileId)})),h=S.concat(O);return Promise.all(h).then(e.constant({message:"changes saved",params:m,savedPaths:f})).catch(function(e){throw{error:e,params:m}})}catch(e){return Promise.reject({error:e,params:m})}var A,E;var C,P}(g,f)}).then(function(t){var a=t.message,r=t.params,o=t.savedPaths;v({message:a,params:r}),m(function(t){var a=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).filter(function(e){return d.filePathAffectsBundles(e)});if(e.isEmpty(a))return;if(e.every(a,function(e){return d.filePathAffectsSingleBundle(e)}))return function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).reduce(function(t,a){var r=d.bundleIdFromFilePath(a),o=d.paths.CACHE_KILLERS_MAP.concat(r),n=e.getIn(o);return t[o.join(".")]=u.getNewCacheKillerValue(n),t},{})}(t,a);return function(e){var t={},a=e.getIn(d.paths.GLOBAL_CACHE_KILLER);return t[d.paths.GLOBAL_CACHE_KILLER.join(".")]=u.getNewCacheKillerValue(a),t[d.paths.CACHE_KILLERS_MAP.join(".")]={},t}(t)}(f,o))},function(t){t&&t.error&&t.params?(v({level:a.log.levels.ERROR,message:t.error,params:t.params}),y(t.error)):(t=e.isError(t)?t:new Error(t),v({level:a.log.levels.ERROR,message:t}),y(t))})}else m()}return{partialSave:g,fullSave:g,firstSave:g,saveAsTemplate:g,autosave:function(e,t,a){a()},publish:function(e,t){t()},getTaskName:function(){return"saveCode"},getSnapshotTags:function(e){switch(e){case"autosave":return["autosave"];default:return["primary"]}}}}),define("documentServices/wixCode/services/appSaveState",[],function(){"use strict";var e=null,t=!1;return{getState:function(){return e},setState:function(t){e=t},getAnotherSaveRequested:function(){return t},setAnotherSaveRequested:function(e){t=e}}}),define("documentServices/wixCode/services/saveService",["lodash","documentServices/wixCode/utils/runSaveTask","documentServices/wixCode/saveTasks/saveCode","documentServices/wixCode/services/appSaveState","coreUtils"],function(e,t,a,r,o){"use strict";var n=function(){try{r.setState(null),r.setAnotherSaveRequested(!1)}catch(e){o.log.error(e)}};return{save:function(e,o){return function(e,o){var i=r.getState();return i?(r.setAnotherSaveRequested(!0),i):((i=new Promise(function(n,i){t(e,a,o,s,l);function s(){r.getAnotherSaveRequested()?(r.setAnotherSaveRequested(!1),t(e,a,o,s,l)):n()}function l(n){r.getAnotherSaveRequested()?(r.setAnotherSaveRequested(!1),t(e,a,o,s,l)):i(n)}})).then(n,n),r.setState(i),i)}(e,o)}}}),define("documentServices/wixCode/services/fileSystemAPI",["lodash","utils","documentServices/hooks/hooks","documentServices/wixCode/services/wixCodeLifecycleService","documentServices/wixCode/services/fileSystemService","documentServices/wixCode/services/filesDAL","documentServices/wixCode/services/userCodeCacheKillerService","documentServices/wixCode/services/wixCodeModelService","documentServices/wixCode/services/saveService","documentServices/wixCode/utils/fileDescriptorUtils","documentServices/wixCode/utils/errors","documentServices/wixCode/utils/codeAppInfo","documentServices/wixCode/utils/undoRedo","documentServices/wixCode/utils/schemaUtils","documentServices/wixCode/utils/systemFolders","documentServices/platform/platform","documentServices/constants/constants","documentServices/wixCode/utils/constants","documentServices/wixCode/services/kibanaReporterWrapper","documentServices/wixCode/services/wixDataSchemas","experiment"],function(e,t,a,r,o,n,i,s,l,u,c,d,p,g,f,m,y,_,v,S,O){"use strict";var h=d.getCodeAppInfoFromPS;function A(e,t){if(u.isPageFile(t)){var a=u.getFileName(t).replace(".js",""),r=e.pointers.components.getPage(a,y.VIEW_MODES.DESKTOP);r&&m.updatePagePlatformApp(e,r,_.WIX_CODE_APP_ID,!0)}}function E(e,t){return I(e,u.getParentFolderPath(t),!0)}function C(e,t){var a=E(e,t);n.addChild(e,a.location,t)}function P(e,t){var a=E(e,t);n.removeChild(e,a.location,t)}function R(t,a){if(!u.isFile(a))return Promise.reject(new c.ArgumentError("fileDescriptor","filesAPI.readFile",a.location));var r=v.trace(t,{action:"DSFS.readFile",message:{file:a.location}});if(n.isFileReadable(t,a.location))return r({message:"read file from cache"}),Promise.resolve(n.readFile(t,a.location));var i=n.getSourceFilePath(t,a.location),s=o.getVirtualDescriptor(h(t),i,!1),l=O.isOpen("sv_dsUseWixDataSchemas")&&g.isSchemaFile(a.location);return(l?S.get(h(t),g.getSchemaIdFromFilePath(a.location)).then(function(e){return JSON.stringify(e)}):o.readFile(h(t),s)).catch(function(r){var o,i,s;return(l?(s=r,"WD_SCHEMA_DOES_NOT_EXIST"===s.code||(i=r,"WD_COLLECTION_DELETED"===i.code)):(o=r,404===e.get(o,"xhr.status")))&&n.isFileExists(t,a.location)?null:Promise.reject(r)}).then(function(e){return n.loadFileContent(t,a.location,e),n.updateDuplicates(t,a.location,e),r({message:"read file from server"}),n.readFile(t,a.location)},function(e){throw r({message:e,level:v.levels.ERROR}),e})}function I(e,t,a){return o.getVirtualDescriptor(h(e),t,a)}function D(t){var a=v.trace(t,{action:"DSFS.flush"});return r.waitForPendingClone(t).then(e.partial(l.save,t)).then(function(){var a=e.invoke(t,"siteAPI.getSiteAspect","WidgetAspect");e.invoke(a,"loadAllContextsUserCode")}).then(function(e){return a(),e},function(e){throw a({message:e,level:v.levels.ERROR}),e})}a.registerHook(a.HOOKS.ADD_TPA.AFTER,function(e){if(O.isOpen("sv_dsUseWixDataSchemas")){t=e,n.deleteFolder(t,f.SCHEMAS);b(e).forEach(function(e){e()})}var t});function T(e,t){var a=b(e),r=a.indexOf(t);-1!==r&&a.splice(r,1)}var w=new t.SiteDataPrivates;function b(e){var t=e.siteDataAPI.siteData;return w.has(t)||w.set(t,[]),w.get(t)}return{copyFile:function(e,t,a,i){if(!u.isFile(t))return Promise.reject(new c.ArgumentError("fileDescriptor","filesAPI.copyFile",t.location));if(!u.isFolder(a))return Promise.reject(new c.ArgumentError("targetFolderDescriptor","filesAPI.copyFile",a.location));var s=a.location+i,l=o.getVirtualDescriptor(h(e),s,!1);if(A(e,l),n.isFileExists(e,t.location)){var d=n.readFile(e,t.location);n.writeFile(e,s,d)}else n.markFileForDuplication(e,t.location,s);return C(e,l),r.ensureAppIsWriteable(e)},writeFile:function(e,t,a){var o=a||"";if(!u.isFile(t))return Promise.reject(new c.ArgumentError("fileDescriptor","filesAPI.writeFile",t.location));if(g.isSchemaFile(t.location)&&!g.isValidContent(o))return Promise.reject(new Error("Invalid file content"));var i=E(e,t);if(!function(e,t){if(u.isSystemFolder(t))return!0;if(n.isChildrenExists(e,t.location))return!0;var a=E(e,t);return!!n.hasKnownChild(e,a.location,t)}(e,i))return Promise.reject(new Error("cannot write to unknown folder: "+i.location));A(e,t);var s=n.isFileExists(e,t.location);return n.writeFile(e,t.location,o),C(e,t),r.ensureAppIsWriteable(e).then(function(){return s?t:p.isUndoableFile(t.location)?R(e,t).then(function(){return t}):t})},readFile:R,move:function(t,a,s,l){if(!u.isFile(a))return Promise.reject(new c.ArgumentError("fileDescriptor","filesAPI.moveFile",a.location));if(!u.isInsideFolder(s,a))return Promise.reject(new c.FileSystemError("Cannot move files between folders"));if(u.isPageFile(a))return Promise.reject(new c.FileSystemError("Cannot move page files"));var d=v.trace(t,{action:"DSFS.moveFile",message:{file:a.location,newName:l}});return i.notifyItemModified(t,a),r.ensureAppIsWriteable(t).then(e.partial(D,t)).then(function(){return o.move(h(t),a,s,l)}).then(function(e){return n.moveFile(t,a.location,e.location),C(t,e),P(t,a),d({message:{newFile:e.location}}),e},function(e){throw d({message:e,level:v.levels.ERROR}),e})},deleteItem:function(t,a){if(u.isPageFile(a))return Promise.reject(new c.FileSystemError("Cannot delete page files"));if(u.isSystemFolder(a))return Promise.reject(new c.FileSystemError("Cannot delete system folders"));var s=v.trace(t,{action:"DSFS.deleteItem",message:{item:a.location}});return i.notifyItemModified(t,a),r.ensureAppIsWriteable(t).then(e.partial(D,t)).then(function(){return O.isOpen("sv_dsUseWixDataSchemas")&&g.isSchemaFile(a.location)?S.remove(h(t),g.getSchemaIdFromFilePath(a.location)):o.deleteItem(h(t),a)}).then(function(e){return u.isFolder(a)?n.deleteFolder(t,a.location):n.deleteFile(t,a.location),P(t,a),s({message:e}),e},function(e){throw s({message:e,level:v.levels.ERROR}),e})},createFolder:function(e,t,a){var n=v.trace(e,{action:"DSFS.createFolder",message:{name:t,parent:a.location}});return r.ensureAppIsWriteable(e).then(function(){return o.createFolder(h(e),t,a)}).then(function(t){return C(e,t),n({message:{newFolder:t.location}}),t},function(e){throw n({message:e,level:v.levels.ERROR}),e})},getChildren:function(t,a){var r=v.trace(t,{action:"DSFS.getChildren",message:{parent:a.location}});return(n.areChildrenLoaded(t,a.location)?Promise.resolve({didExistInCache:!0}):(O.isOpen("sv_dsUseWixDataSchemas")&&g.isSchemasDirectory(a.location)?S.list(h(t)).then(function(r){var o=a.location;e(r).groupBy(function(t){var a=e.findKey(r,t);return g.isDbDriverSchemaId(a)?o+g.getDbDriverIdFromSchemaId(a)+"/":o}).tap(function(a){e.forEach(a,function(a,r){e.forEach(a,function(e){n.loadFileContent(t,i(e,r),JSON.stringify(e))})})}).mapValues(function(a,r){return e.map(a,function(e){return I(t,i(e,r),!1)})}).tap(function(a){var r=e(a).keys().without(o).map(function(e){return I(t,e,!0)}).value();a[o]=e.get(a,o,[]).concat(r)}).forEach(function(e,a){n.loadChildren(t,a,e)});function i(e,t){return t+e.displayName+".json"}}):o.getChildren(h(t),a).then(function(e){n.loadChildren(t,a.location,e)})).then(function(){return{didExistInCache:!1}})).then(function(e){return{children:n.getChildren(t,a.location),didExistInCache:e.didExistInCache}}).then(function(t){var a=t.didExistInCache?"read from cache":"read from server";return r({message:{message:a,first10Children:e.take(t.children,10)}}),t.children},function(e){throw r({message:e,level:v.levels.ERROR}),e})},findByExtension:function(t,a,r){var n=v.trace(t,{action:"DSFS.findByExtension",message:{parent:a.location,extension:r}});return o.findByExtension(h(t),a,r).then(function(t){return n({message:{first10Results:e.take(t,10)}}),t},function(e){throw n({message:e,level:v.levels.ERROR}),e})},flush:D,getRoots:function(e){return o.getRoots(h(e))},getViewerInfo:function(e){return{scari:s.getScari(e)}},getVirtualDescriptor:I,subscribeToSchemasInvalidation:function(t,a){return b(t).push(a),e.once(e.partial(T,t,a))}}}),define("documentServices/wixCode/services/pagesAPI",["documentServices/platform/platform","documentServices/wixCode/services/fileSystemAPI","documentServices/wixCode/utils/constants"],function(e,t,a){"use strict";return{hasCode:function(t,r){return e.pageHasPlatformApp(t,r,a.WIX_CODE_APP_ID)},readCode:function(e,r){var o,n,i=(o=e,n=r,""+t.getRoots(o).pages.location+n+a.JS_EXTENSION),s=t.getVirtualDescriptor(e,i,!1);return t.readFile(e,s)}}}),define("documentServices/wixCode/services/pageCodeDuplicator",["documentServices/platform/platform","documentServices/constants/constants","documentServices/wixCode/services/fileSystemAPI","documentServices/wixCode/utils/constants"],function(e,t,a,r){"use strict";return{duplicatePageCode:function(t,o,n){if(!e.pageHasPlatformApp(t,n,r.WIX_CODE_APP_ID))return Promise.resolve();var i,s=function(e,t){var r="public/pages/"+t+".js";return a.getVirtualDescriptor(e,r,!1)}(t,n),l=(i=t,a.getVirtualDescriptor(i,"public/pages",!0)),u=o+".js";return a.copyFile(t,s,l,u)}}}),define("documentServices/wixCode/utils/tpaConfigurationUtils",["lodash"],function(e){"use strict";return{getWidgetDisplayName:function(t,a){if(!t||!t.api)return null;var r=t.api,o=e.assign({},e.assign.apply(e,[{}].concat(r)));return e.has(o,a)?e.get(o[a],"widgetDisplayName")||a:null}}}),define("documentServices/wixCode/wixCode",["lodash","documentServices/hooks/hooks","documentServices/wixCode/utils/pathUtils","documentServices/wixCode/utils/fileDescriptorUtils","documentServices/wixCode/services/wixCodeLifecycleService","documentServices/wixCode/services/userCodeCacheKillerService","documentServices/wixCode/services/kibanaReporterWrapper","documentServices/wixCode/services/fileSystemAPI","documentServices/wixCode/services/pagesAPI","documentServices/wixCode/services/pageCodeDuplicator","documentServices/platform/platform","documentServices/dataModel/dataModel","documentServices/tpa/constants","utils","documentServices/wixCode/utils/constants","documentServices/siteMetadata/clientSpecMap","documentServices/bi/bi","documentServices/bi/events.json","widgets","wixCode","platformUtils","documentServices/wixCode/utils/tpaConfigurationUtils","js-platform-apps-configuration-editor","documentServices/componentsMetaData/components/tpaSectionMetaData","documentServices/wixCode/utils/clientSpecMapUtils","documentServices/wixCode/services/wixCodeModelService"],function(e,t,a,r,o,n,i,s,l,u,c,d,p,g,f,m,y,_,v,S,O,h,A,E,C,P){"use strict";var R=g.urlUtils.joinURL;function I(e){var t=e.siteAPI.getSiteAspect("wixCodeWidgetAspect");t.destroyAppsContainer(),t.initApp()}function D(e){c.initApp(e,w(e,"dbsm-viewer-app","dbsm-editor-app","dataBinding"))}function T(e){c.initApp(e,w(e,"","wix-code-editor-app","wix-code"))}function w(t,a,r,n){function i(t){return e(t||"").split(",").invokeMap("split",":").fromPairs().value()}function s(e,t,a){var r=R(e.scriptsDomainUrl,"services",t);return a?R(r,a):e.scriptsLocationMap[t]}if(o.isProvisioned(t)){var l=t.pointers.general.getServiceTopology(),u=t.dal.get(l),c=i(t.dal.getByPath(["currentUrl","query","viewerPlatformAppSources"]))[n],d=i(t.dal.getByPath(["currentUrl","query","editorPlatformAppSources"]))[n],p={appDefinitionId:n};return a&&e.set(p,"appFields.platform.viewerScriptUrl",R(s(u,a,c),"/app.js")),r&&(e.set(p,"appFields.platform.editorScriptUrl",R(s(u,r,d),"/editorAppModule.js")),p.editorArtifact=r),p}}t.registerHook(t.HOOKS.PLATFORM.APP_PROVISIONED,I);return{initializeWixCode:function(t){a.initPaths(t),n.init(t),o.isProvisioned(t)&&(D(t),T(t));var r=t.pointers.wixCode.getIsAppReadOnly();t.dal.set(r,!0),function(t){var a=e(t).thru(m.getAppsData).filter("platformApp").map("displayName").value();e.isEmpty(a)||y.event(t,_.EDITOR_PLATFORM_APPS_LOADED,{app_list:a,number_of_apps:a.length})}(t)},provision:function(t,a){var r=i.trace(t,{action:"provision"});a=e.defaults({},a,{onSuccess:e.noop,onError:e.noop}),o.provision(t).then(function(e){return I(t),D(t),T(t),e}).then(function(e){t.setOperationsQueue.asyncPreDataManipulationComplete(),r({message:e}),a.onSuccess(e)}).catch(function(e){t.setOperationsQueue.asyncPreDataManipulationComplete(null,new Error("Wix Code provision failed: "+e)),r({level:S.log.levels.ERROR,message:e}),a.onError(e)})},isProvisioned:o.isProvisioned,getClientSpec:function(t){return e.head(m.filterAppsDataByType(t,f.WIX_CODE_SPEC_TYPE))},generateRemoteModelInterface:function(t,a,r){if(!e(t.pointers.page.getNonDeletedPagesPointers(!1)).map("id").includes(a))throw new Error("contextId - "+a+" is invalid");var o=t.siteDataAPI.siteData,n=t.siteDataAPI.document,i=n.getFullAndDisplayedOnlyCompsUnderRoot.bind(n),s=v.modelBuilderDataHelper.getApi(o);return v.modelBuilder.build(t.siteAPI.getRuntimeDal(),s,[a],r,i)[a]},getWidgetRef:function(e,t){var a=e.pointers.components,r=a.getPageOfComponent(t);return r?a.isMasterPage(r)?function(e,t){var a=e.siteAPI.getCurrentUrlPageId(),r=g.constants.VIEW_MODES,o=e.siteAPI.isMobileView()?r.MOBILE:r.DESKTOP;return t.getPage(a,o)}(e,a):r:null},duplicatePageCode:function(e,t,a){o.isProvisioned(e)&&u.duplicatePageCode(e,t,a)},getCompSdkType:function(t,a){var r=t.dal.get(t.pointers.getInnerPointer(a,"componentType")),o=d.getDataItemPointer(t,a),n=o&&t.dal.get(o),i=e.get(E.getWidgetData(t,n),"widgetId")||null,s=h.getWidgetDisplayName(A,i);return s||O.typeUtils.getFullSdkType(r,i)},log:{levels:i.levels,trace:i.trace},fileSystem:s,pages:l,userScripts:{isUserCodeUrl:function(e,t){var a=C.getExistingWixCodeAppFromPS(e),r=e.siteDataAPI.siteData;return S.wixCodeUserScriptsService.isUserCodeUrl(t,a,r)},getSourceMapUrl:function(e,t){var a=P.getScari(e),r=C.getExistingWixCodeAppFromPS(e),o=e.siteDataAPI.siteData;return S.wixCodeUserScriptsService.getSourceMapUrl(t,a,r,o)}}}}),define("documentServices/menu/menuUtils",["lodash","utils","documentServices/dataModel/dataModel","documentServices/routers/routersGetters"],function(e,t,a,r){"use strict";function o(e){return e.replace("#","")}function n(t,a){return e.every(a,function(a,r){var o=t[r];return e.isObject(o)?e.isEqual(a,"#"+o.id):e.isEqual(a,o)})}function i(e,t){var a=s(e,t),r=e.pointers.getInnerPointer(a,"link");return e.dal.get(r)}function s(e,t){return t=o(t),e.pointers.data.getDataItem(t,"masterPage")}return{getIndexOfItemInParent:function(e,t,a){var r=s(e,t),o=e.dal.get(e.pointers.getInnerPointer(r,"items")).indexOf("#"+a);if(o<0)throw new Error("Cannot find item #"+a+" at parent #"+t);return o},getItemIdAndParent:function e(t,a){for(var r=void 0,i=void 0,s=t.items,l=0;l<s.length;l++){if((r=s[l]).link&&n(r.link,a))return{parentId:t.id?o(t.id):null,itemId:r.id?o(r.id):null};if(i=e(r,a))return i}return null},getLinkItemByMenuItemId:function(e,t){var a=i(e,t);if(!a)return null;var r=s(e,a);return e.dal.get(r)},getLinkIdByMenuItemId:i,getParentItemId:function e(t,a){var r=t.items,o=void 0,n=void 0;for(o=0;o<r.length;o++){if((n=r[o]).id===a)return t.id;var i=e(n,a);if(i)return i}return null},getSiteMenu:function(e){var o={getDataByQuery:function(t,r){return a.getDataItemById(e,t,r)},getRouters:function(){return r.get.all(e)}};return t.menuUtils.getSiteMenuWithoutRenderedLinks(o,!0)},sanitizeHash:o,validateParent:function(t,a,r,n){if(a=a?o(a):"CUSTOM_MAIN_MENU",(r=r&&o(r))&&r===a)throw new Error("menu item "+r+" cannot be a parent for itself");var i=s(t,a);if(!t.dal.isExist(i))throw new Error('Parent "'+a+'" does not exist');var l=t.dal.get(t.pointers.getInnerPointer(i,"type"));if("BasicMenuItem"!==l&&"CustomMenu"!==l)throw new Error('Parent of type "'+l+'" is not a legal parent. Please provide parent of types "BasicMenuItem" or "CustomMenu" only');if(function(t,a,r){if(function(e,t){var a=e.pointers.getInnerPointer(e.pointers.data.getDataItem(t,"masterPage"),"type");return"CustomMenu"===e.dal.get(a)}(t,a))return!1;r=r||"CUSTOM_MAIN_MENU";var o=t.dal.get(s(t,r));return!e.includes(o.items,"#"+a)}(t,a,n))throw new Error("Cannot add/move items into a sub item");if(r){var u=s(t,r),c=t.pointers.getInnerPointer(u,"items"),d=t.dal.get(c);if(d&&d.length>0&&!e.includes(["CUSTOM_MAIN_MENU",n],a))throw new Error("Cannot move item with sub items (#"+r+") to anything other than  #CUSTOM_MAIN_MENU")}},getMenuDataItemPointer:s}}),define("documentServices/menu/basicMenuItemMethods",["lodash","documentServices/constants/constants","documentServices/dataModel/dataModel","documentServices/menu/menuUtils","documentServices/page/popupUtils"],function(e,t,a,r,o){"use strict";function n(t,o,n){var i=r.getMenuDataItemPointer(t,o),s=t.dal.get(i);if(!s)throw new Error('Cannot update item with "'+o+'", it does not exist');a.setDataItemByPointer(t,i,e.assign(s,n),"data")}function i(e,t){var a=t.pageId&&t.pageId.replace("#","");return"PageLink"===t.type&&!o.isPopup(e,a)}function s(e,a){var o=r.getLinkIdByMenuItemId(e,a);if(!o)return t.MENU_ITEM_TYPES.HEADER;var n=r.getMenuDataItemPointer(e,o);return"PageLink"===e.dal.get(e.pointers.getInnerPointer(n,"type"))?t.MENU_ITEM_TYPES.PAGE:t.MENU_ITEM_TYPES.LINK}return{setItemVisibility:function(e,t,a,r){n(e,t,{isVisible:!a,isVisibleMobile:!r})},isItemRemovable:function(e,a){return s(e,a)!==t.MENU_ITEM_TYPES.PAGE},setItemLabel:function(e,t,a){n(e,t,{label:a})},getItemType:s,updateLinkItem:function(t,o,n){if(i(t,n))throw new Error('Explicitly setting a LinkItem of type "PageLink" is not allowed');var s=r.getLinkIdByMenuItemId(t,o);if(!s)throw new Error('Cannot update item with "'+o+'", link does not exist');var l=r.getMenuDataItemPointer(t,s),u=a.generateNewDataItemId();a.setDataItemByPointer(t,l,e.assign(n,{id:u}),"data")},isPageLink:i}}),define("documentServices/tpa/services/sectionsTranslatedPageTitlesCache",["lodash"],function(e){"use strict";var t=[];return{init:function(e){t=e},getTitle:function(a,r){var o=e.find(t,{appDefinitionId:a});if(o){var n=e.find(o.widgets,{widgetId:r});return e.get(n,"title","")}return""}}}),define("documentServices/tpa/compStructure",["lodash","tpa","documentServices/tpa/constants","documentServices/page/page","documentServices/page/pageData","documentServices/page/blankPageStructure","documentServices/tpa/services/clientSpecMapService"],function(e,t,a,r,o,n,i){"use strict";var s=function(t,a,r,o,n,i,s,u,c){var d=a.applicationId;s=s||{};var p={componentType:"mobile.core.components.Page",type:"Page",styleId:"p2",skin:"skins.core.InlineSkin",layout:{x:0,y:0,width:980,height:500,anchors:[]},data:{type:"Page",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},hideTitle:!0,icon:"",descriptionSEO:"",metaKeywordsSEO:"",pageTitleSEO:"",pageUriSEO:u,hidePage:e.isBoolean(n)?n:void 0,mobileHidePage:null,underConstruction:!1,tpaApplicationId:d,indexable:!e.isBoolean(i)||i,tpaPageId:o,pageBackgrounds:l(t,a),isLandingPage:!!e.isBoolean(s.desktop)&&s.desktop,isMobileLandingPage:!!e.isBoolean(s.mobile)&&s.mobile},components:[]};return c&&(p.data.pageSecurity={requireLogin:!0,dialogLanguage:"en"}),p},l=function(t,a){return e.get(a,"appPage.hideFromMenu")?n.getBlankBackground():e.get(o.getPageDataWithoutIds(t,t.siteAPI.getPrimaryPageId()),"pageBackgrounds")};return{getSectionStructure:s,getWidgetStructure:function(e,t,r,o){return{layout:{width:r&&r.width,height:r&&r.height,x:r&&r.x,y:r&&r.y,anchors:[]},data:{widgetId:t,applicationId:e.toString(),type:a.DATA_TYPE.TPA_WIDGET,metaData:{isHidden:!1,isPreset:!0,schemaVersion:"1.0"}},type:"Component",skin:a.SKINS.TPA_WIDGET,componentType:a.COMP_TYPES.TPA_WIDGET,style:o||a.STYLE.TPA_WIDGET}},getGluedWidgetStructure:function(e,t,r,o){return{layout:{width:r&&r.width||300,height:r&&r.height||200,x:r&&r.x||300,y:r&&r.y||120,anchors:[],fixedPosition:!0},data:{widgetId:t.widgetId,applicationId:e.toString(),type:a.DATA_TYPE.TPA_WIDGET,metaData:{isHidden:!1,isPreset:!0,schemaVersion:"1.0"}},type:"Component",skin:a.SKINS.TPA_WIDGET,componentType:a.COMP_TYPES.TPA_GLUED_WIDGET,style:o||a.STYLE.TPA_GLUED_WIDGET,props:{placement:t.gluedOptions.placement,verticalMargin:t.gluedOptions.verticalMargin,horizontalMargin:t.gluedOptions.horizontalMargin,type:"TPAGluedProperties",metaData:{schemaVersion:"1.0"}}}},getSubSectionStructure:function(e,t,a,r,o,n){var l={desktop:t.appPage.fullPage,mobile:t.appPage.landingPageInMobile},u=i.computeHidePage(t,n,!0),c=s(e,t,0,t.appPage.id,u,t.appPage.indexable,l,r,o);return c.data.title=t.appPage.name,c},getMultiSectionStructure:function(e,a,r,o,n,l){var u={desktop:a.appPage.fullPage,mobile:a.appPage.landingPageInMobile},c=a.appPage.id+t.common.utils.Constants.MULTI_SECTION_DELIMITER+r,d=i.computeHidePage(a,l,!1);return s(e,a,0,c,d,a.appPage.indexable,u,o,n)}}}),define("documentServices/tpa/services/tpaComponentCommonService",["lodash","utils","documentServices/page/page","documentServices/page/pageData","documentServices/component/component","documentServices/structure/structure","documentServices/actionsAndBehaviors/actionsAndBehaviors","documentServices/documentMode/documentModeInfo","documentServices/tpa/services/clientSpecMapService","documentServices/tpa/services/installedTpaAppsOnSiteService","documentServices/tpa/services/sectionsTranslatedPageTitlesCache","documentServices/tpa/compStructure","documentServices/tpa/constants","documentServices/platform/platform"],function(e,t,a,r,o,n,i,s,l,u,c,d,p,g){"use strict";var f=function(e,t){return r.getValidPageUriSEO(e,"",t.replace(/[^A-Za-z0-9-]/g,"-").toLowerCase()||"blank")},m=function(t,a){t&&e.get(a,"componentOptions.page.pageId")===t&&(a.title=a.componentOptions.page.title||a.title,a.requireLogin=e.isUndefined(a.componentOptions.page.requireLogin)?a.requireLogin:a.componentOptions.page.requireLogin,a.styleId=a.componentOptions.styleId||a.styleId,a.layout=a.componentOptions.layout||a.layout,a.isHidden=e.isUndefined(a.componentOptions.page.isHidden)?a.isHidden:a.componentOptions.page.isHidden)},y=function(r,o,n,i,s){s=s||{},m(n.appPage.id,s);var l=s.title||c.getTitle(i.appDefinitionId,n.widgetId)||n.appPage.name,u=p.TYPE.TPA_MULTI_SECTION+"_"+t.guidUtils.getUniqueId();e.assign(n,{applicationId:i.applicationId});var g=f(r,s.title||n.appPage.name);n.name=l;var y=d.getSubSectionStructure(r,n,u,g,s.requireLogin,s.isHidden);return o=o||a.getPageIdToAdd(r,l,y),_(r,o,u,i.applicationId,n,y,n.widgetId,p.COMP_TYPES.TPA_MULTI_SECTION,p.DATA_TYPE.TPA_MULTI_SECTION,s),u},_=function(t,r,n,i,s,l,u,c,d,g){g=g||{};var f,m=t.pointers.components.getViewMode(r),y=t.pointers.components.getUnattached(n,m),_={componentType:c,type:"Component",id:y.id,style:g.styleId||p.STYLE.TPA_SECTION,skin:p.SKINS.TPA_SECTION,layout:(f=g.layout,{x:(f=f||{}).x||0,y:f.y||0,width:f.width||980,height:f.height||500}),data:{type:d,applicationId:""+i,metaData:{isPreset:!0,schemaVersion:"1.0",isHidden:!1},widgetId:u}};if(e.get(s,"appPage.fullPage")){e.assign(_.layout,{fixedPosition:!0,docked:{top:{px:0},right:{px:0},bottom:{px:0},left:{px:0}}})}else s.canBeStretched&&s.shouldBeStretchedByDefault&&e.assign(_.layout,{docked:{left:{vw:0},right:{vw:0}}});a.add(t,r,s.name,l),o.add(t,y,r,_)},v=function(t,a){var r=i.getBehaviors(t,a),o=e.find(r,{behavior:{name:"prefetchPages"}});o&&i.removeComponentSingleBehavior(t,a,o,o.action.name)};return{addSubSection:y,addHiddenPages:function(t,a,r){var o=l.getAppSectionsToInstall(t,a.applicationId);e.forEach(o,function(e){e.appPage.hidden&&e.appPage.id&&y(t,null,e,a,{componentOptions:r})})},addPageAndSection:_,getPageUriSEO:f,setPrefetchPageBehaviorIfNeeded:function(t,a,r){var o=l.getSectionsWidgetIdsToPreFetch(r);if(!e.isEmpty(o)){var n=u.getHiddenSections(t,r.applicationId);if(!e.isEmpty(n)){var c=e(n).filter(function(t){return e.includes(o,t.widgetId)}).map("pageId").value();if(e.size(c)>0){var d=t.pointers.components.getPage(e.head(c),s.getViewMode(t)),p=i.getBehaviorDefinition(t,"prefetchPages"),g=i.getActionDefinition(t,"screenIn");p.params.prefetchFilters.id=c,v(t,a),i.updateBehavior(t,a,g,d,p)}}}},addPlatformAppIfNeeded:function(e,t){return new Promise(function(a,r){l.hasEditorPlatformPart(t)?g.provision(e,t.appDefinitionId).then(a,r):a()})},addSectionComponentOptionsIfNeeded:m}}),define("documentServices/tpa/services/tpaWidgetLayoutService",["lodash","zepto","documentServices/component/component","documentServices/documentMode/documentModeInfo"],function(e,t,a,r){"use strict";var o=function(e,a){var r=t(window);return(r.height()-e.height)/2+r.scrollTop()-a.y},n=function(e){return null!==e&&!isNaN(e)};return{getCompLayoutFrom:function(t,i,s){if(s&&n(s.x)&&n(s.y)){var l=s.x,u=s.y;return e.isNumber(l)||(l=parseInt(l,10)),e.isNumber(u)||(u=parseInt(u,10)),{width:s.width,height:s.height,x:l,y:u}}var c=r.getViewMode(t),d=t.pointers.components.getPagesContainer(c),p=a.layout.get(t,d);if(s=s||{},i.width=s.width||i.width,i.height=s.height||i.height,i.defaultPosition)switch(i.defaultPosition.region){case"header":var g=t.pointers.components.getHeader(c),f=a.layout.get(t,g);return function(t,a,r){var o={y:r.height/2-a.height/2,width:a.width,height:a.height};switch(t){case"LEFT":return e.merge(o,{x:0});case"RIGHT":return e.merge(o,{x:r.width-a.width});default:return e.merge(o,{x:r.width/2-a.width/2})}}(i.defaultPosition.placement,i,f);case"footer":var m=t.pointers.components.getFooter(c),y=a.layout.get(t,m);return function(t,a,r,o){var n={y:r.height+o.height/2-a.height/2,width:a.width,height:a.height};switch(t){case"LEFT":return e.merge(n,{x:0});case"RIGHT":return e.merge(n,{x:o.width-a.width});default:return e.merge(n,{x:o.width/2-a.width/2})}}(i.defaultPosition.placement,i,p,y);default:return function(t,a,r){var n={width:a.width,height:a.height};switch(t){case"TOP_LEFT":return e.merge(n,{x:0,y:0});case"TOP_CENTER":return e.merge(n,{x:r.width/2-a.width/2,y:0});case"TOP_RIGHT":return e.merge(n,{x:r.width-a.width,y:0});case"CENTER_LEFT":return e.merge(n,{x:0,y:o(a,r)});case"CENTER_RIGHT":return e.merge(n,{x:r.width-a.width,y:o(a,r)});case"BOTTOM_LEFT":return e.merge(n,{x:0,y:r.height-a.height});case"BOTTOM_CENTER":return e.merge(n,{x:r.width/2-a.width/2,y:r.height-a.height});case"BOTTOM_RIGHT":return e.merge(n,{x:r.width-a.width,y:r.height-a.height});default:return e.merge(n,{x:r.width/2-a.width/2,y:o(a,r)})}}(i.defaultPosition.placement,i,p)}return{width:i.width,height:i.height,x:p.width/2-i.width/2,y:o(i,p)}}}}),define("documentServices/tpa/services/tpaDeleteService",["lodash","documentServices/page/page","documentServices/component/component","documentServices/tpa/services/clientSpecMapService","documentServices/tpa/services/installedTpaAppsOnSiteService","documentServices/tpa/constants","documentServices/componentDetectorAPI/componentDetectorAPI","documentServices/tpa/services/appInstallationAndDeletionEvents"],function(e,t,a,r,o,n,i,s){"use strict";var l=function(t,a){return e.reduce(a,function(a,r){var i=o.getAllTpaCompsOnPage(t,r),s=e.filter(i,{type:n.DATA_TYPE.TPA_WIDGET});return e.union(a,s)},[])},u=function(t,a,r){var n=l(t,r),i=function(t,a,r){var n=o.getWidgetsByAppId(t,a);return e.reject(n,function(t){return e.includes(r,t.pageId)})}(t,a,r),s=e.union(n,i);return c(t,s)},c=function(a,r){return e.map(r,function(e){var r=t.getPage(a,e.pageId);return{compPointer:a.pointers.components.getComponent(e.id,r),applicationId:e.applicationId}})},d=function(a,r,n){var i=e.map(o.getInstalledDependentAppsData(a,r),"applicationId");n&&(i=e.union([r],i));var s=o.getPagesByApplicationIds(a,i);return e.forEach(i,function(r){var o=e(s).filter({tpaApplicationId:r}).map("id").value();!function(a,r,o){var n=u(a,r,o);e.forEach(n,function(e){g(a,e.compPointer,e.applicationId)}),e.forEach(o,function(e){t.validatePageRemovalInternal(a,e)})}(a,r,o)}),s},p=function(t,a,r,o){var n=e.filter(t,{widgetId:m(a,r)});return n&&1===n.length&&n[0].id===o.id},g=function(r,n,i,s){var l=o.getWidgetsByAppId(r,i);p(l,r,i,n)&&(!function(a,r){var n=o.getHiddenSections(a,r);e.forEach(n,function(e){t.validatePageRemovalInternal(a,e.pageId)})}(r,i),f(r,i,l),d(r,i)),a.validateRemovalInternal(r,n,s)},f=function(t,r,o){var n=e.reject(o,{widgetId:m(t,r)});e.forEach(n,function(e){var r=i.getComponentById(t,e.id,e.pageId);a.validateRemovalInternal(t,r)})},m=function(t,a){var o=r.getAppData(t,a);if(o){var n=e.find(o.widgets,{default:!0});return e.get(n,"widgetId")}},y=function(r,n,s){if(!n){var l=e.map(o.getInstalledDependentAppsData(r,s),"applicationId");n=o.getPagesByApplicationIds(r,l)}var c=e(n).map("tpaApplicationId").uniq().value();e.forEach(c,function(a){var o=e.filter(n,{tpaApplicationId:a});!function(a,r,o){var n=e.map(o,"id"),i=u(a,r,n);e.forEach(i,function(e){_(a,e.compPointer,e.applicationId)}),e.forEach(n,function(e){t.remove(a,e)})}(r,a,o)});var d=o.getWidgetsByAppId(r,s);e.forEach(d,function(e){var t=i.getComponentById(r,e.id,e.pageId);r.dal.isExist(t)&&a.deleteComponent(r,t)})},_=function(r,n,i){var s=o.getWidgetsByAppId(r,i);p(s,r,i,n)&&(!function(a,r){var n=o.getHiddenSections(a,r);e.forEach(n,function(e){t.remove(a,e.pageId)})}(r,i),v(r,i,s),y(r,null,i)),r.dal.isExist(n)&&a.deleteComponent(r,n)},v=function(t,r,o){var n=e.reject(o,{widgetId:m(t,r)});e.forEach(n,function(e){var r=i.getComponentById(t,e.id,e.pageId);a.deleteComponent(t,r)})};return{notifyAppsToDelete:d,actualDeleteApps:y,notifyWidgetAboutToDelete:g,deleteWidget:_,deleteTpaCompleteCallback:function(t,a){e.forEach(a,function(e){if(!o.isApplicationIdExists(t,e)){var a=r.getAppData(t,e);s.invokeDeleteAppCallbacks(a.appDefinitionId)}})},getWidgetCompsToDeleteMap:c,getWidgetsOnPagesToDelete:l,isLastInstalledMainWidget:p}}),define("documentServices/tpa/services/tpaDataService",["lodash","utils","documentServices/dataModel/dataModel","documentServices/component/component","documentServices/tpa/services/installedTpaAppsOnSiteService","documentServices/tpa/services/clientSpecMapService","documentServices/tpa/services/tpaEventHandlersService"],function(e,t,a,r,o,n,i){"use strict";var s={APP:"APP",COMPONENT:"COMPONENT"},l=function(e){var t=e.tpaData;return t&&(t.content=t.content?JSON.parse(t.content):{}),t},u=function(e,t,a,r,o,n,i){var l=t?t.id:"tpaData-"+i,u=O(e,l,t,"masterPage",r,o,1e3,"TPAGlobalData");u?(n&&n(u),c(e,s.APP,i,null,u)):m(n,"Your app has exceeded the provided 1000 bytes storage space")},c=function(e,t,a,r,o){t===s.APP?i.callPublicDataChangedCallbackForAllAppRegisteredComps(a,o):i.callPublicDataChangedCallback(r,a,o)},d=function(a,o,i,l,u,d,p){var g=a.pointers.components.getPageOfComponent(l).id,f=r.data.get(a,l),y=i?i.id:t.guidUtils.getUniqueId("tpaData-"),_=n.getAppData(a,f.applicationId),v=400;e.get(_,"isWixTPA")&&(v=2e3);var S=O(a,y,i,g,u,d,v,"TPAData");S?(f.tpaData="#"+y,r.data.update(a,l,f),p&&p(S),c(a,s.COMPONENT,f.applicationId,l.id,S)):m(p,"Your app has exceeded the provided "+v+" chars storage space")},p=function(t,a,r,o){var n=a?e.pick(a.content,t):null;e.isEmpty(n)?m(r,"key "+t+" not found in "+o+" scope"):r(n)},g=function(t,r,o,n,i,s,l,u){if(v(r,o)){var d=e.pick(r.content,o);r.content=JSON.stringify(e.omit(r.content,o)),a.addSerializedDataItemToPage(t,n,r,r.id),i(d),c(t,s,l,u,d)}else m(i,"key "+o+" not found in "+s+" scope")},f=function(t,a,r,o){var n=e.map(t,function(e){return""+e});if(!e.isEmpty(a)&&e(a).keys().isEqual(n))r(a);else{var i=e.keys(a),s=e(i).xor(t).intersection(t).value();m(r,"keys "+s+" not found in "+o+" scope")}},m=function(e,t){e({error:{message:t}})},y=function(e){return e===s.APP},_=function(t){return!!(e.isBoolean(t)||e.isString(t)||e.isNumber(t)||e.isPlainObject(t))},v=function(t,a){return!!t&&e(t.content).keys().includes(a.toString())},S=function(e,t){var a="tpaData-"+t,r=e.pointers.data.getDataItem(a,"masterPage"),o=e.dal.get(r);return o&&(o.content=o.content?JSON.parse(o.content):{}),o},O=function(t,r,o,n,i,s,l,u){o||(o={type:u,id:r,content:{}}),o.content[i]=s;var c=o.content,d=JSON.stringify(o.content);return function(e,t){try{return!(e.length>t)}catch(e){return!1}}(d,l)?(o.content=d,a.addSerializedDataItemToPage(t,n,o,o.id),e.pick(c,i)):null},h=function(e,t){e.dal.remove(e.pointers.data.getDataItem(t,"masterPage"))};return{set:function(e,t,a,o,n,i){if(_(o)){var s=r.data.get(e,t),c=l(s),p=S(e,s.applicationId);y(n)?u(e,p,c,a,o,i,s.applicationId):d(e,p,c,t,a,o,i)}else m(i,"Invalid value: value should be of type: string, boolean, number or Json")},getAppValue:function(e,t,a,r){var o=S(e,t);p(a,o,r,s.APP)},getAppValues:function(t,a,r,o){r=e.uniq(r);var n=S(t,a),i=n?e.pick(n.content,r):null;f(r,i,o,s.APP)},get:function(t,a,o,n,i){var s=r.data.get(t,a),u=void 0;if(y(n)){var c=S(t,s.applicationId);u=c?e.pick(c.content,o):null}else{var d=l(s);u=d?e.pick(d.content,o):null}e.isEmpty(u)?m(i,"key "+o+" not found in "+n+" scope"):i(u)},getMulti:function(t,a,o,n,i){var s=r.data.get(t,a),u=void 0;if(o=e.uniq(o),y(n)){var c=S(t,s.applicationId);u=c?e.pick(c.content,o):null}else{var d=l(s);u=d?e.pick(d.content,o):null}var p=e.map(o,function(e){return""+e});if(!e.isEmpty(u)&&e(u).keys().isEqual(p))i(u);else{var g=e.keys(u),f=e(g).xor(o).intersection(o).value();m(i,"keys "+f+" not found in "+n+" scope")}},remove:function(e,t,a,o,n){var i=r.data.get(e,t);if(y(o)){var s=S(e,i.applicationId);g(e,s,a,"masterPage",n,o,i.applicationId,t.id)}else{var u=e.pointers.components.getPageOfComponent(t).id,c=l(i);g(e,c,a,u,n,o,i.applicationId,t.id)}},getComponentValue:function(e,t,a,o){var n=r.data.get(e,t),i=l(n);p(a,i,o,s.COMPONENT)},getComponentValues:function(t,a,o,n){var i=r.data.get(t,a);o=e.uniq(o);var u=l(i),c=u?e.pick(u.content,o):null;f(o,c,n,s.COMPONENT)},runGarbageCollection:function(t){var a=function(t){var a=o.getDeletedAppsIds(t);return e(a).map(function(e){return"tpaData-"+e}).filter(function(e){return function(e,t){var a=e.pointers.data.getDataItem(t,"masterPage");return!!e.dal.isExist(a)}(t,e)}).value()}(t);if(!e.isEmpty(a)){var r=t.dal.get(t.pointers.general.getOrphanPermanentDataNodes());r=r.concat(a),t.dal.set(t.pointers.general.getOrphanPermanentDataNodes(),r),e.forEach(a,h.bind(null,t))}},SCOPE:s}}),define("documentServices/tpa/services/tpaWidgetService",["lodash","experiment","documentServices/component/component","documentServices/structure/structure","documentServices/componentDetectorAPI/componentDetectorAPI","documentServices/tpa/services/appInstallationAndDeletionEvents","documentServices/tpa/services/installedTpaAppsOnSiteService","documentServices/tpa/services/clientSpecMapService","documentServices/tpa/services/tpaComponentCommonService","documentServices/tpa/compStructure","documentServices/tpa/services/tpaWidgetLayoutService","documentServices/tpa/services/tpaDeleteService","documentServices/tpa/services/tpaDataService","documentServices/documentMode/documentModeInfo"],function(e,t,a,r,o,n,i,s,l,u,c,d,p,g){"use strict";var f=function(t){return e.has(t,"gluedOptions")&&!e.isNull(t.gluedOptions)},m=function(e,t,a){e.callback&&e.callback({comp:t,success:a})},y=function(t,r,o,n){var i=n.applicationId,s=o.widgetId||O(t,n),d=e.get(n,"widgets."+s),g=e.get(d,"tpaWidgetId");g&&e.get(o,"componentOptions.widget.tpaWidgetId")===g&&(o.pageId=o.componentOptions.widget.wixPageId||o.pageId,o.showOnAllPages=o.componentOptions.widget.allPages||o.showOnAllPages,o.styleId=o.componentOptions.styleId||o.styleId);var m=o.pageId||t.siteAPI.getFocusedRootId();if(!s||!m||!d)throw new Error("invalid params");var y=void 0,S=void 0;if(o.componentDefinition)y=o.componentDefinition;else{var h={width:d.defaultWidth,height:d.defaultHeight};o.layout&&e.defaults(o.layout,h),S={width:d.defaultWidth||0,height:d.defaultHeight||0,defaultPosition:d.defaultPosition||e.get(o,"layout.defaultPosition")||{}},(d.defaultShowOnAllPages||o.showOnAllPages||f(d)||"header"===S.defaultPosition.region||"footer"===S.defaultPosition.region)&&(m="masterPage"),y=f(d)?u.getGluedWidgetStructure(i,d,S,o.styleId):u.getWidgetStructure(i,d.widgetId,c.getCompLayoutFrom(t,S,o.layout),o.styleId)}var A=o.containerRef||_(t,m,o,S);r||(r=a.getComponentToAddRef(t,A)),a.add(t,r,A,y),v(t,r,d,o),l.setPrefetchPageBehaviorIfNeeded(t,r,n),e.isString(o.presetId)&&!e.isEmpty(o.presetId)&&p.set(t,r,"presetId",o.presetId,p.SCOPE.COMPONENT)},_=function(t,a,r,n){var i=t.pointers.components.getPage(a,g.getViewMode(t)),s=i;return r.parentContainerRef&&t.pointers.isSamePointer(t.pointers.components.getPageOfComponent(r.parentContainerRef),i)&&(s=r.parentContainerRef),"header"===e.get(n,"defaultPosition.region")&&(s=o.getSiteHeader(t)),s},v=function(e,t,a,o){var n=a.canBeStretched&&a.shouldBeStretchedByDefault&&!o.dontStretch,i=!1===o.dontStretch;(n||i)&&r.setDock(e,t,{left:{vw:0},right:{vw:0}})},S=function(t,a,r){var o=s.widgetsToAutoAddToSite(t,a);e.forEach(o,function(e){e.default||y(t,void 0,{widgetId:e.widgetId,componentOptions:r},a)})},O=function(t,a){var r=e.filter(a.widgets,function(t){return e.isNil(t.appPage)||e.isUndefined(t.appPage)}),o=e.find(r,{default:!0});return e.get(o,"widgetId")||r&&!e.isEmpty(r)&&r[0].widgetId||null};return{isGlued:f,addWidgetAfterProvision:function(t,a,r,o,u,c){r=r||{};var d=!0;e.isBoolean(e.get(r,"invokeAddAppCallbacks"))&&(d=e.get(r,"invokeAddAppCallbacks"));var p=!i.isApplicationIdExists(t,o.applicationId);if(p){if(s.hasSections(t,o)){if(s.hasMainSection(t,o))return void(e.isFunction(c)&&c());l.addHiddenPages(t,o,r.componentOptions)}S(t,o,r.componentOptions)}y(t,a,r,o),p&&d&&n.invokeAddAppCallbacks(o.appDefinitionId),t.setOperationsQueue.isRunningSetOperation()?t.setOperationsQueue.executeAfterCurrentOperationDone(function(){p?l.addPlatformAppIfNeeded(t,o).then(e.partial(m,r,a,!0)).catch(e.partial(m,r,a,!1)):m(r,a,!0)}):m(r,a,!0),u&&u(t)},duplicateWidget:function(e,t,r){r=r||e.siteAPI.getFocusedRootId(e);var o=e.pointers.components.getPage(r,g.getViewMode(e));if(!o)throw new Error("no such component");var n=a.getComponentToDuplicateRef(e,t,o);a.duplicate(e,n,t,o)},notifyBeforeWidgetDelete:function(e,t){var r=a.data.get(e,t).applicationId;d.notifyWidgetAboutToDelete(e,t,r,e.setOperationsQueue.asyncPreDataManipulationComplete.bind(e.setOperationsQueue))},deleteWidget:function(e,t){var r=a.data.get(e,t).applicationId,o=d.deleteTpaCompleteCallback.bind(null,e,[r]);d.deleteWidget.apply(l,[e,t,r,o])},getPagesToBeRemovedWithWidget:function(t,r){var o=a.data.get(t,r),n=e.get(o,"applicationId"),s=i.getWidgetsByAppId(t,n);if(d.isLastInstalledMainWidget(s,t,n,r)){var l=e.union([n],e.map(i.getInstalledDependentAppsData(t,n),"applicationId"));return i.getPagesByApplicationIds(t,l)}return[]},invokeWidgetCallback:m}}),define("documentServices/tpa/services/tpaSectionService",["lodash","documentServices/page/page","documentServices/component/component","documentServices/tpa/services/appInstallationAndDeletionEvents","documentServices/tpa/services/installedTpaAppsOnSiteService","documentServices/tpa/services/clientSpecMapService","documentServices/tpa/services/tpaWidgetService","documentServices/tpa/services/tpaComponentCommonService","documentServices/tpa/services/tpaDeleteService","documentServices/tpa/services/sectionsTranslatedPageTitlesCache","documentServices/tpa/compStructure","documentServices/tpa/constants"],function(e,t,a,r,o,n,i,s,l,u,c,d){"use strict";var p=function(e,t,a,r){e.callback&&e.callback({page:t,sectionId:a,success:r})},g=function(t,r,o,s){var l=n.widgetsToAutoAddToSite(t,r);e.forEach(l,function(e){var n=a.getComponentToAddRef(t,o);i.addWidgetAfterProvision(t,n,{widgetId:e.widgetId,componentOptions:s},r)})},f=function(t,a){var r=o.isMultiSectionInstalled(t,e.get(a,"tpaApplicationId")),i=n.isPageMarkedAsAutoAddToSite(t,a);return!(r||!1===i)},m=function(e,t){return!o.isMainSectionInstalled(e,t.applicationId)};return{addSectionAfterProvision:function(t,a,i,l,f,y){if(m(t,l)){var _=(i=i||{}).sectionId,v=e.find(l.widgets,{default:!0});s.addSectionComponentOptionsIfNeeded(e.get(v,"appPage.id"),i);var S=function(t,a,r){var o={name:a.appDefinitionName};return e.forEach(a.widgets,function(n){if(n.appPage&&n.appPage.name&&!n.appPage.hidden){o=e.clone(n.appPage);var i=r||n.appPage.name;o.name=r||u.getTitle(a.appDefinitionId,n.widgetId)||o.name,o.pageUriSEO=s.getPageUriSEO(t,i),o=e.merge(o,n)}}),o}(t,l,i.title),O={desktop:S.fullPage,mobile:S.landingPageInMobile},h=n.computeHidePage(S,i.isHidden,!1),A=c.getSectionStructure(t,l,_,S.id,h,S.indexable,O,S.pageUriSEO,i.requireLogin),E=!o.isApplicationIdExists(t,l.applicationId),C=s.addPageAndSection(t,a,_,l.applicationId,S,A,null,d.COMP_TYPES.TPA_SECTION,d.DATA_TYPE.TPA_SECTION,i);s.addHiddenPages(t,l,i.componentOptions),g(t,l,a,i.componentOptions),E&&r.invokeAddAppCallbacks(l.appDefinitionId),s.setPrefetchPageBehaviorIfNeeded(t,C,l),t.setOperationsQueue.executeAfterCurrentOperationDone(function(){s.addPlatformAppIfNeeded(t,l).then(e.partial(p,i,a,_,!0)).catch(e.partial(p,i,a,_,!1))})}else y(t,new Error("section already installed"))},addMultiSection:function(t,a,r){var o=r.sectionId;s.addSectionComponentOptionsIfNeeded(r.widgetData.appPage.id,r),r.widgetData.applicationId=r.applicationId,r.widgetData.name=r.title||u.getTitle(r.appDefinitionId,e.get(r,"widgetData.widgetId"))||r.widgetData.appPage.name;var n=s.getPageUriSEO(t,r.title||e.get(r,"widgetData.appPage.name","")),i=c.getMultiSectionStructure(t,r.widgetData,o,n,r.requireLogin,r.isHidden);s.addPageAndSection(t,a,o,r.applicationId,r.widgetData,i,null,d.COMP_TYPES.TPA_SECTION,d.DATA_TYPE.TPA_SECTION,r),t.setOperationsQueue.executeAfterCurrentOperationDone(function(){p(r,a,o,!0)})},notifyDeleteSection:function(a,r){var o=t.data.get(a,r),n=o.tpaApplicationId,i=[];if(f(a,o))i=l.notifyAppsToDelete(a,n,!0);else{i.push(o);var s=l.getWidgetCompsToDeleteMap(a,l.getWidgetsOnPagesToDelete(a,[r]));e.forEach(s,function(e){l.notifyWidgetAboutToDelete(a,e.compPointer,e.applicationId)}),t.validatePageRemovalInternal(a,r)}a.setOperationsQueue.asyncPreDataManipulationComplete(i)},actualDeleteSection:function(a,r,o){var n=t.data.get(a,o),i=n.tpaApplicationId;if(f(a,n))l.actualDeleteApps(a,r,i);else{var s=l.getWidgetCompsToDeleteMap(a,l.getWidgetsOnPagesToDelete(a,[o]));e.forEach(s,function(e){l.deleteWidget(a,e.compPointer,e.applicationId)}),t.remove(a,o)}var u=e(r).map("tpaApplicationId").uniq().value();l.deleteTpaCompleteCallback(a,u)},alreadyInstalled:function(e,t){return o.isAppInstalledBy(e,t)},invokeSectionCallback:p}}),define("documentServices/tpa/services/businessManagerServiceCache",["documentServices/tpa/utils/cacheInMemory"],function(e){"use strict";return e.create()}),define("documentServices/tpa/services/businessManagerService",["lodash","utils","documentServices/tpa/services/businessManagerServiceCache"],function(e,t,a){"use strict";var r=e.template("<%= baseURL %>/_api/wix-dashboard-ng-webapp/is-in-biz-mgr?apps=<%= appDefIds %>");function o(a,o){if(!e.isEmpty(o)){var n=function(t,a){t=e.compact([].concat(t));var o="//editor.wix.com";return r({baseURL:o,appDefIds:t})}(o);return new Promise(function(e,a){!function(e,a,r){var o={url:e,success:a,error:r,dataType:"json",type:"GET"};t.ajaxLibrary.ajax(o)}(n,e,a)}).catch(function(){throw new Error("Querying for supported verticals in BizMgr failed")})}return Promise.resolve()}function n(t){e.forEach(t,function(e,t){a.set(t,e)})}return{isAppDashboardSupportedInBusinessManager:function(e){return!!a.get(e)},updateBusinessManagerSupportInCache:function(t,r){r=[].concat(r);var i=e.filter(r,function(t){return e.isNil(a.get(t))});return e.isEmpty(i)?Promise.resolve():o(0,i).then(n).catch(function(){var t,a;n((t=i,a=!1,e.reduce(t,function(e,t){return e[t]=a,e},{})))})}}}),define("documentServices/tpa/services/tpaStyleService",["lodash","tpa","documentServices/component/componentStylesAndSkinsAPI","documentServices/componentDetectorAPI/componentDetectorAPI","documentServices/component/component","documentServices/theme/theme","documentServices/siteMetadata/generalInfo","documentServicesSchemas"],function(e,t,a,r,o,n,i,s){"use strict";var l=s.schemas.componentsDefinitionsMap,u=function(t,a){e.isArray(a)?e.forEach(a,function(e){c(t,e)}):c(t,a)},c=function(e,t){var a=t.key;switch(t.type){case"color":v(e,a="param_color_"+a,t);break;case"font":S(e,a="param_font_"+a,t);break;case"number":_(e,a="param_number_"+a,t);break;case"boolean":y(e,a="param_boolean_"+a,t)}},d=function(t,r){var o=function(e,t){var r=a.style.getId(e,t);return n.styles.get(e,r)}(t,r);return e.defaults(o,{style:{groups:{},properties:{},propertiesSource:{}}}),o&&(o.styleType="custom"),o};function p(t,a){var r=function(t){var a=n.styles.getAllIds(t);return e.map(a,n.styles.get.bind(null,t))}(t);return e.filter(r,{skin:a})}var g=function(t,a,r){if("system"===a.styleType)return a.id;var o=p(t,a.skin),n=e.find(o,function(t){if(e.isUndefined(t.style)&&a.style)return!1;if(t.style&&a.style){var o=l[r]?e.keys(l[r].styles):[];return!(!e.includes(o,t.id)&&t.componentClassName!==r)&&m(t.style.properties,a.style.properties)}return!0});return n?n.id:f(t,a,a.componentClassName)},f=function(t,a,r){var o=e.cloneDeep(a);return o.styleType="custom",o.componentClassName=o.componentClassName||r,n.styles.createAndAddStyleItem(t,o)},m=function(t,a){return e.isEqual(t,a)},y=function(t,a,r){var o=r.param.value;t.style.properties[a]=o,t.style.propertiesSource=e.get(t,"style.propertiesSource",{}),t.style.propertiesSource[a]="value"},_=function(t,a,r){var o=r.param.value;t.style.properties[a]=o,t.style.propertiesSource=e.get(t,"style.propertiesSource",{}),t.style.propertiesSource[a]="value"},v=function(t,a,r){var o=r.param.value.color&&"object"===_typeof(r.param.value.color),n=o?r.param.value.color.name:r.param.value.rgba||r.param.value.cssColor;t.style.properties[a]=n,t.style.propertiesSource=e.get(t,"style.propertiesSource",{}),t.style.propertiesSource[a]=o?"theme":"value",r.param.value.hasOwnProperty("opacity")&&(t.style.properties["alpha-"+a]=r.param.value.opacity)},S=function(t,a,r){var o=r.param.value;t&&t.style&&(t.style.properties[a]=JSON.stringify(o),t.style.propertiesSource=e.get(t,"style.propertiesSource",{}),t.style.propertiesSource[a]="value")};return{setStyleParam:function(e,t,n,i){var s=r.getComponentById(e,t),l=d(e,s);u(l,n);var c=g(e,l,o.getType(e,s));a.style.setId(e,s,c,function(e){i(e)})},mapWixParamsToCssValues:function(e,a,r){t.tpaStyleUtils.getValueForWixParams(n.styles.getAll(e).THEME_DATA,a,r)},getTpaColorsToSiteColors:function(){var t=e.reduce(["white/black","black/white","primery-1","primery-2","primery-3"],function(e,t,a){return e[t]="color_"+ ++a,e},{}),a=e.range(1,26);return e.reduce(a,function(e,t){return e["color-"+t]="color_"+(t+10),e},t)},getStyleDataToPassIntoApp:function(a,s){var l=function(t,a){var n=r.getComponentById(t,a),i=o.data.get(t,n),s=e.get(i,"origCompId"),l=e.isUndefined(s)?n:r.getComponentById(t,s);return l?t.dal.get(t.pointers.getInnerPointer(l,"styleId")):null}(a,s),u=a.dal.get(a.pointers.general.getAllTheme()),c=a.dal.get(a.pointers.general.getSantaBase()),d=i.getDocumentType(a),p=n.fonts.getCharacterSet(a),g=a.dal.get(a.pointers.general.getServiceTopology()),f=a.siteAPI.isExperimentOpen("sv_newFonts2017");return t.common.styleUtils.getStyleDataToPassIntoApp(l,u,c,d,p,g,!1,f)}}}),define("documentServices/tpa/services/tpaComponentService",["lodash","zepto","tpa","utils","documentServices/theme/theme","documentServices/component/component","documentServices/component/componentStylesAndSkinsAPI","documentServices/componentDetectorAPI/componentDetectorAPI","documentServices/page/page","documentServices/tpa/services/clientSpecMapService","documentServices/tpa/services/appStoreService","documentServices/tpa/services/tpaWidgetService","documentServices/tpa/services/tpaSectionService","documentServices/tpa/services/pendingAppsService","documentServices/tpa/services/installedTpaAppsOnSiteService","documentServices/tpa/services/appMarketService","documentServices/tpa/services/businessManagerService","documentServices/tpa/utils/tpaUtils","documentServices/tpa/constants","documentServices/tpa/services/tpaEventHandlersService","documentServices/tpa/services/tpaStyleService","documentServices/tpa/services/tpaComponentCommonService","documentServices/hooks/hooks","experiment"],function(e,t,a,r,o,n,i,s,l,u,c,d,p,g,f,m,y,_,v,S,O,h,A,E){"use strict";var C=function(e,t,a,r,o,n,i){o=o||{};var s=u.getAppDataByAppDefinitionId(e,r);m.requestAppMarketDataToBeCached(e,r),y.updateBusinessManagerSupportInCache(e,r),!o.sourceTemplateId||s?!s||s.demoMode&&!E.isOpen("se_tpaProvisionOnAdd")?c.preSaveAddApp(e,r,n,i):(g.isPending(e,s)&&g.add(s),n(s)):c.provisionAppFromSourceTemplate(e,r,o.sourceTemplateId,n,i)},P=function(e,t,a,r,o,n,i){u.registerAppData(e,o);try{R(a)(e,t,r,o,n,i)}catch(e){i&&i(e)}},R=function(e){return{TPAWidget:d.addWidgetAfterProvision,TPASection:p.addSectionAfterProvision}[e]},I=function(t,a,r){r=e.merge(r||{},{cacheKiller:""+e.now()}),e.forEach(a,function(a){var o=e.get(a,"id");if(o){var n=t.pointers.siteAspects.getAspectComponentData("tpaCompStateAspect",o),i=t.dal.get(n)||{};t.dal.set(n,e.merge(i,{queryParams:r}))}})},D=function(e,t){var a={3:/^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,4:/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,5:/^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,all:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i}[t||"all"];return a&&a.test(e)},T=function(e,r,o){var n=t("#"+e).find("iframe")[0];try{a.common.tpaPostMessageCommon.callPostMessage(n,{intent:"addEventListener",eventType:r,params:o})}catch(e){}},w=function(e,t,a,r){var o=u.getAppData(e,t)||{};c.preSaveAddApp(e,o.appDefinitionId,e.setOperationsQueue.asyncPreDataManipulationComplete.bind(e.setOperationsQueue),function(t){r&&r(),e.setOperationsQueue.asyncPreDataManipulationComplete(null,t)})},b=function(t,a,r,o,n){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=arguments[6],l=arguments[7];if(r&&!r.dontAdd){var u=i.callback;i.callback=function(){A.executeHook(A.HOOKS.ADD_TPA.AFTER,null,[a,r]),u&&u.apply(void 0,arguments)},P(a,o,t,i,r,s,e.get(i,"onError")||l)}};return{provisionApp:C,provisionWidget:function(e,t,a,r){var o=function(t,a){e.setOperationsQueue.asyncPreDataManipulationComplete(t,a)};C(e,0,v.TYPE.TPA_WIDGET,a,r,o,function(){r.onError&&r.onError(),o(null,new Error("addWidget - provision failed"))})},provisionSection:function(t,a,o,n,i){var s=v.TYPE.TPA_SECTION+"_"+r.guidUtils.getUniqueId();(n=n||{}).sectionId=s;return C(t,0,v.TYPE.TPA_SECTION,o,n,function(e,a){(e=e||{}).additionalOptions=n,t.setOperationsQueue.asyncPreDataManipulationComplete(e,a)},function(){i&&i(),t.setOperationsQueue.asyncPreDataManipulationComplete(null,new Error("addSection - provision failed"))}),e.assign(a,{sectionId:s})},provisionMultiSection:function(t,a,o,n){if(p.alreadyInstalled(t,o)){var i=v.TYPE.TPA_SECTION+"_"+r.guidUtils.getUniqueId();n.sectionId=i;var s=u.getWidgetDataFromTPAPageId(t,o,n.pageId),l=u.getAppDataByAppDefinitionId(t,o);return s&&u.isMultiSectionInstanceEnabled(l,s.widgetId)?(n.applicationId=l.applicationId,n.appDefinitionId=l.appDefinitionId,n.widgetData=s,l.demoMode?E.isOpen("se_tpaProvisionOnAdd")||w(t,l.applicationId):t.setOperationsQueue.asyncPreDataManipulationComplete(l),e.assign(a,{sectionId:i})):t.setOperationsQueue.asyncPreDataManipulationComplete(null,new Error("Creating this section is not allowed"))}return t.setOperationsQueue.asyncPreDataManipulationComplete(null,new Error("Main section is not installed"))},provisionAppDemoSave:w,addApp:P,addAppWrapper:b,addSection:function(t,a,r,o,n,i){n=e.merge(n,e.get(a,"additionalOptions")),a=e.omit(a,"additionalOptions"),b(v.TYPE.TPA_SECTION,t,a,r,o,n,e.noop,i)},addMultiSection:function(e,t,a,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},n=u.getAppDataByAppDefinitionId(e,r);if(u.registerAppData(e,t),n.demoMode){if(E.isOpen("se_tpaProvisionOnAdd"))return;e.setOperationsQueue.executeAfterCurrentOperationDone(function(){var t=f.getAllAppCompsByAppId(e,n.applicationId);I(e,t)})}var i=o.callback;o.callback=function(){A.executeHook(A.HOOKS.ADD_TPA.AFTER,null,[e,t]),i&&i.apply(void 0,arguments)},p.addMultiSection(e,a,o)},addSubSection:function(t,a,r,o){o=o||{};var n=u.getAppDataByAppDefinitionId(t,r);if(n){var i=e.find(n.widgets,["appPage.id",o.pageId]);if(i){var s=h.addSubSection(t,a,i,n,o);e.assign(a,{sectionId:s}),t.setOperationsQueue.isRunningSetOperation()?t.setOperationsQueue.executeAfterCurrentOperationDone(function(){p.invokeSectionCallback(o,a,s,!0),A.executeHook(A.HOOKS.ADD_TPA.AFTER,null,[t])}):(p.invokeSectionCallback(o,a,s,!0),A.executeHook(A.HOOKS.ADD_TPA.AFTER,null,[t]))}}},settingsUpdated:function(t,a,r,o){if("*"===r){var n=f.getAllAppCompsByAppId(t,a);e.forEach(n,function(e){S.callSettingsUpdateCallback(e.id,o)})}else S.callSettingsUpdateCallback(r,o)},refreshApp:I,getSectionRefByPageId:function(t,a){var r=l.getPage(t,a),o=n.getTpaChildren(t,r);return e.find(o,function(e){return function(e,t){var a=n.getType(e,t);return a===v.COMP_TYPES.TPA_SECTION||a===v.TPA_COMP_TYPES.TPA_SECTION}(t,e)})},setExternalId:function(e,t,a,r){D(a)?(n.data.update(e,t,{referenceId:a}),r("ExternalId: "+a+" will be saved when the site will be saved")):r({onError:"The given externalId: "+a+" is not a valid UUID."})},getExternalId:function(e,t){var a=n.data.get(e,t);return a&&a.referenceId},postBackThemeData:function(e,t,a){var r=i.style.getId(e,s.getComponentById(e,t));if("STYLE"!==a.type||"STYLE"===a.type&&r===a.values){var o=O.getStyleDataToPassIntoApp(e,t);T(t,"THEME_CHANGE",o)}},postMessageBackToApp:T,getDefaultLayout:function(t,a,r){var o=void 0;return o=e.isNil(r)?u.getMainSectionWidgetDataFromApplicationId(t,a):u.getWidgetData(t,a,r),{height:e.get(o,"defaultHeight")||500,width:e.get(o,"defaultWidth")||980,x:0}}}}),define("documentServices/tpa/services/tpaAddService",["lodash","zepto","documentServices/theme/theme","documentServices/component/component","documentServices/component/componentStylesAndSkinsAPI","documentServices/componentDetectorAPI/componentDetectorAPI","documentServices/page/page","documentServices/tpa/services/clientSpecMapService","documentServices/tpa/services/tpaSectionService","documentServices/tpa/services/tpaWidgetService","documentServices/tpa/services/installedTpaAppsOnSiteService","documentServices/tpa/services/appMarketService","documentServices/tpa/constants","documentServices/tpa/services/tpaComponentService"],function(e,t,a,r,o,n,i,s,l,u,c,d,p,g){"use strict";var f="WIDGET",m="PAGE",y=function(t,r,i,s){var l=void 0;if(r)if(i)e.includes(a.styles.getAllIds(t),i)&&(l=i);else{var u=n.getComponentById(t,s);l=o.style.getId(t,u)}return l};function _(t,a,r,o){var n=t.siteAPI.getFocusedRootId(),i=e.get(r,"widget.wixPageId")||n,l=s.getWidgetDataFromTPAWidgetId(t,a.appDefinitionId,e.get(r,"widget.tpaWidgetId"));return{pageId:i,widgetId:e.get(l,"widgetId"),showOnAllPages:e.get(r,"widget.allPages"),styleId:y(t,r.copyStyle,r.styleId,o)}}function v(t,a,r,o,n){e.assign(t,_(a,n,t,r)),g.provisionWidget(a,o,n.appDefinitionId,t)}var S=function(t,a,r,o,n){if(o)switch(n.componentType){case"WIDGET":!function(t,a,r,o,n){var i=t.siteAPI.getFocusedRootId(),l=e.get(n,"widget.wixPageId")||i;t.dal.pointers.page.isExists(l)||n.widget.allPages?s.getWidgetDataFromTPAWidgetId(t,r.appDefinitionId,e.get(n,"widget.tpaWidgetId"))?e.isFunction(n.preAddOperation)?n.preAddOperation(r.appDefinitionId,n,function(){v(n,t,o,a,r)}):v(n,t,o,a,r):t.setOperationsQueue.asyncPreDataManipulationComplete({onError:"No widget found."}):t.setOperationsQueue.asyncPreDataManipulationComplete({onError:"pageId was not found."})}(t,a,o,r,n);break;case"PAGE":E(t,a,o,r,n);break;default:t.setOperationsQueue.asyncPreDataManipulationComplete({onError:"componentType not supported."})}else t.setOperationsQueue.asyncPreDataManipulationComplete({onError:"General Error."})},O=function(t,a,r){return{pageId:e.get(a,"page.pageId"),title:e.get(a,"page.title"),styleId:y(t,a.copyStyle,a.styleId,r),layout:C(a),isHidden:e.get(a,"page.isHidden"),requireLogin:e.get(a,"page.requireLogin")}};function h(t,a,r,o,n){e.assign(r,O(t,r,n)),g.provisionMultiSection(t,a,o.appDefinitionId,r)}function A(t,a,r,o){e.assign(a,O(t,a,r)),t.setOperationsQueue.asyncPreDataManipulationComplete(o)}var E=function(t,a,r,o,n){var i=s.getWidgetDataFromTPAPageId(t,r.appDefinitionId,e.get(n,"page.pageId"));i?s.isMultiSectionInstanceEnabled(r,i.widgetId)?e.isFunction(n.preAddOperation)?n.preAddOperation(r.appDefinitionId,n,function(){h(t,a,n,r,o)}):h(t,a,n,r,o):c.isSectionInstalledByTpaPageId(t,r.applicationId,e.get(i,"appPage.id"))?t.setOperationsQueue.asyncPreDataManipulationComplete({onError:"Page already installed."}):e.isFunction(n.preAddOperation)?n.preAddOperation(r.appDefinitionId,n,function(){A(t,n,o,r)}):A(t,n,o,r):t.setOperationsQueue.asyncPreDataManipulationComplete({onError:"No page found."})},C=function(t){var a={};return e.isNumber(t.x)&&(a.x=t.x),e.isNumber(t.y)&&(a.y=t.y),e.isNumber(t.width)&&(a.width=t.width),e.isNumber(t.height)&&(a.height=t.height),a},P=function(t,a,o){if("WIDGET"===o.componentType){var n=t.siteAPI.getPrimaryPageId(),s=t.pointers.page.getPagePointer(n);return r.getComponentToAddRef(t,s,o,e.get(o,"optionalCustomId"))}return i.getPageIdToAdd(t)},R=function(t,a,r,o){if(r){var n=c.getAllAppCompsByAppId(t,a.applicationId);return e.find(n,{widgetId:e.get(r,"widgetId")})||e.find(n,{widgetId:null})}return o({onError:"No widget found."}),null},I=function(t,a){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};a?d.getAppMarketDataAsync(t,a).then(function(o){o&&!o.error?(r.componentType=o.hasSection?"PAGE":"WIDGET",r.componentToAddRef=P(t,0,r),r.componentType===f?(r.layout=D(r),r.pageId&&!t.dal.pointers.page.isExists(r.pageId)&&delete r.pageId,e.isFunction(r.preAddOperation)?r.preAddOperation(a,r,function(){g.provisionWidget(t,r.componentToAddRef,a,r)}):g.provisionWidget(t,r.componentToAddRef,a,r)):r.componentType===m&&(l.alreadyInstalled(t,a)?t.setOperationsQueue.asyncPreDataManipulationComplete({onError:"Section already installed"}):(r.layout=w(r),e.isFunction(r.preAddOperation)?r.preAddOperation(a,r,function(){g.provisionSection(t,r.componentToAddRef,a,r,r.callback)}):g.provisionSection(t,r.componentToAddRef,a,r,r.callback)))):t.setOperationsQueue.asyncPreDataManipulationComplete({onError:"Application with "+a+" appDefinitionId do not exist."})}):t.setOperationsQueue.asyncPreDataManipulationComplete({onError:"appDefinitionId is mandatory."})},D=function(t){var a={};return t&&e.isNumber(t.x)&&e.isNumber(t.y)&&(a={x:t.x,y:t.y}),a},T=function(t){return"WIDGET"===e.get(t,"componentType")?D(t):w(t)},w=function(t){var a={};return t&&(e.isNumber(t.x)&&(a.x=t.x),e.isNumber(t.y)&&(a.y=t.y),e.isNumber(t.width)&&(a.width=t.width),e.isNumber(t.height)&&(a.height=t.height)),a};return{provisionComp:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=void 0,o=a.appDefinitionId;if(o)if(c.isAppInstalledBy(t,o))r=s.getAppDataByAppDefinitionId(t,o),a.componentToAddRef=P(t,0,a),S(t,a.componentToAddRef,a.compId,r,a);else{var n=e.clone(a);e.forEach(e.keys(a),function(e){delete a[e]}),a.appFlow=!0,a.componentOptions=n,a.componentOptions.layout=T(n),a.callback=n.callback,I(t,o,a)}else t.setOperationsQueue.asyncPreDataManipulationComplete({onError:"appDefinitionId is mandatory."})},addComponent:function t(a,r,o){if(r.onError)e.isFunction(o.callback)&&o.callback(r);else{if(o.appFlow){var i=o.callback||e.noop;o.callback=function(){var c=s.getAppDataByAppDefinitionId(a,o.componentOptions.appDefinitionId);if(function(t,a){var r=e.find(t.widgets,function(t){return"WIDGET"===a.componentType?t.tpaWidgetId===a.widget.tpaWidgetId:"PAGE"===a.componentType?e.get(t,"appPage.id")===a.page.pageId:null});return!!e.get(r,"autoAddToSite")}(c,o.componentOptions))!function(e,t,a,r){var o=void 0,i=void 0;if("WIDGET"===t.componentType){if(o=s.getWidgetDataFromTPAWidgetId(e,a.appDefinitionId,t.widget.tpaWidgetId),i=R(e,a,o,r)){var c=n.getComponentById(e,i.id);u.invokeWidgetCallback({callback:r},c,!0)}}else if("PAGE"===t.componentType&&(o=s.getWidgetDataFromTPAPageId(e,a.appDefinitionId,t.page.pageId),i=R(e,a,o,r))){var d=e.pointers.components.getPage(i.pageId,e.siteDataAPI.siteData.getViewMode());l.invokeSectionCallback({callback:r},d,i.id,!0)}}(a,o.componentOptions,c,i);else{var d={componentType:o.componentOptions.componentType,componentToAddRef:P(a,o.componentOptions.appDefinitionId,o.componentOptions),callback:i};d.componentType===f?e.assign(d,_(a,c,o.componentOptions,o.compId)):d.componentType===m&&e.assign(d,O(a,o.componentOptions,o.compId)),t(a,r,d)}}}switch(o.componentType){case"WIDGET":g.addAppWrapper(p.TYPE.TPA_WIDGET,a,r,o.componentToAddRef,r.appDefinitionId,o);break;case"PAGE":if(o.appFlow)g.addSection(a,r,o.componentToAddRef,r.appDefinitionId,o);else{var d=s.getWidgetDataFromTPAPageId(a,r.appDefinitionId,e.get(o,"pageId"));d&&(s.isMultiSectionInstanceEnabled(r,d.widgetId)?g.addMultiSection(a,r,o.componentToAddRef,r.appDefinitionId,o):c.isSectionInstalledByTpaPageId(a,r.applicationId,e.get(d,"appPage.id"))||g.addSubSection(a,o.componentToAddRef,r.appDefinitionId,o))}}}},provisionApp:I,addApp:function(t,a,r,o){if(a.onError)e.isFunction(o.callback)&&o.callback(a);else switch(o.componentType){case f:g.addAppWrapper(p.TYPE.TPA_WIDGET,t,a,o.componentToAddRef,r,o);break;case m:g.addSection(t,a,o.componentToAddRef,r,o)}}}}),define("documentServices/tpa/services/experimentService",["lodash"],function(e){"use strict";var t={isEcomPagesMissingExperimentOn:e.noop};return{setExperiments:function(a){e.merge(t,a)},getExperiments:function(){return t}}}),define("documentServices/tpa/services/provisionService",["lodash","utils","documentServices/tpa/utils/ProvisionUrlBuilder","documentServices/tpa/services/clientSpecMapService","documentServices/tpa/services/experimentService","documentServices/tpa/services/appStoreService","documentServices/siteMetadata/siteMetadata","documentServices/tpa/utils/tpaUtils","documentServices/tpa/utils/provisionUtils"],function(e,t,a,r,o,n,i,s,l){"use strict";var u=e.template("<%= provisionServerBaseUrl %>/appStore/demo/pre-save-provision/<%= metaSiteId %>/<%= applicationId %>"),c=e.template("<%= provisionServerBaseUrl %>/appStore/pre-save-provision/<%= appDefinitionId %>"),d=e.template("<%= provisionServerBaseUrl %>/appStore/post-save-complete-provision?metaSiteId=<%= metaSiteId %>&editorSessionId=<%= editorSessionId %>"),p=e.template("<%= provisionServerBaseUrl %>/appStore/provision/<%= appDefinitionId %>"),g=e.template("<%= provisionServerBaseUrl %>/appStore/spec/<%= metaSiteId %>/<%= applicationId %>"),f=e.template("<%= provisionServerBaseUrl %>/appStore/disable/<%= metaSiteId %>/<%= appDefinitionId %>"),m=e.template("<%= provisionServerBaseUrl %>/appStore/restore/<%= metaSiteId %>/<%= appDefinitionId %>"),y=function(e,t,a,r,o){return t({provisionServerBaseUrl:_(e),appDefinitionId:a,applicationId:r,metaSiteId:o})},_=function(e){var t=e.pointers.general.getServiceTopology();return e.dal.get(e.pointers.getInnerPointer(t,"appStoreUrl"))},v=function(e,t,r,o){var n=y(e,p,t),i=S(e),s=new a(n).addMetaSiteId(i).addAcceptJson().build();O(e,s,"POST",{},r,o)},S=function(e){return i.getProperty(e,i.PROPERTY_NAMES.META_SITE_ID)},O=function(a,o,n,i,u,c){t.ajaxLibrary.ajax({type:n||"GET",url:o,data:JSON.stringify(i),dataType:"json",contentType:"application/json",success:function(t){a?function(t,a,o){var n=o.payload;if(e.includes([void 0,-1],n.applicationId))n.applicationId=r.getLargestApplicationId(t)+1,n.notProvisioned=!0;else{var i=r.getAppDataByAppDefinitionId(t,n.appDefinitionId);!s.isSiteSaved(t)&&i&&i.demoMode&&!n.demoMode&&(n.notProvisioned=!0)}r.registerAppData(t,n),t.setOperationsQueue.executeAfterCurrentOperationDone(function(){s.isTpaByAppType(n.type)&&l.cacheAppMarketDataAfterProvision(t,n)}),a(n)}(a,u,t):u(t)},error:c})};return{restoreWixappOnServer:function(e,t,a,r){var o=_(e),n=m({appDefinitionId:t,metaSiteId:S(e),provisionServerBaseUrl:o});O(null,n,"POST",{},a,r)},disableWixappOnServer:function(e,t,a,r){var o=_(e),n=f({appDefinitionId:t,metaSiteId:S(e),provisionServerBaseUrl:o});O(null,n,"POST",{},a,r)},provisionAppAfterSave:v,provisionAppBeforeSave:function(e,t,r,o){var n=y(e,c,t),i=new a(n).addAcceptJson().build();O(e,i,"POST",{},r,o)},provisionAppDemoAfterSave:function(e,t,a,r){v(e,t,a,r)},provisionAppDemoBeforeSave:function(e,t,r,o){var n=S(e),i=y(e,u,null,t,n),s=new a(i).addAcceptJson().build();O(e,s,"POST",{},r,o)},completeProvisionAppsAfterSave:function(t,r,o,n,i,l){var u=d({provisionServerBaseUrl:t,metaSiteId:r,editorSessionId:o}),c=new a(u).addAcceptJson().build(),p=e.filter(n,"notProvisioned");p=e.filter(p,function(e){return!s.isTpaByAppType(e.type)});var g=e.map(p,function(e){return{appDefinitionId:e.appDefinitionId,applicationId:e.applicationId.toString(),instanceId:e.instanceId}});e.isEmpty(g)?i():O(void 0,c,"POST",{apps:g,metaSiteId:r},i,l)},refreshSpecMap:function(e,t,r,o,n){var i=y(e,g,null,t,r),s=new a(i).addAcceptJson().build();O(e,s,"GET",void 0,o,n)},provisionAppFromSourceTemplate:function(e,t,a,r,o){n.provisionAppFromSourceTemplate(e,t,a,r,o)}}}),define("documentServices/tpa/data/componentDefinition",[],function(){"use strict";return{getComponentDefinition:function(e){return{addHoneycomb:{layout:{rotationInDegrees:0,width:626,height:723,scale:1,x:130,y:32,fixedPosition:!1},componentType:"tpa.viewer.components.Honeycomb",type:"Component",skin:"wysiwyg.viewer.skins.TPAHoneycombSkin",data:{items:[{type:"Image",title:"Water Droplets",uri:"cd6a81b7d29d88425609ecc053a00d16.jpg",description:"Describe your image here",width:1e3,height:750},{type:"Image",title:"Budding Tree",uri:"44dab8ba8e2b5ec71d897466745a1623.jpg",description:"Describe your image here",width:1e3,height:750},{type:"Image",title:"Fallen Apples",uri:"8dfce587e3f99f17bba2d3346fea7a8d.jpg",description:"Describe your image here",width:758,height:569},{type:"Image",title:"Water Droplets",uri:"cd6a81b7d29d88425609ecc053a00d16.jpg",description:"Describe your image here",width:1e3,height:750},{type:"Image",title:"Budding Tree",uri:"44dab8ba8e2b5ec71d897466745a1623.jpg",description:"Describe your image here",width:1e3,height:750},{type:"Image",title:"Fallen Apples",uri:"8dfce587e3f99f17bba2d3346fea7a8d.jpg",description:"Describe your image here",width:758,height:569},{type:"Image",title:"Water Droplets",uri:"cd6a81b7d29d88425609ecc053a00d16.jpg",description:"Describe your image here",width:1e3,height:750},{type:"Image",title:"Budding Tree",uri:"44dab8ba8e2b5ec71d897466745a1623.jpg",description:"Describe your image here",width:1e3,height:750},{type:"Image",title:"Fallen Apples",uri:"8dfce587e3f99f17bba2d3346fea7a8d.jpg",description:"Describe your image here",width:758,height:569},{type:"Image",title:"Water Droplets",uri:"cd6a81b7d29d88425609ecc053a00d16.jpg",description:"Describe your image here",width:1e3,height:750},{type:"Image",title:"Budding Tree",uri:"44dab8ba8e2b5ec71d897466745a1623.jpg",description:"Describe your image here",width:1e3,height:750},{type:"Image",title:"Fallen Apples",uri:"8dfce587e3f99f17bba2d3346fea7a8d.jpg",description:"Describe your image here",width:758,height:569}],type:"ImageList"},props:{numOfColumns:4,numOfHoles:2,imageShape:"hexagon",expandEnabled:!1,margin:1,font:"arial",imageScale:"x1",textMode:"titleAndDescription",alignText:"left",rolloverAnimation:"colorOnly",galleryImageOnClickAction:"zoomMode",type:"HoneycombProperties",layoutSeed:50},style:{componentClassName:"tpa.viewer.components.Honeycomb",pageId:"",compId:"i4skqikv",styleType:"custom",style:{propertiesSource:{color1:"theme",color2:"theme",color3:"theme",color4:"theme",color5:"theme",version:"value"},properties:{"alpha-color4":"0.7","alpha-color5":"1",color1:"color_18",color2:"color_1",color3:"color_15",color4:"color_11",color5:"color_11",version:"1","alpha-color1":"1","alpha-color2":"1","alpha-color3":"1"},groups:{}},type:"TopLevelStyle",skin:"wysiwyg.viewer.skins.TPAHoneycombSkin"}}}[e&&e.compType]}}}),define("documentServices/tpa/services/tpaSettingsService",["lodash","utils","tpa","documentServices/tpa/services/clientSpecMapService","documentServices/siteMetadata/siteMetadata","documentServices/component/component","documentServices/componentDetectorAPI/componentDetectorAPI"],function(e,t,a,r,o,n,i){"use strict";var s=function(t,s,u){if(s.url){var c=r.getAppData(t,s.applicationId),d=o.getProperty(t,o.PROPERTY_NAMES.LANGUAGE_CODE)||"en",p=t.dal.getByPath(["currentUrl"]),g=a.common.utils.appendProtocolToUrlIfNeeded(s.url,p),f=a.common.utils.getDebuggingParamsFromUrl(p),m=n.data.get(t,i.getComponentById(t,s.origCompId));return new a.common.TPAUrlBuilder(g).addLocale(d).addOrigCompId(s.origCompId).addCompId(u).addDeviceType(s.deviceType).addViewMode("editor").addInstance(c.instance).addOrigin(s.origin).addMultipleQueryParams(f).addQueryParamsFromFunc(l,e.get(s,"bi")).setHash(s.hash).addExternalId(e.get(m,"referenceId")).build()}return null},l=function(a,r){if(e.isObject(r))try{r=JSON.stringify(r);a.build().length<2083-r.length&&a.addCbi(r)}catch(e){t.log.error("could not add CBI param to URL:",e)}};return{getSettingsModalParams:function(e,a,r){var o=t.guidUtils.getUniqueId();return r.compId=o,r.url=s(e,a,o),r.title=r.title||"",r},getSettingsUrl:function(t,s,u,c,d){var p=r.getAppData(t,s),g=e.get(d,"isNewVersion",!1),f=p.settingsUrl,m=p.widgets&&p.widgets[u];if(m){var y=e.get(m,"settings");f=(g?e.get(y,"urlV2"):e.get(y,"url"))||f}var _=o.getProperty(t,o.PROPERTY_NAMES.LANGUAGE_CODE)||"en",v=e.get(d,"width")?d.width:p.settingsWidth,S=t.dal.getByPath(["currentUrl"]),O=a.common.utils.getDebuggingParamsFromUrl(S),h=n.data.get(t,i.getComponentById(t,c)),A=new a.common.TPAUrlBuilder(f).addInstance(p.instance).addLocale(_).addOrigCompId(c).addWidth(e.toString(v)).addEndpointType("settings").addViewMode("editor").addCompId("tpaSettings").addMultipleQueryParams(O).addQueryParamsFromFunc(l,e.get(d,"bi")).addExternalId(e.get(h,"referenceId"));return t.siteAPI.isMobileView()&&(A=A.addDeviceType("mobile")),A.build()},getSettingsModalUrl:s}}),define("documentServices/tpa/handlers/tpaHandlers",["zepto","lodash","utils","tpa","documentServices/tpa/utils/tpaUtils","documentServices/page/page","documentServices/page/pageUtils","documentServices/componentDetectorAPI/componentDetectorAPI","documentServices/component/component","documentServices/siteMetadata/siteMetadata","documentServices/siteMetadata/seo","documentServices/tpa/services/tpaDataService","documentServices/tpa/services/tpaEventHandlersService","documentServices/structure/structure","documentServices/tpa/services/installedTpaAppsOnSiteService","documentServices/tpa/constants","documentServices/routers/routersGetters"],function(e,t,a,r,o,n,i,s,l,u,c,d,p,g,f,m,y){"use strict";var _=r.services.tpaPreviewEditorCommunicationService,v=void 0,S=function(e,a){var r=e.pointers.siteAspects.getAspectGlobalData("tpaModalAspect"),o=e.dal.get(r);return a===t.get(o,"modalStructure.id")?o.modalData:null},O=function(e,a){var r=e.pointers.siteAspects.getAspectGlobalData("tpaPopupAspect"),o=e.dal.get(r),n=t.find(o,["structure.id",a]);return n?n.popupData:null},h=function(e,a){var r=s.getComponentById(e,a);return l.data.get(e,r)||S(e,a)||O(e,a)||function(e,a){var r=e.siteAPI.getSiteAspect("tpaWorkerAspect"),o=r&&r.getComponentsToRender(),n=t.find(o,["structure.id",a]);return t.get(n,"props.compData")}(e,a)},A=function(e,a){var r=h(e,a);return parseInt(t.get(r,"applicationId"),10)},E=function(e,a){var r=n.getPagesDataItems(e);return t.filter(r,{tpaApplicationId:a})},C=function(e,t){var a=A(e,t);return E(e,a)},P=function(e){return t.find(e,{hidePage:!1})},R=function(e,a){return t.find(e,{tpaPageId:a})},I=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=c.title.get(e)||"",n=t.title||"",s=a.pageUtils.extractPageTitleFromOriginalTitle(t.pageTitleSEO,r,o),l=e.siteAPI.getCurrentUrlPageId(),u=i.isHomepage(e,l);return s?o=s:u||(o=r?o+" | "+n:n),o},D=function(e,t){var r=u.generalInfo.getPublicUrl(e);return a.wixUrlParser.getUrl(e.siteDataAPI.siteData,{pageId:t.id,title:t.pageUriSEO},!1,!0,r)},T=function(e,a){var r=void 0;if(t.isArray(a.data.compIds))r=function(e,a){var r=[];return t.forEach(a,function(t){var a=s.getComponentById(e,t);a&&r.push(a)}),r}(e,a.data.compIds);else{var o=A(e,a.compId);r=v.app.getRenderedReactCompsByApplicationId(e,o)}v.app.refreshApp(e,r,a.data.queryParams),e.siteAPI.forceUpdate()},w=function(e,t,a){var r=t.compId,o=s.getComponentById(e,r);v.comp.resize(e,o,t.data.width,t.data.height,a)},b=function(e,a){var r=S(e,a)||O(e,a),o=t.get(r,"origCompId");return o?s.getComponentById(e,o):null},L=function(e){e({error:{message:"comp not found"}})},M=function(e,t){var a=l.data.get(e,t);return{id:a.compId,title:a.name}},B=function(e,t){var a=l.getType(e,t);return a===m.COMP_TYPES.TPA_SECTION||a===m.COMP_TYPES.TPA_MULTI_SECTION};return{registerEventListener:function(e,t){var a=t.data.eventKey,r=t.compId;switch(a){case"EDITOR_EVENT":v.change.register.editorEventHandler(e,t.compId,function(e){v.comp.postMessageBackToApp(r,a,e)});break;case"COMPONENT_DELETED":v.change.register.deleteCompHandler(e,t.compId,function(){v.comp.postMessageBackToApp(r,a,{})});break;case"EDIT_MODE_CHANGE":v.change.register.editModeChangeHandler(e,t.compId,function(e){v.comp.postMessageBackToApp(r,a,{editMode:e})});break;case"SITE_PUBLISHED":v.change.register.sitePublishedHandler(e,t.compId,function(){v.comp.postMessageBackToApp(r,a,{})});break;case"SETTINGS_UPDATED":v.change.register.settingsUpdatedHandler(e,t.compId,function(e){v.comp.postMessageBackToApp(r,a,e)});break;case"WINDOW_PLACEMENT_CHANGED":v.change.register.windowPlacementChangedHandler(e,t.compId,function(e){v.comp.postMessageBackToApp(r,a,e)});break;case"THEME_CHANGE":v.change.register.themeChangeHandler(e,r,function(t){v.style.postBackThemeData(e,r,t)});break;case"DEVICE_TYPE_CHANGED":v.change.register.deviceTypeChangeHandler(e,t.compId,function(e){v.comp.postMessageBackToApp(r,a,{deviceType:e})});break;case"STYLE_PARAMS_CHANGE":break;case"SITE_SAVED":v.change.register.siteSavedHandler(e,t.compId,function(){v.comp.postMessageBackToApp(r,a)});break;case"ON_MESSAGE_RESPONSE":e.siteAPI.reportBI(v.bi.errors.EVENT_TYPE_NOT_SUPPORTED);break;case"PUBLIC_DATA_CHANGED":var o=A(e,r);v.change.register.registerPublicDataChangedHandler(e,t.compId,o,function(e){v.comp.postMessageBackToApp(r,a,e)})}},siteInfo:function(e,t,o){var i={},s=n.data.get(e,e.siteAPI.getCurrentUrlPageId());if(s.siteTitle=I(e,s),r.common.utils.sdkVersionIsAtLeast(t.version,"1.42.0")?i.pageTitle=s.siteTitle||"":(i.siteTitle=s.siteTitle||"",i.pageTitle=s.title||""),i.pageTitleOnly=I(e,s,!1),i.siteDescription=c.description.get(e),i.siteKeywords=c.keywords.get(e),u.generalInfo.isFirstSave(e))i.baseUrl="";else{var l=u.generalInfo.getPublicUrl(e)||"",d=l&&a.urlUtils.parseUrl(l)||"";i.baseUrl=l&&d.protocol+"//"+d.host+d.path||"baseUrl is not available - site is saved but not published"}var p=e.dal.getByPath(["currentUrl"]);i.url=r.common.utils.appendProtocolToUrlIfNeeded(p.host,p),i.referer=window.document.referrer,o(i)},getSitePages:function(e,a,o){var n={filterHideFromMenuPages:!0,includePagesUrl:t.get(a,"data.includePagesUrl",!1),baseUrl:u.generalInfo.getPublicUrl(e),includeIsHomePage:!0,enhancedInfo:!1};o(r.sitePages.getSitePagesInfoData(e.siteDataAPI.siteData,n))},getSiteMap:function(e,t,a){var o={filterHideFromMenuPages:!0,includePagesUrl:!1,baseUrl:u.generalInfo.getPublicUrl(e),includeIsHomePage:!1,enhancedInfo:!0};a(r.sitePages.getSitePagesInfoData(e.siteDataAPI.siteData,o))},refreshApp:T,refreshAppByCompIds:T,getSectionUrl:function(e,t,a){if(u.generalInfo.isFirstSave(e))a({error:{message:"Page was not found."}});else{var r=t.data.sectionIdentifier,o=C(e,t.compId),n=R(o,r)||P(o);a(n?{url:D(e,n)}:{error:{message:"This app does not have any pages."}})}},openSettingsDialog:function(e,a,r){var o=A(e,a.compId),n=v.app.getAllCompsByApplicationId(e,o),i=void 0;if(a.data&&a.data.compId){if(i=t.find(n,{id:a.data.compId}),t.isUndefined(i))return void r({onError:"comp not found"})}else i=t.find(n,{id:a.compId});var s={pageId:i.pageId,compId:i.id};_.doPostMessage("openSettingsDialog",s,a.compId)},isSupported:function(e,t,a){a(!0)},navigateToPage:function(e,a,o){var i=e.siteAPI.getPrimaryPageId(),u=n.getPageIdList(e,!1,!0);r.services.tpaNavigationService.navigateToPage({scrollToAnchor:e.siteAPI.scrollToAnchor.bind(e.siteAPI),getSiteAspect:e.siteAPI.getSiteAspect.bind(e.siteAPI),navigateToPage:e.siteAPI.navigateToPage.bind(e.siteAPI)},a,i,u,function(t){var a=r.common.utils.Constants.TOP_PAGE_ANCHOR_PREFIX+t;return n.getPageAnchors(e,t,a)},function(a){var r=s.getComponentById(e,a),o=l.data.get(e,r);return t.get(o,"id")},o),_.doPostMessage("deselectComponent")},getExternalId:function(e,t,a){a(v.comp.getExternalId(e,s.getComponentById(e,t.compId)))},getInstalledInstance:function(e,a,r){var o={},n=v.app.getDataByAppDefId(e,a.data.appDefinitionId);o=t.isEmpty(n)?{onError:!0}:v.app.isInstalled(e,a.data.appDefinitionId,!1)?{instanceId:n.instanceId}:{onError:!0};r(o)},revalidateSession:function(e,t,a){var r=A(e,t.compId),o=e.dal.get(e.pointers.general.getMetaSiteId());v.provision.refreshAppSpecMap(e,r,o,function(e){a({instance:e.instance})},function(e){a({onError:!0,error:{errorCode:e.status,errorText:e.statusText,error:JSON.parse(e.response)}})})},resizeComponent:w,settingsResizeComponent:function(e,t,a){w(e,t,a)},getValue:function(e,t,a){var r=t.compId;if(t.data.scope===v.data.SCOPE.APP){var o=A(e,r);o?v.data.app.get(e,o,t.data.key,a):L(a)}else{var n=s.getComponentById(e,r)||b(e,r);n?v.data.comp.get(e,n,t.data.key,a):L(a)}},getValues:function(e,t,a){var r=t.compId;if(t.data.scope===v.data.SCOPE.APP){var o=A(e,r);o?v.data.app.getMulti(e,o,t.data.keys,a):L(a)}else{var n=s.getComponentById(e,r)||b(e,r);n?v.data.comp.getMulti(e,n,t.data.keys,a):L(a)}},setValue:function(e,t,a){var r=s.getComponentById(e,t.compId);r?d.set(e,r,t.data.key,t.data.value,t.data.scope,a):L(a)},removeValue:function(e,t,a){var r=s.getComponentById(e,t.compId);r?v.data.remove(e,r,t.data.key,t.data.scope,a):L(a)},getCurrentPageAnchors:function(e,o,i){var l=e.siteAPI.getPrimaryPageId(),u=n.getPage(e,l),c=s.getComponentByType(e,"wysiwyg.common.components.anchor.viewer.Anchor",u),d=t.map(c,function(t){return M(e,t)}),p=r.common.utils.Constants.TOP_PAGE_ANCHOR_PREFIX+l,g=a.scrollAnchors.getPageTopAnchor(l,p),f={id:g.compId,title:g.name};d.push(f),i(d)},getComponentInfo:function(e,a,r){var o=s.getComponentById(e,a.compId),n=l.data.get(e,o),i=n.applicationId,u=v.app.getData(e,i),c=g.isShowOnAllPages(e,o),d=n.widgetId?u.widgets[n.widgetId]:v.app.getMainSectionWidgetDataFromApplicationId(e,i);r({compId:a.compId,showOnAllPages:c,pageId:c?"":e.pointers.components.getPageOfComponent(o).id,tpaWidgetId:t.get(d,"tpaWidgetId",""),appPageId:t.get(d,"appPage.id","")})},settpads:function(e){v=e},navigateToSectionPage:function(e,a,o){var n=void 0,i=void 0,l=t.get(a,"data.sectionIdentifier.appDefinitionId");l?(n=v.app.getDataByAppDefId(e,l),i=t.get(n,"applicationId")):n=(i=A(e,a.compId))&&v.app.getData(e,i);var u=i&&f.getAppPages(e,i),c=e.siteAPI.getPrimaryPageId(),d={navigateToPage:e.siteAPI.navigateToPage.bind(e.siteAPI),reportBI:e.siteAPI.reportBI.bind(e.siteAPI),updatePageNavInfo:e.siteAPI.updatePageNavInfo.bind(e.siteAPI),scrollSiteTo:t.partial(g.setScroll,e),getSiteAspect:e.siteAPI.getSiteAspect.bind(e.siteAPI)};r.services.tpaNavigationService.navigateToSection(d,n,a,u,c,function(a){var r=s.getAllComponents(e,a,t.partial(B,e)),o=t.head(r);return t.get(o,"id")},t.partial(y.getRouterDataForPageIfExist,e),o)},getStateUrl:function(e,t,r){if(u.generalInfo.isFirstSave(e))r({error:{message:"Page was not found."}});else{var o=t.data.sectionId,n=C(e,t.compId),i=R(n,o);if(i){if(y.getRouterDataForPageIfExist(e,i.id))return void r({error:{message:"Can't retrieve url for a dynamic page. Please use the platform app API instead."}});r({url:function(e,t,r){var o=u.generalInfo.getPublicUrl(e);return a.wixUrlParser.getUrl(e.siteDataAPI.siteData,{pageId:t.id,title:t.pageUriSEO,tpaInnerRoute:r},!1,!0,o)}(e,i,t.data.state)})}else{var s=P(n);if(s){if(y.getRouterDataForPageIfExist(e,s.id))return void r({error:{message:"Can't retrieve url for a dynamic page. Please use the platform app API instead."}});r({url:D(e,s)})}else r({error:{message:"This app does not have any pages."}})}}},addApplication:function(e,t,a){_.doPostMessage("editorAddApplication",t.data,t.compId,a)},applicationLoaded:function(e,t){var a=s.getComponentById(e,t.compId);p.callCompLoaded(a)},isApplicationInstalled:function(e,t,a){_.doPostMessage("editorIsApplicationInstalled",t.data,t.compId,a)},isAppSectionInstalled:function(e,a,r){var o=void 0,n=t.get(a,["data","appDefinitionId"]);if(n){var i=v.app.getDataByAppDefId(e,n);o=t.get(i,"applicationId")}else o=A(e,a.compId);var s=E(e,o);r(t.some(s,{tpaPageId:t.get(a,["data","sectionId"])}))},smCurrentMember:function(e,t,a){e.siteAPI.getSiteAspect("siteMembers").getMemberDetailsInPreview(function(e){a(e||null)})},refreshCurrentMember:function(e){e.siteAPI.getSiteAspect("siteMembers").getMemberDetailsInPreview(null,null,!0)}}}),define("documentServices/tpa/services/tpaPostMessageService",["lodash","tpa","experiment","documentServices/tpa/handlers/tpaHandlers","documentServices/tpa/services/clientSpecMapService","documentServices/tpa/services/tpaEventHandlersService","documentServices/tpa/utils/tpaUtils"],function(e,t,a,r,o,n,i){"use strict";var s=t.common.tpaPostMessageCommon,l=function(e){return"editor"===e.originFrame},u=function(e,t,a){var n=s.fixOldPingPongMessageType(t.type);if(function(e,t){var a={openSettingsDialog:!0,isApplicationInstalled:!0}[t.type],n={isSupported:!0,registerEventListener:!0,getInstalledInstance:!0,resizeComponent:!0,revalidateSession:!0}[t.type],i={applicationLoaded:!0,siteInfo:!0,getSectionUrl:!0,getStateUrl:!0,navigateToPage:!0,getExternalId:!0,getValue:!0,getValues:!0,getCurrentPageAnchors:!0,getComponentInfo:!0,navigateToSectionPage:!0,isAppSectionInstalled:!0,getSitePages:!0,getSiteMap:!0,smCurrentMember:!0,refreshCurrentMember:!0}[t.type],s=l(t),u=e.pointers.general.getRenderFlag("componentViewMode"),c=e.dal.get(u),d={setValue:!0,removeValue:!0,addApplication:!0}[t.type]&&"editor"===c,p=!{getInstalledInstance:!0,addApplication:!0}[t.type]||o.isSuperAppByCompId(e,t.compId);return(i||n||a||s||d)&&p&&r[t.type]}(e,t)&&(r[n].apply(this,[e,t,a]),c(t))){var u=l(t)?"editor":"preview";i.sendBIEvent(e,t,u)}},c=function(t){return"registerEventListener"!==t.type||e.includes(n.supportedEvents,t.data.eventKey)};return{init:function(e){"undefined"!=typeof window&&window.addEventListener("message",s.handleTPAMessage.bind(this,e,null,u),!1)},callHandler:u}}),define("documentServices/tpa/tpa",["lodash","documentServices/hooks/hooks","core","utils","experiment","tpa","documentServices/siteMetadata/siteMetadata","documentServices/component/component","documentServices/structure/structure","documentServices/page/page","documentServices/privateServices/idGenerator","documentServices/structure/fixedComponentMeasuring","documentServices/theme/theme","documentServices/tpa/services/tpaComponentService","documentServices/tpa/services/tpaAddService","documentServices/tpa/services/tpaComponentCommonService","documentServices/tpa/services/tpaWidgetService","documentServices/tpa/services/tpaSectionService","documentServices/tpa/services/installedTpaAppsOnSiteService","documentServices/tpa/services/clientSpecMapService","documentServices/tpa/services/appMarketService","documentServices/tpa/services/provisionService","documentServices/tpa/services/appStoreService","documentServices/tpa/services/sectionsTranslatedPageTitlesCache","documentServices/tpa/data/componentDefinition","documentServices/tpa/services/pendingAppsService","documentServices/tpa/constants","documentServices/tpa/services/tpaSettingsService","documentServices/tpa/utils/tpaUtils","documentServices/tpa/services/tpaEventHandlersService","documentServices/tpa/services/appInstallationAndDeletionEvents","documentServices/tpa/bi/errors","documentServices/tpa/services/billingService","documentServices/tpa/services/businessManagerService","documentServices/tpa/services/experimentService","documentServices/tpa/services/tpaDataService","documentServices/tpa/services/tpaPostMessageService","documentServices/tpa/services/tpaStyleService","documentServices/tpa/handlers/tpaHandlers","documentServices/tpa/services/tpaDeleteService"],function(e,t,a,r,o,n,i,s,l,u,c,d,p,g,f,m,y,_,v,S,O,h,A,E,C,P,R,I,D,T,w,b,L,M,B,V,x,F,k,H){"use strict";var N=!1,U=function(e,t){return S.isPremiumApp(e,t)},G=function(e,t,a){return S.getWidgetDataFromTPAPageId(e,t,a)},W=function(e,t,a){T.registerThemeChangeHandler(e,t,a)},X=function(e,t){return S.getAppData(e,t)},Z=function(e,t,a){return v.isAppInstalledBy(e,t,a)},z=function(e,t,a,r){return v.isAppInstalledOnPage(e,t,a,r)},Y=function(t,a){var r=e(K(t,a)).map(function(e){return s.data.get(t,e)}).filter(function(e){return S.isPremiumApp(t,e.applicationId)}).map(function(e){return S.getAppData(t,e.applicationId)}).value();return e.uniqBy(r,"applicationId")},K=function(t,a){a=e.isArray(a)?a:[a];var r=[];return e.forEach(a,function(e){var a=s.getType(t,e);D.isTpaByCompType(a)&&r.push(e),r=r.concat(s.getTpaChildren(t,e))}),r},J=function(e,t){return S.isAppPermissionsIsRevoked(t)},j=function(t){var a=u.getPageIdList(t,!1,!1),r=e(a).map(function(e){return u.data.get(t,e)}).filter("tpaApplicationId").reject("pageUriSEO").value();e.forEach(r,function(a){var r=S.getAppData(t,a.tpaApplicationId),o=G(t,r.appDefinitionId,a.tpaPageId);if(o){var n=m.getPageUriSEO(t,e.get(o,"appPage.name"));u.data.set(t,a.id,{pageUriSEO:n})}})},Q=function(e){N=e};var q={initialize:function(t,a){a&&a.runStylesGC&&V.runGarbageCollection(t);var r=t.dal.get(t.pointers.general.getClientSpecMap());d.setMeasuringForType("wysiwyg.viewer.components.tpapps.TPAGluedWidget",n.gluedWidgetMeasuringUtils.getGluedWidgetMeasurements.bind(null,r)),x.init(t),k.settpads(q),Q(!0),A.settleOnLoad(t),A.preSaveAddAppsOnLoad(t),j(t),O.getSectionsTranslatedPageTitles(t).then(function(e){E.init(e)});var o=e(r).values().map("appDefinitionId").compact().value();M.updateBusinessManagerSupportInCache(t,o)},isTpaByCompType:function(e,t){return D.isTpaByCompType(t)},addApp:g.addAppWrapper,getCompToAddWithOptionalCustomIdRef:function(t,a,r){return s.getComponentToAddRef(t,a,r,e.get(r,"optionalCustomId"))},onProvisionSucceeded:function(e,t,a,r){S.registerAppData(e,t);var o=v.getAllAppCompsByAppId(e,a);g.refreshApp(e,o),r&&r()},isPageMarkedAsHideFromMenu:function(e,t,a){var r=X(e,t);return n.common.utils.isPageMarkedAsHideFromMenu(r,a)},isContainerContainsPremiumTpa:function(t,a){var r=Y(t,a);return!e.isEmpty(r)},getPremiumTpaChildren:Y,getTpaPointersRecursive:K,getPremiumTpaChildrenOnPage:function(t,a,r,o){var n=Y(t,a);return o?e.reject(n,function(e){if(!r||r!==e.applicationId)return S.hasSections(t,e)}):n},closePopupsAndModal:function(e){e.siteAPI.getSiteAspect("tpaPopupAspect").removeAllPopups(),e.siteAPI.getSiteAspect("tpaModalAspect").removeModal()},addSystemApp:e.partial(g.addAppWrapper,R.TYPE.TPA_WIDGET),provisionSystemApp:function(t,a,r,o){var n=S.getAppDataByAppDefinitionId(t,r);if(n&&!J(t,n)){var i=e.get(o,"widgetId"),s=n.widgets[i];if(!(y.isGlued(s)?z(t,"masterPage",r):Z(t,r)))return g.provisionWidget(t,a,r,{widgetId:i}),void P.add(n)}t.setOperationsQueue.asyncPreDataManipulationComplete({dontAdd:!0})},addOriginCompIdToWidgetsOnPage:function(t,a){!function t(a){e.forEach(a.components,function(e){e.componentType===R.COMP_TYPES.TPA_WIDGET&&(e.originCompId=e.id),t(e)})}(a)},widget:{add:e.partial(g.addAppWrapper,R.TYPE.TPA_WIDGET),provisionWidget:g.provisionWidget,delete:y.deleteWidget,notifyBeforeDelete:y.notifyBeforeWidgetDelete,getPagesToBeDeleted:y.getPagesToBeRemovedWithWidget,duplicate:function(e,t,a){y.duplicateWidget(e,t,a)}},section:{add:g.addSection,provisionSection:g.provisionSection,addMultiSection:g.addMultiSection,provisionMultiSection:g.provisionMultiSection,addSubSection:g.addSubSection,delete:_.actualDeleteSection,notifyBeforeDelete:_.notifyDeleteSection,alreadyInstalled:function(e,t){return _.alreadyInstalled(e,t)},isSectionInstalledByTpaPageId:v.isSectionInstalledByTpaPageId,getPageData:function(e,t){var a=u.data.get(e,t),r=a.tpaApplicationId>0,o=void 0;return r&&(o=S.getAppData(e,a.tpaApplicationId)),{title:a.title,hasSection:r,appData:o}},getSectionRefByPageId:function(e,t){return g.getSectionRefByPageId(e,t)}},app:{provisionApp:f.provisionApp,add:f.addApp,getData:X,getDataByAppDefId:function(e,t){return S.getAppDataByAppDefinitionId(e,t)},isHybrid:function(e,t){return S.isHybridApp(e,t)},isDashboardAppOnly:function(e,t){var a=t&&X(e,t);return S.isDashboardAppOnly(a)},isPremium:U,hasPremiumOffering:function(e,t){return S.hasPremiumOffering(e,t)},isPremiumByAppDefinitionId:function(e,t){var a=S.getAppDataByAppDefinitionId(e,t);return!!a&&U(e,a.applicationId)},isLastAppComp:function(e,t){var a=v.getAllAppCompsByAppId(e,t);return a&&1===a.length},isInstalled:Z,getWidgetDataFromTPAPageId:G,getWidgetDataFromTPAWidgetId:function(e,t,a){return S.getWidgetDataFromTPAWidgetId(e,t,a)},registerOnInstalled:function(e,t,a){w.registerOnAppInstalled(t,a)},registerOnDeleted:function(e,t,a){w.registerOnAppDeleted(t,a)},getRenderedReactCompsByApplicationId:v.getAllAppCompsByAppId,getAllCompsByApplicationId:v.getAllAppCompsByAppId,hasSections:S.hasSections,getDefaultLayout:g.getDefaultLayout,url:{getSettingsUrl:I.getSettingsUrl,getSettingsModalUrl:I.getSettingsModalUrl},getExtensionsWidgets:function(e,t){return S.getExtensionsWidgets(e,t)},getInstalledDependentAppsData:v.getInstalledDependentAppsData,getFirstAppCompPageId:function(e,t,a){return v.getFirstAppCompPageId(e,t,a)},refreshApp:function(e,t,a){g.refreshApp(e,t,a)},isMultiSectionInstalled:function(e,t){return v.isMultiSectionInstalled(e,t)},getSections:function(t,a){var r=v.getAllAppCompsByAppId(t,a);return e.filter(r,function(e){return e.type===R.DATA_TYPE.TPA_SECTION||e.type===R.DATA_TYPE.TPA_MULTI_SECTION})},isAppProvisionedOnServer:S.isAppProvisionedOnServer,isPermissionsRevoked:J,getMainSectionWidgetDataFromApplicationId:S.getMainSectionWidgetDataFromApplicationId,getMainSectionWidgetData:S.getMainSectionWidgetData,getSectionsToAutoInstallWidgetData:S.getAppSectionsToInstall,hasMainSection:S.hasMainSection,isSuperAppByCompId:function(e,t){return S.isSuperAppByCompId(e,t)},hasEditorPlatformPart:function(e,t){return S.hasEditorPlatformPart(t)},isDashboardSupportedInBusinessManager:function(e,t){return M.isAppDashboardSupportedInBusinessManager(t)},delete:function(e,t,a){H.actualDeleteApps(e,t,a)},notifyBeforeApplicationDelete:function(e,t){var a=H.notifyAppsToDelete(e,t,!0);e.setOperationsQueue.asyncPreDataManipulationComplete(a)}},change:{editMode:function(e,t){T.editModeChange(t)},siteSaved:function(){T.siteSaved()},sitePublished:function(){T.sitePublished()},deviceType:function(e,t){T.deviceTypeChange(t)},register:{editorEventHandler:function(e,t,a){T.registerEditorEventHandler(t,a)},compLoadedHandler:function(e,t){T.registerCompLoaded(t)},deleteCompHandler:function(e,t,a){T.registerDeleteCompHandler(t,a)},editModeChangeHandler:function(e,t,a){T.registerEditModeChangeHandler(t,a)},deviceTypeChangeHandler:function(e,t,a){T.registerDeviceTypeChangeHandler(t,a)},themeChangeHandler:W,windowPlacementChangedHandler:function(e,t,a){T.registerWindowPlacementChangedHandler(t,a)},settingsUpdatedHandler:function(e,t,a){T.registerSettingsUpdatedHandler(t,a)},registerPublicDataChangedHandler:function(e,t,a,r){T.registerPublicDataChangedHandler(t,a,r)},sitePublishedHandler:function(e,t,a){T.registerSitePublishedHandler(t,a)},siteSavedHandler:function(e,t,a){T.registerSiteSavedHandler(t,a)}},trigger:{editorEvent:function(e,t){T.triggerEditorEvent(t)},windowPlacement:function(e,t){T.triggerOnWindowPlacementChanged(t)},settingsUpdated:function(e,t,a,r){g.settingsUpdated(e,t,a,r)}}},getComponentDefinition:function(e,t){return C.getComponentDefinition(t)},getSettingsModalParams:function(e,t,a){return I.getSettingsModalParams(e,t,a)},pending:{add:P.addPendingDashboardApp,dismiss:P.dismiss,getPendingApps:P.getPendingAppsFromSiteMetaData},getPendingApps:P.getPendingApps,getPremiumPendingApps:P.getPremiumPendingApps,appMarket:{getData:O.getAppMarketData,getDataForPage:O.getAppMarketDataForPage,getDataAsync:O.getAppMarketDataAsync,getUrl:O.getAppMarketUrl,getInfoUrl:O.getAppMarketInfoUrl,getAppReviewsUrl:O.getAppReviewsUrl,getPermissionsUrl:O.getAppMarketPermissionsUrl,getRelatedApps:O.getRelatedApps,getPackages:O.getPackages},billing:{getPremiumApps:O.getPremiumApps,getSiteUpgradeUrl:L.getSiteUpgradeUrl,getAppUpgradeUrl:L.getAppUpgradeUrl},style:{setParamOldSDK:function(e,t,a){W(e,a,function(t){g.postBackThemeData(e,a,t)})},setStyleParam:F.setStyleParam,mapWixParamsToCssValues:F.mapWixParamsToCssValues,get:function(e,t){return F.getStyleDataToPassIntoApp(e,t)},postBackThemeData:g.postBackThemeData,getNameToFontsKeyMap:function(){return n.common.styleUtils.getNameToFontsKeyMap()},getTpaColorsToSiteColors:F.getTpaColorsToSiteColors},provision:{provisionAppDemoSave:g.provisionAppDemoSave,refreshAppSpecMap:h.refreshSpecMap},constants:R,bi:{errors:b,sendBIEvent:function(e,t,a){D.sendBIEvent(e,t,a)}},comp:{resize:function(t,a,r,o,n){if(l.isHorizontallyStretchedToScreen(t,a))n({onError:"component is already set to full width"});else{var i=s.layout.get(t,a);l.updateCompLayout(t,a,e.defaults({width:r,height:o},{width:i.width,height:i.height})),t.siteAPI.forceUpdate(),n({width:(i=s.layout.get(t,a)).width,height:i.height})}},setExternalId:function(e,t,a,r){g.setExternalId(e,t,a,r)},getExternalId:function(e,t){return g.getExternalId(e,t)},postMessageBackToApp:g.postMessageBackToApp,isInstalled:v.isAppComponentInstalled,add:f.addComponent,provisionComp:f.provisionComp},data:{set:V.set,app:{get:V.getAppValue,getMulti:V.getAppValues},comp:{get:V.getComponentValue,getMulti:V.getComponentValues},remove:V.remove,SCOPE:V.SCOPE,get:V.get,getMulti:V.getMulti},__privates:{fixEcomIfNeeded:function(t,a){var r=S.getAppsData(t),o="1380b703-ce81-ff05-f115-39571d94dfcd",n=e.find(r,{appDefinitionId:o});if(n&&v.isAppInstalledBy(t,o)){var i=t.pointers.data.getDataItemsWithPredicate({tpaApplicationId:n.applicationId},"masterPage").map(t.dal.get),s=S.getAppSections(void 0,n),l=e(s).map("appPage").map("id").value(),u=e.map(i,"tpaPageId"),c=S.getMainSectionWidgetData(void 0,n).appPage.id,d=void 0,p=void 0,f=e.some(i,function(t){return e.startsWith(t.tpaPageId,c)});if(f){p=e.reject(l,function(t){return e.startsWith(t,c)});var y=e.reject(u,function(t){return e.startsWith(t,c)});d=e.intersection(p,y)}f?e.isEqual(d,p)||m.addHiddenPages(t,n):e.isEqual(d,p)&&0!==e.size(i)||g.provisionSection(t,a,o)}},areDocumentServicesHandlersReady:function(){return N},fixProGallery:function(t){var a=S.getAppsData(t),r="14271d6f-ba62-d045-549b-ab972ae1f70e",o=e.find(a,{appDefinitionId:r});o&&v.isAppInstalledBy(t,r)&&(t.pointers.data.getDataItemWithPredicate({tpaApplicationId:o.applicationId},"masterPage")||m.addHiddenPages(t,o))}}};return q}),define("documentServices/menu/mainMenu",["lodash","coreUtils","experiment","documentServices/dataModel/dataModel","documentServices/hooks/hooks","documentServices/constants/constants","documentServices/menu/basicMenuItemMethods","documentServices/menu/menuUtils","documentServices/page/pageUtils","documentServices/page/pageData","documentServices/page/popupUtils","documentServices/tpa/tpa"],function(e,t,a,r,o,n,i,s,l,u,c,d){"use strict";var p=t.multilingual.PointerOperation;f();var g="CUSTOM_MAIN_MENU";function f(){o.registerHook(o.HOOKS.REMOVE.AFTER,S,"mobile.core.components.Page"),o.registerHook(o.HOOKS.REMOVE.AFTER,S,"wixapps.integration.components.AppPage"),o.registerHook(o.HOOKS.ADD.BEFORE,y,"wysiwyg.viewer.components.menus.DropDownMenu"),o.registerHook(o.HOOKS.ADD.BEFORE,y,"wysiwyg.common.components.verticalmenu.viewer.VerticalMenu"),l.registerPageDataChangedCallback(_)}function m(t,a,o){if(!e.isString(a)||"#"!==a[0])return!1;var n=r.getDataItemById(t,a.replace("#",""),o);return"CustomMenu"===e.get(n,"type")}function y(t,a,r,o){var n=e.get(o,"data.menuRef"),i=t.pointers.components.getPageOfComponent(r).id;n?m(t,n,i)||(o.data.menuRef="#CUSTOM_MAIN_MENU"):(n=o.dataQuery,o.data={menuRef:m(t,n,i)?n:"#CUSTOM_MAIN_MENU",type:"CustomMenuDataRef"},delete o.dataQuery)}function _(t,o,n){if(!c.isPopup(t,o)){for(var i=!1,l=t.pointers.data.getDataItemsWithPredicate({type:"PageLink",pageId:"#"+o}),d=void 0,g=0;g<l.length;g++)if(d=t.pointers.data.getDataItemWithPredicate({type:"BasicMenuItem",link:"#"+l[g].id})){i=!0;break}i?function(t,o,n){var i=void 0,l=void 0,c=t.dal.get(o),d=e.reduce(n,function(a,r,o){switch(o){case"title":a.label=r;break;case"hidePage":i=s.getLinkItemByMenuItemId(t,c.id),l=u.getPageData(t,s.sanitizeHash(i.pageId)),a.isVisible=!r,e.isNil(l.mobileHidePage)&&(a.isVisibleMobile=!r);break;case"mobileHidePage":a.isVisibleMobile=!r}return a},{});a.isOpen("sv_multilingual")&&(o.multilingual=p.SET);r.setDataItemByPointer(t,o,e.assign(c,d),"data")}(t,d,n):function(e,t){var a=e.pointers.data.getDataItemFromMaster(t),r=e.dal.get(a);A(e,"#"+r.id,r.title,r.hidePage,r.mobileHidePage)}(t,o)}}function v(e,t,a){var r=s.getMenuDataItemPointer(e,t),o=e.dal.get(r).items,n=s.getMenuDataItemPointer(e,a),i=e.dal.get(n),l=i.items,u=l.indexOf("#"+t);l.splice.call(l,u,1),o&&l.splice.apply(l,[u,0].concat(o)),e.dal.set(n,i),e.dal.remove(r)}function S(t,a){var o=r.getDataItemById(t,"CUSTOM_MENUS").menus;return e.forEach(o,function(r){!function(t,a,r){var o=r.id,n=s.getItemIdAndParent(e.pick(a,["items","id"]),{type:"PageLink",pageId:"#"+o});n&&v(t,n.itemId,n.parentId)}(t,r,a)}),{success:!0}}function O(t,a,o,n,i,l,u,c){s.validateParent(t,i,a,c),function(t,a,o,n,i,s){var l=r.createDataItemByType(t,"BasicMenuItem"),u=t.pointers.data.getDataItemFromMaster(a);r.setDataItemByPointer(t,u,e.assign(l,{id:a,label:o,isVisible:!i,isVisibleMobile:!("boolean"==typeof s?s:i),link:n?"#"+n:void 0}),"data")}(t,a,o,n,l,u);var d=s.getMenuDataItemPointer(t,i),p=t.pointers.getInnerPointer(d,"items");t.dal.isExist(p)?t.dal.push(p,"#"+a):t.dal.set(p,["#"+a])}function h(t,a,o,n,i,s,l,u){O(t,a,n,function(t,a){var o=r.generateNewDataItemId(),n=t.pointers.data.getDataItemFromMaster(o);return r.setDataItemByPointer(t,n,e.assign(a,{id:o}),"data"),o}(t,o),i,s,l,u)}function A(t,a,o,n,i){var s=r.createDataItemByType(t,"PageLink");h(t,r.generateNewDataItemId(),e.assign(s,{pageId:a}),o,g,n,i)}return{addHeaderItem:function(e,t,a,r,o,n){return O(e,t,a,null,r||g,o,n,g)},addLinkItem:function(e,t,a,r,o,n,s){return function(e,t){if(i.isPageLink(e,t))throw new Error('Explicitly adding a LinkItem of type "PageLink" is not allowed')}(e,a),h(e,t,a,r,o||g,n,s,g)},addPageItem:A,deleteItem:function(e,t){!function(e,t){t=s.sanitizeHash(t);var a=s.getLinkItemByMenuItemId(e,t);if(a){var r=a.pageId?s.sanitizeHash(a.pageId):null,o=c.isPopup(e,r);if("PageLink"===a.type&&!o)throw new Error("Explicitly deleting a page link item is not allowed")}}(e,t),function(e,t){var a=s.getSiteMenu(e);v(e,t,s.getParentItemId({items:a,id:g},t))}(e,t)},getMenu:function(t,a){var o=s.getSiteMenu(t);return a?e.filter(o,function(a){return!function(t,a){var o=e.get(a,"pageId");if(o&&"PageLink"===e.get(a,"type")){o=o.replace("#","");var n=r.getDataItemById(t,o),i=e.get(n,"tpaApplicationId"),s=e.get(n,"tpaPageId");return d.isPageMarkedAsHideFromMenu(t,i,s)}return!1}(t,a.link)}):o},initialize:f,moveItem:function(e,t,a,r){t=s.sanitizeHash(t);var o=s.getSiteMenu(e),n=s.getParentItemId({items:o},t)||"CUSTOM_MAIN_MENU";a=a||"CUSTOM_MAIN_MENU",s.validateParent(e,a,t,"CUSTOM_MAIN_MENU");var i=s.getIndexOfItemInParent(e,n,t),l=s.getMenuDataItemPointer(e,n),u=e.dal.get(l);u.items.splice(i,1),e.dal.set(l,u);var c=s.getMenuDataItemPointer(e,a),d=e.dal.get(c);d.items=d.items||[],d.items.splice(r,0,"#"+t),e.dal.set(c,d)}}}),define("documentServices/routers/utils/routersUtils",["lodash","coreUtils"],function(e,t){"use strict";return{generateRouterId:function(a){for(var r=t.guidUtils.getUniqueId("routers","-");e(a).keys().includes(r);)r=t.guidUtils.getUniqueId("routers","-");return r}}}),define("documentServices/routers/utils/constants",[],function(){"use strict";var e=["routers"];return{paths:{ROUTERS_PATH:e,ROUTERS_CONFIG_MAP:e.concat("configMap")},routerPrefixPath:"prefix",routerPagesPath:"pages",InvalidPrefixReason:{PREFIX_CAN_NOT_BE_EMPTY:1,PREFIX_IS_TOO_LONG:2,PREFIX_IS_DUPLICATE_OF_URI_SEO:3,PREFIX_CONTAINS_INVALID_CHARACTERS:4,PREFIX_IS_FORBIDDEN_WORD:5,PREFIX_IS_IN_USE_BY_ANOTHER_APPLICATION:6}}}),define("documentServices/routers/routers",["lodash","utils","documentServices/page/pageData","documentServices/page/page","documentServices/menu/mainMenu","documentServices/routers/routersGetters","documentServices/routers/utils/routersUtils","documentServices/wixCode/wixCode","documentServices/platform/platform","documentServices/routers/utils/constants"],function(e,t,a,r,o,n,i,s,l,u){"use strict";function c(t,a){var r=o.getMenu(t),n=function(t,a){var r={isSubPage:!1};return e.forEach(t,function(t){var o=t.items||[];e.forEach(o,function(e){(e.link&&e.link.pageId?e.link.pageId.slice(1):"")===a&&(r={isSubPage:!0,menuItemId:e.id})})}),r}(r,a);n.isSubPage&&o.moveItem(t,n.menuItemId,null,r.length)}function d(t,a){var r=o.getMenu(t),n=function(t,a){var r=[];return e.forEach(t,function(t){var o=e.get(t,"link.pageId");o&&o.slice(1)===a&&(r=t.items)}),r}(r,a);e.forEach(n,function(e,a){o.moveItem(t,e.id,null,r.length+a)})}function p(t,a){var r=function(t){var a=t.pointers.routers.getRoutersConfigMapPointer();return e.map(t.dal.get(a),"prefix")}(t);return e.includes(r,a)}function g(t,r){var o=a.getPagesList(t,!0),n=e.map(o,function(e){return a.getPageUriSEO(t,e)});return e.includes(n,r)}function f(t,a){return e.transform(t,function(e,t){e[t]=a},{})}function m(t,o,i,s){s=e.isArray(s)?s:[s];var l=e.get(t.dal.get(i),"id");a.setPageData(t,l,{hidePage:!0,indexable:!1});var u=t.dal.get(o),p=n.get.byPage(t,i);if(p&&!t.pointers.isSamePointer(o,p))throw new Error("page already exist on another router");if(r.homePage.get(t)===i.id)throw new Error("home page can't become dynamic page");u.pages=p?e(u.pages).omitBy(function(e){return e===l}).assign(f(s,l)).value():e.merge(u.pages||{},e.omitBy(f(s,l),e.isUndefined)),c(t,i.id),d(t,i.id),t.dal.set(o,u)}function y(t,o,n){var i=e.get(t.dal.get(n),"id"),s=t.dal.get(o);if(!(s.pages&&e.includes(e.values(s.pages),i)))throw new Error("the page is not connected to this router");_(t,o,i);var l=a.getPageData(t,i),u=a.getValidPageUriSEO(t,i,l.title);t.siteAPI.getPrimaryPageId()===n.id&&r.navigateTo(t,n.id),a.setPageData(t,i,{pageUriSEO:u,title:l.title,hidePage:!1,indexable:!0})}function _(t,a,r){var o=t.dal.get(a);o.pages=e.omitBy(o.pages,function(e){return r===e}),t.dal.set(a,o)}function v(t){var o=a.getPagesDataItems(t),i=r.homePage.get(t);return e.reduce(o,function(e,a){var o=r.getReference(t,a.id);s=t,u=i,c=o,"Page"!==(l=a).type||l.tpaApplicationId>0||n.get.byPage(s,c)||u===l.id||e.push({pageRef:o,pageData:a});var s,l,u,c;return e},[])}function S(e,t){return{valid:e,message:t,errorCode:t}}return{add:function(t,a,r){var o=e.clone(r);return o.config?e.isObject(o.config)&&(o.config=JSON.stringify(o.config)):o.config="",function(t,a){if(!a.prefix)throw new Error("Router not valid - Missing prefix.");if(!a.appDefinitionId)throw new Error("Router not valid - Missing appDefinitionId.");if(!e.isNil(a.hide)&&!e.isBoolean(a.hide))throw new Error("Router not valid - hide parameter need to be boolean");if(p(t,a.prefix))throw new Error("Router not valid - Prefix: "+a.prefix+", already exist");if(g(t,a.prefix))throw new Error("Router not valid - Page Uri SEO: "+a.prefix+", already exist.");if(a.pages)throw new Error("Router not valid - pages should not be on the router object")}(t,o),t.dal.set(a,o),a},remove:function(t,a){var o=n.get.all(t),i=n.get.byRef(t,a),s=e.findKey(o,{prefix:i.prefix});e.forEach(i.pages,function(e){var o=r.getReference(t,e);y(t,a,o)}),delete o[s];var l=t.pointers.routers.getRoutersConfigMapPointer();t.dal.set(l,o)},get:{all:n.get.all,byApp:n.get.byApp,byRef:n.get.byRef,byId:n.get.byId},getRouterRef:{byPrefix:n.get.byPrefix,byPage:n.get.byPage},update:function(t,a,r){var o=t.dal.get(a);if(r.prefix&&r.prefix!==o.prefix){if(p(t,r.prefix))throw new Error("Router not valid - Prefix: "+r.prefix+", already exist");if(g(t,r.prefix))throw new Error("Router not valid - Page Uri SEO: "+r.prefix+", already exist.");o.prefix=r.prefix}r.config&&(e.isObject(r.config)?o.config=JSON.stringify(r.config):o.config=r.config),e.isBoolean(r.hide)&&r.hide!==o.hide&&(o.hide=r.hide),t.dal.set(a,o)},getRouterDataForPageIfExist:n.getRouterDataForPageIfExist,getPageFromInnerRoute:function(r,o,n,i){var l=r.dal.get(r.pointers.routers.getRoutersConfigMapPointer())[o],u=t.routersBackEndRequests.makeParamObjFromPs(r,l,a);s.fileSystem.flush(r).then(function(){t.routersBackEndRequests.getInnerRoutesSiteMap(u,function(t){var a=e.find(t,{url:n});i(a?a.pageName:null)},function(){i()},r.siteDataAPI.siteData)})},getRouterInnerRoutes:function(r,o,n,i){var l=r.dal.get(r.pointers.routers.getRoutersConfigMapPointer())[o],u=t.routersBackEndRequests.makeParamObjFromPs(r,l,a);s.fileSystem.flush(r).then(function(){t.routersBackEndRequests.getInnerRoutesSiteMap(u,function(t){i(e.filter(t,{pageName:n}))},function(){i()},r.siteDataAPI.siteData)})},getCurrentInnerRoute:function(t){var a=t.siteAPI.getPrimaryPageId(),r=n.getRouterDataForPageIfExist(t,a);if(!r)return{isDynamic:!1};var o=t.dal.getByPath(["_currentRootInfos",a]);if(o.routerDefinition){if(!o.pageAdditionalData)return{isDynamic:!0,routerId:r.routerId};var i=o.pageAdditionalData.split("/");return{isDynamic:!0,innerRoute:e.drop(i,1).join("/"),routerId:r.routerId}}return{isDynamic:!1}},isValidPrefix:function(t,r,o){if(!o)return S(!1,u.InvalidPrefixReason.PREFIX_CAN_NOT_BE_EMPTY);var i=e.get(l.getAppDataByApplicationId(t,r),"appDefinitionId"),s=function(e,t){var a=n.get.byPrefix(e,t);if(a)return e.dal.get(a).appDefinitionId}(t,o);if(s)return s===i?S(!0,""):S(!1,u.InvalidPrefixReason.PREFIX_IS_IN_USE_BY_ANOTHER_APPLICATION);if(a.isPageUriSeoTooLong(o))return S(!1,u.InvalidPrefixReason.PREFIX_IS_TOO_LONG);if(a.isDuplicatePageUriSeo(t,null,o))return S(!1,u.InvalidPrefixReason.PREFIX_IS_DUPLICATE_OF_URI_SEO);if(o.match(/[^A-Za-z0-9-]/g))return S(!1,u.InvalidPrefixReason.PREFIX_CONTAINS_INVALID_CHARACTERS);var c=t.pointers.general.getForbiddenPageUriSEOs();return(t.dal.get(c)||{})[o]?S(!1,u.InvalidPrefixReason.PREFIX_IS_FORBIDDEN_WORD):S(!0,"")},pages:{add:function(e,t,a,o,n){return r.add(e,t,o),m(e,a,t,n),t},connect:m,disconnect:y,removePageFromRouter:_,listConnectablePages:v,isConnectablePage:function(t,a){var r=e.matchesProperty("pageData.id",a);return e.some(v(t),r)},getDynamicPagesList:function(t){return e.reduce(n.get.all(t),function(r,o){var n=e(o.pages).values().uniq().value();return r.push({appDefinitionId:o.appDefinitionId,appDefinitionName:l.getAppDataByAppDefId(t,o.appDefinitionId).appDefinitionName,prefix:o.prefix,group:o.group,pages:e.map(n,function(e){return a.getPageData(t,e)}),hide:o.hide||!1}),r},[])},move:function(t,a,r,o){var i=n.get.byPage(t,a);if(!i)throw new Error("cannot move a static page");if(!t.pointers.isSamePointer(r,i))throw new Error("page is not related to the origin router");var s=t.dal.get(r),l=t.dal.get(o);if(s&&l&&s.appDefinitionId!==l.appDefinitionId)throw new Error("cannot move a page that not related to app");if(!t.pointers.isSamePointer(r,o)){var u,c,d=(u=s.pages,c=a.id,e.invertBy(u)[c]);y(t,r,a),m(t,o,a,d)}}},getRouterPointer:function(t){var a=n.get.all(t),r=i.generateRouterId(a);!function(t){var a=n.get.all(t);if(e.isEmpty(a)){var r=t.pointers.routers.getRoutersPointer();t.dal.set(r,{configMap:{}})}}(t);var o=t.pointers.routers.getRoutersConfigMapPointer();return t.pointers.getInnerPointer(o,r),t.pointers.routers.getRouterPointer(r)},getPageToAddPointer:function(e){return r.getPageIdToAdd(e)}}}),define("documentServices/hooks/componentHooks/pageHooks",["lodash","platformEvents","documentServices/wixCode/wixCode","documentServices/platform/platform","documentServices/routers/routers","documentServices/tpa/tpa"],function(e,t,a,r,o,n){"use strict";return{beforePageRemoveHook:function(a,n){var i=o.getRouterRef.byPage(a,n);i&&(function(a,n,i){var s=o.get.byRef(a,n),l=r.getAppDataByAppDefId(a,s.appDefinitionId).applicationId,u=e.findKey(s.pages,function(e){return e===i});r.notifyApplication(a,l,t.factory.pageDeleted({pageRole:u}))}(a,i,n.id),o.pages.removePageFromRouter(a,i,n.id))},duplicatePageCode:a.duplicatePageCode,removePageFromPlatformApps:function(e,t){r.removePageFromPlatformApps(e,t)},addOriginCompIdToWidgetsOnPage:function(e,t){n.addOriginCompIdToWidgetsOnPage(e,t)},initMobileComponents:function(e,t){var a=e.pointers.getInnerPointer(t,"mobileComponents");e.dal.full.isExist(a)||e.dal.full.set(a,[])},fixDuplicatedPageCodeBehaviors:function(t,a){var r=t.pointers.page.getPagePointer(a),o=t.pointers.getInnerPointer(r,"structure");!function t(a,r,o){if(r.behaviorQuery){var n=a.pointers.data.getBehaviorsItem(r.behaviorQuery,o),i=a.dal.get(n),s=void 0;try{s=JSON.parse(i.items)}catch(e){}var l=!1;e(s).filter(["action.type","comp"]).reject(["action.sourceId",r.id]).forEach(function(t){l=!0,t.action.sourceId=r.id,t.behavior.targetId=o,e.has(t,"behavior.params.compId")&&(t.behavior.params.compId=r.id)}),l&&(i.items=JSON.stringify(s),a.dal.set(n,i))}e.forEach(r.components,function(e){t(a,e,o)})}(t,t.dal.full.get(o),a)}}}),define("documentServices/hooks/componentHooks/verticalMenu",["lodash","utils","skinExports","documentServices/dataModel/dataModel","documentServices/theme/theme"],function(e,t,a,r,o){"use strict";return{beforeAdd:function(n,i,s,l){if(!e.get(l,"props.menuItemHeight")&&e.get(l,"layout.height")){var u=l.layout.height,c=r.getDataItemById(n,l.data.menuRef.replace("#","")).items,d=e.filter(c,"isVisible").length,p=e.isString(l.style)?o.styles.get(n,l.style):l.style,g=parseInt(p.style.properties.sepw||p.style.properties.separatorHeight||0,10),f=a[l.skin],m=t.verticalMenuCalculations.getItemHeight(u,g,d,f);l.props.menuItemHeight=m}}}}),define("documentServices/hooks/componentHooks/siteBackgroundHooks",["lodash"],function(e){"use strict";function t(t,a){var r=t.pointers.data.getDataItem(a,a),o=e.get(t.dal.get(r),"pageBackgrounds",{}),n=o.mobile;n&&!n.mediaSizing&&(n.mediaSizing="viewport",t.dal.merge(r,{pageBackgrounds:o}))}return{setMobileMediaSizing:t,setMobileMediaSizingByPointer:function(e,a){t(e,a.id)},setMediaSizingForDevice:function(e,a,r){"mobile"===r&&t(e,a)}}}),define("documentServices/hooks/componentHooks/siteHeaderHooks",["lodash","documentServices/constants/constants","documentServices/actionsAndBehaviors/actionsAndBehaviors"],function(e,t,a){"use strict";return{handleHeaderLayoutChange:function(r,o,n){var i=r.dal.get(o).layout;if(!e.isUndefined(n.fixedPosition)&&i.fixedPosition!==n.fixedPosition&&!1===n.fixedPosition){var s=r.siteAPI.isMobileView(),l={type:"scrub",viewMode:(u=s,u?t.VIEW_MODES.MOBILE:t.VIEW_MODES.DESKTOP)};a.removeComponentsBehaviorsWithFilter(r,o,l)}var u}}}),define("documentServices/hooks/componentHooks/connectionsHooks",["lodash","utils","documentServices/constants/constants","documentServices/connections/connections","documentServices/component/component","documentServices/dataModel/dataModel","documentServices/componentDetectorAPI/componentDetectorAPI"],function(e,t,a,r,o,n,i){"use strict";var s="platform.components.AppController";function l(t,a,r,o){var i=e.get(o,"controllerId");return e(a).map(function(a){return e.get(n.getDataItem(t,a),"id")}).includes(e.get(r,i,i))}function u(t,a){return e.map(a,function(a){var r=e.get(a,"controllerId"),o=e.get(t,r,r);return e.assign({},a,{controllerId:o})})}function c(t,a,r,n,c,d,p){var g=e.get(n,"connections.items"),f=e.reject(g,{type:"WixCodeConnectionItem"});if(!e.isEmpty(f)){var m,y,_,v,S,O,h=(m=t,y=d?n.id:t.pointers.full.components.getPageOfComponent(r).id,i.getAllComponents(m,y,function(e){return o.getType(m,e)===s})),A=(_=t,v=h,S=f,O=p,e(S).filter(e.partial(l,_,v,O)).thru(e.partial(u,O)).value()),E=e.difference(g,f);e.set(n,"connections.items",E.concat(A))}}return{updateSerializedConnectionsData:function(e,t,a,r,o,n,i){n||c.apply(this,arguments)},updateSerializedConnectionsDataForPage:function(e,t,a,r,o){var i=a.connections;c(e,0,null,a,0,!0,o),i&&n.addSerializedConnectionsItemToPage(e,t.id,i,r)},removeInvalidConnections:function(a,n,i){var s=o.getPage(a,n).id,l=o.getPage(a,i).id;s!==t.siteConstants.MASTER_PAGE_ID&&s!==l&&e.forEach(a.pointers.components.getChildrenRecursivelyRightLeftRootIncludingRoot(n),function(t){var n=r.getPlatformAppConnections(a,t);e.forEach(n,function(n){var i=e.get(n,"controllerRef");o.getPage(a,i).id!==l&&r.disconnect(a,t,i)})})}}}),define("documentServices/hooks/componentHooks/contactFormHooks",["lodash"],function(e){"use strict";var t="wysiwyg.viewer.components.ContactForm",a="ContactForm";function r(t,a){var r=t.dal.get(t.pointers.general.getContactFormsMetaData())[a.id];e.merge(a,r)}function o(t,a,r){if(r){var o=t.pointers.general.getContactFormsMetaData(),n=t.dal.get(o)[r.id],i=e.assign({},n,e.pick(r,e.keys(n))),s=t.pointers.getInnerPointer(o,r.id);t.dal.set(s,i)}}return{initContactFromHooks:function(e){e.registerHook(e.HOOKS.DATA.AFTER_GET,r,a),e.registerHook(e.HOOKS.DATA.UPDATE_BEFORE,o,t)}}}),define("documentServices/hooks/componentHooks/componentPreviewStateHooks",["lodash","documentServices/documentMode/documentMode"],function(e,t){"use strict";return{removeComponentHook:function(e,a){(t.getComponentPreviewState(e)||{})[a.id]&&t.setComponentPreviewState(e,a.id,null)}}}),define("documentServices/hooks/componentHooks/mobileComponentHooks",["documentServices/component/component","experiment"],function(e,t){"use strict";return{setMobileComponentAsDead:function(a,r){if(t.isOpen("sv_setMobileCompAsDeadOnDelete")&&!(a.pointers.components.isPage(r)||a.pointers.components.isMobile(r)||a.dal.full.isExist(r))){var o=a.pointers.components.getMobilePointer(r);if(a.dal.full.isExist(o)){var n=a.dal.full.get(o),i={id:"dead-"+n.id,type:"Container",componentType:"to.be.removed.by.MobileMerge",layout:n.layout,components:[]},s=a.pointers.components.getParent(o),l=a.pointers.components.getChildrenContainer(s),u=e.getComponentToAddRef(a,s,i,i.id);a.dal.full.remove(o),a.dal.full.push(l,i,u)}}}}}),define("documentServices/hooks/componentHooksRegistrar",["experiment","documentServices/hooks/hooks","documentServices/hooks/componentHooks/anchor","documentServices/hooks/componentHooks/svgShapeToVectorImageHook","documentServices/hooks/componentHooks/clipartHooks","documentServices/hooks/componentHooks/boxSlideShow","documentServices/hooks/componentHooks/wRichTextHooks","documentServices/hooks/componentHooks/tpaHooks","documentServices/hooks/componentHooks/quickActionBarHooks","documentServices/hooks/componentHooks/nickname","documentServices/hooks/componentHooks/modesHooks","documentServices/hooks/componentHooks/wPhoto","documentServices/hooks/componentHooks/mediaPlayer","documentServices/hooks/componentHooks/columns","documentServices/hooks/componentHooks/stripColumnsContainer","documentServices/hooks/componentHooks/siteRegionContainer","documentServices/hooks/componentHooks/wFacebookLike","documentServices/hooks/componentHooks/wFacebookComment","documentServices/hooks/componentHooks/pinterestPinIt","documentServices/hooks/componentHooks/vkShareButton","documentServices/hooks/componentHooks/facebookShare","documentServices/hooks/componentHooks/popupPageHooks","documentServices/hooks/componentHooks/fiveGridLineHooks","documentServices/hooks/componentHooks/appControllerHooks","documentServices/hooks/componentHooks/pageHooks","documentServices/hooks/componentHooks/verticalMenu","documentServices/hooks/componentHooks/siteBackgroundHooks","documentServices/hooks/componentHooks/repeaterHooks","documentServices/hooks/componentHooks/siteHeaderHooks","documentServices/hooks/componentHooks/connectionsHooks","documentServices/hooks/componentHooks/contactFormHooks","documentServices/hooks/componentHooks/componentPreviewStateHooks","documentServices/hooks/componentHooks/mobileComponentHooks"],function(e,t,a,r,o,n,i,s,l,u,c,d,p,g,f,m,y,_,v,S,O,h,A,E,C,P,R,I,D,T,w,b,L){"use strict";!function(){t.registerHook(t.HOOKS.DATA.UPDATE_BEFORE,d.removeMobileCropOverrideIfNeeded,"wysiwyg.viewer.components.WPhoto"),t.registerHook(t.HOOKS.ADD.BEFORE,a,"wysiwyg.common.components.anchor.viewer.Anchor"),t.registerHook(t.HOOKS.SERIALIZE.SET_CUSTOM,i.setLinksCustomData,"wysiwyg.viewer.components.WRichText"),t.registerHook(t.HOOKS.ADD.AFTER,I.afterAdd,"wysiwyg.viewer.components.Repeater"),t.registerHook(t.HOOKS.SERIALIZE.CHILDREN_BEFORE,I.addRepeatedDataItems,"wysiwyg.viewer.components.Repeater"),t.registerHook(t.HOOKS.DATA.UPDATE_BEFORE,I.beforeUpdateRepeaterData,"wysiwyg.viewer.components.Repeater"),t.registerHook(t.HOOKS.DATA.UPDATE_AFTER,I.afterUpdateRepeaterData,"wysiwyg.viewer.components.Repeater"),t.registerHook(t.HOOKS.PROPERTIES.UPDATE_AFTER,I.afterUpdateRepeaterProperties,"wysiwyg.viewer.components.Repeater"),t.registerHook(t.HOOKS.ADD.AFTER,i.duplicateLinksDataItems,"wysiwyg.viewer.components.WRichText"),t.registerHook(t.HOOKS.ADD.BEFORE,n.verifySlideShowStructureOnAdd,"wysiwyg.viewer.components.BoxSlideShow"),t.registerHook(t.HOOKS.ADD.BEFORE,n.verifySlideShowStructureOnAdd,"wysiwyg.viewer.components.StripContainerSlideShow"),t.registerHook(t.HOOKS.COMPONENT.STYLE_UPDATE_AFTER,n.updateSlidesStyle,"wysiwyg.viewer.components.BoxSlideShow"),t.registerHook(t.HOOKS.REMOVE.BEFORE,n.verifySlideShowStructureOnDelete,"wysiwyg.viewer.components.BoxSlideShowSlide"),t.registerHook(t.HOOKS.REMOVE.BEFORE,n.verifySlideShowStructureOnDelete,"wysiwyg.viewer.components.StripContainerSlideShowSlide"),t.registerHook(t.HOOKS.ADD.AFTER,A.replaceFullScreenPropertyWithDocking,"wysiwyg.viewer.components.FiveGridLine"),e.isOpen("se_vector_image")&&t.registerHook(t.HOOKS.ADD.BEFORE,r.beforeAdd,"wysiwyg.viewer.components.svgshape.SvgShape");e.isOpen("merge_clipart_and_image")&&t.registerHook(t.HOOKS.ADD.BEFORE,o.beforeAdd,"wysiwyg.viewer.components.ClipArt");t.registerHook(t.HOOKS.ADD.AFTER,p.setPlayerIdAfterAddHook,"wysiwyg.viewer.components.MediaOverlayControls"),t.registerHook(t.HOOKS.ADD.AFTER,p.setPlayerIdAfterAddHook,"wysiwyg.viewer.components.MediaControls"),t.registerHook(t.HOOKS.MOBILE_CONVERSION.AFTER,p.layoutChildrenOnMobileConversion),t.registerHook(t.HOOKS.DESIGN.UPDATE_AFTER,p.layoutPlayerChildren,"wysiwyg.viewer.components.MediaPlayer"),t.registerHook(t.HOOKS.REMOVE.BEFORE,g.handleColumnDeletion,"wysiwyg.viewer.components.Column"),t.registerHook(t.HOOKS.REMOVE.AFTER,g.deleteContainerIfHasNoMoreColumns,"wysiwyg.viewer.components.Column"),t.registerHook(t.HOOKS.ADD_ROOT.BEFORE,g.handleSplitToColumns,"wysiwyg.viewer.components.Column"),t.registerHook(t.HOOKS.PROPERTIES.UPDATE_BEFORE,g.handleFullWidthPropertyChange,"wysiwyg.viewer.components.StripColumnsContainer"),t.registerHook(t.HOOKS.LAYOUT.UPDATE_BEFORE,D.handleHeaderLayoutChange,"wysiwyg.viewer.components.HeaderContainer"),t.registerHook(t.HOOKS.ADD.BEFORE,f,"wysiwyg.viewer.components.StripColumnsContainer"),t.registerHook(t.HOOKS.ADD.BEFORE,m,"wysiwyg.viewer.components.SiteRegionContainer"),t.registerHook(t.HOOKS.ADD.BEFORE,P.beforeAdd,"wysiwyg.common.components.verticalmenu.viewer.VerticalMenu"),t.registerHook(t.HOOKS.ADD.AFTER,y,"wysiwyg.viewer.components.WFacebookLike"),t.registerHook(t.HOOKS.ADD.AFTER,_,"wysiwyg.viewer.components.WFacebookComment"),t.registerHook(t.HOOKS.ADD.AFTER,v,"wysiwyg.common.components.pinterestpinit.viewer.PinterestPinIt"),t.registerHook(t.HOOKS.ADD.AFTER,S,"wysiwyg.viewer.components.VKShareButton"),t.registerHook(t.HOOKS.ADD.AFTER,O,"wysiwyg.viewer.components.FacebookShare"),t.registerHook(t.HOOKS.ADD.BEFORE,u.removeNicknameFromSerializedComponentIfInvalid),t.registerHook(t.HOOKS.ADD.BEFORE,T.updateSerializedConnectionsData),t.registerHook(t.HOOKS.ADD.AFTER,u.generateNicknamesForComponent),t.registerHook(t.HOOKS.ADD.AFTER,E.handleControllerAddition,"platform.components.AppController"),t.registerHook(t.HOOKS.CHANGE_PARENT.BEFORE,u.deleteNicknameFromComponentIfInvalid),t.registerHook(t.HOOKS.CHANGE_PARENT.BEFORE,T.removeInvalidConnections),t.registerHook(t.HOOKS.CHANGE_PARENT.AFTER,u.generateNicknamesForComponent),t.registerHook(t.HOOKS.CHANGE_PARENT.BEFORE,E.handleControllerParentChange,"platform.components.AppController"),t.registerHook(t.HOOKS.MOBILE_CONVERSION.AFTER,u.generateNicknamesForPages),t.registerHook(t.HOOKS.SERIALIZE.SET_CUSTOM,E.handleControllerSerialization,"platform.components.AppController"),t.registerHook(t.HOOKS.REMOVE.BEFORE,E.handleControllerDeletion,"platform.components.AppController"),t.registerHook(t.HOOKS.ADD_ROOT.GET_CONTAINER_TO_ADD_TO,h.getContainerToAddTo,"mobile.core.components.Page"),t.registerHook(t.HOOKS.REMOVE.AFTER,h.removeDeadBehaviors,"mobile.core.components.Page"),t.registerHook(t.HOOKS.ADD.AFTER,h.removeBehaviorsFromAddedPage,"mobile.core.components.Page"),t.registerHook(t.HOOKS.DUPLICATE_ROOT.BEFORE,C.addOriginCompIdToWidgetsOnPage,"mobile.core.components.Page"),t.registerHook(t.HOOKS.ADD.AFTER,T.updateSerializedConnectionsDataForPage,"mobile.core.components.Page"),t.registerHook(t.HOOKS.DUPLICATE_ROOT.AFTER,C.fixDuplicatedPageCodeBehaviors,"mobile.core.components.Page"),t.registerHook(t.HOOKS.DUPLICATE_ROOT.AFTER,C.duplicatePageCode,"mobile.core.components.Page"),t.registerHook(t.HOOKS.ADD_PAGE.AFTER,C.initMobileComponents),t.registerHook(t.HOOKS.REMOVE.AFTER,C.removePageFromPlatformApps,"mobile.core.components.Page"),t.registerHook(t.HOOKS.REMOVE.BEFORE,C.beforePageRemoveHook,"mobile.core.components.Page"),e.isOpen("sv_mobileBG")&&(t.registerHook(t.HOOKS.RELAYOUT_MOBILE_PAGE.AFTER,R.setMobileMediaSizing),t.registerHook(t.HOOKS.ADD_PAGE.AFTER,R.setMobileMediaSizingByPointer),t.registerHook(t.HOOKS.SITE_BACKGROUND_UPDATE.AFTER,R.setMediaSizingForDevice));w.initContactFromHooks(t),t.registerHook(t.HOOKS.MOBILE_CONVERSION.BEFORE,c.activatePageMobileHoverModes),t.registerHook(t.HOOKS.ADD.AFTER,s.addedGluedWidget,"wysiwyg.viewer.components.tpapps.TPAGluedWidget"),t.registerHook(t.HOOKS.REMOVE.BEFORE,s.willRemoveGluedWidget,"wysiwyg.viewer.components.tpapps.TPAGluedWidget"),t.registerHook(t.HOOKS.DATA.UPDATE_BEFORE,l.enforceIconLimitations,"wysiwyg.viewer.components.QuickActionBarItem"),e.isOpen("sv_headerToQab")&&t.registerHook(t.HOOKS.MOBILE_MERGE.BEFORE,l.createFromHeader);t.registerHook(t.HOOKS.DATA.UPDATE_AFTER,I.syncRepeaterTemplateDataWithFirstItem),t.registerHook(t.HOOKS.DESIGN.UPDATE_AFTER,I.syncRepeaterTemplateDesignWithFirstItem),t.registerHook(t.HOOKS.REMOVE.AFTER,b.removeComponentHook),t.registerHook(t.HOOKS.REMOVE.AFTER,L.setMobileComponentAsDead)}()}),define("documentServices/hooks/metaDataHooks/repeaterMetaDataHooks",["documentServices/componentsMetaData/metaDataUtils","documentServices/constants/constants","documentServices/dataModel/dataModel","coreUtils"],function(e,t,a,r){"use strict";var o="wysiwyg.viewer.components.Repeater";return{setMovableSidesForRepeaterItems:function(t,a,r){var n=t.pointers.components.getParent(r);return n&&e.getComponentType(t,n)===o?[]:a},disableRemovalForRepeaterItems:function(t,a,r){var n=t.pointers.components.getParent(r);return(!n||e.getComponentType(t,n)!==o)&&a},disableDuplicationOfRepeaterItem:function(t,a,r){var n=t.pointers.components.getParent(r);return(!n||e.getComponentType(t,n)!==o)&&a},setResizableSidesForRepeaterItems:function(n,i,s){var l=n.pointers.components.getParent(s);if(l&&e.getComponentType(n,l)===o){var u=a.getPropertiesItem(n,l);return u&&u.alignment===r.constants.COMP_LAYOUT_OPTIONS.REPEATER.ALIGNMENTS.RIGHT?[t.RESIZE_SIDES.BOTTOM,t.RESIZE_SIDES.LEFT]:[t.RESIZE_SIDES.BOTTOM,t.RESIZE_SIDES.RIGHT]}return i}}}),define("documentServices/hooks/metaDataHooksRegistrar",["documentServices/hooks/hooks","documentServices/hooks/metaDataHooks/repeaterMetaDataHooks"],function(e,t){"use strict";e.registerHook(e.HOOKS.METADATA.MOVE_DIRECTIONS,t.setMovableSidesForRepeaterItems),e.registerHook(e.HOOKS.METADATA.REMOVABLE,t.disableRemovalForRepeaterItems),e.registerHook(e.HOOKS.METADATA.DUPLICATABLE,t.disableDuplicationOfRepeaterItem),e.registerHook(e.HOOKS.METADATA.RESIZABLE_SIDES,t.setResizableSidesForRepeaterItems)}),define("documentServices/hooks/hooksRegistrarLoader",["documentServices/hooks/layoutHooksRegistrar","documentServices/hooks/componentHooksRegistrar","documentServices/hooks/metaDataHooksRegistrar"],function(){"use strict";return{}}),define("documentServices/dataAccessLayer/metaDataPointers",["core","documentServices/pathHelpers/siteMetadataPropertiesInfo"],function(e,t){"use strict";var a=e.pointerGeneratorsRegistry;a.registerPointerType("metadata",function(){return null},function(){return!0});var r={getSiteMetaDataPointer:function(e,a,r){if(!t[r])return null;var o=t[r].path;return a.getPointer(r,"metadata",o)}};a.registerDataAccessPointersGenerator("metadata",r)}),define("documentServices/privateServices/privateServices",["lodash","documentServices/dataAccessLayer/DataAccessLayer","documentServices/siteAccessLayer/DocumentServicesSiteAPI","documentServices/siteAccessLayer/DocumentServicesSiteAPINoSite","documentServices/siteAccessLayer/DocumentServicesSiteAPIForTests","documentServices/siteAccessLayer/SetOperationsQueue","documentServices/siteAccessLayer/SetOperationsQueueNoSite","documentServices/privateServices/GeneralSuperDal","documentServices/privateServices/FullJsonUpdater","documentServices/bi/bi","documentServices/privateServices/DisplayedJsonUpdater","documentServices/aspects/DocumentServicesAspect","documentServices/hooks/hooksRegistrarLoader","documentServices/dataAccessLayer/metaDataPointers"],function(e,t,a,r,o,n,i,s,l,u,c){"use strict";function d(a,n){var d=n.siteData,p=n.siteDataAPI;a.shouldRender||(this.siteAPI=a.isTest?new o(d,p):new r(d,p),this.setOperationsQueue=new i),this.config=e(a).omit("modules").cloneDeep(),this.runtimeConfig={shouldThrowOnDeprecation:!1,nextHistorySnapshotId:null,trace:{isTracing:!1,log:[],shouldLogConsoleTraces:!1}};var g=e.pick(a,["pathsInJsonData","isReadOnly","origin","nonUndoableInitialDataPaths","disableMobileConversion"]),f=n.cache,m=f.getBoundCacheInstance(!0);this.pointers=n.pointers;var y=new t({siteData:d,fullJson:n.fullPagesData},n.dataLoadedRegistrar,m,g),_=new l(y,this.pointers,n.displayedDal),v=p.updateDisplayedNodesLayout.bind(p),S=new c(n.fullPagesData,n.displayedDal,m,f.getBoundCacheInstance(!1),n.pointers,v);this.dal=new s(y,n.displayedDal,_,S,n.pointers,u.error.bind(this)),this.siteDataAPI=p}return d.prototype.initiateSiteAPI=function(e){this.siteAPI=new a(e),this.setOperationsQueue=new n(this)},d}),define("documentServices/errors/constants/saveErrors",[],function(){"use strict";return{UNKNOWN_SERVER_ERROR:"UNKNOWN_SERVER_ERROR",HTTP_REQUEST_ERROR:"HTTP_REQUEST_ERROR",SAVE_DISABLED_IN_DOCUMENT_SERVICES:"SAVE_DISABLED_IN_DOCUMENT_SERVICES",SAVE_BLOCKED_BY_DOCUMENT_SERVICES:"SAVE_BLOCKED_BY_DOCUMENT_SERVICES",NOT_LOGGED_IN:"NOT_LOGGED_IN",SESSION_EXPIRED:"SESSION_EXPIRED",USER_NOT_AUTHORIZED_FOR_SITE:"USER_NOT_AUTHORIZED_FOR_SITE",CONCURRENT_SAVE:"CONCURRENT_SAVE_ERROR",SITE_NAME_TAKEN:"SITE_NAME_TAKEN_ERROR",DUPLICATE_COMPONENTS:"DUPLICATE_COMPONENTS",DATA_REFERENCE_MISMATCH:"DATA_REFERENCE_MISMATCH",MISSING_CONTAINERS:"MISSING_CONTAINERS",SAVE_PUBLISH_DISABLED_ON_SERVER:"SAVE_PUBLISH_DISABLED_ON_SERVER",CONCURRENT_AUTO_SAVE:"CONCURRENT_AUTO_SAVE",SITE_STALE_STATE_FROM_AUTO_SAVE:"SITE_STALE_STATE_FROM_AUTO_SAVE",AUTOSAVE_DISABLE_FROM_SERVER:"AUTOSAVE_DISABLE_FROM_SERVER"}}),define("documentServices/errors/errors",["documentServices/errors/constants/saveErrors","documentServices/siteMetadata/siteMetadata"],function(e,t){"use strict";return{save:e,seo:t.seo.ERRORS,social:{facebook:t.social.facebook.ERRORS},favicon:t.favicon.ERRORS,siteName:t.siteName.ERRORS}}),define("documentServices/saveAPI/saveDataFixer/plugins/dataItemRefsSaveDataFixer",["lodash","documentServices/dataModel/dataModel","documentServices/bi/events","documentServicesSchemas"],function(e,t,a,r){"use strict";var o={document_data:r.schemas.dataSchemas,design_data:r.schemas.designSchemas};function n(e,t,a,r){var o=a.getIn([e,"data",r,t]);return o&&o.toJS()}function i(t,a,r,o,i){var s=n(t,a.id,i,r);return!s||!e.isEqual(s[o],a[o])}function s(e,t,a,r,o,i){var s,u,c,d,p=(s=e,u=t,c=r,d=i,n(s,u.replace("#",""),c,d));p&&!o[p.id]&&(o[p.id]=p,l(e,p,i,a,r,!1,o))}function l(a,r,l,u,c,d,p){"Page"===r.type&&r.pageBackgrounds&&function(t,a,r,o,i,l){var u=n(t,a.id,o,r);e.forEach(["desktop","mobile"],function(e){(!u||!u.pageBackgrounds||u.pageBackgrounds[e].ref!==a.pageBackgrounds[e].ref)&&s(t,a.pageBackgrounds[e].ref,o,i,l,r)})}(a,r,l,u,c,p);var g=o[l],f=g[r.type];e.forEach(r,function(o,m){if(o)if(!t.isOfType(f,m,"ref",g)||d&&!i(a,r,l,m,u)){if(t.isOfType(f,m,"refList",g)&&(!d||i(a,r,l,m,u))){var y=o,_=d&&n(a,r.id,u,l),v=_?e.difference(y,_[m]):y;e.forEach(v,function(e){s(a,e,u,c,p,l)})}}else s(a,o,u,c,p,l)})}function u(t,r,o,n,i){var s={};e.forEach(t,function(e){l(function(e,t,a){var r=["data",t,e.id],o=a.findEntry(function(e){return Boolean(e.getIn(r))});return o&&o[0]}(e,r,n),e,r,o,n,!0,s)});var u,c,d=(u=t,c=s,e.reduce(c,function(t,a,r){return e.isEqual(a,u[r])||(t[r]=a),t},{}));e.isEmpty(d)||function(t,r,o){var n={dataType:r,dataItemType:e(t).map("type").uniq().value().toString()};o&&o.event&&o.event(a.DATA_ITEM_REFS_SAVE_DATAFIXER,n)}(d,r,i),e.assign(t,s)}return{exec:function(t,a,r,o){if(a){var n=t.dataDelta.document_data,i=t.dataDelta.design_data;e.isEmpty(n)||u(n,"document_data",a.get("pagesData"),r.get("pagesData"),o),e.isEmpty(i)||u(i,"design_data",a.get("pagesData"),r.get("pagesData"),o)}}}}),define("documentServices/saveAPI/saveDataFixer/plugins/platformAppsSaveDataFixer",["lodash"],function(e){"use strict";return{exec:function(t,a,r){var o=t.pagesPlatformApplications;o&&(!function(t,a){var r=a.getIn(["rendererModel","clientSpecMap"]).toJS();t[e.chain(r).find({type:"siteextension"}).get("appDefinitionId").value()]=e.assign({},t.wixCode),delete t.wixCode}(o,r),t.pagesPlatformApplications=e.transform(o,function(t,a,r){e.forOwn(a,function(e,a){t[a]=t[a]||[],t[a].push(r)})},{}))}}}),define("documentServices/saveAPI/saveDataFixer/saveDataFixer",["lodash","documentServices/saveAPI/saveDataFixer/plugins/dataItemRefsSaveDataFixer","documentServices/saveAPI/saveDataFixer/plugins/platformAppsSaveDataFixer","coreUtils"],function(e,t,a,r){"use strict";var o=[t,a];return{fixData:function(e,t,a,n){return r.loggingUtils.performance.start(r.loggingUtils.performanceMetrics.SAVE.SAVE_DATA_FIXER),o.forEach(function(r){r.exec(e,t,a,n)}),r.loggingUtils.performance.start(r.loggingUtils.performanceMetrics.SAVE.SAVE_DATA_FIXER),e}}}),define("documentServices/wixapps/utils/classicsPathUtils",["lodash"],function(e){"use strict";function t(e){return["wixapps",e]}return{getPackagePath:t,getPackageDescriptorPath:function(e){return t(e).concat(["descriptor"])},getPackageMetaDataPath:function(a){return e.compact(t(a).concat(["metadata"]))},getBlogTagNamesPath:function(){return["wixapps","blog","tagNames"]},getCategoriesPath:function(a){return e.compact(t(a).concat(["categories","categories"]))},getAppPartDataPath:function(e,a){return t(e).concat([a])},getAppPartExtraDataPath:function(e,a){return t(e).concat([a+"_extraData"])}}}),define("documentServices/jsonConfig/jsonConfig",["lodash","documentServices/siteMetadata/siteMetadata","documentServices/wixapps/utils/pathUtils","documentServices/wixapps/utils/classicsPathUtils","documentServices/wixCode/utils/constants","documentServices/constants/constants","experiment"],function(e,t,a,r,o,n,i){"use strict";var s=["pagesData","wixapps","editorData","committedMobilePages","textRuntimeLayout","deletedPagesMap","orphanPermanentDataNodes","dockedRuntimeLayout","displayedOnlyComponents","mobileStructures","contactforms_metadata","saveInvalidationCount","pagesPlatformApplications","routers","platform","siteAspectsData","wixCode"],l=["pagesData"],u={path:a.getApplicationInstanceVersionPath(),optional:!0},c=e.map(["blog","ecommerce","faq","menu"],function(e){return{path:r.getPackageMetaDataPath(e),optional:!0}}),d=["documentServicesModel","rendererModel","serviceTopology","urlFormatModel","runtime","compsToUpdateAnchors","svgShapes","renderFlags","renderRealtimeConfig","rootsRenderedInMobileEditor",u,{path:a.getPackageMetaDataPath(),optional:!0},{path:["origin"],optional:!0},{path:o.paths.NON_UNDOABLE_BASE_PATH,optional:!0},{path:["pagesPlatformApplications","wixCode"],optional:!0}].concat(c),p=[{path:["platform","appManifest"],innerDepth:1},{path:["platform","appState"],innerDepth:1},{path:["platform","appPublicApiName"],innerDepth:1}];s=s.concat(t.getRevertibleMetaDataInfo()),d=d.concat(t.getNonRevertibleMetaDataInfo());function g(t){return e.isString(t)?[t]:e.isPlainObject(t)?t.path:t}function f(t){return e.map(t,g)}return{getWhiteList:function(){return f(s)},getNonUndoableInitialDataPaths:function(){return p},getNonUndoableList:function(){return f(d)},getPathsInJsonData:function(){var t={},a=s.concat(d),r=e.without(a,l);return t[n.JSON_TYPES.DISPLAYED]=e.map(r,function(e){return{path:g(e),optional:(t=e,!!t.optional)};var t}),t[n.JSON_TYPES.FULL]=[{path:l,optional:!1}],t},getAutosavePaths:function(){var e=["rendererModel.pageToHashedPassword","rendererModel.passwordProtectedPages","rendererModel.siteMetaData","pagesData","orphanPermanentDataNodes","documentServicesModel.metaSiteData","documentServicesModel.customHeadTags","routers"];return i.isOpen("se_autosavePlatform")&&(e=e.concat(["pagesPlatformApplications","rendererModel.wixCodeModel"])),e}}}),define("documentServices/saveAPI/saveTasks/saveDocument",["lodash","immutable","immutableDiff","utils","documentServices/errors/errors","documentServices/bi/events","documentServices/bi/errors","documentServices/saveAPI/saveDataFixer/saveDataFixer","documentServices/wixCode/utils/constants","experiment","documentServices/hooks/hooks","documentServices/jsonConfig/jsonConfig","coreUtils"],function(e,t,a,r,o,n,i,s,l,u,c,d,p){"use strict";var g=r.ajaxLibrary,f=r.urlUtils,m=p.loggingUtils.performance,y=p.loggingUtils.performanceMetrics,_={partialSave:"/api/partially_update",fullSave:"/api/new_override_save",validateSite:"/api/validate_site",firstSave:"/api/first_save",saveAsTemplate:"/api/save_as_template/",publish:"/api/publish",autosave:"save_diff"},v={"-12":o.save.SESSION_EXPIRED,"-15":o.save.NOT_LOGGED_IN,"-17":o.save.USER_NOT_AUTHORIZED_FOR_SITE,"-10116":o.save.CONCURRENT_SAVE,"-40003":o.save.SITE_NAME_TAKEN,"-10132":o.save.SAVE_PUBLISH_DISABLED_ON_SERVER,"-10104":function(t){var a=t.payload;return e.isEmpty(a.duplicateComponents)?e.isEmpty(a.dataReferenceMismatches)?e.isEmpty(a.missingContainers)?void 0:o.save.MISSING_CONTAINERS:o.save.DATA_REFERENCE_MISMATCH:o.save.DUPLICATE_COMPONENTS},"-10145":o.save.CONCURRENT_AUTO_SAVE,"-10148":o.save.SITE_STALE_STATE_FROM_AUTO_SAVE},S=[o.save.DUPLICATE_COMPONENTS,o.save.DATA_REFERENCE_MISMATCH,o.save.MISSING_CONTAINERS],O=["component_properties","document_data","theme_data","design_data","behaviors_data","connections_data","mobile_hints"];function h(t){var a=v[t.errorCode];return e.isFunction(a)&&(a=a(t)),a||o.save.UNKNOWN_SERVER_ERROR}function A(t,a){var r=a.getIn(["masterPage","structure"]);if(!t||!r.equals(t.getIn(["masterPage","structure"])))return e.pick(r.toJS(),["children","mobileComponents","type","behaviorQuery","layout","modes","mobileHintsQuery"])}function E(e,t){return"masterPage"===t}function C(e,t){return t.map(function(e){return e.get("structure")}).filterNot(E).filter(function(e,t,a){return!e&&t||!t.equals(e.getIn([a,"structure"]))}.bind(null,e)).toList().toJS()}function P(e,t){return e?t.filter(function(t,a){return t!==e.get(a)&&!t.equals(e.get(a))}):t}function R(t,a){var r=e.groupBy(O);return e.mapValues(r,function(e,r){return a.flatMap(function(e,a){var o=e.getIn(["data",r]);if(!t)return o;var n=t.getIn([a,"data",r]);return o&&!o.equals(n)?P(n,o):void 0}).toJS()})}function I(t){return e.omitBy(t,function(t){return e.isNil(t)})}function D(t){return e(t.getIn(["rendererModel","siteMetaData"]).toJS()).omit(["adaptiveMobileOn"]).merge({headTags:t.getIn(["documentServicesModel","customHeadTags"])||""}).value()}function T(t){return e.merge({},t.getIn(["documentServicesModel","metaSiteData"]).toJS(),{adaptiveMobileOn:(a=t,a.getIn(["rendererModel","siteMetaData","adaptiveMobileOn"]))});var a}function w(e,t){var a=t.getIn(["rendererModel","pageToHashedPassword"]);if(a){var r=e&&e.getIn(["rendererModel","pageToHashedPassword"]);return r?a.filter(function(e,t){return e!==r.get(t)}).toJS():a.toJS()}return{}}function b(e,t){var a=t.getIn(["routers"]),r=e&&e.getIn(["routers"]);return!a&&r?{}:a&&!a.equals(r)?a.toJS():void 0}function L(t,a){var r=a.get("pagesPlatformApplications");if(r){var o=t&&t.get("pagesPlatformApplications");if(!e.isEqual(o,r))return r.toJS()}}function M(e){return e.get("orphanPermanentDataNodes").toJS()}function B(e){return e.getIn(["rendererModel","siteInfo","siteId"])}function V(e){return e.getIn(["documentServicesModel","revision"])}function x(e){return e.getIn(["documentServicesModel","version"])}function F(e,t){var a=l.paths.WIX_CODE_APP_DATA,r=t.getIn(a);if(r&&(!e||!r.equals(e.getIn(a)))){var o=r.toJS();return o.signedAppRenderInfo=t.getIn(l.paths.SCARI),o}}function k(a){return a.map(function(e){return e.get("translations")}).filterNot(e.isUndefined).reduce(function(e,t){return e.mergeDeep(t)},t.Map())}function H(e){return e.isEmpty()}function N(t,a){var r=void 0;r=e.isNull(t)?null:k(t);var o=k(a);if(!e.isUndefined(r)&&!e.isUndefined(o))return e.isNull(r)?o.toJS():o.map(function(e,t){return e.map(function(e){return e.map(function(e,a){return P(r.getIn([t,"data",a]),e)}).filterNot(H)}).filterNot(H)}).filterNot(H).toJS()}function U(t,a,r){var o,n,i=a.get("pagesData"),l=t.get("pagesData"),c={protectedPagesData:w(t,a),dataDelta:R(l,i),dataNodeIdsToDelete:M(a),deletedPageIds:(o=l,n=i,o.keySeq().toSet().subtract(n.keySeq().toSet()).toArray()),id:B(a),masterPage:A(l,i),revision:V(a),version:x(a),updatedPages:C(l,i),siteMetaData:function(t,a){var r=D(t),o=D(a);if(!e.isEqual(r,o))return o}(t,a),metaSiteData:function(t,a){var r=T(t),o=T(a);if(!e.isEqual(r,o))return o}(t,a),pagesPlatformApplications:L(t,a),wixCodeAppData:F(t,a),routers:b(t,a),initiator:G(a)};if(u.isOpen("sv_multilingual")){var d=N(l,i);e.isEmpty(d)||e.assign(c,{translationsDelta:d})}return s.fixData(c,t,a,r),I(c)}function G(e){return W(e,"autoFullSaveFlag")?"auto_save":function(e){var t=e.getIn(["documentServicesModel","publishSaveInitiator"]);return t&&t.toJS?t.toJS():t}(e)?"publish":function(e){var t=e.getIn(["documentServicesModel","silentSaveInitiator"]);return t&&t.toJS?t.toJS():t}(e)?"provision":"manual"}function W(e,t){var a=e.getIn(["documentServicesModel","autoSaveInfo",t]);return a&&a.toJS?a.toJS():a}function X(a){var r=d.getAutosavePaths(),o=t.fromJS({});return e.forEach(r,function(t){var r=function t(a,r,o){var n={};return o=o||[],1===a.length?n[a[0]]=r.getIn(o.concat(a[0])):(o=o.concat(a.splice(0,1)),n[e.last(o)]=t(a,r,o)),n=e.omitBy(n,e.isUndefined)}(t.split("."),a);o=o.mergeDeep(r)}),o}function Z(t){var a=t.get("pagesData"),r={protectedPagesData:w(null,t),dataDelta:R(null,a),dataNodeIdsToDelete:M(t),deletedPageIds:[],id:B(t),masterPage:A(null,a),revision:V(t),version:x(t),updatedPages:C(null,a),siteMetaData:D(t),metaSiteData:T(t),pagesPlatformApplications:L(null,t),wixCodeAppData:F(null,t),routers:b(null,t),initiator:G(t)};if(u.isOpen("sv_multilingual")){var o=N(null,a);e.isEmpty(o)||e.assign(r,{translations:o})}return s.fixData(r,null,t),I(r)}function z(t,a){var r={dataNodes:t.dataDelta.document_data,documents:[function(t){var a=t.masterPage;return e.find(a.children,{componentType:"wysiwyg.viewer.components.PagesContainer"}).components[0].components=t.updatedPages,e.merge(t.masterPage,{componentProperties:t.dataDelta.component_properties},{themeData:t.dataDelta.theme_data},{mobileHintsQuery:a.mobileHintsQuery})}(t)],protectedPagesData:t.protectedPagesData,siteMetaData:t.siteMetaData,metaSiteData:t.metaSiteData,pagesPlatformApplications:t.pagesPlatformApplications,sourceSiteId:t.id,targetName:a.getIn(["documentServicesModel","siteName"]),wixCodeAppData:t.wixCodeAppData,urlFormat:a.getIn(["urlFormatModel","format"]),behaviors:t.dataDelta.behaviors_data,connections:t.dataDelta.connections_data,mobileHints:t.dataDelta.mobile_hints,initiator:t.initiator};return t.routers&&(r.routers=t.routers),u.isOpen("sv_multilingual")&&(r.translations=t.translations),r.designNodes=t.dataDelta.design_data,r}function Y(e,t){u.isOpen("sv_updateWixCodeModelAfterSave")&&e.wixCodeModel&&(t[l.paths.WIX_CODE_MODEL.join(".")]=e.wixCodeModel)}function K(e,t,a,r,o){g.ajax({type:"POST",dataType:"json",headers:re(a),url:e,data:t,success:r,error:o})}function J(e){return{errorCode:e.errorCode,errorType:h(e),errorDescription:e.errorDescription}}function j(t,a,r,o,n){if(n.success){t(function(t,a,r){var o=a.get("rendererModel").toJS(),n=a.get("documentServicesModel").toJS(),i={"rendererModel.siteInfo.siteId":t.previewModel.siteId,"rendererModel.metaSiteId":t.previewModel.metaSiteModel.metaSiteId,"rendererModel.premiumFeatures":t.previewModel.metaSiteModel.premiumFeatures,"rendererModel.siteInfo.documentType":t.previewModel.metaSiteModel.documentType,"rendererModel.clientSpecMap":e.mergeWith(o.clientSpecMap,t.previewModel.metaSiteModel.clientSpecMap,function(t,a){return a.demoMode&&t&&!t.demoMode?t:e.merge({},t,a)})};Y(t,i);var s={"documentServicesModel.neverSaved":!1,"documentServicesModel.siteName":t.previewModel.metaSiteModel.siteName,"documentServicesModel.metaSiteData":t.metaSiteData,"documentServicesModel.publicUrl":t.publicUrl,"documentServicesModel.usedMetaSiteNames":n.usedMetaSiteNames.push(t.publicUrl.match(/^.*\/([^\/]+)/)[1])&&n.usedMetaSiteNames,"documentServicesModel.version":t.siteHeader.version,"documentServicesModel.revision":t.siteHeader.revision,"documentServicesModel.autoSaveInfo":t.autoSaveInfo};u.isOpen("sv_permissionInfoUpdateOnFirstSave")?s["documentServicesModel.permissionsInfo"]=t.permissionsInfo:s["documentServicesModel.permissionsInfo.isOwner"]=!0;var l=e.merge({},i,s,{orphanPermanentDataNodes:[]});return l.historyAlteringChanges=$(t.deletedItems,a,!0,r),l}(n.payload,r,o))}else a(J(n))}function Q(t,a,r,o,i,s){!s.success&&(l=s,e.includes(S,h(l)))?u.isOpen("sv_fullPartialSave")?(i.event(n.FULL_DOCUMENT_SAVE_ATTEMPTED_AFTER_PARTIAL_FAILURE,{endpoint:"partial"}),le(a,r,o,i,_.partialSave)):(i.event(n.FULL_DOCUMENT_SAVE_ATTEMPTED_AFTER_PARTIAL_FAILURE,{endpoint:"full"}),ie(t,a,r,o,i)):q(a,r,o,i,s);var l}function q(t,a,r,o,n){if(n.success){var s={"documentServicesModel.revision":n.payload.revision,"documentServicesModel.version":n.payload.version,orphanPermanentDataNodes:[]};Boolean(t.getIn(["documentServicesModel","autoSaveInfo"]))&&e.assign(s,{"documentServicesModel.autoSaveInfo.previousDiffId":void 0}),Y(n.payload,s),s.historyAlteringChanges=$(n.payload.deletedItems,t),a(s)}else{var l=J(n);o.error(i.SAVE_DOCUMENT_FAILED_ON_SERVER,{serverErrorCode:l.errorCode,errorType:l.errorType,origin:t.get("origin")}),r(l)}}function $(t,a,r,o){var n={};return r&&(t=function(t,a,r){var o={};return e.forEach(t,function(t,n){e.forEach(t,function(t){var s=function(e,t,a){var r=["data",t,e];return a.map(function(e,t){return!!e.getIn(r)&&t}).filter(Boolean).keySeq().toArray()}(t,n,a);if(e.isEmpty(s))r.error(i.SYNC_DELETED_ITEMS_AFTER_SAVE_FAILED,{errorType:"notFound",itemId:t,pagesIds:null});else if(e.size(s)>1)r.error(i.SYNC_DELETED_ITEMS_AFTER_SAVE_FAILED,{errorType:"multipleFound",itemId:t,pagesIds:s.toString()});else{var l=e.head(s),u=e.get(o,[l,n],[]);u.push(t),e.set(o,[l,n],u)}})}),o}(t,a.get("pagesData"),o)),e.forEach(t,function(t,a){e.forEach(t,function(t,r){e.forEach(t,function(e){var t=["pagesData",a,"data",r,e].join(".");n[t]=void 0})})}),n}function ee(e,t,a){a.success?e():t(J(a))}function te(e,t,a){a.success?e({"documentServicesModel.revision":a.payload.revision,"documentServicesModel.version":a.payload.version,"documentServicesModel.isPublished":!0}):t(J(a))}function ae(e,t){e({errorCode:t.status,errorType:o.save.HTTP_REQUEST_ERROR,errorDescription:t.statusText})}function re(e){return{"X-Wix-Editor-Version":"new","X-Wix-DS-Origin":e.get("origin"),"X-Editor-Session-Id":e.getIn(["documentServicesModel","editorSessionId"])}}function oe(e){return"?"+(t=e.get("rendererModel").toJS(),a=e.get("documentServicesModel").toJS(),f.toQueryString({metaSiteId:t.metaSiteId,editorSessionId:a.editorSessionId,esi:a.editorSessionId}));var t,a}function ne(e){return e.getIn(["serviceTopology","editorServerRoot"])}function ie(e,t,a,r,o){le(t,a,r,o,_.fullSave)}function se(e,t,a,r,o,n){n.success?a():r(J(n))}function le(t,a,r,o,n){K(ne(t)+n+oe(t),Z(t),t,e.curry(q)(t,a,r,o),e.curry(ae)(r))}return{partialSave:function(t,a,r,o,n){var i=ne(a)+_.partialSave,s=U(t,a,n);K(i+oe(a),s,a,e.curry(Q)(t,a,r,o,n),e.curry(ae)(o))},fullSave:ie,validateSite:function(t,a,r,o,n){var i=ne(a)+_.validateSite,s=U(t,a,n);K(i+oe(a),s,a,e.curry(se)(t,a,r,o,n),e.curry(ae)(o))},firstSave:function(t,a,r,o,n){K(ne(a)+_.firstSave+oe(a),z(Z(a),a),a,e.curry(j)(r,o,a,n),e.curry(ae)(o))},saveAsTemplate:function(t,a,r,o){K(ne(a)+_.saveAsTemplate+B(a)+oe(a),null,a,e.curry(ee)(r,o),e.curry(ae)(o))},publish:function(t,a,r){var o=ne(t)+_.publish+"/"+B(t)+oe(t),n=e.curry(te)(a,r),i=e.curry(ae)(r);c.executeHook(c.HOOKS.PUBLISH.BEFORE),g.ajax({type:"POST",url:o,headers:re(t),success:n,error:i})},autosave:function(t,r,o,n){var i,s=(i=r,i.getIn(["serviceTopology","autoSaveUrl"])+_.autosave),l=W(r,"reportingInfo")||{};p.loggingUtils.fedopsLogger.interactionStarted(p.loggingUtils.fedopsLogger.INTERACTIONS.AUTOSAVE.CALC_DIFF),m.start(y.AUTOSAVE.CALC_DIFF);var u,c=(u=[t,r],a.apply(a,u.map(X)).toJS());if(p.loggingUtils.fedopsLogger.interactionEnded(p.loggingUtils.fedopsLogger.INTERACTIONS.AUTOSAVE.CALC_DIFF),m.finish(y.AUTOSAVE.CALC_DIFF,{additionalData:l,report:!0}),e.isEmpty(c))return o();var d,f,v=(d=r,f=c,{siteId:B(d),metaSiteId:d.getIn(["rendererModel","metaSiteId"]),siteVersion:x(d),previousDiffId:d.getIn(["documentServicesModel","autoSaveInfo","previousDiffId"])||null,diffPayload:JSON.stringify(f)});p.loggingUtils.fedopsLogger.interactionStarted(p.loggingUtils.fedopsLogger.INTERACTIONS.AUTOSAVE.SEND_AJAX),m.start(y.AUTOSAVE.SEND_AJAX),g.ajax({type:"POST",dataType:"json",url:s,data:v,success:function(t){p.loggingUtils.fedopsLogger.interactionEnded(p.loggingUtils.fedopsLogger.INTERACTIONS.AUTOSAVE.SEND_AJAX),m.finish(y.AUTOSAVE.SEND_AJAX,{report:!0,additionalData:e.assign({},l,{success:t.success.toString()})}),t.success?o({"documentServicesModel.autoSaveInfo.previousDiffId":t.payload.diffId}):n(J(t))},error:ae.bind(null,n)})},getChangedPages:function(t,a){var r=a.get("pagesData"),o=t.get("pagesData");return e.map(C(r,o),"id")},getTaskName:function(){return"saveDocument"},getSnapshotTags:function(e){switch(e){case"partialSave":case"fullSave":case"firstSave":case"saveAsTemplate":return["primary","autosave"];case"autosave":return["autosave"];case"publish":default:return["primary"]}}}}),define("documentServices/wixapps/utils/diffCalculator",["lodash"],function(e){"use strict";return{getItemsDiff:function(t,a,r,o){var n=[],i=[];return t.forEach(function(t,s){t.forEach(function(t,l){var u=a.getIn([s,l]);if(u){var c=t.toJS(),d=u.toJS();if(!e.isEqual(e.omit(c,r),e.omit(d,r))){var p=o?o(c,d):d;n.push(p)}}else i.push(l)})}),{created:a.reduce(function(e,a,r){var o=t.get(r),n=o?a.filterNot(function(e,t){return o.has(t)}):a;return e.concat(n.toList().toJS())},[]),updated:n,deleted:i}}}}),define("documentServices/wixapps/utils/requestPayloadCreator",["lodash"],function(e){"use strict";var t=[o,n,i,function(e,t){var a=t.created;if(0===a.length)return[];return[{name:"CreateTypes",params:{applicationInstanceId:e.applicationInstanceId,applicationInstanceVersion:e.applicationInstanceVersion,types:a}}]}],a=[o,n,i],r=[function(e,t){if(0===t.length)return[];return[{name:"PublishItems",params:{applicationInstanceId:e.applicationInstanceId,applicationInstanceVersion:e.applicationInstanceVersion,itemIds:t}}]},function(e,t){if(0===t.length)return[];return[{name:"PublishTypes",params:{applicationInstanceId:e.applicationInstanceId,applicationInstanceVersion:e.applicationInstanceVersion,names:t}}]}];function o(t,a){return e.map(a.created,function(e){return{name:"CreateItem",params:{applicationInstanceId:t.applicationInstanceId,applicationInstanceVersion:t.applicationInstanceVersion,item:e}}})}function n(t,a){return e.map(a.updated,function(e){return{name:"UpdateItem",params:{applicationInstanceId:t.applicationInstanceId,applicationInstanceVersion:t.applicationInstanceVersion,item:e}}})}function i(t,a){return e.map(a.deleted,function(e){return{name:"DeleteItem",params:{applicationInstanceId:t.applicationInstanceId,applicationInstanceVersion:t.applicationInstanceVersion,itemId:e}}})}function s(t,a,r){return e(t).map(function(e){return e(a,r)}).flattenDeep().value()}return{getSaveOperations:function(e,a){return s(t,e,a)},getSaveItemsOperations:function(e,t){return s(a,e,t)},getPublishOperations:function(e,t){return s(r,e,t)}}}),define("documentServices/wixapps/utils/linksConverter",["lodash","wixappsCore","documentServices/dataModel/dataModel","coreUtils"],function(e,t,a,r){"use strict";var o=r.linkTypes;return{convertWLinkToWixappsData:function(t){var a={linkId:t.id};switch(t.type){case o.PAGE_LINK:e.assign(a,{_type:"wix:PageLink",pageId:e.isPlainObject(t.pageId)?t.pageId.id:t.pageId});break;case o.DYNAMIC_PAGE_LINK:var r=e.isPlainObject(t.anchorDataId)?t.anchorDataId.id:t.anchorDataId;e.assign(a,{_type:"wix:DynamicPageLink",routerId:t.routerId,innerRoute:t.innerRoute,anchorDataId:r||""});break;case o.EXTERNAL_LINK:var n=t.url.split("://");1===n.length&&(n=["http"].concat(n)),e.assign(a,{_type:"wix:ExternalLink",target:t.target,protocol:n[0],address:n[1]});break;case o.DOCUMENT_LINK:e.assign(a,{_type:"wix:DocLink",docId:t.docId,docName:t.name});break;case o.PHONE_LINK:e.assign(a,{_type:"wix:PhoneLink",phoneNumber:t.phoneNumber});break;case o.EMAIL_LINK:e.assign(a,{_type:"wix:MailLink",email:t.recipient,subject:t.subject});break;case o.ANCHOR_LINK:e.assign(a,{_type:"wix:AnchorLink",anchorName:t.anchorName,anchorDataId:e.isPlainObject(t.anchorDataId)?t.anchorDataId.id:t.anchorDataId,pageId:e.isPlainObject(t.pageId)?t.pageId.id:t.pageId})}return a},convertWixappsDataToWLink:function(r,o){return t.linksConverter(o,function(t,o){return t=e.isString(t)&&t.replace("#",""),o=e.isString(o)&&o.replace("#",""),a.getDataItemById(r,t,o)})}}}),define("documentServices/wixapps/utils/timeUtils",["lodash","documentServices/wixapps/utils/pathUtils"],function(e,t){"use strict";function a(e,a){var r=t.getOffsetFromServerTimePath(),o=e.dal.getByPath(r);return new Date(a-o).toISOString()}return{getCurrentTime:function(t){return a(t,e.now())},normalizeDate:a}}),define("documentServices/wixapps/utils/stringUtils",[],function(){"use strict";return{incNumberSuffix:function(e,t){t=t||" ";var a=parseInt(e.split(t).pop(),10);return isNaN(a)?e+t+"2":e.split(t).slice(0,-1).concat(a+1).join(t)}}}),define("documentServices/wixapps/services/types",["lodash","utils","documentServices/wixapps/utils/pathUtils","documentServices/wixapps/utils/stringUtils"],function(e,t,a,r){"use strict";var o={String:1,"wix:Date":2,"wix:RichText":3,"String|AsPrice":4,"wix:Image":5,"wix:Video":6,"String|AsButton":7},n=new RegExp("(.*)_\\d+$");function i(t){t&&t.fields&&(t.fields=e.sortBy(t.fields,function(t){return"title"===t.name?Number.MIN_VALUE:o[function(t){var a=t.metadata&&t.metadata.showAsHint;return e.compact([t.type,a]).join("|")}(t)]||Number.MAX_VALUE}))}function s(t){var r=t.dal.getByPath(a.getBaseTypesPath());return e.forEach(r,i),r}function l(t,r){var o=n.exec(r),i=o?o[1]:r;return i+"_"+function(t,a){var r=new RegExp(t+"_(\\d+)$");return e(a).map(function(t){var a=r.exec(t);return a?e.parseInt(a[1]):null}).concat(0).max()+1}(i,t.dal.getKeysByPath(a.getBaseTypesPath()))}return{getType:function(e,t){var r=e.dal.getByPath(a.getTypePath(t));return i(r),r},getAllTypes:s,createType:function(t,o){o=o||{};var n={};n.name=l(t,o.name||"type"),n.displayName=function(t,a){for(var o=e.map(s(t),"displayName"),n=a;e.includes(o,n);)n=r.incNumberSuffix(n);return n}(t,o.displayName||n.name),n.version=0,n.baseTypes=o.baseTypes||[],n.fields=o.fields||[],t.dal.full.setByPath(a.getTypePath(n.name),n),i=t,u=n.name,i.dal.full.setByPath(a.getBaseItemsPath(u),{});var i,u;return n.name}}}),define("documentServices/wixapps/services/selection",["lodash","utils","documentServices/wixapps/utils/pathUtils","documentServices/wixapps/services/types"],function(e,t,a,r){"use strict";var o="Type does not exist",n="Selector does not exist",i={"IB.ManualSelectedList":"ManualSelectedList"};function s(e){throw new Error(e)}function l(e,t){return e.dal.getByPath(a.getDataSelectorPath(t))}function u(t,r,o){if(i=o,!e.isArray(i)||!e.every(i,function(t){return e.isString(t)}))throw new Error("itemsId must be an array of strings.");var i,u=l(t,r)||s(n);u.itemIds=function(t,r,o){var n=t.dal.getByPath(a.getBaseItemsPath(r))||{};return e.intersection(o,e.map(n,"_iid"))}(t,u.forType,o),u.logicalTypeName="IB.ManualSelectedList",t.dal.full.setByPath(a.getDataSelectorPath(r),u)}return{getSelector:function(t,a){var r=l(t,a);if(r){var o=e.omit(r,["dataProviderId","forType","logicalTypeName"]);return o.type=i[r.logicalTypeName],o}},setManualSelector:u,createSelector:function(e,n){r.getType(e,n)||s(o);var i={id:"dataSelector_"+t.guidUtils.getUniqueId(),forType:n};return e.dal.full.setByPath(a.getDataSelectorPath(i.id),i),i.id},deleteItemFromAllManualDataSelectors:function(t,r){var o=t.dal.getByPath(a.getBaseDataSelectorsPath());e(o).filter({logicalTypeName:"IB.ManualSelectedList"}).forEach(function(a){var o=e.reject(a.itemIds,function(e){return e===r});o.length!==a.itemIds.length&&u(t,a.id,o)})}}}),define("documentServices/wixapps/services/items",["lodash","utils","wixappsBuilder","documentServices/wixapps/utils/linksConverter","documentServices/wixapps/utils/pathUtils","documentServices/wixapps/utils/timeUtils","documentServices/wixapps/services/types","documentServices/wixapps/services/selection"],function(e,t,a,r,o,n,i,s){"use strict";var l="Type does not exist",u="Item does not match schema",c="Item does not exist",d="Deleted item does not exist",p={DRAFT:"Draft",SAVED:"Saved",PUBLISHED:"Published",MODIFIED:"Modified"};function g(e){throw new Error(e)}function f(t,a){if(!e.isObject(t))return t;return(e.isArray(t)?e.map:e.mapValues)(t,function(t){return e.isObject(t)?a(t):t})}function m(t,a){var r=t;return e.has(t,"links")&&((r=e.clone(t)).links=f(t.links,a)),e.forEach(r,function(t,o){e.has(t,"links")&&(r[o]=e.clone(t),r[o].links=f(t.links,a))}),r}function y(t,a){return m(a,e.partial(r.convertWixappsDataToWLink,t))}function _(e){return m(e,r.convertWLinkToWixappsData)}function v(t,a,r){var o=i.getType(t,a)||g(l),n=e.map(e.filter(o.fields,S),"name"),s=e.keys(r);return 0===e.difference(s,n).length}function S(t){return e.isUndefined(t.computed)||!t.computed}function O(e,t,a){return e.dal.getByPath(o.getItemPath(t,a))}function h(t,r){return e.mapValues(r,function(e){return"wix:Image"===e._type?a.resolveImageData(e,t):e})}return{STATES:p,createItem:function(a,r,s){var c,d,f,m=t.guidUtils.getUniqueId(),y=n.getCurrentTime(a),S=(c=m,d=r,f=y,{_iid:c,_type:d,_createdAt:f,_updatedAt:f,_state:p.DRAFT}),O=e.omit(e.cloneDeep(s)||{},e.keys(S).concat("_permissions"));if(!v(a,r,O=_(O)))throw new Error(u);return O=e.assign(function(t,a){var r={},o=i.getType(t,a)||g(l);return e.forEach(o.fields,function(t){e.isUndefined(t.defaultValue)||(r[t.name]=e.clone(t.defaultValue))}),r}(a,r),O,S),a.dal.full.setByPath(o.getItemPath(r,O._iid),O),m},updateItem:function(t,a,r,i){if(!v(t,a,i))throw new Error(u);i=_(i);var s=O(t,a,r)||g(c);e.forOwn(i,function(t,a){s[a]=e.isString(t)?t:e.defaults(t,s[a])}),s._updatedAt=n.getCurrentTime(t),s._state===p.PUBLISHED&&(s._state=p.MODIFIED),t.dal.full.setByPath(o.getItemPath(a,r),s)},deleteItem:function(e,t,a){O(e,t,a)||g(c),e.dal.full.removeByPath(o.getItemPath(t,a)),s.deleteItemFromAllManualDataSelectors(e,a)},restoreItem:function(e,t,a){var r=e.dal.getByPath(o.getDeletedItemPath(t,a))||g(d);delete r._deletedAt,e.dal.full.removeByPath(o.getDeletedItemPath(t,a)),e.dal.full.setByPath(o.getItemPath(t,a),r)},setAllItemsOfType:function(e,t,a){e.dal.full.setByPath(o.getBaseItemsPath(t),a)},getAllItemsOfType:function(t,a){var r=t.dal.get(t.pointers.general.getServiceTopology()),n=t.dal.getByPath(o.getBaseItemsPath(a))||{};return e(n).mapValues(e.partial(h,r)).mapValues(e.partial(y,t)).value()}}}),define("documentServices/wixapps/bi/events",[],function(){"use strict";var e="listim2";return{BEFORE_SAVING_ITEMS:{src:59,endpoint:e,evid:201,fields:{app_instance_id:"string",app_instance_version:"string",item_ids_to_create:"string",item_ids_to_update:"string",item_ids_to_delete:"string"}},SUCCESS_SAVING_ITEMS:{src:59,endpoint:e,evid:202,fields:{app_instance_id:"string",app_instance_version:"string",saved_item_ids:"string"}},SKIPPED_SAVING_ITEMS:{src:59,endpoint:e,evid:203,fields:{app_instance_id:"string",app_instance_version:"string"}},BEFORE_SAVING_REPO:{src:59,endpoint:e,evid:211,fields:{app_instance_id:"string",app_instance_version:"string"}},SUCCESS_SAVING_REPO:{src:59,endpoint:e,evid:212,fields:{app_instance_id:"string",old_app_instance_version:"string",new_app_instance_version:"string"}},SKIPPED_SAVING_REPO:{src:59,endpoint:e,evid:213,fields:{app_instance_id:"string",app_instance_version:"string"}},BEFORE_PUBLISH:{src:59,endpoint:e,evid:221,fields:{app_instance_id:"string",app_instance_version:"string"}},SUCCESS_PUBLISH:{src:59,endpoint:e,evid:222,fields:{app_instance_id:"string",app_instance_version:"string"}}}}),define("documentServices/wixapps/bi/errors",[],function(){"use strict";return{LIST_BUILDER_ERROR_SAVING_ITEMS:{src:40,endpoint:"trg",errorName:"list_builder_error_saving_items",errorCode:101,params:{p1:"app_instance_id",p2:"app_instance_version",p3:"error_code",p4:"error_description"}},LIST_BUILDER_ERROR_SAVING_REPO:{src:40,endpoint:"trg",errorName:"list_builder_error_saving_repo",errorCode:102,params:{p1:"app_instance_id",p2:"app_instance_version",p3:"error_code",p4:"error_description"}},LIST_BUILDER_ERROR_PUBLISH:{src:40,endpoint:"trg",errorName:"list_builder_error_publish",errorCode:103,params:{p1:"app_instance_id",p2:"app_instance_version",p3:"error_code",p4:"error_description"}}}}),define("documentServices/wixapps/bi/BIService",["lodash","documentServices/wixapps/bi/events","documentServices/wixapps/bi/errors","utils"],function(e,t,a,r){"use strict";function o(e,t){this._eventCallback=e,this._errorCallback=t}return o.prototype={sendEvent:function(e,t){try{this._eventCallback(e,t)}catch(e){r.log.error("Error sending BI event",e)}},sendError:function(e,t){try{this._errorCallback(e,t)}catch(e){r.log.error("Error sending BI error event",e)}},beforeSavingItems:function(a,r){this.sendEvent(t.BEFORE_SAVING_ITEMS,{app_instance_id:a.applicationInstanceId,app_instance_version:a.applicationInstanceVersion,item_ids_to_create:e.map(r.created,"_iid").join(","),item_ids_to_update:e.map(r.updated,"_iid").join(","),item_ids_to_delete:r.deleted.join(",")})},successSavingItems:function(a,r){var o=[];if(e.get(r,"payload.results")){var n=e.isArray(r.payload.results)?e.map(r.payload.results,"payload"):[r.payload.results.payload];o=n&&e.map(n,"id")}this.sendEvent(t.SUCCESS_SAVING_ITEMS,{app_instance_id:a.applicationInstanceId,app_instance_version:a.applicationInstanceVersion,saved_item_ids:o.join(",")})},skippedSavingItems:function(e){this.sendEvent(t.SKIPPED_SAVING_ITEMS,{app_instance_id:e.applicationInstanceId,app_instance_version:e.applicationInstanceVersion})},errorSavingItems:function(e,t,r){this.sendError(a.LIST_BUILDER_ERROR_SAVING_ITEMS,{app_instance_id:e.applicationInstanceId,app_instance_version:e.applicationInstanceVersion,error_code:t?t.errorCode:r,error_description:t&&t.errorDescription})},beforeSavingRepo:function(e){this.sendEvent(t.BEFORE_SAVING_REPO,{app_instance_id:e.applicationInstanceId,app_instance_version:e.applicationInstanceVersion})},successSavingRepo:function(a,r){this.sendEvent(t.SUCCESS_SAVING_REPO,{app_instance_id:a.applicationInstanceId,old_app_instance_version:a.applicationInstanceVersion,new_app_instance_version:e.get(r,"payload.applicationInstanceVersion")})},skippedSavingRepo:function(e){this.sendEvent(t.SKIPPED_SAVING_REPO,{app_instance_id:e.applicationInstanceId,app_instance_version:e.applicationInstanceVersion})},errorSavingRepo:function(e,t,r){this.sendError(a.LIST_BUILDER_ERROR_SAVING_REPO,{app_instance_id:e.applicationInstanceId,app_instance_version:e.applicationInstanceVersion,error_code:t?t.errorCode:r,error_description:t&&t.errorDescription})},beforePublish:function(e){this.sendEvent(t.BEFORE_PUBLISH,{app_instance_id:e.applicationInstanceId,app_instance_version:e.applicationInstanceVersion})},successPublish:function(e){this.sendEvent(t.SUCCESS_PUBLISH,{app_instance_id:e.applicationInstanceId,app_instance_version:e.applicationInstanceVersion})},errorPublish:function(e,t,r){this.sendError(a.LIST_BUILDER_ERROR_PUBLISH,{app_instance_id:e.applicationInstanceId,app_instance_version:e.applicationInstanceVersion,error_code:t?t.errorCode:r,error_description:t&&t.errorDescription})}},o}),define("documentServices/wixapps/services/serverApi",["lodash","zepto","utils","documentServices/wixapps/utils/requestPayloadCreator","documentServices/wixapps/utils/pathUtils","documentServices/wixapps/services/items","documentServices/wixapps/bi/BIService"],function(e,t,a,r,o,n,i){"use strict";function s(e){return new i(e.event,e.error)}function l(){var e=void 0,t=void 0,a=new Promise(function(a,r){e=a,t=r});return{resolve:e,reject:t,promise:a}}return{saveRepo:function(r,n,i){var u=s(i);u.beforeSavingRepo(r);var c=l();if(n){e(n.dataSelectors).filter(function(t){return e.isUndefined(t.dataProviderId)}).forEach(function(e){e.dataProviderId="wixdb"});var d={urls:(p=r,[a.urlUtils.origin()+"/apps/appBuilder/saved/"+p.applicationInstanceId+"?checkConcurrentModification=true"]),data:e.assign({applicationInstanceVersion:r.applicationInstanceVersion,dataProviders:{wixdb:{type:"WixDb"}},tags:{},pages:{}},n)};a.requestsUtil.createAndSendRequest(d,function(e,t){if(t||!e.success)c.reject({errorCode:t?e:e.errorCode,changes:null}),u.errorSavingRepo(r,e,t);else{u.successSavingRepo(r,e);var a=null;e.payload.applicationInstanceVersion&&((a={})[o.getApplicationInstanceVersionPath().join(".")]=e.payload.applicationInstanceVersion,r.applicationInstanceVersion=e.payload.applicationInstanceVersion),c.resolve(a)}},t.ajax)}else u.skippedSavingRepo(r),c.resolve(null);var p;return c.promise},saveItems:function(i,u,c){var d=s(c);d.beforeSavingItems(i,u);var p=l();if(e.some(u,function(e){return e.length>0})){var g={urls:[a.urlUtils.origin()+"/apps/appBuilder/1/editor/Batch?checkConcurrentModification=true"],data:{operations:r.getSaveItemsOperations(i,u)}};a.requestsUtil.createAndSendRequest(g,function(t,a){var r=e.get(t,"payload.results");if(a||!t.success){var s=r?(f=r,m=u,e(f).filter("success").transform(function(t,a){var r=a.payload.id,i=e.find(m.created,{_iid:r});if(i)return i._state=n.STATES.SAVED,void(t[o.getItemPath(i._type,r).join(".")]=i);e.find(m.deleted,r)&&(t[o.getItemPath(i._type,r).join(".")]=void 0)},{}).value()):null;p.reject({errorCode:a?t:t.errorCode,changes:s}),d.errorSavingItems(i,t,a)}else{var l=(c=r,g=u,e(c).filter("success").transform(function(t,a){var r=a.payload.id,i=e.find(g.created,{_iid:r});i&&(t[o.getItemPath(i._type,r,"_state").join(".")]=n.STATES.SAVED)},{}).value());p.resolve(l),d.successSavingItems(i,t)}var c,g,f,m},t.ajax)}else d.skippedSavingItems(i),p.resolve(null);return p.promise},saveRepoAndItems:function(t,a,r,o){var n={};function i(t){e.assign(n,t)}var s=l();return this.saveRepo(t,a,o).then(function(e){return i(e),this.saveItems(t,r,o)}.bind(this)).catch(function(e){i(e.changes);var t={changes:n,errorCode:e.errorCode};s.reject(t)}).then(function(e){i(e),s.resolve(n)}).catch(function(e){i(e.changes);var t={changes:n,errorCode:e.errorCode};s.reject(t)}),s.promise},publish:function(e,r){var o,n=s(r),i=l(),u={urls:(o=e,[a.urlUtils.origin()+"/apps/appBuilder/published/"+o.applicationInstanceId]),data:{}};return n.beforePublish(e),a.requestsUtil.createAndSendRequest(u,function(t,a){a||!t.success?(i.reject({errorCode:a?t:t.errorCode}),n.errorPublish(e,t,a)):(i.resolve(t.payload),n.successPublish(e))},t.ajax),i.promise}}}),define("documentServices/wixapps/utils/appBuilder",[],function(){"use strict";function e(e){return e.getIn(["wixapps","appbuilder","descriptor","applicationInstanceVersion"])}function t(e){var t=e.getIn(["rendererModel","clientSpecMap"]).find(function(e){return"appbuilder"===e.get("type")});return t&&t.get("instanceId")}return{getAppInstance:function(a){return{applicationInstanceId:t(a),applicationInstanceVersion:e(a)}},getAppInstanceId:t,getAppVersion:e}}),define("documentServices/wixapps/services/savePublish",["lodash","wixImmutable","documentServices/wixapps/utils/diffCalculator","documentServices/wixapps/utils/pathUtils","documentServices/wixapps/services/serverApi","documentServices/wixapps/utils/appBuilder"],function(e,t,a,r,o,n){"use strict";var i=t.fromJS({parts:null}),s=t.fromJS({dataSelectors:null}),l=t.fromJS({views:null}),u=t.fromJS({types:null}),c={items:function(e){return g(e,r.getBaseItemsPath())},parts:function(e){return i.update("parts",g.bind(null,e,r.getBasePartsPath()))},dataSelectors:function(e){return s.update("dataSelectors",g.bind(this,e,r.getBaseDataSelectorsPath()))},views:function(e){return l.update("views",g.bind(this,e,r.getBaseViewsPath()))},types:function(e){return u.update("types",g.bind(this,e,r.getBaseTypesPath()))}},d=["_state"];function p(t,a){return e.assign(a,{_timestamp:t._updatedAt})}function g(e,a){return e.getIn(a,t.fromJS({}))}function f(t,r,o,n,i){var s=e.map(o,function(e,t,r,o,n){var i=c[n](e),s=c[n](t);return a.getItemsDiff(i,s,r,o)}.bind(null,t,r,n,i));return{created:e(s).map("created").flattenDeep().value(),updated:e(s).map("updated").flattenDeep().value(),deleted:e(s).map("deleted").flattenDeep().value()}}function m(t){return e.every(c,function(e){return e(t).every(function(e){return e&&e.isEmpty()})})}function y(t,a,r,i,s){if(a===t||m(a)&&m(t))r();else{var l,u,g=(l=t,u=a,{dataItems:f(l,u,["items"],d,p),repo:function(t,a){var r=f(t,a,["types","parts","dataSelectors","views"]);if(!e.some(r,function(e){return e.length>0}))return null;var o=e.transform(["dataSelectors","views","types"],function(t,r){var o=c[r](a).toJS();t[r]=e(o).map(e.values).flattenDeep().value()},{}),n=c.parts(a).toJS();return e.assign(o,n)}(l,u)});o.saveRepoAndItems(n.getAppInstance(a),g.repo,g.dataItems,s).then(r).catch(i)}}return{partialSave:function(e,t,a,r,o){y(e,t,a,r,o)},fullSave:function(e,t,a,r,o){y(e,t,a,r,o)},firstSave:function(e,t,a,r,o){n.getAppInstanceId(e)===n.getAppInstanceId(t)?r({errorCode:1970,errorDescription:"application instance id is the template id",changes:null}):y(e,t,a,r,o)},saveAsTemplate:function(e,t,a){a()},autosave:function(e,t,a,r,o){y(e,t,a,r,o)},publish:function(e,t,a,r){m(e)?t():o.publish(n.getAppInstance(e),r).then(t).catch(a)},getTaskName:function(){return"appbuilder"},getSnapshotTags:function(){return["primary"]}}}),define("documentServices/wixapps/services/save/wixappsBlogSavePlugin",["lodash","coreUtils","documentServices/page/pageData","documentServices/siteMetadata/clientSpecMap","documentServices/tpa/services/provisionService","documentServices/wixapps/services/blogUtils"],function(e,t,a,r,o,n){"use strict";var i=["primary"];return{create:function(s){var l=function(t,i){var l=r.getAppDataByAppDefinitionId(s,"61f33d50-3002-4882-ae86-d319c1a249ab");if(l){var c=(g=s,e.some(a.getPagesList(g),e.partial(n.isBlogPage,g))),d=(p=l,"Deleted"===p.state);c&&d?o.restoreWixappOnServer(s,l.appDefinitionId,u("restore",t,i),i):c||d?!c&&d?t():c&&!d&&t():o.disableWixappOnServer(s,l.appDefinitionId,u("disable",t,i),i)}else t();var p,g},u=function(e,a,o){return function(n){n&&n.success?(i=s,l=n.payload,r.registerAppData(i,l),a()):(t.log.error('wixapps blog "'+e+'" operation failed on MetaSite, errorCode: '+n.errorCode+", errorDecription: "+n.errorDescription),o());var i,l}};return{partialSave:function(e,t,a,r){l(a,r)},fullSave:function(e,t,a,r){l(a,r)},firstSave:function(e,t,a){a()},saveAsTemplate:function(e,t,a){a()},autosave:function(e,t,a){a()},publish:function(e,t){t()},getTaskName:function(){return"wixappsSavePermissionsPlugin"},getSnapshotTags:function(){return i}}}}}),define("documentServices/saveTaskWithConcurrency/saveTaskWithConcurrency",["lodash"],function(e){"use strict";return function(t){return function(a,r,o,n){!function(a,r,o,n){var i=1;t(a,r,function s(l){if(l){var u=r.getIn(["rendererModel","clientSpecMap"]).toJS();!0===l.success?o({"rendererModel.clientSpecMap":e.assign({},u,l.payload.clientSpecMap)}):!1===l.success&&-40103===l.errorCode&&1===i?(i+=1,t(a,r,s,n)):o()}else o()},n)}(a,r,o,n)}}}),define("documentServices/wixCode/saveTasks/saveWixCodeApps",["lodash","documentServices/saveTaskWithConcurrency/saveTaskWithConcurrency","documentServices/wixCode/services/wixCodeLifecycleService","documentServices/wixCode/utils/utils","documentServices/wixCode/utils/traceUtils","wixCode"],function(e,t,a,r,o,n){"use strict";var i=t(function(e,t,i,s){var l,u=(l=t,r.extractFromSnapshot(l,["rendererModel","clientSpecMap"],!0));if(n.wixCodeWidgetService.getWixCodeSpec(u)){var c=n.log.trace(o.getParams(t,"saveWixCodeInMetasite"),o.getBaseUrl(t));a.save(t,function(e){t=c,(a=e)?a.success?t({message:a.payload.clientSpecMap}):t({message:a,level:n.log.levels.ERROR}):t({message:"no wix code apps to save"});var t,a;i(e)},function(e){c({message:e,level:n.log.levels.ERROR}),s(e)})}else i()});return{partialSave:i,fullSave:i,firstSave:i,saveAsTemplate:i,publish:function(e,t){t()},autosave:function(e,t,a){a()},getTaskName:function(){return"saveWixCodeTask"},getSnapshotTags:function(e){switch(e){case"autosave":return["autosave"];default:return["primary"]}}}}),define("documentServices/wixCode/saveTasks/saveCodeAndMarkImmutable",["lodash","documentServices/wixCode/saveTasks/saveCode","documentServices/wixCode/saveTasks/markAppImmutable"],function(e,t,a){"use strict";function r(r,o,n,i){t.fullSave(r,o,function(t){a.fullSave(r,o,function(a){var r=e.assign({},t,a);n(r)},i)},i)}return{partialSave:r,fullSave:r,firstSave:r,saveAsTemplate:r,autosave:function(e,t,a){a()},publish:function(e,t){t()},getTaskName:function(){return"saveCode"},getSnapshotTags:function(e){switch(e){case"autosave":return["autosave"];default:return["primary"]}}}}),define("documentServices/tpa/saveTasks/saveUnprovisionedApps",["lodash","documentServices/tpa/services/provisionService","documentServices/saveTaskWithConcurrency/saveTaskWithConcurrency"],function(e,t,a){"use strict";return{partialSave:function(e,t,a){a()},fullSave:function(e,t,a){a()},firstSave:a(function(e,a,r,o){!function(e,a,r){var o=e.getIn(["rendererModel","metaSiteId"]),n=e.getIn(["documentServicesModel","editorSessionId"]),i=e.getIn(["rendererModel","clientSpecMap"]).toJS(),s=e.getIn(["serviceTopology","appStoreUrl"]);t.completeProvisionAppsAfterSave(s,o,n,i,a,r)}(a,r,o)}),saveAsTemplate:function(e,t,a){a()},autosave:function(e,t,a){a()},publish:function(e,t){t()},getTaskName:function(){return"unProvisionedApps"},getSnapshotTags:function(){return["primary"]}}}),define("documentServices/tpa/saveTasks/saveUnprovisionedAppsForAppFlows",["lodash","documentServices/tpa/services/provisionService","documentServices/tpa/services/pendingAppsService","documentServices/tpa/services/appStoreService","documentServices/saveTaskWithConcurrency/saveTaskWithConcurrency"],function(e,t,a,r,o){"use strict";var n=function(e,t,o,n,i){var s=function(e){n(e),a.onSave()};setTimeout(function(){r.settleOnSave(e,t,o,s,i)},200)};return{partialSave:o(function(e,t,a,r){n(e,t,!1,a,r)}),fullSave:o(function(e,t,a,r){n(e,t,!1,a,r)}),firstSave:o(function(e,t,a,r){n(e,t,!0,a,r)}),saveAsTemplate:function(e,t,a){a()},autosave:o(function(e,t,a,r){n(e,t,!1,a,r)}),publish:function(e,t){t()},getTaskName:function(){return"mobuunProvisionedAppsAppFlows"},getSnapshotTags:function(){return["primary"]}}}),define("documentServices/tpa/saveTasks/saveEventDispatcher",["documentServices/tpa/tpa","documentServices/hooks/hooks"],function(e,t){"use strict";var a=function(){e.change.siteSaved(),t.executeHook(t.HOOKS.SAVE.SITE_SAVED)};return{partialSave:function(e,t,r){r(),a()},fullSave:function(e,t,r){r(),a()},firstSave:function(e,t,r){r(),a()},saveAsTemplate:function(e,t,a){a()},publish:function(e,t){t()},autosave:function(t,a,r){e.change.siteSaved(),r()},getTaskName:function(){return"saveEventDispatcher"},getSnapshotTags:function(){return["primary"]}}}),define("documentServices/saveAPI/lib/registry",["lodash","documentServices/saveAPI/saveTasks/saveDocument","documentServices/wixapps/services/savePublish","documentServices/wixapps/services/save/wixappsBlogSavePlugin","documentServices/wixCode/saveTasks/saveWixCodeApps","documentServices/wixCode/saveTasks/saveCodeAndMarkImmutable","documentServices/tpa/saveTasks/saveUnprovisionedApps","documentServices/tpa/saveTasks/saveUnprovisionedAppsForAppFlows","documentServices/tpa/saveTasks/saveEventDispatcher","experiment"],function(e,t,a,r,o,n,i,s,l,u){"use strict";return{getSaveTasksConfig:function(c){var d=e.compact([u.isOpen("sv_oldBlogRemoveOnSave")?r.create(c):null]);return{primaryTask:t,secondaryTasks:[o,n,a,i,s,l].concat(d)}}}}),define("documentServices/saveAPI/preSaveOperations/plugins/mobilePreSaveOperation",["lodash","documentServices/mobileConversion/mobileConversionFacade"],function(e,t){"use strict";return function(e){if(!e.siteAPI.isMobileView()){t.runPartialConversionAllPages(e,!1)}}}),define("documentServices/saveAPI/preSaveOperations/plugins/markDataAsPresetOperation",["lodash","documentServices/page/page"],function(e,t){"use strict";return function(a){var r=e(t.getPageIdList(a,!0)).transform(function(e,t){e[t]=a.pointers.page.getPageData(t)},{}).mapValues(a.dal.get.bind(a.dal)).mapValues(function(t){return e.pickBy(t,"metaData")}).value();e.forEach(r,function(t,a,r){e.forEach(a,function(e){e.metaData.isPreset=!0;var a=t.pointers.data.getDataItem(e.id,r);t.dal.set(a,e)})}.bind(null,a))}}),define("documentServices/saveAPI/preSaveOperations/plugins/disallowDuplicatePageUriSeoOperation",["lodash","utils","documentServices/page/pageData"],function(e,t,a){"use strict";function r(e){return e>1}return function(o){var n=o.pointers.general.getUrlFormat();if(o.dal.get(n)!==t.siteConstants.URL_FORMATS.HASH_BANG){var i=a.getPagesList(o),s=e(i).map(a.getPageUriSEO.bind(null,o)).countBy().pickBy(r).value();if(!e.isEmpty(s))throw new Error("Found pages with duplicate url title: "+JSON.stringify(s))}}}),define("documentServices/saveAPI/preSaveOperations/plugins/disallowForbiddenPageUriSeoOperation",["lodash","utils","documentServices/page/pageData"],function(e,t,a){"use strict";return function(r){var o=r.pointers.general.getUrlFormat();if(r.dal.get(o)!==t.siteConstants.URL_FORMATS.HASH_BANG){var n=a.getPagesList(r),i=a.getForbiddenPageUriSEOs(r),s=e.reduce(n,function(e,t){var o=a.getPageUriSEO(r,t);return o&&i[o.toLowerCase()]&&e.push(o),e},[]);if(!e.isEmpty(s))throw new Error("Found pages with forbidden url title: "+JSON.stringify(s))}}}),define("documentServices/accessibility/reordering",["utils","lodash","documentServices/mobileConversion/mobileConversionFacade","documentServices/page/page","experiment"],function(e,t,a,r,o){"use strict";var n=e.constants,i=[n.COMP_IDS.HEADER,n.COMP_IDS.PAGES_CONTAINER,n.COMP_IDS.FOOTER];function s(e){var a=function(e){var a=t.invert(e);return function(e){var t=a[e.id];return t?Number(t):-1}}(e);return function(e,t){return a(e)-a(t)}}function l(e,t,a){var r=e.pointers.full.components.getChildrenContainer(t),o=e.dal.full.get(r);o.sort(s(a)),e.dal.full.set(r,o)}function u(e,a){return new Promise(function(r,o){t.delay(function(){var t=void 0;try{t=e(a),r(t)}catch(e){o(e)}})})}function c(e,t,a,r){var o=e.pointers.components.getPage(t,n.VIEW_MODES.DESKTOP),i=e.pointers.full.components.getComponent(a,o);i&&l(e,i,r)}function d(e,r){return o=[function(){return a.getComponentsOrder(e,r)},function(a){return"masterPage"===r&&function(e,a){var r=e.pointers.full.components.getMasterPage(n.VIEW_MODES.DESKTOP),o=e.pointers.full.components.getChildren(r),s=t.reject(o,function(e){return t.includes(i,e.id)}),l=t.map(s,"id"),u=(a.SITE_HEADER||[]).concat(a.SITE_FOOTER||[]),c=t.union(u,l);a.masterPage=[n.COMP_IDS.HEADER,n.COMP_IDS.PAGES_CONTAINER].concat(c).concat(n.COMP_IDS.FOOTER),t.remove(a.SITE_HEADER,t.partial(t.includes,l)),t.remove(a.SITE_FOOTER,t.partial(t.includes,l))}(e,a),a},function(a){var o=e.pointers.components.getPage(r,n.VIEW_MODES.DESKTOP);return l(e,o,a[r]),t.omit(a,r)},function(a){return o=e,n=r,i=a,Promise.all(t.transform(i,function(e,a,r){var i=u(t.partial(c,o,n,r,a));return e.push(i),e},[]));var o,n,i}],t.reduce(o,function(e,t){return e.then(function(e){return u(t,e)})},Promise.resolve());var o}return{reorderComponents:function(e,a,n,i){o.isOpen("gradualReorderOnSave")||(i=r.getPageIdList(e,!0,!0)),Promise.all(t.map(i,t.partial(d,e))).then(a).catch(n)}}}),define("documentServices/accessibility/visualFocusData",["utils","lodash"],function(e,t){"use strict";function a(t){var a=t.pointers.data.getDataItemFromMaster(e.siteConstants.MASTER_PAGE_ID);return t.pointers.getInnerPointer(a,"accessibilitySettings")}return{get:function(e){var r=e.dal.get(a(e)),o=t.get(r,"visualFocusDisabled");return!t.isUndefined(o)&&!o},set:function(e,r){if(!t.isBoolean(r))throw new Error("visualFocus.set accepts only boolean value");var o=a(e),n=e.dal.get(o)||{};e.dal.set(o,t.assign(n,{visualFocusDisabled:!r}))}}}),define("documentServices/saveAPI/preSaveOperations/plugins/accessibilityReorder",["lodash","utils","documentServices/accessibility/reordering","documentServices/saveAPI/saveTasks/saveDocument","documentServices/accessibility/visualFocusData","experiment"],function(e,t,a,r,o,n){"use strict";return function(t){if(n.isOpen("sv_reorderEverySave")){var o=function(e){var t=e.dal.full.immutable.getLastSnapshotByTagName("reordering")||e.dal.full.immutable.getInitialSnapshot();return e.dal.takeSnapshot("reordering"),[t,e.dal.full.immutable.getLastSnapshotByTagName("reordering")]}(t),i=r.getChangedPages(o[0],o[1]);a.reorderComponents(t,e.noop,e.noop,i)}else;}}),define("documentServices/wixCode/saveTasks/ensureAppIsWritablePreSave",["lodash","documentServices/wixCode/saveTasks/saveCodeAndMarkImmutable","documentServices/wixCode/services/wixCodeLifecycleService","documentServices/wixCode/services/filesDAL","documentServices/wixCode/services/kibanaReporterWrapper"],function(e,t,a,r,o){"use strict";function n(e,a){var o=function(e,a){var r=t.getTaskName(),o=t.getSnapshotTags(a);return e.dal.full.immutable.getLastSnapshotByTagName(r+o[0])||e.dal.full.immutable.getInitialSnapshot()}(e,a),n=r.getChangesBetweenLastSnapshotAndCurrentStateTakenFromPS(o,e);return!r.isChangesEmpty(n)}return function(e){return function(t){try{var r=o.trace(t,{action:"cloneAppPreSave"});try{if(!a.isProvisioned(t))return void r({message:"no wix code app"});if(a.isAppWriteable(t))return void r({message:"app is already writable"});if(!n(t,e))return void r({message:"no changes"});a.ensureAppIsWriteable(t).then(function(){r({message:"had changes but app was not writable. app cloned successfully"})},function(e){r({message:e,level:o.levels.ERROR})})}catch(e){r({message:e,level:o.levels.ERROR})}}catch(e){}}}}),define("documentServices/saveAPI/preSaveOperations/preSaveOperations",["lodash","utils","documentServices/saveAPI/preSaveOperations/plugins/mobilePreSaveOperation","documentServices/saveAPI/preSaveOperations/plugins/markDataAsPresetOperation","documentServices/saveAPI/preSaveOperations/plugins/disallowDuplicatePageUriSeoOperation","documentServices/saveAPI/preSaveOperations/plugins/disallowForbiddenPageUriSeoOperation","documentServices/saveAPI/preSaveOperations/plugins/accessibilityReorder","documentServices/wixCode/saveTasks/ensureAppIsWritablePreSave","experiment"],function(e,t,a,r,o,n,i,s,l){"use strict";var u=[o,n,a,s("save")];l.isOpen("gradualReorderOnSave")&&u.push(i);var c=[o,n,r,s("saveAsTemplate")],d=a;return{save:t.functionUtils.runMultiple(u),saveAsTemplate:t.functionUtils.runMultiple(c),autosave:d}}),define("documentServices/saveAPI/lib/saveState",[],function(){"use strict";var e={isSaveInProgress:!1,isSaveAllowedByDSconfig:!0};return{setSaveProgress:function(t){e.isSaveInProgress=t},isSaveInProgress:function(){return e.isSaveInProgress},canSave:function(){return e.isSaveAllowedByDSconfig&&!e.isSaveInProgress},isEnabled:function(){return e.isSaveAllowedByDSconfig},setSaveAllowed:function(t){e.isSaveAllowedByDSconfig=t}}}),define("documentServices/saveAPI/saveAPI",["lodash","documentServices/saveAPI/lib/registry","documentServices/saveAPI/lib/saveRunner","documentServices/saveAPI/preSaveOperations/preSaveOperations","documentServices/siteMetadata/generalInfo","documentServices/bi/bi","documentServices/bi/errors","documentServices/errors/errors","documentServices/constants/constants","utils","experiment","documentServices/saveAPI/lib/saveState","documentServices/hooks/hooks","documentServices/page/pageData","mobx","coreUtils"],function(e,t,a,r,o,n,i,s,l,u,c,d,p,g,f,m){"use strict";var y="Editor1.4";function _(e,t){e.config.origin===y&&o.setUseOnBoarding(e,t)}function v(t){return{event:e.partial(n.event,t),error:e.partial(n.error,t)}}function S(t){return-10104===e.get(t,["document","errorCode"])}function O(e){var t=e.pointers.general.getPublishSaveInnerPointer(),a=e.pointers.general.getSilentSaveInnerPointer();e.dal.get(t)?e.dal.remove(t):e.dal.get(a)&&e.dal.remove(a)}function h(t,a,r){if(S(r)){var o=t.pointers.general.getSaveInvalidationCount(),n=t.dal.get(o)||0;t.dal.set(o,++n)}O(t),a&&a.apply(null,e.slice(arguments,2))}function A(t,a){var r=t.pointers.general.getSaveInvalidationCount();t.dal.set(r,0),O(t),d.setSaveProgress(!1),a&&a.apply(null,e.slice(arguments,2))}function E(t,a,r){d.setSaveProgress(!1),O(t),a&&a.apply(null,e.slice(arguments,2)),S(r)&&p.executeHook(p.HOOKS.SAVE.VALIDATION_ERROR)}var C=function(e){return function(t,a,r){for(var o=arguments.length,n=Array(o>3?o-3:0),i=3;i<o;i++)n[i-3]=arguments[i];return d.canSave()?e.apply(void 0,[t,a,r].concat(n)):void r({documentServices:{errorCode:-1,errorType:s.save.SAVE_DISABLED_IN_DOCUMENT_SERVICES,errorDescription:"DocumentServices was created with parameter disableSave=true, so save is disabled."}})}},P={initMethod:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{disableSave:!1}).disableSave;void 0!==t&&t&&d.setSaveAllowed(!1)},save:C(function(o,l,p,g,m){_(o),o.setOperationsQueue.flushQueueAndExecute(f.action(function(){var f,y=(f=o,!!f.dal.get(f.pointers.general.getNeverSaved()));try{r.save(o)}catch(e){if(p)return p({preSaveOperation:e}),n.error(o,i.SAVE_FAILED_DUE_TO_PRE_SAVE_OPERATION,{stack:e.stack}),void u.log.error("Save has failed due to a preSaveOperation, and no request has been sent to the server - please see the failure details below:",e)}var S=v(o),O=e.partial(A,o,l),C=e.partial(E,o,p);if(m&&(m.isPublish?function(e){var t=e.pointers.general.getPublishSaveInnerPointer();e.dal.set(t,!0)}(o):m.isSilent&&function(e){var t=e.pointers.general.getSilentSaveInnerPointer();e.dal.set(t,!0)}(o),e.isUndefined(m.onBoarding)||_(o,m.onBoarding)),d.setSaveProgress(!0),y)a.runFirstSaveTasks(t.getSaveTasksConfig(o),o.dal,O,C,S);else if(g)a.runFullSaveTasks(t.getSaveTasksConfig(o),o.dal,O,C,S);else{if(function(e){var t=e.dal.get(e.pointers.general.getSaveInvalidationCount());return c.isOpen("block_after_third_invalid_save")&&t>=3}(o))return C({documentServices:{errorCode:-1,errorType:s.save.SAVE_BLOCKED_BY_DOCUMENT_SERVICES,errorDescription:"Save has failed 3 times due to invalidation error (-10104). This site is corrupt (in client!).\nPlease refresh the frame to reload to the last failed saved state."}}),void n.error(o,i.SAVE_BLOCKED_BY_DOCUMENT_SERVICES);a.runPartialSaveTasks(t.getSaveTasksConfig(o),o.dal,O,e.partial(h,o,C),S)}}))}),autosave:C(function(e,o,s){var l=v(e);e.setOperationsQueue.flushQueueAndExecute(f.action(function(){if(!c.isOpen("sv_autoSaveNoMobileMerge")){m.loggingUtils.fedopsLogger.interactionStarted(m.loggingUtils.fedopsLogger.INTERACTIONS.AUTOSAVE.PRESAVE_OPERATIONS),m.loggingUtils.performance.start(m.loggingUtils.performanceMetrics.AUTOSAVE.PRESAVE_OPERATIONS);var d=void 0;try{r.autosave(e)}catch(t){if(d=t,s)return s({preAutosaveOperation:d}),n.error(e,i.AUTOSAVE_FAILED_DUE_TO_PRE_SAVE_OPERATION,{stack:d.stack}),void u.log.error("Autosave has failed due to a pre Autosave operation, and no request has been sent to the server - please see the failure details below:",d)}finally{m.loggingUtils.fedopsLogger.interactionEnded(m.loggingUtils.fedopsLogger.INTERACTIONS.AUTOSAVE.PRESAVE_OPERATIONS),m.loggingUtils.performance.finish(m.loggingUtils.performanceMetrics.AUTOSAVE.PRESAVE_OPERATIONS,{report:!0,additionalData:{success:(!d).toString(),pagesCount:g.getNumberOfPages(e)}})}}a.runAutosaveTasks(t.getSaveTasksConfig(e),e.dal,o,s,l)}))}),saveAsTemplate:C(function(e,o,n){try{r.saveAsTemplate(e)}catch(e){if(n)return void n({preSaveAsTemplateOperation:e})}P.save(e,function(){P.publish(e,function(e,r,o){e.setOperationsQueue.flushQueueAndExecute(f.action(function(){var n=[t.getSaveTasksConfig(e),e.dal,r,o,v(e)];a.runSaveAsTemplate.apply(a,n)}))}.bind(null,e,o,n),n)},n,!1)}),publish:C(function(e,r,o){e.setOperationsQueue.flushQueueAndExecute(f.action(function(){var n=[t.getSaveTasksConfig(e),e.dal,r,o,v(e)];a.runPublishTasks.apply(a,n)}))}),canUserPublish:function(t){if(!d.isEnabled())return!1;if(!o.isFirstSave(t)&&!o.isOwner(t)){var a=o.getUserPermissions(t);return e.includes(a,l.PERMISSIONS.PUBLISH)}return!0},saveState:d};return P}),define("documentServices/autosave/autosave",["lodash","utils","experiment","documentServices/errors/errors","documentServices/hooks/hooks","documentServices/saveAPI/saveAPI","documentServices/siteMetadata/generalInfo","documentServices/page/pageData"],function(e,t,a,r,o,n,i,s){"use strict";var l=void 0,u={AUTOSAVE_ACTION_COUNT:2,SAVE_AFTER_AUTOSAVE_COUNT:3,DEBOUNCE_WAIT:2,AUTOSAVE_TIMEOUT:10},c={},d={SHOULD_AUTOSAVE:"shouldAutoSave",ACTIONS_COUNT:"actionsCount",AUTOSAVES_COUNT:"autosaveCount",TIMEOUT_ID:"timeoutId",AUTO_FULL_SAVE_FLAG:"autoFullSaveFlag",REPORTING_INFO:"reportingInfo"},p={INCREASE:"increase",DECREASE:"decrease",RESET:"reset"},g=r.save,f=o.HOOKS;function m(t){if(w(t)){l=l||e.debounce(y,1e3*c.DEBOUNCE_WAIT),function(t){A(t);var a=D(t,d.TIMEOUT_ID),r=setTimeout(function(){l(t,e.noop,e.noop,"idle")},1e3*c.AUTOSAVE_TIMEOUT);t.dal.set(a,r)}(t);C(t,d.ACTIONS_COUNT)>=c.AUTOSAVE_ACTION_COUNT&&l(t,e.noop,e.noop,"num of actions")}}function y(t,a,r,o){var i=C(t,d.AUTOSAVES_COUNT);if(R(t),i<c.SAVE_AFTER_AUTOSAVE_COUNT){var l=_(t,o,a),u=_(t,o,r),p=D(t,d.REPORTING_INFO);t.dal.set(p,{actionsPerAutosave:c.AUTOSAVE_ACTION_COUNT,autosavesPerFull:c.SAVE_AFTER_AUTOSAVE_COUNT,pagesCount:s.getNumberOfPages(t),trigger:o}),e.invoke(c,"onDiffSaveStarted",o),n.autosave(t,l,u)}else{var g=v(t,o,a),f=v(t,o,r),m=D(t,d.AUTO_FULL_SAVE_FLAG);t.dal.set(m,!0),e.invoke(c,"onPartialSaveStarted",o),n.save(t,g,f,!1)}}function _(t,a,r){return function(o){var n=D(t,d.REPORTING_INFO);t.dal.remove(n),l=o,e.includes([g.CONCURRENT_AUTO_SAVE,g.SITE_STALE_STATE_FROM_AUTO_SAVE],h(l))&&(i=t,s=d.AUTOSAVES_COUNT,E(i,s,p.DECREASE));var i,s,l;e.isFunction(c.onDiffSaveFinished)&&e.invoke(c,"onDiffSaveFinished",o,a),e.isFunction(r)&&r(o,a),f=o,(e.includes([g.NOT_LOGGED_IN,g.SESSION_EXPIRED,g.USER_NOT_AUTHORIZED_FOR_SITE],h(f))||(u=o,g.SAVE_PUBLISH_DISABLED_ON_SERVER===h(u)))&&O(t);var u,f}}function v(t,a,r){return function(o){var n=D(t,d.AUTO_FULL_SAVE_FLAG);t.dal.remove(n),e.invoke(c,"onPartialSaveFinished",o,a),P(t,d.AUTOSAVES_COUNT),e.isFunction(r)&&r(o,a)}}function S(e){T(e)||function(e){var a=e.pointers.general.getSiteVersion(),r=e.pointers.general.getServiceTopology(),o=e.pointers.getInnerPointer(r,"autoSaveUrl"),n=e.dal.get(o)+"delete_diffs",i={siteId:e.siteAPI.getSiteId(),siteVersion:e.dal.get(a)};t.ajaxLibrary.ajax({url:n,type:"POST",dataType:"json",data:i})}(e),O(e)}function O(e){L(e,{enabled:!1})}function h(t){return e.get(t,"document.errorType")}function A(e){var t=D(e,d.TIMEOUT_ID),a=e.dal.get(t);clearTimeout(a),a&&e.dal.remove(t),l&&l.cancel()}function E(e,t,a){var r=D(e,t),o=e.dal.get(r)||0,n=void 0;switch(a){case p.INCREASE:n=o+1;break;case p.DECREASE:n=o-1;break;case p.RESET:n=0}return e.dal.set(r,n),n}function C(e,t){return E(e,t,p.INCREASE)}function P(e,t){return E(e,t,p.RESET)}function R(e){A(e),P(e,d.ACTIONS_COUNT)}function I(e){R(e),P(e,d.AUTOSAVES_COUNT)}function D(e,t){return e.pointers.general.getAutoSaveInnerPointer(t)}function T(e){var t=e.pointers.general.getNeverSaved();return e.dal.get(t)}function w(e){var t=b(e);return!(!t||!t.shouldAutoSave||T(e)||!c.allowOnBoarding&&(a=e,i.isSiteFromOnBoarding(a))||!n.saveState.canSave());var a}function b(e){var t=e.pointers.general.getAutosaveInfo();return e.dal.get(t)}function L(a,r){if(!r)return t.log.error(new Error("Missing autosave config object")),!1;if(c=e.defaults(e.clone(r),u),o.unregisterHooks([f.AUTOSAVE.ACTION,f.SAVE.SITE_SAVED,f.SAVE.VALIDATION_ERROR]),A(a),!0!==r.enabled||!n.saveState.isEnabled())return!1;i=a,o.registerHook(f.AUTOSAVE.ACTION,e.partial(m,i)),o.registerHook(f.SAVE.SITE_SAVED,e.partial(I,i)),o.registerHook(f.SAVE.VALIDATION_ERROR,e.partial(S,i));var i;return!0}return{init:L,autosave:function(e,t,a,r){if(!w(e))return a({document:"Autosave not available"});y(e,t,a,r)},canAutosave:w,getAutoSaveInfo:b,clearAll:I,handleValidationError:S}}),define("documentServices/patchData/patchList",["lodash"],function(e){"use strict";var t=new RegExp("~1","g"),a=new RegExp("~0","g");function r(e){return e.replace(t,"/").replace(a,"~")}function o(t){return e(t).split("/").compact().map(r).value()}var n={add:function(t,a){var r=o(a.path),n=r.length>1?e.initial(r):r,i=t.getByPathInHostModel(n),s=e.last(r);e.isArray(i)?(s=Number(e.last(r)),t.pushByPathToHostModel(n,a.value,s)):(e.isUndefined(i)||i[s]!==a.value)&&t.setByPathToHostModel(r,a.value)},remove:function(e,t){e.removeByPathInHostModel(o(t.path))},replace:function(t,a){var r=o(a.path),n=void 0,i=void 0,s=e.last(r);if(r.length>1&&!function(t,a){var r=e.initial(a);return t.isPathExistInHostModel(r)&&e.isArray(t.getByPathInHostModel(r))}(t,r)?(i=t.getKeysByPathInHostModel(e.initial(r)),n=e.includes(i,s)):n=t.isPathExistInHostModel(r),!n){var l=new Error("replace operation in nonexisting path");throw l.patch=a,l}t.setByPathToHostModel(r,a.value)},move:function(e,t){var a=o(t.from),r=o(t.path),n=e.getByPathInHostModel(a);e.removeByPathInHostModel(a),e.setByPathToHostModel(r,n)},copy:function(e,t){var a=o(t.from),r=o(t.path),n=e.getByPathInHostModel(a);e.setByPathToHostModel(r,n)},test:function(t,a){var r=o(a.path);if(!e.isEqual(t.getByPathInHostModel(r),a.value)){var n=new Error("test operation failed");throw n.patch=a,n}}};return{applyPatchList:function(e,t){t&&t.length&&t.forEach(function(e,t){if(!t||!n[t.op]){var a=new Error("Patch not properly formatted");throw a.patch=t,a}n[t.op](e,t)}.bind(null,e))},getPathArray:o}}),define("documentServices/undoRedo/UndoRedo",["lodash","immutableDiff","wixImmutable","utils","documentServices/hooks/hooks","documentServices/autosave/autosave","documentServices/patchData/patchList"],function(e,t,a,r,o,n,i){"use strict";var s="initial state";function l(t){return e.isEqual(t,["runtime"])}function u(t,a,r){this.undoablePaths=m(a),this.nonUndoablePaths=m(r),this.undoStack=[],this.redoStack=[],c(t),function(t){this.undo=function(t){if(!this.canUndo())return null;var a=this.undoStack.pop();this.redoStack.push(a);var r=e.last(this.undoStack);return t.setOperationsQueue.runSetOperation(f,[r,t.dal,this.undoablePaths,this.nonUndoablePaths,t.siteAPI]),_(t),r.label}.bind(this,t),this.redo=function(t){if(!this.canRedo())return null;var a=this.redoStack.pop();this.undoStack.push(a);var r=e.last(this.undoStack);return t.setOperationsQueue.runSetOperation(f,[r,t.dal,this.undoablePaths,this.nonUndoablePaths,t.siteAPI]),_(t),r.label}.bind(this,t),this.add=function(t,a,r,o){y.call(this);var n={placeHolder:!0,params:r||null,label:a||""},i=this.canUndo()&&(l=o,u=this.undoStack,u[u.length-1].snapshotId===l);var l,u;if(i){var d=this.undoStack.pop();n.params=e.assign({},d.params,r,{label:n.label})}else if(o===(p=t,p.runtimeConfig.nextHistorySnapshotId))return;var p;t.setOperationsQueue.flushQueueAndExecute(function(){i&&t.dal.removeLastSnapshot("undoRedo"),n.historyIndex=t.dal.takeSnapshot("undoRedo"),n.snapshotId=function(e){var t=e.runtimeConfig.nextHistorySnapshotId;return c(e),t}(t),n.placeHolder=!1}),this.undoStack.push(n),a!==s&&_(t)}.bind(this,t)}.call(this,t),this.add(s)}function c(e){e.runtimeConfig.nextHistorySnapshotId=r.guidUtils.getGUID()}function d(e,t){i.applyPatchList(e,t)}function p(r,o,n){return e.mapValues(o,function(o){return function(r,o,n){var i=void 0,s=void 0;o.full.isPathExistInHostModel(r)&&(s=o.full.immutable.getByPath(r));var l=n.getIn(r),u=!1;return e.isUndefined(s)&&!e.isUndefined(l)?(u=!0,i=t(a.Map(),a.Map([[r[0],l]]))):!e.isUndefined(s)&&e.isUndefined(l)?(u=!0,i=t(a.Map([[r[0],s]]),a.Map())):i=t(s,l),e.map(i.toJS(),function(t){return e.assign({},t,{path:u?r.join("/"):r.join("/").concat(t.path)})})}(o,r,n)})}function g(t,a,r,o){var n,i,s,u=(n=t,i=o,e(i).filter(n.full.isPathExist).transform(function(e,t){var a=t.join(".");l(t)?e[a]=(r=n,r.displayedJsonDal.jsonData.runtime):e[a]=n.getByPath(t);var r},{}).value()),c=p(t,r,a),g=c.pagesData,f=(s=g,s?e(s).map(function(e){return e.path.split("/")[1]}).uniq().value():[]);t.transaction(function(){a=t.full,r=c,e.forEach(r,e.partial(d,a));var a,r}),m=t,y=u,e.forEach(y,function(e,t){var a=t.split(".");l(a)?(r=e,m.displayedJsonDal.jsonData.runtime=r):m.full.setByPath(a,e);var r});var m,y;return f}function f(t,a,r,o,n){var i=function(t){var a=e.map(t,e.last);return e.zipObject(a,t)}(r),s=g(a,a.full.immutable.getSnapshotByTagAndIndex("undoRedo",t.historyIndex,i),i,o);e.forEach(s,function(e){n.createDisplayedPage(e)})}function m(t){return e.map(t,function(t){return e.isString(t)?[t]:t})}function y(){this.redoStack=[]}function _(e){n.canAutosave(e)&&o.executeHook(o.HOOKS.AUTOSAVE.ACTION)}function v(t){return e.last(t)}function S(t){return e.isEmpty(t)?null:v(t).params}function O(t){return e.isEmpty(t)?null:v(t).label}return u.prototype={clear:function(){(function(){this.add(s),this.undoStack=e.takeRight(this.undoStack)}).call(this),y.call(this)},getUndoLastSnapshotParams:function(){return S(this.undoStack)},getRedoLastSnapshotParams:function(){return S(this.redoStack)},getUndoLastSnapshotLabel:function(){return O(this.undoStack)},getRedoLastSnapshotLabel:function(){return O(this.redoStack)},canUndo:function(){return this.undoStack.length>=2},canRedo:function(){return!e.isEmpty(this.redoStack)}},u}),define("documentServices/documentServicesDataFixer/fixers/adiGroupFixer",["lodash","coreUtils","documentServices/componentsMetaData/componentsMetaData","documentServices/structure/structure","documentServices/componentDetectorAPI/componentDetectorAPI"],function(e,t,a,r,o){"use strict";return{exec:function(t){if(function(t){var a=t.siteAPI.getClientSpecMap(),r=e.find(a,{type:"onboarding"});return!!r&&!1===r.inUse}(t)){var n=o.getAllComponentsFromFull(t,null,function(e){var a=t.dal.get(e);return a&&"wysiwyg.viewer.components.Group"===a.componentType});e.forEach(n,function(o){!function(t,o){var n=t.pointers.components.getChildren(o);e.forEach(n,function(e){a.public.isGroupable(t,e)||r.reparentComponentToPage(t,e,!0)})}(t,o)})}}}}),define("documentServices/documentServicesDataFixer/fixers/fiveGridLineFullWidthFixer",["lodash","documentServices/componentDetectorAPI/componentDetectorAPI","documentServices/dataModel/dataModel","documentServices/structure/structure"],function(e,t,a,r){"use strict";return{exec:function(o){var n=t.getComponentByType(o,"wysiwyg.viewer.components.FiveGridLine");e.forEach(n,function(e){var t=a.getPropertiesItem(o,e);t&&t.fullScreenModeOn&&(n=o,i=e,s=t,r.setDock(n,i,{left:{vw:0},right:{vw:0}}),s.fullScreenModeOn=!1,a.updatePropertiesItem(n,i,s));var n,i,s})}}}),define("documentServices/documentServicesDataFixer/fixers/brokenAnchorsFixer",["lodash","documentServices/constants/constants","experiment"],function(e,t,a){"use strict";var r=function(t,a){var r=[a].concat(t.pointers.components.getChildrenRecursively(a)),o=e.filter(r,function(e){var a=t.pointers.getInnerPointer(e,"layout.anchors");return t.dal.isExist(a)}),n=e.map(o,"id");return e.filter(o,function(a){var r=t.pointers.getInnerPointer(a,"layout.anchors"),o=t.dal.get(r);return e.some(o,function(t){return"BOTTOM_PARENT"!==t.type&&!e.includes(n,t.targetComponent)})})};function o(a){var r=a.pointers.page.getNonDeletedPagesPointers(!1);return e(r).map(function(e){return r=e,a.pointers.components.getPage(r.id,t.VIEW_MODES.DESKTOP);var r}).filter(function(t){return r=a,function t(a){var o=r.pointers.getInnerPointer(a,"layout.anchors");if(!r.dal.isExist(o))return!0;var n=r.pointers.components.getChildren(a);return e.some(n,t)}(t);var r}).value()}return{exec:function(t){if(a.isOpen("sv_fixBrokenAnchors")){var n=o(t);e.forEach(n,function(a){var o=r(t,a);e.isEmpty(o)||e.forEach(o,function(e){var a=t.pointers.getInnerPointer(e,"layout.anchors");t.dal.full.remove(a)})})}}}}),define("documentServices/documentServicesDataFixer/fixers/designDuplicateIdsDataFixer",["lodash","documentServices/dataModel/dataIds"],function(e,t){"use strict";var a={MediaContainerDesignData:["background"],BackgroundMedia:["mediaRef","imageOverlay"],MediaTransforms:[],WixVideo:["posterImageRef"],Image:["link","originalImageDataRef"]},r="VALID",o="INVALID",n="ONLY_REFS_INVALID";function i(i,u,c){var d=i.pointers.page.getPageDesignData(u),p=i.dal.full.getKeys(d),g=function(i,u,c,d){var p=(m=i,y=u,_=c,v=a,e.filter(_,function(e){var t=m.pointers.data.getDesignItem(e,y),a=m.pointers.getInnerPointer(t,"type");return v[m.dal.full.get(a)]})),g={},f={};var m,y,_,v;return e.forEach(p,function(c){var p=c,m=function(i,u,c,d,p){var g,f,m,y,_=(g=i,f=u,m=c,y=p,s(f,m,y)?o:function(t,r,o,n){var i=t.pointers.data.getDesignItem(r,o),u=t.pointers.getInnerPointer(i,"type"),c=a[t.dal.full.get(u)];return e.some(c,function(e){var a=t.pointers.getInnerPointer(i,e),r=l(t.dal.full.get(a));return s(r,o,n)})}(g,f,m,y)?n:r);if(function(e,t,a){if(a.idToPageId[e]){if(a.idToPageId[e]!==t){var r=a.idToPageId[e],o=a.SKIPPED_PAGES_TO_FIX;o[r]=o[r]||{};var n=o[r][e];n||(n={id:e,isReferencedMoreThanOnce:!0},o[r][e]=n)}}else a.idToPageId[e]=t}(u,c,p),_===r)return null;var v=_===n,S=i.pointers.data.getDesignItem(u,c);return function(r,o,n,i){var s=r.dal.full.get(o);return function(r,o){var n=a[r.type];e.forEach(n,function(a){var n=r[a];if(!e.isEmpty(n)){var i=l(n),s=o[i]||t.generateNewDesignId();r[a]="#"+s,o[i]=s}})}(s,n),i&&function(e,a){var r=l(e.id),o=a[r]||t.generateNewDesignId();e.id=o,a[r]=o}(s,n),s}(i,S,d,!v)}(i,c,u,g,d);m&&(f[p]=m)}),f}(i,u,p,c);e.forEach(g,function(e,t){var a=i.pointers.data.getDesignItem(t,u);i.dal.full.remove(a);var r=i.pointers.data.getDesignItem(e.id,u);i.dal.full.set(r,e)})}function s(t,a,r){var o=r.idToPageId;return o[t]&&o[t]!==a||e.get(r.SKIPPED_PAGES_TO_FIX,[a,t,"isReferencedMoreThanOnce"])}function l(t){return e.isString(t)?t.replace("#",""):t}return{exec:function(t){var a=e.map(t.pointers.page.getNonDeletedPagesPointers(!0),"id");r=t,o=a,n={idToPageId:{},SKIPPED_PAGES_TO_FIX:{}},e.forEach(o,function(e){i(r,e,n)}),e.forEach(n.SKIPPED_PAGES_TO_FIX,function(e,t){i(r,t,n)});var r,o,n}}}),define("documentServices/documentServicesDataFixer/fixers/emptyMobileStripColumnsContainerDataFixer",["lodash","documentServices/constants/constants","documentServices/dataModel/dataModel"],function(e,t,a){"use strict";function r(t,r){var o=t.pointers.getInnerPointer(r,"componentType");return"wysiwyg.viewer.components.StripColumnsContainer"===t.dal.get(o)&&e.every(t.pointers.components.getChildren(r),function(t,r){return e.get(a.getMobileHintsItem(t,r),"hidden",!1)}.bind(null,t))}return{exec:function(o){var n=o.pointers.page.getNonDeletedPagesPointers(!0);e(n).map(function(e,a){return e.pointers.components.getPage(a.id,t.VIEW_MODES.DESKTOP)}.bind(null,o)).flatMap(function t(a,o){var n=a.pointers.components.getChildren(o),i=e.filter(n,r.bind(null,a)),s=e.flatMap(n,t.bind(null,a));return e.concat(i,s)}.bind(null,o)).forEach(function(e,t){var r=e.pointers.components.getMobilePointer(t);e.dal.isExist(r)&&e.dal.remove(r),a.updateMobileHintsItem(e,t,{hidden:!0})}.bind(null,o))}}}),define("documentServices/documentServicesDataFixer/fixers/siteMembersDataFixer",["lodash","utils","experiment","documentServices/siteMetadata/generalInfo"],function(e,t,a,r){"use strict";function o(e,a){var r=function(e){var a=e.pointers.data.getDataItemFromMaster(t.siteConstants.MASTER_PAGE_ID);return e.pointers.getInnerPointer(a,"smSettings")}(e);e.dal.isExist(r)?e.dal.merge(r,a):e.dal.set(r,a)}return{exec:function(e){r.isFirstSave(e)&&o(e,{socialLoginGoogleEnabled:!0,socialLoginFacebookEnabled:!0})}}}),define("documentServices/documentServicesDataFixer/fixers/textComponentDataFixer",["lodash","utils","documentServices/component/componentStylesAndSkinsAPI","documentServices/theme/theme","documentServices/componentDetectorAPI/componentDetectorAPI","documentServices/component/component","textCommon","experiment"],function(e,t,a,r,o,n,i,s){"use strict";var l="wysiwyg.viewer.skins.WRichTextNewSkin",u="txtNew",c="txt1",d="wysiwyg.viewer.skins.WRichTextSkin",p="wysiwyg.viewer.components.WRichText";function g(t,o,i,s){var l=function(e){var t=r.fonts.getAll(e);return function(e){return t[e]}}(t);e(o).filter(function(e){return n.isExist(t,e)}).forEach(function(e){return function(e,t,r,o,n){var i=a.style.getId(r,e),s=function(e,t){var a=e.pointers.getInnerPointer(t,"skin");return e.dal.get(a)}(r,e);try{i===u?(n?s===d&&f(e,t,r):o&&f(e,t,r),s===d&&y(e,r)):(a.style.setId(r,e,u),s===d&&(y(e,r),f(e,t,r)))}catch(t){l=e,p=r,a.style.setId(p,l,c),m(l,d,p)}var l,p}(e,l,t,i,s)})}function f(e,t,a){if(e){var r=n.data.get(a,e);r&&(r.text=i.textComponentsUtils.applyTextStyleMigrationAdjustments(r.text,t),n.data.update(a,e,r))}}function m(e,t,a){var r=a.pointers.components.getMobilePointer(e),o=a.pointers.getInnerPointer(e,"skin");a.dal.set(o,t),o=a.pointers.getInnerPointer(r,"skin"),a.dal.get(o)&&a.dal.set(o,t)}function y(e,t){m(e,l,t)}return{exec:function(e){if(s.isOpen("migrateTextStyle")){var t=o.getComponentByType(e,p),n=!1,i=!1,c=r.styles.get(e,u);c&&c.skin&&c.skin!==d||(c?(n=!0,c.skin||(i=!0)):i=!0,function(e,t){var o=void 0;if(t)t.skin=l,o=t;else{a.style.createSystemStyle(e,u,p);var n=r.styles.get(e,u);n&&n.metaData&&(n.metaData.isPreset=!0,o=n)}r.styles.update(e,u,o)}(e,c)),g(e,t,n,i)}}}}),define("documentServices/documentServicesDataFixer/fixers/VectorImageDataFixer",["lodash","coreUtils","documentServices/componentDetectorAPI/componentDetectorAPI","documentServices/dataModel/dataModel","documentServices/theme/theme","experiment"],function(e,t,a,r,o,n){"use strict";var i=t.vectorImageConversionUtils.vectorImageDefaults;function s(e,a,o){var n=r.getDesignItem(e,a)||{};t.vectorImageConversionUtils.convertStyleToDesignData(n,o),r.updateDesignItem(e,a,n)}return{exec:function(l){if(n.isOpen("se_vector_image")){var u=e.unionBy((p=l,a.getAllComponentsFromFull(p,null,function(e){var t=p.dal.full.get(e);return t&&"wysiwyg.viewer.components.VectorImage"===t.componentType})),(d=l,a.getAllComponents(d,null,function(e){var t=d.dal.get(e);return t&&"wysiwyg.viewer.components.VectorImage"===t.componentType})),"id"),c=[];e.forEach(u,function(a){var n=function(e,t){var a=e.pointers.getInnerPointer(t,"styleId"),r=e.dal.full.get(a);return r&&o.styles.get(e,r)}(l,a);if(n){var u=r.getDataItem(l,a);if(e.isEmpty(n.style.properties)){var d=e.pick(u,["overrideColors","shapeStyle"]);e.isEmpty(d)||(e.defaults(d,{overrideColors:null}),function(t,a,o){var n=e.assign(r.getDesignItem(t,a),{type:"VectorImageDesignData"},o),i=e.omit(r.getDataItem(t,a),e.keys(o));r.updateDesignItem(t,a,n),r.deleteDataItem(t,a),r.updateDataItem(t,a,i)}(l,a,d))}else c.push(n.id),s(l,a,n)}else{var p=l.pointers.getInnerPointer(a,"styleId"),g=l.dal.full.get(p),f={type:"TopLevelStyle",style:{properties:i.style,propertiesSource:{}}};t.vectorImageConversionUtils.convertStyle(f,i),o.styles.update(l,g,f),s(l,a,f)}!function(a,n,i){var s=a.pointers.componentStructure.getModesOverrides(n),l=a.dal.full.isExist(s)&&a.dal.full.get(s),u=!1;e.forEach(l,function(s){if(s.styleId){var l=o.styles.get(a,s.styleId);if(!e.isEmpty(e.get(l,["style","properties"]))){var c=r.generateNewDesignItemId(),d={},p=a.pointers.data.getDesignItem(c,a.pointers.full.components.getPageOfComponent(n).id);t.vectorImageConversionUtils.convertStyleToDesignData(d,l),d.id=c,s.designQuery="#"+c,a.dal.full.set(p,d),i.push(s.styleId),e.unset(s,"styleId"),u=!0}}}),u&&a.dal.full.set(s,l)}(l,a,c)}),e.forEach(e.uniq(c),function(e){var t=o.styles.get(l,e);t.style.properties={},t.style.propertiesSource={},o.styles.update(l,e,t)})}var d,p}}}),define("documentServices/documentServicesDataFixer/fixers/visualFocusFixer",["lodash","experiment","utils"],function(e,t,a){"use strict";return{exec:function(r){var o=r.pointers.data.getDataItemFromMaster(a.siteConstants.MASTER_PAGE_ID),n=r.pointers.getInnerPointer(o,"accessibilitySettings");t.isOpen("sv_visualFocus")&&function(t,a){var r=e.get(t.dal.get(a),"visualFocusDisabled");return e.isUndefined(r)}(r,n)&&r.dal.set(n,{visualFocusDisabled:!1})}}}),define("documentServices/documentServicesDataFixer/fixers/mobileAnimationsDataFixer",["lodash","utils","experiment","documentServices/siteMetadata/generalInfo","documentServices/actionsAndBehaviors/actionsAndBehaviors","documentServices/componentDetectorAPI/componentDetectorAPI","documentServices/dataModel/dataModel","documentServices/constants/constants"],function(e,t,a,r,o,n,i,s){"use strict";function l(e){var a=e.pointers.data.getDataItemFromMaster(t.siteConstants.MASTER_PAGE_ID);return e.pointers.getInnerPointer(a,"mobileSettings")}function u(t){if(a=t,e.has(a,"action")&&e.has(a,"behavior"))return!1;var a;return"animation"===e.get(t,"type","animation")}function c(e,t){var a=l(e);e.dal.set(a,{animationsEnabled:t})}return{exec:function(t){if(a.isOpen("se_mobileAnimationsEnabled")){var d=l(t);p=t,r.isFirstSave(p)?c(t,!0):t.dal.isExist(d)||(c(t,!1),function(t){var a=n.getAllComponents(t);e.forEach(a,function(a){var r=e.map(o.getBehaviors(t,a),function(t){return u(t)&&!e.has(t,"viewMode")&&(t.viewMode=s.VIEW_MODES.DESKTOP),t});if(r.length){var n=JSON.stringify(r);i.updateBehaviorsItem(t,a,n)}})}(t))}var p}}}),define("documentServices/documentServicesDataFixer/fixers/stylesDataFixer",["lodash","documentServices/componentDetectorAPI/componentDetectorAPI","documentServices/component/componentStylesAndSkinsAPI","documentServices/structure/structure","documentServices/theme/theme","documentServices/bi/bi","documentServices/bi/errors","documentServices/dataModel/dataIds","documentServices/constants/constants","experiment"],function(e,t,a,r,o,n,i,s,l,u){"use strict";return{exec:function(r){var s;if(u.isOpen("moveCustomStyleFromMasterPage")){var c=(s={},_defineProperty(s,l.VIEW_MODES.DESKTOP,{}),_defineProperty(s,l.VIEW_MODES.MOBILE,{}),s),d=[],p=function(e){var t=a.style.get(r,e);return t&&"custom"===t.styleType?t:null},g=function(n){var i=l.VIEW_MODES.DESKTOP,s=n===i,u=c[n],g=t.getAllComponents(r,null,p,n),f=e.invert(c[i]);g.forEach(function(t){var n=r.pointers.components.getPageOfComponent(t).id;if(l.MASTER_PAGE_ID!==n){var i=r.pointers.getInnerPointer(t,"styleId"),c=r.dal.get(i);if(u[c]){d.push(c);var p=e.cloneDeep(o.styles.get(r,c)),g=o.styles.createAndAddStyleItem(r,p);a.style.setId(r,t,g),u[g]=t.id}else u[c]=t.id;(s||f[t.id]!==c)&&function(e,t,a,n){if(r.dal.full.isExist(e)){var i=r.pointers.data.getThemeItem(t,a),s=o.styles.get(r,t);r.dal.full.remove(i);var l=r.pointers.data.getThemeItem(t,n);r.dal.full.set(l,s)}}(i,c,l.MASTER_PAGE_ID,n)}})};[l.VIEW_MODES.DESKTOP,l.VIEW_MODES.MOBILE].forEach(function(e){return g(e)}),d.length>0&&n.error(r,i.STYLE_USED_BY_MULTIPLE_COMPONENTS,{styleIds:d})}}}}),define("documentServices/documentServicesDataFixer/fixers/duplicateItemsRefInMenuFixer",["lodash","coreUtils","documentServices/componentDetectorAPI/componentDetectorAPI","documentServices/dataModel/dataModel","documentServices/menu/menuUtils","experiment"],function(e,t,a,r,o){"use strict";return{exec:function(t){var a=t.pointers.data.getDataItemsWithPredicate({type:"BasicMenuItem"});e.forEach(a,function(a){!function(t,a){var r=t.dal.get(a);e.forEach(r.items,function(a){var r=a.replace("#",""),n=o.getMenuDataItemPointer(t,r),i=t.dal.get(n);if(i.items.length>0){var s=e.cloneDeep(i);s.items.length=0,t.dal.set(n,s)}})}(t,a)})}}}),define("documentServices/documentServicesDataFixer/fixers/meshLayoutReadySiteDataFixer",["lodash","utils"],function(e,t){"use strict";var a={targetComponent:"PAGES_CONTAINER",type:"BOTTOM_TOP"},r=function(e){return e.pointers.data.getDataItemFromMaster(t.siteConstants.MASTER_PAGE_ID)},o=function(e){return e&&"masterPage"===e.id},n=function(t,a){var r=t.dal.full.get(a),n=r&&r.structure;if(!n)return!0;if(l(n)){var s=o(n)?n.children:n.components,u=e.partial(i,t,n.id);if(e.every(s,u))return e.every(n.mobileComponents,u)}return!1},i=function t(a,r,o){var n=s(a,r,o);return n&&o.components?e.every(o.components,e.partial(t,a,r)):n},s=function(e,t,a){return l(a)},l=function(t){var a=e.get(t,"layout.anchors");return!(a&&!e.isEmpty(a)&&(!o(t)||e.size(a)>1||!u(e.head(a))))},u=function(t){return e.isEqual(a,e.pick(t,["targetComponent","type"]))};return{exec:function(t){(function(t){var a=t.pointers.getInnerPointer(r(t),"layoutSettings"),o=t.dal.get(a);return"mesh"===e.get(o,"mechanism")})(t)||function(t){var a=t.pointers.page.getNonDeletedPagesPointers(!0);return e.size(a)>30}(t)||function(t){var a=t.pointers.page.getNonDeletedPagesPointers(!0);return e.every(a,e.partial(n,t))}(t)&&function(t){var a=t.dal.get(r(t));t.dal.set(r(t),e.merge({},a,{layoutSettings:{mechanism:"mesh"}}))}(t)}}}),define("documentServices/documentServicesDataFixer/documentServicesDataFixer",["lodash","documentServices/documentServicesDataFixer/fixers/adiGroupFixer","documentServices/documentServicesDataFixer/fixers/fiveGridLineFullWidthFixer","documentServices/documentServicesDataFixer/fixers/brokenAnchorsFixer","documentServices/documentServicesDataFixer/fixers/designDuplicateIdsDataFixer","documentServices/documentServicesDataFixer/fixers/emptyMobileStripColumnsContainerDataFixer","documentServices/documentServicesDataFixer/fixers/siteMembersDataFixer","documentServices/documentServicesDataFixer/fixers/textComponentDataFixer","documentServices/documentServicesDataFixer/fixers/VectorImageDataFixer","documentServices/documentServicesDataFixer/fixers/visualFocusFixer","documentServices/documentServicesDataFixer/fixers/mobileAnimationsDataFixer","documentServices/documentServicesDataFixer/fixers/stylesDataFixer","documentServices/documentServicesDataFixer/fixers/duplicateItemsRefInMenuFixer","documentServices/documentServicesDataFixer/fixers/meshLayoutReadySiteDataFixer"],function(e,t,a,r,o,n,i,s,l,u,c,d,p,g){"use strict";var f=e.compact([a,t,r,o,n,i,s,l,u,c,d,p,g]);return{fix:function(t){e.forEach(f,function(e){e.exec(t)})}}}),define("documentServices/patchData/patchData",["lodash","utils","documentServices/siteMetadata/siteMetadata","documentServices/patchData/patchList","documentServices/page/pageData","documentServices/saveAPI/saveTasks/saveDocument","experiment","coreUtils","documentServices/constants/constants"],function(e,t,a,r,o,n,i,s,l){"use strict";var u=s.loggingUtils.performance,c=s.loggingUtils.performanceMetrics,d=t.ajaxLibrary;function p(a,r,o,n){var i=a.dal.getLastSnapshotByTagName("before-autosave-apply");s=a,l=i,d=n.autosavePaths,e.forEach(d,function(t){var a=t.split(".");s.dal.full.setByPathToHostModel(a,e.get(l,a))});var s,l,d;t.log.error(r,r.patch),t.integrations.ravenUtils.breadcrumb("LOAD & APPLY ERROR",o),u.finish(c.AUTOSAVE.LOAD_APPLY,{additionalData:o,report:!0})}return{applyPatchIfExists:function(g,f,m,y){!function(e){var t=e.dal.get(e.pointers.general.getAutosaveInfo());return t&&t.shouldRestoreDiffs}(g)||"false"===t.urlUtils.getParameterByName("autosaveRestore")?m(null,{changesApplied:!1}):function(e,t,r){var o=e.pointers.general.getServiceTopology(),n=e.pointers.getInnerPointer(o,"autoSaveUrl"),i=e.dal.get(n)+"get_diffs/"+a.getProperty(e,"SITE_ID")+"?metaSiteId="+a.getProperty(e,"META_SITE_ID")+"&siteVersion="+a.getProperty(e,"SITE_VERSION");s.loggingUtils.fedopsLogger.interactionStarted(s.loggingUtils.fedopsLogger.INTERACTIONS.AUTOSAVE.LOAD_AJAX),u.start(c.AUTOSAVE.LOAD_AJAX),d.ajax({type:"GET",dataType:"json",url:i,success:function(e){e.success?t(e.payload):r(new Error("Failed to fetch diffs. error code: "+e.errorCode))},error:function(e){r(new Error("Error while fetching diffs. status code: "+e.status))}})}(g,function(t){var a=e(t.diffPayloads).map("payload").map(JSON.parse).value(),d=a.length,_={patches:d,patchesSize:e.sumBy(a,"length"),pagesCount:o.getNumberOfPages(g)};s.loggingUtils.fedopsLogger.interactionEnded(s.loggingUtils.fedopsLogger.INTERACTIONS.AUTOSAVE.LOAD_AJAX),u.finish(c.AUTOSAVE.LOAD_AJAX,{additionalData:_,report:!0}),s.loggingUtils.fedopsLogger.interactionStarted(s.loggingUtils.fedopsLogger.INTERACTIONS.AUTOSAVE.LOAD_APPLY),u.start(c.AUTOSAVE.LOAD_APPLY),a=e.flatten(a),g.dal.takeSnapshot("before-autosave-apply"),g.dal.takeSnapshot(l.SNAPSHOT_TAGS.MOBILE_MERGE);try{g.dal.transaction(function(){r.applyPatchList(g.dal.full,a)});var v=g.dal.full.immutable.getLastSnapshotByTagName("before-autosave-apply");g.dal.takeSnapshot("autosave-apply-validate");var S=g.dal.full.immutable.getLastSnapshotByTagName("autosave-apply-validate"),O=function(){try{var e=g.pointers.general.getAutoSaveInnerPointer("previousDiffId");g.dal.set(e,t.latestDiffId);var a=g.pointers.general.getAutoSaveInnerPointer("autosaveCount");g.dal.set(a,d),_.success="true",m(null,{changesApplied:!0}),s.loggingUtils.fedopsLogger.interactionEnded(s.loggingUtils.fedopsLogger.INTERACTIONS.AUTOSAVE.LOAD_APPLY),u.finish(c.AUTOSAVE.LOAD_APPLY,{additionalData:_,report:!0})}catch(e){_.success="false",p(g,e,_,f),y(e)}},h=null;if(i.isOpen("sv_initialValidationAfterAutoSaveApply")){var A={error:function(e,t){h=t}};n.validateSite(v,S,O,function(t){_.success="false",p(g,t,_,f),y(e.merge(t,h))},A)}else O()}catch(e){_.success="false",p(g,e,_,f),y(e)}},y)}}}),define("documentServices/deprecation/deprecation",["lodash","documentServices/utils/publicMethodUtils","utils"],function(e,t,a){"use strict";function r(e,t,r){var o=t.deprecationMessage+"|"+r;if(e.runtimeConfig.shouldThrowOnDeprecation)throw new Error("DocumentServices|Deprecation|"+o);a.log.warnDeprecation(o)}return{wrapDeprecatedFunction:function(a,o,n){return e.isObject(o)&&o.deprecated&&(o=function(a,o,n){var i=e.isFunction(o.methodDef)?o.methodDef:e.clone(o.methodDef);if(!t.isPublicAPIDefinition(i))throw new Error("you can only deprecate public method definition");var s=i.method.bind(null);return i.method=function(){return r(a,o,n),s.apply(null,arguments)},i}(a,o,n)),o},warn:r,setThrowOnDeprecation:function(t,a){e.set(t,["runtimeConfig","shouldThrowOnDeprecation"],a)}}}),define("documentServices/site/Site",["lodash","documentServices/privateServices/privateServices","documentServices/undoRedo/UndoRedo","documentServices/documentServicesDataFixer/documentServicesDataFixer","documentServices/patchData/patchData","documentServices/utils/publicMethodUtils","documentServices/bi/errors","documentServices/bi/events","documentServices/deprecation/deprecation","documentServices/autosave/autosave","documentServices/siteMetadata/language","documentServices/siteMetadata/siteMetadata","documentServices/siteMetadata/generalInfo","memoizeAPI","experiment","utils","coreUtils"],function(e,t,a,r,o,n,i,s,l,u,c,d,p,g,f,m,y){"use strict";function _(t,o,n){if(t.shouldRender){if(!n)throw new Error("you need to pass the Site instance if you want to be able to render it...");o.initiateSiteAPI(n)}var l=o.dal.get(o.pointers.general.getAutosaveInfo());l&&(l.changesApplied?o.siteAPI.reportBI(s.AUTO_SAVE_DIFFS_RESTORED,{}):l.restoreError&&(u.handleValidationError(o),o.siteAPI.reportBI(i.AUTOSAVE_RESTORE_FAILED,l.restoreError)));var c=o.dal.get(o.pointers.general.getPermissions());if(c&&c.isOwner&&o.siteAPI.reportBI(s.PETRI_BUG_JSON_ANCHORS,{label_id:f.isOpen("petriConsistencyExp")?"B":"A"}),!t.isReadOnly){o.siteDataAPI.getActionQueue().runImmediately(function(){r.fix(o),y.loggingUtils.performance.start(y.loggingUtils.performanceMetrics.DS_INIT),e.invokeMap(t.modules,"initMethod",o,{runStylesGC:t.runStylesGC,disableSave:t.disableSave}),y.loggingUtils.performance.finish(y.loggingUtils.performanceMetrics.DS_INIT)}),d=this,p=o,t.shouldRender?(d.waitForChangesApplied=function(e,t){t?p.setOperationsQueue.flushQueueAndExecute(e):p.setOperationsQueue.waitForChangesApplied(e)},d.registerToErrorThrown=p.setOperationsQueue.registerToErrorThrown.bind(p.setOperationsQueue),d.unRegisterFromErrorThrown=p.setOperationsQueue.unRegisterFromErrorThrown.bind(p.setOperationsQueue),d.registerToSiteChanged=p.setOperationsQueue.registerToSiteChanged.bind(p.setOperationsQueue),d.useSimpleTimeoutToDeferQueue=p.setOperationsQueue.useSimpleTimeoutToDefer.bind(p.setOperationsQueue),d.useAnimationFrameToDeferQueue=p.setOperationsQueue.useAnimationFrameToDefer.bind(p.setOperationsQueue)):(d.registerToSiteDataChanged=p.setOperationsQueue.registerToSiteDataChanged.bind(p.setOperationsQueue),d.waitForChangesApplied=function(e){e()}),d.__setDs_OperationsQAllAsyncIsOpen=e.noop}var d,p;t.noUndo||(this.history=new a(o,t.undoablePaths,t.nonUndoablePaths))}return function(a,r,i,s,u){var c=new t(a,r);a.isTest&&(this.ps=c);var p=this;function m(t,o){var n=_.bind(p,a,c);if(t){var l=-10104===t.errorCode?{errorMsg:"Validation Error"}:e.merge({errorMsg:t.message},t.patch);c.dal.set(c.pointers.general.getAutoSaveInnerPointer("restoreError"),l)}else o.changesApplied&&c.dal.set(c.pointers.general.getAutoSaveInnerPointer("changesApplied"),!0);c.dal.takeSnapshot("saveDocumentautosave");var g=r.fullPagesData.pagesData,m=e.get(g,"masterPage.data.document_data.SITE_STRUCTURE"),y=i&&i(g)||g;a.isReadOnly||(c.dal.full.setByPathToHostModel(["pagesData"],{}),c.dal.full.setByPathToHostModel(["pagesData","masterPage"],y.masterPage),e.forEach(y,function(e,t){c.dal.full.setByPathToHostModel(["pagesData",t],e)}),m&&function(e){var t=e.pointers.general.getOrphanPermanentDataNodes();e.dal.push(t,"SITE_STRUCTURE")}(c,y.masterPage)),f.isOpen("sv_multilingual")&&d.setProperty(c,d.PROPERTY_NAMES.MULTILINGUAL,{originalLanguage:{},translationLanguages:[]}),a.isReadOnly||!a.shouldRender?(e.isFunction(u)&&u(y),n(),e.attempt(function(){!e.isUndefined(window)&&window.parent&&window.parent.postMessage("documentServicesLoaded","*")})):s.call(p,n)}var y=function(t){var a={},r=e(t.modules).map("methods").clone();return r.unshift(a),e.merge.apply(e,r),a}(a);e.forEach(y,function t(a,r,o,i,s,u){var c=(i?i+".":"")+u;s=l.wrapDeprecatedFunction(r,s,u),n.isPublicAPIDefinition(s)?a[u]=n.resolvePublicAPIDefinition(r,s,c,o):e.isArray(s)?a[u]=s:e.isObject(s)?(a[u]={},e.forEach(s,t.bind(null,a[u],r,o,c))):a[u]=s}.bind(null,this,c,a,"")),a.isReadOnly?m(null,{changesApplied:!1}):o.applyPatchIfExists(c,a,m,m),this.withCache=function(){var t=function(e){return e?[e.id+"###"+e.type]:[]},a=g(this).memoize("components.layout.get",t).memoize("components.layout.getRelativeToScreen",function(e,t){return e?[e.id+"###"+e.type+"###"+t]:[]}).memoize("components.layout.getRelativeToStructure",t).memoize("components.is.groupedComponent",t).memoize("components.is.group",t).memoize("components.getType",t).memoize("components.arrangement.canMoveBackward",t).memoize("components.arrangement.canMoveForward",t).memoize("components.is.containable",t).build(),r=a.api,o=a.clear,n=[];return this.registerToSiteChanged(function(t){o(),e.forEach(n,function(e){e(t)})}),r.registerToSiteChanged=function(e){n.push(e)},r}}}),define("documentServices/siteSegments/siteSegments",["lodash","documentServices/documentMode/documentModeInfo","documentServices/constants/constants"],function(e,t,a){"use strict";function r(e,a){return a||t.getViewMode(e)}var o={pagesToFooterGap:0,headerToPagesGap:0},n=e.keys(o);function i(t,a){var r,i=(r=t,e(r).pick(n).defaults(o).value());return e(a).pick(n).mapValues(function(e,t){return Math.min(i[t],Math.max(e,0))}).defaults(i).pickBy(e.identity).value()}return{getGaps:function(t){var a=t.pointers.getInnerPointer(t.pointers.data.getDataItemFromMaster("masterPage"),"layoutSettings"),r=t.dal.get(a);return r?e.pick(r,n):{}},updateGaps:function(t,a){var r=t.pointers.getInnerPointer(t.pointers.data.getDataItemFromMaster("masterPage"),"layoutSettings"),o=t.dal.get(r);if(o){var s=i(o,a),l=e(o).omit(n).assign(s).value();t.dal.set(r,l),t.siteAPI.createPageAnchors("masterPage")}},isUsingSectionsLayout:function(t){var a=t.pointers.getInnerPointer(t.pointers.data.getDataItemFromMaster("masterPage"),"layoutSettings"),r=t.dal.get(a);return e.get(r,"useDesktopSectionsLayout",!1)},getFooter:function(e,t){return e.pointers.components.getFooter(r(e,t))},getHeader:function(e,t){return e.pointers.components.getHeader(r(e,t))},getPagesContainer:function(e,t){return e.pointers.components.getPagesContainer(r(e,t))},getSiteStructure:function(e,t){return e.pointers.components.getMasterPage(r(e,t))},getSiteStructureId:function(){return a.MASTER_PAGE_ID}}}),define("documentServices/siteSegments/siteSegmentsPublicAPI",["documentServices/utils/publicMethodUtils","documentServices/siteSegments/siteSegments","documentServices/utils/utils"],function(e,t,a){"use strict";return{methods:{siteSegments:{getGaps:e.defineMethod(t.getGaps),updateGaps:e.defineDataManipulationMethod(t.updateGaps,{isUpdatingAnchors:a.NO}),isUsingSectionsLayout:e.defineMethod(t.isUsingSectionsLayout),getFooter:e.defineMethod(t.getFooter),getHeader:e.defineMethod(t.getHeader),getPagesContainer:e.defineMethod(t.getPagesContainer),getSiteStructure:e.defineMethod(t.getSiteStructure),getSiteStructureId:e.defineMethod(t.getSiteStructureId)}}}}),define("documentServices/appStudio/appStudio",["lodash","utils","coreUtils","documentServices/page/page","documentServices/page/blankPageStructure","documentServices/dataModel/dataIds","documentServices/dataModel/dataModel","documentServices/theme/theme","documentServices/appStudio/appStudioDataModel"],function(e,t,a,r,o,n,i,s,l){"use strict";var u=t.constants.DATA_TYPES,c="AppStudioData",d="WidgetDescriptor",p="Widget";function g(e,a){var r=e.pointers.data.getDataItemFromMaster(t.siteConstants.MASTER_PAGE_ID),o=e.dal.get(r);o.appStudioData=a,i.addSerializedDataItemToPage(e,t.siteConstants.MASTER_PAGE_ID,o,t.siteConstants.MASTER_PAGE_ID)}function f(e,a){var r=e.pointers.data.getDataItemFromMaster(t.siteConstants.MASTER_PAGE_ID),o=e.dal.get(r),n=l.getAppStudioData(e);n.widgets=a,o.appStudioData=n,i.addSerializedDataItemToPage(e,t.siteConstants.MASTER_PAGE_ID,o,t.siteConstants.MASTER_PAGE_ID)}function m(t,a){var r=l.getAppStudioData(t);e.isUndefined(r)&&g(t,r=function(t,a){var r=i.createDataItemByType(t,c);r.id=y();var o=t.dal.getByPath(["documentServicesModel","metaSiteData","siteName"])||"MyProject1";return r.name=e.replace(o,"mysite","MyProject"),e.defaults(r,a)}(t,a))}function y(){return n.generateNewId(u.data)}function _(e,t){var a=l.getAppStudioData(e).widgets;a.push(t),f(e,a)}function v(e,t,a){var n=r.getPageIdToAdd(e),i=function(e,t){var a=o.getBlankPageStructure(e,t.id,r.serializePage),n=o.getBlankBackground();return n.desktop.ref.color="#F0F3F5",n.mobile.ref.color="#F0F3F5",a.data.pageBackgrounds=n,delete a.styleId,a.style=s.styles.createStyleItemToAdd(e,{styleType:"custom",skin:"wysiwyg.viewer.skins.page.BasicPageSkin"}),a.style.style.properties.bg="#F0F3F5",a.data.isLandingPage=!0,a.data.isMobileLandingPage=!0,a}(e,n);return a&&(i.components=i.components.concat(a)),r.add(e,n,t,i),n}function S(e,t,a,r){var o=i.createDataItemByType(e,d);return o.id=t,o.name=a,o.rootCompId="#"+e.dal.get(r).id,o}function O(t,a){if(e.isEmpty(a))throw new Error("appStudio.widgets: name is required");if(e.includes(e.map(l.getAllWidgets(t),"name"),a))throw new Error("appStudio.widgets: widget name already exists")}function h(t,a){var r=e(l.getAllWidgets(t)).map("name").filter(function(e){return t=e,!!new RegExp("^"+a+"[0-9]*$").exec(t);var t}).map(function(t){return e.replace(t,a,"")}).map(Number).sort().value(),o=e.last(r)||0;return a+(o+1)}function A(t,a){var r=t.dal.get(a);if(r&&r.rootCompId)return e.replace(r.rootCompId,"#","")}return{getNewDataId:y,getAppStudioMetaData:l.getAppStudioMetaData,updateAppStudioMetaData:function(t,a){var r=l.getAppStudioData(t);if(e.isUndefined(r))throw new Error("appStudio: there is no app studio to update");var o=e.assign({},r,a);!function(t,a){if(e.isEmpty(a.name))throw new Error("appStudio: name is required")}(0,o),g(t,o)},widgets:{createWidget:function(e,t,a,r){a=a||h(e,p),m(e),O(e,a);var o=S(e,t,a,v(e,a,r));return _(e,o),e.pointers.data.getDataItemFromMaster(o.id)},getAllWidgets:l.getAllWidgets,getAllSerializedWidgets:l.getAllSerializedWidgets,getWidgetFunctions:function(e,t){var a=e.pointers.getInnerPointer(t,"widgetApi.functions");return e.dal.get(a)},getWidgetProperties:function(e,t){var a=e.pointers.getInnerPointer(t,"widgetApi.properties");return e.dal.get(a)},getWidgetEvents:function(e,t){var a=e.pointers.getInnerPointer(t,"widgetApi.events");return e.dal.get(a)},setWidgetApiPart:function(t,a,r,o){!function(t){if(!e.every(t,"name"))throw new Error("appStudio.widgets: can not set widget API without a name");if(e.uniqBy(t,"name").length!==t.length)throw new Error("appStudio.widgets: API name is already in use for this widget")}(o);var n=t.dal.get(r);i=t,s=r,u=a,c=o,(l=n).widgetApi[u]=c,i.dal.set(s,l);var i,s,l,u,c},duplicateWidget:function(t,a){var o=t.dal.get(a);if(o){var n=h(t,o.name),i=y(),s=r.getPageIdToAdd(t);r.duplicate(t,s,e.replace(o.rootCompId,"#",""));var l=S(t,i,n,s);return l.widgetApi=e.cloneDeep(o.widgetApi),_(t,l),t.pointers.data.getDataItemFromMaster(l.id)}},setWidgetName:function(e,t,a){O(e,a);var r=e.dal.get(t);r.name=a,e.dal.set(t,r)},getWidgetName:function(t,a){var r=l.getAllWidgets(t);return e.get(e.find(r,{pointer:a}),"name")},displayWidget:function(e,t,a){var o=A(e,t);o&&r.navigateTo(e,o,a)},removeWidget:function(t,a,o){var n=t.dal.get(a);if(n&&n.rootCompId){var i=l.getAppStudioData(t).widgets;e.pullAt(i,e.findIndex(i,{id:a.id})),f(t,i),r.remove(t,n.rootCompId,o)}},isWidgetPage:l.isWidgetPage,getWidgetByRootCompId:function(e,t){var a=l.findWidgetByPageId(e,t);return a&&a.pointer},getRootCompIdByWidgetPointer:A,getWidgetById:l.getWidgetPointerByWidgetId}}}),define("documentServices/page/pagePublicAPI",["documentServices/utils/publicMethodUtils","lodash","documentServices/page/page","documentServices/page/pageData","documentServices/appStudio/appStudio","documentServices/privateServices/idGenerator","documentServices/utils/utils"],function(e,t,a,r,o,n,i){"use strict";return{initMethod:a.initialize,methods:{homePage:{set:e.defineDataManipulationMethod(a.homePage.set),get:e.defineMethod(a.homePage.get)},pages:{add:e.defineDataManipulationMethod(a.add,{getReturnValue:a.getPageIdToAdd,isUpdatingAnchors:!0}),duplicate:e.defineDataManipulationMethod(a.duplicate,{getReturnValue:a.getPageIdToAdd,isUpdatingAnchors:i.YES}),remove:e.defineDataManipulationMethod(a.remove,{isAsyncOperation:!0,asyncPreDataManipulation:a.validatePageRemoval,isUpdatingAnchors:!0}),navigateTo:e.defineDataManipulationMethod(a.navigateTo,{allowInReadOnly:!0,waitingForTransition:!0,noBatchingAfter:!0}),navigateToAndScroll:e.defineDataManipulationMethod(a.navigateToPageAndScrollToAnchor,{allowInReadOnly:!0,waitingForTransition:!0,noBatchingAfter:!0}),scrollToComponent:e.defineDataManipulationMethod(a.scrollToComponent,{allowInReadOnly:!0,waitingForTransition:!0,noBatchingAfter:!0}),isRemovable:e.defineMethod(a.isRemovable),isDuplicable:e.defineMethod(a.isDuplicable),isLandingPage:e.defineMethod(a.isLandingPage),isContainsCompWithType:e.defineMethod(a.isPageContainsCompWithType),getReference:e.defineMethod(a.getReference),getLayout:e.defineMethod(a.getLayout),serialize:e.defineMethod(a.serializePage),doesPageExist:e.defineMethod(r.doesPageExist),isWidgetPage:e.defineMethod(o.widgets.isWidgetPage),data:{update:e.defineDataManipulationMethod(a.data.set),get:e.defineMethod(a.data.get),pageUriSEO:{isDuplicate:e.defineMethod(r.isDuplicatePageUriSeo),isForbidden:e.defineMethod(r.isForbiddenPageUriSeo),getValid:e.defineMethod(r.getValidPageUriSEO),convertPageNameToUrl:e.defineMethod(r.convertPageNameToUrl)}},style:{setId:e.defineDataManipulationMethod(a.style.setId),getId:e.defineMethod(a.style.getId),setCustom:e.defineDataManipulationMethod(a.style.setCustom,{getReturnValue:n.getStyleIdToAdd})},background:{get:e.defineMethod(a.background.get),update:e.defineDataManipulationMethod(a.background.update)},anchors:{getPageAnchors:e.defineMethod(a.getPageAnchors)},getCurrentPageId:e.defineMethod(function(e){return e.siteAPI.getPrimaryPageId()}),getCurrentPage:e.defineMethod(function(e){var t=e.siteAPI.getPrimaryPageId();return a.getPage(e,t)}),getMasterPageId:e.defineMethod(function(){return"masterPage"}),getFocusedPageId:e.defineMethod(function(e){return e.siteAPI.getFocusedRootId()}),getFocusedPage:e.defineMethod(function(e){var t=e.siteAPI.getFocusedRootId();return a.getPage(e,t)}),getPrimaryPageId:e.defineMethod(function(e){return e.siteAPI.getPrimaryPageId()}),getCurrentUrlPageId:e.defineMethod(function(e){return e.siteAPI.getCurrentUrlPageId()}),getPageBottomByComponents:e.defineMethod(function(e,t){return a.getPageBottomByComponents(e,t)}),getSocialUrl:e.defineMethod(a.getSocialUrl),getPageUrl:e.defineMethod(a.getPageUrl),getPageTitle:e.defineMethod(a.getPageTitle),getPagesData:e.defineMethod(a.getPagesDataItems),getPageIdList:e.defineMethod(a.getPageIdList),permissions:{updatePassword:e.defineMethod(a.permissions.updatePassword),removePassword:e.defineMethod(a.permissions.removePassword),hasPassword:e.defineMethod(a.permissions.hasPassword),isPagesProtectionOnServerOn:e.defineMethod(a.permissions.isPagesProtectionOnServerOn)},properties:{get:e.defineMethod(a.properties.get),update:e.defineDataManipulationMethod(a.properties.update)},popupPages:{add:e.defineDataManipulationMethod(a.popupPages.add,{getReturnValue:a.popupPages.getPopupIdToAdd}),duplicate:e.defineDataManipulationMethod(a.duplicate,{getReturnValue:a.popupPages.getPopupIdToAdd,isUpdatingAnchors:!0}),open:e.defineDataManipulationMethod(a.popupPages.open,{allowInReadOnly:!0,waitingForTransition:!0,noBatchingAfter:!0}),close:e.defineDataManipulationMethod(a.popupPages.close,{allowInReadOnly:!0,waitingForTransition:!0,noBatchingAfter:!0}),getCurrentPopupId:e.defineMethod(a.popupPages.getCurrentPopupId),getDataList:e.defineMethod(a.popupPages.getDataList),isPopup:e.defineMethod(a.popupPages.isPopup),isPopupOpened:e.defineMethod(a.popupPages.isPopupOpened)}}}}}),define("documentServices/pagesGroup/pagesGroupPublicAPI",["documentServices/utils/publicMethodUtils","documentServices/pagesGroup/pagesGroup"],function(e,t){"use strict";return{methods:{pagesGroup:{addPageToPagesGroup:e.defineDataManipulationMethod(t.addPageToPagesGroup),create:e.defineDataManipulationMethod(t.createPagesGroup,{getReturnValue:t.getNewPagesGroupId}),getAll:e.defineMethod(t.getAll),getByAppId:e.defineMethod(t.getPagesGroupByAppId),getById:e.defineMethod(t.getPagesGroupById),getByGroupName:e.defineMethod(t.getPagesGroupByGroupName),getComponentPagesGroup:e.defineMethod(t.getComponentPagesGroup),remove:e.defineDataManipulationMethod(t.removePagesGroup),removePageFromPagesGroup:e.defineDataManipulationMethod(t.removePageFromPagesGroup),serialize:e.defineMethod(t.serializePagesGroup)}}}}),define("documentServices/theme/themePublicAPI",["documentServices/utils/publicMethodUtils","documentServices/theme/theme"],function(e,t){"use strict";return{initMethod:t.initialize,methods:{theme:{colors:{update:e.defineDataManipulationMethod(t.colors.update),get:e.defineMethod(t.colors.get),render:e.defineMethod(t.colors.render),getAll:e.defineMethod(t.colors.getAll),getCustomUsedInSkins:e.defineMethod(t.colors.getCustomUsedInSkins),getColorPresets:e.defineMethod(t.colors.getColorPresets),getCss:e.defineMethod(t.colors.getCssString)},fonts:{update:e.defineDataManipulationMethod(t.fonts.update),get:e.defineMethod(t.fonts.get),getAll:e.defineMethod(t.fonts.getAll),getMap:e.defineMethod(t.fonts.getMap),getCharacterSet:e.defineMethod(t.fonts.getCharacterSet),getLanguageCharacterSet:e.defineMethod(t.fonts.getLanguageCharacterSet),getCharacterSetByGeo:e.defineMethod(t.fonts.getCharacterSetByGeo),updateCharacterSet:e.defineMethod(t.fonts.updateCharacterSet),getThemeStyles:e.defineMethod(t.fonts.getThemeStyles)},styles:{createItem:{deprecated:!0,deprecationMessage:"This method is deprecated due to MobX refactor. Please use styles.createAndAddItem instead. Creating style item now causes render, and should be followed by wait for changes applied to use the new item",methodDef:e.defineMethod(t.styles.createAndAddStyleItem)},createAndAddItem:e.defineDataManipulationMethod(t.styles.addStyleItem,{getReturnValue:t.styles.createStyleItemToAdd}),update:e.defineDataManipulationMethod(t.styles.update),get:e.defineMethod(t.styles.get),getAll:e.defineMethod(t.styles.getAll),getAllIds:e.defineMethod(t.styles.getAllIds)},skins:{getComponentSkins:e.defineMethod(t.skins.getComponentSkins),getSkinDefinition:e.defineMethod(t.skins.getSkinDefinition)},getSchema:e.defineMethod(t.getSchema),events:{onChange:{addListener:e.defineMethod(t.events.onChange.addListener),removeListener:e.defineMethod(t.events.onChange.removeListener)}}}}}}),define("documentServices/fonts/fonts",["utils","documentServices/theme/theme","documentServices/siteMetadata/generalInfo"],function(e,t,a){"use strict";var r=e.fonts;return{css:{getCssUrls:function(e){var t=a.getDocumentType(e),o=e.dal.get(e.pointers.general.getServiceTopology());return r.fontUtils.getCssUrls(t,o)}},getSiteFontsOptions:function(e){var o=a.getDocumentType(e),n=t.fonts.getCharacterSet(e);return r.fontUtils.getCurrentSelectablefontsWithParams(o,n)},getAllFontsOptions:function(e){var t=a.getDocumentType(e);return r.fontUtils.getCurrentSelectablefontsWithParams(t,["latin-ext","cyrillic","japanese","korean","arabic","hebrew","latin"])}}}),define("documentServices/fonts/fontsPublicAPI",["documentServices/utils/publicMethodUtils","documentServices/fonts/fonts"],function(e,t){"use strict";return{methods:{fonts:{css:{getUrls:e.defineMethod(t.css.getCssUrls)},getFontsOptions:{deprecated:!0,deprecationMessage:"old function use getSiteFontsOptions instead",methodDef:e.defineMethod(t.getSiteFontsOptions)},getSiteFontsOptions:e.defineMethod(t.getSiteFontsOptions),getAllFontsOptions:e.defineMethod(t.getAllFontsOptions)}}}}),define("documentServices/component/componentBehaviors",[],function(){"use strict";var e="comp";return{executeBehavior:function(t,a,r,o,n){var i={type:e,targetId:a.id,name:r,params:o};t.siteAPI.getSiteAspect("behaviorsAspect").handleBehavior(i,{group:e,callback:n})},getRuntimeState:function(e,t){return e.siteAPI.getRuntimeDal().getCompState(t.id)}}}),define("documentServices/media/wixVideoAPI",[],function(){"use strict";function e(e,t){return t=t?"balatamedia"+t:"",e[0].id+(t||"")}return{play:function(t,a,r){var o=e(a,r);return t.siteAPI.bgVideo.play(o)},stop:function(t,a,r){var o=e(a,r);return t.siteAPI.bgVideo.stop(o)},isPlaying:function(t,a,r){var o=e(a,r);return t.siteAPI.bgVideo.isPlaying(o)},getReadyState:function(t,a,r){var o=e(a,r);return t.siteAPI.bgVideo.getReadyState(o)},registerToPlayingChange:function(t,a,r,o){var n=e(a,r);return t.siteAPI.bgVideo.registerToPlayingChange(n,o)},unregisterToPlayingChange:function(t,a,r){var o=e(a,r);return t.siteAPI.bgVideo.unregisterToPlayingChange(o)},registerToQualityReady:function(e,t,a){return e.siteAPI.bgVideo.registerToQualityReady(t,a)},unregisterToQualityReady:function(e,t,a){return e.siteAPI.bgVideo.unregisterToQualityReady(t,a)}}}),define("documentServices/component/componentPublicAPI",["documentServices/utils/publicMethodUtils","documentServices/component/component","documentServices/dataModel/dataModel","documentServices/component/componentStylesAndSkinsAPI","documentServices/component/componentCode","documentServices/component/componentBehaviors","documentServices/media/wixVideoAPI","documentServices/constants/constants","documentServices/privateServices/idGenerator","documentServices/component/componentStructureInfo","documentServices/utils/utils","documentServices/mobileConversion/mobileActions","documentServicesSchemas"],function(e,t,a,r,o,n,i,s,l,u,c,d,p){"use strict";return{methods:{components:{add:e.defineDataManipulationMethod(t.add,{isUpdatingAnchors:c.YES,getReturnValue:t.getComponentToAddRef}),addWithConstraints:e.defineDataManipulationMethod(t.addWithConstraints,{isUpdatingAnchors:c.YES,getReturnValue:function(e,a,r,o,n){return t.getComponentToAddRef(e,a,r,n)}}),addAndAdjustLayout:e.defineDataManipulationMethod(t.addAndAdjustLayout,{isUpdatingAnchors:c.NO,getReturnValue:t.getComponentToAddRef}),duplicate:e.defineDataManipulationMethod(t.duplicate,{isUpdatingAnchors:c.YES,getReturnValue:t.getComponentToDuplicateRef}),serialize:e.defineMethod(t.serialize),remove:e.defineDataManipulationMethod(t.remove,{isAsyncOperation:t.shouldDelayDeletion,asyncPreDataManipulation:t.validateRemoval,isUpdatingAnchors:c.YES}),buildDefaultComponentStructure:e.defineMethod(u.createComponentDefaultStructureBuilder(p.schemas.componentsDefinitionsMap)),getContainer:e.defineMethod(t.getContainer),getPage:e.defineMethod(t.getPage),getAncestors:e.defineMethod(t.getAncestors),getSiblings:e.defineMethod(t.getSiblings),getRepeatedComponents:e.defineMethod(t.getRepeatedComponents),getChildren:e.defineMethod(t.getChildren),getTpaChildren:e.defineMethod(t.getTpaChildren),getBlogChildren:e.defineMethod(t.getBlogChildren),getType:e.defineMethod(t.getType),isRenderedOnSite:e.defineMethod(t.isRenderedOnSite),properties:{update:e.defineDataManipulationMethod(t.properties.update,{singleComp:a.shouldUpdatePropertiesWithSingleComp,isUpdatingAnchors:a.shouldUpdateAnchorsAfterPropertiesUpdate}),get:e.defineMethod(t.properties.get),mobile:{fork:e.defineDataManipulationMethod(t.properties.mobile.fork,{singleComp:c.DONT_CARE}),join:e.defineDataManipulationMethod(t.properties.mobile.join),isForked:e.defineMethod(t.properties.mobile.isForked)}},style:{setId:e.defineDataManipulationMethod(r.style.setId),getId:e.defineMethod(r.style.getId),resetToDesktop:e.defineDataManipulationMethod(r.style.resetToDesktop),get:e.defineMethod(r.style.get),update:e.defineDataManipulationMethod(r.style.update,{isUpdatingAnchors:c.YES}),setCustom:e.defineDataManipulationMethod(r.style.setCustom,{getReturnValue:l.getStyleIdToAdd})},skin:{set:e.defineDataManipulationMethod(r.skin.set),get:e.defineMethod(r.skin.get),getComponentSkinExports:e.defineMethod(r.skin.getComponentSkinExports)},layout:{get:e.defineMethod(t.layout.get),RESIZE_SIDES:s.RESIZE_SIDES},mobileHints:{update:e.defineMethod(a.updateMobileHintsHidden),get:e.defineMethod(a.getMobileHintsItem)},video:{play:{deprecated:!0,deprecationMessage:"In Jan 2017 all components.video APIs will be removed. Please follow ticket CLNT-8550 or consult with the Wow Team",methodDef:e.defineMethod(i.play)},stop:{deprecated:!0,deprecationMessage:"In Jan 2017 all components.video APIs will be removed. Please follow ticket CLNT-8550 or consult with the Wow Team",methodDef:e.defineMethod(i.stop)},registerToPlayingChange:{deprecated:!0,deprecationMessage:"In Jan 2017 all components.video APIs will be removed. Please follow ticket CLNT-8550 or consult with the Wow Team",methodDef:e.defineMethod(i.registerToPlayingChange)},unregisterToPlayingChange:{deprecated:!0,deprecationMessage:"In Jan 2017 all components.video APIs will be removed. Please follow ticket CLNT-8550 or consult with the Wow Team",methodDef:e.defineMethod(i.unregisterToPlayingChange)},getReadyState:e.defineMethod(i.getReadyState),isPlaying:{deprecated:!0,deprecationMessage:"In Jan 2017 all components.video APIs will be removed. Please follow ticket CLNT-8550 or consult with the Wow Team",methodDef:e.defineMethod(i.isPlaying)}},is:{duplicatable:e.defineMethod(t.isComponentDuplicatable),removable:e.defineMethod(t.isComponentRemovable),modal:e.defineMethod(t.isComponentModal),usingLegacyAppPartSchema:e.defineMethod(t.isComponentUsingLegacyAppPartSchema),exist:e.defineMethod(t.isExist),visible:e.defineMethod(t.isComponentVisible),rendered:e.defineMethod(u.isRenderedOnSite)},COMPONENT_DEFINITION_MAP:p.schemas.componentsDefinitionsMap,behaviors:{execute:e.defineDataManipulationMethod(n.executeBehavior),getRuntimeState:e.defineMethod(n.getRuntimeState)},code:{generateNicknamesForSite:e.defineMethod(o.generateNicknamesForSite),getNickname:e.defineMethod(o.getNickname),setNickname:e.defineMethod(o.setNickname),validateNickname:e.defineMethod(o.validateNickname),getComponentsInPage:e.defineMethod(o.getComponentsInPage),VALIDATIONS:o.VALIDATIONS},modes:{getTypes:e.defineMethod(t.modes.getModeTypes),getModeById:e.defineMethod(t.modes.getComponentModeById),getModes:e.defineMethod(t.modes.getComponentModes),getModesByType:e.defineMethod(t.modes.getComponentModesByType),getAllCompOverrides:e.defineMethod(t.modes.overrides.getAllOverrides),isDisplayedByDefault:e.defineMethod(t.modes.isComponentDisplayedByDefault),isComponentDisplayedInModes:e.defineMethod(t.modes.isComponentDisplayedInModes),getModesIdsAndParentNeededToShowComp:e.defineMethod(t.modes.getModesIdsAndParentNeededToShowComp),addModeDefinition:e.defineDataManipulationMethod(t.modes.addModeDefinition,{getReturnValue:t.modes.getModeToAddId}),remove:e.defineDataManipulationMethod(t.modes.removeComponentMode,{noBatchingAfter:!0}),getComponentActiveModeIds:e.defineMethod(t.modes.getComponentActiveModeIds),getFirstAncestorActiveModes:e.defineMethod(t.modes.getFirstAncestorActiveModes),getFirstAncestorWithActiveModes:e.defineMethod(t.modes.getFirstAncestorWithActiveModes),isComponentCurrentlyDisplayed:e.defineMethod(t.modes.isComponentCurrentlyDisplayed),activateComponentMode:e.defineDataManipulationMethod(t.modes.activateComponentMode,{noBatchingAfter:!0}),deactivateComponentMode:e.defineDataManipulationMethod(t.modes.deactivateCompMode,{noBatchingAfter:!0}),resetAllActiveModes:e.defineDataManipulationMethod(t.modes.resetAllActiveModes,{noBatchingAfter:!0}),applyCurrentToAllModes:e.defineDataManipulationMethod(t.modes.overrides.applyCurrentToAllModes),applyComponentToMode:e.defineDataManipulationMethod(t.applyComponentToMode),showComponentOnlyInModesCombination:e.defineDataManipulationMethod(t.modes.overrides.showComponentOnlyInModesCombination),showComponentOnlyOnPagesGroup:e.defineDataManipulationMethod(t.modes.showComponentOnlyOnPagesGroup),updateMobileDisplayedModeProperty:e.defineDataManipulationMethod(d.setComponentDisplayMode,{noBatchingAfter:!0}),getComponentModesAvailableInView:e.defineMethod(t.modes.getComponentModesAvailableInView),getCompMobileMode:e.defineMethod(t.modes.getCompMobileMode),removeDesignBehaviorsFromAllModes:e.defineDataManipulationMethod(t.modes.removeDesignBehaviorsFromAllModes)},design:{update:e.defineDataManipulationMethod(t.design.updateDesignItem,{singleComp:a.shouldUpdateDesignWithSingleComp}),get:e.defineMethod(a.getDesignItem),getByModes:e.defineMethod(a.getDesignItemByModes),remove:e.defineDataManipulationMethod(a.removeComponentDesignItem),behaviors:{update:e.defineDataManipulationMethod(a.updateDesignItemBehaviors),remove:e.defineDataManipulationMethod(a.removeDesignItemBehaviors)}}},siteSegments:{style:{setId:e.defineDataManipulationMethod(r.style.setId),getId:e.defineMethod(r.style.getId),setCustom:e.defineDataManipulationMethod(r.style.setCustom,{getReturnValue:l.getStyleIdToAdd})},layout:{get:e.defineMethod(t.layout.get)}}}}}),define("documentServices/continuousActions/continuousActionsPublicAPI",["documentServices/utils/publicMethodUtils","documentServices/utils/setOperationQueueUtils","documentServices/structure/structure"],function(e,t,a){"use strict";return{methods:{components:{layout:{continuousUpdate:e.defineContinuousAction(a.updateCompLayout,{updatingAnchorsAfterContinuous:t.IS_UPDATING_ANCHORS.YES,enforceTypeDuringContinuous:t.ENFORCE_TYPES.NONE,singleComp:!0}),continuousUpdateAndPreserveProportions:e.defineContinuousAction(a.updateAndPreserveProportions,{updatingAnchorsAfterContinuous:t.IS_UPDATING_ANCHORS.YES,enforceTypeDuringContinuous:t.ENFORCE_TYPES.NONE,singleComp:!1}),continuousUpdateAndAdjustLayout:e.defineContinuousAction(a.updateCompLayout,{updatingAnchorsAfterContinuous:t.IS_UPDATING_ANCHORS.YES,enforceTypeDuringContinuous:t.ENFORCE_TYPES.FULL,singleComp:!0})}}}}}),define("documentServices/smartBoxes/smartBoxes",["lodash","documentServices/component/component","documentServices/structure/structure","documentServices/smartBoxes/multiComponentsUtils","documentServices/componentsMetaData/componentsMetaData","documentServices/page/page"],function(e,t,a,r,o,n){"use strict";return{alignInContainer:function(e,a,i){if(!o.public.isAlignable(e,a))throw new Error("cannot align component");var s=void 0,l=t.getContainer(e,a),u=void 0;if(t.isPageComponent(e,l))u=n.getLayout(e,l.id),s=!0;else if("masterPage"!==l.id)u=t.layout.get(e,l),s=!0;else{var c=e.pointers.components.getViewMode(a),d=e.pointers.components.getPagesContainer(c);u=t.layout.get(e,d),s=!1}r.alignComponentsToOuterLayout(e,[a],u,i,s)}}}),define("documentServices/smartBoxes/smartBoxesPublicAPI",["documentServices/utils/publicMethodUtils","documentServices/smartBoxes/smartBoxes","documentServices/smartBoxes/multiComponentsUtils","documentServices/smartBoxes/multiComponentsUtilsValidations","documentServices/smartBoxes/grouping","documentServices/smartBoxes/groupingUtils","documentServices/utils/utils"],function(e,t,a,r,o,n,i){"use strict";return{methods:{components:{layout:{getSnugPositionAndSize:e.defineMethod(a.getSnugPositionAndSize),getSnugLayout:e.defineMethod(a.getSnugLayout),getSnugLayoutRelativeToScreen:e.defineMethod(a.getSnugLayoutRelativeToScreen),getSnugLayoutRelativeToScreenConsideringScroll:e.defineMethod(a.getSnugLayoutRelativeToScreenConsideringScroll),getSnugLayoutRelativeToStructure:e.defineMethod(a.getSnugLayoutRelativeToStructure)},alignment:{alignComponents:e.defineDataManipulationMethod(a.align,{isUpdatingAnchors:i.YES}),alignInContainer:e.defineDataManipulationMethod(t.alignInContainer,{isUpdatingAnchors:i.YES,singleComp:!0}),canAlign:e.defineMethod(r.canAlign)},multiComponents:{distribute:e.defineDataManipulationMethod(a.distribute,{isUpdatingAnchors:i.YES}),canDistribute:e.defineMethod(r.canDistribute),matchSize:e.defineDataManipulationMethod(a.matchSize,{isUpdatingAnchors:i.YES}),canMatchSize:e.defineMethod(r.canMatchSize)},groupComponents:e.defineDataManipulationMethod(o.groupComponents,{isUpdatingAnchors:i.YES,getReturnValue:o.genGroupPointer}),addToGroup:e.defineDataManipulationMethod(o.addToGroup,{isUpdatingAnchors:i.YES}),ungroup:e.defineDataManipulationMethod(o.ungroup,{isUpdatingAnchors:i.YES,getReturnValue:o.getUngroupedComponents}),is:{group:e.defineMethod(n.isGroup),groupedComponent:e.defineMethod(n.isGroupedComponent),topMost:e.defineMethod(a.isTopMost),leftMost:e.defineMethod(a.isLeftMost)}}},initMethod:o.initialize}}),define("documentServices/componentsMetaData/componentsMetaDataPublicAPI",["documentServices/utils/publicMethodUtils","documentServices/componentsMetaData/componentsMetaData"],function(e,t){"use strict";return{initMethod:function(){},methods:{components:{layout:{getResizableSides:e.defineMethod(t.public.getResizableSides),canBeFixedPosition:e.defineMethod(t.public.canBeFixedPosition),canBeStretched:e.defineMethod(t.public.canBeStretched),canBeStretchedByStructure:e.defineMethod(t.public.canBeStretchedByStructure),getLimits:e.defineMethod(t.public.getLayoutLimits)},is:{enforcingContainerChildLimitations:e.defineMethod(t.public.isEnforcingContainerChildLimitations),container:e.defineMethod(t.public.isContainer),containable:e.defineMethod(t.public.isContainable),containableByStructure:e.defineMethod(t.public.isContainableByStructure),styleCanBeApplied:e.defineMethod(t.public.isStyleCanBeApplied),movable:e.defineMethod(t.public.isMovable),horizontallyMovable:e.defineMethod(t.public.isHorizontallyMovable),verticallyMovable:e.defineMethod(t.public.isVerticallyMovable),canMoveUp:e.defineMethod(t.public.canMoveUp),resizable:e.defineMethod(t.public.isResizable),horizontallyResizable:e.defineMethod(t.public.isHorizontallyResizable),verticallyResizable:e.defineMethod(t.public.isVerticallyResizable),proportionallyResizable:e.defineMethod(t.public.isProportionallyResizable),resizeOnlyProportionally:e.defineMethod(t.public.resizeOnlyProportionally),enforceResizableCorners:e.defineMethod(t.public.enforceResizableCorners),rotatable:e.defineMethod(t.public.isRotatable),fullWidth:e.defineMethod(t.public.isFullWidth),fullWidthByStructure:e.defineMethod(t.public.isFullWidthByStructure),groupable:e.defineMethod(t.public.isGroupable),alignable:e.defineMethod(t.public.isAlignable),hiddenable:e.defineMethod(t.public.isHiddenable),collapsible:e.defineMethod(t.public.isCollapsible),dockable:e.defineMethod(t.public.isDockable),disableable:e.defineMethod(t.public.isDisableable),anchorableFrom:e.defineMethod(t.public.isAnchorableFrom),anchorableTo:e.defineMethod(t.public.isAnchorableTo),potentialContainerForScreenWidthComp:e.defineMethod(t.public.isPotentialContainerForScreenWidthComp),repeatedComponent:e.defineMethod(t.public.isRepeatedComponent),allowedToContainMoreChildren:e.defineMethod(t.public.allowedToContainMoreChildren)},getMobileConversionConfig:e.defineMethod(t.public.getMobileConversionConfig)},siteSegments:{layout:{getResizableSides:e.defineMethod(t.public.getResizableSides)}}}}}),define("documentServices/actionsAndBehaviors/actionsAndBehaviorsPublicAPI",["documentServices/utils/publicMethodUtils","documentServices/actionsAndBehaviors/actionsAndBehaviors","documentServices/utils/utils"],function(e,t,a){"use strict";return{methods:{behaviors:{getDefinition:e.defineMethod(t.getBehaviorDefinition),getNames:e.defineMethod(t.getBehaviorNames),update:e.defineDataManipulationMethod(t.updateBehavior),get:e.defineMethod(t.getBehaviors),remove:e.defineDataManipulationMethod(t.removeBehavior)},actions:{getDefinition:e.defineMethod(t.getActionDefinition),executeAction:e.defineMethod(t.executeAction),getNames:e.defineMethod(t.getActionNames),executeAnimationsInPage:e.defineMethod(t.executeAnimationsInPage)},components:{is:{animatable:e.defineMethod(t.isBehaviorable)},behaviors:{update:e.defineDataManipulationMethod(t.setComponentBehavior,{isUpdatingAnchors:a.DONT_CARE}),get:e.defineMethod(t.getComponentBehaviors),remove:e.defineDataManipulationMethod(t.removeComponentSingleBehavior,{isUpdatingAnchors:a.DONT_CARE}),removeAll:e.defineDataManipulationMethod(t.removeComponentBehaviors),preview:e.defineMethod(t.deprecatedPreviewAnimation),stopPreview:e.defineMethod(t.deprecatedStopPreviewAnimation),previewAnimation:e.defineMethod(t.previewAnimation),previewTransition:e.defineMethod(t.previewTransition),stopPreviewAnimation:e.defineMethod(t.stopPreviewAnimation)}},pages:{transitions:{set:e.defineDataManipulationMethod(t.setPagesTransition),get:e.defineMethod(t.getPagesTransition),getNames:e.defineMethod(t.getPageTransitionsNames)},animations:{stopAll:e.defineMethod(t.stopAndClearAllAnimations)}}}}}),define("documentServices/siteMetadata/siteMetadataPublicAPI",["documentServices/utils/publicMethodUtils","documentServices/siteMetadata/siteMetadata"],function(e,t){"use strict";return{methods:{compatibility:{hasAppPage:e.defineMethod(t.compatibility.hasAppPage),hasOldApp:e.defineMethod(t.compatibility.hasOldApp),hasNewBlog:e.defineMethod(t.compatibility.hasNewBlog)},seo:{indexing:{enable:e.defineMethod(t.seo.indexing.enable),isEnabled:e.defineMethod(t.seo.indexing.isEnabled)},title:{set:e.defineMethod(t.seo.title.set),get:e.defineMethod(t.seo.title.get),validate:e.defineMethod(t.seo.title.validate)},description:{set:e.defineMethod(t.seo.description.set),get:e.defineMethod(t.seo.description.get),validate:e.defineMethod(t.seo.description.validate)},keywords:{set:e.defineMethod(t.seo.keywords.set),get:e.defineMethod(t.seo.keywords.get),validate:e.defineMethod(t.seo.keywords.validate)},headTags:{set:e.defineMethod(t.seo.headTags.set),get:e.defineMethod(t.seo.headTags.get),clientSideValidation:e.defineMethod(t.seo.headTags.clientSideValidation),validate:e.defineMethod(t.seo.headTags.validate)},redirectUrls:{update:e.defineMethod(t.seo.redirectUrls.update),get:e.defineMethod(t.seo.redirectUrls.get),remove:e.defineMethod(t.seo.redirectUrls.remove),validate:e.defineMethod(t.seo.redirectUrls.validate)},ERRORS:t.seo.ERRORS},social:{facebook:{thumbnail:{set:e.defineMethod(t.social.facebook.setThumbnail),get:e.defineMethod(t.social.facebook.getThumbnail)},userName:{set:e.defineMethod(t.social.facebook.setUsername),get:e.defineMethod(t.social.facebook.getUsername),validate:e.defineMethod(t.social.facebook.validateUsername)},ERRORS:t.social.facebook.ERRORS}},favicon:{set:e.defineMethod(t.favicon.set),get:e.defineMethod(t.favicon.get),ERRORS:t.favicon.ERRORS},statistics:{cookies:{enable:e.defineMethod(t.statistics.cookies.enable),isEnabled:e.defineMethod(t.statistics.cookies.isEnabled)}},premiumFeatures:{get:e.defineMethod(t.premiumFeatures.getFeatures),set:e.defineMethod(t.premiumFeatures.setFeatures)},generalInfo:{isHttpsEnabled:e.defineMethod(t.generalInfo.isHttpsEnabled),getUserInfo:e.defineMethod(t.generalInfo.getUserInfo),getUserId:e.defineMethod(t.generalInfo.getUserId),getPublicUrl:e.defineMethod(t.generalInfo.getPublicUrl),getMetaSiteId:e.defineMethod(t.generalInfo.getMetaSiteId),getSiteId:e.defineMethod(t.generalInfo.getSiteId),getSiteToken:e.defineMethod(t.generalInfo.getSiteToken),getSiteOriginalTemplateId:e.defineMethod(t.generalInfo.getSiteOriginalTemplateId),getLanguage:e.defineMethod(t.generalInfo.getLanguage),getGeo:e.defineMethod(t.generalInfo.getGeo),isFirstSave:e.defineMethod(t.generalInfo.isFirstSave),isSitePublished:e.defineMethod(t.generalInfo.isSitePublished),isTemplate:e.defineMethod(t.generalInfo.isTemplate),getDocumentType:e.defineMethod(t.generalInfo.getDocumentType),isSiteFromOnBoarding:e.defineMethod(t.generalInfo.isSiteFromOnBoarding),setPublicUrl:e.defineMethod(t.generalInfo.setPublicUrl),urlFormat:{get:e.defineMethod(t.generalInfo.getUrlFormat),is:e.defineMethod(t.generalInfo.isUsingUrlFormat),isSlash:e.defineMethod(t.generalInfo.isUsingSlashUrlFormat),list:e.defineMethod(t.generalInfo.getPossibleUrlFormats)}},language:{multilingual:{isEnabled:e.defineMethod(t.language.multilingual.isEnabled)},current:{get:e.defineMethod(t.language.current.get),set:e.defineMethod(t.language.current.set)},original:{get:e.defineMethod(t.language.original.get),set:e.defineMethod(t.language.original.set)},public:{get:e.defineMethod(t.language.public.get)},status:{set:e.defineMethod(t.language.status.set)},get:e.defineMethod(t.language.get),getFull:e.defineMethod(t.language.getFull),add:e.defineMethod(t.language.add),remove:e.defineMethod(t.language.remove),init:e.defineMethod(t.language.init),copyTranslationData:e.defineMethod(t.language.copyTranslationData)},siteName:{set:e.defineMethod(t.siteName.set),get:e.defineMethod(t.siteName.get),sanitize:e.defineMethod(t.siteName.sanitize),validate:e.defineMethod(t.siteName.validate),getUsed:e.defineMethod(t.siteName.getUsedSiteNames),markAsUsed:e.defineMethod(t.siteName.markSiteNameAsUsed),ERRORS:t.siteName.ERRORS}}}}),define("documentServices/feedback/feedback",["lodash"],function(e){"use strict";var t="http://wixfeedbackserver.appspot.com",a="http://localhost:8888",r="/markSiteShared",o="/markAsRead",n="/list",i="/append",s="/delete",l="https://api-ssl.bitly.com/v3/shorten?access_token=6e283dc921f56df2eff5951bd2bf5bab041d8ac2&longUrl=",u="&utm_campaign=vir_wixad_feedback",c=["happy","sad","noMood"],d=!1;function p(){return d?a:t}function g(e,t,a,r){if(this._useMockedData)f(r,"onSuccess")&&r.onSuccess("MOCKED");else{var o=window.XDomainRequest,n=new window.XMLHttpRequest;"withCredentials"in n?n.open(e,t,!0):void 0!==o?(n=new o).open(e,t):n=null,n&&("POST"===e&&n.setRequestHeader("Content-Type","application/json; charset=utf-8"),n.onload=function(){f(r,"onSuccess")&&r.onSuccess(n.responseText)},n.onerror=function(){f(r,"onError")&&r.onError({error:!0})},n.send(a||null))}}function f(t,a){return e.isFunction(e.get(t,a))}var m={enableMockedData:function(e){!0},disableMockedData:function(e){!1},enableLocalTestServer:function(e){d=!0},disableLocalTestServer:function(e){d=!1},getUnreadMockedComment:function(e,t){return{pageId:"mainPage",x:parseInt(500*Math.random(),10),y:parseInt(500*Math.random(),10),text:"title ["+Date.now()+"]",submitter:t||"anonymous",time:Date.now(),face:c[parseInt(Math.random()*c.length,10)],unread:!0}},__sendCORSRequest:g};return e.merge({generateShareURL:function(t,a,r){var o=t.dal.getByPath(["rendererModel","siteInfo","siteId"]),n=t.dal.getByPath(["rendererModel","metaSiteId"]);a=a||"en",i=o,s=n,c={onSuccess:function(t){var o=t.payload&&t.payload.url,n=e.includes(o,"?")?"&":"?";i={onSuccess:function(e){f(r,"onSuccess")&&r.onSuccess(e.data.url)},onError:function(){}},g("GET",l+encodeURIComponent(o+n+"feedback=true&lang="+a+u),null,{onSuccess:function(e){var t=JSON.parse(e);f(i,"onSuccess")&&i.onSuccess(t)},onError:function(){}});var i},onError:function(){}},g("GET","http://"+window.location.host+"/html/editor/web/review/createToken/"+i+"?metaSiteId="+s,null,{onSuccess:function(e){var t=JSON.parse(e);f(c,"onSuccess")&&c.onSuccess(t)},onError:function(){}});var i,s,c},isSiteShared:function(e,t){var a=e.dal.getByPath(["rendererModel","siteInfo","siteId"]);g("GET",p()+r+"?siteId="+a,{},t)},markSiteAsShared:function(e,t){var a=e.dal.getByPath(["rendererModel","siteInfo","siteId"]);g("POST",p()+r,JSON.stringify({siteId:a}),t)},comments:{create:function(e,t,a,r,o,n,i){return{pageId:t||"mainPage",x:a||"100px",y:r||"100px",text:o||"untitled",submitter:n||"anonymous",time:Date.now(),face:i||c[c.length-1],unread:!0}},add:function(e,t,a,r,o){var n=e.dal.getByPath(["rendererModel","siteInfo","siteId"]),s=e.dal.getByPath(["rendererModel","metaSiteId"]),l=e.dal.getByPath(["rendererModel","userId"]),u=e.dal.getByPath(["rendererModel","siteInfo","siteTitleSEO"]),c=JSON.stringify({siteId:n,data:t,generalComment:a,submitter:r,userGuid:l,metaSiteId:s,siteName:u});g("POST",p()+i,c,o)},get:function(t,a){var r=t.dal.getByPath(["rendererModel","siteInfo","siteId"]);g("GET",p()+n+"?siteId="+r,null,{onSuccess:function(t){var r,o=(r=JSON.parse(t),e.forEach(r,function(e){e.commentId=e.key.id,e.x=e.propertyMap.x.value,e.y=e.propertyMap.y.value,e.face=e.propertyMap.face.value,e.submitter=e.propertyMap.submitter.value,e.text=e.propertyMap.text.value.value,e.pageId=e.propertyMap.pageId,e.unread=e.propertyMap.unread,e.time=new Date(e.propertyMap.time)}),e.groupBy(r,"pageId"));f(a,"onSuccess")&&a.onSuccess(o)},onError:function(){}})},remove:function(e,t,a){g("POST",p()+s,JSON.stringify({commentId:t}),a)},markAsRead:function(e,t,a){g("POST",p()+o,JSON.stringify({commentId:t}),a)}}},m)}),define("documentServices/feedback/feedbackPublicAPI",["documentServices/utils/publicMethodUtils","documentServices/feedback/feedback"],function(e,t){"use strict";return{methods:{feedback:{comments:{create:e.defineMethod(t.comments.create),add:e.defineMethod(t.comments.add),get:e.defineMethod(t.comments.get),remove:e.defineMethod(t.comments.remove),markAsRead:e.defineMethod(t.comments.markAsRead)},isSiteShared:e.defineMethod(t.isSiteShared),markSiteAsShared:e.defineMethod(t.markSiteAsShared)}}}}),define("documentServices/saveAPI/savePublicAPI",["documentServices/utils/publicMethodUtils","documentServices/saveAPI/saveAPI"],function(e,t){"use strict";var a=t.save,r=t.publish,o=t.saveAsTemplate,n=t.canUserPublish,i=t.initMethod,s=e.defineMethod;return{initMethod:i,methods:{save:s(a),publish:s(r),saveAsTemplate:s(o),canUserPublish:s(n)}}}),define("documentServices/structure/structurePublicAPI",["documentServices/utils/publicMethodUtils","documentServices/structure/structure","documentServices/structure/structureUtils","documentServices/structure/utils/arrangement","documentServices/utils/utils"],function(e,t,a,r,o){"use strict";return{initMethod:t.initialize,methods:{components:{setContainer:e.defineDataManipulationMethod(t.setContainer,{isUpdatingAnchors:o.YES,getReturnValue:t.getNewComponentPointerAfterReparent}),reparentComponentToPage:e.defineDataManipulationMethod(t.reparentComponentToPage,{isUpdatingAnchors:o.YES,getReturnValue:t.getNewComponentPointerAfterReparent}),isShowOnAllPages:e.defineMethod(t.isShowOnAllPages),isShowOnSomePages:e.defineMethod(t.isShowOnSomePages),layout:{update:e.defineDataManipulationMethod(t.updateCompLayout,{isUpdatingAnchors:o.YES,singleComp:t.shouldUpdateSingleComp,noRefresh:!0}),updateAndAdjustLayout:e.defineDataManipulationMethod(t.updateCompLayoutAndAdjustLayout,{isUpdatingAnchors:o.NO,singleComp:!0,shouldLockComp:!0}),updateFixedPosition:e.defineDataManipulationMethod(t.updateFixedPosition,{isUpdatingAnchors:o.YES,singleComp:!1}),updateAndPreserveProportions:e.defineDataManipulationMethod(t.updateAndPreserveProportions,{isUpdatingAnchors:o.YES,singleComp:!1}),getRelativeToStructure:e.defineMethod(t.getCompLayoutRelativeToStructure),getRelativeToScreen:e.defineMethod(t.getCompLayoutRelativeToScreen),getRelativeToScreenConsideringScroll:e.defineMethod(t.getCompLayoutRelativeToScreenConsideringScroll),getProportionStructure:e.defineMethod(t.getProportionStructure),getEffectiveTextDimensions:e.defineMethod(t.getEffectiveTextDimensions),getMinDimensions:e.defineMethod(t.getDeprecatedMinDimensions),isFixedPosition:e.defineMethod(t.isFixedPosition),isHorizontallyStretchedToScreen:e.defineMethod(t.isHorizontallyStretchedToScreen),isHorizontallyStretched:e.defineMethod(t.isHorizontallyStretched),isVerticallyStretched:e.defineMethod(t.isVerticallyStretched),isHorizontallyStretchedToScreenByStructure:e.defineMethod(t.isHorizontallyStretchedToScreenByStructure),isRenderedInFixedPosition:e.defineMethod(t.isRenderedInFixedPosition),isAncestorRenderedInFixedPosition:e.defineMethod(t.isAncestorRenderedInFixedPosition),isShowOnFixedPosition:e.defineMethod(t.isShowOnFixedPosition),isDocked:e.defineMethod(t.isDocked),isDockedToScreen:e.defineMethod(t.isDockedToScreen),isRotated:e.defineMethod(t.isRotated),getDockedStyle:e.defineMethod(t.getDockedStyle),getDock:e.defineMethod(t.getDock),setDock:e.defineDataManipulationMethod(t.setDock,{isUpdatingAnchors:o.YES,singleComp:!0}),updateDock:e.defineDataManipulationMethod(t.updateDock,{isUpdatingAnchors:o.YES,singleComp:!0}),unDock:e.defineDataManipulationMethod(t.unDock,{isUpdatingAnchors:o.YES}),updateAspectRatio:e.defineDataManipulationMethod(t.updateAspectRatio,{singleComp:!0}),removeAspectRatio:e.defineDataManipulationMethod(t.removeAspectRatio,{singleComp:!0}),isAspectRatioOn:e.defineMethod(t.isAspectRatioOn)},arrangement:{canMoveForward:e.defineMethod(r.canMoveForward),canMoveBackward:e.defineMethod(r.canMoveBackward),moveBackward:e.defineDataManipulationMethod(r.moveBackward),moveForward:e.defineDataManipulationMethod(r.moveForward),moveToFront:e.defineDataManipulationMethod(r.moveToFront),moveToBack:e.defineDataManipulationMethod(r.moveToBack),moveToIndex:e.defineDataManipulationMethod(r.moveToIndex)}},siteSegments:{layout:{update:e.defineDataManipulationMethod(t.updateCompLayout,{isUpdatingAnchors:o.YES,singleComp:!0,noRefresh:!0})}},utils:{getBoundingLayout:e.defineMethod(a.getBoundingLayout),getLayoutFromBoundingLayout:e.defineMethod(a.getLayoutFromBoundingLayout)},site:{getHeight:e.defineMethod(t.getSiteHeight),getWidth:e.defineMethod(t.getSiteWidth),setScrollAndScale:e.defineDataManipulationMethod(t.setScrollAndScale),animateScroll:e.defineDataManipulationMethod(t.animateScroll),setScroll:e.defineMethod(t.setScroll),getScroll:e.defineMethod(t.getScroll),isScrollingEnabled:e.defineMethod(t.isScrollingEnabled),migrateToMeshLayout:e.defineDataManipulationMethod(t.migrateToMeshLayout),getSiteX:e.defineMethod(t.getSiteX)}}}}),define("documentServices/documentMode/documentModePublicAPI",["documentServices/utils/publicMethodUtils","documentServices/documentMode/documentMode","documentServices/constants/constants","documentServices/utils/utils"],function(e,t,a,r){"use strict";return{methods:{documentMode:{runtime:{reset:e.defineDataManipulationMethod(t.runtime.reset)},enablePlaying:e.defineDataManipulationMethod(t.enablePlaying),enablePageProtection:e.defineDataManipulationMethod(t.enablePageProtection),enableZoom:e.defineDataManipulationMethod(t.enableZoom),enableSocialInteraction:e.defineDataManipulationMethod(t.enableSocialInteraction),enableExternalNavigation:e.defineDataManipulationMethod(t.enableExternalNavigation),enableTinyMenuOpening:e.defineDataManipulationMethod(t.enableTinyMenuOpening),enableBackToTopButton:e.defineDataManipulationMethod(t.enableBackToTopButton),toggleWixAds:e.defineDataManipulationMethod(t.enableWixAds),enableSlideShowGalleryClick:e.defineDataManipulationMethod(t.enableSlideShowGalleryClick),enableAction:e.defineDataManipulationMethod(t.enableAction),getSiteTransformScale:e.defineMethod(t.getSiteTransformScale),enableTransFormScaleOnSite:e.defineDataManipulationMethod(t.enableTransFormScaleOnSite),resetBehaviors:e.defineMethod(t.resetBehaviorsRegistration),enablePageTransitions:e.defineMethod(t.enablePageTransitions),enableBgVideoAutoplay:e.defineMethod(t.enableBgVideoAutoplay),enableRenderFixedPositionContainers:e.defineDataManipulationMethod(t.enableRenderFixedPositionContainers),enableRenderFixedPositionBackgrounds:e.defineDataManipulationMethod(t.enableRenderFixedPositionBackgrounds),enableSiteMembersDialogsOpening:e.defineDataManipulationMethod(t.allowSiteMembersDialogsOpening),enableResetGalleryToOriginalState:e.defineDataManipulationMethod(t.enableResetGalleryToOriginalState),enableResetComponent:e.defineDataManipulationMethod(t.enableResetComponent),setExtraSiteHeight:e.defineDataManipulationMethod(t.setExtraSiteHeight),enableShouldUpdateJsonFromMeasureMap:e.defineDataManipulationMethod(t.enableShouldUpdateJsonFromMeasureMap),allowSiteOverflow:e.defineDataManipulationMethod(t.allowSiteOverflow),setComponentVisibility:e.defineDataManipulationMethod(t.setComponentVisibility),setComponentViewMode:e.defineDataManipulationMethod(t.setComponentViewMode),allowShowingFixedComponents:e.defineDataManipulationMethod(t.allowShowingFixedComponents),setShouldKeepChildrenInPlace:e.defineDataManipulationMethod(t.setShouldKeepChildrenInPlace),setPreserveCompLayoutOnReparent:e.defineDataManipulationMethod(t.setPreserveCompLayoutOnReparent),showHiddenComponents:e.defineDataManipulationMethod(t.showHiddenComponents),isHiddenComponentsEnabled:e.defineMethod(t.isHiddenComponentsEnabled),isShowingFixedComponentsEnabled:e.defineMethod(t.isShowingFixedComponentsEnabled),setComponentPreviewState:e.defineDataManipulationMethod(t.setComponentPreviewState),getComponentPreviewState:e.defineMethod(t.getComponentPreviewState),ignoreComponentsHiddenProperty:e.defineDataManipulationMethod(t.ignoreComponentsHiddenProperty,{shouldExecOp:t.checkComponentsHiddenProperty}),ignoreComponentsCollapsedProperty:e.defineDataManipulationMethod(t.ignoreComponentsCollapsedProperty,{shouldExecOp:t.checkComponentsCollapsedProperty}),allowWixCodeInitialization:e.defineDataManipulationMethod(t.allowWixCodeInitialization),showControllers:e.defineDataManipulationMethod(t.showControllers),isControllersVisibilityEnabled:e.defineMethod(t.isControllersVisibilityEnabled),onboardingViewportMode:e.defineDataManipulationMethod(t.setOnboardingViewportMode),isContactFormMigrationMode:e.defineMethod(t.isContactFormMigrationMode)},viewMode:{set:e.defineDataManipulationMethod(t.setViewMode,{isUpdatingAnchors:r.NO,noBatching:!0}),get:e.defineMethod(t.getViewMode),VIEW_MODES:a.VIEW_MODES}}}}),define("documentServices/menu/menuAPI",["lodash","documentServices/componentDetectorAPI/componentDetectorAPI","documentServices/component/componentStructureInfo","documentServicesSchemas","documentServices/dataModel/dataModel"],function(e,t,a,r,o){"use strict";var n="CUSTOM_MAIN_MENU",i=["wysiwyg.viewer.components.menus.DropDownMenu","wysiwyg.common.components.verticalmenu.viewer.VerticalMenu","wysiwyg.viewer.components.mobile.TinyMenu"],s=e.template("Cannot link a menu data item to a component that is not one of: "+i.join(", ")+". Given component type was <%= compType %>.");function l(t){return t.items&&e.some(t.items,function(e){return e.items&&e.items.length>0})}var u="Currently, components do not support menus which are more than 2 levels deep.";function c(t){if(t.items&&e.some(t.items,l))throw new Error("You cannot add a menu which is more than 2 levels deep (a subitem cannot have subitems). "+u)}function d(t){e.forEach(t.items,function(t){!function t(a,r){e.forEach(a,function(e){e(r)}),r.items&&e.forEach(r.items,function(e){t(a,e)})}([p,g,f],t)})}var p=e.partialRight(e.unset,"id"),g=e.partialRight(e.unset,["link","id"]),f=e.partialRight(e.set,"type","BasicMenuItem");function m(e,t,a){c(a),y(e,t),o.addSerializedDataItemToPage(e,"masterPage",a,t)}function y(e,t){var a=e.pointers.data.getDataItemFromMaster(t);if(!t||!e.dal.full.isExist(a))throw new Error("Menu with id "+t+" does not exist.")}function _(e,t){var a=e.pointers.data.getDataItemFromMaster(t);return e.dal.isExist(a)?o.getDataItemById(e,t):null}function v(a,r){var n=t.getComponentByType(a,"wysiwyg.viewer.components.menus.DropDownMenu"),i=t.getComponentByType(a,"wysiwyg.common.components.verticalmenu.viewer.VerticalMenu");if(e.some(n.concat(i),(s=a,l=r,function(e){return o.getDataItem(s,e).menuRef==="#"+l})))throw new Error("Cannot remove menu with id "+r+", there are components connected to this menu. Please connect the other components to a differnt menu first.");var s,l}return{update:m,create:function(t,a,r){if(_(t,a))throw new Error("Menu with id "+a+" already exist.");var n=o.createDataItemByType(t,"CustomMenu");d(r=e.assign(n,r,{id:a})),c(r),o.addSerializedDataItemToPage(t,"masterPage",r,a);var i=t.pointers.getInnerPointer(t.pointers.data.getDataItem("CUSTOM_MENUS","masterPage"),"menus");return t.dal.push(i,"#"+a),a},getMenuIdToCreate:function(e,t,a){return a||o.generateNewDataItemId()},getAll:function(e){return o.getDataItemById(e,"CUSTOM_MENUS","masterPage").menus},getById:_,remove:function(t,a){if(a===n)throw new Error("You cannot delete the CUSTOM_MAIN_MENU.");y(t,a),v(t,a);var r=t.pointers.data.getDataItemFromMaster("CUSTOM_MENUS"),i=t.dal.full.get(r);e.pull(i.menus,"#"+a),t.dal.set(r,i),o.removeDataItemRecursively(t,t.pointers.data.getDataItemFromMaster(a))},connect:function(t,r,n){!function(t,r,o){var n=a.getType(t,r);if(!e.includes(i,n))throw new Error(s({compType:n}));y(t,o)}(t,r,n),o.updateDataItem(t,r,{menuRef:"#"+n,type:"CustomMenuDataRef"})},addItem:function(t,a,r,n){var i={items:[n]};c(i),d(i);var s=o.createDataItemByType(t,"BasicMenuItem");o.addSerializedDataItemToPage(t,"masterPage",e.assign(s,n,{id:a}),a);var l=t.pointers.data.getDataItemFromMaster(r),u=t.pointers.getInnerPointer(l,"items");t.dal.push(u,"#"+a)},removeItem:function(t,a,r,o){y(t,a);var n=_(t,a);n.items=e.reduce(n.items,function(t,a){return a.id!==r?(a.items&&e.remove(a.items,{id:r}),t.push(a)):a.items&&o&&(t=t.concat(a.items)),t},[]),m(t,a,n)},updateItem:function(t,a,r,n){y(t,a);var i=t.pointers.data.getDataItemFromMaster(r);if(!t.dal.isExist(i))throw new Error("Menu item with id "+r+" does not exist.");if(n.items&&n.items.length){var s=_(t,a);if(!e.find(s.items,{id:r}))throw new Error("Updating menu item with id "+r+" with items will cause the menu to be more than 2 levels deep. "+u)}o.addSerializedDataItemToPage(t,t.pointers.data.getPageIdOfData(i),e.assign(n,{id:r,type:"BasicMenuItem"}),r)}}}),define("documentServices/menu/menuPublicAPI",["lodash","documentServices/utils/publicMethodUtils","documentServices/dataModel/dataModel","documentServices/menu/mainMenu","documentServices/menu/menuAPI","documentServices/menu/basicMenuItemMethods","documentServices/constants/constants"],function(e,t,a,r,o,n,i){"use strict";var s=t.defineDataManipulationMethod,l=t.defineMethod;return{methods:{mainMenu:e.assign({ITEM_TYPES:i.MENU_ITEM_TYPES},{updateLinkItem:s(n.updateLinkItem),getItemType:l(n.getItemType),isItemRemovable:l(n.isItemRemovable),setItemLabel:s(n.setItemLabel),setItemVisibility:s(n.setItemVisibility),addHeaderItem:s(r.addHeaderItem,{getReturnValue:a.generateNewDataItemId}),addLinkItem:s(r.addLinkItem,{getReturnValue:a.generateNewDataItemId}),getMenu:l(r.getMenu),moveItem:s(r.moveItem),removeItem:s(r.deleteItem)}),menu:{create:s(o.create,{getReturnValue:o.getMenuIdToCreate}),connect:s(o.connect),update:s(o.update),remove:s(o.remove),getAll:l(o.getAll),getById:l(o.getById),addItem:s(o.addItem,{getReturnValue:a.generateNewDataItemId}),removeItem:s(o.removeItem),updateItem:s(o.updateItem)}}}}),define("documentServices/componentDetectorAPI/componentDetectorPublicAPI",["documentServices/utils/publicMethodUtils","documentServices/componentDetectorAPI/componentDetectorAPI"],function(e,t){"use strict";return{methods:{components:{getAllComponents:e.defineMethod(t.getAllComponents),getAllComponentsFromFull:e.defineMethod(t.getAllComponentsFromFull),get:{byXYRelativeToStructure:e.defineMethod(t.getComponentsAtXYRelativeToStructure),byXYRelativeToScreen:e.defineMethod(t.getComponentsAtXYRelativeToScreen),byType:e.defineMethod(t.getComponentByType),byId:e.defineMethod(t.getComponentById),byAncestor:e.defineMethod(t.getComponentsUnderAncestor)},isDescendantOfComp:e.defineMethod(t.isDescendantOfComp)},utils:{isSameRef:e.defineMethod(function(e,t,a){return e.pointers.isSamePointer(t,a)}),isPage:e.defineMethod(function(e,t){return e.pointers.components.isPage(t)}),isSiteStructure:e.defineMethod(function(e,t){return e.pointers.components.isMasterPage(t)})}}}}),define("documentServices/editorData/editorDataPublicAPI",["documentServices/utils/publicMethodUtils","documentServices/editorData/editorData"],function(e,t){"use strict";return{methods:{},initMethod:t.initialize}}),define("documentServices/wixapps/services/views",["lodash","utils","documentServices/wixapps/utils/pathUtils","documentServices/wixapps/services/types","wixappsCore"],function(e,t,a,r,o){"use strict";var n="Type does not exist",i="Cannot created multiple views with the same type, name & format",s="View does not exist",l="Must provide a view definition",u="Array";function c(e){throw new Error(e)}function d(t,o,i){if(o.forType!==u&&!r.getType(t,o.forType))throw new Error(n);var s=e.cloneDeep(o);g(s,o.name,i),s.name=i;var l=p(s.forType,s.name,s.format);return t.dal.full.setByPath(a.getViewPath(l),s),l}function p(e,t,a){return o.viewsUtils.getViewId(e,t,a)}function g(t,a,r){e.forEach(t,function(o,n){e.isObject(o)?g(o,a,r):o===a&&(t[n]=r)})}function f(t,r){var n=t.dal.getKeysByPath(a.getBaseViewsPath());return e.filter(n,function(e){return o.viewsUtils.getViewNameFromId(e)===r})}function m(e,t){return e.dal.getByPath(a.getViewPath(t))}return{getAllViewsByName:function(t,r){var o=f(t,r),n=e.map(o,function(e){return t.dal.getByPath(a.getViewPath(e))});return e.zipObject(o,n)},createView:function(e,a){return d(e,a,(a.name||"viewDef")+"_"+t.guidUtils.getUniqueId())},createViewsWithSameName:function(a,r){var o=(r[e.keys(r)[0]].name||"viewDef")+"_"+t.guidUtils.getUniqueId();return function(t,a){var r=e.map(t,function(e){return p(e.forType,a,e.format)});if(e.uniq(r).length<r.length)throw new Error(i)}(r,o),e.map(r,function(e){return d(a,e,o)})},getViewById:m,getView:function(e,t,a,r){return m(e,p(t,a,r))},deleteAllViewsByName:function(t,r){var o=f(t,r);e.forEach(o,function(e){t.dal.full.removeByPath(a.getViewPath(e))})},replaceView:function(e,t,r){r||c(l);var o=m(e,t)||c(s);g(r,r.name,o.name),r.forType=o.forType,e.dal.full.setByPath(a.getViewPath(t),r)},setValueInView:function(e,t,r,o,n,i){var s=p(t,r,i),l=a.getViewPath(s);e.dal.full.setByPath(l.concat(o),n)}}}),define("documentServices/wixapps/utils/wixappsConsts",[],function(){"use strict";return{LIST_VERSION:"2.0"}}),define("documentServices/wixapps/services/lists",["lodash","utils","documentServices/wixapps/utils/pathUtils","documentServices/wixapps/utils/stringUtils","documentServices/wixapps/services/types","documentServices/wixapps/services/items","documentServices/wixapps/services/selection","documentServices/wixapps/services/views","documentServices/wixapps/utils/wixappsConsts"],function(e,t,a,r,o,n,i,s,l){"use strict";var u="List does not exist",c="Data selector does not exist",d="Type does not exist",p="List views do not exist",g="View is not valid",f="New List";function m(e){throw new Error(e)}function y(e,t){return e.dal.getByPath(a.getPartPath(t))}function _(t,a){var r=y(t,a)||m(u),o=O(t,a);if(!o)throw new Error(c);if("ManualSelectedList"!==o.type)throw new Error("Only manual lists are supported");return e(n.getAllItemsOfType(t,r.type)).pick(o.itemIds).values().value()}function v(e,t){var a=y(e,t)||m(u);return o.getType(e,a.type)}function S(e,t){var a=y(e,t)||m(u);return s.getAllViewsByName(e,a.viewName)}function O(e,t){var a=y(e,t)||m(u);return i.getSelector(e,a.dataSelector)}function h(e){return e.dal.getByPath(a.getBasePartsPath())}function A(t,a,r){var o=y(t,a)||m(u),n=S(t,a),i=e.findKey(n,function(t){return t.forType===o.type&&(r?t.format===r:e.isEmpty(t.format))});return[i,n[i]]}function E(e,t){var a=e.pointers.wixapps.getPackageCounterData("appbuilder");e.dal.isExist(a)||e.dal.set(a,{});var r=y(e,t),o=e.pointers.wixapps.getCounterData("appbuilder",r.type),n=e.dal.get(o)||0;e.dal.set(o,n+1)}return{markDataAsUpdated:E,getListDef:y,getDisplayName:function(e,t){return y(e,t).displayName},getItems:_,getHiddenItems:function(t,a){var r=y(t,a)||m(u),o=_(t,a),i=n.getAllItemsOfType(t,r.type);return e(i).omit(e.map(o,"_iid")).values().value()},getType:v,getViews:S,getSelector:O,setManualSelector:function(e,t,a){var r=y(e,t)||m(u);i.setManualSelector(e,r.dataSelector,a)},getAllLists:h,createList:function(n,u){if(!o.getType(n,u.type))throw new Error(d);if(!i.getSelector(n,u.dataSelector))throw new Error(c);if(e.isEmpty(s.getAllViewsByName(n,u.viewName)))throw new Error(p);var g={displayName:function(t,a){for(var o=e.map(h(t),"displayName"),n=a;e.includes(o,n);)n=r.incNumberSuffix(n);return n}(n,u.displayName||f),dataSelector:u.dataSelector,type:u.type,viewName:u.viewName,version:l.LIST_VERSION},m="list_"+t.guidUtils.getUniqueId();return n.dal.full.setByPath(a.getPartPath(m),g),m},getTypeName:function(e,t){return v(e,t).name},rename:function(e,t,r){var o=y(e,t);o.displayName=r,e.dal.full.setByPath(a.getPartPath(t),o)},getVersion:function(e,t){return y(e,t).version||"1.0"},replaceItemView:function(t,a,r){e.isEmpty(r)&&m(g);var o=e.head(A(t,a,r.format));s.replaceView(t,o,r),E(t,a)},getItemView:function(t,a,r){return e.last(A(t,a,r))}}}),define("documentServices/wixapps/services/listTemplates",["lodash","utils","wixappsBuilder","documentServices/wixapps/utils/pathUtils","documentServices/wixapps/services/lists","documentServices/wixapps/services/types","documentServices/wixapps/services/views","documentServices/wixapps/services/items","documentServices/wixapps/services/selection"],function(e,t,a,r,o,n,i,s,l){"use strict";var u="Only manual lists are supported",c="List does not exist",d="Type does not exist",p="List views do not exist",g="Data selector does not exist",f="Template's type definition is not valid",m="Template's view definitions are not valid",y="The template is missing an item view",_="New List";function v(e){throw new Error(e)}function S(t,a,r,o){var n=a?e.pick(r,a.itemIds):r;return function(e,t,a){var r=l.createSelector(e,t);return l.setManualSelector(e,r,a),r}(t,o,e.values(n))}return{generateTemplate:function(t,a){var r=o.getListDef(t,a)||v(c),n=o.getSelector(t,a)||v(g);if("ManualSelectedList"!==n.type)throw new Error(u);var i=o.getViews(t,a);e.isEmpty(i)&&v(p);var l=o.getType(t,a);return{type:l||v(d),views:e.values(i),items:(f=s.getAllItemsOfType(t,l.name),e.mapValues(f,function(t){return e.omitBy(t,function(t,a){return"_iid"!==a&&e.startsWith(a,"_")})})),dataSelector:n,displayName:r.displayName||_};var f},createListFromTemplate:function(t,a){if(e.isEmpty(a.type))throw new Error(f);if(e.isEmpty(a.views))throw new Error(m);var r=e.map(a.views,function(t){return e.clone(t)}),l=n.createType(t,a.type);u=r,c=l,e.forEach(u,function(e){e.forType="Array"===e.forType?"Array":c});var u,c,d,p,g,y=function(e,t){var a=i.createViewsWithSameName(e,t);return i.getViewById(e,a[0]).name}(t,r),_=(d=t,p=a.items,g=l,e.transform(p,function(e,t){var a=s.createItem(d,g,t);e[t._iid||a]=a},{})),v=S(t,a.dataSelector,_,l),O={displayName:a.displayName,dataSelector:v,type:l,viewName:y};return o.createList(t,O)},setItemViewFromTemplate:function(t,r,n){if(e.isEmpty(n.type))throw new Error(f);if(e.isEmpty(n.views))throw new Error(y);var i=o.getType(t,r)||v(d),s=e.filter(n.views,{forType:n.type.name}),l=a.viewsTemplatesUtils.getMatchingViewsForType(s,n.type,i);e.forEach(l,function(e){o.replaceItemView(t,r,e)})}}}),define("documentServices/wixapps/utils/richTextFieldLayoutUtils",["lodash","utils","wixappsCore","documentServices/theme/theme"],function(e,t,a,r){"use strict";var o=t.fonts,n={fontSize:{defaultValue:null,parsedStyleKey:"size"},fontFamily:{defaultValue:null,parsedStyleKey:"family"},bold:{defaultValue:!1,parsedStyleKey:"bold"},italic:{defaultValue:!1,parsedStyleKey:"italic"},underline:{defaultValue:!1,parsedStyleKey:"underline"},color:{defaultValue:null,parsedStyleKey:"color"},backgroundColor:{defaultValue:null,parsedStyleKey:null},lineHeight:{defaultValue:null,parsedStyleKey:"lineHeight"},lineThrough:{defaultValue:!1,parsedStyleKey:null}},i=["fontSize","lineHeight"],s='Cannot set "fontClass" together with additional attributes',l="Cannot set fontClass to null";function u(t){return e.forEach(i,function(a){t[a]&&e.isString(t[a])&&(t[a]=parseInt(t[a],10))}),t}function c(t,a){if(a.fontClass){var i=function(t,a){var i=o.fontUtils.parseStyleFont(a,r.fonts.getAll(t),r.colors.getAll(t));return e.reduce(n,function(t,a,r){var o=a.parsedStyleKey&&i[a.parsedStyleKey];return o&&(t[r]=e.isString(o)?o.replace(/[{}]/g,""):o),t},{})}(t,a.fontClass),s=!1;e.forOwn(i,function(e,t){a[t]=a[t]||e,s=s||a[t]!==e}),s&&(a.fontClass=null)}return a}return{convertFieldPropsToViewDefProps:function(t,r){if(!e.isUndefined(t.fontClass)&&function(t){var a=e.keys(t),r=e.keys(n),o=e.intersection(a,r);return!e.isEmpty(o)}(t))throw new Error(s);if(null===t.fontClass)throw new Error(l);if(i=t,c=r,e.isUndefined(i.fontClass)&&!e.isEmpty(i)&&c&&c.fontClass)(t=e.defaults(t,r)).style=null;else if(t.fontClass){var o=e.mapValues(n,"defaultValue");(t=e.defaults({},o,t)).style=a.styleMapping.fontClassToStyle(t.fontClass)}var i,c;return delete t.fontClass,u(t)},convertViewDefPropsToFieldProps:function(e,t){return t.fontClass=a.styleMapping.styleToFontClass(t.style)||null,delete t.style,t.fontClass&&(t=c(e,t)),u(t)}}}),define("documentServices/wixapps/utils/appPart2LayoutUtils",["lodash","utils","wixappsCore","wixappsBuilder","documentServices/component/component","documentServices/structure/structure"],function(e,t,a,r,o,n){"use strict";var i=a.viewsUtils;function s(e){return parseInt(e,10)}function l(t,a){var r=i.getCompProp("spacers",t);return"vertical"===a?e.sum([s(r["xax-before"]||0),s(r["xax-after"]||0)]):e.sum([s(r.before||0),s(r.after||0)])}function u(e){return"Field"===i.getCompProp("name",e)||"manual"===i.getCompProp("width-mode",e)?i.getCompProp("width",e):0}function c(t,a){var r=e.map(a,function(e){return u(e)+l(e,t)});return"vertical"===t?e.max(r):e.sum(r)}function d(t,a){var o=i.getCompProp("items",t);if(!o||0===o.length)return 0;var n=i.getCompProp("name",t);if("FieldBox"===n){var s=r.fieldBoxProxyUtils.getFieldBoxDef(i.getCompProp,a,t),l=i.getCompProp("css",s).width,u=i.getCompProp("orientation",t);return"auto"===l?c(u,i.getCompProp("items",s)):l}var p=function(e,t){switch(e){case"VBox":return"vertical";case"HBox":return"horizontal";default:return t}}(n,a),g=e.map(o,function(e){return d(e,p)});return"vertical"===p?e.max(g):e.sum(g)}return{getSpacers:l,getFieldMinWidth:u,getFieldBoxMinWidth:c,getAppPart2MinWidth:d,updateAppPart2MinWidth:function(t,a,r,i){if("DESKTOP"===a.type&&e.has(r,"hidden")){var s=d(i,null);s>o.layout.get(t,a).width&&n.updateCompLayout(t,a,{width:s})}}}}),define("documentServices/wixapps/utils/proxyUtils",["wixappsCore","documentServices/theme/theme"],function(e,t){"use strict";var a="wysiwyg.viewer.components.WRichText";function r(t){var a=t.comp.name;return e.proxyFactory.getProxyClass(a,!0)}return{getStyle:function(o,n){return r(n).componentType===a?n.comp.style:e.styleData.getSkinAndStyle(t.styles.getAll(o),n.comp.name,n.comp.styleNS,n.comp.style,n.comp.skin).styleId||null},getCompProxyClass:r}}),define("documentServices/wixapps/services/fieldsLayout",["lodash","utils","documentServices/wixapps/services/types","documentServices/wixapps/services/views","documentServices/wixapps/services/lists","documentServices/wixapps/utils/richTextFieldLayoutUtils","documentServices/wixapps/utils/appPart2LayoutUtils","documentServices/wixapps/utils/proxyUtils"],function(e,t,a,r,o,n,i,s){"use strict";var l="View definition not found",u="Type definition not found",c="Field schema not found",d="Field not found in view",p="Given value is invalid",g=["name","displayName","type"],f="wysiwyg.viewer.components.WRichText";function m(e){throw new Error(e)}function y(e){return e.comp&&("Field"===e.comp.name||"TextField"===e.comp.name)}function _(t,a){var r=s.getCompProxyClass(t).getPropDefs(a),o="compProp"===a?t.comp:t;return e.mapValues(r,function(e,t){return o[t]||e.defaultValue})}function v(e){return t.objectUtils.resolvePath(e,["comp","items","0"])}function S(t){var a=_(t,"viewProp"),r=_(t,"compProp");return e.assign({},r,a)}function O(a,r){return e.head(t.objectUtils.filter(a,function(e){return e&&e.data===r&&y(e)}))||m(d)}function h(t,a,r){var o=S(r),i=v(r),l=e.omit(S(i),"hidden"),u=e.pick(a,g),c=e.assign({},u,o,l,{componentType:s.getCompProxyClass(i).componentType,style:s.getStyle(t,i)});return c.componentType===f?n.convertViewDefPropsToFieldProps(t,c):c}function A(t,a,r){var o=s.getCompProxyClass(t),n=e.difference(e.keys(o.getPropDefs("viewProp")),r),i=e.difference(e.keys(o.getPropDefs("compProp")),r);e.assign(t,e.pick(a,n)),e.assign(t.comp,e.pick(a,i))}function E(t,a,r,n){var i=o.getItemView(t,a,n);if(!i)return null;return h(t,function(t,a,r){var n=o.getType(t,a)||m(u);return e.find(n.fields,{name:r})||m(c)}(t,a,r),O(i,r))}return{getField:E,getAll:function(a,r,n){var i=o.getItemView(a,r,n);if(!i)return null;var s=o.getType(a,r)||m(u),l=e.map(s.fields,"name"),c=t.objectUtils.filter(i,function(t){return t&&e.includes(l,t.data)&&y(t)}),d=e.map(c,function(t){var r=e.find(s.fields,{name:t.data});return h(a,r,t)});return e.sortBy(d,function(e){return l.indexOf(e.name)})},set:function(a,s,c,d,g){var _=d.name||m(p),S=E(a,c,_,g),h=e.omitBy(d,function(t,a){return e.isEqual(t,S[a])});S.componentType===f&&(h=n.convertFieldPropsToViewDefProps(h,S));var C=o.getItemView(a,c,g)||m(l),P=O(C,_),R=o.getType(a,c)||m(u);A(P,h,["layout","style"]);var I=v(P);A(I,h,["hidden","style"]),e.isUndefined(h.style)||(I.comp.style=h.style);var D,T,w=(D=C,T=_,t.objectUtils.findPath(D,function(e){return e&&e.data===T&&y(e)}));r.setValueInView(a,R.name,C.name,w,P,g),i.updateAppPart2MinWidth(a,s,h,C),o.markDataAsUpdated(a,c)}}}),define("documentServices/wixapps/services/appBuilder",["lodash","documentServices/saveAPI/lib/saveRunner","documentServices/wixapps/utils/pathUtils","documentServices/wixapps/services/savePublish","documentServices/bi/bi"],function(e,t,a,r,o){"use strict";var n={primaryTask:r,secondaryTasks:[]};return{reload:function(t){t.dal.full.removeByPath(a.getAppbuilderPath());var o=[];e.forEach(a.getAppbuilderMetadataPath("requestedPartNames"),function(e){var a="requestedPartNames"!==e?{}:[];o=o.concat(e),t.dal.full.setByPath(o,a)}),t.dal.takeSnapshot(r.getTaskName())},save:function(a,r,i,s){a.setOperationsQueue.flushQueueAndExecute(function(){var l,u=[n,a.dal,r,i,(l=a,{event:e.partial(o.event,l),error:e.partial(o.error,l)})];s?t.runFullSaveTasks.apply(t,u):t.runPartialSaveTasks.apply(t,u)})}}}),define("documentServices/wixapps/utils/blogPaginationCustomizationsGetter",["lodash","utils"],function(e,t){"use strict";var a={};return a[t.blogAppPartNames.FEED]=["MasonryPage","MediaBottomPage","MediaLeftPage","MediaRightPage","MediaTopPage","MediaZigzagPage"],a[t.blogAppPartNames.CUSTOM_FEED]=["Masonry","MediaBottom","MediaLeft","MediaRight","MediaTop","MediaZigzag"],{getBlogPaginationCustomizationsByAppPartName:function(t){return e.map(a[t],function(e){return{type:"AppPartCustomization",forType:"Array",format:"*",view:e,fieldId:"vars",key:"pageNavigationType",value:"pagination"}})}}}),define("documentServices/wixapps/utils/blogPageJsonGetter",["documentServices/page/page","documentServices/wixapps/utils/blogPaginationCustomizationsGetter","utils","lodash"],function(e,t,a,r){"use strict";return{getBlogFeedPageJson:function(t,a,r){var n=o(r);return{type:"Page",components:a.map(n),skin:"wysiwyg.viewer.skins.page.BasicPageSkin",layout:{width:980,height:968,x:0,y:0,scale:1,rotationInDegrees:0,anchors:[],fixedPosition:!1},componentType:"wixapps.integration.components.AppPage",data:{type:"AppPage",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},title:"Blog",hideTitle:!0,icon:"",descriptionSEO:"",metaKeywordsSEO:"",pageTitleSEO:"",pageUriSEO:"blog",hidePage:!1,underConstruction:!1,tpaApplicationId:0,pageSecurity:{requireLogin:!1},indexable:!0,isLandingPage:!1,pageBackgrounds:e.serializePage(t,t.siteAPI.getPrimaryPageId()).data.pageBackgrounds,appPageId:"79f391eb-7dfc-4adf-be6e-64434c4838d9",appPageType:"AppPage",appInnerID:r.toString(),repeaterPage:!1},style:"p2"}},getSinglePostPageJson:function(t,a,r){var n=o(r);return{type:"Page",components:a.map(n),skin:"wysiwyg.viewer.skins.page.BasicPageSkin",layout:{width:980,height:895,x:0,y:0,scale:1,rotationInDegrees:0,anchors:[],fixedPosition:!1},componentType:"wixapps.integration.components.AppPage",data:{type:"AppPage",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},title:"Single Post",hideTitle:!0,descriptionSEO:"",metaKeywordsSEO:"",pageTitleSEO:"",pageUriSEO:"single-post",hidePage:!0,mobileHidePage:!0,underConstruction:!1,tpaApplicationId:0,pageSecurity:{requireLogin:!1,passwordDigest:""},indexable:!0,isLandingPage:!1,pageBackgrounds:e.serializePage(t,t.siteAPI.getPrimaryPageId()).data.pageBackgrounds,appPageId:"7326bfbb-4b10-4a8e-84c1-73f776051e10",appPageType:"AppPage",appInnerID:r.toString(),repeaterPage:!0},style:"p2"}},blogComponentBuilder:o};function o(e){return function t(a){var o=function(t){if("wixapps.integration.components.AppPart"===t.componentType)return a=t,r.merge(a,{data:{appInnerID:e.toString()}});var a;return t}(a);return r.isArray(a.components)&&(o.components=a.components.map(t)),o}}}),define("documentServices/wixapps/utils/getBlogNewSocialShareButtonsCustomizationForView",[],function(){"use strict";return function(e){return{fieldId:"vars",forType:"Post",format:"*",key:"shouldUseNewSocialShareButtons",type:"AppPartCustomization",value:!0,view:e}}}),define("documentServices/wixapps/utils/blogFeedAndCustomFeedPaginationChecker",["documentServices/dataModel/dataModel","documentServices/wixapps/utils/classicsPathUtils","lodash","utils","wixappsClassics"],function(e,t,a,r,o){"use strict";var n=r.blogAppPartNames,i=o.numberOfPostsPerPageGetter;return{blogFeedOrCustomFeedHasPagination:function(r,o){var s=e.getDataItem(r,o);switch(s.appPartName){case n.FEED:return function(e,r){var o=t.getAppPartExtraDataPath("blog",r.id),n=e.dal.getByPath(o);return a.get(n,"totalCount")>10}(r,s);case n.CUSTOM_FEED:return function(e,r){var o=t.getAppPartDataPath("blog",r.id),n=e.dal.getByPath(o),s=i.getNumberOfPostsPerPage(r);return a.get(n,"length")>s}(r,s)}}}}),define("documentServices/wixapps/services/classics",["lodash","utils","wixappsCore","wixappsClassics","documentServices/dataModel/dataModel","documentServices/constants/constants","documentServices/siteMetadata/clientSpecMap","documentServices/siteMetadata/siteMetadata","documentServices/tpa/services/provisionService","documentServices/wixapps/utils/blogPageJsonGetter","documentServices/wixapps/utils/blogPaginationCustomizationsGetter","documentServices/wixapps/utils/classicsPathUtils","documentServices/wixapps/utils/getBlogNewSocialShareButtonsCustomizationForView","documentServices/componentDetectorAPI/componentDetectorAPI","documentServices/component/component","documentServices/page/page","documentServices/page/pageData","documentServices/hooks/hooks","documentServices/wixapps/utils/blogFeedAndCustomFeedPaginationChecker","documentServices/wixapps/utils/classicsUtils","documentServices/wixapps/services/blogUtils","experiment"],function(e,t,a,r,o,n,i,s,l,u,c,d,p,g,f,m,y,_,v,S,O,h){"use strict";var A=a.FunctionLibrary,E=t.blogAppPartNames,C=a.expression;function P(t,a){var r=t.pointers.general.getClientSpecMap(),o=t.dal.get(r),n=e.findLast(o,{packageName:a});return n?""+n.applicationId:null}function R(e,t,a,r){var o=N.getApplicationId(e,t);o?r({applicationId:o}):D(e)?l.provisionAppAfterSave(e,a,r):l.provisionAppBeforeSave(e,a,r),F(e,"true")}function I(e,t,a,r,o,n){var i=N.getApplicationId(e,t);i?o({applicationId:i}):D(e)?l.provisionAppFromSourceTemplate(e,a,r,o,n):n({success:!1}),F(e,"true")}function D(e){return!s.generalInfo.isFirstSave(e)}function T(t){t.setOperationsQueue.runSetOperation(function(){var a=function(t){var a=m.getPagesDataItems(t);return e(a).compact().reject({appPageType:"AppPage"}).value()}(t);e.forEach(a,function(a){var r=m.getPage(t,a.id),o=g.getComponentByType(t,"wixapps.integration.components.AppPart",r);e(o).union(g.getComponentByType(t,"wysiwyg.common.components.rssbutton.viewer.RSSButton",r)).forEach(function(e){f.remove(t,e)})});var r=m.getPage(t,"masterPage"),o=g.getComponentByType(t,"wixapps.integration.components.AppPart",r);e(o).union(g.getComponentByType(t,"wysiwyg.common.components.rssbutton.viewer.RSSButton",r)).forEach(function(e){f.remove(t,e)}),F(t,"false")})}function w(t,a){var r=o.getDataItem(t,a),n=[E.FEED,E.SINGLE_POST];if(h.isOpen("sv_blogHeroImage")&&n.push(E.HERO_IMAGE),h.isOpen("sv_blogStudioExperiment")&&e.pull(n,E.HERO_IMAGE),e.includes(n,r.appPartName))return!1}function b(t,a,r){var o=e.isString(a)?S.getDescriptor(t,a):a;return e.find(o.viewDescriptions,{id:r}).comps.filter(function(e){return void 0===e.experiment||e.experiment.value==={}[e.experiment.name]})}function L(t,a,r){return t.views.filter(function(t){var o=e.isArray(t.name)?t.name:[t.name];return e.includes(o,a)&&e.includes([t.format||"","*"],r)})}function M(t,a,r,o,n){var i=S.getDescriptor(t,a),s=e(L(i,r,o)).map(function(t){return e.map(t.customizations,function(a){return e.merge({},a,{view:r,forType:a.forType||t.forType,format:a.format||o})})}).flattenDeep().filter(function(e){return n?e.panelType===n:e}).value();return"design"!==n?s:s.concat((l=t,u=i,c=r,d=o,e.flattenDeep(b(l,u,c).map(function(t){return t.hasNoStyleCustomization||!e.isUndefined(t.format)&&t.format!==d?[]:t.rules?e(t.rules).filter(function(t){return""===d||e.isUndefined(t.format)||t.format===d}).map(function(e){return{fieldId:e.fieldId,forType:e.forType,format:d,key:"comp.style",view:e.view}}).value():[{fieldId:t.compId||t.id,forType:"Post",format:d,key:"comp.style",view:c}]}))));var l,u,c,d}function B(t){if(void 0===t||e.includes([t.view,t.forType,t.format,t.fieldId,t.key],void 0))throw new Error("illegal rule")}function V(t,a,r){return B(r),e.find(a,function(t){return o=r,((a=t).format===o.format||"*"===o.format&&e.isUndefined(a.format))&&["fieldId","forType","key","view"].every(function(e){return a[e]===o[e]});var a,o})}function x(t,a,r){var o=void 0;return L(S.getDescriptor(t,a),r.view,r.format).some(function(t){return"vars"===r.fieldId?void 0!==(o=t.vars&&t.vars[r.key]):void 0!==(o=function t(a,r){var o=void 0;if(a.id===r.fieldId&&void 0!==(o=e.get(a,r.key)))return o;if(void 0!==a.comp)return e([a.comp.items,e.values(a.comp.cases),e.values(a.comp.templates)]).flattenDeep().compact().some(function(e){return void 0!==(o=t(e,r))}),o}(t,r))}),o}function F(t,a){for(var r=t.pointers.page.getPageData("masterPage"),o=["appVars_61f33d50-3002-4882-ae86-d319c1a249ab","vars","applicationActiveState"];!e.isEmpty(o);)r=t.pointers.getInnerPointer(r,o.splice(0,1)[0]),t.dal.isExist(r)||t.dal.set(r,{});t.dal.set(r,{type:"AppPartParam",value:a})}function k(e){return C.evaluate(function(){},e,function(){H||(H=new A);return H}())}var H=null;var N={blog:{addBlog:function(t,a,r,o,n){var i=function(a){var i=m.getPageIdToAdd(t),s=u.getBlogFeedPageJson(t,r,a.applicationId);s.data.pageUriSEO=y.getValidPageUriSEO(t,"",s.data.pageUriSEO);var l=u.getSinglePostPageJson(t,o,a.applicationId);l.data.pageUriSEO=y.getValidPageUriSEO(t,"",l.data.pageUriSEO),t.setOperationsQueue.runSetOperation(m.add,[t,i,"Blog",s],{isUpdatingAnchors:!0}),t.setOperationsQueue.runSetOperation(m.add,[t,m.getPageIdToAdd(t),"Single Post",l],{isUpdatingAnchors:!0}),e.isFunction(n)&&n(i.id)};a?I(t,"blog","61f33d50-3002-4882-ae86-d319c1a249ab",a,function(){l.provisionAppAfterSave(t,"61f33d50-3002-4882-ae86-d319c1a249ab",i)}):R(t,"blog","61f33d50-3002-4882-ae86-d319c1a249ab",i)},deleteAllAppParts:T,getBlogSinglePostPageData:function(t){var a=m.getPageIdList(t),r=void 0;return e.forEach(a,function(e){N.blog.isSinglePost(t,e)&&(r=y.getPageData(t,e))}),r},isFeed:O.isFeed,isSinglePost:O.isSinglePost,replaceBlogPages:function(t,a,r,o){var n=t.pointers.page.getNonDeletedPagesPointers(),i=e(n).chain().find(function(e){return O.isSinglePost(t,e.id)}).thru(t.pointers.components.getDesktopPointer).value(),s=o||e(n).chain().find(function(e){return O.isFeed(t,e.id)}).thru(t.pointers.components.getDesktopPointer).value(),l=e(i.id).thru(t.pointers.data.getDataItem).thru(t.dal.get).get("appInnerID"),c=u.blogComponentBuilder(l);return d(i,r.map(c)),d(s,a.map(c));function d(e,a){var r=[];return t.pointers.components.getChildren(e).forEach(function(e){t.setOperationsQueue.runSetOperation(f.remove,[t,e],{isUpdatingAnchors:!0})}),a.forEach(function(a){var o=f.getComponentToAddRef(t,e,a);r.push(o),t.setOperationsQueue.runSetOperation(f.add,[t,o,e,a],{isUpdatingAnchors:!0})}),r}}},blogFeedOrCustomFeedHasPagination:v.blogFeedOrCustomFeedHasPagination,canDeleteComp:w,findCustomizationDefaultValueFromDescriptor:function(t,a,r){B(r);var o=void 0;return[function(t,a,r){var o=S.getDescriptor(t,a).customizations,n=V(0,o,r)||V(0,o,e.merge({},r,{format:"*"}));return n&&n.value},x,function(t,a,r){var o=M(t,a,r.view,r.format),n=e.find(o,{fieldId:r.fieldId,key:r.key});if(void 0!==n)return n.input.defaultVal}].some(function(e){return void 0!==(o=e(t,a,r))}),C.isExpression(o)?k(o.$expr):o},findCustomizationOverride:V,getAllAppPartComps:function(t,a){var r=a&&P(t,a);return e.isNull(r)?[]:g.getComponentByType(t,"wixapps.integration.components.AppPart").map(function(e){return o.getDataItem(t,e)}).filter(function(e){return e.appInnerID===r||!r})},getApplicationId:P,getAppPartExtraData:function(e,t){var a=e.dal.get(t).dataQuery.replace("#","")+"_extraData",r=d.getAppPartDataPath("blog",a);return e.dal.getByPath(r)},getAppPartRole:S.getAppPartRole,getAppPartViewFieldKeyValue:function(t,r,n,i,s,l){var u=o.getDataItem(t,r),c=S.getDescriptor(t,S.getPackageName(t,u.appInnerID)),d=a[h.isOpen("wixappsViewsCaching")?"memoizedViewsUtils":"viewsUtils"].findViewInDescriptorByNameTypeAndFormat(c,u.viewName,n,i),p=e.cloneDeep(d);p.name=u.viewName,a.viewsCustomizer.customizeView(p,c.customizations,u.appLogicCustomizations);var g=void 0;"vars"===s?g=p.vars[l]:a.viewsUtils.traverseViews(p,function(t){if(t.id===s)return g=e.get(t,l),!1});var f=C.isExpression(g)?k(g.$expr):g;if(void 0!==f)return f.toString()},getAvailableCustomizations:M,getAvailableViewNames:function(e,t,a){return S.getAppPartDefinition(e,t,a).views},getBlogCategories:function(t,a){var r=d.getCategoriesPath("blog"),o=t.dal.getByPath(r)||[],n=[];e.forEach(o,function(t){n.push({name:t.name}),e.forEach(t.subcategories,function(e){n.push({isSubcategory:!0,name:e.name})})}),a&&!e.find(n,{name:a})&&n.unshift({name:a});return n},getBlogInstanceId:function(e){return(t=e,i.getAppData(t,P(t,"blog"))).datastoreId;var t},getBlogNewSocialShareButtonsCustomizationForView:function(e,t){return p(t)},getBlogPaginationCustomizationsByAppPartName:function(e,t){return c.getBlogPaginationCustomizationsByAppPartName(t)},getComponentTypeByProxyName:function(e,t){return r.componentTypeUtil.getComponentTypeByProxyName(t)},getDataStoreId:function(e,t){return i.getAppData(e,P(e,t)).datastoreId},getInnerComps:b,getPackageName:S.getPackageName,getSinglePostId:function(e,t){var a=d.getAppPartDataPath("blog",t),r=e.dal.getByPath(a);return r?r[1]:""},getStyleCustomizations:function(t,a,r,o){var n=S.getDescriptor(t,a);return e.filter(n.customizations,function(e){return!("comp.style"!==e.key||void 0!==r&&e.fieldId!==r||void 0!==o&&e.view!==o)})},getTagNames:function(e){var t=d.getBlogTagNamesPath();return e.dal.getByPath(t)},getUserId:function(){return""},invalidateComponentViewCache:function(e,t){e.setOperationsQueue.waitForChangesApplied(function(){r.viewCacheUtils.removeComponentViewDefs(t)})},isBlogPage:O.isBlogPage,isRTLAllowed:function(e,t,a){return S.getAppPartDefinition(e,t,a).allowRtl},loadTagNames:function(){return[]},provision:R,provisionFromTemplate:I,registerHooks:function(){_.registerHook(_.HOOKS.REMOVE.AFTER,T,"wixapps.integration.components.AppPage"),_.registerHook(_.HOOKS.REMOVE.IS_OPERATION_ALLOWED,w,"wixapps.integration.components.AppPart"),_.registerHook(_.HOOKS.DUPLICATE.IS_OPERATION_ALLOWED,w,"wixapps.integration.components.AppPart")},reloadApp:function(t,a){if(e.size(N.getAllAppPartComps(t,a))>0){var r=d.getPackageDescriptorPath(a),o=t.dal.getByPath(r),n=d.getPackagePath(a);t.dal.full.setByPath(n,{}),t.dal.full.setByPath(r,o),"blog"===a&&N.loadTagNames(t)}},styleMapping:{fontClassToStyle:function(e,t){return a.styleMapping.fontClassToStyle(t)},styleToFontClass:function(e,t){return a.styleMapping.styleToFontClass(t)}}};return N}),define("documentServices/wixapps/services/clientSpecMap",["lodash","documentServices/siteMetadata/clientSpecMap"],function(e,t){"use strict";function a(a){return e.head(t.filterAppsDataByType(a,"appbuilder"))}return{getInstanceId:function(e){return a(e).instanceId},getApplicationId:function(e){return a(e).applicationId}}}),define("documentServices/wixapps/services/listsLayout",["lodash","utils","documentServices/wixapps/services/types","documentServices/wixapps/services/views","documentServices/wixapps/services/lists","documentServices/theme/theme","wixappsCore","documentServices/wixapps/utils/richTextFieldLayoutUtils","documentServices/wixapps/utils/appPart2LayoutUtils","documentServices/wixapps/utils/proxyUtils"],function(e,t,a,r,o,n,i,s,l,u){"use strict";var c=["comp","name"],d=["comp","hidden"],p=["comp","hidePagination"],g=["comp","itemsPerPage"],f=["comp","style"],m=["vars","itemSpacing"],y={itemSpacing:function(){return m},hidePagination:function(e){return _(e).concat(p)},itemsPerPage:function(e){return _(e).concat(g)},hideSeparator:function(e){return v(e).concat(d)},separatorStyle:function(e){return v(e).concat(f)}};function _(a){return t.objectUtils.findPath(a,function(t){return"PaginatedList"===e.get(t,c)})}function v(a){return t.objectUtils.findPath(a,function(t){return"HorizontalLine"===e.get(t,c)})}return{get:function(t,a,n){var s=o.getListDef(t,a).viewName,l=r.getView(t,"Array",s,n),c=v(l),d=e.get(l,c);return{itemSpacing:i.convertStringToPrimitive(e.get(l,y.itemSpacing(l))),hidePagination:i.convertStringToPrimitive(e.get(l,y.hidePagination(l))),itemsPerPage:i.convertStringToPrimitive(e.get(l,y.itemsPerPage(l))),hideSeparator:i.convertStringToPrimitive(e.get(l,y.hideSeparator(l)))||!1,separatorStyle:u.getStyle(t,d),separatorComponentType:u.getCompProxyClass(d).componentType}},set:function(t,a,n,i){var s=o.getListDef(t,a).viewName,l=r.getView(t,"Array",s,i);e(y).pick(e.keys(n)).forEach(function(e,a){r.setValueInView(t,"Array",s,e(l),n[a].toString(),i)}),o.markDataAsUpdated(t,a)}}}),define("documentServices/wixapps/utils/appPart2ComponentHooks",["lodash","documentServices/wixapps/utils/pathUtils","documentServices/hooks/hooks","documentServices/dataModel/dataModel","documentServices/wixapps/services/listTemplates","documentServices/wixapps/services/lists","documentServices/wixapps/services/clientSpecMap"],function(e,t,a,r,o,n,i){"use strict";var s="wixapps.integration.components.AppPart2",l="template";function u(e,a,n){var s=o.createListFromTemplate(e,n.custom[l]),u=i.getApplicationId(e);return e.dal.full.pushByPath(t.getAppbuilderMetadataPath("requestedPartNames"),s),e.dal.full.setByPath(t.getAppPart2MetadataPath(s),{loading:!1}),r.updateDataItem(e,a,{appPartName:s,appInnerID:u}),{success:!0,description:"New list was added with id ["+s+"]"}}function c(t,a,n){var i=r.getDataItem(t,a);return e.isEmpty(i)?{success:!0,description:"compData is empty"}:(n[l]=o.generateTemplate(t,i.appPartName),{success:!0,description:"Added template to the custom component structure"})}function d(a,r,o,i,s,l){if("MOBILE"===r.type)return{success:!0,description:"Skipped deleting part views when deleting mobile component"};var u=l.appPartName,c=n.getListDef(a,u);if(!c)return{success:!0,description:"Missing Part definition: views were not deleted"};var d=a.dal.getByPath(t.getBaseViewsPath());return e(d).pickBy({name:c.viewName}).forEach(function(e,r){a.dal.full.removeByPath(t.getViewPath(r))}),{success:!0,description:"Deleted Part views"}}return{registerHooks:function(){a.registerHook(a.HOOKS.ADD.AFTER,u,s),a.registerHook(a.HOOKS.SERIALIZE.SET_CUSTOM,c,s),a.registerHook(a.HOOKS.REMOVE.AFTER,d,s)},afterDeleteList:d}}),define("documentServices/wixapps/utils/blogPaginationSwitch",["lodash","documentServices/componentDetectorAPI/componentDetectorAPI","documentServices/dataModel/dataModel","documentServices/siteMetadata/siteMetadata","documentServices/wixapps/utils/blogPaginationCustomizationsGetter","utils"],function(e,t,a,r,o,n){"use strict";return{switchOnBlogPaginationIfSiteIsNew:function(e){t=e,r.generalInfo.isFirstSave(t)&&(i(e,n.blogAppPartNames.FEED),i(e,n.blogAppPartNames.CUSTOM_FEED));var t}};function i(r,o){e.forEach(function(r,o){return e.filter((n=r,t.getComponentByType(n,"wixapps.integration.components.AppPart")),function(e){var t=a.getDataItem(r,e);return t.appPartName===o});var n}(r,o),e.partial(s,r,o))}function s(e,t,r){var n=a.getDataItem(e,r);n.appLogicCustomizations=n.appLogicCustomizations.concat(o.getBlogPaginationCustomizationsByAppPartName(t)),a.updateDataItem(e,r,n)}}),define("documentServices/wixapps/utils/useNewBlogSocialShareButtons",["documentServices/componentDetectorAPI/componentDetectorAPI","documentServices/dataModel/dataModel","documentServices/wixapps/utils/getBlogNewSocialShareButtonsCustomizationForView","lodash","utils"],function(e,t,a,r,o){"use strict";return function(n){r(e.getComponentByType(n,"wixapps.integration.components.AppPart")).filter(function(e){var a=t.getDataItem(n,e);return a.appPartName===o.blogAppPartNames.SINGLE_POST}).forEach(function(e){var r=t.getDataItem(n,e),o=a(r.viewName);r.appLogicCustomizations.push(o),t.updateDataItem(n,e,r)})}}),define("documentServices/wixapps/utils/initializer",["documentServices/siteMetadata/siteMetadata","documentServices/wixapps/utils/appPart2ComponentHooks","documentServices/wixapps/utils/blogPaginationSwitch","documentServices/wixapps/utils/pathUtils","documentServices/wixapps/utils/useNewBlogSocialShareButtons"],function(e,t,a,r,o){"use strict";return{initialize:function(n){r.initBasePaths(n),t.registerHooks(),a.switchOnBlogPaginationIfSiteIsNew(n),e.generalInfo.isFirstSave(n)&&o(n)}}}),define("documentServices/wixapps/utils/repoFixer",["lodash","documentServices/component/component","documentServices/componentDetectorAPI/componentDetectorAPI","documentServices/wixapps/utils/pathUtils","documentServices/wixapps/services/appBuilder"],function(e,t,a,r,o){"use strict";return{cleanRepoViews:function(n,i,s){var l=n.dal.full.getByPath(r.getRepoPath()),u=e(l.parts).pick(function(r){var o=a.getAllComponents(r,null,function(e){return"wixapps.integration.components.AppPart2"===t.getType(r,e)});return e.map(o,function(e){return t.data.get(r,e).appPartName})}(n)).map("viewName").transform(function(t,a){var r=e.pickBy(l.views,{name:a});return e.assign(t,r)},{}).value();e.keys(u).length!==e.keys(l.views).length?(n.dal.full.removeByPath(r.getBaseViewsPath()),n.dal.full.setByPath(r.getBaseViewsPath(),u),o.save(n,i,s)):i&&i()}}}),define("documentServices/wixapps/utils/migration/textFieldMigration",["lodash","wixappsCore"],function(e,t){"use strict";var a=["color","backgroundColor","bold","italic","lineThrough","underline","fontSize","line-height","fontFamily"],r="comp.items.0.layout".split(".");function o(t){return function(t){var r=e.get(t,"comp.items[0].comp");e.forEach(a,function(e){delete r[e]})}(t),function(t){var a=e.get(t,r);a&&delete a["text-align"]}(t),t}return{compPropsToRemove:a,migrate:function(a,n,i,s){var l=e.get(a,r.concat("text-align")),u=l?"text-align:"+l:"";return{data:e.mapValues(i,function(r){return e.mapValues(r,function(r){var o,n,i,l,c=(o=e.get(a,"comp.items[0]"),n=r,i=s,l=u,t.richTextUtils.getDataWithDefaultStyleForRichText(e.partialRight(t.viewsUtils.getCompProp,o),n,void 0,i,l));return e.defaults({text:c},r)})}),viewDef:o(a),mobileViewDef:o(n)}}}}),define("documentServices/wixapps/utils/migrationUtils",["lodash","wixappsCore","utils","documentServices/wixapps/utils/migration/textFieldMigration","documentServices/wixapps/utils/pathUtils","documentServices/wixapps/services/items","documentServices/wixapps/services/views","documentServices/wixapps/services/lists"],function(e,t,a,r,o,n,i,s){"use strict";var l={"wix:RichText":r};function u(a){var r={};return t.viewsUtils.traverseViews(a,function(t){var a=e.get(t,"comp.name");"TextField"!==a&&"Field"!==a||(r[t.data]=t)}),r}function c(e,t){return a.objectUtils.findPath(e,function(e){return e&&e.data===t})}function d(t,a,r,o,n){var i=u(t),s=u(a),d=e(o).filter(function(t){return e.has(l,t.type)}).groupBy("type").value(),p=e.map(d,function(t,a){return e.map(t,function(t){var o=t.name,u=i[o],c=s[t.name],d=e.mapValues(r,function(t){return e.pick(t,o)});return{fieldName:o,result:l[a].migrate(u,c,d,n)}})});return e(p).flatten().reduce(function(t,a){var r=c(t.viewDef,a.fieldName),o=c(t.mobileViewDef,a.fieldName);return{viewDef:e.set(t.viewDef,r,a.result.viewDef),mobileViewDef:e.set(t.mobileViewDef,o,a.result.mobileViewDef),items:e.defaultsDeep(a.result.data,t.items)}},{viewDef:t,mobileViewDef:a,items:r})}return{migrate:d,migrateList:function(e,t){var a=s.getItemView(e,t),r=s.getItemView(e,t,"Mobile"),o=s.getType(e,t),l=n.getAllItemsOfType(e,o.name),u=s.getVersion(e,t),c=d(a,r,l,o.fields,u);i.setValueInView(e,o.name,a.name,[],c.viewDef),i.setValueInView(e,o.name,a.name,[],c.mobileViewDef,"Mobile"),n.setAllItemsOfType(e,o.name,c.items)}}}),define("documentServices/wixapps/wixapps",["documentServices/utils/publicMethodUtils","lodash","documentServices/wixapps/services/items","documentServices/wixapps/services/types","documentServices/wixapps/services/lists","documentServices/wixapps/services/selection","documentServices/wixapps/services/listTemplates","documentServices/wixapps/services/fieldsLayout","documentServices/wixapps/services/appBuilder","documentServices/wixapps/services/classics","documentServices/wixapps/services/clientSpecMap","documentServices/wixapps/services/savePublish","documentServices/wixapps/services/listsLayout","documentServices/wixapps/services/metadata","documentServices/wixapps/utils/initializer","documentServices/wixapps/utils/repoFixer","documentServices/wixapps/utils/migrationUtils","documentServices/wixapps/services/blogUtils"],function(e,t,a,r,o,n,i,s,l,u,c,d,p,g,f,m,y,_){"use strict";return{methods:{wixapps:{classics:{forceUpdate:e.defineDataManipulationMethod(function(){}),invalidateComponentViewCache:e.defineMethod(u.invalidateComponentViewCache),getAllAppPartComps:e.defineMethod(u.getAllAppPartComps),getPackageName:e.defineMethod(u.getPackageName),getDataStoreId:e.defineMethod(u.getDataStoreId),provision:e.defineMethod(u.provision),account:{getApplicationId:e.defineMethod(u.getApplicationId),getBlogInstanceId:e.defineMethod(u.getBlogInstanceId),getUserId:e.defineMethod(u.getUserId)},reloadApp:e.defineDataManipulationMethod(u.reloadApp),registerHooks:e.defineDataManipulationMethod(u.registerHooks),isBlogPage:e.defineMethod(_.isBlogPage),getAvailableViewNames:e.defineMethod(u.getAvailableViewNames),isRTLAllowed:e.defineMethod(u.isRTLAllowed),getAvailableCustomizations:e.defineMethod(u.getAvailableCustomizations),getInnerComps:e.defineMethod(u.getInnerComps),findCustomizationDefaultValueFromDescriptor:e.defineMethod(u.findCustomizationDefaultValueFromDescriptor),findCustomizationOverride:e.defineMethod(u.findCustomizationOverride),getStyleCustomizations:e.defineMethod(u.getStyleCustomizations),getAppPartRole:e.defineMethod(u.getAppPartRole),getComponentTypeByProxyName:e.defineMethod(u.getComponentTypeByProxyName),loadTagNames:e.defineMethod(u.loadTagNames),getTagNames:e.defineMethod(u.getTagNames),styleMapping:{styleToFontClass:e.defineMethod(u.styleMapping.styleToFontClass),fontClassToStyle:e.defineMethod(u.styleMapping.fontClassToStyle)},getBlogCategories:e.defineMethod(u.getBlogCategories),getAppPartViewFieldKeyValue:e.defineMethod(u.getAppPartViewFieldKeyValue),getSinglePostId:e.defineMethod(u.getSinglePostId),getBlogPaginationCustomizationsByAppPartName:e.defineMethod(u.getBlogPaginationCustomizationsByAppPartName),blog:{addBlog:e.defineMethod(u.blog.addBlog),replaceBlogPages:e.defineMethod(u.blog.replaceBlogPages),isSinglePost:e.defineMethod(u.blog.isSinglePost),isFeed:e.defineMethod(u.blog.isFeed),getBlogSinglePostPageData:e.defineMethod(u.blog.getBlogSinglePostPageData),deleteAllAppParts:e.defineMethod(u.blog.deleteAllAppParts)},blogFeedOrCustomFeedHasPagination:e.defineMethod(u.blogFeedOrCustomFeedHasPagination),getBlogNewSocialShareButtonsCustomizationForView:e.defineMethod(u.getBlogNewSocialShareButtonsCustomizationForView),getAppPartExtraData:e.defineMethod(u.getAppPartExtraData)},appbuilder:{metadata:{wasPartLoadedSuccessfully:e.defineMethod(g.wasPartLoadedSuccessfully),wasRepoLoadedSuccessfully:e.defineMethod(g.wasRepoLoadedSuccessfully)},reload:e.defineDataManipulationMethod(l.reload),save:e.defineMethod(l.save),account:{getInstanceId:e.defineMethod(c.getInstanceId)},layout:{setItemTemplate:e.defineDataManipulationMethod(i.setItemViewFromTemplate),getAllFields:e.defineMethod(s.getAll),getField:e.defineMethod(s.getField),setField:e.defineDataManipulationMethod(s.set),getListLayout:e.defineMethod(p.get),setListLayout:e.defineDataManipulationMethod(p.set)},data:{markDataAsUpdated:e.defineDataManipulationMethod(o.markDataAsUpdated),items:{create:e.defineMethod(a.createItem),update:e.defineMethod(a.updateItem),delete:e.defineMethod(a.deleteItem),restore:e.defineMethod(a.restoreItem),publish:e.defineMethod(t.noop)},lists:{selection:{get:e.defineMethod(o.getSelector),setManual:e.defineMethod(o.setManualSelector)},getItemSchema:e.defineMethod(o.getType),getDatabaseId:e.defineMethod(o.getTypeName),publish:e.defineMethod(t.noop),getListName:e.defineMethod(o.getDisplayName),getListVersion:e.defineMethod(o.getVersion),rename:e.defineDataManipulationMethod(o.rename),getItems:e.defineMethod(o.getItems),getHiddenItems:e.defineMethod(o.getHiddenItems),generateTemplate:e.defineMethod(i.generateTemplate),createFromTemplate:e.defineMethod(i.createListFromTemplate)},databases:{getItems:e.defineMethod(a.getAllItemsOfType),loadDeleted:e.defineMethod(t.noop),getSchemas:e.defineMethod(r.getAllTypes),cleanRepo:e.defineMethod(m.cleanRepoViews)}},migration:{migrateList:e.defineMethod(y.migrateList)}}}},initMethod:f.initialize}}),define("documentServices/tpa/core",["core","documentServices/tpa/services/tpaPostMessageService","documentServices/tpa/services/clientSpecMapService","documentServices/tpa/utils/tpaUtils","documentServices/tpa/services/experimentService"],function(e,t,a,r,o){"use strict";return{handlers:function(e,a,r){t.callHandler(e,a,r)},initEditor:function(e,t,r){a.setIsInDevMode(t),o.setExperiments(r)}}}),define("documentServices/tpa/tpaPublicAPI",["documentServices/utils/publicMethodUtils","lodash","documentServices/tpa/constants","documentServices/utils/utils","documentServices/component/component","documentServices/page/page","documentServices/privateServices/idGenerator","documentServices/tpa/tpa","documentServices/tpa/core"],function(e,t,a,r,o,n,i,s,l){"use strict";return{methods:{tpa:{handlers:e.defineMethod(l.handlers),initEditor:e.defineMethod(l.initEditor),isTpaByCompType:e.defineMethod(s.isTpaByCompType),isPageMarkedAsHideFromMenu:e.defineMethod(s.isPageMarkedAsHideFromMenu),isContainerContainsPremiumTpa:e.defineMethod(s.isContainerContainsPremiumTpa),getPremiumTpaChildren:e.defineMethod(s.getPremiumTpaChildren),getTpaPointersRecursive:e.defineMethod(s.getTpaPointersRecursive),getPremiumTpaChildrenOnPage:e.defineMethod(s.getPremiumTpaChildrenOnPage),closePopupsAndModal:e.defineMethod(s.closePopupsAndModal),addSystemApp:e.defineDataManipulationMethod(s.addSystemApp,{isUpdatingAnchors:r.YES,isAsyncOperation:!0,asyncPreDataManipulation:s.provisionSystemApp,getReturnValue:o.getComponentToAddRef}),widget:{add:e.defineDataManipulationMethod(s.widget.add,{isUpdatingAnchors:r.YES,isAsyncOperation:!0,asyncPreDataManipulation:s.widget.provisionWidget,getReturnValue:s.getCompToAddWithOptionalCustomIdRef}),delete:e.defineDataManipulationMethod(s.widget.delete,{isUpdatingAnchors:r.YES,isAsyncOperation:!0,asyncPreDataManipulation:s.widget.notifyBeforeDelete}),getPagesToBeDeleted:e.defineMethod(s.widget.getPagesToBeDeleted),duplicate:e.defineDataManipulationMethod(s.widget.duplicate,{isUpdatingAnchors:r.YES})},section:{add:e.defineDataManipulationMethod(s.section.add,{isUpdatingAnchors:r.YES,isAsyncOperation:!0,asyncPreDataManipulation:s.section.provisionSection,getReturnValue:n.getPageIdToAdd}),addMultiSection:e.defineDataManipulationMethod(s.section.addMultiSection,{isUpdatingAnchors:r.YES,isAsyncOperation:!0,asyncPreDataManipulation:s.section.provisionMultiSection,getReturnValue:n.getPageIdToAdd}),addSubSection:e.defineDataManipulationMethod(s.section.addSubSection,{isUpdatingAnchors:r.YES,getReturnValue:n.getPageIdToAdd}),delete:e.defineDataManipulationMethod(s.section.delete,{isAsyncOperation:!0,asyncPreDataManipulation:s.section.notifyBeforeDelete,isUpdatingAnchors:r.YES}),alreadyInstalled:e.defineMethod(s.section.alreadyInstalled),isSectionInstalledByTpaPageId:e.defineMethod(s.section.isSectionInstalledByTpaPageId),getPageData:e.defineMethod(s.section.getPageData),getSectionRefByPageId:e.defineMethod(s.section.getSectionRefByPageId)},app:{add:e.defineDataManipulationMethod(s.app.add,{isUpdatingAnchors:r.YES,isAsyncOperation:!0,asyncPreDataManipulation:s.app.provisionApp}),getData:e.defineMethod(s.app.getData),getDataByAppDefId:e.defineMethod(s.app.getDataByAppDefId),isHybrid:e.defineMethod(s.app.isHybrid),isDashboardAppOnly:e.defineMethod(s.app.isDashboardAppOnly),isPremium:e.defineMethod(s.app.isPremium),hasPremiumOffering:e.defineMethod(s.app.hasPremiumOffering),isPremiumByAppDefinitionId:e.defineMethod(s.app.isPremiumByAppDefinitionId),isLastAppComp:e.defineMethod(s.app.isLastAppComp),isInstalled:e.defineMethod(s.app.isInstalled),getWidgetDataFromTPAPageId:e.defineMethod(s.app.getWidgetDataFromTPAPageId),getWidgetDataFromTPAWidgetId:e.defineMethod(s.app.getWidgetDataFromTPAWidgetId),registerOnInstalled:e.defineMethod(s.app.registerOnInstalled),registerOnDeleted:e.defineMethod(s.app.registerOnDeleted),getRenderedReactCompsByApplicationId:e.defineMethod(s.app.getRenderedReactCompsByApplicationId),getAllCompsByApplicationId:e.defineMethod(s.app.getAllCompsByApplicationId),hasSections:e.defineMethod(s.app.hasSections),getDefaultLayout:e.defineMethod(s.app.getDefaultLayout),url:{getSettingsUrl:e.defineMethod(s.app.url.getSettingsUrl),getSettingsModalUrl:e.defineMethod(s.app.url.getSettingsModalUrl)},getExtensionsWidgets:e.defineMethod(s.app.getExtensionsWidgets),getInstalledDependentAppsData:e.defineMethod(s.app.getInstalledDependentAppsData),getFirstAppCompPageId:e.defineMethod(s.app.getFirstAppCompPageId),refreshApp:e.defineDataManipulationMethod(s.app.refreshApp),isMultiSectionInstalled:e.defineMethod(s.app.isMultiSectionInstalled),getSections:e.defineMethod(s.app.getSections),isAppProvisionedOnServer:e.defineMethod(s.app.isAppProvisionedOnServer),isPermissionsRevoked:e.defineMethod(s.app.isPermissionsRevoked),getMainSectionWidgetDataFromApplicationId:e.defineMethod(s.app.getMainSectionWidgetDataFromApplicationId),getMainSectionWidgetData:e.defineMethod(s.app.getMainSectionWidgetData),getSectionsToAutoInstallWidgetData:e.defineMethod(s.app.getSectionsToAutoInstallWidgetData),hasMainSection:e.defineMethod(s.app.hasMainSection),isSuperAppByCompId:e.defineMethod(s.app.isSuperAppByCompId),hasEditorPlatformPart:e.defineMethod(s.app.hasEditorPlatformPart),isDashboardSupportedInBusinessManager:e.defineMethod(s.app.isDashboardSupportedInBusinessManager),delete:e.defineDataManipulationMethod(s.app.delete,{isAsyncOperation:!0,asyncPreDataManipulation:s.app.notifyBeforeApplicationDelete,isUpdatingAnchors:r.YES})},change:{editMode:e.defineMethod(s.change.editMode),siteSaved:e.defineMethod(s.change.siteSaved),sitePublished:e.defineMethod(s.change.sitePublished),deviceType:e.defineMethod(s.change.deviceType),register:{compLoadedHandler:e.defineMethod(s.change.register.compLoadedHandler),deleteCompHandler:e.defineMethod(s.change.register.deleteCompHandler),editModeChangeHandler:e.defineMethod(s.change.register.editModeChangeHandler),deviceTypeChangeHandler:e.defineMethod(s.change.register.deviceTypeChangeHandler),themeChangeHandler:e.defineMethod(s.change.register.themeChangeHandler),windowPlacementChangedHandler:e.defineMethod(s.change.register.windowPlacementChangedHandler),settingsUpdatedHandler:e.defineMethod(s.change.register.settingsUpdatedHandler),registerPublicDataChangedHandler:e.defineMethod(s.change.register.registerPublicDataChangedHandler),sitePublishedHandler:e.defineMethod(s.change.register.sitePublishedHandler),siteSavedHandler:e.defineMethod(s.change.register.siteSavedHandler)},trigger:{editorEvent:e.defineMethod(s.change.trigger.editorEvent),windowPlacement:e.defineMethod(s.change.trigger.windowPlacement),settingsUpdated:e.defineMethod(s.change.trigger.settingsUpdated)}},getComponentDefinition:e.defineMethod(s.getComponentDefinition),getSettingsModalParams:e.defineMethod(s.getSettingsModalParams),pending:{add:e.defineMethod(s.pending.add),dismiss:e.defineMethod(s.pending.dismiss),getPendingApps:e.defineMethod(s.pending.getPendingApps)},getPendingApps:e.defineMethod(s.getPendingApps),getPremiumPendingApps:e.defineMethod(s.getPremiumPendingApps),appMarket:{getData:e.defineMethod(s.appMarket.getData),getDataForPage:e.defineMethod(s.appMarket.getDataForPage),getDataAsync:e.defineMethod(s.appMarket.getDataAsync),getUrl:e.defineMethod(s.appMarket.getUrl),getInfoUrl:e.defineMethod(s.appMarket.getInfoUrl),getAppReviewsUrl:e.defineMethod(s.appMarket.getAppReviewsUrl),getPermissionsUrl:e.defineMethod(s.appMarket.getPermissionsUrl),getRelatedApps:e.defineMethod(s.appMarket.getRelatedApps),getPackages:e.defineMethod(s.appMarket.getPackages)},billing:{getPremiumApps:e.defineMethod(s.billing.getPremiumApps),getSiteUpgradeUrl:e.defineMethod(s.billing.getSiteUpgradeUrl),getAppUpgradeUrl:e.defineMethod(s.billing.getAppUpgradeUrl)},style:{setParamOldSDK:e.defineDataManipulationMethod(s.style.setParamOldSDK,{getReturnValue:i.getStyleIdToAdd}),setStyleParam:e.defineDataManipulationMethod(s.style.setStyleParam),mapWixParamsToCssValues:e.defineMethod(s.style.mapWixParamsToCssValues),get:e.defineMethod(s.style.get),postBackThemeData:e.defineMethod(s.style.postBackThemeData),getNameToFontsKeyMap:e.defineMethod(s.style.getNameToFontsKeyMap),getTpaColorsToSiteColors:e.defineMethod(s.style.getTpaColorsToSiteColors)},provision:{provisionAppDemoSave:e.defineDataManipulationMethod(s.onProvisionSucceeded,{isAsyncOperation:!0,asyncPreDataManipulation:s.provision.provisionAppDemoSave}),refreshAppSpecMap:e.defineMethod(s.provision.refreshAppSpecMap)},constants:s.constants,bi:{errors:s.bi.errors,sendBIEvent:e.defineMethod(s.bi.sendBIEvent)},comp:{resize:e.defineMethod(s.comp.resize),setExternalId:e.defineMethod(s.comp.setExternalId),getExternalId:e.defineMethod(s.comp.getExternalId),postMessageBackToApp:e.defineMethod(s.comp.postMessageBackToApp),isInstalled:e.defineMethod(s.comp.isInstalled),add:e.defineDataManipulationMethod(s.comp.add,{isUpdatingAnchors:r.YES,isAsyncOperation:!0,asyncPreDataManipulation:s.comp.provisionComp})},data:{set:e.defineDataManipulationMethod(s.data.set,{isUpdatingAnchors:r.DONT_CARE}),app:{get:e.defineMethod(s.data.app.get),getMulti:e.defineMethod(s.data.app.getMulti)},comp:{get:e.defineMethod(s.data.comp.get),getMulti:e.defineMethod(s.data.comp.getMulti)},remove:e.defineMethod(s.data.remove),SCOPE:s.data.SCOPE,get:e.defineMethod(s.data.get),getMulti:e.defineMethod(s.data.getMulti)},__privates:{fixEcomIfNeeded:e.defineDataManipulationMethod(s.__privates.fixEcomIfNeeded,{isUpdatingAnchors:r.YES,getReturnValue:n.getPageIdToAdd}),areDocumentServicesHandlersReady:e.defineMethod(s.__privates.areDocumentServicesHandlersReady),fixProGallery:e.defineDataManipulationMethod(s.__privates.fixProGallery)}}},initMethod:s.initialize}}),define("documentServices/bi/biPublicAPI",["documentServices/utils/publicMethodUtils","documentServices/bi/bi"],function(e,t){"use strict";return{methods:{bi:{event:e.defineMethod(t.event),error:e.defineMethod(t.error),register:e.defineMethod(t.register)}}}}),define("documentServices/renderPlugins/renderPlugins",["lodash","utils"],function(e,t){"use strict";function a(e,t,a){var r=e.pointers.general.getRenderFlag(t);e.dal.set(r,a)}return{setCompsToShowWithOpacity:function(e,t,a){var r=e.pointers.general.getRenderRealtimeConfigItem("compsToShowWithOpacity");e.dal.set(r,{opacity:a,compIds:t})},setCompsToShowOnTop:function(e,t){var a=e.pointers.general.getRenderRealtimeConfigItem("compsToShowOnTop");e.dal.set(a,t)},checkCompsToShowOnTop:function(e,a){var r=e.pointers.general.getRenderRealtimeConfigItem("compsToShowOnTop");return t.objectUtils.isDifferent(a,e.dal.get(r))},hideComp:function(e,t){var a=e.pointers,r=e.dal,o=a.components.getViewMode(t),n=a.general.getIsCompHiddenPointer(t.id,o);r.set(n,!0)},showComp:function(e,t){var a=e.pointers,r=e.dal,o=a.components.getViewMode(t),n=a.general.getIsCompHiddenPointer(t.id,o);r.isExist(n)&&r.remove(n)},isCompHidden:function(e,t){var a=e.pointers;return!!e.dal.get(a.general.getIsCompHiddenPointer(t.id,a.components.getViewMode(t)))},setCompsToHide:function(e,t){var a=e.pointers.general.getRenderRealtimeConfigItem("compsToHide_deprecated"),r=t.length>0?t[0]:"";e.dal.set(a,r)},setHideTextComponent:function(e,t){var a=e.pointers.general.getRenderRealtimeConfigItem("hideTextComponent");e.dal.set(a,t)},checkHideTextComponent:function(e,a){var r=e.pointers.general.getRenderRealtimeConfigItem("hideTextComponent");return t.objectUtils.isDifferent(a,e.dal.get(r))},allowSiteOverflow:function(e,t){a(e,"allowSiteOverflow",t)},setExtraSiteHeight:function(e,t){a(e,"extraSiteHeight",t)},setPreviewTooltipCallback:function(e,t){e.siteAPI.setPreviewTooltipCallback(t)},setErrorPagesPopUp:function(e,t){e.siteAPI.setErrorPagesPopUp(t)},setBlockingLayer:function(e,t){a(e,"blockingLayer",t)},setBlockingPopupLayer:function(e,t){a(e,"blockingPopupLayer",t)}}}),define("documentServices/renderPlugins/renderPluginsPublicApi",["documentServices/utils/publicMethodUtils","lodash","documentServices/renderPlugins/renderPlugins","documentServices/utils/utils"],function(e,t,a,r){"use strict";return{methods:{renderPlugins:{allowSiteOverflow:e.defineDataManipulationMethod(a.allowSiteOverflow),setCompsToHide:{deprecated:!0,deprecationMessage:"Please use renderPlugins.hideComp(compPointer) and renderPlugins.showComp(compPointer) instead.",methodDef:e.defineDataManipulationMethod(a.setCompsToHide)},hideComp:e.defineDataManipulationMethod(a.hideComp,{isUpdatingAnchors:r.DONT_CARE,singleComp:!0}),showComp:e.defineDataManipulationMethod(a.showComp,{isUpdatingAnchors:r.DONT_CARE,singleComp:!0}),isCompHidden:e.defineMethod(a.isCompHidden),setCompsToShowOnTop:e.defineDataManipulationMethod(a.setCompsToShowOnTop,{shouldExecOp:a.checkCompsToShowOnTop,isUpdatingAnchors:r.DONT_CARE,singleComp:!0}),setCompsToShowWithOpacity:e.defineDataManipulationMethod(a.setCompsToShowWithOpacity),setHideTextComponent:e.defineDataManipulationMethod(a.setHideTextComponent,{shouldExecOp:a.checkHideTextComponent,isUpdatingAnchors:r.DONT_CARE,singleComp:!0}),setExtraSiteHeight:e.defineDataManipulationMethod(a.setExtraSiteHeight),setPreviewTooltipCallback:e.defineDataManipulationMethod(a.setPreviewTooltipCallback),setErrorPagesPopUp:e.defineDataManipulationMethod(a.setErrorPagesPopUp),setBlockingLayer:e.defineDataManipulationMethod(a.setBlockingLayer),setBlockingPopupLayer:e.defineDataManipulationMethod(a.setBlockingPopupLayer)}}}}),define("documentServices/mobileConversion/mobileEditorSettings/mobileSettings",["lodash","documentServices/mobileConversion/mobileEditorSettings/mobileMetaDataUtils"],function(e,t){"use strict";return{initialize:function(e){t.setSiteMetaData(e,t.getSiteMetaData(e))},PRELOADER_PROPS:{COMPANEY_NAME:"companyName",LOGO_URL:"logoUrl"},enableOptimizedView:function(e,a){var r=t.getSiteMetaData(e);r.adaptiveMobileOn=a,t.setSiteMetaData(e,r)},isOptimized:function(e){return t.getSiteMetaData(e).adaptiveMobileOn},preloader:{enable:function(e,a){var r=t.getSiteMetaData(e);r.preloader.enabled=a,t.setSiteMetaData(e,r)},isEnabled:function(e){return t.getSiteMetaData(e).preloader.enabled},update:function(a,r){!function(t){var a=e.difference(e.keys(t),["companyName","logoUrl"]);if(e.some(a))throw new Error('"['+a+']" are unsupported.')}(r);var o=t.getSiteMetaData(a);o.contactInfo.companyName=e.get(r,"companyName",o.contactInfo.companyName),o.preloader.uri=e.get(r,"logoUrl",o.preloader.uri),t.setSiteMetaData(a,o)},get:function(e){var a=t.getSiteMetaData(e);return{companyName:a.contactInfo.companyName,logoUrl:a.preloader.uri}}}}}),define("documentServices/mobileConversion/mobileEditorSettings/quickActionBarItemsDataBuilder",["lodash","documentServices/mobileConversion/mobileEditorSettings/quickActionsDefinitions","coreUtils"],function(e,t,a){"use strict";var r=a.linkTypes;return{createFromSiteMetaData:function(a){return e([(s=a,e.isEmpty(s.contactInfo.phone)?null:{itemType:"phone",link:{type:r.PHONE_LINK,phoneNumber:s.contactInfo.phone},text:"Phone",icon:e.get(t.quickActionIconsData,"phone.hash"),color:e.get(t.quickActionIconsData,"phone.color")}),(i=a,e.isEmpty(i.contactInfo.email)?null:{itemType:"email",link:{type:r.EMAIL_LINK,recipient:i.contactInfo.email,subject:""},text:"Email",icon:e.get(t.quickActionIconsData,"email.hash"),color:e.get(t.quickActionIconsData,"email.color")}),(n=a,e.isEmpty(n.contactInfo.address)?null:{itemType:"address",link:{type:r.EXTERNAL_LINK,target:"_blank",url:"http://www.google.co.il/maps/search/"+encodeURI(n.contactInfo.address)},text:"Address",icon:e.get(t.quickActionIconsData,"address.hash"),color:e.get(t.quickActionIconsData,"address.color")}),(o=a,e(o.quickActions.socialLinks).filter(function(a){return e.includes(t.actionTypesMap,a.id)}).map(function(a){return{itemType:a.id,link:{type:r.EXTERNAL_LINK,target:"_blank",url:a.url},text:e.get(t.socialLinkTexts,a.id,a.id),icon:e.get(t.quickActionIconsData,a.id+".hash"),color:e.get(t.quickActionIconsData,a.id+".color")}}).value())]).flatten().compact().value();var o,n,i,s}}}),define("documentServices/mobileConversion/mobileEditorSettings/quickActionsVersionUtils",["lodash","documentServices/mobileConversion/mobileEditorSettings/quickActionBarManager","documentServices/mobileConversion/mobileEditorSettings/mobileMetaDataUtils","documentServices/mobileConversion/mobileEditorSettings/quickActionBarItemsDataBuilder","documentServices/mobileConversion/mobileEditorSettings/quickActionsDefinitions"],function(e,t,a,r,o){"use strict";return{revert:function(e){t.removeQuickActionBar(e)},upgrade:function(n){var i=a.getSiteMetaData(n),s=r.createFromSiteMetaData(i);e.isEmpty(s)&&(s=o.defaultQuickActionItems),t.addQuickActionBar(n,o.defaultSerializedMAB,s)},getVersion:function(e){return t.hasQuickActionBar(e)?2:1}}}),define("documentServices/mobileConversion/mobilePublicAPI",["documentServices/utils/publicMethodUtils","documentServices/mobileConversion/mobileActions","documentServices/mobileConversion/mobileConversionFacade","documentServices/mobileConversion/mobileEditorSettings/mobileSettings","documentServices/mobileConversion/mobileEditorSettings/quickActions","documentServices/mobileConversion/mobileEditorSettings/quickActionsVersionUtils","documentServices/mobileConversion/mobileEditorSettings/quickActionBarManager","documentServices/mobileConversion/modules/mergeAggregator","documentServices/mobileConversion/modules/mobilePresets/mobilePresetsHandler"],function(e,t,a,r,o,n,i,s,l){"use strict";return{methods:{mobile:{reLayoutPage:e.defineDataManipulationMethod(t.reLayoutPage,{noBatching:!0}),isOptimized:e.defineMethod(r.isOptimized),enableOptimizedView:e.defineDataManipulationMethod(r.enableOptimizedView),mobileOnlyComponents:{enableBackToTopButton:e.defineDataManipulationMethod(t.enableBackToTopButton),isMobileOnlyComponent:e.defineMethod(t.isMobileOnlyComponent),isMobileOnlyComponentExistOnStructure:e.defineMethod(t.isMobileOnlyComponentExistOnStructure),mobileOnlyComps:t.mobileOnlyComps,getTinyMenuDefaultPosition:e.defineMethod(t.getTinyMenuDefaultPosition)},hiddenComponents:{get:e.defineMethod(t.hiddenComponents.getFiltered),hide:e.defineDataManipulationMethod(t.hiddenComponents.hide,{isUpdatingAnchors:!0}),set:e.defineDataManipulationMethod(t.hiddenComponents.set,{noBatching:!0}),show:e.defineDataManipulationMethod(t.hiddenComponents.show,{noBatching:!0,getReturnValue:t.getMobileComponentToShow})},actionBar:{enable:e.defineDataManipulationMethod(o.enable),isEnabled:e.defineMethod(o.isEnabled),version:{get:e.defineMethod(n.getVersion),upgrade:e.defineDataManipulationMethod(n.upgrade),revert:e.defineDataManipulationMethod(n.revert)},colorScheme:{get:e.defineMethod(o.colorScheme.get),set:e.defineDataManipulationMethod(o.colorScheme.set)},actions:{enable:e.defineDataManipulationMethod(o.actions.enable),getEnabled:e.defineMethod(o.actions.getEnabled),update:e.defineDataManipulationMethod(o.actions.update),get:e.defineMethod(o.actions.get),options:o.QUICK_ACTIONS_PROPS,socialLinksOptions:o.SOCIAL_LINKS_IDS}},text:{implicitFontSize:e.defineMethod(t.implicitFontSize)},qab:{isEnabled:e.defineMethod(i.hasQuickActionBar),get:e.defineMethod(i.getQuickActionBarPointer),addAction:e.defineDataManipulationMethod(i.addAction),clearActions:e.defineDataManipulationMethod(i.clearActions),getActions:e.defineMethod(i.getActions)},preloader:{enable:e.defineDataManipulationMethod(r.preloader.enable),isEnabled:e.defineMethod(r.preloader.isEnabled),update:e.defineDataManipulationMethod(r.preloader.update),get:e.defineMethod(r.preloader.get),options:r.PRELOADER_PROPS}},mobileConversion:{syncMobileSite:e.defineDataManipulationMethod(a.syncMobileSite,{isUpdatingAnchors:!1,noBatching:!0}),resetMobileLayoutOnAllPages:e.defineDataManipulationMethod(a.runMobileConversionOnAllPages,{isUpdatingAnchors:!1,noBatching:!0}),testUtils:{getComponentsOrder:e.defineMethod(a.getComponentsOrder),getAnalyzerData:e.defineMethod(a.inspect),prepare:e.defineMethod(a.prepareForConversion),exec:e.defineMethod(a.execConversion),apply:e.defineDataManipulationMethod(a.applyConversion,{isUpdatingAnchors:!1,noBatching:!0})}}},initMethod:function(e){l.initialize(),t.initialize(e),s.initialize(e),r.initialize(e)}}}),define("documentServices/errors/errorsPublicAPI",["documentServices/utils/publicMethodUtils","documentServices/errors/errors"],function(e,t){"use strict";return{methods:{errors:t}}}),define("documentServices/layouters/layoutersPublicAPI",["documentServices/utils/publicMethodUtils","documentServices/layouters/layouters","documentServices/utils/utils"],function(e,t,a){"use strict";return{methods:{layouters:{getMasterChildren:e.defineMethod(t.getMasterChildren),getNonMasterChildren:e.defineMethod(t.getNonMasterChildren),isMasterChild:e.defineMethod(t.isMasterChild),canBeMasterChild:e.defineMethod(t.canBeMasterChild),getParentCompWithOverflowHidden:e.defineMethod(t.getParentCompWithOverflowHidden),toggleMasterChild:e.defineDataManipulationMethod(t.toggleMasterChild,{isUpdatingAnchors:a.YES})}}}}),define("documentServices/validation/validators/styleValidator",[],function(){"use strict";function e(e,t){!function(e,t){if(e){if(!t)throw new Error("There is no existing style for styleId ["+e+"]");if("object"!==(void 0===t?"undefined":_typeof(t)))throw new Error("The given style for for styleId ["+e+"] is not an object");if(!t.skin)throw new Error("The given style for for styleId ["+e+"] does not contain a skin");if(!t.type)throw new Error("The given style for for styleId ["+e+"] does not contain a type")}}(t,function(e,t){var a=e.pointers.data.getThemeItem(t.replace("#",""));return e.dal.get(a)}(e,t))}return{validateComponentStyle:function(t,a){var r,o;e(t,(o=a,(r=t).dal.get(r.pointers.getInnerPointer(o,"styleId"))))},validateStyleById:e}}),define("documentServices/theme/skins/deprecatedSkinsByComponentType",[],function(){"use strict";return{"core.components.Container":["wysiwyg.viewer.skins.area.ForkedRightRibbon","wysiwyg.viewer.skins.area.CustomRibbonArea","wysiwyg.viewer.skins.area.LinesAreaSkin","wysiwyg.viewer.skins.area.RoundArea","wysiwyg.viewer.skins.area.RoundShadowArea","wysiwyg.viewer.skins.area.BlankAreaSkin","wysiwyg.viewer.skins.area.TransparentArea","wysiwyg.viewer.skins.area.BubbleAreaLeft","wysiwyg.viewer.skins.area.LeftTriangleArea","wysiwyg.viewer.skins.area.RightTriangleArea","wysiwyg.viewer.skins.area.BubbleAreaRight","wysiwyg.viewer.skins.area.IronBox","wysiwyg.viewer.skins.area.PhotoArea"],"wysiwyg.viewer.components.WPhoto":["wysiwyg.viewer.skins.photo.DoubleBorderCirclePhoto","wysiwyg.viewer.skins.photo.VintagePhoto","wysiwyg.viewer.skins.photo.DefaultPhoto","wysiwyg.viewer.skins.photo.RoundShadowPhoto","wysiwyg.viewer.skins.photo.ScotchTapePhoto","wysiwyg.viewer.skins.photo.PaperclipPhoto","wysiwyg.viewer.skins.photo.ScotchDoubleHorizontal","wysiwyg.viewer.skins.photo.ScotchDoubleVertical","wysiwyg.viewer.skins.photo.ScotchTopPhoto","wysiwyg.viewer.skins.photo.IronPhoto","wysiwyg.viewer.skins.photo.GlowLinePhoto","wysiwyg.viewer.skins.photo.NewPolaroidPhoto"],"wysiwyg.viewer.components.mobile.TinyMenu":["wysiwyg.viewer.skins.mobile.TinyMenuSkin","wysiwyg.viewer.skins.mobile.TinyMenuPullFromTopSkin"],"wysiwyg.viewer.components.HorizontalMenu":["wysiwyg.viewer.skins.menu.SeparateArrowDownMenuSkin","wysiwyg.viewer.skins.menu.ArrowsMenuSkin","wysiwyg.viewer.skins.menu.SeparatedArrowsMenuSkin","wysiwyg.viewer.skins.menu.CirclesMenuSkin","wysiwyg.viewer.skins.horizontalmenu.BevelMenu","wysiwyg.viewer.skins.horizontalmenu.ArrowsMenu","wysiwyg.viewer.skins.horizontalmenu.DefaultMenu","wysiwyg.viewer.skins.horizontalmenu.AppleMenu","wysiwyg.viewer.skins.horizontalmenu.RectangleMenu","wysiwyg.viewer.skins.horizontalmenu.TabsMenu","wysiwyg.viewer.skins.horizontalmenu.OverlinesMenu","wysiwyg.viewer.skins.horizontalmenu.Overlines2Menu","wysiwyg.viewer.skins.horizontalmenu.PillMenu","wysiwyg.viewer.skins.horizontalmenu.BaseMenu","wysiwyg.viewer.skins.horizontalmenu.BevelMenu","wysiwyg.viewer.skins.horizontalmenu.CirclesMenu","wysiwyg.viewer.skins.horizontalmenu.Lines2Menu","wysiwyg.viewer.skins.horizontalmenu.LinesMenu","wysiwyg.viewer.skins.horizontalmenu.PointerMenu","wysiwyg.viewer.skins.horizontalmenu.RibbonsMenu","wysiwyg.viewer.skins.horizontalmenu.Ribbons2Menu","wysiwyg.viewer.skins.horizontalmenu.TextOnlyMenu"],"wysiwyg.viewer.components.ScreenWidthContainer":["wysiwyg.viewer.skins.screenwidthcontainer.GridScreen","wysiwyg.viewer.skins.screenwidthcontainer.TransparentHalfScreen","wysiwyg.viewer.skins.screenwidthcontainer.TwoColorScreen","wysiwyg.viewer.skins.screenwidthcontainer.LineBottomScreen","wysiwyg.viewer.skins.screenwidthcontainer.ShadowScreen"],"wysiwyg.viewer.components.HeaderContainer":["wysiwyg.viewer.skins.screenwidthcontainer.IronScreen","wysiwyg.viewer.skins.screenwidthcontainer.BoxScreen","wysiwyg.viewer.skins.screenwidthcontainer.BlankScreen","wysiwyg.viewer.skins.screenwidthcontainer.SolidScreen","wysiwyg.viewer.skins.screenwidthcontainer.NoiseScreen","wysiwyg.viewer.skins.screenwidthcontainer.LineBottomScreen"],"wysiwyg.viewer.components.FooterContainer":["wysiwyg.viewer.skins.screenwidthcontainer.IronScreen","wysiwyg.viewer.skins.screenwidthcontainer.BoxScreen","wysiwyg.viewer.skins.screenwidthcontainer.BlankScreen","wysiwyg.viewer.skins.screenwidthcontainer.SolidScreen","wysiwyg.viewer.skins.screenwidthcontainer.NoiseScreen","wysiwyg.viewer.skins.screenwidthcontainer.LineTopScreen"],"wysiwyg.viewer.components.PagesContainer":["wysiwyg.viewer.skins.screenwidthcontainer.DefaultScreen","wysiwyg.viewer.skins.screenwidthcontainer.BevelScreen","wysiwyg.viewer.skins.screenwidthcontainer.BoxScreen","wysiwyg.viewer.skins.screenwidthcontainer.LiftedShadowScreen","wysiwyg.viewer.skins.screenwidthcontainer.AppleScreen","wysiwyg.viewer.skins.screenwidthcontainer.BlankScreen","wysiwyg.viewer.skins.screenwidthcontainer.GridScreen","wysiwyg.viewer.skins.screenwidthcontainer.TransparentHalfScreen","wysiwyg.viewer.skins.screenwidthcontainer.TwoColorScreen","wysiwyg.viewer.skins.screenwidthcontainer.LineBottomScreen","wysiwyg.viewer.skins.screenwidthcontainer.ShadowScreen"],"wysiwyg.viewer.components.FiveGridLine":["wysiwyg.viewer.skins.line.FadeLine","wysiwyg.viewer.skins.line.DoubleLine2","wysiwyg.viewer.skins.line.DoubleLine3"],"wysiwyg.viewer.components.VerticalLine":["wysiwyg.viewer.skins.VerticalLineSkin"],"wysiwyg.viewer.components.SiteButton":["wysiwyg.viewer.skins.button.ButtonDoubleArrowLeft","wysiwyg.viewer.skins.button.ButtonDoubleArrowRight","wysiwyg.viewer.skins.button.ButtonSandclock","wysiwyg.viewer.skins.button.ButtonForkedRight","wysiwyg.viewer.skins.button.ButtonForkedLeft","wysiwyg.viewer.skins.button.IronButton","wysiwyg.viewer.skins.button.ShineButton","wysiwyg.viewer.skins.button.BorderButton","wysiwyg.viewer.skins.button.PillButton","wysiwyg.viewer.skins.button.ShinyPillButton","wysiwyg.viewer.skins.button.ShinyGradientButton","wysiwyg.viewer.skins.button.SiteButtonSkin","wysiwyg.viewer.skins.button.PlasticButton"],"wysiwyg.viewer.components.MatrixGallery":["wysiwyg.viewer.skins.gallerymatrix.MatrixGalleryTextBelowSkin","wysiwyg.viewer.skins.gallerymatrix.MatrixGalleryPolaroidSkin","wysiwyg.viewer.skins.gallery.CircleMatrixGallery","wysiwyg.viewer.skins.gallerymatrix.MatrixGalleryVintage"],"wysiwyg.viewer.components.SlideShowGallery":["wysiwyg.viewer.skins.gallery.SlideShowGallerySimple","wysiwyg.viewer.skins.gallery.RibbonsSlideShow","wysiwyg.viewer.skins.gallery.FrameShowGallery","wysiwyg.viewer.skins.gallery.RoundSlideShowGallery"],"wysiwyg.viewer.components.SliderGallery":["wysiwyg.viewer.skins.gallery.SliderGalleryMinimal","wysiwyg.viewer.skins.gallery.SliderGalleryBorder","wysiwyg.viewer.skins.galleryslider.SliderGalleryVintageSkin"],"wysiwyg.viewer.components.AudioPlayer":["wysiwyg.viewer.skins.AudioPlayerMinimalSkin"],"core.components.Page":["wysiwyg.viewer.skins.area.RectangleArea","skins.core.VerySimpleSkin"]}}),define("documentServices/validation/validators/skinValidator",["lodash","documentServices/component/componentStylesAndSkinsAPI","documentServices/theme/skins/deprecatedSkinsByComponentType","documentServicesSchemas"],function(e,t,a,r){"use strict";var o={"wysiwyg.viewer.components.svgshape.SvgShape":!0};return{validateComponentSkin:function(n,i){var s=t.skin.get(n,i),l=n.dal.get(n.pointers.getInnerPointer(i,"componentType")),u=function(e){var t=r.schemas.componentTypeAliases,o=r.schemas.skinsByComponentType,n=t.getAlias(e),i=o[n]||[],s=a[n]||[];return i.concat(s)}(l);if(!o[l]&&!e.includes(u,s))throw new Error("The skin ["+s+"] is not valid for component type ["+l+"]")}}}),define("documentServices/validation/validators/compDataValidator",["lodash","documentServices/dataModel/dataModel","documentServicesSchemas"],function(e,t,a){"use strict";return{validateCompData:function(r,o){var n=r.dal.get(r.pointers.getInnerPointer(o,"componentType")),i=t.getDataItemPointer(r,o),s=i&&r.dal.get(i);if(!function(t,r){var o=a.schemas.componentsDefinitionsMap[t];return e.isArray(o.dataTypes)?e.isPlainObject(r)?r.type&&e.includes(o.dataTypes,r.type):e.isString(r)?e.includes(o.dataTypes,r):e.includes(o.dataTypes,""):!r}(n,s))throw new Error("Component data type ["+s&&s.type+"] is not valid for component type ["+n+"]");s&&a.services.dataValidators.validateDataBySchema(s,"data")}}}),define("documentServices/validation/utils/validationErrors",["lodash"],function(e){"use strict";var t=e.template("Expected comp {id: <%= compId %>} to have {id: <%= query %>} in the <%= type %> map, in page <%= pageId %>");function a(e){this.name="DataPathError",this.message=t(e),this.stack=(new Error).stack}return a.prototype=Object.create(Error.prototype),{DataPathError:a}}),define("documentServices/validation/validators/siteJsonValidator",["lodash","documentServices/validation/utils/validationErrors"],function(e,t){"use strict";function a(e){return e.replace(/^#/,"")}function r(e,a,r,o,n){if(!e.dal.full.isPathExistInHostModel(["pagesData",a,"data",o,n]))throw new t.DataPathError({pageId:a,query:n,type:o,compId:r})}return{validateCompJSONpaths:function(e,t){var o=e.dal.full.get(t),n=e.pointers.components.getPageOfComponent(t).id;i=e,l=n,(s=o).dataQuery&&r(i,l,s.id,"document_data",a(s.dataQuery));var i,s,l;u=e,d=n,(c=o).propertyQuery&&r(u,d,c.id,"component_properties",a(c.propertyQuery));var u,c,d;p=e,f=n,(g=o).designQuery&&r(p,f,g.id,"design_data",a(g.designQuery));var p,g,f;m=e,_=n,(y=o).connectionQuery&&r(m,_,y.id,"connections_data",a(y.connectionQuery));var m,y,_}}}),define("documentServices/validation/validation",["lodash","documentServices/structure/utils/layoutValidation","documentServices/validation/validators/styleValidator","documentServices/validation/validators/skinValidator","documentServices/validation/validators/compPropValidator","documentServices/validation/validators/compDataValidator","documentServices/validation/validators/siteJsonValidator","documentServices/mobileConversion/modules/mobileHintsValidator","documentServices/component/componentStylesAndSkinsAPI","documentServices/componentDetectorAPI/componentDetectorAPI","documentServices/dataModel/dataModel"],function(e,t,a,r,o,n,i,s,l,u,c){"use strict";var d={mobileHints:s.validateComponentMobileHints,data:n.validateCompData,properties:o.validateCompProps,layout:t.validateLayout,skin:r.validateComponentSkin,style:a.validateComponentStyle,json:i.validateCompJSONpaths};function p(t,a,r){return e.reduce((o=a,e.isArray(o)?o:[o]),function(a,o){var n=e(r).mapValues(function(e){try{e(t,o)}catch(e){return e.message||e.toString()}return null}).omitBy(e.isNull).value();return e.isEmpty(n)||a.push({comp:function(e,t){var a=e.dal.get(t),r=e.pointers.components.getPageOfComponent(t),o=c.getDataItem(e,t);return{id:t.id,pageId:r&&r.id,componentType:a.componentType||a.documentType,skin:l.skin.get(e,t),dataType:o&&o.type}}(t,o),invalidations:n}),a},[]);var o}return{initialize:function(e){s.initialize(e)},validateComponentData:d.data,validateComponentProperties:d.properties,validateComponentLayout:d.layout,validateComponentSkin:d.skin,validateStyle:d.style,validateMobileHints:d.mobileHints,validateComponents:function(e,t){return p(e,t,d)},validateAllComponents:function(e){return function(e,t,a){var r=u.getAllComponents(e,a,function(t){return!e.pointers.components.isMasterPage(t)});return p(e,r,t)}(e,d)},validateAllMobileHints:function(t){var a=e.map(t.pointers.page.getNonDeletedPagesPointers(!0),"id");try{s.validateMobileHintsOnPages(t,a)}catch(e){return e}return null}}}),define("documentServices/validation/validationPublicAPI",["documentServices/utils/publicMethodUtils","documentServices/validation/validation"],function(e,t){"use strict";return{initMethod:t.initialize,methods:{validate:{allComponents:e.defineMethod(t.validateAllComponents),components:e.defineMethod(t.validateComponents),allMobileHints:e.defineMethod(t.validateAllMobileHints)}}}}),define("documentServices/media/globalImageQualityData",["lodash","documentServices/dataModel/dataModel"],function(e,t){"use strict";var a="IMAGE_QUALITY",r="GlobalImageQuality";function o(e){return e.pointers.data.getDataItem(a,"masterPage")}return{get:function(e){var t=o(e);return e.dal.get(t)},update:function(a,n){var i=o(a);if(!a.dal.isExist(i)){var s=t.createDataItemByType(a,r);t.setDataItemByPointer(a,i,s,"data")}!function(t){var a=e.get(t,"unsharpMask.radius");if(e.isNumber(a)&&a<.1&&(0!==t.unsharpMask.radius||0!==t.unsharpMask.amount||0!==t.unsharpMask.threshold))throw new Error("radius value must be in 0.1-500.0 range, unless all radius, amount and threshold values are 0")}(n);var l=a.dal.get(i);t.setDataItemByPointer(a,i,e.assign(l,n),"data")},reset:function(e){var a=o(e);if(e.dal.isExist(a)){var n=t.createDataItemByType(e,r);t.setDataItemByPointer(e,a,n,"data")}}}}),define("documentServices/media/svgFiltersDefinitions",["lodash"],function(e){"use strict";var t=[{name:"kennedy"},{name:"darken"},{name:"blur"},{name:"lighten"},{name:"faded"},{name:"kerouac"},{name:"orca"},{name:"sangria"},{name:"gotham"},{name:"nightrain"},{name:"whistler"},{name:"feathered"},{name:"soledad"},{name:"goldie"},{name:"3d"},{name:"ink"},{name:"manhattan"},{name:"greenwash"},{name:"organic"},{name:"elmo"},{name:"neptune"},{name:"candyfloss"},{name:"neonsky"},{name:"hulk"},{name:"bauhaus"},{name:"seaweed"},{name:"midnight"},{name:"unicorn"},{name:"blueray"},{name:"malibu"},{name:"redrum"},{name:"flamingo"},{name:"hydra"},{name:"koolaid"},{name:"pinkrinse"},{name:"pixie"},{name:"yellowstreak"},{name:"lucille"}];return{getNames:function(){return e.map(t,"name")},getDefinitions:function(){return t}}}),define("documentServices/media/mediaPublicAPI",["documentServices/utils/publicMethodUtils","documentServices/media/globalImageQualityData","documentServices/media/vectorImageAPI","documentServices/media/svgFiltersDefinitions"],function(e,t,a,r){"use strict";return{methods:{media:{mediaState:{register:e.defineMethod(function(e,t,a,r){e.siteAPI.getSiteAspect("mediaAspect").registerStateChange(t,a.id,r)}),unregister:e.defineMethod(function(e,t,a){e.siteAPI.getSiteAspect("mediaAspect").unregisterStateChange(t,a.id)}),getControlsData:e.defineMethod(function(e,t){var a=e.pointers.siteAspects.getAspectComponentData("mediaAspect",t.id);return e.dal.get(a).controlsData}),getSupportedFeatures:e.defineMethod(function(e){var t=e.pointers.siteAspects.getAspectGlobalData("mediaAspect");return e.dal.get(t).featureDetections||{}})},imageQuality:{get:e.defineMethod(t.get),update:e.defineDataManipulationMethod(t.update),reset:e.defineDataManipulationMethod(t.reset)},svgFilters:{getDefinitions:e.defineMethod(r.getDefinitions),getNames:e.defineMethod(r.getNames)},vectorImage:{fetchSvg:e.defineDataManipulationMethod(a.getSvgFromCache,{isAsyncOperation:!0,asyncPreDataManipulation:a.cacheSvgString}),getSvgFromCache:e.defineMethod(a.getSvgFromCache),getSvgInfoFromCache:e.defineMethod(a.getSvgInfoFromCache),getSvgOriginalAspectRatio:e.defineMethod(a.getOriginalAspectRatio)}}}}}),define("documentServices/wixCode/wixCodePublicAPI",["lodash","documentServices/utils/publicMethodUtils","documentServices/wixCode/wixCode"],function(e,t,a){"use strict";return{methods:{wixCode:{provision:t.defineDataManipulationMethod(e.noop,{isAsyncOperation:!0,asyncPreDataManipulation:a.provision}),isProvisioned:t.defineMethod(a.isProvisioned),getClientSpec:t.defineMethod(a.getClientSpec),generateRemoteModelInterface:t.defineMethod(a.generateRemoteModelInterface),getWidgetRef:t.defineMethod(a.getWidgetRef),getCompSdkType:t.defineMethod(a.getCompSdkType),log:{levels:a.log.levels,trace:t.defineMethod(a.log.trace)},fileSystem:{flush:t.defineMethod(a.fileSystem.flush),readFile:t.defineMethod(a.fileSystem.readFile),createFolder:t.defineMethod(a.fileSystem.createFolder),writeFile:t.defineMethod(a.fileSystem.writeFile),getChildren:t.defineMethod(a.fileSystem.getChildren),deleteItem:t.defineMethod(a.fileSystem.deleteItem),move:t.defineMethod(a.fileSystem.move),getRoots:t.defineMethod(a.fileSystem.getRoots),getVirtualDescriptor:t.defineMethod(a.fileSystem.getVirtualDescriptor),findByExtension:t.defineMethod(a.fileSystem.findByExtension),getViewerInfo:t.defineMethod(a.fileSystem.getViewerInfo),subscribeToSchemasInvalidation:t.defineMethod(a.fileSystem.subscribeToSchemasInvalidation)},pages:{hasCode:t.defineMethod(a.pages.hasCode),readCode:t.defineMethod(a.pages.readCode)},userScripts:{isUserCodeUrl:t.defineMethod(a.userScripts.isUserCodeUrl),getSourceMapUrl:t.defineMethod(a.userScripts.getSourceMapUrl)}}},initMethod:a.initializeWixCode.bind(a)}}),define("documentServices/siteMembers/siteMembers",["lodash","utils","documentServices/siteMetadata/siteMetadata","documentServices/siteMetadata/clientSpecMap","documentServices/dataModel/dataModel"],function(e,t,a,r,o){"use strict";var n={google:"socialLoginGoogleEnabled",facebook:"socialLoginFacebookEnabled"},i={termsOfUse:"termsOfUse",privacyPolicy:"privacyPolicy",codeOfConduct:"codeOfConduct"},s="joinCommunityCheckedByDefault";function l(t){return e.head(r.filterAppsDataByType(t,"sitemembers"))}function u(e){var a=e.pointers.data.getDataItemFromMaster(t.siteConstants.MASTER_PAGE_ID);return e.pointers.getInnerPointer(a,"smSettings")}function c(a,r){var n=a.pointers.data.getDataItemFromMaster(t.siteConstants.MASTER_PAGE_ID),i=a.dal.get(n);i.smSettings=e.merge(i.smSettings,r),o.addSerializedDataItemToPage(a,"masterPage",i,"masterPage")}return{setAutoApproval:function(o,n,i,s){t.ajaxLibrary.ajax({type:"POST",url:(u=o,"/_api/wix-contacts-webapp/dashboard/metasites/"+a.generalInfo.getMetaSiteId(u)+"/settings"),dataType:"json",data:{autoApprove:n},success:function(){var t=l(o);t.collectionType=n?"Open":"ApplyForMembership",r.registerAppData(o,t),e.isFunction(i)&&i()},error:s||e.noop});var u},isAutoApproval:function(e){return"Open"===l(e).collectionType},setLoginDialogFirst:function(e,t){c(e,{smFirstDialogLogin:!!t})},isLoginDialogFirst:function(e){var t=e.dal.get(u(e));return!(!t||!t.smFirstDialogLogin)},setSocialLoginVendorStatus:function(t,a,r){var o=n[a];o&&c(t,e.set({},o,!!r))},isSocialLoginEnabled:function(t,a){var r=n[a],o=t.dal.get(u(t));return!!e.get(o,r)},setJoinCommunityStatus:function(t,a){c(t,e.set({},s,!!a))},isJoinCommunityEnabled:function(t){var a=t.dal.get(u(t));return!!e.get(a,s)},isSignupPoliciesFieldEnabled:function(t,a){var r=i[a],o=t.dal.get(u(t));return!!e.get(o,[r,"enabled"])},setSignupPoliciesFieldStatus:function(t,a,r){var o=i[a];o&&c(t,e.set({},[o,"enabled"],!!r))},getSignupPoliciesLink:function(t,a){var r=i[a],o=t.dal.get(u(t));return e.get(o,[r,"link"],null)},setSignupPoliciesLink:function(t,a,r){var n=i[a];if(n){var s=o.addLink(t,r.type,r);c(t,e.set({},[n,"link"],"#"+s))}}}}),define("documentServices/siteMembers/siteMembersPublicAPI",["lodash","experiment","documentServices/utils/publicMethodUtils","documentServices/siteMembers/siteMembers"],function(e,t,a,r){"use strict";return{methods:{siteMembers:{setAutoApproval:a.defineMethod(r.setAutoApproval),isAutoApproval:a.defineMethod(r.isAutoApproval),setLoginDialogFirst:a.defineMethod(r.setLoginDialogFirst),isLoginDialogFirst:a.defineMethod(r.isLoginDialogFirst),setSocialLoginVendorStatus:a.defineMethod(r.setSocialLoginVendorStatus),isSocialLoginEnabled:a.defineMethod(r.isSocialLoginEnabled),setJoinCommunityStatus:a.defineMethod(r.setJoinCommunityStatus),isJoinCommunityEnabled:a.defineMethod(r.isJoinCommunityEnabled),isSignupPoliciesFieldEnabled:a.defineMethod(r.isSignupPoliciesFieldEnabled),setSignupPoliciesFieldStatus:a.defineMethod(r.setSignupPoliciesFieldStatus),getSignupPoliciesLink:a.defineMethod(r.getSignupPoliciesLink),setSignupPoliciesLink:a.defineMethod(r.setSignupPoliciesLink)}}}}),define("documentServices/connections/connectionsPublicAPI",["documentServices/utils/publicMethodUtils","documentServices/connections/connections"],function(e,t){"use strict";return{methods:{platform:{controllers:{connections:{connect:e.defineMethod(t.connect),disconnect:e.defineMethod(t.disconnect),get:e.defineMethod(t.getPlatformAppConnections),getConnectedComponents:e.defineMethod(t.getConnectedComponents),getControllerConnections:e.defineMethod(t.getControllerConnections),getPrimaryConnection:e.defineMethod(t.getPrimaryConnection)}}}}}}),define("documentServices/appControllerData/appControllerDataPublicAPI",["documentServices/utils/publicMethodUtils","documentServices/appControllerData/appControllerData"],function(e,t){"use strict";return{methods:{platform:{controllers:{settings:{set:e.defineDataManipulationMethod(t.setSettings),get:e.defineMethod(t.getSettings),setIn:e.defineDataManipulationMethod(t.setSettingsIn),getIn:e.defineMethod(t.getSettingsIn)},getName:e.defineMethod(t.getName),setName:e.defineDataManipulationMethod(t.setName),getState:e.defineMethod(t.getState),setState:e.defineDataManipulationMethod(t.setState),getStageData:e.defineMethod(t.getControllerStageDataByControllerRef)}}}}}),define("documentServices/platform/pages",["documentServices/page/page","platformUtils","coreUtils","utils"],function(e,t,a,r){"use strict";var o=t.linkUtils;return{navigateTo:function(t,n,i){var s=t.dal.get(t.pointers.routers.getRoutersConfigMapPointer()),l=a.siteStructureUtils.getRouterPrefixes({configMap:s}),u=function(t){var o=e.getPagesDataItems(t),n=t.dal.get(t.pointers.routers.getRoutersPointer()),i=t.dal.get(t.pointers.general.getClientSpecMap()),s=e.popupPages.isPopup.bind(e.popupPages,t),l=t.pointers.data.getDataItemFromMaster(r.siteConstants.MASTER_PAGE_ID),u=a.siteStructureUtils.getMainPageId(null,t.dal.get(l));return a.siteStructureUtils.getPages(o,s,u,n,i)}(t),c=o.convertUrlToLinkObject(l,n,null,u);e.navigateTo(t,c,i)}}}),define("documentServices/platform/serialization",["lodash"],function(e){"use strict";return{setConnectedComponents:function(t,a,r){var o=e.cloneDeep(a);return e.isEmpty(r)?function(t){var a=e.omit(e.get(t,"custom"),"relatedConnections");return e.isEmpty(a)?e.omit(t,"custom"):e.assign({},t,{custom:a})}(o):(e.set(o,"custom.relatedConnections",r),o)},getConnectedComponents:function(t,a){return e.get(a,"custom.relatedConnections")}}}),define("documentServices/platform/platformPublicAPI",["documentServices/utils/publicMethodUtils","lodash","documentServices/platform/platform","documentServices/platform/pages","documentServices/platform/serialization","documentServices/platform/services/viewerInfoChangedEmitter","documentServices/platform/services/apiCallBiService","documentServices/platform/common/constants"],function(e,t,a,r,o,n,i,s){"use strict";return{methods:{platform:{init:e.defineMethod(a.init),initApp:e.defineMethod(a.initApp),isPlatformAppInstalled:e.defineMethod(a.isPlatformAppInstalled),provision:e.defineMethod(a.provision),notifyApplication:e.defineMethod(a.notifyApplication),getAPIForSDK:e.defineMethod(a.getAPIForSDK),getInstalledAppsData:e.defineMethod(a.getInstalledAppsData),getAppManifest:e.defineMethod(a.getAppManifest),getPagesDataFromAppManifest:e.defineMethod(a.getPagesDataFromAppManifest),getAppDataByAppDefId:e.defineMethod(a.getAppDataByAppDefId),getAppDataByApplicationId:e.defineMethod(a.getAppDataByApplicationId),getInstalledEditorApps:e.defineMethod(a.getInstalledEditorApps),editorApps:s.APPS,serialization:{setConnectedComponents:e.defineMethod(o.setConnectedComponents),getConnectedComponents:e.defineMethod(o.getConnectedComponents)},pages:{navigateTo:e.defineMethod(r.navigateTo)},registerToViewerInfoChanged:e.defineMethod(n.register),registerToManifestAdded:e.defineMethod(a.registerToManifestAdded),registerToPublicApiSet:e.defineMethod(a.registerToPublicApiSet),reportAPICallBI:e.defineMethod(i.reportAPICallBI),getAppsContainer:e.defineMethod(a.getAppsContainer)}},initMethod:a.initialize}}),define("documentServices/routers/pointers/routersPointers",["core","documentServices/routers/utils/constants"],function(e,t){"use strict";var a=e.pointerGeneratorsRegistry;a.registerPointerType("routers",function(){return null},function(){return!0});var r={getRoutersPointer:function(e,a){return a.getPointer("routers","routers",t.paths.ROUTERS_PATH)},getRoutersConfigMapPointer:function(e,a){return a.getPointer("routers_config_map","routers",t.paths.ROUTERS_CONFIG_MAP)},getRouterPointer:function(e,a,r){return a.getPointer(r,"routers",t.paths.ROUTERS_CONFIG_MAP.concat(r))}};a.registerDataAccessPointersGenerator("routers",r)}),define("documentServices/routers/routersPublicAPI",["documentServices/utils/publicMethodUtils","documentServices/routers/routers","documentServices/routers/pointers/routersPointers"],function(e,t){"use strict";return{methods:{routers:{add:e.defineDataManipulationMethod(t.add,{getReturnValue:t.getRouterPointer}),remove:e.defineDataManipulationMethod(t.remove),get:{all:e.defineMethod(t.get.all),byApp:e.defineMethod(t.get.byApp),byRef:e.defineMethod(t.get.byRef),byId:e.defineMethod(t.get.byId)},getRouterRef:{byPrefix:e.defineMethod(t.getRouterRef.byPrefix),byPage:e.defineMethod(t.getRouterRef.byPage)},update:e.defineDataManipulationMethod(t.update),getRouterDataForPageIfExist:e.defineMethod(t.getRouterDataForPageIfExist),getPageFromInnerRoute:e.defineMethod(t.getPageFromInnerRoute),getRouterInnerRoutes:e.defineMethod(t.getRouterInnerRoutes),getCurrentInnerRoute:e.defineMethod(t.getCurrentInnerRoute),isValidPrefix:e.defineMethod(t.isValidPrefix),pages:{add:e.defineDataManipulationMethod(t.pages.add,{getReturnValue:t.getPageToAddPointer}),connect:e.defineDataManipulationMethod(t.pages.connect),disconnect:e.defineDataManipulationMethod(t.pages.disconnect),removePageFromRouter:e.defineDataManipulationMethod(t.pages.removePageFromRouter),listConnectablePages:e.defineMethod(t.pages.listConnectablePages),isConnectablePage:e.defineMethod(t.pages.isConnectablePage),getDynamicPagesList:e.defineMethod(t.pages.getDynamicPagesList),move:e.defineDataManipulationMethod(t.pages.move)}}}}}),define("documentServices/autosave/autosavePublicAPI",["documentServices/utils/publicMethodUtils","documentServices/autosave/autosave"],function(e,t){"use strict";return{methods:{autosave:e.defineMethod(t.autosave),canAutosave:e.defineMethod(t.canAutosave),getAutoSaveInfo:e.defineMethod(t.getAutoSaveInfo),initAutosave:e.defineMethod(t.init)}}}),define("documentServices/deprecation/deprecationPublicAPI",["documentServices/utils/publicMethodUtils","documentServices/deprecation/deprecation"],function(e,t){"use strict";return{methods:{deprecation:{setThrowOnDeprecation:e.defineMethod(t.setThrowOnDeprecation)}}}}),define("documentServices/accessibility/accessibilityPublicAPI",["documentServices/utils/publicMethodUtils","documentServices/accessibility/reordering","documentServices/accessibility/visualFocusData","documentServices/utils/utils"],function(e,t,a,r){"use strict";return{methods:{accessibility:{reorderComponents:e.defineDataManipulationMethod(t.reorderComponents,{isUpdatingAnchors:r.YES}),visualFocus:{get:e.defineMethod(a.get),set:e.defineDataManipulationMethod(a.set)}}}}}),define("documentServices/debug/debugPublicAPI",["documentServices/utils/publicMethodUtils","documentServices/debug/dsQTrace"],function(e,t){"use strict";return{initMethod:t.initialize,methods:{debug:{trace:{start:e.defineMethod(t.startTrace),stop:e.defineMethod(t.endTrace),clean:e.defineMethod(t.cleanTrace),get:e.defineMethod(t.get)}}}}}),define("documentServices/privateServices/fullFunctionalityConfig",["lodash","documentServices/jsonConfig/jsonConfig","documentServices/siteSegments/siteSegmentsPublicAPI","documentServices/page/pagePublicAPI","documentServices/pagesGroup/pagesGroupPublicAPI","documentServices/theme/themePublicAPI","documentServices/fonts/fontsPublicAPI","documentServices/component/componentPublicAPI","documentServices/continuousActions/continuousActionsPublicAPI","documentServices/smartBoxes/smartBoxesPublicAPI","documentServices/dataModel/dataModelPublicAPI","documentServices/componentsMetaData/componentsMetaDataPublicAPI","documentServices/actionsAndBehaviors/actionsAndBehaviorsPublicAPI","documentServices/siteMetadata/siteMetadataPublicAPI","documentServices/feedback/feedbackPublicAPI","documentServices/saveAPI/savePublicAPI","documentServices/structure/structurePublicAPI","documentServices/documentMode/documentModePublicAPI","documentServices/menu/menuPublicAPI","documentServices/componentDetectorAPI/componentDetectorPublicAPI","documentServices/editorData/editorDataPublicAPI","documentServices/wixapps/wixapps","documentServices/tpa/tpaPublicAPI","documentServices/bi/biPublicAPI","documentServices/renderPlugins/renderPluginsPublicApi","documentServices/mobileConversion/mobilePublicAPI","documentServices/errors/errorsPublicAPI","documentServices/layouters/layoutersPublicAPI","documentServices/validation/validationPublicAPI","documentServices/media/mediaPublicAPI","documentServices/wixCode/wixCodePublicAPI","documentServices/siteMembers/siteMembersPublicAPI","documentServices/connections/connectionsPublicAPI","documentServices/appControllerData/appControllerDataPublicAPI","documentServices/platform/platformPublicAPI","documentServices/routers/routersPublicAPI","documentServices/autosave/autosavePublicAPI","documentServices/deprecation/deprecationPublicAPI","documentServices/accessibility/accessibilityPublicAPI","documentServices/debug/debugPublicAPI"],function(e,t){"use strict";var a=e.drop(arguments,2);return{getConfig:function(){return{modules:a,shouldRender:!0,isReadOnly:!1,noUndo:!1,runStylesGC:!0,pathsInJsonData:t.getPathsInJsonData(),undoablePaths:t.getWhiteList(),nonUndoablePaths:t.getNonUndoableList(),nonUndoableInitialDataPaths:t.getNonUndoableInitialDataPaths(),autosavePaths:t.getAutosavePaths()}}}}),define("documentServices/privateServices/fullHeadlessConfig",["lodash","documentServices/jsonConfig/jsonConfig","documentServices/siteSegments/siteSegmentsPublicAPI","documentServices/page/pagePublicAPI","documentServices/theme/themePublicAPI","documentServices/fonts/fontsPublicAPI","documentServices/component/componentPublicAPI","documentServices/smartBoxes/smartBoxesPublicAPI","documentServices/dataModel/dataModelPublicAPI","documentServices/componentsMetaData/componentsMetaDataPublicAPI","documentServices/actionsAndBehaviors/actionsAndBehaviorsPublicAPI","documentServices/siteMetadata/siteMetadataPublicAPI","documentServices/feedback/feedbackPublicAPI","documentServices/saveAPI/savePublicAPI","documentServices/structure/structurePublicAPI","documentServices/documentMode/documentModePublicAPI","documentServices/menu/menuPublicAPI","documentServices/componentDetectorAPI/componentDetectorPublicAPI","documentServices/editorData/editorDataPublicAPI","documentServices/wixapps/wixapps","documentServices/smartBoxes/smartBoxes","documentServices/tpa/tpaPublicAPI","documentServices/bi/biPublicAPI","documentServices/renderPlugins/renderPluginsPublicApi","documentServices/mobileConversion/mobilePublicAPI","documentServices/errors/errorsPublicAPI","documentServices/layouters/layoutersPublicAPI","documentServices/validation/validationPublicAPI","documentServices/media/mediaPublicAPI","documentServices/wixCode/wixCodePublicAPI","documentServices/siteMembers/siteMembersPublicAPI","documentServices/connections/connectionsPublicAPI","documentServices/appControllerData/appControllerDataPublicAPI","documentServices/platform/platformPublicAPI","documentServices/routers/routersPublicAPI","documentServices/autosave/autosavePublicAPI","documentServices/deprecation/deprecationPublicAPI","documentServices/accessibility/accessibilityPublicAPI"],function(e,t){"use strict";var a=e.drop(arguments,2);return{getConfig:function(){return{modules:a,shouldRender:!1,isReadOnly:!1,noUndo:!1,runStylesGC:!1,pathsInJsonData:t.getPathsInJsonData(),undoablePaths:t.getWhiteList(),nonUndoablePaths:t.getNonUndoableList(),nonUndoableInitialDataPaths:t.getNonUndoableInitialDataPaths(),autosavePaths:t.getAutosavePaths()}}}}),define("documentServices/privateServices/listsDataConfig",["documentServices/componentDetectorAPI/componentDetectorPublicAPI","documentServices/dataModel/dataModelPublicAPI","documentServices/menu/menuPublicAPI","documentServices/siteSegments/siteSegmentsPublicAPI","documentServices/page/pagePublicAPI","documentServices/wixapps/wixapps","documentServices/bi/biPublicAPI"],function(){"use strict";return{modules:arguments,isReadOnly:!1,shouldRender:!1,noUndo:!1,pathsInJsonData:{siteData:[{path:["rendererModel"],optional:!1},{path:["wixapps"],optional:!1}]},undoablePaths:[]}}),define("documentServices/appStudio/appStudioPublicAPI",["documentServices/utils/publicMethodUtils","documentServices/appStudio/appStudio"],function(e,t){"use strict";return{methods:{appStudio:{getMetaData:e.defineMethod(t.getAppStudioMetaData),updateMetaData:e.defineDataManipulationMethod(t.updateAppStudioMetaData),widgets:{create:e.defineDataManipulationMethod(t.widgets.createWidget,{getReturnValue:t.getNewDataId}),duplicate:e.defineDataManipulationMethod(t.widgets.duplicateWidget),getAll:e.defineMethod(t.widgets.getAllWidgets),getAllSerialized:e.defineMethod(t.widgets.getAllSerializedWidgets),functions:{set:e.defineDataManipulationMethod(t.widgets.setWidgetApiPart,{getReturnValue:function(){return"functions"}}),get:e.defineMethod(t.widgets.getWidgetFunctions)},properties:{set:e.defineDataManipulationMethod(t.widgets.setWidgetApiPart,{getReturnValue:function(){return"properties"}}),get:e.defineMethod(t.widgets.getWidgetProperties)},events:{set:e.defineDataManipulationMethod(t.widgets.setWidgetApiPart,{getReturnValue:function(){return"events"}}),get:e.defineMethod(t.widgets.getWidgetEvents)},name:{set:e.defineDataManipulationMethod(t.widgets.setWidgetName),get:e.defineMethod(t.widgets.getWidgetName)},display:e.defineMethod(t.widgets.displayWidget),remove:e.defineDataManipulationMethod(t.widgets.removeWidget),getByRootCompId:e.defineMethod(t.widgets.getWidgetByRootCompId),get:{byId:e.defineMethod(t.widgets.getWidgetById)}}}}}}),define("documentServices/privateServices/siteInfoConfig",["documentServices/siteSegments/siteSegmentsPublicAPI","documentServices/page/pagePublicAPI","documentServices/theme/themePublicAPI","documentServices/component/componentPublicAPI","documentServices/dataModel/dataModelPublicAPI","documentServices/componentsMetaData/componentsMetaDataPublicAPI","documentServices/actionsAndBehaviors/actionsAndBehaviorsPublicAPI","documentServices/siteMetadata/siteMetadataPublicAPI","documentServices/structure/structurePublicAPI","documentServices/documentMode/documentModePublicAPI","documentServices/menu/menuPublicAPI","documentServices/componentDetectorAPI/componentDetectorPublicAPI","documentServices/editorData/editorDataPublicAPI","documentServices/wixapps/wixapps","documentServices/mobileConversion/mobilePublicAPI","documentServices/appStudio/appStudioPublicAPI"],function(){"use strict";return{modules:arguments,shouldRender:!1,isReadOnly:!0,noUndo:!0,pathsInJsonData:{siteData:[{path:["pagesData"],optional:!1},{path:["editorData"],optional:!1}],fullJson:[{path:["pagesData"],optional:!1}]},undoablePaths:[]}}),define("documentServices/privateServices/testConfig",["lodash","documentServices/jsonConfig/jsonConfig","documentServices/siteSegments/siteSegmentsPublicAPI","documentServices/page/pagePublicAPI","documentServices/pagesGroup/pagesGroupPublicAPI","documentServices/theme/themePublicAPI","documentServices/fonts/fontsPublicAPI","documentServices/component/componentPublicAPI","documentServices/smartBoxes/smartBoxesPublicAPI","documentServices/dataModel/dataModelPublicAPI","documentServices/componentsMetaData/componentsMetaDataPublicAPI","documentServices/actionsAndBehaviors/actionsAndBehaviorsPublicAPI","documentServices/siteMetadata/siteMetadataPublicAPI","documentServices/feedback/feedbackPublicAPI","documentServices/saveAPI/savePublicAPI","documentServices/structure/structurePublicAPI","documentServices/documentMode/documentModePublicAPI","documentServices/menu/menuPublicAPI","documentServices/componentDetectorAPI/componentDetectorPublicAPI","documentServices/editorData/editorDataPublicAPI","documentServices/wixapps/wixapps","documentServices/smartBoxes/smartBoxes","documentServices/tpa/tpaPublicAPI","documentServices/bi/biPublicAPI","documentServices/renderPlugins/renderPluginsPublicApi","documentServices/mobileConversion/mobilePublicAPI","documentServices/errors/errorsPublicAPI","documentServices/layouters/layoutersPublicAPI","documentServices/media/mediaPublicAPI","documentServices/wixCode/wixCodePublicAPI","documentServices/connections/connectionsPublicAPI","documentServices/appControllerData/appControllerDataPublicAPI","documentServices/siteMembers/siteMembersPublicAPI","documentServices/platform/platformPublicAPI","documentServices/routers/routersPublicAPI","documentServices/autosave/autosavePublicAPI","documentServices/accessibility/accessibilityPublicAPI","documentServices/appStudio/appStudioPublicAPI"],function(e,t){"use strict";var a=e.drop(arguments,2);return{getConfig:function(){return{modules:a,shouldRender:!1,isReadOnly:!1,isTest:!0,noUndo:!1,runStylesGC:!1,pathsInJsonData:t.getPathsInJsonData(),undoablePaths:t.getWhiteList(),nonUndoablePaths:t.getNonUndoableList()}}}}),define("documentServices/privateServices/siteInfo_v2Config",["lodash","documentServices/jsonConfig/jsonConfig","documentServices/siteSegments/siteSegmentsPublicAPI","documentServices/page/pagePublicAPI","documentServices/theme/themePublicAPI","documentServices/component/componentPublicAPI","documentServices/dataModel/dataModelPublicAPI","documentServices/componentsMetaData/componentsMetaDataPublicAPI","documentServices/actionsAndBehaviors/actionsAndBehaviorsPublicAPI","documentServices/siteMetadata/siteMetadataPublicAPI","documentServices/structure/structurePublicAPI","documentServices/documentMode/documentModePublicAPI","documentServices/menu/menuPublicAPI","documentServices/componentDetectorAPI/componentDetectorPublicAPI","documentServices/editorData/editorDataPublicAPI","documentServices/wixapps/wixapps","documentServices/mobileConversion/mobilePublicAPI","documentServices/routers/routersPublicAPI","documentServices/accessibility/accessibilityPublicAPI"],function(e,t){"use strict";var a=e.drop(arguments,2);return{getConfig:function(){return{modules:a,shouldRender:!1,isReadOnly:!0,noUndo:!0,pathsInJsonData:t.getPathsInJsonData(),undoablePaths:[]}}}}),define("documentServices/privateServices/appStudioConfig",["lodash","documentServices/jsonConfig/jsonConfig","documentServices/privateServices/fullFunctionalityConfig","documentServices/appStudio/appStudioPublicAPI"],function(e,t,a,r){"use strict";return{getConfig:function(){var t=a.getConfig(),o=e.concat(t.modules,r);return t.modules=o,t}}}),define("documentServices",["documentServices/site/Site","documentServices/privateServices/fullFunctionalityConfig","documentServices/privateServices/fullHeadlessConfig","documentServices/privateServices/listsDataConfig","documentServices/privateServices/siteInfoConfig","documentServices/privateServices/testConfig","documentServices/privateServices/siteInfo_v2Config","documentServices/privateServices/appStudioConfig","documentServices/constants/constants"],function(e,t,a,r,o,n,i,s,l){"use strict";return{Site:e,constants:l,configs:{fullFunctionality:t,fullHeadless:a,listsData:r,siteInfo:o,test:n,siteInfo_v2:i,appStudio:s}}});
//# sourceMappingURL=documentServices.min.js.map