function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();define("higherOrderComponents/connectEditorAPI/connectEditorAPI",["lodash","react","prop-types","create-react-class","reduxLibs"],function(e,t,n,r,o){"use strict";return function(i){return function(s){return r({displayName:o.recompose.wrapDisplayName(s,"ConnectEditor"),contextTypes:{editorAPI:n.object.isRequired},render:function(){var n=i(this.context.editorAPI,this.props),r=e.defaults({},n,this.props);return t.createElement(s,r)}})}}}),define("higherOrderComponents/connect/connect",["lodash","react","create-react-class","reduxLibs","prop-types"],function(e,t,n,r,o){"use strict";var i=r.redux.bindActionCreators;return function(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.noop,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.noop,p=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(c){var u=function(t,n){var r=n.dsRead;return function(n,o){var p=s(n,o,r),c=e.isFunction(a)?a(t,o,r):i(a,t);return e.assign({},p,c,o)}};return n({displayName:r.recompose.wrapDisplayName(c,"Connect"),contextTypes:{dsRead:o.object},componentWillMount:function(){this.connectedComponentClass=r.reactRedux.connectAdvanced(u,{methodName:"connect",shouldHandleStateChanges:p,dsRead:this.context.dsRead})(c)},render:function(){return t.createElement(this.connectedComponentClass,this.props)}})}}}),define("higherOrderComponents/connectEditorAPI/EditorAPIProvider",["lodash","react","create-react-class","prop-types"],function(e,t,n,r){"use strict";var o=n({propTypes:{editorAPI:r.object.isRequired,children:r.element.isRequired},childContextTypes:{editorAPI:r.object.isRequired},getChildContext:function(){return{editorAPI:this.props.editorAPI}},render:function(){return t.Children.only(this.props.children)}});return o.displayName="EditorAPIProvider",o}),define("higherOrderComponents/overlappedCompTooltip/overlappedCompTooltip",["reactDOM","lodash","zepto","react","prop-types","create-react-class","reduxLibs","util","coreUtilsLib","coreBi","constants","stateManagement","higherOrderComponents/connectEditorAPI/connectEditorAPI"],function(e,t,n,r,o,i,s,a,p,c,u,l,d){"use strict";var h=l.editorPlugins.domMeasurements.selectors.getPreviewPosition,g=u.OVARLAPPING_COMP.DELAY,f=u.OVARLAPPING_COMP.HIDE_DELAY,m=u.OVARLAPPING_COMP.MIN_OVERLAP,y=function(e){var t=e.store,n=t.dispatch,r=(0,t.getState)(),o=h(r);return{registeredHideBubbleOnPreview:e.registeredHideBubbleOnPreview,setRegisteredHideBubbleOnPreview:function(t){e.registeredHideBubbleOnPreview=t},registerToGoToPreview:e.preview.registerToGoToPreview,getRelativeToScreenConsideringScroll:e.components.layout.getRelativeToScreenConsideringScroll,getComponentsUnderClick:e.selection.getComponentsUnderClick,previewTop:o.top,previewMode:e.getPreviewMode(),hideToolsQuickTipShownSitePreference:l.editorPlugins.userPreferences.selectors.getSiteUserPreferences("hideToolsQuickTipShown")(r),setHideToolsQuickTipShownSitePreference:function(e){return n(l.editorPlugins.userPreferences.actions.setSiteUserPreferences("hideToolsQuickTipShown",e))},hideToolsQuickTipShownSessionPreference:l.editorPlugins.userPreferences.selectors.getSessionUserPreferences("hideToolsQuickTipShown")(r),setHideToolsQuickTipShownSessionPreference:function(e){return n(l.editorPlugins.userPreferences.actions.setSessionUserPreferences("hideToolsQuickTipShown",e))},reportBI:e.bi.event,toggleHalfOpacityTools:e.toolsControl.toggleHalfOpacityTools,toggleHideTools:e.toolsControl.toggleHideTools,showFloatingBubble:e.showFloatingBubble,hideFloatingBubble:e.hideFloatingBubble,toggleHideToolsBtnBlink:e.toolsControl.toggleHideToolsBtnBlink}};return function(l){return function(h){return d(y)(function(l){return function(d){return i({displayName:s.recompose.wrapDisplayName(d,"Overlapped"),propTypes:{registeredHideBubbleOnPreview:o.bool,setRegisteredHideBubbleOnPreview:o.func,previewMode:o.bool,previewTop:o.number,getComponentsUnderClick:o.func,hideToolsQuickTipShownSitePreference:o.number,setHideToolsQuickTipShownSitePreference:o.func,hideToolsQuickTipShownSessionPreference:o.number,setHideToolsQuickTipShownSessionPreference:o.func,reportBI:o.func,toggleHalfOpacityTools:o.func,toggleHideTools:o.func,showFloatingBubble:o.func,hideFloatingBubble:o.func,registerToGoToPreview:o.func,getRelativeToScreenConsideringScroll:o.func,toggleHideToolsBtnBlink:o.func},getInitialState:function(){return this.intersectionComp=null,this.hideQuickTipTimer=null,{quickTipAlreadyShown:!1}},componentDidMount:function(){this.props.registeredHideBubbleOnPreview||(this.props.registerToGoToPreview(this.hideQuickTip),this.props.setRegisteredHideBubbleOnPreview(!0)),this.checkOverlap=p.timeUtils.throttle(this.checkOverlap,g,{leading:!1})},getComponentsLayoutByMouseEvent:function(e){var n=this;return t.map(this.props.getComponentsUnderClick(e),function(e){return n.props.getRelativeToScreenConsideringScroll(e).bounding})},calcOverlapPercentage:function(e,t){var n=a.math.getSquaresIntersection(t,e);return n?(this.intersectionComp=t,n.width*n.height/(t.height*t.width)*100):0},isOverlapping:function(t){var n=this.getComponentsLayoutByMouseEvent(t);if(!this.wrapped)return!1;var r=e.findDOMNode(this.wrapped),o={x:r.offsetLeft,y:r.offsetTop-this.props.previewTop,width:r.offsetWidth,height:r.offsetHeight};for(var i in n)if(n.hasOwnProperty(i)&&this.calcOverlapPercentage(o,n[i])>m)return!0;return!1},hideQuickTip:function(){window.clearTimeout(this.hideQuickTipTimer),this.props.toggleHalfOpacityTools(!1),this.props.hideFloatingBubble()},showQuickTip:function(e){var t=n(window).width()/2,o=e.pageX<t?2:-2,i=r.createElement(l,{text:"toolbars_hide_tooltip_text",linkActionText:"toolbars_hide_tooltip_link",linkAction:this.quickTipLinkAction,linkMouseEnter:this.quickTipLinkMouseEnter,linkMouseLeave:this.quickTipLinkMouseLeave,symbol:"idea-bulb",closeAction:this.quickTipCloseAction}),s={height:100,width:this.intersectionComp.width,top:e.clientY,left:this.intersectionComp.x+o},a={noArrow:!0,shake:!0,behindPopUps:!0,hideMethod:this.props.toggleHalfOpacityTools.bind(this,!1),alignment:u.UI.TOOLTIP.ALIGNMENT.RIGHT,timeoutForMouseOverBubble:f};this.props.showFloatingBubble(i,s,a,!0),this.props.reportBI(c.events.editor.hide_tools.show_controls_tooltip_appearance)},moveQuickTip:function(){var e=n(window).width()/2,t=r.createElement(l,{text:"toolbars_show_tooltip_text",symbol:"idea-bulb",closeAction:this.quickTipCloseAction}),o={height:this.props.previewTop+30,width:284,top:0,left:e-142};this.props.showFloatingBubble(t,o,{noArrow:!0,behindPopUps:!0,shouldHaveTransition:!0},!0),this.props.toggleHideToolsBtnBlink(!0)},quickTipCloseAction:function(){this.hideQuickTip(),this.props.reportBI(c.events.editor.hide_tools.show_controls_tooltip_close);var e=this.props.hideToolsQuickTipShownSessionPreference||0;this.props.setHideToolsQuickTipShownSessionPreference(e+1)},quickTipLinkAction:function(){this.props.toggleHalfOpacityTools(!1),this.props.toggleHideTools(!0),this.props.reportBI(c.events.editor.hide_tools.hide_controls,{origin:"tooltip"}),this.moveQuickTip(),this.props.setHideToolsQuickTipShownSitePreference(!0)},quickTipLinkMouseEnter:function(){this.props.toggleHalfOpacityTools(!0)},quickTipLinkMouseLeave:function(){this.props.toggleHalfOpacityTools(!1)},resetQuickTip:function(){this.setState({quickTipAlreadyShown:!1})},checkOverlap:function(e){this.props.previewMode||this.props.hideToolsQuickTipShownSitePreference||this.props.hideToolsQuickTipShownSessionPreference>4||this.state.quickTipAlreadyShown||!this.isOverlapping(e)||(this.showQuickTip(e),this.setState({quickTipAlreadyShown:!0}))},wrappedMounted:function(e){this.wrapped=e},onMouseMove:function(e){e.persist(),this.checkOverlap(e)},render:function(){var e=t.assign({},this.props,{onMouseMove:this.onMouseMove,onMouseEnter:this.resetQuickTip,ref:this.wrappedMounted});return r.createElement(d,e)}})}}(l)(h))}}}),define("higherOrderComponents/panelFrame/panelFrame",["lodash","react","create-react-class","reduxLibs","prop-types","constants","stateManagement","higherOrderComponents/connect/connect"],function(e,t,n,r,o,i,s,a){"use strict";var p=s.editorPlugins.panels.actions,c=p.openHelpCenter,u={setPanelType:p.setPanelType,closePanelByName:p.closePanelByName,openHelpCenter:c};return function(s){return function(p){return a(e.constant({}),u)(function(s,a){return n({displayName:r.recompose.wrapDisplayName(s,"PanelFrame"),propTypes:{selectedComponentType:o.string,onHelpClicked:o.func,panelName:o.string.isRequired,helpId:o.string,isSingleInstance:o.bool,setPanelType:o.func.isRequired,closePanelByName:o.func.isRequired,openHelpCenter:o.func},getDefaultProps:function(){return{isSingleInstance:!1}},componentWillMount:function(){this.props.setPanelType(this.props.panelName,a,this.props.isSingleInstance)},blockOuterScroll:function(e){var t=e.currentTarget,n=e.currentTarget.scrollHeight-e.currentTarget.offsetHeight,r=e.deltaY%3?e.deltaY:10*e.deltaY;t.scrollTop+r<=0?(t.scrollTop=0,e.preventDefault()):t.scrollTop+r>=n&&(t.scrollTop=n,e.preventDefault()),e.stopPropagation()},close:function(e){this.props.closePanelByName(this.props.panelName,e)},openHelpCenter:function(t){if(this.props.helpId){var n={learn_more:!1,origin:i.BI.HELP.ORIGIN.PANEL,panel_name:this.props.panelName,component:this.props.selectedComponentType};this.props.selectedComponentType||e.merge(n,e.pick(t,"component")),this.props.openHelpCenter(this.props.helpId,null,n)}this.props.onHelpClicked&&this.props.onHelpClicked()},render:function(){return t.createElement(s,e.assign({},this.props,{blockOuterScroll:this.blockOuterScroll,openHelpCenter:this.openHelpCenter,close:this.close}))}})}(p,s))}}}),define("higherOrderComponents/reportBiEventOnUiChange/reportBiEventOnUiChange",["lodash","reduxLibs","prop-types","core","coreUtilsLib","higherOrderComponents/connectEditorAPI/connectEditorAPI"],function(e,t,n,r,o,i){"use strict";var s=t.recompose.withContext,a=function(e){return{sendSelectedComponentBI:e.selectedComponent.sendSelectedComponentBI}},p={reportUIChange:n.func};return function(t){return i(a)(s(p,function(n){return{reportUIChange:function(i,s,a){var p=r.utils.uiControlsBIUtil.getEventDefinition(i);if(p){var c=r.utils.uiControlsBIUtil.getParams(i,a),u=e.assign({panel_name:t.displayName,control_name:s},c);n.sendSelectedComponentBI(p,u)}else o.log.warn("There is no BI event for the control [%s], in [%s] panel.\n\tDear developer, Please add the control mapping to core/bi/controlsToEvents and the event to core/bi/events.json .",i,t.displayName)}}})(t))}}),define("higherOrderComponents/compPanel/compPanel",["react","lodash","create-react-class","prop-types","util","coreUtilsLib","reduxLibs","stateManagement","higherOrderComponents/connectEditorAPI/connectEditorAPI","constants","higherOrderComponents/reportBiEventOnUiChange/reportBiEventOnUiChange"],function(e,t,n,r,o,i,s,a,p,c,u){"use strict";var l=a.editorPlugins.components.selectors.getBehaviors,d=a.editorPlugins.selection.selectors.getSelectedCompsRefs,h=a.editorPlugins.bi.actions,g=h.event,f=h.error,m=a.editorPlugins.panels.actions.openHelpCenter,y=function(e,n,r){var o=void 0;if(t.isUndefined(n))o=r;else if(t.isArray(n)&&t.isObject(r)){var i=t.pick(r,n);o=t.assign({},e,i)}else o=t.isObject(n)?t.assign({},e,n):t.defaults(_defineProperty({},n,r),e);return o},P=function(e,n){var r=e.store,o=r.dispatch,i=(0,r.getState)(),s=n.selectedComponents||d(i);if(t.isEmpty(s))return{};var a=e.components.style.getId(s);return{selectedComponents:s,compData:e.components.data.get(s),compProperties:e.components.properties.get(s),compLayout:e.components.layout.getRelativeToStructure(s),compDesign:e.components.design.get(s),compStyleId:a,updateStyle:e.components.style.update,compStyle:e.theme.styles.get(a),compSkin:e.components.skin.get(s),selectedComponentType:e.selection.getSelectedComponentType(),openHelpCenter:function(e,t,n){return o(m(e,t,n))},updateProperties:e.components.properties.update,updateData:e.components.data.update,updateDesign:e.components.design.update,updateLayout:e.components.layout.updateRelativeToStructure,compBehaviors:l(s,e.dsRead),updateBehavior:e.components.behaviors.update,removeBehavior:e.components.behaviors.remove,bi:{event:function(e,t){return o(g(e,t))},error:function(e,t){return o(f(e,t))}}}};return function(a){return p(P)(function(a){return n({displayName:s.recompose.wrapDisplayName(a,"compPanel"),propTypes:{compData:r.object,compDesign:r.object,compLayout:r.object.isRequired,compProperties:r.object,selectedComponentType:r.string.isRequired,openHelpCenter:r.func.isRequired,updateProperties:r.func.isRequired,updateData:r.func.isRequired,panelName:r.string.isRequired,updateDesign:r.func.isRequired,updateLayout:r.func.isRequired,updateStyle:r.func.isRequired,updateBehavior:r.func.isRequired,removeBehavior:r.func.isRequired,compBehaviors:r.arrayOf(r.object),selectedComponents:r.arrayOf(r.object).isRequired},openHelpCenter:function(e,n){if(e){var r=!t.isNil(n),o={component:this.props.selectedComponentType,learn_more:r?!!n:null,panel_name:this.props.panelName,origin:c.BI.HELP.ORIGIN.PANEL};this.props.openHelpCenter(e,null,o)}},updateProperties:function(e,t,n){var r=y(this.props.compProperties,e,t);r.id=r&&r.id?r.id:this.props.compProperties&&this.props.compProperties.id,this.props.updateProperties(this.props.selectedComponents,r,n)},updateData:function(e,t,n){var r=y(this.props.compData,e,t);r.id=r&&r.id?r.id:this.props.compData&&this.props.compData.id,this.props.updateData(this.props.selectedComponents,r,n)},updateDesign:function(e,t,n){var r=y(this.props.compDesign,e,t);r.id=r&&r.id?r.id:this.props.compDesign&&this.props.compDesign.id,this.props.updateDesign(this.props.selectedComponents,r,!1,n)},updateLayout:function(e,n){var r=i.objectUtils.cloneDeep(this.props.compLayout);t.isArray(e)?t.merge(r,n):r[e]=n,this.props.updateLayout(this.props.selectedComponents,r)},updateStyle:function(e){this.props.updateStyle(this.props.selectedComponents,e)},render:function(){var n=t.defaults({frameProps:o.panelUtils.getFrameProps(this.props),updateProperties:this.updateProperties,updateData:this.updateData,updateDesign:this.updateDesign,updateStyle:this.updateStyle,updateLayout:this.updateLayout},this.props);return e.createElement(a,n)}})}(u(a)))}}),define("higherOrderComponents/linkUserPreferences/linkUserPreferences",["lodash","react","prop-types","reduxLibs","stateManagement"],function(e,t,n,r,o){"use strict";return function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(s){return function(i){return function(s){var a=function(n){function r(e,t){_classCallCheck(this,r);var n=_possibleConstructorReturn(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e,t)),i=null;return n.props.userPrefType&&n.props.dontShowAgainKey&&(i=!!o.editorPlugins.userPreferences.selectors.getUserPreferences(n.props.userPrefType)(n.props.dontShowAgainKey)(n.context.store.getState())),n.state={dontShowAgain:i},n}return _inherits(r,t.Component),_createClass(r,[{key:"toggleDontShowAgain",value:function(){if(this.props.userPrefType&&this.props.dontShowAgainKey){var e=!this.state.dontShowAgain;this.context.store.dispatch(o.editorPlugins.userPreferences.actions.setSitePreferences(this.props.userPrefType)(this.props.dontShowAgainKey,e)),this.setState({dontShowAgain:e})}}},{key:"render",value:function(){var n=e.assign({},this.props,{toggleDontShowAgain:this.toggleDontShowAgain.bind(this),dontShowAgain:this.state.dontShowAgain});return t.createElement(s,n)}}]),r}();return a.displayName=r.recompose.wrapDisplayName(s,"LinkUserPreferences"),a.propTypes={userPrefType:n.oneOf(["site","session","global"]),dontShowAgainKey:n.string},a.contextTypes={store:n.object},a.defaultProps=i,a}}(i)(s)}}}),define("higherOrderComponents/linkStyle/linkStyle",["lodash","react","create-react-class","prop-types","reduxLibs","styles","higherOrderComponents/connectEditorAPI/connectEditorAPI"],function(e,t,n,r,o,i,s){"use strict";var a=i.advancedStyle.styleUtil,p=i.advancedStyle.advancedStyleDataUtil,c=["TEXT_COLOR","COLOR","BG_COLOR","BORDER_COLOR"];return e.flow(function(i){return n({displayName:o.recompose.wrapDisplayName(i,"LinkStyle"),propTypes:{styleId:r.string.isRequired,getStyleData:r.func.isRequired,getSkinDefinition:r.func.isRequired,updateStyle:r.func.isRequired,getParamValue:r.func.isRequired},getInitialState:function(){return this.cachedStylePropertiesForSkins={},{styleId:this.props.styleId,styleDataItem:this.props.getStyleData(this.props.styleId)}},componentDidMount:function(){this.mounted=!0},componentWillReceiveProps:function(e){e.styleId!==this.state.styleId&&this.setState({styleId:e.styleId,styleDataItem:this.props.getStyleData(e.styleId)})},componentWillUnmount:function(){this.mounted=!1},forceUpdateParentStyle:function(e){this.props.updateStyle(this.props.styleId,e),this.setState({styleDataItem:e})},onStyleParamChanged:function(t,n,r,o,i){var s=e.cloneDeep(t),p=s.style;"object"===(void 0===r?"undefined":_typeof(r))?(p.properties[n]=r.value,p.propertiesSource&&(p.propertiesSource[n]=r.source)):(p.properties[n]=r,p.propertiesSource&&(p.propertiesSource[n]=a.getPropertySource(r))),this.props.updateStyle(s.id,s,i),this.mounted&&this.setState({styleDataItem:s})},getStyleDataItemForNewSkin:function(t,n){var r=n.style,o=this.props.getSkinDefinition,i=a.getStyleForSkin(o,t,this.cachedStylePropertiesForSkins[t]);a.mergeSharedProperties(o,i.properties,r.properties,t,n.skin);var s=e.cloneDeep(n);return e.assign(s.style,i),s.skin=t,s},linkStyleParam:function(t,n,r){var o=this;if(e.includes(n,"COLOR_ALPHA"))return this.linkColorAlphaWithMutator(t,r);var i=this.state.styleDataItem;return{value:this.props.getParamValue(i,t),requestChange:function(i){o.onStyleParamChanged(o.state.styleDataItem,t,i,r||"active",function(t){return e.includes(c,t)}(n))}}},linkColorAlphaWithMutator:function(e,t){var n=this,r="alpha-"+e,o=this.state.styleDataItem,i=this.props.getParamValue(o,r);return{value:{color:this.props.getParamValue(o,e),alpha:i},requestChange:function(o){var i=o.alpha,s=o.color;n.props.getParamValue(n.state.styleDataItem,r)!==i?n.onStyleParamChanged(n.state.styleDataItem,r,i,t):n.onStyleParamChanged(n.state.styleDataItem,e,s,t)}}},cacheStylePropertiesForSkin:function(e,t){this.cachedStylePropertiesForSkins[e]=t},changeSkin:function(e){var t=this.state.styleDataItem;if(e!==t.skin){var n=this.getStyleDataItemForNewSkin(e,t);this.cacheStylePropertiesForSkin(t.skin,t.style.properties),this.props.updateStyle(this.props.styleId,n),this.setState({styleDataItem:n})}},render:function(){var n=e.defaults({linkStyleParam:this.linkStyleParam,changeSkin:this.changeSkin,forceUpdateParentStyle:this.forceUpdateParentStyle,styleDataItem:this.state.styleDataItem},this.props);return t.createElement(i,n)}})},s(function(t){var n=t.documentServices.theme.skins.getSkinDefinition;return{getStyleData:t.documentServices.theme.styles.get,getSkinDefinition:n,updateStyle:t.theme.styles.update,getParamValue:function(t,r){var o=t.style.properties[r];return e.isUndefined(o)?p.getSkinParamDefaultValue(n,t.skin,r):o}}}))}),define("higherOrderComponents/renderWhenMutated/renderWhenMutated",["lodash","react","create-react-class","reduxLibs"],function(e,t,n,r){"use strict";return function(o){return n({displayName:r.recompose.wrapDisplayName(o,"RenderWhenMutated"),shouldComponentUpdate:function(t){var n=e.keys(o.propTypes),r=this.props;return e.some(n,function(n){var o=r[n],i=t[n];return"children"===n?!!e.isFunction(o)||i!==o:!(e.isFunction(o)&&e.isFunction(i)||e.isEqual(o,i))})},render:function(){return t.createElement(o,this.props)}})}}),define("higherOrderComponents/noUpdateOnMouseMove/noUpdateOnMouseMove",["lodash","react","prop-types","create-react-class","higherOrderComponents/connect/connect","stateManagement","reduxLibs"],function(e,t,n,r,o,i,s){"use strict";var a=i.editorPlugins.mouseActions.selectors.isPerformingMouseMoveAction,p=function(e){return{isPerformingMouseMoveAction:a(e)}};return function(e){var i=r({displayName:s.recompose.wrapDisplayName(e,"NoUpdateOnMouseMove"),propTypes:{isPerformingMouseMoveAction:n.bool.isRequired},shouldComponentUpdate:function(){return!this.props.isPerformingMouseMoveAction},render:function(){return t.createElement(e,this.props)}});return o(p)(i)}}),define("higherOrderComponents/reportUIChange/reportUIChange",["react","prop-types","lodash"],function(e,t,n){"use strict";return function(r){var o=function(t){function o(){return _classCallCheck(this,o),_possibleConstructorReturn(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return _inherits(o,e.Component),_createClass(o,[{key:"reportUIChange",value:function(e,t){this.context&&this.context.reportUIChange&&this.context.reportUIChange(t||r.displayName,this.props.instanceId||this.props.label,e)}},{key:"render",value:function(){var t=this,o=n.defaults({reportUIChange:function(){return t.reportUIChange()}},this.props);return e.createElement(r,o)}}]),o}();return o.contextTypes={reportUIChange:t.func},o.propTypes={instanceId:t.string,label:t.string},o}}),define("higherOrderComponents/draggable/draggable",["react","reactDOM","zepto","lodash","util","create-react-class"],function(e,t,n,r,o,i){"use strict";var s=o.animationFrameUtils,a=s.request,p=s.cancel,c=o.math.ensureWithinLimits,u=n(window.document);return function(s){return i({displayName:"",getInitialState:function(){return this.dragCallbacks={},this.isBeingDragged=!1,this.draggable={},{isCustomPosition:!1}},componentWillUnmount:function(){this.draggable.element&&this.endDrag()},startDrag:function(e,o,i){var s=this.draggable;s.limits={x:[],y:[],lockedX:!1,lockedY:!1},s.element=n(r.isObject(i)&&t.findDOMNode(i)||t.findDOMNode(this)),"string"!=typeof o&&r.assign(s.limits,o);var a=s.element.offset();s.nodePosition={y:a.top-window.pageYOffset,x:a.left-window.pageXOffset},s.relPosition={x:e.pageX-window.pageXOffset-s.nodePosition.x,y:e.pageY-window.pageYOffset-s.nodePosition.y},s.nodeSizes={height:s.element.height(),width:s.element.width()},s.event={},u.on({"mousemove.draggable":this.onDrag,"mouseup.draggable":this.endDrag}),n(s.element).css({transition:"none"})},drag:function(){this.setState({isCustomPosition:!0});var e=this.draggable;e.pendingFrameRequest=0;var t=e.limits,n=e.event.pageX-window.pageXOffset-e.relPosition.x;n=t.lockedX?c(n,e.nodePosition.x,e.nodePosition.x):c(n,t.x[0],t.x[1]-e.nodeSizes.width);var r=e.event.pageY-window.pageYOffset-e.relPosition.y;r=t.lockedY?c(r,e.nodePosition.y,e.nodePosition.y):c(r,t.y[0],t.y[1]-e.nodeSizes.height),e.nodePosition.x=n,e.nodePosition.y=r;var i={left:e.nodePosition.x,top:e.nodePosition.y};this.dragCallbacks.whileDrag?this.dragCallbacks.whileDrag(i):o.elementUtils.setOffset(e.element,i.top,i.left)},onDrag:function(e){this.isBeingDragged||(this.isBeingDragged=!0,this.dragCallbacks.onDragStart&&this.dragCallbacks.onDragStart());var t=this.draggable;return t.event.pageX=e.pageX,t.event.pageY=e.pageY,t.pendingFrameRequest||(t.pendingFrameRequest=a(this.drag)),!1},endDrag:function(){u.off(".draggable");var e=this.draggable;p(e.pendingFrameRequest),e.pendingFrameRequest=0,n(e.element).css({transition:""}),this.isBeingDragged&&(this.isBeingDragged=!1,this.dragCallbacks.onDragEnd&&this.dragCallbacks.onDragEnd({left:e.nodePosition.x,top:e.nodePosition.y})),e.element=void 0},render:function(){var t=this,n=r.defaults({startDrag:this.startDrag,endDrag:this.endDrag,registerDragCallbacks:function(e){t.dragCallbacks=e},isBeingDragged:this.isBeingDragged,isCustomPosition:this.state.isCustomPosition},this.props);return e.createElement(s,n)}})}}),define("higherOrderComponents/withMeasurements/withMeasurements",["lodash","react","prop-types","create-react-class","higherOrderComponents/connect/connect","stateManagement","reduxLibs"],function(e,t,n,r,o,i,s){"use strict";var a=i.editorPlugins.domMeasurements.actions,p=a.clearMeasuredDOM,c=a.setMeasuredDOM;return function(a){return function(u){var l=r({displayName:s.recompose.wrapDisplayName(u,"withMeasurements"),propTypes:{domMeasurements:n.object,setMeasuredDOM:n.func.isRequired,clearMeasuredDOM:n.func.isRequired},componentDidMount:function(){if(this.measureFunc){var e=this.measureFunc();this.reportMeasure(e)}},componentDidUpdate:function(){if(this.measureFunc){var e=this.measureFunc();this.reportMeasure(e)}},componentWillUnmount:function(){this.props.clearMeasuredDOM(this.measureKey)},reportMeasure:function(t){e.isEqual(t,this.props.domMeasurements[this.measureKey])||this.props.setMeasuredDOM(this.measureKey,t)},registerMeasureFunc:function(t){return this.measureFunc=t,this.measureKey||(this.measureKey=e.uniqueId("comp-measure")),this.measureKey},render:function(){var n=e.defaults({registerMeasureFunc:this.registerMeasureFunc,measuredRes:this.props.domMeasurements[this.measureKey]},this.props);return t.createElement(u,n)}});return o(function(e){return{domMeasurements:i.editorPlugins.domMeasurements.selectors.getDomMeasurements(e)}},function(e){return{setMeasuredDOM:function(t,n){e(c(t,n))},clearMeasuredDOM:function(t){e(p(t))}}},a)(l)}}}),define("higherOrderComponents/userPreferences/withUserPreferences",["lodash","stateManagement","higherOrderComponents/connect/connect"],function(e,t,n){"use strict";var r=t.editorPlugins.userPreferences.selectors,o=r.getSiteUserPreferences,i=r.getSessionUserPreferences,s=r.getGlobalUserPreferences,a=t.editorPlugins.userPreferences.actions,p=a.setSiteUserPreferences,c=a.setSessionUserPreferences,u=a.setGlobalUserPreferences;return function(t){return n(function(n){return e.fromPairs(e.map(t,function(e){var t=e.type,r=e.key;return[e.propName,function(e,t,n){switch(t){case"site":return o(n)(e);case"session":return i(n)(e);case"global":return s(n)(e)}}(n,t,r)]}))},function(n){return e.fromPairs(e.map(t,function(e){var t=e.type,r=e.key;return[e.updatePropName,function(e,t,n){return function(r,o){switch(t){case"site":return e(p(n,r,o));case"session":return e(c(n,r));case"global":return e(u(n,r))}}}(n,t,r)]}))})}}),define("higherOrderComponents",["higherOrderComponents/connectEditorAPI/connectEditorAPI","higherOrderComponents/connect/connect","higherOrderComponents/connectEditorAPI/EditorAPIProvider","higherOrderComponents/overlappedCompTooltip/overlappedCompTooltip","higherOrderComponents/panelFrame/panelFrame","higherOrderComponents/compPanel/compPanel","higherOrderComponents/linkUserPreferences/linkUserPreferences","higherOrderComponents/linkStyle/linkStyle","higherOrderComponents/renderWhenMutated/renderWhenMutated","higherOrderComponents/noUpdateOnMouseMove/noUpdateOnMouseMove","higherOrderComponents/reportUIChange/reportUIChange","higherOrderComponents/draggable/draggable","higherOrderComponents/withMeasurements/withMeasurements","higherOrderComponents/reportBiEventOnUiChange/reportBiEventOnUiChange","higherOrderComponents/userPreferences/withUserPreferences"],function(e,t,n,r,o,i,s,a,p,c,u,l,d,h,g){"use strict";return{connectEditorAPI:e,connect:t,EditorAPIProvider:n,overlappedCompTooltip:r,panelFrame:o,compPanel:i,linkUserPreferences:s,linkStyle:a,renderWhenMutated:p,noUpdateOnMouseMove:c,reportUIChange:u,draggable:l,withMeasurements:d,reportBiEventOnUiChange:h,withUserPreferences:g}});
//# sourceMappingURL=higherOrderComponents.min.js.map