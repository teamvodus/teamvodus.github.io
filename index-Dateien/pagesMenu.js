define("pagesMenu/utils/constants",[],function(){"use strict";return Object.freeze({USI_SEO_MAX_LENGTH:35,NAME_MAX_LENGTH:40,TITLE_SEO_MAX_LENGTH:70,KEYWORD_SEO_MAX_LENGTH:250,KEYWORD_SEO_MAX_WORDS:10,DESCRIPTION_SEO_MAX_LENGTH:160,PASSWORD_TEMPLATE:"########",PASSWORD_MAX_LENGTH:15,INVALID_CHARACTERS:'[!#$%^&()+=}{";:\\/><~\\]\\[]',PERMISSION_STATES:{NONE:"none",PASSWORD:"password",MEMBERS:"members"}})}),define("pagesMenu/components/pageItem.rt",["react","lodash","baseUI","symbols","util","pagesMenu/utils/constants","constants"],function(e,t,a,s,n,i,o){"use strict";return function(){function n(){var n=this.state.isEditMode;return e.createElement("div",{className:t(this.getTopLevelClasses(this.quickActionsList.length)).transform(function(e,t,a){t&&e.push(a)},[]).join(" "),onClick:this.onClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},n?null:e.createElement("div",{className:"wrapper-view-mode",key:"pageInfo",onDoubleClick:this.onDoubleClick},this.shouldShowDragSymbol()?e.createElement(s.symbol,{name:"dragIcon",key:"drag-icon",className:"page-item-drag",dataHintMyData:"hint_my_data"}):null,e.createElement("span",{className:"page-title"},e.createElement("span",{className:"page-title-name"},this.props.label),this.props.isHome?e.createElement(s.symbol,{name:"pageItemHomeIcon",key:"isHome"}):null,this.props.isLink?e.createElement(s.symbol,{name:"pageItemLinkIcon",key:"isLink"}):null,this.props.isDropdown?e.createElement(s.symbol,{name:"pageItemDropdownIcon",key:"isDropDown"}):null,this.props.isVisible?null:e.createElement(s.symbol,{name:"pageItemHideIcon",key:"isHidden"}),this.props.isRouter?e.createElement(s.symbol,{name:"pageItemRouterIcon",key:"isRouter"}):null,this.props.routerType===o.ROUTER_TYPES.CUSTOM_ROUTER?e.createElement(s.symbol,{name:"pageItemCustomerRouterPageIcon",key:"isDynamicPageCustomRouter"}):null,this.props.routerType===o.ROUTER_TYPES.DATA_BINDING?e.createElement(s.symbol,{name:"pageItemDataBindingRouterPageIcon",key:"isDynamicPageDataBinding"}):null),this.shouldShowQuickActions()?e.createElement.apply(this,["ul",{className:"pages-quick-actions",key:"quickActions"},t.map(this.quickActionsList,function(t,a,s){return e.createElement("li",{key:"qAction"+s},a)}.bind(this,n))]):null),n?e.createElement(a.textInputWithFixedButton,t.assign({},{buttonLabel:"Pages_Actions_Rename_Button",key:"nameInput",maxLength:i.NAME_MAX_LENGTH,invalidMessage:"Pages_Info_Name_Error_Tooltip",ref:"nameInput",selectOnFocus:!0,onOuterClick:this.handleOuterClick,shouldChangeOnOuterClick:!0,validator:this.validateName},this.getInputProps())):null)}return n.apply(this,[])}}),define("pagesMenu/components/pageItem",["react","create-react-class","prop-types","lodash","util","pagesMenu/components/pageItem.rt","baseUI","coreUtilsLib","experiment"],function(e,t,a,s,n,i,o,r,l){"use strict";return t({displayName:"pageItem",propTypes:{label:a.string,value:a.string,onChange:a.func,isVisible:a.bool,isSelected:a.bool,onClick:a.func,depth:a.number,quickActionButtons:a.number,isHome:a.bool,isLink:a.bool,isDropdown:a.bool,isMobile:a.bool,isMobileVisible:a.bool,hasNotification:a.bool,editModeLink:a.object},mixins:[o.inputMixin,r.timersMixins.timeoutsMixin],getInitialState:function(){return{isEditMode:this.props.editModeLink&&this.props.editModeLink.value,hasMouseInside:!1,wasClicked:!1}},getTopLevelClasses:function(e){var t={"hidden-page":!this.props.isVisible,selected:this.props.isSelected,"has-notification":this.props.hasNotification,"edit-mode":this.state.isEditMode,"pages-tree-item":!0,"pages-tree-page-item-in-edit-mode":this.state.isEditMode,"disable-pages-drag":this.props.isMobile},a=this.props.isHome||this.props.isLink||this.props.isDropdown?1:0,n=this.props.isVisible?0:1;return t["icon-cnt-"+(a+n)]=!0,t["depth-"+(this.props.depth||0)]=!0,t["qa-"+(e||0)]=!0,l.isOpen("pagesFirstTimeSteps")&&s.forEach(this.props.additionalClasses,function(e){t[e]=!0}),t},getChildren:function(){var t=[];return e.Children.forEach(this.props.children,function(a){a&&e.isValidElement(a)&&t.push(e.cloneElement(a))}),t},getInputProps:function(){return s.omit(this.props,"label","isVisible","isSelected","onClick","isHome","isLink","isDropdown")},handleOuterClick:function(){this.props.editModeLink&&this.props.editModeLink.value&&this.props.editModeLink.requestChange(!1)},onDoubleClick:function(){this.props.isDynamicPage||this.props.isRouter||this.props.isSelected&&this.props.editModeLink&&!this.props.editModeLink.value&&this.props.editModeLink.requestChange(!0)},lastValidationMessage:null,validateName:function(e){return this.lastValidationMessage=n.validate.pageNameValidator(e),!this.lastValidationMessage},getLastValidationMessage:function(){return this.lastValidationMessage||""},render:function(){return this.quickActionsList=this.shouldShowQuickActions()?this.getChildren():[],i.call(this)},shouldShowQuickActions:function(){return(!this.props.isRouter||this.props.isRouter&&!this.props.isMobile)&&(this.state.hasMouseInside||this.props.isSelected||this.props.hasNotification)},shouldShowDragSymbol:function(){return!this.props.isDynamicPage&&!this.props.isRouter&&!this.props.isMobile},componentWillReceiveProps:function(e){this.setState({isEditMode:e.editModeLink&&e.editModeLink.value})},componentDidUpdate:function(e,t){this.state.isEditMode&&!t.isEditMode&&this.refs.nameInput.focusControl()},onMouseEnter:function(){this.setState({hasMouseInside:!0})},onMouseLeave:function(e){this.state.wasClicked||(s.isFunction(this.props.onMouseLeave)&&this.props.onMouseLeave(e),this.setState({hasMouseInside:!1})),this.setState({wasClicked:!1})},onClick:function(e){this.setState({wasClicked:!0}),this.props.onClick&&this.props.onClick(e)}})}),define("pagesMenu/utils/quickActionsUtils",["stateManagement"],function(e){"use strict";function t(e){return"quick-actions-notification-"+e}function a(a,s,n){var i=t(s);a.store.dispatch(e.editorPlugins.userPreferences.actions.setSessionUserPreferences(i,n))}return{hasNotification:function(a,s){var n=t(s);return e.editorPlugins.userPreferences.selectors.getSessionUserPreferences(n)(a.store.getState())},turnNotificationOn:function(e,t){a(e,t,!0)},turnNotificationOff:function(e,t){a(e,t,!1)}}}),define("pagesMenu/components/nodeContentCommon.rt",["react","lodash","pagesMenu/components/pageItem","pagesMenu/utils/quickActionsUtils"],function(e,t,a,s){"use strict";return function(){return function(){var n=this.props.dataSource;return e.createElement(a,t.assign({},{ref:"pageItem",value:n.label,actions:this.props.actions,hasNotification:n.type.isPage&&s.hasNotification(this.props.editorAPI,n.pageData.id),onChange:this.onChange,onClick:this.onClick,isMobile:"MOBILE"===this.props.editorAPI.documentServices.viewMode.get(),onMouseLeave:this.props.onMouseLeave,onContextMenu:this.props.setSelected},{label:n.label,isVisible:this.props.isVisible,isSelected:this.props.isSelected,isHome:n.pageData&&this.props.editorAPI.pages.isHomePage(n.pageData.id),isPage:n.type.isPage,isLink:n.type.isLink,isDropdown:n.type.isDropdown,isDynamicPage:n.type.isDynamicPage,routerType:n.type.routerType,isRouter:n.type.isRouter,depth:this.props.nodePath?this.props.nodePath.length-1:0,editModeLink:this.editModeLink(),additionalClasses:t.has(n,"additionalClasses")?n.additionalClasses:[]}),"\n\n    ",this.props.children,"\n")}.apply(this,[])}}),define("pagesMenu/components/nodeContentCommon",["create-react-class","prop-types","lodash","pagesMenu/components/nodeContentCommon.rt"],function(e,t,a,s){"use strict";return e({displayName:"nodeContentCommon",propTypes:{editorAPI:t.object.isRequired,dataSource:t.object.isRequired,onActionSelected:t.func,editedPageIdLink:t.object,setSelected:t.func,isVisible:t.bool,isSelected:t.bool,nodePath:t.array},onChange:function(e){this.props.onActionSelected&&this.props.onActionSelected("rename",this.props.dataSource,e),this.props.editedPageIdLink&&this.props.editedPageIdLink.requestChange(null)},editModeLink:function(){var e=this.props.dataSource,t=this.props.editedPageIdLink;return{value:t&&t.value===e.id,requestChange:function(a){t&&t.requestChange(a?e.id:null)}}},onClick:function(e){this.props.setSelected(e),a.isFunction(this.props.onClick)&&this.props.onClick(e)},render:s})}),define("pagesMenu/components/quickActionRenameMixin",[],function(){"use strict";return{actionSelectedHandler:function(e){"rename"===e?this.props.editedPageIdLink.requestChange(this.props.dataSource.id):this.props.onActionSelected(e,this.props.dataSource)}}}),define("pagesMenu/utils/pageUtils",["lodash","util"],function(e,t){"use strict";function a(t,s){return e.isUndefined(a.cache[s])&&(a.cache[s]=t.dsRead.pages.isContainsCompWithType(s,t.dsRead.tpa.constants.COMP_TYPES.TPA_MULTI_SECTION)),a.cache[s]}function s(t,n){return e.isUndefined(s.cache[n])&&(s.cache[n]=!a(t,n)),s.cache[n]}function n(t,a){return e.isUndefined(n.cache[a])&&(n.cache[a]=t.pages.isDuplicable(a)),n.cache[a]}return a.cache={},s.cache={},n.cache={},{canRemove:s,canDuplicate:n,isTPASectionSubPage:a,convertPageNameToUrl:function(e){var a=e.replace(/\s/g,"-");return t.validate.byInvalidCharacters(t.validationExpressions.invalidUrlCharacters)(a)?a.toLowerCase():"blank"}}}),define("pagesMenu/utils/pageMenuItemHelpers",["lodash","constants","pagesMenu/utils/pageUtils","util","coreBi","coreUtilsLib"],function(e,t,a,s,n,i){"use strict";function o(e,t,a){e.pages.data.update(t,a),e.history.debouncedAdd("Rename Page")}function r(t,n,i){var r={title:i};if(i&&n.title!==i)if(n.isPopup)o(t,n.id,r);else if(function(e,t){return!e.documentServices.generalInfo.urlFormat.isSlash()||!e.documentServices.generalInfo.isSitePublished()||t===s.translate("Pages_Menu_Add_New_Page")}(t,n.title)){var l=t.documentServices.generalInfo.urlFormat.isSlash()?t.pages.data.pageUriSEO:a,p=l.convertPageNameToUrl(i);p?(r.pageUriSEO=p,o(t,n.id,r)):s.googleTranslate(i,function(a){(p=l.convertPageNameToUrl(a))&&(r.pageUriSEO=p,r.translationData=e.assign({}||r.translationData,{uriSEOTranslated:!0})),o(t,n.id,r)})}else o(t,n.id,r)}function l(e){var t=new RegExp(/copy\s(\d+\s|)of\s/i),a=void 0;return t.test(e)?(a=RegExp.$1?parseInt(RegExp.$1,10)+1:2,e.replace(t,"Copy "+a+" of ")):((e=s.translate("Pages_Actions_Duplicate_CopyOf")+" "+e).length>E&&(e=e.substr(0,E-3)+"..."),e)}function p(e,t,s){var n=s?e.pages.popupPages.duplicate(t.id):e.pages.duplicate(t.id),i=l(t.title),o=(e.documentServices.generalInfo.urlFormat.isSlash()?e.pages.data.pageUriSEO:a).convertPageNameToUrl(i);return e.pages.data.update(n.id,{title:i,pageUriSEO:o}),n.id}function g(t,a,s){a.type.isPage?function(t,a,s,n){var i=t.documentServices.pages.getFocusedPageId(),o=p(t,a,!1);t.documentServices.waitForChangesApplied(function(){var a=h("#"+o,t);b(t,a.id,s),t.pages.navigateTo(o),t.history.add("duplicating a page",{currentPage:i}),t.documentServices.waitForChangesApplied(function(){e.isFunction(n)&&n(a.id,o)})})}(t,a.pageData,a.id,s):a.type.isDropdown?function(e,t,a){var s=l(t.label),n=e.documentServices.mainMenu.addHeaderItem(s,null,!t.isVisible,!t.isVisibleMobile);b(e,n,t.id),e.history.add("duplicating a dropdown"),e.documentServices.waitForChangesApplied(function(){a(n)})}(t,a,s):a.type.isLink?function(e,t,a){var s=e.data.getById(t.id).link,n=l(t.label),i=e.documentServices.mainMenu.addLinkItem(s,n,null,!t.isVisible,!t.isVisibleMobile);b(e,i,t.id),e.history.add("duplicating a link"),e.documentServices.waitForChangesApplied(function(){a(i)})}(t,a,s):i.log.error("not supported menu type")}function c(e,t){var a=e.documentServices.viewMode.get();return a===e.documentServices.viewMode.VIEW_MODES.DESKTOP?t.isVisible:a===e.documentServices.viewMode.VIEW_MODES.MOBILE&&t.isVisibleMobile}function u(e){var t=0===e.position;return!e.parent&&!t}function d(t,a){var s=void 0,i=void 0;u(a)&&(s=t.mainMenu.getMenuItemsTreeForMainMenu()[a.position-1],i=s.items.length,function(t,a,s,n){e.forEachRight(a.items,function(e){t.documentServices.waitForChangesApplied(function(){t.documentServices.mainMenu.moveItem(e.id,s,n)})})}(t,a,s.id,i),t.documentServices.waitForChangesApplied(function(){t.documentServices.mainMenu.moveItem(a.id,s.id,i),t.bi.event(n.events.topbar.pages.top_bar_PAGES_menu_sub_page_created,{origin:"quick actions"})})),t.history.add("subpaging a page")}function m(e){return null!==e.parent}function h(t,a){var s=a.documentServices.mainMenu.getMenu();return e.find(s,function(e){return e.link&&e.link.pageId===t})}function b(e,t,a){var s=P(e.mainMenu.getMenuItemsTreeForMainMenu(),a,null);e.documentServices.mainMenu.moveItem(t,s.parentId,s.itemIndex+1)}function P(e,t,a){for(var s={itemIndex:null,parentId:a},n=0;n<e.length;n++){var i=e[n];if(i.id===t)return s.itemIndex=n,s;if(i.items&&i.items.length){var o=P(i.items,t,i.id);if(null!==o.itemIndex)return o}}return s}var E=40;return{renamePage:r,renameMenuItem:function(e,t,a){a&&t.label!==a&&(e.documentServices.mainMenu.setItemLabel(t.id,a),e.history.debouncedAdd("Rename Menu Item"))},duplicatePopup:function(t,a,s){var n=t.documentServices.pages.getFocusedPageId(),i=p(t,a,!0);t.pages.navigateTo(i),t.history.add("popup page was duplicated",{currentPage:n}),t.documentServices.waitForChangesApplied(function(){e.isFunction(s)&&s(i)})},duplicateMenuItem:g,setHidden:function(e,t,a,s){var n={};"boolean"==typeof a?n.hidePage=a:a=!t.isVisible,"boolean"==typeof s?n.mobileHidePage=s:s=!t.isVisibleMobile,t.pageData?e.pages.data.update(t.pageData.id,n):e.documentServices.mainMenu.setItemVisibility(t.id,a,s),e.history.add("hiding a page")},removeMenuItem:function(e,t){if(t.pageData)if(e.mainMenu.hasOnlyLastPageMenuItem())e.panelManager.openPanel("panels.messagePanels.deleteLastPageMessage",{isLastPage:!0},!0);else{var a=e.documentServices.pages.getFocusedPageId();e.pages.remove(t.pageData.id,function(){e.history.add("removing a page",{currentPage:a})})}else e.pages.navigateTo(e.homePage.get(),function(){e.documentServices.mainMenu.removeItem(t.id),e.history.add("removing menu item")})},removePopup:function(t,a){t.documentServices.waitForChangesApplied(function(){t.pages.remove(a,e.partial(t.history.add,"removed popup"))})},subpage:d,moveUp:function(e,t){if(m(t)){var a=t.parent.parent&&t.parent.parent.id,s=t.parent.position+1;e.documentServices.mainMenu.moveItem(t.id,a,s),e.bi.event(n.events.topbar.pages.top_bar_PAGES_menu_user_reverted_to_main_page,{origin:"quick actions"})}e.history.add("moving a page out of its parent")},addPage:function(e,a,s,n,i){var o=void 0,r=e.pages.add(a,s);return e.documentServices.waitForChangesApplied(function(){o=h("#"+r.id,e),b(e,o.id,n),e.history.add("adding new page",{actionType:t.DS_ACTIONS.ADD_PAGE,nextPage:r.id}),e.pages.navigateTo(r.id),i(r.id,o.id)}),r},addLink:function(e,t,a,s,n){var i=e.documentServices.mainMenu.addLinkItem(t,a);b(e,i,s),e.documentServices.waitForChangesApplied(function(){n(i),e.history.add("adding new page link")})},updateLink:function(e,t,a){e.documentServices.mainMenu.updateLinkItem(t,a),e.history.add("updating menu link")},addDropdown:function(e,t,a,s){var n=e.documentServices.mainMenu.addHeaderItem(t);b(e,n,a),e.documentServices.waitForChangesApplied(function(){s(n),e.history.add("adding new page header")})},canBeSetAsDynamicPage:function(e,t){var a=t.pageData&&t.pageData.id;return!!a&&e.documentServices.routers.pages.isConnectablePage(a)},canDuplicate:function(e,t){return t.type.isPage&&t.pageData?a.canDuplicate(e,t.pageData.id):t.type.isDropdown||t.type.isLink},canUnhide:function(e,t){return!c(e,t)},canHide:c,canRemoveMenuItem:function(e,t){return!t.pageData||a.canRemove(e,t.pageData.id)},canSubpage:u,canMoveUp:m,getPublicUrl:function(e,t){var a=e.documentServices.generalInfo.getPublicUrl(),s=e.documentServices.generalInfo.isFirstSave()?a+"your-site-name":"";return e.pages.getPageUrl(t.id,s)}}}),define("pagesMenu/components/mixedList/nodeContentWithQuickAction.rt",["react","lodash","pagesMenu/components/nodeContentCommon","pagesMenu/utils/pageMenuItemHelpers","pagesMenu/utils/quickActionsUtils","util","baseUI","symbols"],function(e,t,a,s,n,i,o,r){"use strict";return function(){return e.createElement(a,this.getNodeContentProps(),function(){var t=this.props.dataSource,a=t.pageData?t.pageData.id:t.id,l=i.translate,p=this.getEditorAPI();return e.createElement(o.dropDown.contextMenu,{toggleIcon:!1,shouldTranslate:!1,className:"quick-actions action-button",onChange:this.actionSelectedHandler,onNotificationClick:n.hasNotification(p,a)?this.props.onNotificationClick:void 0,notificationCount:1,icon:"moreRegular"},e.createElement(o.dropDown.option,{value:"settings"},e.createElement("div",{className:"svg-container"},e.createElement(r.symbol,{name:"quickActionsSettings"})),e.createElement("span",{className:"qa-label"},l("Pages_Actions_Page_Settings"))),e.createElement(o.dropDown.option,{value:"rename"},e.createElement("div",{className:"svg-container"},e.createElement(r.symbol,{name:"quickActionsRename"})),e.createElement("span",{className:"qa-label"},l("Pages_Actions_Page_Rename"))),s.canUnhide(this.getEditorAPI(),t)?e.createElement(o.dropDown.option,{key:"unhideOption",value:"unhide"},e.createElement("div",{className:"svg-container"},e.createElement(r.symbol,{name:"quickActionsShow"})),e.createElement("span",{className:"qa-label"},l("Pages_Actions_Page_Unhide"))):null,s.canHide(this.getEditorAPI(),t)?e.createElement(o.dropDown.option,{key:"hideOption",value:"hide"},e.createElement("div",{className:"svg-container"},e.createElement(r.symbol,{name:"quickActionsHide"})),e.createElement("span",{className:"qa-label"},l("Pages_Actions_Page_Hide"))):null,s.canRemoveMenuItem(this.getEditorAPI(),t)?e.createElement(o.dropDown.option,{key:"removeOption",value:"remove"},e.createElement("div",{className:"svg-container"},e.createElement(r.symbol,{name:"qaDelete"})),e.createElement("span",{className:"qa-label"},l("Pages_Actions_Page_Delete"))):null)}.apply(this,[]))}}),define("pagesMenu/components/mixedList/nodeContentWithSettingsLink.rt",["react","lodash","symbols","pagesMenu/components/nodeContentCommon"],function(e,t,a,s){"use strict";return function(){return e.createElement(s,this.getNodeContentProps(),e.createElement("a",{href:"javascript://settings",className:"action-button action-settings",onClick:function(){this.props.onActionSelected("settings",this.props.dataSource)}.bind(this)},e.createElement(a.symbol,{name:"quickActionsSettings"})))}}),define("pagesMenu/components/mixedList/nodeContentUniversalRenderer",["create-react-class","prop-types","core","lodash","pagesMenu/components/quickActionRenameMixin","pagesMenu/components/mixedList/nodeContentWithQuickAction.rt","pagesMenu/components/mixedList/nodeContentWithSettingsLink.rt"],function(e,t,a,s,n,i,o){"use strict";return e({displayName:"nodeContentUniversalRenderer",mixins:[a.mixins.editorAPIMixin,n],propTypes:{isBelongToSubmenu:t.bool.isRequired,dataSource:t.object.isRequired,onActionSelected:t.func.isRequired,editedPageIdLink:t.object,setSelected:t.func,isSelected:t.bool},getRenderFn:function(){return this.getEditorAPI().isMobileEditor()?o:this.props.isBelongToSubmenu?o:i},getNodeContentProps:function(){var e=this.getEditorAPI(),t=void 0;return t=!!this.props.isBelongToSubmenu||(e.isMobileEditor()?this.props.dataSource.isVisibleMobile:this.props.dataSource.isVisible),s.assign({},this.props,{isVisible:t,editorAPI:e})},render:function(){return this.getRenderFn().call(this)}})}),define("pagesMenu/settings/tabs/dynamicPageSettingsNoDevMode.rt",["react","lodash","util","baseUILib"],function(e,t,a,s){"use strict";return function(){return e.createElement("div",{className:"tab tab-dynamic-page-no-dev-node"},function(){return a.translate,e.createElement(s.CustomScroll,{},e.createElement("div",{className:t({"tab-inner":!0}).transform(function(e,t,a){t&&e.push(a)},[]).join(" ")},e.createElement(s.Composites.RichTextLabeled,{},e.createElement(s.TextLabel,{type:"T06",value:a.translate("PLATFORM_PAGE_SETTINGS_DEVTOOLS_DISABLED_TITLE"),shouldTranslate:!1}),e.createElement(s.RichText,{},e.createElement("p",{},a.translate("Platform_Page_Settings_DevTools_Disabled_Paragraph1")),e.createElement("p",{},a.translate("Platform_Page_Settings_DevTools_Disabled_Paragraph2"))))))}.apply(this,[]))}}),define("pagesMenu/settings/tabs/dynamicPageSettingsNoDevMode",["create-react-class","pagesMenu/settings/tabs/dynamicPageSettingsNoDevMode.rt"],function(e,t){"use strict";return e({displayName:"dynamicPageSettingsNoDevMode",render:t})}),define("pagesMenu/settings/dynamicPageSettingsPanelTabs.rt",["react","lodash","baseUI","util"],function(e,t,a,s){"use strict";return function(){function n(){var n=this.props.menuItem.pageData,i=s.translate;return e.createElement("div",{},e.createElement(a.tabs.holder,{value:this.props.selectedTab,className:"top page-settings-tabs dynamic-page-settings-tabs",onChange:function(e,t,a){this.props.setActiveTab(a)}.bind(this,n,i)},e.createElement.apply(this,[a.tabs.header,{},t.map(this.props.tabs,function(t,s,n,i){return e.createElement(a.tabs.label,{tabsAmount:this.props.tabs.length,key:n.title+i,htmlFor:n.title},n.title)}.bind(this,n,i))]),e.createElement.apply(this,[a.tabs.content,{className:"page-settings-panel-content"},t.map(this.props.tabs,function(t,s,n,i){return e.createElement(a.tabs.tab,{key:i,name:n.title,children:this.getTabContent(n,i)})}.bind(this,n,i))])))}return n.apply(this,[])}}),define("pagesMenu/settings/tabs/tabLayout.rt",["react","lodash","baseUI","symbols","util","baseUILib"],function(e,t,a,s,n,i){"use strict";return function(){return function(){var t=n.translate;return e.createElement(i.CustomScroll,{},e.createElement("div",{className:"layout tab-inner"},e.createElement(a.tabs.holder,{className:"left radio",valueLink:this.linkPageProperty("isLandingPage")},e.createElement(a.tabs.header,{},e.createElement(a.tabs.label,{htmlFor:!1},e.createElement(s.symbol,{name:"layoutStandardSelected"}),e.createElement(s.symbol,{name:"layoutStandardNotSelected"}),e.createElement("div",{},e.createElement("h3",{},t("Pages_Layouts_Standard_Title")),e.createElement("p",{},t("Pages_Layouts_Standard_Text")))),e.createElement(a.tabs.label,{htmlFor:!0},e.createElement(s.symbol,{name:"layoutLandingSelected"}),e.createElement(s.symbol,{name:"layoutLandingNotSelected"}),e.createElement("div",{},e.createElement("h3",{},t("Pages_Layouts_Landing_Title")),e.createElement("p",{},t("Pages_Layouts_Landing_Text"),e.createElement("br",{}),e.createElement(a.button,{label:"Pages_Layouts_Landing_Learn",className:"btn-text",onClick:this.openLearnMore}))))))))}.apply(this,[])}}),define("pagesMenu/settings/tabs/pageSettingsTabMixin",["core"],function(e){"use strict";return{mixins:[e.mixins.editorAPIMixin],getPageData:function(){return this.props.pageData||this.props.menuItem.pageData},getPageId:function(){var e=this.getPageData();return e?e.id:null},getValueFromPageData:function(e){var t=this.getPageData();return t&&t[e]},linkPageProperty:function(e){var t=this.getPageId(),a=this.getEditorAPI(),s={};return{value:this.getValueFromPageData(e),requestChange:function(n){a.history.add("page property change"),s[e]=n,a.pages.data.update(t,s)}}},linkInversePageProperty:function(e){var t=this.getPageId(),a=this.getEditorAPI(),s={};return{value:!this.getValueFromPageData(e),requestChange:function(n){s[e]=!n,a.pages.data.update(t,s)}}}}}),define("pagesMenu/settings/tabs/tabLayout",["create-react-class","prop-types","pagesMenu/settings/tabs/tabLayout.rt","constants","pagesMenu/settings/tabs/pageSettingsTabMixin"],function(e,t,a,s,n){"use strict";return e({displayName:"tabLayout",mixins:[n],propTypes:{menuItem:t.object.isRequired},openLearnMore:function(){var e={panel_name:"tab_layout",origin:s.BI.HELP.ORIGIN.PAGES,learn_more:!0};this.getEditorAPI().panelManager.openHelpCenter("97778018-fd88-4953-8be3-d994a1637882",null,e)},render:a})}),define("pagesMenu/settings/tabs/tabPermissions.rt",["react","lodash","baseUI","symbols","util","pagesMenu/utils/constants","experiment","baseUILib"],function(e,t,a,s,n,i,o,r){"use strict";return function(){function s(){var s=n.translate;return e.createElement(r.CustomScroll,{},e.createElement("div",{className:"privacy tab-inner page-settings-permissions-tab"},e.createElement(a.tabs.holder,{className:"left radio",valueLink:this.getTabFocusLink()},e.createElement(a.tabs.header,{},e.createElement(a.tabs.label,{htmlFor:i.PERMISSION_STATES.NONE},e.createElement("h4",{},s("Pages_Permissions_NoRestrict_Title")),e.createElement("span",{},s("Pages_Permissions_NoRestrict_Text"))),e.createElement(a.tabs.label,{htmlFor:"password"},e.createElement("h4",{},s("Pages_Permissions_Password_Title")),e.createElement("span",{},s("Pages_Permissions_Password_Text")),this.state.focusedProtectionType===i.PERMISSION_STATES.PASSWORD?e.createElement("div",{className:"password-settings-content",key:"page-settings-tab-privacy-password"},e.createElement("hr",{className:"separator-permissions-password"}),e.createElement(r.Composites.TextInputLabeled,{},e.createElement(r.TextLabel,{value:"Pages_Permissions_Password_Choose"}),this.shouldShowPasswordMockElement()?e.createElement(r.TextInput,{key:"passwordMockElement",onClick:this.onPasswordFocus,value:i.PASSWORD_TEMPLATE,type:"password"}):null,this.shouldShowPasswordMockElement()?null:e.createElement(r.TextInput,{key:"realPasswordElement",focus:!this.isPasswordHidden(),onFocus:this.onPasswordFocus,onBlur:this.onPasswordBlur,value:this.state.plainPassword,type:this.state.passwordInputType,placeholder:"Pages_Permissions_Password_Placeholder",maxLength:i.PASSWORD_MAX_LENGTH,validator:this.isValidPassword,invalidMessage:"Pages_Permissions_Password_Error_Tooltip"})),e.createElement("hr",{className:"separator-permissions-password-language"}),e.createElement.apply(this,[a.dropDown.select,{className:"control-permissions-password-language",valueLink:this.getDialogLanguageLink("passwordDialogLanguage"),label:"Pages_Permissions_Password_Language",tabIndex:1},t.map(n.languages.getLanguagesList(),function(t,s,n){return e.createElement(a.dropDown.option,{key:s.value,value:s.value},"\n                                ",s.label,"\n                            ")}.bind(this,s))])):null),e.createElement(a.tabs.label,{htmlFor:i.PERMISSION_STATES.MEMBERS},e.createElement("h4",{},s("Pages_Permissions_Members_Title")),e.createElement("span",{},s("Pages_Permissions_Members_Text")),this.state.focusedProtectionType===i.PERMISSION_STATES.MEMBERS?e.createElement("div",{key:"page-settings-tab-privacy-member"},e.createElement("p",{className:"site-members-info"},"\n                            ",s("Pages_Permissions_Members_Link"),"\n                            ",this.isSiteSaved()?e.createElement("a",{key:"page-settings-tab-privacy-member-url",href:this.getSiteMembersUrl(),target:"_blank"},e.createElement(a.button,{label:"Pages_Permissions_Members_Link_Clickhere",className:"btn-text"})):null,this.isSiteSaved()?null:e.createElement("span",{key:"page-settings-tab-privacy-member-non-url"},"\n                                ",s("Pages_Permissions_Members_Link_Clickhere"),"\n                            ")),e.createElement("hr",{className:"separator-site-members-info"}),e.createElement.apply(this,[a.dropDown.select,{className:"control-permissions-member-language",valueLink:this.getDialogLanguageLink("membersDialogLanguage"),label:"Pages_Permissions_Members_Language",tabIndex:2},t.map(n.languages.getLanguagesList(),function(t,s,n){return e.createElement(a.dropDown.option,{key:s.value,value:s.value},"\n                                ",s.label,"\n                            ")}.bind(this,s))]),e.createElement("hr",{className:"separator-permissions-member-language"}),e.createElement("div",{className:"site-members-settings",key:"smSettingsPanelBtn"},e.createElement(a.symbol,{name:"site-members"}),e.createElement("a",{className:"link",onClick:this.openSiteMembersSettingsPanel},s("Pages_Permissions_Member_Signup_Settings_Label")),e.createElement(a.infoIcon,{text:"Pages_Permissions_Member_Signup_Settings_Tooltip"}))):null)))))}return s.apply(this,[])}}),define("pagesMenu/settings/tabs/tabPermissions",["create-react-class","lodash","util","pagesMenu/utils/constants","pagesMenu/settings/tabs/tabPermissions.rt","coreBi","pagesMenu/settings/tabs/pageSettingsTabMixin"],function(e,t,a,s,n,i,o){"use strict";var r=function(e,t,a,s){e.pages.data.update(t,{pageSecurity:a}),function(e,t,a){e.bi.event(i.events.topbar.pages.top_bar_PAGES_settings_privacy_changed,{privacy:a,page_id:t})}(e,t,s)},l=function(e,t){e.pages.permissions.removePassword(t)};return e({displayName:"tabPermissions",mixins:[o],getInitialState:function(){return this.getInitialPageState()},componentWillReceiveProps:function(e){e.pageData.id!==this.state.pageId&&this.setState(this.getInitialPageState())},getInitialPageState:function(){return{focusedProtectionType:this.getInitialProtectionType(),passwordDialogLanguage:this.getInitialLanguage(),membersDialogLanguage:this.getInitialLanguage(),pageId:this.props.pageData.id,isNewValidPasswordInserted:!1,passwordInputType:"password",plainPassword:""}},getInitialProtectionType:function(){return t.get(this.props,"pageData.pageSecurity").requireLogin?s.PERMISSION_STATES.MEMBERS:this.isPageProtectedWithPassword()?s.PERMISSION_STATES.PASSWORD:s.PERMISSION_STATES.NONE},isPageProtectedWithPassword:function(){return!t.isEmpty(t.get(this.props,"pageData.pageSecurity.passwordDigest"))||function(e,t){return e.pages.permissions.hasPassword(t)}(this.getEditorAPI(),this.props.pageData.id)},savePageSecurityData:function(){var e=this.props.pageData.id,a=t.partialRight(r,this.state.focusedProtectionType);switch(this.state.focusedProtectionType){case s.PERMISSION_STATES.NONE:a(this.getEditorAPI(),e,{requireLogin:!1}),l(this.getEditorAPI(),e);break;case s.PERMISSION_STATES.PASSWORD:this.state.isNewValidPasswordInserted&&function(e,t,a){e.pages.permissions.updatePassword(t,a)}(this.getEditorAPI(),e,this.state.plainPassword),(this.state.isNewValidPasswordInserted||this.isPageProtectedWithPassword())&&a(this.getEditorAPI(),e,{requireLogin:!1,dialogLanguage:this.state.passwordDialogLanguage});break;case s.PERMISSION_STATES.MEMBERS:a(this.getEditorAPI(),e,{requireLogin:!0,dialogLanguage:this.state.membersDialogLanguage}),l(this.getEditorAPI(),e)}},setFocusedProtectionType:function(e){this.setState({focusedProtectionType:e},this.savePageSecurityData)},isSiteSaved:function(){return!this.getEditorAPI().documentServices.generalInfo.isFirstSave()},getSiteMembersUrl:function(){return"//www.wix.com/my-account/sites/"+this.getEditorAPI().documentServices.generalInfo.getMetaSiteId()+"/contacts/?tag=contacts-site_members_approved"},getInitialLanguage:function(){var e=this.getEditorAPI().documentServices.generalInfo.getLanguage(),a=t.get(this.props,"pageData.pageSecurity.dialogLanguage");return t.isEmpty(a)?e:a},isValidPassword:function(e){var t=a.validate.byInvalidCharacters(s.INVALID_CHARACTERS);return a.validate.notEmpty(e)&&t(e)},isPasswordHidden:function(){return"password"===this.state.passwordInputType},shouldShowPasswordMockElement:function(){return this.isPasswordHidden()&&t.isEmpty(this.state.plainPassword)&&this.isPageProtectedWithPassword()},onPasswordBlur:function(e){var t=e.target.value;this.setState({plainPassword:t,isNewValidPasswordInserted:this.isValidPassword(t),passwordInputType:"password"},this.savePageSecurityData)},onPasswordFocus:function(){"text"!==this.state.passwordInputType&&this.setState({passwordInputType:"text"})},setDialogLanguage:function(e,t){var a={};a[e]=t,this.setState(a,this.savePageSecurityData),this.getEditorAPI().bi.event(i.events.topbar.pages.top_bar_PAGES_settings_privacy_language_selected_click,{language_selected:t,category:this.state.focusedProtectionType})},getDialogLanguageLink:function(e){return{value:this.state[e],requestChange:function(t){this.state[e]!==t&&this.setDialogLanguage(e,t)}.bind(this)}},getTabFocusLink:function(){return{value:this.state.focusedProtectionType,requestChange:function(e){this.state.focusedProtectionType!==e&&this.setFocusedProtectionType(e)}.bind(this)}},openSiteMembersSettingsPanel:function(){this.getEditorAPI().panelManager.openPanel("panels.focusPanels.siteMembersSettingsPanel",{panelName:"panels.focusPanels.siteMembersSettingsPanel"},!0)},render:n})}),define("pagesMenu/settings/dynamicPageSettingsPanelTabs",["react","create-react-class","prop-types","baseUI","platform","lodash","core","pagesMenu/settings/tabs/dynamicPageSettingsNoDevMode","pagesMenu/settings/dynamicPageSettingsPanelTabs.rt","pagesMenu/settings/tabs/tabLayout","pagesMenu/settings/tabs/tabPermissions"],function(e,t,a,s,n,i,o,r,l,p,g){"use strict";return t({mixins:[o.mixins.editorAPIMixin],displayName:"dynamicPageSettingsPanelTabs",propTypes:{menuItem:a.object.isRequired,selectedTab:a.string,setActiveTab:a.func.isRequired,tabs:a.array.isRequired},render:l,componentWillMount:function(){var e=this.getEditorAPI(),t=e.components.get.byId(this.props.menuItem.pageData.id);if(t){var a=e.documentServices.routers.getRouterRef.byPage(t);this.routerData=a?e.documentServices.routers.get.byRef(a):""}else this.routerData=""},getInitialState:function(){return{iframeLoaded:!1}},shouldComponentUpdate:function(e){var t=this.getEditorAPI(),a=t.components.get.byId(this.props.menuItem.pageData.id);if(a){var s=t.documentServices.routers.getRouterRef.byPage(a),n=s?t.documentServices.routers.get.byRef(s):"";if(!i.isEqual(n,this.routerData))return this.routerData=n,!0}else this.routerData="";return this.props.developerModeEnabled!==e.developerModeEnabled||!!(this.props.menuItem.pageData.id!==e.menuItem.pageData.id||e.selectedTab&&this.props.selectedTab!==e.selectedTab)},getPostMessageHandler:function(e){var t=this.getEditorAPI(),a=t.components.get.byId(this.props.menuItem.pageData.id),s={routerRef:t.documentServices.routers.getRouterRef.byPage(a),publicUrl:t.documentServices.generalInfo.getPublicUrl(),pageRef:a,origin:"dynamic_page_settings_panel_tab"};return n.platformPostMessageService.createPostMessageListener({token:e,initialData:s},e)},getAppData:function(){var e=this.getEditorAPI(),t=e.components.get.byId(this.props.menuItem.pageData.id),a=e.documentServices.routers.getRouterRef.byPage(t);if(a){var s=e.documentServices.routers.get.byRef(a);return{appDefId:s.appDefinitionId,applicationId:i.get(e.documentServices.platform.getAppDataByAppDefId(s.appDefinitionId),"applicationId")}}},getIframeFullSrc:function(e,t,a){var s=this.getEditorAPI().documentServices.platform.getAppDataByAppDefId(t);return n.utils.getFullApplicationUrl(s,e,t,a)},iframeLoadedHandler:function(){},getTabContent:function(t,a){var o=n.constants,l=this.state.iframeLoaded?"content-iframe loaded":"content-iframe";if(i.isObject(t)&&t.url){var c=this.getEditorAPI(),u=[c.documentServices.platform.editorApps.DYNAMIC_PAGES.appDefId,c.documentServices.platform.editorApps.DATA_BINDING.appDefId],d=this.getAppData();return i.includes(u,d.appDefId)&&!this.props.developerModeEnabled?e.createElement(r,i.assign({},this.props,{key:"dynamic-page-default-tab"+this.props.menuItem.pageData.id+a+d.appDefId})):e.createElement(s.iframe,i.assign({},this.props,{key:"dynamic-page-iframe"+this.props.menuItem.pageData.id+a+d.appDefId,ref:"dynamic-page-iframe"+this.props.menuItem.pageData.id+d.appDefId,className:l,appData:d,name:this.props.token,src:this.getIframeFullSrc(t.url,d.appDefId,d.applicationId),onPostMessage:this.getPostMessageHandler(this.props.token),onLoad:this.iframeLoadedHandler}))}switch(t.type){case o.pages.page_settings.layout.type:case o.pages.page_settings.layout.fallbackType:return e.createElement(p,i.assign({},this.props,{menuItem:this.props.menuItem,key:"tab-layout"+a+this.props.menuItem.pageData.id}));case o.pages.page_settings.permissions.type:case o.pages.page_settings.permissions.fallbackType:return e.createElement(g,i.assign({},this.props,{pageData:this.props.menuItem.pageData,key:"tab-premissions"+a+this.props.menuItem.pageData.id}))}}})}),define("pagesMenu/settings/tabs/tabPageInfoMainMenu.rt",["react","lodash","baseUI","symbols","util","core","pagesMenu/utils/constants","pagesMenu/utils/pageMenuItemHelpers","baseUILib"],function(e,t,a,s,n,i,o,r,l){"use strict";return function(){return function(){this.props.menuItem.pageData;var t=n.translate,i=this.isHomePage();return e.createElement(l.CustomScroll,{},e.createElement("div",{className:"page-info tab-inner"},e.createElement("section",{className:"section-page-title"},e.createElement(a.textInput,{className:"control-text-input",label:"Pages_Info_Name_Title",maxLength:o.NAME_MAX_LENGTH,validator:[n.validate.notEmptyString,n.validate.noHTMLTags],invalidMessage:"Pages_Info_Name_Error_Tooltip",value:this.getValueFromPageData("title"),onChange:this.onChange,validateOnBlurOnly:!0,infoText:"Pages_Info_Name_Tooltip"})),e.createElement("section",{className:"section-hide-page"},e.createElement(l.ToggleSwitch,{value:this.linkPageProperty("hidePage").value,label:"Pages_Info_Hide_Toggle",onChange:this.linkPageProperty("hidePage").requestChange})),i?null:e.createElement("section",{key:"page-settings-tab-page-non-home",className:"page-settings-control-description"},e.createElement("span",{},t("Pages_Info_Home_NotSelected")),e.createElement(a.button,{icon:"settingsHome",label:"Pages_Info_Home_Set",onClick:this.setAsHomepage})),i?e.createElement("section",{key:"page-settings-tab-page-home",className:"page-settings-control-description"},e.createElement("span",{},e.createElement(s.symbol,{name:"settingsHome"}),t("Pages_Info_Home_IsSelected")),e.createElement(a.infoIcon,{className:"page-settings-change-homepage-tooltip",uniqueId:"changeHomePageTooltip",title:"Pages_Info_Home_Popup_Title",text:"Pages_Info_Home_Popup_Text"})):null))}.apply(this,[])}}),define("pagesMenu/settings/tabs/tabPageInfoMainMenu",["create-react-class","prop-types","lodash","pagesMenu/utils/pageMenuItemHelpers","pagesMenu/settings/tabs/pageSettingsTabMixin","coreBi","pagesMenu/settings/tabs/tabPageInfoMainMenu.rt"],function(e,t,a,s,n,i,o){"use strict";return e({displayName:"tabPageInfoMainMenu",mixins:[n],render:o,propTypes:{menuItem:t.object.isRequired},setAsHomepage:function(){var e=this.getEditorAPI();e.homePage.set(this.getPageId()),e.bi.event(i.events.topbar.pages.top_bar_PAGES_settings_page_info_home_page_change_set_click)},onChange:function(e){s.renamePage(this.getEditorAPI(),this.props.menuItem.pageData,e)},isHomePage:function(){return!(!this.props.menuItem.pageData||!this.props.menuItem.pageData.id)&&this.getEditorAPI().pages.isHomePage(this.props.menuItem.pageData.id)}})}),define("pagesMenu/settings/tabs/googlePreviewExpandable.rt",["react","lodash","baseUI","util","symbols","pagesMenu/utils/pageMenuItemHelpers"],function(e,t,a,s,n,i){"use strict";return function(){return function(){var a=s.translate;return e.createElement("div",{className:t({"google-preview":!0,expanded:this.isExpanded()}).transform(function(e,t,a){t&&e.push(a)},[]).join(" ")},this.props.shouldHideExpandingButton?null:e.createElement("div",{key:"google-seo-expand-button",className:"google-preview-header",onClick:function(e,t){this.openGooglePreview()}.bind(this,a,"Pages_SEO_Description_Placeholder")},e.createElement("div",{className:"google-preview-corner-container left"},e.createElement("div",{className:"google-preview-corner"})),e.createElement("div",{className:"google-preview-corner-container right"},e.createElement("div",{className:"google-preview-corner"})),e.createElement(n.symbol,{name:"equals"}),e.createElement(n.symbol,{name:"arrowDown"}),e.createElement("span",{className:"google-preview-header-title"},a("Pages_SEO_Preview_Caption")),e.createElement("div",{className:"google-preview-bottom-header-border"})),e.createElement("p",{className:"google-preview-title"},e.createElement("span",{className:"google-preview-title-site-name"},this.getTitle())),e.createElement("p",{className:"google-preview-url"},i.getPublicUrl(this.getEditorAPI(),this.props.pageData)),e.createElement("p",{className:"google-preview-description"},this.props.previewDescriptionText||this.getValueFromPageData("descriptionSEO")||a("Pages_SEO_Description_Placeholder")))}.apply(this,[])}}),define("pagesMenu/settings/tabs/googlePreviewExpandable",["react","create-react-class","prop-types","pagesMenu/settings/tabs/pageSettingsTabMixin","pagesMenu/settings/tabs/googlePreviewExpandable.rt"],function(e,t,a,s,n){"use strict";return t({displayName:"googlePreviewExpandable",mixins:[s,e.addons.LinkedStateMixin],render:n,propTypes:{pageData:a.object.isRequired,isExpanded:a.bool,shouldHideExpandingButton:a.bool,isExpandedLink:a.object,previewDescriptionText:a.string},isExpanded:function(){return this.props.isExpanded||this.props.isExpandedLink.value},openGooglePreview:function(){this.props.isExpandedLink.requestChange(!this.props.isExpandedLink.value)},getTitle:function(){if(this.props.title)return this.props.title;var e=this.getEditorAPI();return this.getValueFromPageData("pageTitleSEO")?this.getValueFromPageData("pageTitleSEO"):(e.documentServices.seo.title.get()||e.siteName.get())+(e.pages.isHomePage(this.props.pageData.id)?"":" | "+this.getValueFromPageData("title"))}})}),define("pagesMenu/settings/tabs/seoUrlSettings.rt",["react","lodash","baseUI","util","pagesMenu/settings/tabs/googlePreviewExpandable","pagesMenu/utils/pageMenuItemHelpers","pagesMenu/utils/constants","baseUILib"],function(e,t,a,s,n,i,o,r){"use strict";return function(){return e.createElement("div",{className:this.getClassName("seo-section-page-address"),key:"section-page-address"},e.createElement("span",{className:"seo-section-title-label"},s.translate("Pages_Info_Address_Title")),e.createElement("div",{className:"seo-section-site-url"},e.createElement("span",{className:"page-address-prefix"},"http://www.../"),e.createElement(a.textInput,{className:"control-text-input-seo",maxLength:o.NAME_MAX_LENGTH,validator:this.getPageUriSEOValidators(),invalidMessage:this.getPageUriSEOInvalidMessages(),valueLink:this.linkUrlProperty("pageUriSEO"),inputFocusTooltipMessage:this.props.inputFocusTooltipMessage,infoText:"Pages_Info_Address_Tooltip"})),this.shouldShowLinkToPage()?e.createElement("a",{key:"page-web-address",href:i.getPublicUrl(this.getEditorAPI(),this.props.pageData),target:"_blank"},e.createElement(a.button,{className:"btn-text",label:"Pages_SEO_Goto_URL"})):null,this.isUriSEOTranslated()?e.createElement("span",{className:"translated-by",key:"googleAttribution"},s.translate("Pages_Info_URL_Popup_Google")," ",e.createElement(a.symbol,{name:"google-logo"})):null)}}),define("pagesMenu/settings/tabs/seoUrlSettings",["lodash","react","create-react-class","prop-types","util","pagesMenu/settings/tabs/pageSettingsTabMixin","pagesMenu/utils/pageUtils","experiment","pagesMenu/settings/tabs/seoUrlSettings.rt"],function(e,t,a,s,n,i,o,r,l){"use strict";function p(t,a){var s=[{callback:n.validate.notEmptyString,message:"Pages_Info_URL_Error_Tooltip"},{callback:n.validate.emoji,message:"Pages_Info_URL_Error_Tooltip"},{callback:n.validate.byInvalidCharacters(n.validationExpressions.invalidUrlCharacters),message:"Pages_Info_URL_Error_Tooltip"}];return t.documentServices.generalInfo.urlFormat.isSlash()?s.concat([{callback:e.negate(t.pages.data.pageUriSEO.isForbidden.bind(null,a)),message:"Pages_Info_Forbidden_URI_SEO_Error_Tooltip"},{callback:e.negate(t.pages.data.pageUriSEO.isDuplicate.bind(null,a)),message:"Pages_Info_Duplicate_URI_SEO_Error_Tooltip"}]):s}return a({displayName:"seoUrlSettings",mixins:[i,t.addons.LinkedStateMixin],render:l,propTypes:{pageData:s.object.isRequired},shouldShowLinkToPage:function(){return this.props.shouldShowLinkToPage&&this.getEditorAPI().documentServices.generalInfo.isSitePublished()},linkUrlProperty:function(e){var t=this.getPageId(),a=this.getEditorAPI(),s={},n=a.documentServices.generalInfo.urlFormat.isSlash()?a.pages.data.pageUriSEO:o;return{value:this.getValueFromPageData(e),requestChange:function(i){s[e]=i&&n.convertPageNameToUrl(i),a.pages.data.update(t,s)}}},isUriSEOTranslated:function(){var e=this.getValueFromPageData("translationData");return r.isOpen("urlFormatGoogleTranslate")&&e&&e.uriSEOTranslated},getPageUriSEOValidators:function(){var t=p(this.getEditorAPI(),this.getPageId());return e.map(t,"callback")},getPageUriSEOInvalidMessages:function(){var t=p(this.getEditorAPI(),this.getPageId());return e.map(t,"message")},getClassName:function(e){return n.inheritClassName(this.props,e)}})}),define("pagesMenu/settings/tabs/tabSEO.rt",["react","lodash","baseUI","util","pagesMenu/settings/tabs/googlePreviewExpandable","pagesMenu/utils/pageMenuItemHelpers","pagesMenu/utils/constants","pagesMenu/settings/tabs/seoUrlSettings","baseUILib","experiment","symbols"],function(e,t,a,s,n,i,o,r,l,p,g){"use strict";return function(){return e.createElement("div",{className:"tab tab-seo"},function(){return s.translate,e.createElement(l.CustomScroll,{},e.createElement("div",{className:t({"seo-google":!0,"tab-inner":!0,"google-preview-expanded":this.state.isGooglePreviewExpanded}).transform(function(e,t,a){t&&e.push(a)},[]).join(" ")},this.isNewSeoWizOpen()?e.createElement("section",{key:"seo-section-seo-wiz",className:"seo-section-seo-wiz"},e.createElement("div",{className:"seo-section-seo-wiz-inner-div"},e.createElement(l.Composites.RichTextWithIllustration,{},e.createElement(l.Illustration,{},e.createElement(g.symbol,{name:"getFoundOnGoogle"})),e.createElement(l.Composites.RichTextLabeled,{},e.createElement(l.TextLabel,{value:"Pages_SEO_Wizard_Title",type:"T03"}),e.createElement(l.RichText,{},e.createElement("p",{},s.translate("Pages_SEO_Wizard_Description")," ",e.createElement("a",{href:this.getWixSEOWizURL(),target:"_blank",onClick:this.reportSeoWizardLinkClicked},s.translate("Pages_SEO_Wizard_Button_Label")))))))):null,e.createElement("section",{className:"seo-section-title"},e.createElement(a.textInput,{className:"control-text-input",label:"Pages_SEO_Title_Caption",placeholder:"Pages_SEO_Title_Placeholder",maxLength:o.TITLE_SEO_MAX_LENGTH,validator:[s.validate.noHTMLTags,s.validate.noEmoji],invalidMessage:"Pages_SEO_Title_Error_Tooltip",valueLink:this.linkGooglePreviewProperty("pageTitleSEO"),infoText:"Pages_SEO_Title_Tooltip",onBlur:this.onPagesSEOTitleBlur})),e.createElement("section",{className:"seo-section-description"},e.createElement(a.textInput,{className:"control-text-input",isMultiLine:!0,label:"Pages_SEO_Description_Caption",placeholder:"Pages_SEO_Description_Placeholder",maxLength:o.DESCRIPTION_SEO_MAX_LENGTH,validator:[s.validate.noHTMLTags,s.validate.noEmoji],invalidMessage:"Pages_SEO_Description_Error_Tooltip",valueLink:this.linkGooglePreviewProperty("descriptionSEO"),infoText:"Pages_SEO_Description_Tooltip",onBlur:this.onPagesSEODescBlur})),this.isNewSeoWizOpen()?null:e.createElement("section",{className:"seo-section-keywords",key:"seo_tab_keywords_middle"},e.createElement(a.textInput,{className:"control-text-input",label:"Pages_SEO_Keywords_Caption",placeholder:"Pages_SEO_Keywords_Placeholder",maxLength:o.KEYWORD_SEO_MAX_LENGTH,validator:[s.validate.rangeOfWords(0,o.KEYWORD_SEO_MAX_WORDS,","),s.validate.noEmoji],invalidMessage:"Pages_SEO_Keywords_Error_Tooltip",valueLink:this.linkPageProperty("metaKeywordsSEO"),infoText:"Pages_SEO_Keywords_Tooltip",onBlur:this.onPagesSEOKeywordsBlur})),e.createElement("section",{},e.createElement(l.ToggleSwitch,{value:!this.getValueFromPageData("indexable"),label:"Pages_SEO_Hide_Toggle",onChange:this.onHidePageChanged})),p.isOpen("se_newPageSEOSection")?null:e.createElement("section",{className:"seo-section-page-address-old",key:"section-page-address"},e.createElement(a.textInput,{className:"control-text-input",label:"Pages_Info_Address_Title",maxLength:o.USI_SEO_MAX_LENGTH,validator:this.getPageUriSEOValidators(),invalidMessage:this.getPageUriSEOInvalidMessages(),valueLink:this.linkUrlProperty("pageUriSEO"),onBlur:this.onPageAddressBlur,infoText:"Pages_Info_Address_Tooltip"}),e.createElement("span",{className:"page-address-prefix"},"https://www.../"),this.getEditorAPI().documentServices.generalInfo.isSitePublished()?e.createElement("a",{key:"page-web-address",href:i.getPublicUrl(this.getEditorAPI(),this.props.pageData),onClick:this.onGoToUrlClicked,target:"_blank"},e.createElement(a.button,{className:"btn-text",label:"Pages_SEO_Goto_URL"})):null,this.isUriSEOTranslated()?e.createElement("span",{className:"translated-by",key:"googleAttribution"},s.translate("Pages_Info_URL_Popup_Google")," ",e.createElement(a.symbol,{name:"google-logo"})):null),this.isNewSeoWizOpen()?e.createElement("section",{className:"seo-section-keywords",key:"seo_tab_keywords_bottom"},e.createElement(a.textInput,{className:"control-text-input",label:"Pages_SEO_Keywords_Caption",placeholder:"Pages_SEO_Keywords_Placeholder",maxLength:o.KEYWORD_SEO_MAX_LENGTH,validator:[s.validate.rangeOfWords(0,o.KEYWORD_SEO_MAX_WORDS,","),s.validate.noEmoji],invalidMessage:"Pages_SEO_Keywords_Error_Tooltip",valueLink:this.linkPageProperty("metaKeywordsSEO"),infoText:"Pages_SEO_Keywords_New_Tooltip",validateOnBlurOnly:!0,onBlur:this.onPagesSEOKeywordsBlur})):null,p.isOpen("se_newPageSEOSection")?e.createElement(r,{key:"seoTabPageAddressSection",pageData:this.props.pageData,shouldShowLinkToPage:!0}):null))}.apply(this,[]),e.createElement(n,{isExpandedLink:this.linkState("isGooglePreviewExpanded"),pageData:this.props.pageData}))}}),define("pagesMenu/settings/tabs/tabSEO",["lodash","react","create-react-class","prop-types","util","pagesMenu/settings/tabs/pageSettingsTabMixin","pagesMenu/utils/pageUtils","experiment","coreBi","pagesMenu/settings/tabs/tabSEO.rt"],function(e,t,a,s,n,i,o,r,l,p){"use strict";function g(t,a){var s=[{callback:n.validate.notEmptyString,message:"Pages_Info_URL_Error_Tooltip"},{callback:n.validate.byInvalidCharacters(n.validationExpressions.invalidUrlCharacters),message:"Pages_Info_URL_Error_Tooltip"}];return t.documentServices.generalInfo.urlFormat.isSlash()?s.concat([{callback:e.negate(t.pages.data.pageUriSEO.isForbidden.bind(null,a)),message:"Pages_Info_Forbidden_URI_SEO_Error_Tooltip"},{callback:e.negate(t.pages.data.pageUriSEO.isDuplicate.bind(null,a)),message:"Pages_Info_Duplicate_URI_SEO_Error_Tooltip"}]):s}return a({displayName:"tabSEO",mixins:[i,t.addons.LinkedStateMixin],render:p,propTypes:{pageData:s.object.isRequired},getInitialStateFromPageData:function(){return{isGooglePreviewExpanded:!1}},getInitialState:function(){return this.getInitialStateFromPageData()},componentWillReceiveProps:function(e){this.props.pageData.id!==e.pageData.id&&this.setState(this.getInitialStateFromPageData())},componentWillMount:function(){this.debouncedUpdateEditorAPI=e.debounce(function(e,t,a){e.pages.data.update(t,a)},20),this.seoInfo={pageTitleSEO:this.getValueFromPageData("pageTitleSEO"),pageDescSeo:this.getValueFromPageData("descriptionSEO"),pageKeywordsSEO:this.getValueFromPageData("metaKeywordsSEO")}},linkGooglePreviewProperty:function(e){var t=this.props.pageData.id,a=this.getEditorAPI(),s={};return{value:this.getValueFromPageData(e),requestChange:function(n){this.state.isGooglePreviewExpanded||this.setState({isGooglePreviewExpanded:!0}),s[e]=n,this.debouncedUpdateEditorAPI(a,t,s)}.bind(this)}},onPagesSEOTitleBlur:function(){var e=this.seoInfo.pageTitleSEO,t=this.getValueFromPageData("pageTitleSEO");if(t!==e){var a=this.getEditorAPI();a.bi.event(l.events.topbar.pages.top_bar_PAGES_settings_seo_title_set,{field:"page title"}),a.history.add("SEO title updated"),this.seoInfo.pageTitleSEO=t}},onPageAddressBlur:function(){var e=this.seoInfo.pageUriSEO,t=this.getValueFromPageData("pageUriSEO");if(t!==e){var a=this.getEditorAPI();a.bi.event(l.events.topbar.pages.top_bar_PAGES_settings_seo_title_set,{field:"page url"}),a.history.add("SEO address updated"),this.seoInfo.pageUriSEO=t}},onPagesSEODescBlur:function(){var e=this.seoInfo.pageDescSeo,t=this.getValueFromPageData("descriptionSEO");if(t!==e){var a=this.getEditorAPI();a.bi.event(l.events.topbar.pages.top_bar_PAGES_settings_seo_description_set),a.history.add("SEO description updated"),this.seoInfo.pageDescSeo=t}},onPagesSEOKeywordsBlur:function(){var e=this.seoInfo.pageKeywordsSEO,t=this.getValueFromPageData("metaKeywordsSEO");if(t!==e){var a=this.getEditorAPI();a.bi.event(l.events.topbar.pages.top_bar_PAGES_settings_seo_keywords_set),a.history.add("SEO keywords updated"),this.seoInfo.pageKeywordsSEO=t}},linkUrlProperty:function(e){var t=this.getPageId(),a=this.getEditorAPI(),s={},n=a.documentServices.generalInfo.urlFormat.isSlash()?a.pages.data.pageUriSEO:o;return{value:this.getValueFromPageData(e),requestChange:function(i){s[e]=i&&n.convertPageNameToUrl(i),this.debouncedUpdateEditorAPI(a,t,s)}.bind(this)}},isUriSEOTranslated:function(){var e=this.getValueFromPageData("translationData");return r.isOpen("urlFormatGoogleTranslate")&&e&&e.uriSEOTranslated},getPageUriSEOValidators:function(){var t=g(this.getEditorAPI(),this.getPageId());return e.map(t,"callback")},getPageUriSEOInvalidMessages:function(){var t=g(this.getEditorAPI(),this.getPageId());return e.map(t,"message")},getWixSEOWizURL:function(){return this.getEditorAPI().account.getWixSEOWizURL("EDITOR_PAGES")},isNewSeoWizOpen:function(){return this.getEditorAPI().account.isWixSEOWizExperimentOpen()},reportSeoWizardLinkClicked:function(){this.getEditorAPI().bi.event(l.events.topbar.pages.top_bar_PAGES_settings_seo_wiz_lets_go_click)},onGoToUrlClicked:function(){this.isNewSeoWizOpen()&&this.getEditorAPI().bi.event(l.events.topbar.pages.top_bar_PAGES_settings_seo_go_to_url_click)},onHidePageChanged:function(e){var t=this.getEditorAPI(),a=this.getPageId(),s={indexable:!e};this.debouncedUpdateEditorAPI(t,a,s),this.isNewSeoWizOpen()&&t.bi.event(l.events.topbar.pages.top_bar_PAGES_settings_hide_page_clicked,{title:this.getPageData().title,toggle:e})}})}),define("pagesMenu/settings/pageSettingsPanelTabs.rt",["react","lodash","baseUI","util","pagesMenu/settings/tabs/tabPageInfoMainMenu","pagesMenu/settings/tabs/tabLayout","pagesMenu/settings/tabs/tabPermissions","pagesMenu/settings/tabs/tabSEO"],function(e,t,a,s,n,i,o,r){"use strict";return function(){return function(){var t=this.props.menuItem.pageData,l=s.translate;return e.createElement("div",{},e.createElement(a.tabs.holder,{value:this.props.selectedTab,className:"top page-settings-tabs",onChange:function(e,t,a){this.props.setActiveTab(a)}.bind(this,t,l)},e.createElement(a.tabs.header,{},e.createElement(a.tabs.label,{htmlFor:"page"},l("Pages_Info_Tab_Title")),e.createElement(a.tabs.label,{htmlFor:"layout"},l("Pages_Layouts_Tab_Title")),e.createElement(a.tabs.label,{htmlFor:"privacy"},l("Pages_Permissions_Tab_Title")),e.createElement(a.tabs.label,{htmlFor:"seo"},l("Pages_SEO_Tab_Title"))),e.createElement(a.tabs.content,{className:"page-settings-panel-content"},e.createElement(a.tabs.tab,{name:"page"},e.createElement(n,{menuItem:this.props.menuItem})),e.createElement(a.tabs.tab,{name:"layout"},e.createElement(i,{menuItem:this.props.menuItem})),e.createElement(a.tabs.tab,{name:"privacy"},e.createElement(o,{pageData:this.props.menuItem.pageData})),e.createElement(a.tabs.tab,{className:"seo",name:"seo"},e.createElement(r,{pageData:this.props.menuItem.pageData})))))}.apply(this,[])}}),define("pagesMenu/settings/pageSettingsPanelTabs",["create-react-class","prop-types","pagesMenu/settings/pageSettingsPanelTabs.rt"],function(e,t,a){"use strict";return e({displayName:"pageSettingsPanelTabs",propTypes:{menuItem:t.object.isRequired,selectedTab:t.string,setActiveTab:t.func.isRequired},render:a})}),define("pagesMenu/panels/settings/pageSettingsFrame.rt",["react","lodash","symbols","util","baseUILib"],function(e,t,a,s,n){"use strict";return function(){return e.createElement("div",{className:"page-settings-panel"},e.createElement("div",{className:"page-settings-panel-inner"},e.createElement(n.PanelHeader,{className:"dark",onClose:function(){this.props.closeSettingsPanel("back")}.bind(this),onHelp:function(e){e.stopPropagation(),this.openHelpPanel()}.bind(this),closeSymbol:this.getCloseSymbol()},e.createElement("span",{},s.translate("Pages_Settings_Header_Text")+" ("+this.props.title+")")),"\n        ",this.props.children,"\n    "))}}),define("pagesMenu/panels/settings/pageSettingsFrame",["react","create-react-class","prop-types","core","pagesMenu/panels/settings/pageSettingsFrame.rt","constants","symbols"],function(e,t,a,s,n,i,o){"use strict";return t({displayName:"pageSettingsFrame",propTypes:{helpId:a.string,title:a.string,closeSettingsPanel:a.func.isRequired},mixins:[s.mixins.editorAPIMixin],render:n,openHelpPanel:function(e){if(e=e||this.props.helpId){var t={learn_more:!1,panel_name:"page_settings",origin:i.BI.HELP.ORIGIN.PAGES};this.getEditorAPI().panelManager.openHelpCenter(e,null,t)}},getCloseSymbol:function(){return e.createElement(o.symbol,{name:"arrowLeft"})}})}),define("pagesMenu/panels/settings/desktop/pageSettingsDesktopCommon.rt",["react","lodash","pagesMenu/panels/settings/pageSettingsFrame"],function(e,t,a){"use strict";return function(){return e.createElement(a,{helpId:this.props.helpId,title:this.props.title,closeSettingsPanel:this.props.closeSettingsPanel},"\n\n    ",this.props.children,"\n\n")}}),define("pagesMenu/panels/settings/desktop/pageSettingsDesktopCommon",["create-react-class","prop-types","core","pagesMenu/panels/settings/desktop/pageSettingsDesktopCommon.rt"],function(e,t,a,s){"use strict";return e({mixins:[a.mixins.editorAPIMixin],displayName:"pageSettingsDesktopCommon",propTypes:{title:t.string,closeSettingsPanel:t.func.isRequired,helpId:t.string},render:s})}),define("pagesMenu/panels/settings/desktop/pageSettingsDesktop.rt",["react","lodash","baseUI","symbols","util","pagesMenu/settings/dynamicPageSettingsPanelTabs","pagesMenu/settings/pageSettingsPanelTabs","pagesMenu/panels/settings/desktop/pageSettingsDesktopCommon"],function(e,t,a,s,n,i,o,r){"use strict";return function(){return function(){this.props.actions;var l=n.translate;return e.createElement(r,{title:this.props.menuItem.label,closeSettingsPanel:this.props.closeSettingsPanel,helpId:this.getHelpId()},this.isDynamicPage()?null:e.createElement(o,t.assign({},{key:"pageSettingsPanelTabs",setActiveTab:this.setActiveTab,selectedTab:this.state.activeTab,ref:"pageSettingsPanelTabs"},this.props)),this.isDynamicPage()?e.createElement(i,t.assign({},{developerModeEnabled:this.isDeveloperModeEnabled(),tabs:this.getDynamicPageTabs(this.props.menuItem.pageData.id),key:"dynamicPageSettingsPanelTabs",setActiveTab:this.setActiveTab,selectedTab:this.state.activeTab,ref:"dynamicPageSettingsPanelTabs"},this.props)):null,e.createElement("footer",{},this.isDynamicPage()?null:e.createElement("div",{className:"page-settings-controls",key:"pageSettingsControls"},this.shouldShowDuplicateButton()?e.createElement("span",{key:"page-settings-controls-duplicate",className:"duplicate",onClick:this.duplicatePage},e.createElement("span",{},e.createElement(s.symbol,{name:"duplicate"})),"\n                ",l("Pages_Settings_Footer_Duplicate"),"\n            "):null,this.shouldShowRemoveButton()?e.createElement("span",{key:"page-settings-controls-remove",className:"remove",onClick:this.deletePage},e.createElement("span",{},e.createElement(s.symbol,{name:"pageDelete"})),"\n                ",l("Pages_Settings_Footer_Delete"),"\n            "):null),e.createElement(a.button,{label:"Pages_Settings_Footer_Done",onClick:this.doneClickHandler})))}.apply(this,[])}}),define("pagesMenu/panels/settings/desktop/pageSettingsDesktop",["create-react-class","prop-types","lodash","core","pagesMenu/utils/pageMenuItemHelpers","coreBi","pagesMenu/panels/settings/desktop/pageSettingsDesktop.rt"],function(e,t,a,s,n,i,o){"use strict";return e({mixins:[s.mixins.editorAPIMixin],setActiveTab:function(e){this.setState({activeTab:e}),this.getEditorAPI().bi.event(i.events.topbar.pages.top_bar_PAGES_settings_tab_click,{category:e})},getInitialState:function(){return{activeTab:this.props.activeTab||this.getDefaultTabName()}},componentWillReceiveProps:function(e){if(e.activeTab&&this.props.activeTab!==e.activeTab)this.setActiveTab(e.activeTab);else{var t=e.menuItem.pageData.id,a=this.props.menuItem.pageData.id;t!==a&&this.tryToPreserveSelectedTab(t,a)}},tryToPreserveSelectedTab:function(e,t){var s=this.getEditorAPI(),n=!!s.documentServices.routers.getRouterDataForPageIfExist(e),i=!!s.documentServices.routers.getRouterDataForPageIfExist(t);if(n&&!i||!n&&i)this.setActiveTab(this.getDefaultTabName(e));else if(n&&i){var o=this.getDynamicPageTabs(e);a.find(o,{title:this.state.activeTab})||this.setActiveTab(this.getDefaultTabName(e))}},getHelpId:function(){if(this.isDynamicPage()){var e=this.getDynamicPageTabs(this.props.menuItem.pageData.id),t=a.find(e,{title:this.state.activeTab});return t.helpId?t.helpId:"995c5103-5599-4725-9e4f-c6ae4a47bf35"}return"2f65df85-2eba-4b41-a9bf-2a841a5e5a53"},displayName:"pageSettingsDesktop",propTypes:{menuItem:t.object.isRequired,activeTab:t.string,actions:t.object,closeSettingsPanel:t.func.isRequired},render:o,shouldShowDuplicateButton:function(){return n.canDuplicate(this.getEditorAPI(),this.props.menuItem)},shouldShowRemoveButton:function(){return n.canRemoveMenuItem(this.getEditorAPI(),this.props.menuItem)},duplicatePage:function(){this.props.actions.duplicate(this.props.menuItem),this.getEditorAPI().bi.event(i.events.topbar.pages.top_bar_PAGES_settings_duplicate_page_click)},deletePage:function(){var e=this.props.menuItem,t=this.getEditorAPI();this.props.closeSettingsPanel("deletePage"),t.documentServices.waitForChangesApplied(a.partial(n.removeMenuItem,t,e)),t.bi.event(i.events.topbar.pages.top_bar_PAGES_settings_delete_page_click)},getDefaultTabName:function(e){if(e=e||a.get(this.props.menuItem.pageData,"id"),this.isDynamicPage(e)){var t=this.getDynamicPageTabs(e);return a.isEmpty(t)?"Page Info":t[0].title}return"page"},getDynamicPageTabs:function(e){return this.getEditorAPI().pages.dynamicPages.getDynamicPageActions(e,"pageSettings")},doneClickHandler:function(){this.props.closeSettingsPanel("done")},isDynamicPage:function(e){var t=this.getEditorAPI();return!!(e=e||a.get(this.props.menuItem.pageData,"id"))&&!!t.documentServices.routers.getRouterDataForPageIfExist(e)},isDeveloperModeEnabled:function(){return this.getEditorAPI().developerMode.isEnabled()}})}),define("pagesMenu/settings/tabs/subPages/blogSinglePostInfo.rt",["react","lodash","baseUI","util","experiment"],function(e,t,a,s,n){"use strict";return function(){return function(){var t=s.translate;return e.createElement("div",{className:"page-info tab-inner"},e.createElement("section",{},e.createElement("p",{className:"title"},t("Pages_Blog_Post_Info_WhatisTitle")),e.createElement("p",{},t("Pages_Blog_Post_Info_WhatisText"))),e.createElement("section",{},e.createElement("p",{className:"title"},t("Pages_Blog_Post_Info_HowTitle")),e.createElement("p",{},t("Pages_Blog_Post_Info_HowText"))),e.createElement("section",{},e.createElement("p",{className:"title"},t("Pages_Blog_Post_Info_ChangeTitle")),e.createElement("p",{},e.createElement("span",{},t("Pages_Blog_Post_Info_ChangeText")+" "),this.isDesktop()?e.createElement("span",{key:"openBlogManagerButton"},e.createElement(a.button,{label:"Pages_Blog_Post_Info_ChangeLink",className:"btn-text",onClick:function(e,t){t.stopPropagation(),this.props.actions.openBlogManager()}.bind(this,t)}),e.createElement("span",{},".")):null,this.isMobile()?e.createElement("span",{key:"openBlogManagerText"},"\n                ",t("Pages_Blog_Post_Info_ChangeLink"),".\n            "):null)))}.apply(this,[])}}),define("pagesMenu/settings/tabs/subPages/blogSinglePostInfo",["create-react-class","core","lodash","pagesMenu/settings/tabs/subPages/blogSinglePostInfo.rt"],function(e,t,a,s){"use strict";return e({displayName:"blogSinglePostInfo",render:s,mixins:[t.mixins.editorAPIMixin],isDesktop:function(){return this.getEditorAPI().viewMode.get()===this.getEditorAPI().documentServices.viewMode.VIEW_MODES.DESKTOP},isMobile:function(){return this.getEditorAPI().viewMode.get()===this.getEditorAPI().documentServices.viewMode.VIEW_MODES.MOBILE}})}),define("pagesMenu/settings/tabs/subPages/blogSinglePostSeo.rt",["react","lodash","util","pagesMenu/settings/tabs/seoUrlSettings","pagesMenu/settings/tabs/googlePreviewExpandable","experiment"],function(e,t,a,s,n,i){"use strict";return function(){return function(){var o=a.translate;return e.createElement("div",{className:"seo-google tab-inner"},e.createElement("p",{className:"title"},o("Pages_Blog_Post_SEO_Title")),e.createElement(n,{isExpanded:!0,shouldHideExpandingButton:!0,pageData:this.props.menuItem.pageData,previewDescriptionText:o("Pages_Blog_Post_SEO_Placeholder"),title:o("Pages_Blog_Post_SEO_Preview")+" | "+this.props.siteName}),i.isOpen("se_blogChangeSinglePostPageName")?e.createElement(s,{key:"blogSeoTabChangePageName",pageData:this.props.menuItem.pageData,inputFocusTooltipMessage:"SEO_URL_Changing_Warning",className:t({"blog-seo-setting":!0}).transform(function(e,t,a){t&&e.push(a)},[]).join(" ")}):null)}.apply(this,[])}}),define("pagesMenu/settings/tabs/subPages/blogSinglePostSeo",["create-react-class","lodash","pagesMenu/settings/tabs/subPages/blogSinglePostSeo.rt"],function(e,t,a){"use strict";return e({displayName:"blogSinglePostSeo",render:a})}),define("pagesMenu/settings/tabs/subPages/tpaProductPageInfo.rt",["react","lodash","baseUI","util"],function(e,t,a,s){"use strict";return function(){return function(){var t=s.translate,n=this.getEditorAPI();return e.createElement("div",{className:"page-info tab-inner"},e.createElement("section",{},e.createElement("p",{className:"title"},t("Pages_Store_Product_Info_WhatisTitle")),e.createElement("p",{},t("Pages_Store_Product_Info_WhatisText"))),e.createElement("section",{},e.createElement("p",{className:"title"},t("Pages_Store_Product_Info_HowTitle")),e.createElement("p",{},t("Pages_Store_Product_Info_HowText"))),e.createElement("section",{},e.createElement("p",{className:"title"},t("Pages_Store_Product_Info_ChangeTitle")),e.createElement("p",{},n.isDesktopEditor()?e.createElement("span",{key:"desktop"},t("Pages_Store_Product_Info_ChangeText")," "):null,n.isMobileEditor()?e.createElement("span",{key:"mobile"},t("Pages_Store_Product_Info_ChangeText_Mobile")," "):null,e.createElement(a.button,{label:"Pages_Store_Product_Info_ChangeLink",className:"btn-text",onClick:function(e,t,a){a.stopPropagation(),this.props.actions.openStoreManager()}.bind(this,t,n)}),e.createElement("span",{},"."))))}.apply(this,[])}}),define("pagesMenu/settings/tabs/subPages/tpaProductPageInfo",["create-react-class","core","lodash","pagesMenu/settings/tabs/subPages/tpaProductPageInfo.rt"],function(e,t,a,s){"use strict";return e({displayName:"tpaProductPageInfo",mixins:[t.mixins.editorAPIMixin],render:s})}),define("pagesMenu/settings/tabs/subPages/tpaProductPageSeo.rt",["react","lodash","baseUI","util"],function(e,t,a,s){"use strict";return function(){return function(){var t=s.translate;return e.createElement("div",{className:"seo-google tab-inner"},e.createElement("p",{className:"title"},t("Pages_Store_Product_SEO_Title")),e.createElement("div",{className:"google-preview"},e.createElement("p",{className:"google-preview-title"},e.createElement("span",{className:"google-preview-title-site-name"},this.props.siteName+" | "),e.createElement("span",{},t("Pages_Store_Product_SEO_Preview"))),e.createElement("p",{className:"google-preview-url"},this.props.publicUrl.replace(/#!.*/,"#!product-title")),e.createElement("p",{className:"google-preview-description"},t("Pages_Store_Product_SEO_Placeholder"))))}.apply(this,[])}}),define("pagesMenu/settings/tabs/subPages/tpaProductPageSeo",["create-react-class","lodash","pagesMenu/settings/tabs/subPages/tpaProductPageSeo.rt"],function(e,t,a){"use strict";return e({displayName:"tpaProductPageSeo",render:a})}),define("pagesMenu/settings/tabs/subPages/tpaThankYouPageSeo.rt",["react","lodash","util"],function(e,t,a){"use strict";return function(){return function(){var t=a.translate;return e.createElement("div",{className:"seo-google tab-inner empty"},e.createElement("p",{},t("Pages_Store_Cart_SEO_Text")),e.createElement("p",{},e.createElement("span",{},t("Pages_Store_Thankyou_Tracking_Text")+" "),e.createElement("a",{href:"https://support.wix.com/en/article/tracking-sales-in-wix-stores-using-your-thank-you-page-url",target:"_blank"},t("Pages_Store_Thankyou_Tracking_Link"))))}.apply(this,[])}}),define("pagesMenu/settings/tabs/subPages/tpaThankYouPageSeo",["create-react-class","pagesMenu/settings/tabs/subPages/tpaThankYouPageSeo.rt"],function(e,t){"use strict";return e({displayName:"tpaThankYouPageSeo",render:t})}),define("pagesMenu/settings/tabs/subPages/tpaCartPageSeo.rt",["react","lodash","util"],function(e,t,a){"use strict";return function(){return function(){var t=a.translate;return e.createElement("div",{className:"seo-google tab-inner empty"},e.createElement("p",{},t("Pages_Store_Cart_SEO_Text")))}.apply(this,[])}}),define("pagesMenu/settings/tabs/subPages/tpaCartPageSeo",["create-react-class","pagesMenu/settings/tabs/subPages/tpaCartPageSeo.rt"],function(e,t){"use strict";return e({displayName:"tpaCartPageSeo",render:t})}),define("pagesMenu/settings/tabs/subPages/tpaCartPageInfo.rt",["react","lodash","baseUI","util"],function(e,t,a,s){"use strict";return function(){return function(){var t=s.translate,a=this.getEditorAPI();return e.createElement("div",{className:"page-info tab-inner"},e.createElement("section",{},e.createElement("p",{className:"title"},t("Pages_Store_Cart_Info_WhatisTitle")),e.createElement("p",{},t("Pages_Store_Cart_Info_WhatisText"))),e.createElement("section",{},e.createElement("p",{className:"title"},t("Pages_Store_Cart_Info_HowTitle")),a.isDesktopEditor()?e.createElement("p",{key:"desktop"},t("Pages_Store_Cart_Info_HowText")," "):null,a.isMobileEditor()?e.createElement("p",{key:"mobile"},t("Pages_Store_Cart_Info_HowText_Mobile")," "):null))}.apply(this,[])}}),define("pagesMenu/settings/tabs/subPages/tpaCartPageInfo",["create-react-class","lodash","core","pagesMenu/settings/tabs/subPages/tpaCartPageInfo.rt"],function(e,t,a,s){"use strict";return e({displayName:"tpaCartPageInfo",mixins:[a.mixins.editorAPIMixin],render:s})}),define("pagesMenu/settings/tabs/subPages/tpaThankYouPageInfo.rt",["react","lodash","baseUI","util"],function(e,t,a,s){"use strict";return function(){return function(){var t=s.translate,a=this.getEditorAPI();return e.createElement("div",{className:"page-info tab-inner"},e.createElement("section",{},e.createElement("p",{className:"title"},t("Pages_Store_Thankyou_Info_WhatisTitle")),e.createElement("p",{},t("Pages_Store_Thankyou_Info_WhatisText"))),e.createElement("section",{},e.createElement("p",{className:"title"},t("Pages_Store_Thankyou_Info_HowTitle")),a.isDesktopEditor()?e.createElement("p",{key:"desktop"},t("Pages_Store_Thankyou_Info_HowText")," "):null,a.isMobileEditor()?e.createElement("p",{key:"mobile"},t("Pages_Store_Thankyou_Info_HowText_Mobile")," "):null))}.apply(this,[])}}),define("pagesMenu/settings/tabs/subPages/tpaThankYouPageInfo",["create-react-class","core","lodash","pagesMenu/settings/tabs/subPages/tpaThankYouPageInfo.rt"],function(e,t,a,s){"use strict";return e({displayName:"tpaThankYouPageInfo",mixins:[t.mixins.editorAPIMixin],render:s})}),define("pagesMenu/settings/pageSettingsPanelTabsSubpage.rt",["react","lodash","baseUI","baseUILib","symbols","util","pagesMenu/settings/tabs/subPages/blogSinglePostInfo","pagesMenu/settings/tabs/subPages/blogSinglePostSeo","pagesMenu/settings/tabs/subPages/tpaProductPageInfo","pagesMenu/settings/tabs/subPages/tpaProductPageSeo","pagesMenu/settings/tabs/subPages/tpaThankYouPageSeo","pagesMenu/settings/tabs/subPages/tpaCartPageSeo","pagesMenu/settings/tabs/subPages/tpaCartPageInfo","pagesMenu/settings/tabs/subPages/tpaThankYouPageInfo","pagesMenu/utils/pageUtils","pagesMenu/settings/tabs/tabLayout","pagesMenu/settings/tabs/tabPermissions","pagesMenu/settings/tabs/tabSEO","pagesMenu/utils/pageMenuItemHelpers","core"],function(e,t,a,s,n,i,o,r,l,p,g,c,u,d,m,h,b,P,E,f){"use strict";return function(){function n(n,i,m,P,f){var _=f.isWixStoreProductPage(n),S=f.isWixStoreCartPage(n),I=f.isWixStoreThankYouPage(n);return e.createElement(a.tabs.holder,{value:this.state.activeTab,className:"top page-settings-tabs",onChange:function(e,t,a,s,n,i,o,r,l){this.setActiveTab(l)}.bind(this,n,i,m,P,f,_,S,I)},e.createElement(a.tabs.header,{},e.createElement(a.tabs.label,{htmlFor:"page"},i("Pages_Info_Tab_Title")),e.createElement(a.tabs.label,{htmlFor:"layout"},i("Pages_Layouts_Tab_Title")),e.createElement(a.tabs.label,{htmlFor:"privacy"},i("Pages_Permissions_Tab_Title")),e.createElement(a.tabs.label,{htmlFor:"seo"},i("Pages_SEO_Tab_Title"))),e.createElement(a.tabs.content,{className:"page-settings-panel-content"},e.createElement(a.tabs.tab,{name:"page",className:"wixapps-subpage"},e.createElement(s.CustomScroll,{},P?e.createElement(o,t.assign({},{key:"page-settings-tab-page-blog"},this.props)):null,_?e.createElement(l,t.assign({},{key:"page-settings-tab-page-tpa-product"},this.props)):null,S?e.createElement(u,t.assign({},{key:"page-settings-tab-page-tpa-cart"},this.props)):null,I?e.createElement(d,t.assign({},{key:"page-settings-tab-page-tpa-thank-you"},this.props)):null)),e.createElement(a.tabs.tab,{name:"layout"},e.createElement(h,{menuItem:this.props.menuItem})),e.createElement(a.tabs.tab,{name:"privacy"},e.createElement(b,{pageData:n})),function(t,n,i,o,l,u,d,m){var h=this.getSiteName(),b=E.getPublicUrl(i,t);return e.createElement(a.tabs.tab,{name:"seo",className:"wixapps-subpage"},e.createElement(s.CustomScroll,{},o?e.createElement(r,{key:"page-settings-tab-seo-blog-single-post",siteName:h,publicUrl:b,menuItem:this.props.menuItem}):null,u?e.createElement(p,{key:"page-settings-tab-seo-tpa-product",siteName:h,publicUrl:b}):null,m?e.createElement(g,{key:"page-settings-tab-seo-tpa-thank-you"}):null,d?e.createElement(c,{key:"page-settings-tab-seo-tpa-cart"}):null))}.apply(this,[n,i,m,P,f,_,S,I]),"--\x3e\r\n        "))}return function(){var t=this.props.menuItem.pageData,a=i.translate,s=this.getEditorAPI(),o=f.utils.blogTypeUtils.isBlog(this.getEditorAPI(),this.props.menuItem.pageData),r=f.utils.wixStoreTypeUtils;return e.createElement("div",{},n.apply(this,[t,a,s,o,r]))}.apply(this,[])}}),define("pagesMenu/settings/pageSettingsPanelTabsSubpage",["create-react-class","prop-types","core","coreBi","pagesMenu/settings/pageSettingsPanelTabsSubpage.rt"],function(e,t,a,s,n){"use strict";return e({displayName:"pageSettingsPanelTabsSubpage",mixins:[a.mixins.editorAPIMixin],propTypes:{menuItem:t.object.isRequired,actions:t.object},render:n,getInitialState:function(){return{activeTab:"page"}},setActiveTab:function(e){this.setState({activeTab:e}),this.getEditorAPI().bi.event(s.events.topbar.pages.top_bar_PAGES_settings_tab_click,{category:e})},getSiteName:function(){var e=this.getEditorAPI();return e.documentServices.seo.title.get()||e.siteName.get()}})}),define("pagesMenu/panels/settings/desktop/pageSettingsDesktopSubpage.rt",["react","lodash","baseUI","symbols","util","pagesMenu/settings/pageSettingsPanelTabsSubpage","pagesMenu/panels/settings/desktop/pageSettingsDesktopCommon"],function(e,t,a,s,n,i,o){"use strict";return function(){return function(){var s=this.props.actions,r=n.translate;return e.createElement(o,{title:this.props.menuItem.label,closeSettingsPanel:this.props.closeSettingsPanel,helpId:"2f65df85-2eba-4b41-a9bf-2a841a5e5a53"},e.createElement(i,t.assign({},{ref:"pageSettingsPanelTabs"},this.props)),e.createElement("footer",{},e.createElement(a.button,{label:"Pages_Settings_Footer_Done",onClick:function(e,t){this.props.closeSettingsPanel("done")}.bind(this,s,r)})))}.apply(this,[])}}),define("pagesMenu/panels/settings/desktop/pageSettingsDesktopSubpage",["create-react-class","prop-types","lodash","core","pagesMenu/utils/pageMenuItemHelpers","coreBi","pagesMenu/panels/settings/desktop/pageSettingsDesktopSubpage.rt"],function(e,t,a,s,n,i,o){"use strict";return e({mixins:[s.mixins.editorAPIMixin],displayName:"pageSettingsDesktopSubpage",propTypes:{menuItem:t.object.isRequired,actions:t.object,closeSettingsPanel:t.func.isRequired},render:o,shouldShowDuplicateButton:function(){return n.canDuplicate(this.getEditorAPI(),this.props.menuItem)},shouldShowRemoveButton:function(){return n.canRemoveMenuItem(this.getEditorAPI(),this.props.menuItem)},duplicatePage:function(){this.props.actions.duplicate(this.props.menuItem),this.getEditorAPI().bi.event(i.events.topbar.pages.top_bar_PAGES_settings_duplicate_page_click)},deletePage:function(){var e=this.props.menuItem,t=this.getEditorAPI();this.props.closeSettingsPanel("deletePage"),t.documentServices.waitForChangesApplied(a.partial(n.remove,t,e)),t.bi.event(i.events.topbar.pages.top_bar_PAGES_settings_delete_page_click)}})}),define("pagesMenu/panels/settings/mobile/pageSettingsMobileCommon.rt",["react","lodash","pagesMenu/panels/settings/pageSettingsFrame"],function(e,t,a){"use strict";return function(){return e.createElement(a,{title:this.props.title,closeSettingsPanel:this.props.closeSettingsPanel,helpId:this.getHelpId()},e.createElement("div",{className:"page-setting-mobile page-settings-panel-content"},"\n        ",this.props.children,"\n    "))}}),define("pagesMenu/panels/settings/mobile/pageSettingsMobileCommon",["create-react-class","prop-types","core","pagesMenu/panels/settings/mobile/pageSettingsMobileCommon.rt"],function(e,t,a,s){"use strict";return e({mixins:[a.mixins.editorAPIMixin],displayName:"pageSettingsMobileCommon",propTypes:{title:t.string,closeSettingsPanel:t.func.isRequired},getHelpId:function(){return this.getEditorAPI().developerMode.isEnabled()?"2d9fb141-61ac-45e6-809d-a8f178c6c1bc":"24b83680-5690-488d-b382-ac051e329c23"},render:s})}),define("pagesMenu/panels/settings/mobile/pageSettingsMobile.rt",["react","lodash","baseUI","baseUILib","symbols","util","core","pagesMenu/panels/settings/mobile/pageSettingsMobileCommon"],function(e,t,a,s,n,i,o,r){"use strict";return function(){return e.createElement("div",{},this.isDynamicPage()?null:e.createElement(r,{key:"regular-page-mobile-settings",title:this.props.menuItem.label,closeSettingsPanel:this.props.closeSettingsPanel},e.createElement(s.CustomScroll,{},e.createElement("div",{className:"page-info tab-inner page-settings-mobile-common-page"},e.createElement("section",{},e.createElement(s.ToggleSwitch,{value:!this.props.menuItem.isVisibleMobile,label:this.getMobileVisibilityContent(),onChange:this.changeMobileVisibility,shouldTranslate:!1})),e.createElement("section",{className:"hidden-from-desktop"},this.props.menuItem.isVisible?e.createElement("span",{key:"page-settings-mobile-visible"},e.createElement(n.symbol,{name:"desktopVisible"}),e.createElement("span",{className:"label"},i.translate("Pages_Mobile_Settings_IsVisible"))):null,this.props.menuItem.isVisible?null:e.createElement("span",{key:"page-settings-mobile-hidden"},e.createElement(n.symbol,{name:"desktopHidden"}),e.createElement("span",{className:"label"},i.translate("Pages_Mobile_Settings_IsHidden"))))))),this.isDynamicPage()&&this.shouldShowDynamicPageSettings()?e.createElement(r,{key:"dynamic-page-mobile-settings",title:this.props.menuItem.label,closeSettingsPanel:this.props.closeSettingsPanel},e.createElement(s.CustomScroll,{},e.createElement("div",{className:"page-info tab-inner page-settings-mobile-common-page"},this.props.isDeveloperModeEnabled?e.createElement(s.Composites.RichTextLabeled,{key:"title-dev-mode-enabled"},e.createElement(s.TextLabel,{type:"T06",value:i.translate("Platform_Page_Settings_Mobile_View_DevTools_Enabled_Title"),shouldTranslate:!1}),e.createElement(s.RichText,{},i.translate("Platform_Page_Settings_Mobile_View_DevTools_Enabled_Text"))):null,this.props.isDeveloperModeEnabled?null:e.createElement(s.Composites.RichTextLabeled,{key:"title-dev-mode-not-enabled"},e.createElement(s.TextLabel,{type:"T06",value:i.translate("Platform_Page_Settings_Mobile_View_DevTools_Disabled_Title"),shouldTranslate:!1}),e.createElement(s.RichText,{},e.createElement("div",{},i.translate("Platform_Page_Settings_Mobile_View_DevTools_Disabled_Text")),e.createElement("br",{}),e.createElement("div",{},i.translate("Platform_Page_Settings_Mobile_View_DevTools_Disabled_Text2"))))))):null,this.isDynamicPage()&&!this.shouldShowDynamicPageSettings()?e.createElement(r,{key:"dynamic-page-mobile-settings",title:this.props.menuItem.label,closeSettingsPanel:this.props.closeSettingsPanel},e.createElement(a.tabs.tab,{children:this.getAppTabContent()})):null)}}),define("pagesMenu/panels/settings/mobile/pageSettingsMobile",["react","react-dom-factories","create-react-class","prop-types","lodash","symbols","core","constants","util","baseUI","platform","pagesMenu/panels/settings/mobile/pageSettingsMobile.rt","coreBi","pagesMenu/utils/pageMenuItemHelpers"],function(e,t,a,s,n,i,o,r,l,p,g,c,u,d){"use strict";return a({mixins:[o.mixins.editorAPIMixin],displayName:"pageSettingsMobile",propTypes:{menuItem:s.object.isRequired,actions:s.object,isDeveloperModeEnabled:s.bool,closeSettingsPanel:s.func.isRequired,token:s.string},render:c,getMobileIconProps:function(){return this.props.menuItem.isVisibleMobile?{name:"mobileVisible",className:"mobileVisible",key:"visible"}:{name:"mobileHidden",className:"mobileHidden",key:"hidden"}},getMobileVisibilityContent:function(){return t.div({className:"toggle-with-icon"},t.span(null,e.createElement(i.symbol,this.getMobileIconProps())),t.span({className:"label"},l.translate("Pages_Mobile_Settings_Hide")))},changeMobileVisibility:function(e){d.setHidden(this.getEditorAPI(),this.props.menuItem,void 0,e),this.getEditorAPI().bi.event(u.events.topbar.pages.top_bar_PAGES_settings_hide_from_mobile_done_click,{category:e?"hide":"show"})},isDynamicPage:function(){var e=this.getEditorAPI();return!!this.props.menuItem.pageData&&!!e.documentServices.routers.getRouterDataForPageIfExist(this.props.menuItem.pageData.id)},shouldShowDynamicPageSettings:function(){var e=this.getEditorAPI(),t=[e.documentServices.platform.editorApps.DYNAMIC_PAGES.appDefId,e.documentServices.platform.editorApps.DATA_BINDING.appDefId],a=this.getAppData();return n.includes(t,a.appDefId)},getAppMobileTabs:function(e){return this.getEditorAPI().pages.dynamicPages.getDynamicPageActions(e,"pageSettings")},getAppData:function(){var e=this.getEditorAPI(),t=e.components.get.byId(this.props.menuItem.pageData.id),a=e.documentServices.routers.getRouterRef.byPage(t);if(a){var s=e.documentServices.routers.get.byRef(a);return{appDefId:s.appDefinitionId,applicationId:n.get(e.documentServices.platform.getAppDataByAppDefId(s.appDefinitionId),"applicationId")}}},getIframeFullSrc:function(e,t,a){var s=this.getEditorAPI().documentServices.platform.getAppDataByAppDefId(t);return g.utils.getFullApplicationUrl(s,e,t,a)},iframeLoadedHandler:function(){},getPostMessageHandler:function(){var e=this.getEditorAPI(),t=e.components.get.byId(this.props.menuItem.pageData.id),a={routerRef:e.documentServices.routers.getRouterRef.byPage(t),publicUrl:e.documentServices.generalInfo.getPublicUrl(),pageRef:t,origin:"dynamic_page_settings_panel_tab"};return g.platformPostMessageService.createPostMessageListener({token:this.props.token,initialData:a},this.props.token)},getAppTabContent:function(){if(this.isDynamicPage()&&!this.shouldShowDynamicPageSettings()){var t=this.getAppData(),a=this.getAppMobileTabs(this.props.menuItem.pageData.id),s=n.find(a,{type:r.PAGE_SETTINGS_TABS.PAGE_INFO});return e.createElement(p.iframe,n.assign({},{menuItem:this.props.menuItem},{key:"dynamic-page-iframe"+this.props.menuItem.pageData.id+t.appDefId,ref:"dynamic-page-iframe"+this.props.menuItem.pageData.id+t.appDefId,className:"content-iframe",appData:t,name:this.props.token,src:this.getIframeFullSrc(s.url,t.appDefId,t.applicationId),onPostMessage:this.getPostMessageHandler(this.props.token),onLoad:this.iframeLoadedHandler}))}}})}),define("pagesMenu/panels/settings/mobile/pageSettingsMobileSubpage.rt",["react","lodash","baseUI","baseUILib","pagesMenu/settings/tabs/subPages/blogSinglePostInfo","pagesMenu/settings/tabs/subPages/tpaProductPageInfo","pagesMenu/settings/tabs/subPages/tpaCartPageInfo","pagesMenu/settings/tabs/subPages/tpaThankYouPageInfo","pagesMenu/panels/settings/mobile/pageSettingsMobileCommon","core"],function(e,t,a,s,n,i,o,r,l,p){"use strict";return function(){return function(){var a=this.props.menuItem.pageData,g=p.utils.blogTypeUtils,c=p.utils.wixStoreTypeUtils,u=this.getEditorAPI();return e.createElement(l,{title:this.props.menuItem.label,closeSettingsPanel:this.props.closeSettingsPanel},e.createElement(s.CustomScroll,{},e.createElement("div",{className:"wixapps-subpage"},g.isBlog(u,a)?e.createElement(n,t.assign({},{key:"page-settings-mobile-blog-single-post"},this.props)):null,c.isWixStoreProductPage(a)?e.createElement(i,t.assign({},{key:"page-settings-mobile-tpa-product-page"},this.props)):null,c.isWixStoreCartPage(a)?e.createElement(o,t.assign({},{key:"page-settings-mobile-tpa-cart-page"},this.props)):null,c.isWixStoreThankYouPage(a)?e.createElement(r,t.assign({},{key:"page-settings-mobile-tpa-thank-you-page"},this.props)):null)))}.apply(this,[])}}),define("pagesMenu/panels/settings/mobile/pageSettingsMobileSubpage",["create-react-class","prop-types","core","pagesMenu/panels/settings/mobile/pageSettingsMobileSubpage.rt"],function(e,t,a,s){"use strict";return e({mixins:[a.mixins.editorAPIMixin],displayName:"pageSettingsMobileSubpage",propTypes:{menuItem:t.object.isRequired,actions:t.object,closeSettingsPanel:t.func.isRequired},render:s})}),define("pagesMenu/specialPages/tpaPages",["lodash","core"],function(e,t){"use strict";function a(t,a,s){return e.includes(a,s.tpaApplicationId)&&!e.has(t,s.id)}var s=t.utils.tpaTypeUtils,n={getSectionPagesDataList:function(t,n){var i=function(t,a){return e(t).filter(function(e){return s.isTPASpecialPage(a.dsRead,e)}).keyBy("id").value()}(n,t),o=function(t,a){return e(t).filter(function(t){return e.has(a,t.id)}).map("tpaApplicationId").uniq().value()}(n,i);return e.filter(n,e.partial(a,i,o))},getSpecialPagesDataList:function(t,a){return e.filter(a,function(e){return s.isTPASpecialPage(t.dsRead,e,!0)})},getSpecialPagesDataListByTPAId:function(t,a,s){return e.filter(n.getSpecialPagesDataList(t,s||t.documentServices.pages.getPagesData()),["tpaApplicationId",a])}};return n}),define("pagesMenu/specialPages/blogPages",["lodash","core"],function(e,t){"use strict";var a=t.utils.blogTypeUtils;return{getSectionPagesDataList:function(t,s){return e.filter(s,e.partial(a.isBlogSectionPage,t))},getSpecialPagesDataList:function(t,s){return e.filter(s,a.isBlogSpecialPage)}}}),define("pagesMenu/specialPages/menuLogic",["lodash","core","pagesMenu/specialPages/tpaPages","pagesMenu/specialPages/blogPages"],function(e,t,a,s){"use strict";var n=t.utils,i=n.blogTypeUtils.isBlog,o=n.tpaTypeUtils.isTPA;return{isSpecialPage:function(e,t){return n.blogTypeUtils.isBlogSpecialPage(t)||n.tpaTypeUtils.isTPASpecialPage(e.dsRead,t)||n.dynamicTypeUtils.isDynamicPage(e,t)},isSubPageMenuItem:function(e,t){return this.isSpecialPage(e,t)&&!n.tpaTypeUtils.isPageNotVisibleInPagesMenu(e.dsRead,t)},getSectionPagesIds:function(t,n){var i=a.getSectionPagesDataList(t,n),o=s.getSectionPagesDataList(t,n);return e.union(e.map(i,"id"),e.map(o,"id"))},getSpecialPagesListBySectionPageOrBySibling:function(e,t,n){if(t){if(i(e,t))return function(e,t){return s.getSpecialPagesDataList(e,t||e.documentServices.pages.getPagesData())}(e,n);if(o(t))return function(e,t,s){return a.getSpecialPagesDataListByTPAId(e,t,s)}(e,t.tpaApplicationId,n)}return[]}}}),define("pagesMenu",["pagesMenu/components/pageItem","pagesMenu/components/nodeContentCommon","pagesMenu/components/mixedList/nodeContentUniversalRenderer","pagesMenu/utils/pageMenuItemHelpers","pagesMenu/utils/pageUtils","pagesMenu/utils/quickActionsUtils","pagesMenu/utils/constants","pagesMenu/components/quickActionRenameMixin","pagesMenu/panels/settings/desktop/pageSettingsDesktop","pagesMenu/panels/settings/desktop/pageSettingsDesktopSubpage","pagesMenu/panels/settings/mobile/pageSettingsMobile","pagesMenu/panels/settings/mobile/pageSettingsMobileSubpage","pagesMenu/specialPages/menuLogic","pagesMenu/specialPages/blogPages","pagesMenu/specialPages/tpaPages"],function(e,t,a,s,n,i,o,r,l,p,g,c,u,d,m){"use strict";return{pageItem:e,nodeContentCommon:t,pageMenuItemHelpers:s,settingsPanels:{desktop:{mainMenu:l,subpage:p},mobile:{mainMenu:g,subpage:c}},mixedList:{nodeContentUniversalRenderer:a},mixins:{quickActionRenameMixin:r},utils:{convertPageNameToUrl:n.convertPageNameToUrl,quickActions:i,constants:o},specialPages:{menuLogic:u,blog:d,tpa:m}}});
//# sourceMappingURL=pagesMenu.min.js.map