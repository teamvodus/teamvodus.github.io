define("mobileEditor/mobileElementsPanel/mobileElementsData",["lodash","coreBi","constants","experiment"],function(e,t,i,n){"use strict";function o(t){return e.reject(t.mobile.qab.getActions(),"isDynamic").length>0}function a(e){var t=e.mobile.qab.get();e.selection.selectComponentByCompRef(t)}function r(n){o(n)?a(n):(n.mobile.actionBar.version.upgrade(),n.documentServices.waitForChangesApplied(function(){!function(i){var n=i.mobile.qab.get(),o=i.components.serialize(n);i.bi.event(t.events.addPanel.COMPONENT_ADDED_TO_STAGE,{origin:"mobile_tools",category:null,section:null,component_type:o.componentType,component_id:n.id,preset_id:null,adding_method:null,preset_data_skin:n.skin||e.get(n,["style","skin"])||"",preset_data_tags:null,editor_working_mode:"mobile"})}(n),function(e){a(e),e.panelManager.closeAllPanels(),e.openComponentPanel(i.componentPanels.manage,{firstTimeOpen:!0})}(n)}))}var s=e.once(function(e){var t=e.mobile.actionBar.isEnabled();return o(e)||n.isOpen("se_qab")&&!t}),l=e.once(function(e){return e.mobile.actionBar.isEnabled()||!n.isOpen("se_qab")});return function(e){var t=[];return s(e)?t.push(function(e){return{id:"quickActionBar",title:"mobile_features_feature_title_quick_actions",desc:"mobile_features_feature_text_quick_actions",symbol:"mobile_left_menu_action_bar",expandSymbol:"plusBig",expandSymbolDisabled:"successIcon",onClick:r.bind(null,e),tooltip:{key:"qabActivatedTooltip",id:"qabActivatedTooltip",content:"mobile_features_feature_text_add_tosite"},disabled:o(e),disabledTooltip:{key:"qabDisabledTooltip",id:"qabDisabledTooltip",content:"mobile_quick_actions_preinstalled_tooltip"}}}(e)):l(e)&&t.push(function(e){return{id:"actionBar",title:"mobile_action_bar_title",desc:"mobile_features_feature_text_quick_actions",symbol:"mobile_left_menu_action_bar",helpId:"ec11d690-b5f0-4c35-b95f-2e928067049d",toggle:{action:e.mobile.actionBar.enable,state:e.mobile.actionBar.isEnabled}}}(e)),t.push(function(e){return{id:"backToTop",title:"mobile_backtotop_title",desc:"mobile_features_feature_text_backto_top",symbol:"mobile_left_menu_back_to_top",helpId:"ca3e54a0-3d76-4ede-af8c-f9ccbaeeba5d",toggle:{action:e.mobile.mobileOnlyComponents.enableBackToTopButton,state:e.mobile.mobileOnlyComponents.isMobileOnlyComponentExistOnStructure.bind(null,e.mobile.mobileOnlyComponents.mobileOnlyComps.BACK_TO_TOP_BUTTON)}}}(e)),t}}),define("mobileEditor/mobileElementsPanel/mobileElementSettings/mobileSettingsMixin",["coreBi"],function(e){"use strict";return{getInitialState:function(){return{toggleValue:this.getToggleState()}},componentWillReceiveProps:function(){this.setState({toggleValue:this.getToggleState()})},onToggleChange:function(e,t){switch(this.setState({toggleValue:e}),this.runToggleAction(e),this.props.id){case"mobileView":this.sendToggleBIOptimized(e,t||"mobile_view_panel_toggle");break;case"backToTop":this.sendToggleBIBackToTop(e);break;case"actionBar":this.sendToggleBIActionBar(e);break;default:throw new Error("Error: mobile settings cannot toggle "+this.props.id)}},getImage:function(){return this.state.toggleValue?this.props.image.on:this.props.image.off},getToggleState:function(){return!!this.props.toggle.state&&this.props.toggle.state()},runToggleAction:function(e){this.props.toggle.action&&(this.props.toggle.action(e),this.getEditorAPI().history.add("toggledAction"))},getValueLink:function(){return{value:this.getToggleState(),requestChange:this.onToggleChange}},sendToggleBIActionBar:function(t){this.getEditorAPI().bi.event(e.events.mobileEditor.mobileTools.MOBILE_ACTION_BAR_TOGGLE,{toggle_status:t?"on":"off",site_id:this.getEditorAPI().documentServices.generalInfo.getSiteId()})},sendToggleBIBackToTop:function(t){var i=e.events.mobileEditor.mobileTools.BACK_TO_TOP_SHOW_TOGGLE,n={toggle_status:t?"on":"off"};this.getEditorAPI().bi.event(i,n)},sendToggleBIOptimized:function(t,i){var n="mobileView"===this.props.id?e.events.topbar.mobile_view_mode_toggle:null;if(n){var o={origin:i||"",status:t?1:0};this.getEditorAPI().bi.event(n,o)}}}}),define("mobileEditor/mobileElementsPanel/mobileElementSettings/mobileElementsSettingsHeader.rt",["react","lodash","util","symbols"],function(e,t,i,n){"use strict";return function(){return e.createElement("div",{className:"mobile-settings-header"},e.createElement("div",{className:"title"},i.translate(this.props.title)),e.createElement("div",{className:"helpSign",onClick:this.openHelpCenter},"?"),e.createElement("div",{onClick:this.minimize},e.createElement(n.symbol,{className:"arrow",name:"arrowRightBig"})))}}),define("mobileEditor/mobileElementsPanel/mobileElementSettings/mobileElementsSettingsHeader",["create-react-class","prop-types","lodash","core","constants","mobileEditor/mobileElementsPanel/mobileElementSettings/mobileElementsSettingsHeader.rt"],function(e,t,i,n,o,a){"use strict";return e({displayName:"mobileElementsSettingsHeader",render:a,mixins:[n.mixins.editorAPIMixin],propTypes:{minimize:t.func,title:t.string,helpId:t.string},minimize:function(){this.props.minimize()},openHelpCenter:function(){var e={panel_name:this.props.title,origin:o.BI.HELP.ORIGIN.LEFTBAR,learn_more:!1};this.getEditorAPI().panelManager.openHelpCenter(this.props.helpId,null,e)}})}),define("mobileEditor/mobileElementsPanel/mobileElementSettings/mobileSettingsBackToTop.rt",["react","lodash","baseUI","baseUILib","util","mobileEditor/mobileElementsPanel/mobileElementSettings/mobileElementsSettingsHeader"],function(e,t,i,n,o,a){"use strict";return function(){return e.createElement("div",{className:t({"mobile-element-settings":!0,backToTopEnabled:this.state.toggleValue}).transform(function(e,t,i){t&&e.push(i)},[]).join(" ")},e.createElement(a,{title:"mobile_backtotop_title",helpId:this.props.helpId,minimize:this.props.onClick}),e.createElement("div",{className:"content"},e.createElement("div",{className:"category-desc"},e.createElement("p",{className:"text"},"\r\n                ",o.translate("mobile_backtotop_text")," ",e.createElement("a",{className:"learn-more",onClick:this.openHelpCenter},o.translate("mobile_backtotop_link")))),e.createElement(n.ToggleSwitch,{value:this.getValueLink().value,label:"mobile_backtotop_show_label",onChange:this.getValueLink().requestChange}),e.createElement("br",{}),e.createElement("div",{className:"imageWrapper"},e.createElement("div",{className:"img"})),e.createElement("p",{className:"text"},"\r\n            ",o.translate("mobile_backtotop_bottom_text")," ",e.createElement("a",{onClick:this.goToPreview,className:"go-to-preview"},o.translate("mobile_backtotop_preview_text")),"\r\n            ",o.translate("mobile_backtotop_bottom_text2"),"\r\n        ")))}}),define("mobileEditor/mobileElementsPanel/mobileElementSettings/mobileSettingsBackToTop",["create-react-class","prop-types","core","lodash","mobileEditor/mobileElementsPanel/mobileElementSettings/mobileSettingsMixin","coreBi","constants","mobileEditor/mobileElementsPanel/mobileElementSettings/mobileSettingsBackToTop.rt"],function(e,t,i,n,o,a,r,s){"use strict";return e({displayName:"mobileSettingsBackToTop",mixins:[o,i.mixins.editorAPIMixin],propTypes:{id:t.string,helpId:t.string},goToPreview:function(){var e=this.getEditorAPI();e.preview.togglePreview(),e.bi.event(a.events.mobileEditor.mobileTools.BACK_TO_TOP_PREVIEW_CLICK,{})},openHelpCenter:function(){var e={learn_more:!0,panel_name:this.props.id,origin:r.BI.HELP.ORIGIN.LEFTBAR};this.getEditorAPI().panelManager.openHelpCenter(this.props.helpId,null,e)},render:s})}),define("mobileEditor/mobileElementsPanel/mobileElementSettings/mobileSettingsActionBar.rt",["react","lodash","baseUI","baseUILib","util","panels","symbols","mobileEditor/mobileElementsPanel/mobileElementSettings/mobileElementsSettingsHeader"],function(e,t,i,n,o,a,r,s){"use strict";return function(){return e.createElement("div",{className:t({"mobile-element-settings":!0,"action-bar-settings":!0}).transform(function(e,t,i){t&&e.push(i)},[]).join(" ")},e.createElement(s,{title:"mobile_action_bar_title",helpId:this.props.helpId,minimize:this.props.onClick}),e.createElement("div",{className:"content"},e.createElement("div",{className:"category-desc"},e.createElement("p",{className:"text"},"\n                ",o.translate("mobile_action_bar_text")," ",e.createElement("a",{className:"learn-more",onClick:this.openHelpCenter},o.translate("mobile_action_bar_text_link")))),e.createElement(n.ToggleSwitch,{value:this.getValueLink().value,label:"mobile_action_bar_toggle_label",onChange:this.getValueLink().requestChange}),e.createElement("br",{}),e.createElement("div",{className:"action-bar-main-content"},e.createElement("div",{className:"action-bar-menu-wrapper"},e.createElement("div",{className:"action-bar-menu-title"},"\n                    ",o.translate("mobile_action_bar_section_label"),"\n                "),e.createElement("div",{className:"action-bar-menu"},e.createElement(n.CustomScroll,{ref:"customScroll",heightRelativeToParent:"100%",addScrolledClass:!0},e.createElement.apply(this,["ul",{},t.map(this.getActions(),function(i,o){return e.createElement("li",{className:t({"action-bar-item":!0,"social-media-open":this.isSubPanelOpen(i.id)}).transform(function(e,t,i){t&&e.push(i)},[]).join(" "),key:i.id},i.isForm?e.createElement("div",{key:i.id},e.createElement(n.Composites.ToggleSwitchWithSelectiveInput,{},e.createElement(n.Composites.ToggleSwitch,{},e.createElement(n.ToggleSwitch,{value:this.getActionValueLink(i.id).value,label:i.label,onChange:this.getActionValueLink(i.id).requestChange,symbol:this.getSymbolElement(i.symbol),disabled:!this.isActionBarEnabled()})),this.getActionValueLink(i.id).value?e.createElement(n.Composites.TextInput,{key:i.id+"2"},e.createElement(n.TextInput,{value:this.getActionDataValueLink(i.id).value,onChange:this.getActionDataValueLink(i.id).requestChange,validator:i.validators,invalidMessage:i.invalidMessage,placeholder:this.getPlaceholder(i.id),disabled:!this.isActionBarEnabled(),onBlur:this.handleBlur.bind(this,i.id),maxLength:this.getMaxLength(),focus:this.state.shouldInputFocus})):null),e.createElement(n.Divider,{})):null,i.isForm?null:e.createElement("div",{key:i.id},"socialLinks"!==i.id?e.createElement(n.Composites.ToggleSwitch,{key:i.id},e.createElement(n.ToggleSwitch,{value:this.getActionValueLink(i.id).value,onChange:this.getActionValueLink(i.id).requestChange,symbol:this.getSymbolElement(i.symbol),disabled:!this.isActionBarEnabled(),label:i.label})):null,"socialLinks"!==i.id?e.createElement(n.Divider,{key:i.id+"_devider"}):null,"socialLinks"===i.id?e.createElement(n.Composites.ToggleSwitch,{key:i.id},e.createElement(n.ToggleSwitch,{value:this.getActionValueLink(i.id).value,onChange:this.getActionValueLink(i.id).requestChange,symbol:this.getSymbolElement(i.symbol),disabled:!this.isActionBarEnabled(),label:i.label,onCheck:this.openPanel})):null))}.bind(this))]))),e.createElement("div",{className:"action-bar-color-scheme"},e.createElement("div",{className:"action-bar-color-scheme-picker"},e.createElement("div",{className:"color-scheme-label"},o.translate("mobile_action_bar_colors_label")),e.createElement(i.buttonsGroup,{disabled:!this.isActionBarEnabled(),options:this.getColorSchemeOptions(),valueLink:this.getColorSchemeValueLink()})),e.createElement("div",{className:"action-bar-preview",style:{backgroundImage:this.getMobileActionBarDevicePreview()}},this.isActionBarEnabled()?e.createElement("div",{className:"action-bar-menu-preview",key:"actionBarMenuPreview",style:{backgroundImage:this.getMobileActionBarMenuPreview(),backgroundPosition:this.getMobileActionBarMenuPreviewPosition()}}):null)))),e.createElement("div",{className:"action-bar-footer"},e.createElement("span",{},"\n                ",o.translate("mobile_action_bar_bottom_text"),"\n            "),e.createElement("span",{className:"action-bar-publish",onClick:this.goToPublishHelp},"\n                ",o.translate("mobile_action_bar_bottom_link"),"\n            "))))}}),define("mobileEditor/mobileElementsPanel/mobileElementSettings/mobileSettingsActionBar",["react","create-react-class","prop-types","core","lodash","util","symbols","mobileEditor/mobileElementsPanel/mobileElementSettings/mobileSettingsMixin","coreBi","constants","mobileEditor/mobileElementsPanel/mobileElementSettings/mobileSettingsActionBar.rt"],function(e,t,i,n,o,a,r,s,l,d,m){"use strict";return t({displayName:"mobileSettingsActionBar",mixins:[s,n.mixins.editorAPIMixin],propTypes:{id:i.string,helpId:i.string},getInitialState:function(){return{shouldInputFocus:!1}},goToPublishHelp:function(){var e={component:"publish_your_site",learn_more:!0,panel_name:this.props.id,origin:d.BI.HELP.ORIGIN.LEFTBAR};this.getEditorAPI().panelManager.openHelpCenter("c61857c1-9b9f-48f8-ae8b-c46c74427ec8",null,e)},openHelpCenter:function(){var e={learn_more:!0,panel_name:this.props.id,origin:d.BI.HELP.ORIGIN.LEFTBAR};this.getEditorAPI().panelManager.openHelpCenter(this.props.helpId,null,e)},getActions:function(){return[{id:"navigationMenu",label:"mobile_action_bar_menu_label",symbol:"mba_menu_bold",isForm:!1},{id:"phone",label:"mobile_action_bar_phone_label",symbol:"mba_phone_bold",validators:[a.validate.notEmpty,a.validate.phone],invalidMessage:"Validation_V3_Numeric_Input",isForm:!0},{id:"email",label:"mobile_action_bar_email_label",symbol:"mba_envelope_bold",validators:[a.validate.notEmpty,a.validate.email],invalidMessage:"Validation_V1_Email",isForm:!0},{id:"address",label:"mobile_action_bar_address_label",symbol:"mba_map_bold",isForm:!0},{id:"socialLinks",label:"mobile_action_bar_social_label",symbol:"mba_social_bar_bold",isForm:!1}]},toggleAction:function(e){var t=this.getEditorAPI().mobile.actionBar.actions,i=t.getEnabled(),n=t.get()[e],a=o.find(this.getActions(),{id:e}).isForm,r=this.getDefaultActionValue(e),s=n===r,d={},m="socialLinks"===e,c=!1;i[e]=!i[e],this.getEditorAPI().bi.event(l.events.mobileEditor.mobileTools.MOBILE_ACTION_BAR_COMPONENT_TOGGLE,{toggle_name:e,toggle_status:i[e]?"on":"off",site_id:this.getEditorAPI().documentServices.generalInfo.getSiteId()}),a?(i[e]?(d[e]=n||r,t.update(d)):s&&(d[e]="",t.update(d)),c=i[e]):m&&i[e]&&(o(n).values().compact().value().length>0||(i[e]=!1),this.openPanel()),this.setState({shouldInputFocus:c}),t.enable(i)},isActionEnabled:function(e){return this.getEditorAPI().mobile.actionBar.actions.getEnabled()[e]},getDefaultActionValue:function(e){return a.translate("mobile_action_bar_"+e+"_default")},getPlaceholder:function(e){return"mobile_action_bar_"+e+"_placeholder"},changeActionData:function(e,t){var i={};i[e]=t,this.getEditorAPI().mobile.actionBar.actions.update(i)},handleBlur:function(e,t){var i=this.getEditorAPI().mobile.actionBar,n=i.actions,o={};!t.target.value&&i.isEnabled()&&(o[e]=!1,n.enable(o))},getActionValueLink:function(e){return{value:this.isActionEnabled(e),requestChange:this.toggleAction.bind(this,e)}},getActionDataValueLink:function(e){return{value:this.getEditorAPI().mobile.actionBar.actions.get()[e],requestChange:this.changeActionData.bind(this,e)}},getColorSchemeValueLink:function(){var e=this.getEditorAPI().mobile.actionBar.colorScheme;return{value:e.get(),requestChange:e.set}},getColorSchemeOptions:function(){return[{label:"mobile_action_bar_colors_dark",value:"dark"},{label:"mobile_action_bar_colors_light",value:"light"}]},openPanel:function(){this.isActionBarEnabled()&&this.getEditorAPI().panelManager.openPanel("panels.toolPanels.mobileActionBarSubPanel",{top:194,left:666},!0)},isActionBarEnabled:function(){return this.getEditorAPI().mobile.actionBar.isEnabled()},getMobileActionBarDevicePreview:function(){var e=this.isActionBarEnabled()?"mobileEditor/mobileSettings/mobilePreviewActive.png":"mobileEditor/mobileSettings/mobilePreviewDisable.png";return"url('"+a.media.getMediaUrl(e)+"')"},getMobileActionBarMenuPreview:function(){return"url('"+a.media.getMediaUrl("mobileEditor/mobileSettings/mobilePreviewQuickActionButtons.png")+"')"},getMobileActionBarMenuPreviewPosition:function(){var e=this.getEditorAPI().mobile.actionBar,t=e.actions.getEnabled(),i={navigationMenu:16,phone:8,email:4,address:2,socialLinks:1},n=32*("light"===e.colorScheme.get());return"50% "+(o(t).pickBy().map(function(e,t){return i[t]}).sum()+n)/63*100+"%"},isSubPanelOpen:function(e){var t=this.getEditorAPI().panelManager.getOpenPanels(),i="socialLinks"===e,n=o.some(t,{name:"panels.toolPanels.mobileActionBarSubPanel"});return i&&n},getMaxLength:function(){return 256},getSymbolElement:function(t){return e.createElement(r.symbol,{name:t})},render:m})}),define("mobileEditor/mobileElementsPanel/mobileElementSettings/mobileElementSettings",["react","create-react-class","prop-types","core","lodash","mobileEditor/mobileElementsPanel/mobileElementSettings/mobileSettingsBackToTop","mobileEditor/mobileElementsPanel/mobileElementSettings/mobileSettingsActionBar"],function(e,t,i,n,o,a,r){"use strict";return t({displayName:"mobileElementSettings",mixins:[n.mixins.editorAPIMixin],propTypes:{id:i.string},render:function(){var t={backToTop:a,actionBar:r};return e.createElement(t[this.props.id],o.assign({},this.props))}})}),define("mobileEditor/mobileElementsPanel/mobileElementsPanel.rt",["react","lodash","experiment","util","panels","baseUI","baseUILib","mobileEditor/mobileElementsPanel/mobileElementSettings/mobileElementSettings","mobileEditor/mobileElementsPanel/mobileElementsData"],function(e,t,i,n,o,a,r,s,l){"use strict";return function(){function i(){var i=this.getEditorAPI();return e.createElement.apply(this,["div",{className:"items-wrapper"},t.map(l(i),function(i,n,o){return e.createElement("div",{className:t(this.getClass(n)).transform(function(e,t,i){t&&e.push(i)},[]).join(" "),key:n.id},e.createElement(a.listItemWithSymbol,t.assign({},{key:"itemWithSymbol"},this.getMobileElementProps(n))))}.bind(this,i))])}return e.createElement(o.frames.leftPanelFrame,{className:"mobile-elements-panel "+t({"action-bar-menu-open":this.isActionBarOpened()}).transform(function(e,t,i){t&&e.push(i)},[]).join(" "),ref:"mobileElementsPanel",panelName:this.props.panelName,panelClass:this.getPanelClass(),label:n.translate("mobile_features_section_title_mobile_tools"),onContextMenu:function(e){e.preventDefault()}.bind(this)},this.state.selectedMobileElement?e.createElement(s,t.assign({},{key:"mobileElement"},this.getMobileElementSettingsProps())):null,e.createElement("div",{className:"panel-shadow"}),i.apply(this,[]))}}),define("mobileEditor/mobileElementsPanel/mobileElementsPanel",["create-react-class","prop-types","core","lodash","mobileEditor/mobileElementsPanel/mobileElementsData","coreBi","mobileEditor/mobileElementsPanel/mobileElementsPanel.rt"],function(e,t,i,n,o,a,r){"use strict";function s(e,t){var i=o(e);return n.find(i,function(e){return e.id.toLowerCase()===t})}return e({displayName:"mobileElementsPanel",mixins:[i.mixins.editorAPIMixin],propTypes:{mobileElementId:t.string},getInitialState:function(){return{selectedMobileElement:s(this.getEditorAPI(),this.props.mobileElementId)}},isItemSelected:function(e){return this.state.selectedMobileElement&&this.state.selectedMobileElement.id===e},componentWillReceiveProps:function(e){if(e.mobileElementId!==this.props.mobileElementId){var t=s(this.getEditorAPI(),e.mobileElementId);this.setState({selectedMobileElement:t})}},selectMobileElement:function(e){this.getEditorAPI().bi.event(a.events.mobileEditor.mobileTools.MOBILE_ELEMENT_CLICK,{element_name:e.id}),n.isFunction(e.onClick)?e.onClick():this.setMobileElement(e)},setMobileElement:function(e){this.setState({selectedMobileElement:e})},getMobileElementSettingsProps:function(){return n.assign(this.state.selectedMobileElement,{onClick:this.setMobileElement})},getMobileElementProps:function(e){return n.assign(e,{callback:this.selectMobileElement.bind(this,e)})},getClass:function(e){return n.defaults(e.classNames,{"item-in-list":!0,selected:this.isItemSelected(e.id)})},isActionBarOpened:function(){return this.isItemSelected("actionBar")},getPanelClass:function(){return"mobile-elements-panel "+(this.isActionBarOpened()?"action-bar-menu-open-wrapper":"")},render:r})}),define("mobileEditor/hiddenItemsPanel/mobileOnlyHiddenItemsData",[],function(){"use strict";var e={TINY_MENU:{id:"TINY_MENU",className:"wysiwyg.viewer.components.mobile.TinyMenu",label:"component_label_tinyMenu"}};return{getMobileItemData:function(t){return e[t]}}}),define("mobileEditor/hiddenItemsPanel/hiddenItemsData",["lodash","util","mobileEditor/hiddenItemsPanel/mobileOnlyHiddenItemsData"],function(e,t,i){"use strict";function n(e){var i=e||"";return i=t.stringUtils.removeHtmlTagsFromString(i),i=t.stringUtils.removeBreakLinesFromString(i),i=i.substring(0,r),i=function(e){var t=window.document.createElement("div");return t.innerHTML=e,0===t.childNodes.length?"":t.childNodes[0].nodeValue}(i)}function o(e,t,i){var o=i.components.get.byId(e,t,i.documentServices.viewMode.VIEW_MODES.DESKTOP),a=i.components.getType(o),r=i.components.layout.get(o),d=i.components.getIconInfo(o,s);return{compId:o.id,compType:a,desktopLayout:r,label:function(e,t,i){var o=i.components.getDisplayName(e);if(l[t]){var a=i.components.data.get(e);a&&(o+=": "+a[l[t]])}return n(o)}(o,a,i),iconUrl:d.src,svgName:d.svgName,css:d.css}}function a(e,n,a,r){return r?function(e){var n=i.getMobileItemData(e),o=t.compIcon.getCompIconInfo(null,n.className,s);return{compId:n.id,compType:n.id,desktopLayout:null,label:t.translate(n.label),iconUrl:o.src,svgName:o.svgName,css:o.css}}(n):o(n,a,e)}var r=50,s={width:50,height:50},l={"wysiwyg.viewer.components.SiteButton":"label","wysiwyg.viewer.components.WRichText":"text"};return{getItemData:a}}),define("mobileEditor/hiddenItemsUtils/hiddenItemsUtils",["lodash","mobileEditor/hiddenItemsPanel/hiddenItemsData"],function(e,t){"use strict";function i(i,n){var o=i.mobile.hiddenComponents.get(n);return e.map(o,function(e){var o=i.mobile.mobileOnlyComponents.isMobileOnlyComponent(e);return t.getItemData(i,e,n,o)})}return{getHiddenCompsForPage:i,getFocusedPageHiddenComps:function(t,n){n=n||t.documentServices.pages.getFocusedPageId();var o=i(t,"masterPage"),a=i(t,n);return e.uniqBy(e.union(o,a),"compId")}}}),define("mobileEditor/hiddenItemsPanel/hiddenItem/hiddenItem.rt",["react","lodash","baseUI","util"],function(e,t,i,n){"use strict";return function(){return e.createElement("div",{className:"hidden-item"},e.createElement("div",function(e,i){var n=t.assign({},e,i);return e.hasOwnProperty("style")&&(n.style=t.defaults(n.style,e.style)),e.hasOwnProperty("className")&&i.hasOwnProperty("className")&&(n.className=i.className+" "+e.className),n}({className:"icon"},this.getStyle()),this.props.svgName?e.createElement(i.symbol,{key:"hiddenItemIcon",name:this.props.svgName}):null),e.createElement("div",{className:"label"},this.props.label),e.createElement(i.tooltip,{value:"mobile_hidden_items_show_tooltip"},e.createElement("div",{className:"add-button",onClick:this.reAddComp},e.createElement(i.symbol,{name:"showComp"}))))}}),define("mobileEditor/hiddenItemsPanel/hiddenItem/hiddenItem_new.rt",["react","lodash","baseUI","baseUILib","util"],function(e,t,i,n,o){"use strict";return function(){return e.createElement("div",{className:"hidden-item new-hidden-item",onClick:function(){this.reAddComponent()}.bind(this),onMouseOver:function(){this.previewReAddComponent()}.bind(this),onMouseLeave:function(){this.stopPreviewReAddComponent()}.bind(this)},e.createElement("div",function(e,i){var n=t.assign({},e,i);return e.hasOwnProperty("style")&&(n.style=t.defaults(n.style,e.style)),e.hasOwnProperty("className")&&i.hasOwnProperty("className")&&(n.className=i.className+" "+e.className),n}({className:"icon"},this.getStyle()),this.props.svgName?e.createElement(i.symbol,{key:"hiddenItemIcon",name:this.props.svgName}):null),e.createElement("div",{className:"label"},this.props.label),e.createElement(n.Tooltip,{content:"mobile_hidden_items_show_tooltip"},e.createElement("div",{className:"add-button"},this.state.hovered?null:e.createElement(i.symbol,{name:"showComp",key:"eye-icon"}),this.state.hovered?e.createElement(i.symbol,{className:"plus",name:"plusBig",key:"plus-icon"}):null)))}}),define("mobileEditor/hiddenItemsPanel/hiddenItem/hiddenItem",["create-react-class","higherOrderComponents","prop-types","stateManagement","experiment","core","lodash","coreBi","mobileEditor/hiddenItemsPanel/hiddenItem/hiddenItem.rt","mobileEditor/hiddenItemsPanel/hiddenItem/hiddenItem_new.rt"],function(e,t,i,n,o,a,r,s,l,d){"use strict";var m=n.mobile.actions.hiddenItems,c=o.isOpen("se_newMobileHiddenItemsPanel"),p=e({displayName:"hiddenItem",render:l,mixins:[a.mixins.editorAPIMixin],propTypes:{label:i.string.isRequired,compId:i.string.isRequired,compType:i.string.isRequired,pageId:i.string.isRequired,sectionType:i.string.isRequired,svgName:i.string,iconUrl:i.string,css:i.object},sendReAddBiEvent:function(){var e=this.getEditorAPI(),t={current_page_name:this.props.pageId,component_type:this.props.compType,section:this.props.sectionType};if(e.isTpa(this.props.compType)){var i=e.components.get.byId(this.props.compId,this.props.pageId,e.documentServices.viewMode.VIEW_MODES.DESKTOP),n=e.components.data.get(i),o=e.documentServices.tpa.app.getData(n.applicationId);t.app_id=o.appDefinitionId,t.app_site_id=o.instanceId,t.instance_id=this.props.compId}e.bi.event(s.events.mobileEditor.hiddenElements.HIDDEN_ELEMENTS_SHOW,t)},reAddComp:function(){var e=this.getEditorAPI();e.mobile.hiddenComponents.show(this.props.compId,this.props.pageId),e.history.add("unhide mobile component"),this.sendReAddBiEvent()},getStyle:function(){var e={};return this.props.css&&((e=this.props.css).backgroundImage="url("+this.props.iconUrl+")"),{style:e}}});if(!c)return p;var u=e({displayName:"hiddenItem",render:d,propTypes:{label:i.string.isRequired,compId:i.string.isRequired,compType:i.string.isRequired,pageId:i.string.isRequired,sectionType:i.string.isRequired,svgName:i.string,iconUrl:i.string,css:i.object},getInitialState:function(){return{hovered:!1,timeoutDelayFinished:!1}},timeoutId:void 0,cancelTimeout:function(){window.clearTimeout(this.timeoutId),this.timeoutId=void 0},stopPreviewReAddComponent:function(){if(this.cancelTimeout(),this.setState({hovered:!1}),this.state.timeoutDelayFinished){this.setState({timeoutDelayFinished:!1});var e=this.props,t=e.compId,i=e.pageId;this.props.stopPreviewReAddComponent(t,i)}},previewReAddComponent:function(){var e=this;this.setState({hovered:!0});if(!!(!this.timeoutId&&!this.state.timeoutDelayFinished)){var t=this.props.selectedComponents.length?1500:500;this.timeoutId=window.setTimeout(function(){e.setState({timeoutDelayFinished:!0});var t=e.props,i=t.compId,n=t.pageId;e.props.previewReAddComponent(i,n)},t)}},reAddComponent:function(){this.cancelTimeout();var e=this.props,t=e.compId,i=e.pageId,n=e.compType,o=e.sectionType;this.props.reAddComponent(t,i,n,o)},getStyle:function(){var e={};return this.props.css&&((e=this.props.css).backgroundImage="url("+this.props.iconUrl+")"),{style:e}}}),b=t.connect(function(e){return{selectedComponents:n.selection.selectors.getSelectedCompsRefs(e)}},function(e){return{previewReAddComponent:function(){return e(m.previewReAddComponent.apply(m,arguments))},reAddComponent:function(){return e(m.reAddComponent.apply(m,arguments))},stopPreviewReAddComponent:function(){return e(m.stopPreviewReAddComponent.apply(m,arguments))}}})(u);return b.pure=u,b}),define("mobileEditor/hiddenItemsPanel/hiddenItemsContainer/hiddenItemsContainer.rt",["react","lodash","mobileEditor/hiddenItemsPanel/hiddenItem/hiddenItem"],function(e,t,i){"use strict";return function(){return e.createElement("div",{className:"hidden-items-container"},e.createElement("div",{className:"container-header"},this.props.title),e.createElement.apply(this,["div",{className:"container-comps"},t.map(this.props.hiddenComps,function(n,o){return e.createElement(i,t.assign({},{key:n.compId},t.assign(n,{pageId:this.props.pageId,sectionType:this.props.sectionType})))}.bind(this))]))}}),define("mobileEditor/hiddenItemsPanel/hiddenItemsContainer/hiddenItemsContainer",["create-react-class","prop-types","lodash","mobileEditor/hiddenItemsPanel/hiddenItemsContainer/hiddenItemsContainer.rt"],function(e,t,i,n){"use strict";return e({displayName:"hiddenItemsContainer",propTypes:{hiddenComps:t.arrayOf(t.shape({label:t.string.isRequired,compId:t.string.isRequired,compType:t.string.isRequired,iconUrl:t.string,svgName:t.string,css:t.object})).isRequired,pageId:t.string.isRequired,title:t.string.isRequired,sectionType:t.string.isRequired},render:n})}),define("mobileEditor/hiddenItemsPanel/hiddenItemsPanel.rt",["react","lodash","baseUI","baseUILib","util","core","panels","experiment","mobileEditor/hiddenItemsPanel/hiddenItemsContainer/hiddenItemsContainer"],function(e,t,i,n,o,a,r,s,l){"use strict";return function(){return e.createElement(r.frames.leftPanelFrame,{className:"hidden-items-panel",ref:"hiddenItemsPanel",panelName:this.props.panelName,panelClass:"hidden-items-panel",helpId:"769b8807-30b7-4ee4-8a7b-93674099732f",label:o.translate("mobile_hidden_items_panel_title")+" ("+this.getAllHiddenItems().length+")",onContextMenu:function(e){e.preventDefault()}.bind(this)},e.createElement(n.CustomScroll,{heightRelativeToParent:"inherit",addScrolledClass:!0},e.createElement("div",{className:"content"},e.createElement("div",{className:"scrollable"},this.hasHiddenItemsMasterPage()?e.createElement(l,t.assign({},{key:"hiddenItemsMP"},this.getMasterPageProps())):null,this.hasHiddenItemsCurrPage()?e.createElement(l,t.assign({},{key:"hiddenItemsCP"},this.getCurrentPageProps())):null,this.hasDeletedItemsOnPanel()?null:e.createElement("div",{className:"no-items",key:"hiddenItemsNoItems"},"\n                    ",o.translate("mobile_hidden_items_no_elements"),"\n                ")))))}}),define("mobileEditor/hiddenItemsPanel/hiddenItemsPanel_new.rt",["react","lodash","baseUI","baseUILib","util","core","panels","experiment","mobileEditor/hiddenItemsPanel/hiddenItemsContainer/hiddenItemsContainer"],function(e,t,i,n,o,a,r,s,l){"use strict";return function(){return e.createElement(r.frames.leftPanelFrame,{className:"hidden-items-panel",ref:"hiddenItemsPanel",panelName:"mobileEditor.hiddenItemsPanel",panelClass:"hidden-items-panel",helpId:"769b8807-30b7-4ee4-8a7b-93674099732f",label:o.translate("mobile_hidden_items_panel_title")+" ("+this.getAllHiddenItemsCount()+")",onContextMenu:function(e){e.preventDefault()}.bind(this)},e.createElement(n.CustomScroll,{heightRelativeToParent:"inherit",addScrolledClass:!0},e.createElement("div",{className:"content"},e.createElement("div",{className:"scrollable"},this.hasHiddenItemsMasterPage()?e.createElement(l,t.assign({},{key:"hiddenItemsMP"},this.getMasterPageProps())):null,this.hasHiddenItemsCurrPage()?e.createElement(l,t.assign({},{key:"hiddenItemsCP"},this.getCurrentPageProps())):null,this.hasDeletedItemsOnPanel()?null:e.createElement("div",{className:"no-items",key:"hiddenItemsNoItems"},"\n                    ",o.translate("mobile_hidden_items_no_elements"),"\n                ")))))}}),define("mobileEditor/hiddenItemsPanel/hiddenItemsPanel",["reactDOM","create-react-class","lodash","core","prop-types","higherOrderComponents","stateManagement","experiment","util","mobileEditor/hiddenItemsUtils/hiddenItemsUtils","mobileEditor/hiddenItemsPanel/hiddenItemsPanel.rt","mobileEditor/hiddenItemsPanel/hiddenItemsPanel_new.rt"],function(e,t,i,n,o,a,r,s,l,d,m,c){"use strict";function p(e,t,i){return{hiddenComps:d.getHiddenCompsForPage(this.getEditorAPI(),e),pageId:e,title:t,sectionType:i}}function u(e,t,n,o){return{hiddenComps:i.cloneDeep(e),pageId:t,title:n,sectionType:o}}var b=r.mobile.selectors.hiddenItems,h=r.mobile.actions.hiddenItems,g=s.isOpen("se_newMobileHiddenItemsPanel"),f=t({displayName:"hiddenItemsPanel",mixins:[n.mixins.editorAPIMixin],getDefaultProps:function(){return{panelName:"mobileEditor.hiddenItemsPanel"}},isFirstTimeInfoBoxShown:function(){return!0},getMasterPageProps:function(){return p.call(this,"masterPage",l.translate("mobile_hidden_items_section_title_allpages"),"masterPage")},getCurrentPageProps:function(){var e=l.translate("mobile_hidden_items_section_title_currentpage"),t=this.getEditorAPI().documentServices.pages.getFocusedPageId();return e=e.replace("$$PAGE$$",this.getEditorAPI().pages.getPageTitle(t)),p.call(this,t,e,"currentPage")},getAllHiddenItems:function(){return d.getFocusedPageHiddenComps(this.getEditorAPI())},hasHiddenItemsCurrPage:function(){var e=this.getEditorAPI().mobile.hiddenComponents.get(this.getEditorAPI().documentServices.pages.getFocusedPageId());return!i.isEmpty(e)},hasHiddenItemsMasterPage:function(){var e=this.getEditorAPI().mobile.hiddenComponents.get("masterPage");return!i.isEmpty(e)},hasDeletedItemsOnPanel:function(){return this.hasHiddenItemsMasterPage()||this.hasHiddenItemsCurrPage()},componentWillMount:function(){this.getEditorAPI().mobile.hideHiddenItemsCounter()},getTooltipsPanelBounds:function(){var t=function(e){if(e)return e.getBoundingClientRect()}(e.findDOMNode(this));return{left:t?t.left:180,width:t?t.width:352}},render:m});if(!g)return f;var E={left:180,width:352},_=t({displayName:"hiddenItemsPanel",propTypes:{initHiddenItemsPanel:o.func.isRequired,clearHiddenItems:o.func.isRequired,masterPageHiddenComponents:o.arrayOf(o.object).isRequired,currentPageHiddenComponents:o.arrayOf(o.object).isRequired,focusedPageId:o.string,focusedPageTitle:o.string},componentWillMount:function(){this.props.initHiddenItemsPanel()},getMasterPageProps:function(){var e=l.translate("mobile_hidden_items_section_title_allpages");return u(this.props.masterPageHiddenComponents,"masterPage",e,"masterPage")},getCurrentPageProps:function(){var e=this.props,t=e.focusedPageId,i=e.focusedPageTitle,n=l.translate("mobile_hidden_items_section_title_currentpage");return n=n.replace("$$PAGE$$",i),u(this.props.currentPageHiddenComponents,t,n,"currentPage")},getAllHiddenItemsCount:function(){return this.props.masterPageHiddenComponents.length+this.props.currentPageHiddenComponents.length},hasHiddenItemsCurrPage:function(){return!i.isEmpty(this.props.currentPageHiddenComponents)},hasHiddenItemsMasterPage:function(){return!i.isEmpty(this.props.masterPageHiddenComponents)},hasDeletedItemsOnPanel:function(){return this.hasHiddenItemsMasterPage()||this.hasHiddenItemsCurrPage()},getTooltipsPanelBounds:function(){var t=e.findDOMNode(this),n=t?t.getBoundingClientRect():E;return i.pick(n,["left","width"])},componentWillUnmount:function(){this.props.clearHiddenItems()},render:c}),I=a.connect(function(e){return{masterPageHiddenComponents:b.getMasterPageHiddenComponents(e),currentPageHiddenComponents:b.getCurrentPageHiddenComponents(e),focusedPageId:r.pages.selectors.getFocusedPageId(e),focusedPageTitle:r.pages.selectors.getFocusedPageTitle(e)}},function(e){return{initHiddenItemsPanel:function(){return e(h.initHiddenItemsPanel(d))},clearHiddenItems:function(){return e(h.clearHiddenItems())}}})(_);return I.pure=_,I}),define("mobileEditor/layoutOptimizerPanel/layoutOptimizerPanel.rt",["react","lodash","baseUI","util","symbols","panels"],function(e,t,i,n,o,a){"use strict";return function(){return e.createElement(a.frames.leftPanelFrame,{className:"layout-optimizer-panel",ref:"layoutOptimizerPanel",panelName:this.props.panelName,panelClass:"layout-optimizer-panel",helpId:this.helpId,label:n.translate("mobile_layout_optimizer_panel_title"),onContextMenu:function(e){e.preventDefault()}.bind(this)},e.createElement("div",{className:"content"},e.createElement("div",{className:"image-container"},e.createElement(o.symbol,{name:"autoRefreshingLayout"})),e.createElement("div",{className:"text"},n.translate(this.textKey),"\n            ",e.createElement("span",{className:"learn-more",onClick:this.openHelpCenter},"\n                ",n.translate("Notification_Box_Mobile_Layout_Optimizer_FirstTime_Learn_More"),"\n            ")),e.createElement(i.button,{className:"optimize-layout-button",label:"Notification_Box_Mobile_Layout_Optimizer_FirstTime_Button",disabled:!this.canOptimize(),onClick:this.optimizeLayout})))}}),define("mobileEditor/layoutOptimizerPanel/layoutOptimizerPanel",["create-react-class","prop-types","lodash","core","coreBi","constants","mobileEditor/layoutOptimizerPanel/layoutOptimizerPanel.rt"],function(e,t,i,n,o,a,r){"use strict";return e({displayName:"layoutOptimizerPanel",mixins:[n.mixins.editorAPIMixin],textKey:"Notification_Box_Mobile_Layout_Optimizer_FirstTime_Body",helpId:"1a65ebfc-138a-45df-bd54-5f06c03b5973",propTypes:{panelName:t.string},getDefaultProps:function(){return{panelName:"mobileEditor.layoutOptimizerPanel"}},canOptimize:function(){var e=this.getEditorAPI(),t=e.documentServices.generalInfo.isFirstSave();return e.documentServices.history.canUndo()||!t},optimizeLayout:function(){var e=this.getEditorAPI();e.mobile.optimizeLayout(),e.panelManager.closeAllPanels()},sendBILearnMore:function(){this.getEditorAPI().bi.event(o.events.mobileEditor.hiddenElements.HIDDEN_ELEMENTS_REFRESH_LAYOUT_TOOLTIP_OPEN,{})},openHelpCenter:function(){var e=this.getEditorAPI(),t={panel_name:this.props.panelName,origin:a.BI.HELP.ORIGIN.LEFTBAR,learn_more:!0};e.panelManager.openHelpCenter(this.helpId,null,t)},render:r})}),define("mobileEditor/mobileWizard/mobileWizardFirstStep.rt",["react","lodash","baseUILib","util"],function(e,t,i,n){"use strict";return function(){return function(){var t=n.translate;return e.createElement("div",{className:"mobile-wizard-first-step","data-aid":"mobile-wizard-first-step"},e.createElement("img",{className:"step-image",src:n.media.getMediaUrl("mobileEditor/mobileWizard/mobile-wizard-welcome.png")}),e.createElement(i.TextLabel,{value:"Mobile_Wizard_Welcome_FirstTime_Title",enableEllipsis:!1,className:"step-header",type:"T13"}),e.createElement("div",{className:"step-sub-header"},e.createElement(i.TextLabel,{value:"Mobile_Wizard_Welcome_FirstTime_Text1",enableEllipsis:!1,type:"T03"}),e.createElement("br",{}),e.createElement(i.TextLabel,{value:"Mobile_Wizard_Welcome_FirstTime_Text2",enableEllipsis:!1,type:"T03"})),e.createElement(i.Composites.ActionSetVertical,{},e.createElement(i.Button,{onClick:function(e){this.props.nextStep()}.bind(this,t),automationId:"mobile-wizard-lets-go-button",key:"mobile-wizard-first-step-next-button"},e.createElement("span",{},t("Mobile_Wizard_Welcome_Go_Button"))),e.createElement(i.Button,{className:"btn-sm btn-text",automationId:"mobile-wizard-skip-button",key:"mobile-wizard-first-step-skip",onClick:function(e){this.props.skipWizard()}.bind(this,t)},e.createElement("span",{},t("Mobile_Wizard_Welcome_Skip_Link")))))}.apply(this,[])}}),define("mobileEditor/mobileWizard/mobileWizardFirstStep",["create-react-class","prop-types","higherOrderComponents","stateManagement","mobileEditor/mobileWizard/mobileWizardFirstStep.rt"],function(e,t,i,n,o){"use strict";var a=n.editorPlugins.mobile.actions.mobileWizard,r=e({displayName:"mobileWizardFirstStep",propTypes:{nextStep:t.func,skipWizard:t.func},render:o});return i.connect(void 0,function(e){return{nextStep:function(){e(a.setNextStep())},skipWizard:function(){e(a.firstStepSkipClicked())}}})(r)}),define("mobileEditor/mobileWizard/mobileWizardData.json",[],function(){return{TINY_MENU:{"wysiwyg.viewer.skins.mobile.TinyMenuFullScreenSkin":{label:"Mobile_Wizard_Welcome_Centre_Label",imageSrc:"tinyMenuCenter.jpg",automationId:"TinyMenuFullScreenSkin",order:"1"},"wysiwyg.viewer.skins.mobile.TinyMenuPullFromLeftSkin":{label:"Mobile_Wizard_Welcome_Left_Label",imageSrc:"tinyMenuLeft.jpg",automationId:"TinyMenuPullFromLeftSkin",order:"0"},"wysiwyg.viewer.skins.mobile.TinyMenuPullFromRightSkin":{label:"Mobile_Wizard_Welcome_Right_Label",imageSrc:"tinyMenuRight.jpg",automationId:"TinyMenuPullFromRightSkin",order:"2"}},SITE_HEADER:{stays_on_top:{label:"Mobile_Wizard_Welcome_Scroll_Label",imageSrc:"headerEffectsScroll.jpg",automationId:"stays_on_top",order:"1"},freezes:{label:"Mobile_Wizard_Welcome_Fixed_Label",imageSrc:"headerEffectsFixed.jpg",automationId:"freezes",order:"4"},disappears:{label:"Mobile_Wizard_Welcome_Dissapears_Label",imageSrc:"headerEffectsDisappears.jpg",automationId:"disappears",order:"2"},fade_out:{label:"Mobile_Wizard_Welcome_Fades_Label",imageSrc:"headerEffectsFadesOut.jpg",automationId:"fade_out",order:"3"}},QUICK_ACTION_BAR:{NONE:{label:"Mobile_Wizard_Welcome_None_Label",imageSrc:"qabNone.jpg",automationId:"NONE",order:"2"},QuickActionBar_Preset6:{label:"Mobile_Wizard_Welcome_Bottom_Label",imageSrc:"qabMab.jpg",automationId:"QuickActionBar_Bottom",order:"1"},QuickActionBar_Preset4:{label:"Mobile_Wizard_Welcome_Floating_Label",imageSrc:"qabFab.jpg",automationId:"QuickActionBar_Floating",order:"0"}},BACK_TO_TOP_BUTTON:{true:{label:"Mobile_Wizard_Welcome_Yes_Label",imageSrc:"back2TopYes.jpg",automationId:"BACK_TO_TOP_BUTTON_TRUE"},false:{label:"Mobile_Wizard_Welcome_No_Label",imageSrc:"back2TopNo.jpg",automationId:"BACK_TO_TOP_BUTTON_FALSE"}}}}),define("mobileEditor/mobileWizard/mobileThumbnail.rt",["react","lodash"],function(e,t){"use strict";return function(){return e.createElement("span",{className:t({"mobile-thumbnail":!0,selected:this.props.isSelected}).transform(function(e,t,i){t&&e.push(i)},[]).join(" ")},e.createElement("div",{className:"mobile-thumbnail-screen"},this.props.src?e.createElement("img",{key:"mobile-thumbnail-image",src:this.props.src,className:"mobile-thumbnail-image"}):null),e.createElement("span",{className:"mobile-thumbnail-device-button"}),this.props.isSelected?e.createElement("span",{className:"selected-v-sign",key:"mobile-thumbnail-selected-v-sign"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},e.createElement("g",{fill:"none",fillRule:"evenodd"},e.createElement("circle",{cx:"12",cy:"12",r:"12",fill:"#FFF"}),e.createElement("circle",{cx:"12",cy:"12",r:"10",fill:"#009FFF"}),e.createElement("path",{fill:"#FFF",d:"M11.1499222,13.7938281 L15.5378669,9.26123263 C15.6872475,9.09577013 15.9092806,9 16.1435075,9 C16.3777344,9 16.5997675,9.09577013 16.7491481,9.26123263 C17.0836173,9.62225026 17.0836173,10.1523585 16.7491481,10.5133762 L11.9568204,15.4543098 C11.8868531,15.6237016 11.7639811,15.7761547 11.5940174,15.8891202 C11.3944441,16.0017519 11.1516692,16.0301538 10.9276584,15.9670767 C10.7036476,15.9039997 10.5200753,15.7555466 10.4237965,15.5596088 L8.11722963,12.876444 C7.87962339,12.4563257 8.0127279,11.9400019 8.43031503,11.661959 C8.62930791,11.5470787 8.87299901,11.5174134 9.09777727,11.5807066 C9.32255552,11.6439997 9.50611318,11.79397 9.60053588,11.9914704 L11.1499222,13.7938281 Z"})))):null)}}),define("mobileEditor/mobileWizard/mobileThumbnail",["lodash","prop-types","create-react-class","mobileEditor/mobileWizard/mobileThumbnail.rt"],function(e,t,i,n){"use strict";return i({displayName:"mobileThumbnail",propTypes:{src:t.string,isSelected:t.bool},render:n})}),define("mobileEditor/mobileWizard/mobileWizardSingleStep.rt",["react","lodash","baseUILib"],function(e,t,i){"use strict";return function(){return e.createElement("div",{className:"mobile-wizard-single-step","data-aid":this.props.automationId},e.createElement("div",{className:"step-header-wrapper"},e.createElement(i.TextLabel,{value:this.props.headerLabel,className:"step-header",enableEllipsis:!1,type:"T13"}),e.createElement(i.TextLabel,{value:this.props.actionToTakeLabel,className:"step-sub-header",enableEllipsis:!1,type:"T03"})),e.createElement(i.Composites.Thumbnails,{},e.createElement(i.Thumbnails,{className:"mobile-wizard-thumbnails",onChange:this.props.onOptionSelected,shouldAddTooltipOnEllipsis:!0,hasBackground:!1,maxThumbsPerRow:4,options:this.getThumbnails()})))}}),define("mobileEditor/mobileWizard/mobileWizardSingleStep",["lodash","prop-types","create-react-class","react","util","mobileEditor/mobileWizard/mobileThumbnail","mobileEditor/mobileWizard/mobileWizardSingleStep.rt"],function(e,t,i,n,o,a,r){"use strict";return i({displayName:"mobileWizardSingleStep",propTypes:{headerLabel:t.string,actionToTakeLabel:t.string,options:t.array,onOptionSelected:t.func},getThumbnails:function(){return e.map(this.props.options,function(e){var t=o.media.getMediaUrl("mobileEditor/mobileWizard/"+e.imageSrc),i=!!e.isSelected,r=n.createElement(a,{src:t,isSelected:i});return{value:e,automationId:e.automationId,key:e.label,label:e.label,illustration:r}})},render:r})}),define("mobileEditor/mobileWizard/mobileWizardSelectTinyMenu.rt",["react","lodash","mobileEditor/mobileWizard/mobileWizardSingleStep"],function(e,t,i){"use strict";return function(){return e.createElement(i,{headerLabel:"Mobile_Wizard_Welcome_Intro_Title",actionToTakeLabel:"Mobile_Wizard_Welcome_Intro_Line",automationId:"mobile-wizard-menu-step",options:this.getStepOptions(),onOptionSelected:this.setTinyMenuSkin})}}),define("mobileEditor/mobileWizard/mobileWizardSelectTinyMenu",["lodash","create-react-class","prop-types","higherOrderComponents","stateManagement","mobileEditor/mobileWizard/mobileWizardData.json","mobileEditor/mobileWizard/mobileWizardSelectTinyMenu.rt"],function(e,t,i,n,o,a,r){"use strict";var s=o.editorPlugins.mobile.selectors.mobileWizard,l=o.editorPlugins.mobile.actions.mobileWizard,d={type:"MOBILE",id:"TINY_MENU"},m=t({displayName:"mobileWizardSelectTinyMenu",propTypes:{availableSkins:i.array.isRequired,selectedSkin:i.string,styleId:i.string,init:i.func,destroy:i.func,setTinyMenuSkin:i.func,overrideDeprecatedTinyMenuSkinsIfNeeded:i.func,changeSkin:i.func.isRequired},componentDidMount:function(){this.props.init()},componentWillReceiveProps:function(e){e.styleId&&e.changeSkin&&e.overrideDeprecatedTinyMenuSkinsIfNeeded(e.changeSkin)},componentWillUnmount:function(){this.props.destroy()},setTinyMenuSkin:function(e){this.props.setTinyMenuSkin(this.props.changeSkin,e.value)},getStepOptions:function(){var t=this,i=a[d.id],n=e.sortBy(this.props.availableSkins,function(e){return i[e].order});return e.map(n,function(n){var o=e.get(i,n),a=o.label,r=o.imageSrc,s=o.automationId;return{value:n,isSelected:t.props.selectedSkin===n,label:a,imageSrc:r,automationId:s}})},render:r}),c=e.flow(n.renderWhenMutated,n.linkStyle,n.connect(function(e){return{styleId:s.tinyMenu.getStyleId(e),availableSkins:s.tinyMenu.getAvailableSkins(e),selectedSkin:s.tinyMenu.getSelectedSkin(e)||s.getLastSaved(e,"tinyMenu")}},function(e){return{init:function(){e(l.initTinyMenuStep())},destroy:function(){e(l.setPreviewState(d.id,void 0))},setTinyMenuSkin:function(t,i){e(l.setSelectedTinyMenu(t,i))},overrideDeprecatedTinyMenuSkinsIfNeeded:function(t){e(l.overrideDeprecatedTinyMenuSkinsIfNeeded(t))}}}))(m);return c.pure=m,c}),define("mobileEditor/mobileWizard/mobileWizardSelectHeader.rt",["react","lodash","mobileEditor/mobileWizard/mobileWizardSingleStep"],function(e,t,i){"use strict";return function(){var t=this;return e.createElement(i,{headerLabel:"Mobile_Wizard_Welcome_Header_Title",actionToTakeLabel:"Mobile_Wizard_Welcome_Header_Line",automationId:"mobile-wizard-header-step",options:this.getStepOptions(),onOptionSelected:function(e){return t.props.setHeaderType(e.value)}})}}),define("mobileEditor/mobileWizard/mobileWizardSelectHeader",["lodash","util","create-react-class","prop-types","higherOrderComponents","stateManagement","mobileEditor/mobileWizard/mobileWizardData.json","mobileEditor/mobileWizard/mobileWizardSelectHeader.rt"],function(e,t,i,n,o,a,r,s){"use strict";var l={id:"SITE_HEADER",type:"MOBILE"},d=a.editorPlugins.mobile.selectors.mobileWizard,m=a.editorPlugins.mobile.actions.mobileWizard,c=t.headerScrollTypes,p=function(t){return e.get(r,[l.id,t.value.scrollType,"order"])},u=i({displayName:"mobileWizardSelectHeader",propTypes:{availableHeaderTypes:n.array.isRequired,selectedHeaderType:n.string,setHeaderType:n.func.isRequired,init:n.func,destroy:n.func},componentDidMount:function(){this.props.init()},componentWillUnmount:function(){this.props.destroy()},getStepOptions:function(){return e(this.props.availableHeaderTypes).sortBy(p).map(function(t){return function(i){var n=i.value.scrollType,o=e.get(r,[l.id,n]),a=o.label,s=o.imageSrc,d=o.automationId;return{value:i,isSelected:t===n,label:a,imageSrc:s,automationId:d}}}(this.props.selectedHeaderType)).value()},render:s}),b=e.flow(o.renderWhenMutated,o.connect(function(e){return{selectedHeaderType:d.header.getSelectedHeaderType(e)||d.getLastSaved(e,"header"),availableHeaderTypes:c.headerScrollTypesModel}},function(t){return{init:function(){t(m.initHeaderStep())},destroy:function(){t(m.clearHeaderStep())},setHeaderType:function(i){var n=e.get(i,"value.scrollType");t(m.setSelectedHeaderType(n))}}}))(u);return b.pure=u,b}),define("mobileEditor/mobileWizard/mobileWizardSelectQab.rt",["react","lodash","mobileEditor/mobileWizard/mobileWizardSingleStep"],function(e,t,i){"use strict";return function(){var t=this;return e.createElement(i,{headerLabel:"Mobile_Wizard_Welcome_QAB_Title",actionToTakeLabel:"Mobile_Wizard_Welcome_QAB_Line",automationId:"mobile-wizard-qab-step",options:this.getStepOptions(),onOptionSelected:function(e){return t.props.setQabPreset(e.value)}})}}),define("mobileEditor/mobileWizard/mobileWizardSelectQab",["lodash","create-react-class","prop-types","higherOrderComponents","stateManagement","designPanelUtils","mobileEditor/mobileWizard/mobileWizardData.json","mobileEditor/mobileWizard/mobileWizardSelectQab.rt"],function(e,t,i,n,o,a,r,s){"use strict";var l={id:"QUICK_ACTION_BAR",type:"MOBILE"},d=o.editorPlugins.mobile.selectors.mobileWizard,m=o.editorPlugins.mobile.actions.mobileWizard,c=t({displayName:"mobileWizardSelectQab",propTypes:{availablePresets:i.array.isRequired,selectedQab:i.string,setQabPreset:i.func.isRequired,init:i.func,destroy:i.func},componentDidMount:function(){this.props.init()},componentWillUnmount:function(){this.props.destroy()},getStepOptions:function(){var t=this,i=r[l.id],n=e.sortBy(this.props.availablePresets,function(e){return i[e.id].order});return e.map(n,function(i){var n=e.get(r[l.id],[i.id]),o=n.label,a=n.imageSrc,s=n.automationId;return{value:i,isSelected:t.props.selectedQab===i.id,label:o,imageSrc:a,automationId:s}})},render:s}),p=n.connect(function(e){return{availablePresets:d.qab.getAvailablePresets(e),selectedQab:d.qab.getSelectedQab(e)||d.getLastSaved(e,"qab")}},function(e){return{init:function(){e(m.initQabStep(a))},destroy:function(){e(m.setPreviewState(l.id,void 0))},setQabPreset:function(t){e(m.setSelectedQabPreset(t,a))}}})(n.renderWhenMutated(c));return p.pure=c,p}),define("mobileEditor/mobileWizard/mobileWizardSelectBackToTop.rt",["react","lodash","mobileEditor/mobileWizard/mobileWizardSingleStep"],function(e,t,i){"use strict";return function(){return e.createElement(i,{headerLabel:"Mobile_Wizard_Welcome_BackToTop_Title",actionToTakeLabel:"Mobile_Wizard_Welcome_AddFeature_Line",automationId:"mobile-wizard-top-button-step",options:this.getStepOptions(),onOptionSelected:this.setSelectedOption})}}),define("mobileEditor/mobileWizard/mobileWizardSelectBackToTop",["lodash","create-react-class","prop-types","higherOrderComponents","stateManagement","mobileEditor/mobileWizard/mobileWizardData.json","mobileEditor/mobileWizard/mobileWizardSelectBackToTop.rt"],function(e,t,i,n,o,a,r){"use strict";var s=o.editorPlugins.mobile.selectors.mobileWizard,l=o.editorPlugins.mobile.actions.mobileWizard,d={id:"BACK_TO_TOP_BUTTON",type:"MOBILE"},m=["true","false"],c=t({displayName:"MobileWizardSelectBackToTop",propTypes:{backToTop:i.string,setBackToTop:i.func.isRequired,init:i.func,destroy:i.func},componentDidMount:function(){this.props.init()},componentWillUnmount:function(){this.props.destroy()},getStepOptions:function(){var t=this;return e.map(m,function(i){var n=e.get(a[d.id],i),o=n.label,r=n.imageSrc,s=n.automationId;return{value:i,isSelected:String(t.props.backToTop)===i,label:o,imageSrc:r,automationId:s}})},setSelectedOption:function(e){var t="true"===e.value;this.props.setBackToTop(t)},render:r}),p=e.flow(n.renderWhenMutated,n.connect(function(e){return{backToTop:s.backToTop.getSelectedBackToTop(e)||s.getLastSaved(e,"backToTop")}},function(e){return{init:function(){e(l.initBackToTopStep())},destroy:function(){e(l.clearBackToTopStep())},setBackToTop:function(t){e(l.setSelectedBackToTop(t))}}}))(c);return p.pure=c,p}),define("mobileEditor/mobileWizard/mobileWizardLastStep.rt",["react","lodash","util","baseUILib"],function(e,t,i,n){"use strict";return function(){return function(){var t=i.translate;return e.createElement("div",{className:"mobile-wizard-last-step","data-aid":"mobile-wizard-last-step"},e.createElement("div",{className:"step-header-wrapper"},e.createElement(n.TextLabel,{value:"Mobile_Wizard_Welcome_Success_Title",className:"step-header",enableEllipsis:!1,type:"T13"}),e.createElement(n.TextLabel,{value:"Mobile_Wizard_Welcome_Success_Text",className:"step-sub-header",enableEllipsis:!1,type:"T03"})),e.createElement("iframe",{className:"mobile-wizard-last-step-video",src:this.videoUrl,frameBorder:"0",allowFullScreen:!0}),e.createElement(n.Composites.ButtonLarge,{},e.createElement(n.Button,{automationId:"mobile-wizard-back-to-mobile-editor",onClick:function(e){this.finishWizard()}.bind(this,t)},"\n            ",t("Mobile_Wizard_Welcome_Editor_Go_Button"),"\n        ")))}.apply(this,[])}}),define("mobileEditor/mobileWizard/mobileWizardLastStep",["lodash","create-react-class","prop-types","higherOrderComponents","stateManagement","mobileEditor/mobileWizard/mobileWizardLastStep.rt"],function(e,t,i,n,o,a){"use strict";var r=o.editorPlugins.mobile.actions.mobileWizard,s="//www.youtube.com/embed/CCFWEJ6r3NA",l=t({displayName:"MobileWizardLastStep",propTypes:{finishWizard:i.func.isRequired,sendVideoCloseBiEvent:i.func.isRequired},videoUrl:"//"+s+"?modestbranding=1;rel=0&frameborder=0;allowfullscreen=0;autoplay=1;controls=1;autohide=1;showinfo=0",getInitialState:function(){return{wizardHasFinished:!1}},componentDidMount:function(){this.displayTime=Date.now()},componentWillUnmount:function(){var e=Date.now()-this.displayTime,t=this.state.wizardHasFinished?"go_to_mobile_editor":"progress_bar_back_button";this.props.sendVideoCloseBiEvent({origin:t,duration:e,video_url:s})},finishWizard:function(){this.setState({wizardHasFinished:!0}),this.props.finishWizard()},render:a}),d=n.connect(e.noop,function(e){return{finishWizard:function(){return e(r.finishWizard())},sendVideoCloseBiEvent:function(t){return e(r.sendVideoCloseBiEvent(t))}}})(l);return d.pure=l,d}),define("mobileEditor/mobileWizard/progressBar.rt",["react","lodash"],function(e,t){"use strict";return function(){return e.createElement.apply(this,["div",{className:"progress-bar",style:this.getStyle()},t.map(this.state.steps,function(i,n){return e.createElement("span",{key:i.index,className:t({"progress-bar-step":!0,visited:i.isVisited,current:i.isCurrent}).transform(function(e,t,i){t&&e.push(i)},[]).join(" ")+" progress-bar-step",onClick:function(e,t){this.onStepClick(e)}.bind(this,i,n)},e.createElement("div",{className:"circle"}))}.bind(this))])}}),define("mobileEditor/mobileWizard/progressBar",["lodash","prop-types","create-react-class","react","mobileEditor/mobileWizard/progressBar.rt"],function(e,t,i,n,o){"use strict";return i({displayName:"progressBar",mixins:[n.addons.PureRenderMixin],propTypes:{current:t.number,total:t.number,onStepClick:t.func},getDefaultProps:function(){return{current:0,total:0,onStepClick:e.noop}},getInitialState:function(){return{steps:[],visitedSteps:{}}},getStyle:function(){return{minWidth:40*this.props.total}},onStepClick:function(e){this.state.visitedSteps[e.index]&&this.props.onStepClick(e.index)},buildSteps:function(e){for(var t=[],i=0;i<e.total;i++)t.push({index:i,isVisited:this.state.visitedSteps[i],isCurrent:i===e.current});this.setState({steps:t})},componentDidMount:function(){this.buildSteps(this.props)},visitStep:function(t){var i=e.clone(this.state.visitedSteps);i[t]=!0,this.setState({visitedSteps:i})},componentWillReceiveProps:function(e){this.buildSteps(e),this.visitStep(e.current)},render:o})}),define("mobileEditor/mobileWizard/mobileWizard.rt",["react","lodash","baseUILib","util","symbols","mobileEditor/mobileWizard/progressBar"],function(e,t,i,n,o,a){"use strict";return function(){return function(){var r=n.translate;return e.createElement("div",{className:t({"mobile-wizard":!0,"mobile-wizard-expanded":this.props.expanded}).transform(function(e,t,i){t&&e.push(i)},[]).join(" "),"data-aid":"mobile-wizard"},e.createElement("div",{className:"mobile-wizard-top-bar"},e.createElement("span",{className:"top-bar-left-wix-logo",onClick:function(e){this.props.wixLogoClick()}.bind(this,r)},e.createElement(o.symbol,{name:"wixLogo"})),this.shouldShowSkipButton()?e.createElement(i.Button,{className:"btn-sm btn-text mobile-wizard-top-bar-skip",automationId:"mobileWizard-top-bar-skip",key:"mobile-wizard-top-bar-skip",onClick:function(e){this.props.skipWizard()}.bind(this,r)},"\n            ",r("Mobile_Wizard_Welcome_Skip_Link"),"\n        "):null),e.createElement("div",{className:"mobile-wizard-left-half"},e.createElement("div",{className:"mobile-wizard-inner"},e.createElement(a,{current:this.state.currentStepIndex,total:this.props.stepsToShow.length,onStepClick:function(e,t){this.onProgressBarStepClick(t)}.bind(this,r)}),e.createElement("div",{className:"current-step-container"},"\n                ",this.getCurrentStepComponent(),"\n            "),this.shouldShowWizardActions()?e.createElement(i.Composites.ActionSetHorizontal,{className:"mobile-wizard-actions",key:"alt"},e.createElement(i.Button,{className:"btn-confirm-secondary",onClick:function(e){this.props.previousStep()}.bind(this,r),automationId:"mobile-wizard-previous"},e.createElement("span",{},r("Mobile_Wizard_Welcome_Previous_Button"))),e.createElement(i.Button,{onClick:function(e){this.props.nextStep()}.bind(this,r),automationId:"mobile-wizard-next"},e.createElement("span",{},r("Mobile_Wizard_Welcome_Next_Button")),e.createElement("svg",{width:"5",height:"9",viewBox:"0 0 5 9"},e.createElement("path",{fill:"#FFF",fillRule:"evenodd",d:"M0 0h1v1H0zm1 1h1v1H1zm1 1h1v1H2zm1 1h1v1H3zm1 1h1v1H4zM3 5h1v1H3zM2 6h1v1H2zM1 7h1v1H1zM0 8h1v1H0z"})))):null)))}.apply(this,[])}}),define("mobileEditor/mobileWizard/mobileWizard",["lodash","prop-types","create-react-class","react","constants","higherOrderComponents","stateManagement","mobileEditor/mobileWizard/mobileWizardFirstStep","mobileEditor/mobileWizard/mobileWizardSelectTinyMenu","mobileEditor/mobileWizard/mobileWizardSelectHeader","mobileEditor/mobileWizard/mobileWizardSelectQab","mobileEditor/mobileWizard/mobileWizardSelectBackToTop","mobileEditor/mobileWizard/mobileWizardLastStep","mobileEditor/mobileWizard/mobileWizard.rt"],function(e,t,i,n,o,a,r,s,l,d,m,c,p,u){"use strict";var b=o.MOBILE.MOBILE_WIZARD.OPENING_STATE,h=r.editorPlugins.mobile.selectors.mobileWizard,g=r.editorPlugins.mobile.actions.mobileWizard,f={MOBILE_WIZARD_FIRST_STEP:s,TINY_MENU:l,SITE_HEADER:d,QUICK_ACTION_BAR:m,BACK_TO_TOP_BUTTON:c,MOBILE_WIZARD_LAST_STEP:p},E=i({displayName:"mobileWizard",propTypes:{expanded:t.bool,currentStep:t.string,stepsToShow:t.arrayOf(t.string),init:t.func,destroy:t.func,nextStep:t.func,previousStep:t.func,wixLogoClick:t.func,skipWizard:t.func,setStep:t.func,userSelections:t.object},getInitialState:function(){return{currentStepIndex:0}},onProgressBarStepClick:function(e){var t=this.props.stepsToShow[e];this.props.setStep(t)},getCurrentStepComponent:function(){var e=f[this.props.currentStep];return e?n.createElement(e,{}):void 0},componentDidMount:function(){this.props.init()},componentWillUnmount:function(){this.props.destroy()},componentWillReceiveProps:function(t){var i=e.indexOf(t.stepsToShow,t.currentStep);this.setState({currentStepIndex:i})},shouldShowWizardActions:function(){return!(this.isFirstStep()||this.isLastStep())},shouldShowSkipButton:function(){return!(this.isFirstStep()||this.isLastStep())},isFirstStep:function(){return 0===this.state.currentStepIndex},isLastStep:function(){return this.state.currentStepIndex===this.props.stepsToShow.length-1},render:u});return a.connect(function(e){return{expanded:h.getMobileWizardOpeningState(e)===b.IN_PROGRESS,currentStep:h.getCurrentStep(e),stepsToShow:h.getStepsToShow(e),userSelections:h.getUserSelections(e)}},function(e){return{init:function(){e(g.buildWizardSteps())},destroy:function(){e(g.clearAfterMobileWizardCloses())},skipWizard:function(){e(g.skipWizard())},nextStep:function(){e(g.setNextStep())},previousStep:function(){e(g.setPreviousStep())},wixLogoClick:function(){e(g.wixLogoClick())},setStep:function(t){e(g.setStepFromProgressBar(t))}}})(E)}),define("mobileEditor/headerScrollTypes/headerScrollTypes",["lodash","util"],function(e,t){"use strict";return{getModel:function(){return t.headerScrollTypes.headerScrollTypesModel},getDefaultHeaderType:function(){return t.headerScrollTypes.getDefaultHeaderType()},getSelectedHeaderType:function(e,i){return t.headerScrollTypes.getSelectedHeaderType(e,i)},getHeaderTypeThumbnailImage:function(e,i,n,o){return t.headerScrollTypes.getHeaderTypeThumbnailImage(e,i,n,o)}}}),define("mobileEditor/panels/cantMakeChangeMobile.rt",["react","lodash","util","baseUI","panels","constants"],function(e,t,i,n,o,a){"use strict";return function(){return e.createElement(o.frames.messagePanelFrame,{ref:"frame",key:"cantMakeChangesOnMobile",panelName:this.props.panelName,className:"mobile-cant-make-changes",panelTitle:i.translate("Notification_Box_Changes_Mobile_Title"),confirmLabel:"Notification_Box_Got_It",dontShowAgainKey:a.USER_PREFS.CANT_MAKE_CHANGES.MOBILE_CANT_MAKE_CHANGE_DONT_SHOW_AGAIN,userPrefType:"site"},e.createElement("div",{className:"content-wrapper"},e.createElement("div",{className:"logo"},e.createElement(n.symbol,{name:"plaster"})),e.createElement("div",{className:"message"},i.translate("Notification_Box_Changes_Mobile_Text"))))}}),define("mobileEditor/panels/cantMakeChangeMobile",["create-react-class","lodash","mobileEditor/panels/cantMakeChangeMobile.rt"],function(e,t,i){"use strict";return e({displayName:"cantMakeChangeMobile",render:i})}),define("mobileEditor",["mobileEditor/mobileElementsPanel/mobileElementsPanel","mobileEditor/hiddenItemsPanel/hiddenItemsPanel","mobileEditor/hiddenItemsPanel/hiddenItemsData","mobileEditor/hiddenItemsUtils/hiddenItemsUtils","mobileEditor/layoutOptimizerPanel/layoutOptimizerPanel","mobileEditor/mobileWizard/mobileWizard","mobileEditor/headerScrollTypes/headerScrollTypes","mobileEditor/panels/cantMakeChangeMobile"],function(e,t,i,n,o,a,r,s){"use strict";return{mobileElementsPanel:e,hiddenItemsPanel:t,hiddenItemsData:i,hiddenItemsUtils:n,layoutOptimizerPanel:o,mobileWizard:a,headerScrollTypes:r,panels:{cantMakeChangeMobile:s}}});
//# sourceMappingURL=mobileEditor.min.js.map