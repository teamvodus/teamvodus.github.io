function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}define("tpa/constants/constants",[],function(){"use strict";return{TPA_SETTINGS_PANEL_ID:"tpa.compPanels.tpaSettings",TPA_SETTING_MODAL:"tpa.compModals.tpaSettingsModal",TPA_DEFAULT_HELP_ID:"47f00d3e-78ae-4bd6-9c2f-4ddf0e9c42f4",BI:{initiator:{APP_MARKET:"APPMARKET_EDITOR",EDITOR:"EDITOR",SDK:"SDK",PLATFORM:"SDK_PLATFORM",DEV_MODE_ON:"DEV_MODE_ON"},type:{ADD_APP:"ADD_APP",ADD_APP_APP_BUTTON:"ADD_APP_APP_BUTTON",ADD_APP_ADD_PANEL:"ADD_APP_ADD_PANEL",ADD_WIDGET:"ADD_WIDGET",APP_MANAGE_BUTTON:"APP_BUTTON_MANAGE",APP_UPGRADE_BUTTON:"APP_BUTTON_UPGRADE",COPY_APP:"COPY_APP",DOUBLECLICK_SETTINGS:"DOUBLECLICK_SETTINGS",GFPP_MANAGE:"GFPP_MANAGE",GFPP_SETTINGS:"GFPP_SETTINGS",GFPP_UPGRADE:"GFPP_UPGRADE",OPENAPP_SETTINGS:"OPENAPP_SETTINGS",TPA_DASHBOARD:"TPA_DASHBOARD"}},APP:{TYPE:{SECTION:"tpaSection",WIDGET:"tpaWidget",APP_PART:"wixappsPart",PLATFORM_ONLY:"platformOnly"}}}}),define("tpa/superApps/superAppsConstants",[],function(){"use strict";var e="1380b703-ce81-ff05-f115-39571d94dfcd",t={};t["61f33d50-3002-4882-ae86-d319c1a249ab"]="blog_button",t[e]="ecom_button";return{getMarketOpenOriginForBi:function(e){return t[e]},ECOM:{APP_DEF_ID:e,PRODUCT_PAGE:"13a94f09-2766-3c40-4a32-8edb5acdd8bc",GRID_GALLERY:"13afb094-84f9-739f-44fd-78d036adb028",SLIDER_GALLERY:"139a41fd-0b1d-975f-6f67-e8cbdf8ccc82",PRODUCT_GALLERY_PAGE:e,SHOPPING_CART:"1380bbab-4da3-36b0-efb4-2e0599971d14",TANK_YOU_PAGE:"1380bbb4-8df0-fd38-a235-88821cf3f8a4",SHOPPING_CART_WIDGET:"1380bbc4-1485-9d44-4616-92e36b1ead6b",PRODUCT_WIDGET:"13ec3e79-e668-cc0c-2d48-e99d53a213dd"},WIXMUSIC:{APP_DEF_ID:"13bb5d67-1add-e770-a71f-001277e17c57",WIDGET:"13bb5dc2-a098-5a74-502b-6bac84e80b23"},WIX_VIDEO:{APP_DEF_ID:"14409595-f076-4753-8303-9a86f9f71469",WIDGET:"144097ea-fea0-498e-ade7-e6de40127106"},BLOG_APP_DEF_ID:"61f33d50-3002-4882-ae86-d319c1a249ab",NEW_BLOG_APP_DEF_ID:"14bcded7-0066-7c35-14d7-466cb3f09103",ECOM_APP_DEF_ID:e,WIXMUSIC_APP_DEF_ID:"13bb5d67-1add-e770-a71f-001277e17c57",HOTELS:{APP_DEF_ID:"135aad86-9125-6074-7346-29dc6a3c9bcf",SEARCH_BAR:"135aae78-42c9-63b5-d09a-77233cebc1c4"},MEMBER_PROFILE_CARD:{APP_DEF_ID:"14ce28f7-7eb0-3745-22f8-074b0e2401fb",WIDGET:"14cefc05-d163-dbb7-e4ec-cd4f2c4d6ddd"},MEMBERS_WIDGET:{APP_DEF_ID:"1518f596-5744-ae33-0524-4fe42c3ee64e",WIDGET:"1518f81b-32a7-90d4-9927-4285b3291d1f"},GET_SUBSCRIBERS_APP_DEF_ID:"1375baa8-8eca-5659-ce9d-455b2009250d",WIX_BOOKINGS_APP_DEF_ID:"13d21c63-b5ec-5912-8397-c3a5ddb27a97",WIX_PHOTOALBUMS_APP_DEF_ID:"13ff8629-c1fc-e289-e81f-bc8c8968e9d6",SHOUTOUT_APP_DEF_ID:"135c3d92-0fea-1f9d-2ba5-2a1dfb04297e",PRO_GALLERY_APP_DEF_ID:"14271d6f-ba62-d045-549b-ab972ae1f70e",WIX_CHAT:{APP_DEF_ID:"14517e1a-3ff0-af98-408e-2bd6953c36a2",WIDGET:"14517f3f-ffc5-eced-f592-980aaa0bbb5c"},WIX_SOUNDCLOUD:{APP_DEF_ID:"14a85b13-d7da-ee8e-7290-3b93340f63fa",WIDGET:"14a85b28-2374-72cf-db64-e0c11046aa60"}}}),define("tpa/bi/events.json",[],function(){return{APP_INTENT:{evid:12,src:75,endpoint:"app-sdk",fields:{type:"string",instance_id:"guid",initiator:"string",app_id:"guid"}},APP_ENGAGEMENT:{evid:13,src:75,endpoint:"app-sdk",fields:{instance_id:"guid",app_id:"guid",premium_intent:"string"}},TPA_ADDED:{evid:165,src:38,endpoint:"editor",fields:{is_permissions_app:"number",is_first:"boolean",app_id:"string",app_site_id:"string",instance_id:"string",category:"string",origin:"string",section:"string",search_term:"string",search_result_position:"number",referral_info_category:"string",referral_info:"string",adding_method:"string",template_guid:"string",modal_tab_name:"string",page_id:"string",widget_id:"string"}},TPA_ADD_CLICK:{evid:167,src:38,endpoint:"editor",fields:{adding_method:"string",section:"string",category:"string",origin:"string",app_id:"string",is_first:"boolean",is_permissions_app:"boolean"}},COMPONENT_ADDED_FROM_MARKET:{evid:168,src:38,endpoint:"editor",fields:{referral_info_category:"string",referral_info:"string",app_id:"guid",app_site_id:"guid",instance_id:"guid",search_result_position:"number",search_term:"string",modal_tab_name:"string",adding_method:"string",category:"string",origin:"string",component_id:"string",is_first:"boolean",component_type:"string"}},CLOSE_MARKET_CLICK:{evid:171,src:38,endpoint:"editor",fields:{open_origin:"string",closing_method:"string"}},MARKET_CLOSED:{evid:172,src:38,endpoint:"editor",fields:{open_origin:"string",seconds_opened:"number"}},OPEN_MODAL_CLICK:{evid:173,src:38,endpoint:"editor",fields:{app_id:"string",origin:"string",category:"string",section:"string",component_type:"string"}},MARKET_HELP_CLICK:{evid:174,src:38,endpoint:"editor"},TPA_HELP_CLICK:{evid:175,src:38,endpoint:"editor",fields:{widget_id:"string",help_status:"string",app_id:"string",origin:"string"}},EXTENSION_ADDED:{evid:177,src:38,endpoint:"editor",fields:{page_id:"string",app_site_id:"string",instance_id:"string",widget_id:"string",app_id:"string",preset_id:"string"}},EXTENSION_REMOVED:{evid:178,src:38,endpoint:"editor",fields:{page_id:"string",widget_id:"string",comp_id:"string",instance_id:"string",app_id:"string"}},TPA_OPEN_SETTINGS:{evid:179,src:38,endpoint:"editor",fields:{app_id:"string",app_site_id:"string",instance_id:"string"}},CUT_COMPONENT_OR_TPA:{evid:180,src:38,endpoint:"editor",fields:{component_type:"string",comp_id:"string",instance_id:"string",app_id:"string"}},COPY_COMPONENT_OR_TPA:{evid:181,src:38,endpoint:"editor",fields:{component_type:"string",comp_id:"string",instance_id:"string",app_id:"string"}},PASTE_COMPONENT_OR_TPA:{evid:182,src:38,endpoint:"editor",fields:{component_type:"string",comp_id:"string",instance_id:"string",app_id:"string"}},DUPLICATE_COMPONENT_OR_TPA:{evid:183,src:38,endpoint:"editor",fields:{component_type:"string",comp_id:"string",instance_id:"string",app_id:"string"}},CLICK_UPGRADE_APP:{evid:184,src:38,endpoint:"editor",fields:{pp_origin:"string",app_site_id:"string",app_id:"string"}},PP_OPENED:{evid:185,src:38,endpoint:"editor",fields:{app_id:"string",app_site_id:"string",pp_origin:"string",pp_type:"string"}},CLICK_UPGRADE_IN_PP:{evid:186,src:38,endpoint:"editor",fields:{pp_type:"string",pp_origin:"string",instance_id:"string",app_id:"string"}},CLICK_CYCLE:{evid:187,src:38,endpoint:"editor",fields:{cycle_id:"number",cycle_name:"string",pp_type:"string",pp_origin:"string",instance_id:"string",app_id:"string"}},EXPAND_OFFERING:{evid:188,src:38,endpoint:"editor",fields:{cycle_id:"number",cycle_name:"string",pp_type:"string",pp_origin:"string",instance_id:"string",app_id:"string"}},PERMISSION_MODAL_CLOSED:{evid:189,src:38,endpoint:"editor",fields:{closing_method:"string",app_id:"string"}},TPA_ERROR:{evid:190,src:38,endpoint:"editor",fields:{error_desc:"string",error_type:"string",app_id:"string"}},TPA_CLOSE_SETTINGS:{evid:191,src:38,endpoint:"editor",fields:{seconds_opened:"number",app_id:"string",app_site_id:"string",instance_id:"string"}},TPA_MESSAGE_LOADED:{evid:277,src:38,endpoint:"editor",fields:{app_id:"string",description:"string",type:"string"}},OPEN_DASHBOARD_APP_CLICK:{evid:278,src:38,endpoint:"editor",fields:{app_id:"string",app_site_id:"string",instance_id:"string",origin:"string"}},APP_MARKET_ICON_EXPANDED:{evid:675,src:38,endpoint:"editor"},PLATFORM_APP_TRY_TO_INSTALL:{evid:755,src:38,endpoint:"editor",fields:{app_name:"string",app_id:"string"}},PLATFORM_APP_ADDED:{evid:746,src:38,endpoint:"editor",fields:{app_name:"string",app_id:"string"}},PLATFORM_APP_FAILED:{evid:772,src:38,endpoint:"editor",fields:{app_name:"string",error_desc:"string",app_id:"string"}}}}),define("tpa/bi/errors.json",[],function(){return{ECOM_MISSING_PAGES:{errorName:"ECOM_MISSING_PAGES",errorCode:300,severity:"fatal"},APP_IS_NOT_RESPONSIVE:{errorName:"APP_IS_NOT_RESPONSIVE",errorCode:302,desc:"monitoring apps that are down",severity:"error",params:{p1:"endpoint",p2:"app_id"}}}}),define("tpa/bi/bi",["lodash","tpa/bi/events.json","tpa/bi/errors.json"],function(e,t,i){"use strict";return{events:t,errors:i,registerEvents:function(i){i.documentServices.bi.register("tpa","event",e.cloneDeep(t))}}}),define("tpa/utils/tpaUtils",["lodash","util","tpa/constants/constants","tpa/superApps/superAppsConstants","tpa/bi/bi","experiment"],function(e,t,i,a,n,o){"use strict";function s(e,t){return["//",function(){var e=window.location.hostname.match(/editor\.(.*)/);return e?"www."+e[1]:"www.wix.com"}(),"/my-account/sites/",e,"/app/",t,"?referralInfo=editor"].join("")}function r(t,i,a,n,s){if(e.includes(d,i)){var r=p.bind(null,t,a,n,s),c=function(t,i){var a=t.documentServices.tpa.app.getDataByAppDefId(i)||{},n=t.documentServices.generalInfo.isFirstSave();return!a.notProvisioned&&a.instanceId&&(!a.demoMode||o.isOpen("se_tpaProvisionOnAdd"))&&!0!==e.get(a,"permissions.revoked")&&!n}.bind(null,t,a);t.bi.reportBI(i,[r],c)}}function p(e,t,i,a){return{app_id:t,instance_id:(e.documentServices.tpa.app.getDataByAppDefId(t)||{}).instanceId,initiator:i,type:a}}var d=[n.events.APP_INTENT];return{isInDevMode:function(){return!e.isEmpty(t.url.getParameterByName("appDefinitionId"))},getAppInMyAccountUrl:s,getOpenedPanel:function(t,i){var a=t.getOpenPanels();return e.find(a,{name:i})},isMultiSectionInstanceEnabled:function(t,i){if(!i)return!1;var a=t.widgets&&t.widgets[i];return e.get(a,"appPage.multiInstanceEnabled")},isBlog:function(e){return e===a.BLOG_APP_DEF_ID},sdkVersionIsAtLeast:function(t,i){if(e.isUndefined(t)||e.isUndefined(i))return!1;for(var a=e.map(t.split("."),function(e){return parseInt(e,10)}),n=e.map(i.split("."),function(e){return parseInt(e,10)});a.length&&n.length;){var o=a.shift(),s=n.shift();if(o>s)return!0;if(o<s)return!1}return a.length>=n.length},getWindow:function(){return window},selectComponentAndNavigateIfNeeded:function(t,i,a){var n=t.selection.getSelectedComponentData(),o=e.get(n,"applicationId");if(o&&o.toString()===i.applicationId.toString())a&&a();else{var s=t.documentServices.tpa.app.getFirstAppCompPageId(i.appDefinitionId),r=t.documentServices.pages.getFocusedPageId(),p=t.components.get.byId(s.compId,s.pageId);s.pageId!==r&&"masterPage"!==s.pageId?t.pages.navigateTo(s.pageId,function(){t.selection.selectComponentByCompRef(p),a&&a()}):(t.selection.selectComponentByCompRef(p),a&&a())}},bi:{reportBIOnAppIntent:r,getAppIntentBiParamsToAddToUrl:function(t,a,o){var s=t.documentServices.tpa.app.getDataByAppDefId(a);if(e.get(s,"isWixTPA")){var r={msid:t.documentServices.generalInfo.getMetaSiteId(),src:n.events.APP_INTENT.src,evid:n.events.APP_INTENT.evid},d=p(t,a,i.BI.initiator.EDITOR,o);return e.merge(r,d)}return null},reportAddComponentBIEvent:function(e,t,i,a){a=a||{},e.bi.event(n.events.COMPONENT_ADDED_FROM_MARKET,{app_id:a.app_id,instance_id:t,component_type:i||"wix_component",origin:"ed_market",category:a.category,search_term:a.search_term,item_position:a.item_position,referral_info_category:a.referral_info_category,referral_info:a.referral_info,adding_method:a.adding_method,modal_tab_name:a.modal_tab_name})},reportTpaAddedBiEvent:function(t,i,a,o,s,r,p,d){var c=t.documentServices.generalInfo.isFirstSave()?t.documentServices.generalInfo.getMetaSiteId():"",l=t.documentServices.tpa.app.getDataByAppDefId(i);d=d||{};var g={is_permissions_app:p?1:0,is_first:r?1:0,app_id:i,widget_id:a,app_site_id:e.get(l,"instanceId"),instance_id:s,origin:d.origin||"ed_market",adding_method:d.adding_method,category:d.category,section:d.section,search_term:d.search_term,item_position:d.item_position,referral_info_category:d.referral_info_category,referral_info:d.referral_info,template_guid:c,modal_tab_name:d.modal_tab_name,page_id:o};t.bi.event(n.events.TPA_ADDED,g)}}}}),define("tpa/utils/mediaDialogHandlerUtils",["lodash","experiment"],function(e,t){"use strict";var i={photos:"IMAGE",secure_picture:"IMAGE_PRO",backgrounds:"BG_IMAGE",audio:"MUSIC",documents:"DOCUMENT",secure_music:"MUSIC_PRO",swf:"FLASH",video:"VIDEO",shape:"SHAPE",music:"MUSIC",clipart:t.isOpen("merge_clipart_and_image")?"IMAGE":"CLIPART",bg_video:"BG_VIDEO",icon_document:"ICON_DOCUMENT",bg_social:"ICON_SOCIAL",bg_favicon:"ICON_FAVICON"};return{convertMediaManagerResult:function(t){var i={};if(i.fileName=t.title||"","secure_music"===t.mediaType){var a=t.fileOutput&&t.fileOutput.audio,n=e.find(a,{tag:"preview-short"});i.shortPreviewFileName=n&&n.url||"",i.previewFileName=t.previewFileName||"",i.fileUrl=t.fileUrl||""}else i.relativeUri=t.fileName||"",i.width=Number(t.width)||0,i.height=Number(t.height)||0;return i},convertMediaManagerResultForSuperApps:function(t){var i=e.cloneDeep(t);return i.relativeUri=t.uri||"",i},convertMediaType:function(e,t){var a=i[e];return t.categories[a]}}}),define("tpa/handlers/editorRefreshTPADataAfterUpgrade",["lodash","zepto"],function(e,t){"use strict";var i=null,a={},n=function(){i&&(t(window).off("focus",i),i=null)};return{trackAppUpgrade:function(o,s){var r=o.documentServices.tpa.app.getData(s);a[s]={appDefinitionId:r.appDefinitionId,vendorProductId:r.vendorProductId,upgradedToYearly:!0===r.upgradedToYearly},function(o){i||(i=function(){!function(t,i){var n=t.documentServices.generalInfo.getMetaSiteId();t.documentServices.tpa.billing.getPremiumApps(n,function(t){if(!e.isEmpty(t)){var n=void 0,o=void 0,s=[],r=function(){return o&&o.cycle&&6===o.cycle};if(e.isArray(t)){t=e.keyBy(t,"appDefinitionId");for(n in a)e.isObject(t[a[n].appDefinitionId])&&(o=t[a[n].appDefinitionId],a[n].vendorProductId===o.vendorProductId&&a[n].upgradedToYearly===r()||(delete a[n],s.push(n)))}i(s)}})}(o,function(e){!function(e,t){var i=e.documentServices.generalInfo.getMetaSiteId();t.forEach(function(t){e.documentServices.tpa.provision.refreshAppSpecMap(t,i,function(){n(),e.selection.deselectComponents(),e.panelManager.closePanelByName("tpa.compPanels.tpaSettings"),function(e,t){var i=e.documentServices.tpa.app.getRenderedReactCompsByApplicationId(t);e.documentServices.tpa.app.refreshApp(i)}(e,t)})})}(o,e)})},t(window).on("focus",i))}(o)},trackedApps:a,resetListeners:function(){n();for(var e in a)a.hasOwnProperty(e)&&delete a[e]}}}),define("tpa/services/tpaAlertsService",["lodash","tpa/bi/bi"],function(e,t){"use strict";return{openPlatformFailedAlert:function(e){e.panelManager.openPanel("savePublish.panels.common.failPanel",{titleKey:"Notification_Box_App_Installation_Error_Title",description:"Notification_Box_App_Installation_Error_Text",steps:["Notification_Box_App_Installation_Error_Step1","Notification_Box_App_Installation_Error_Step2"],helpMessage:"",helpLinkMessage:"",helpLink:""},!1)},openProvisionFailedAlert:function(e,i,a){e("savePublish.panels.common.failPanel",{titleKey:"tpa_messages_dashboard_before_save_error_title",description:"SAVE_PUBLISH_ERROR_BODY_DESCRIPTION",steps:["tpa_messages_upgrade_before_save_error_step_1","tpa_messages_upgrade_before_save_error_step_2","tpa_messages_dashboard_before_save_error_step_3"],helpMessage:"tpa_messages_dashboard_before_save_error_support",helpLinkMessage:"tpa_messages_upgrade_before_save_error_support_link",helpLink:"",biEvent:t.events.TPA_MESSAGE_LOADED,biParams:{app_id:i,description:"provision failed",type:"provision_failed"}},!a)},openSaveFailedAlertForAppMarket:function(e){e.panelManager.openPanel("savePublish.panels.common.failPanel",{titleKey:"tpa_messages_dashboard_before_save_error_title",description:"SAVE_PUBLISH_ERROR_BODY_DESCRIPTION",steps:["tpa_messages_upgrade_before_save_error_step_1","tpa_messages_upgrade_before_save_error_step_2","tpa_messages_dashboard_before_save_error_step_3"],helpMessage:"tpa_messages_dashboard_before_save_error_support",helpLinkMessage:"tpa_messages_upgrade_before_save_error_support_link",helpLink:"",biEvent:t.events.TPA_MESSAGE_LOADED,biParams:{description:"save for app market failed",type:"save_for_app_market_failed"}},!0)},openSaveFailedAlertForUpgrade:function(e,i){e.panelManager.openPanel("savePublish.panels.common.failPanel",{titleKey:"tpa_messages_upgrade_before_save_error_title",description:"tpa_messages_upgrade_before_save_error_description",steps:["tpa_messages_upgrade_before_save_error_step_1","tpa_messages_upgrade_before_save_error_step_2","tpa_messages_upgrade_before_save_error_step_3"],helpMessage:"tpa_messages_upgrade_before_save_error_support",helpLinkMessage:"tpa_messages_upgrade_before_save_error_support_link",helpLink:"",biEvent:t.events.TPA_MESSAGE_LOADED,biParams:{app_id:i,description:"Error on upgrade TPA from template site",type:"upgrade_save_error"}},!0)},openSaveFailedAlertForDashboardUrl:function(e,i){e.panelManager.openPanel("savePublish.panels.common.failPanel",{titleKey:"tpa_messages_dashboard_before_save_error_title",description:"SAVE_PUBLISH_ERROR_BODY_DESCRIPTION",steps:["tpa_messages_upgrade_before_save_error_step_1","tpa_messages_upgrade_before_save_error_step_2","tpa_messages_dashboard_before_save_error_step_3"],helpMessage:"tpa_messages_dashboard_before_save_error_support",helpLinkMessage:"tpa_messages_upgrade_before_save_error_support_link",helpLink:"",biEvent:t.events.TPA_MESSAGE_LOADED,biParams:{app_id:i,description:"Error on open dashboard from template site",type:"dashboard_save_error"}},!0)},openSaveFailedAlertForTemplateDashboardUrl:function(e,i){e.panelManager.openPanel("savePublish.panels.common.failPanel",{titleKey:"tpa_messages_dashboard_before_save_error_title",description:"SAVE_PUBLISH_ERROR_BODY_DESCRIPTION",steps:["tpa_messages_upgrade_before_save_error_step_1","tpa_messages_upgrade_before_save_error_step_2","tpa_messages_dashboard_before_save_error_step_3"],helpMessage:"tpa_messages_dashboard_before_save_error_support",helpLinkMessage:"tpa_messages_upgrade_before_save_error_support_link",helpLink:"",biEvent:t.events.TPA_MESSAGE_LOADED,biParams:{app_id:i,description:"Error on open dashboard from template site",type:"dashboard_save_error"}},!0)},openSaveFailedAlertForPackageBuying:function(e){e.panelManager.openPanel("savePublish.panels.common.failPanel",{titleKey:"PUBLISH_ERROR_TITLE_LABEL",description:"SAVE_PUBLISH_ERROR_BODY_DESCRIPTION",steps:["SAVE_PUBLISH_ERROR_OPTION_1","SAVE_PUBLISH_ERROR_OPTION_2"],helpMessage:"SAVE_ERROR_LEARN_MORE_LABEL",helpLinkMessage:"SAVE_PUBLISH_ERROR_LEARN_MORE_LINK",helpLink:""})}}}),define("tpa/packagePicker/packagePickerUtils",["lodash","tpa/handlers/editorRefreshTPADataAfterUpgrade","tpa/bi/bi","tpa/services/tpaAlertsService"],function(e,t,i,a){"use strict";var n={BENEFITS:"tpaPanels.packagePicker.benefitsModal",CYCLES:"tpaPanels.packagePicker.cyclesModal",EXTERNAL:"tpaPanels.packagePicker.externalBenefitsModal",PACKAGES:"tpaPanels.packagePicker.packagePickerModal"};return{upgradeToPremiumAndClosePickerModal:function(i,n,o,s,r,p,d){if(i.documentServices.generalInfo.isFirstSave())a.openSaveFailedAlertForPackageBuying(i);else{var c=function(e,t,i,a,n,o){var s=e.selection.getSelectedComponentData(),r="tpa_"+n+"_ed_14";return e.documentServices.tpa.billing.getAppUpgradeUrl(s.applicationId,t,i,{referralAdditionalInfo:r,pp_type:a,premiumIntent:o})}(i,n,o,s,r,d);window.open(c);var l=i.selection.getSelectedComponentData();t.trackAppUpgrade(i,l.applicationId)}e.isFunction(p)&&p()},pickPickerForm:function(t,i,a,o){o=o||{};var s=e.assign(e.pick(i,["name","appIcon","colorSvgIcon","packages","features","price","upgradeBenefits","upgradeTitle","upgradedToYearly","appDefinitionId"]),e.pick(a,"vendorProductId"));if(s.packages=e.reject(i.packages,{id:"oneTime"}),e.get(a,"openPremiumPage")){s.panelName=n.EXTERNAL;var r={appDefId:a.appDefinitionId,referralAdditionalInfo:o.origin};return o.premiumIntent&&(r.premiumIntent=o.premiumIntent),s.upgradeUrl=t.documentServices.tpa.billing.getSiteUpgradeUrl(r),s}return"benefits"===i.billingPanelType?(s.panelName=n.BENEFITS,s):"cycles"===i.billingPanelType?(s.panelName=n.CYCLES,s):(s.panelName=n.PACKAGES,s)},sendBI:function(e,t,a){var n=e.selection.getSelectedComponentData(),o=e.documentServices.tpa.app.getData(n.applicationId),s={pp_type:t,pp_origin:a,app_site_id:o.instanceId,app_id:o.appDefinitionId};e.bi.event(i.events.CLICK_UPGRADE_IN_PP,s)},TYPE:n,BI_TYPE:{BENEFITS:"offering",CYCLES:"cycle",PACKAGES:"package",EXTERNAL:"external"}}}),define("tpa/packagePicker/packagePicker",["lodash","tpa/packagePicker/packagePickerUtils","tpa/handlers/editorRefreshTPADataAfterUpgrade","tpa/utils/tpaUtils","tpa/services/tpaAlertsService","experiment"],function(e,t,i,a,n,o){"use strict";function s(e,t){var i=e.documentServices.tpa.app.getDataByAppDefId(t);return a.selectComponentAndNavigateIfNeeded(e,i),i}var r=function(t,i,a,o,s){var r=e.partial(n.openSaveFailedAlertForUpgrade,t,a);t.saveManager.saveInBackground(function(){t.documentServices.tpa.appMarket.getDataAsync(a).then(function(e){i.isAsyncFlow=!0,p(t,a,e,s,i)})},r)},p=function(e,t,i,a,n){d(i)?e.documentServices.tpa.appMarket.getDataAsync(t).then(function(t){c(e,t,a,n)}):c(e,i,a,n)},d=function(t){return e.isUndefined(t)||t&&e.isUndefined(t.price)},c=function(a,n,o,s){var r=t.pickPickerForm(a,n,o,s),p=r.upgradeUrl;r.panelName!==t.TYPE.EXTERNAL||s.isAsyncFlow?a.panelManager.openPanel(r.panelName,e.assign(r,s),!0):(window.open(p),i.trackAppUpgrade(a,o.applicationId))},l=function(e,i,a){e.documentServices.tpa.appMarket.getDataAsync(i).then(function(n){var o=s(e,i),r=t.pickPickerForm(e,n,o);a(r.upgradeUrl)})},g=function(t,i){if(o.isOpen("se_tpaProvisionOnAdd"))return e.get(i,"notProvisioned");return!!t.documentServices.generalInfo.isFirstSave()||i&&(!t.documentServices.tpa.app.isAppProvisionedOnServer(i.applicationId)||t.documentServices.tpa.app.isPermissionsRevoked(i))};return{startUpgradeFlow:function(t,i,a,d){var c=a||!1;d=e.assign({isAsyncFlow:c},d);var l=t.documentServices.tpa.appMarket.getData(i),m=s(t,i);o.isOpen("se_tpaProvisionOnAdd")?g(t,m)?r(t,d,i,l,m):p(t,i,l,m,d):m&&m.demoMode?t.documentServices.tpa.provision.provisionAppDemoSave(m.applicationId,function(){r(t,d,i,l,m)},function(){n.openProvisionFailedAlert(t.panelManager.openPanel,i)}):g(t,m)?r(t,d,i,l,m):p(t,i,l,m,d)},isFullyUpgraded:function(i,a){var n=i.documentServices.tpa.appMarket.getData(a.appDefinitionId);if(n){var o=t.pickPickerForm(i,n,a),s=!!a.vendorProductId,r=!!n.upgradedToYearly;switch(o.panelName){case t.TYPE.BENEFITS:return s;case t.TYPE.CYCLES:return s&&r;case t.TYPE.PACKAGES:var p=s&&function(t,i){return e.last(t.packages).id===i.vendorProductId}(o,a);return p=p&&(r||function(t){return!e.last(t.packages).yearly.price}(o));case t.TYPE.EXTERNAL:return s;default:return!1}}return!0},getWixUpgradeUrl:function(e,t,i){var a=s(e,t);g(e,a)?e.saveManager.saveInBackground(function(){l(e,t,i)}):l(e,t,i)},isSaveSiteNeeded:g,upgradeToPremiumAndClosePickerModal:t.upgradeToPremiumAndClosePickerModal,sendBI:t.sendBI,BI_TYPE:t.BI_TYPE}}),define("tpa/services/dashboardAppService",["lodash","util","tpa/utils/tpaUtils","tpa/services/tpaAlertsService"],function(e,t,i,a){"use strict";function n(i,a,n,s){var r=void 0;r=o(i,a.appDefinitionId)?e.get(t,"serviceTopology.businessManagerUrl","")+"/external?appDefId="+a.appDefinitionId:e.get(a,"dashboardUrl",""),s=s||{};var p={url:r,deviceType:"desktop",applicationId:a.applicationId,origCompId:i.selection.getSelectedComponentId(),origin:s.origin,hash:s.state,bi:s.bi};return i.documentServices.tpa.app.url.getSettingsModalUrl(p,n)}function o(e,t){return e.documentServices.tpa.app.isDashboardSupportedInBusinessManager(t)}return{appHasBusinessManager:o,getDashboardAppUrlAsync:function(t,o,s){var r=function(e){var t=e.selection.getSelectedComponentData();return e.documentServices.tpa.app.getData(t.applicationId)}(t),p=function(e){var t=e.selection.getSelectedComponentData();return e.documentServices.tpa.app.isHybrid(t.applicationId)}(t),d=function(e){return!e.documentServices.generalInfo.isFirstSave()}(t),c=t.documentServices.tpa.app.isAppProvisionedOnServer(r.applicationId),l=function(){s(!0===e.get(o,"editorVersion")?n(t,r):i.getAppInMyAccountUrl(t.documentServices.generalInfo.getMetaSiteId(),r.appDefinitionId))};p&&d&&c?l():d&&c?s(null):t.saveManager.saveInBackground(l,function(){a.openSaveFailedAlertForTemplateDashboardUrl(t,r.appDefinitionId),s(null)})},getDashboardUrl:n,getEditorGfppData:function(e){var i=e.selection.getSelectedComponentData();if(i){var a=e.documentServices.tpa.app.getData(i.applicationId),n=e.documentServices.tpa.appMarket.getData(a.appDefinitionId);if(n&&n.editorGfpp)return n.editorGfpp}return{upgradeText:t.translate("tpa_package_picker_upgrade_title"),openInDashboardText:t.translate("tpa_open_dashboard")}}}}),define("tpa/services/tpaStyleService",["lodash"],function(e){"use strict";var t=null,i={},a=function(a){if(i[t]){var o=[],s=[],r=t;e.forEach(i[r],function(e){o.push(e.data),s.push(e.callback)}),delete i[r],t=null,n(a,r,o,s)}else t=null},n=function(n,o,s,r){if(t===o)return i[o]||(i[o]=[]),void i[o].push({data:s,callback:r});n.documentServices.tpa.style.setStyleParam(o,s,function(t){!function(t,i){e.isArray(t)?e.forEach(t,function(e){e&&e(i)}):t&&t(i)}(r,t)}),n.documentServices.waitForChangesApplied(a.bind(null,n)),t=o};return{setStyleParam:n}}),define("tpa/appMarket/utils/appMarketUtils",["lodash","util","helpIds","tpa/bi/bi","coreUtilsLib","stateManagement"],function(e,t,i,a,n,o){"use strict";var s=o.editorPlugins.panels.actions,r=t.serviceTopology.htmlEditorRootUrl?t.serviceTopology.htmlEditorRootUrl.replace(/html\/editor\/?/,""):"http://editor.wix.com/",p=function(){var i={};return e.forEach(["openAppDefId","appDefinitionId"],function(e){i[e]=t.url.getParameterByName(e)}),i.tests=function(){var e=t.url.parseUrlParams(window.location.search);return(e=e&&e.amexperiment)||""}(),i},d=function(e){return"number"==typeof e&&(e=e.toString()),e};return{openAppMarketModal:function(t,i,a){var n="tpa.compModals."+i;a.width=d(a.width),a.height=d(a.height);var o=e.pick(a,["title","width","height","closeModalBiEvent","closeModalBiParams","id"]);o.panelName=n,o.iframeUrl=a.url,o.shouldTranslate=a.shouldTranslateTitle,t(n,o,!0)},openAppMarketModalWithAppDefinitionId:function(e,t,i){var a="tpa.compModals."+t;e(a,{panelName:a,iframeUrl:i.url,appDefinitionId:i.appDefinitionId,onClose:i.onClose},!0)},closeAppMarketModal:function(e,t){e("tpa.compModals."+t)},closeAppMarketModalById:function(t,i){var a=function(t,i){var a=t.panelManager.getOpenPanels();return e.find(a,{props:{id:i}})}(t,i);a&&(t.store.dispatch(s.closePanelByPropKeyAction("id",a.props.id)),a.props.closeModalBiEvent&&t.bi.event(a.props.closeModalBiEvent,a.props.closeModalBiParams))},closeAppMarket:function(e){e("tpa.compPanels.appMarketPanel")},openAppMarketHelp:function(e){e.panelManager.openHelpCenter(i.EXTERNAL.APP_MARKET,null,{learn_more:!1,origin:"panel",panel_name:"tpa.compPanels.appMarketPanel"}),e.bi.event(a.events.MARKET_HELP_CLICK)},shouldOpenAppMarketTab:function(){return 0===t.url.getParameterByName("openpanel").indexOf("market")},getAppMarketUrlParams:p,getAppMarketOpenPanelUrlParams:function(){var i=t.url.getParameterByName("openpanel"),a={};if(!e.isEmpty(i)){var n=i.split(":"),o=p();switch(n.length){case 1:a.appDefinitionId=o.appDefinitionId,a.openAppDefId=o.openAppDefId;break;case 2:a.query=n[1];break;case 3:"Cat"===n[1]?a.categorySlug=n[2]:"appDefId"===n[1]&&(a.openAppDefId=n[2]);break;default:a.query=""}}return a},getAppMarketPersistedUserPrefs:function(e){return o.editorPlugins.userPreferences.selectors.getSiteUserPreferences("app-market")(e.store.getState())||{}},setAppMarketPersistedUserPrefs:function(e,t){e.store.dispatch(o.editorPlugins.userPreferences.actions.setSiteUserPreferences("app-market",t))},getAppMarketSessionUserPrefs:function(e){return o.editorPlugins.userPreferences.selectors.getSessionUserPreferences("app-market")(e.store.getState())||{}},setAppMarketSessionUserPrefs:function(e,t){e.store.dispatch(o.editorPlugins.userPreferences.actions.setSessionUserPreferences("app-market",t))},origin:function(){return n.urlUtils.origin()},getAppMarketTargetOrigin:function(){return r}}}),define("tpa/services/mediaDialogService",["lodash","tpa/utils/mediaDialogHandlerUtils"],function(e,t){"use strict";return{openMediaDialogByPayloadParsingMethod:function(i,a,n,o){var s=i.mediaServices.mediaManager,r=t.convertMediaType(a.data.mediaType,s),p=a.data.callOnCancel,d={multiSelect:a.data.multiSelection,callback:function(t){var a=void 0;e.isEmpty(t)?p&&(a={wasCancelled:!0}):a=n(t),a&&o(a),i.mediaServices.setFocusToEditor()}},c=e.get(a,["data","options","imageAnalysis"]);c&&(d.imageAnalysis=c),s.open(r,d)}}}),define("tpa/services/tpaAddRemoveDSService",["lodash","util","constants","tpa/services/tpaAlertsService","experiment"],function(e,t,i,a,n){"use strict";var o=[],s=function(t,i,a){if(!e.includes(o,i)){o.push(i);var n=a.callback||e.noop,s=!!a.callback;a.callback=function(a){o=e.without(o,i),a.comp&&t.components.is.exist(a.comp)&&t.selection.selectComponentByCompRef(a.comp),p(t,i,"adding a tpa widget to stage",e.partial(n,a),null,null,a)},a.onError=s?e.partial(a.callback,{onError:"provision for widget for appDefId "+i+" failed"}):e.partial(r,t,i);var c=t.documentServices.tpa.widget.add(i,a);return d(t),c}},r=function(t,i){o=e.without(o,i),a.openProvisionFailedAlert(t.panelManager.openPanel,i,!0)},p=function(n,s,r,p,d,c,l){e.isEmpty(o)&&!t.url.noAppSave()&&e.get(l,"success")?(n.history.add(r,function(e,t){if(e!==t)return{actionType:i.DS_ACTIONS.ADD_PAGE,currentPage:e,nextPage:t}}(d,c)),n.saveManager.saveInBackground(p,function(){a.openProvisionFailedAlert(n.panelManager.openPanel,s,!0)})):p(l)},d=function(e){n.isOpen("dontCloseAddPanelOnAdd")||e.panelManager.closePanelByName("addPanelInfra.addPanel")},c=function(e,i,n){e.documentServices.generalInfo.isFirstSave()&&!t.url.noAppSave()?e.saveManager.saveInBackground(n,function(){a.openProvisionFailedAlert(e.panelManager.openPanel,i,!0)}):n()};return{addWidget:function(t,i,a){c(t,i,e.partial(s,t,i,a))},addWidgetSync:s,preAddComponent:function(t,i,a,n){c(t,i,e.partial(function(){if(!e.includes(o,i)){o.push(i);var s=t.documentServices.pages.getFocusedPageId();(a=a||{}).onError=e.partial(r,t,i);var c=a.callback||e.noop;a.callback=function(a){o=e.without(o,i),a.comp&&t.components.is.exist(a.comp)&&t.selection.selectComponentByCompRef(a.comp);var n=t.documentServices.pages.getFocusedPageId();p(t,i,"adding a tpa to stage",e.partial(c,a),s,n)},d(t)}n()},t,i,a))},addSection:function(t,i,a){c(t,i,function(){if(e.includes(o,i))e.get(a,"callback")&&a.callback({page:{id:t.documentServices.pages.getFocusedPageId()}});else{o.push(i);var n=t.documentServices.pages.getFocusedPageId(),s=(a=a||{}).callback||e.noop,c=!!a.callback;a.callback=function(a){o=e.without(o,i),p(t,i,"adding a tpa section to stage",e.partial(s,a),n,e.get(a,"page.id"),a)};var l=c?e.partial(a.callback,{onError:"provision for section for appDefId "+i+" failed"}):e.partial(r,t,i);t.documentServices.tpa.section.add(i,a,l),d(t)}})},addSubSection:function(t,i,a){c(t,i,function(){var n=a.callback||e.noop;a.callback=function(a){p(t,i,"adding sub section",e.partial(n,a),null,null,a)},t.documentServices.tpa.section.addSubSection(i,a),d(t)})},addMultiSection:function(t,i,a){c(t,i,function(){var n=a.callback||e.noop;a.callback=function(a){p(t,i,"adding multi section",e.partial(n,a),null,null,a)},t.documentServices.tpa.section.addMultiSection(i,a),d(t)})},addPlatform:function(t,i,a){c(t,i,function(){if(!e.includes(o,i)){o.push(i);var n=t.documentServices.pages.getFocusedPageId(),s=function(s){o=e.without(o,i);var r=t.documentServices.pages.getFocusedPageId(),d=a.callback||e.noop;p(t,i,"adding a platform app to stage",e.partial(d,s),n,r,s)};t.documentServices.platform.provision(i,a).then(s).catch(s),d(t)}})},deleteWidget:function(e,t){e.documentServices.tpa.widget.delete(t),e.panelManager.closePanelByName("tpa.compPanels.tpaSettings")},deleteSection:function(e,i,a){e.documentServices.tpa.section.delete(i),e.bi.reportBI(t.bi.events.COMPONENT_REMOVED,a),e.components.reset()},clearAppsCurrentlyInstalling:function(){o=[]}}}),define("tpa/services/pendingAppsService",["lodash","stateManagement","tpa/appMarket/utils/appMarketUtils"],function(e,t,i){"use strict";var a=function(t){return e.size(t.documentServices.tpa.pending.getPendingApps())},n=function(e){e.store.dispatch(t.editorPlugins.leftBar.actions.setNotificationsCount("tpa.compPanels.appMarketPanel",a(e)))};return{getPendingApps:function(t){var a=function(t){return function(t,a){var n=i.getAppMarketPersistedUserPrefs(t);if(n){var o=n.removedPendingApps||[],s=e(a).keyBy("appDefinitionId").omit(o).value();a=e.values(s)}return a}(t,t.documentServices.tpa.getPendingApps())}(t),n=function(e){return e.documentServices.tpa.getPremiumPendingApps()}(t);return e.union(a,n)},getPendingAppsCount:a,updateNotification:n,dismiss:function(e,t){e.documentServices.tpa.pending.dismiss(t),n(e)},add:function(e,t){e.documentServices.tpa.pending.add(t),n(e)}}}),define("tpa/services/tpaAppInstallingService",["lodash","tpa/bi/bi","tpa/services/tpaAlertsService"],function(e,t,i){"use strict";var a=function(e,a,n,o){i.openPlatformFailedAlert(e),e.bi.event(t.events.PLATFORM_APP_FAILED,{app_name:a,app_id:n}),o&&e.documentServices.waitForChangesApplied(function(){e.history.undo()})};return{prePageAppInstalling:function(e,i,a,n){n&&(e.history.add("before adding platform app"),e.panelManager.openPanel("panels.focusPanels.pageAppInstallingPanel",{appName:i,isInstalling:!0}),e.bi.event(t.events.PLATFORM_APP_TRY_TO_INSTALL,{app_name:i,app_id:a}),e.documentServices.initAutosave(e.autosaveManager.getAutosaveConfig({enabled:!1})))},onPageAppInstallingCompleted:function(i,n,o,s){e.get(s,"success")?(i.panelManager.updatePanelProps("panels.focusPanels.pageAppInstallingPanel",{isInstalling:!1}),i.bi.event(t.events.PLATFORM_APP_ADDED,{app_name:n,app_id:o}),i.documentServices.initAutosave(i.autosaveManager.getAutosaveConfig({enabled:!0}))):a(i,n,o,!0)},onPageAppInstallingFailed:a}}),define("tpa/appMarket/services/appMarketTabService",["lodash","util","tpa/appMarket/utils/appMarketUtils"],function(e,t,i){"use strict";var a=function(t,a){(t=t||{}).urlParams=t.urlParams||{};var n=i.getAppMarketOpenPanelUrlParams();e.merge(t.urlParams||{},n),a("tpa.compPanels.appMarketPanel",t)};return{openAppMarketTab:a,closeAppMarketTab:function(e){e("tpa.compPanels.appMarketPanel")},openAppMarketTabFromUrlParamIfNeeded:function(e){i.shouldOpenAppMarketTab()&&a({urlParams:{openMarketOrigin:t.url.getParameterByName("referral_info")}},e)}}}),define("tpa/addPanelData/addPanelService",["lodash","experiment","addPanelDataConsts"],function(e,t,i){"use strict";var a={1024:i.CATEGORIES_ID.GALLERY,1025:i.CATEGORIES_ID.VIDEO,1026:i.CATEGORIES_ID.MUSIC,1027:i.CATEGORIES_ID.SOCIAL,1028:i.CATEGORIES_ID.CONTACT,1029:i.CATEGORIES_ID.IMAGE,1030:i.CATEGORIES_ID.OTHER,1031:i.CATEGORIES_ID.BUTTON,1032:i.CATEGORIES_ID.BOX,1034:i.CATEGORIES_ID.MENU,1035:i.CATEGORIES_ID.SHAPE,1036:i.CATEGORIES_ID.TEXT,1037:i.CATEGORIES_ID.LIST,1038:i.CATEGORIES_ID.BLOG,2558:i.CATEGORIES_ID.MEMBERS,2559:i.CATEGORIES_ID.MEMBERS_WELCOME,2568:i.CATEGORIES_ID.NEW_BLOG,2569:i.CATEGORIES_ID.NEW_BLOG_WELCOME,1039:i.CATEGORIES_ID.STORE,1153:i.CATEGORIES_ID.STORE},n={},o=void 0,s=function(e,t,i){o=t,e.documentServices.tpa.appMarket.getRelatedApps(function(e){r(e),i()})},r=function(t){e.forEach(t,function(t){var i=e.intersection(t.categories,e.keys(a));e.forEach(i,function(e){p(e,t)})})},p=function(e,t){n[e]=n[e]?n[e]:[],n[e].push(t)},d=function(t){return e.sortBy(n[t],function(e){return e.weights?-e.weights.categories[t]:0})};return{init:s,initRelatedApps:r,getApps:function(){return n},getCategories:function(){var s=e(a).pick(e.keys(n)).values().xor(o).value();return t.isOpen("se_vector_image")&&s.push(i.CATEGORIES_ID.VECTOR_SHAPE),s},getCategoryApps:function(t,i,a){if(e.isEmpty(n))s(t,function(){a(d(i))});else{var o=d(i);a(o)}},getCategoryNumber:function(e){switch(e){case i.CATEGORIES_ID.GALLERY:return"1024";case i.CATEGORIES_ID.VIDEO:return"1025";case i.CATEGORIES_ID.MUSIC:return"1026";case i.CATEGORIES_ID.SOCIAL:return"1027";case i.CATEGORIES_ID.CONTACT:return"1028";case i.CATEGORIES_ID.IMAGE:return"1029";case i.CATEGORIES_ID.OTHER:return"1030";case i.CATEGORIES_ID.BUTTON:return"1031";case i.CATEGORIES_ID.BOX:return"1032";case i.CATEGORIES_ID.MENU:return"1034";case i.CATEGORIES_ID.SHAPE:case i.CATEGORIES_ID.VECTOR_SHAPE:return"1035";case i.CATEGORIES_ID.TEXT:return"1036";case i.CATEGORIES_ID.LIST:return"1037";case i.CATEGORIES_ID.BLOG:return"1038";case i.CATEGORIES_ID.MEMBERS:return"2558";case i.CATEGORIES_ID.MEMBERS_WELCOME:return"2559";case i.CATEGORIES_ID.NEW_BLOG:return"2568";case i.CATEGORIES_ID.NEW_BLOG_WELCOME:return"2569";case i.CATEGORIES_ID.STORE:return"1153";case i.CATEGORIES_ID.STORE+"_post":return"1039"}}}}),define("tpa/addPanelData/tpaAddPanelAppBox.rt",["react","lodash","baseUI","constants"],function(e,t,i,a){"use strict";return function(){return e.createElement("div",{className:"box-app-wrapper",onMouseEnter:function(){this.onMouseEnter(this.props.index)}.bind(this),onMouseLeave:function(){this.onMouseLeave(this.props.index)}.bind(this),onClick:this.onClick},e.createElement("a",function(e,i){var a=t.assign({},e,i);return e.hasOwnProperty("style")&&(a.style=t.defaults(a.style,e.style)),e.hasOwnProperty("className")&&i.hasOwnProperty("className")&&(a.className=i.className+" "+e.className),a}({onMouseDown:this.onMouseDown,className:"box-app"},{style:{margin:"auto",top:"0",bottom:"0"},appDefinitionId:this.props.box.appDefinitionId}),e.createElement("div",{style:{backgroundImage:"url("+(this.props.box.colorSvgIcon||this.props.box.appIcon)+")",width:"100%",height:"100%",backgroundSize:"contain",borderRadius:"5px"}})),e.createElement("div",{className:"content"},e.createElement("div",{className:"title ellipsis"},this.props.box.name),e.createElement("label",{className:"ellipsis"},this.props.box.relatedAppsTeaser)),e.createElement("a",{onClick:this.onPlusClick.bind(this,this.props.index)},e.createElement("span",{className:"plus-tooltip"},e.createElement(i.tooltip,{value:"tpa_add_panel_add_to_site",alignment:a.UI.TOOLTIP.ALIGNMENT.TOP},e.createElement("div",{},e.createElement(i.symbol,{className:"plus",name:"plusBig"}))))))}}),define("tpa/addPanelData/tpaAddPanelAppBox",["reactDOM","create-react-class","prop-types","lodash","core","tpa/appMarket/utils/appMarketUtils","tpa/bi/bi","tpa/constants/constants","tpa/utils/tpaUtils","tpa/services/tpaAddRemoveDSService","tpa/services/tpaAppInstallingService","tpa/addPanelData/tpaAddPanelAppBox.rt"],function(e,t,i,a,n,o,s,r,p,d,c,l){"use strict";return t({displayName:"tpaAddPanelApp",mixins:[n.mixins.editorAPIMixin],render:l,propTypes:{referralInfo:i.string.isRequired,category:i.string,box:i.object,onItemDrag:i.func},addApp:function(e,t,i,n,s,r){var p=this,l=this.getEditorAPI(),g=l.documentServices.tpa.app.isInstalled(e,!0);if(g&&r){var m=l.documentServices.pages.getFocusedPageId(),u=l.documentServices.tpa.app.getFirstAppCompPageId(e);u&&u.pageId!==m&&l.pages.navigateTo(u.pageId),l.documentServices.tpa.appMarket.getDataAsync(e).then(function(t){l.panelManager.openPanel("tpaPanels.message.sectionAlreadyInstalled",{appName:a.get(t,"name"),appIcon:a.get(t,"colorSvgIcon")||a.get(t,"appIcon"),appDefId:e})})}else if(t||g){var h=l.documentServices.pages.getFocusedPageId();if(r)l.documentServices.tpa.appMarket.getDataAsync(e).then(function(i){var o=a.get(i,"name");c.prePageAppInstalling(l,o,e,!a.get(i,"doNotShowPageAddedPanel")),d.addSection(l,e,{callback:function(r){r.page&&l.pages.navigateTo(r.page.id,function(){var e=l.documentServices.tpa.section.getSectionRefByPageId(r.page.id);l.selection.selectComponentByCompRef(e)}),a.get(i,"doNotShowPageAddedPanel")||c.onPageAppInstallingCompleted(l,o,e,r),p.reportTpaAddedBiEvent(e,t,n,g,h,r.sectionId,s)}})});else{var y={pageId:h};(y=i?a.merge(y,{layout:i}):y).callback=function(i){p.reportTpaAddedBiEvent(e,t,n,g,y.pageId,i.comp.id,s)},d.addWidget(l,e,y)}}else l.documentServices.tpa.appMarket.getDataAsync(e).then(function(t){var n=l.documentServices.tpa.appMarket.getPermissionsUrl(this.getAppMarketParams(a.get(t,"slug")),e);n=i?n.concat("&x="+i.x+"&y="+i.y):n,o.openAppMarketModal(l.panelManager.openPanel,"appMarketPermissionsModal",{url:n})}.bind(this))},onMouseEnter:function(e){this.setState({hover:!0,selected:e})},onMouseLeave:function(){this.setState({hover:!1})},onMouseDown:function(t){var i=this;if(a.isFunction(this.props.onItemDrag)){var n=e.findDOMNode(this).getBoundingClientRect(),o=a.pick(a.merge({},n,{top:n.top+30,left:n.left+41,width:60,height:60}),["left","top","width","height"]),s=void 0,r=void 0;this.props.box.hasSection?(s=980,r=500):(s=this.props.box.widgets[0].defaultWidth,r=this.props.box.widgets[0].defaultHeight),this.props.onItemDrag(t,{rect:o,onDrop:function(e,t){i.onMouseDrop(e,t)},structure:{layout:{width:s,height:r}},selectedApp:this.props.box})}},onMouseDrop:function(e,t){var i=this.getEditorAPI(),a=t.selectedApp.appDefinitionId,n="Wix"===t.selectedApp.by,o=this.isFirstAdd(i,a),s=t.selectedApp.hasSection;this.reportTpaAddClickBiEvent(a,n,"drag",o),this.addApp(a,n,{width:t.structure.layout.width,height:t.structure.layout.height,x:e.x,y:e.y},"drag",o,s)},onClick:function(e){if(!this.svgClicked(e)){var t=this.getEditorAPI(),i=this.props.box,a=i.appDefinitionId;this.openInfoModal(i);var n={app_id:a,origin:this.props.referralInfo,category:this.getCategory(),section:"related apps",component_type:p.isBlog(a)?"blog":"tpa"};t.bi.event(s.events.OPEN_MODAL_CLICK,n),t.panelManager.closePanelByName("rEditor.addPanel")}},svgClicked:function(e){return"svg"===e.target.tagName||"circle"===e.target.tagName||"path"===e.target.tagName},onPlusClick:function(e,t){if(this.svgClicked(t)){var i=this.getEditorAPI(),a=this.props.box,n="Wix"===a.by,o=a.appDefinitionId,s=a.hasSection,r=this.isFirstAdd(i,o);this.reportTpaAddClickBiEvent(o,n,"direct_add",r),this.addApp(o,n,null,"direct_add",r,s)}},getAppMarketParams:function(e){return{origin:o.origin(),openMarketOrigin:this.props.referralInfo,referralInfoCategory:this.getCategory(),section:"related_apps",appName:e}},openInfoModal:function(e){var t=this.getEditorAPI(),i=t.documentServices.tpa.appMarket.getInfoUrl(this.getAppMarketParams(a.get(e,"slug")),e.slug);o.openAppMarketModal(t.panelManager.openPanel,"appMarketAppModal",{url:i})},reportTpaAddedBiEvent:function(e,t,i,n,o,r,p){var d=this.getEditorAPI(),c=this.getBasicBiParams(d,e,t,i,p),l=d.documentServices.tpa.app.getDataByAppDefId(e),g=d.documentServices.generalInfo.isFirstSave()?d.documentServices.generalInfo.getMetaSiteId():"",m={widget_id:"",app_site_id:l.instanceId,instance_id:r,search_term:"",search_result_position:"",referral_info_category:this.getCategory(),referral_info:this.props.referralInfo,template_guid:g,modal_tab_name:"",page_id:o};c=a.assign(c,m),d.bi.event(s.events.TPA_ADDED,c)},reportTpaAddClickBiEvent:function(e,t,i,a){var n=this.getEditorAPI();p.bi.reportBIOnAppIntent(n,s.events.APP_INTENT,e,r.BI.initiator.EDITOR,r.BI.type.ADD_APP);var o=this.getBasicBiParams(n,e,t,i,a);n.bi.event(s.events.TPA_ADD_CLICK,o)},getBasicBiParams:function(e,t,i,a,n){return{adding_method:a,section:"related_apps",category:this.getCategory(),origin:this.props.referralInfo,app_id:t,is_first:n?1:0,is_permissions_app:i?0:1}},isFirstAdd:function(e,t){return!e.documentServices.tpa.app.isInstalled(t,!0)},getCategory:function(){return this.props.category}})}),define("tpa/addPanelData/tpaAddPanelSection.rt",["react","lodash","util","baseUI","tpa/addPanelData/tpaAddPanelAppBox"],function(e,t,i,a,n){"use strict";return function(){return e.createElement.apply(this,["div",{category:this.getCategory()},t.map(this.getAppBoxList(),function(t,i){return e.createElement("div",{key:t.appDefinitionId},e.createElement(n,{box:t,index:i,category:this.props.props.category,onItemDrag:this.props.onItemDrag,referralInfo:this.props.parentType}))}.bind(this)),e.createElement("div",{className:"more"},e.createElement(a.symbol,{name:"market"}),e.createElement("span",{},i.translate("tpa_add_panel_still_havent_found")),e.createElement("a",{onClick:function(){this.openCategory()}.bind(this)},i.translate("tpa_add_panel_browse_app_market")),e.createElement("span",{dangerouslySetInnerHTML:{__html:"&nbsp;"}}))])}}),define("tpa/addPanelData/tpaAddPanelSection",["create-react-class","lodash","core","tpa/addPanelData/addPanelService","tpa/appMarket/services/appMarketTabService","tpa/addPanelData/tpaAddPanelSection.rt","util","tpa/services/pendingAppsService"],function(e,t,i,a,n,o,s,r){"use strict";return e({displayName:"tpaAddPanelSection",mixins:[i.mixins.editorAPIMixin],render:o,getAppBoxList:function(){return this.appBoxList},componentWillMount:function(){var e=this,t=this.getEditorAPI();a.getCategoryApps(t,this.getCategoryNum(),function(t){e.appBoxList=t}),this.referralInfo=this.props.parentType.toLowerCase()},openCategory:function(){var e=this.getEditorAPI();e.panelManager.closePanelByName("rEditor.addPanel");var t={referralInfoCategory:this.getCategory(),openMarketOrigin:this.referralInfo,section:"related_apps"};n.openAppMarketTab({urlParams:t},e.panelManager.openPanel),e.bi.event(s.bi.events.OPEN_MARKET_CLICK,{referral_info:this.referralInfo,referral_info_category:this.getCategory(),num_pending_apps:r.getPendingAppsCount(this.getEditorAPI())})},getCategory:function(){return this.props.props.category},getCategoryNum:function(){return this.props.props.categoryNum}})}),define("tpa/addPanelData/section",["tpa/addPanelData/tpaAddPanelSection","tpa/addPanelData/addPanelService","addPanelDataConsts","coreUtilsLib"],function(e,t,i,a){"use strict";var n=function(t,n){var s=a.objectUtils.cloneDeep(i.SECTIONS_STRUCTURE.GENERAL_SECTION_STRUCTURE);return s.help.hide=!1,s.help.title="",s.help.text="add_section_info_text_relatedapps_general",s.teaser.hide=!0,s.props.class="tpaSection",s.props.template=e,s.props.category=t,s.props.categoryNum=n||o(t),"store"===t?s.help.text="1153"===n?"add_section_info_text_relatedapps_store":"add_section_info_text_relatedapps_store2":"blog"===t&&(s.help.text="add_section_info_text_relatedapps_blog"),s},o=function(e){return t.getCategoryNumber(e)};return{registerAddPanelSection:function(e){var i=t.getCategories();e.addPanel.registerToAddSectionAtTheEndOfCategory(i,function(e){return[n(e,null)]})},getSectionStructure:n}}),define("tpa/services/tpaHelpService",["lodash"],function(e){"use strict";var t={SETTINGS_MODAL:"settings_modal",SETTINGS:"settings",WIDGET:"widget"};return{getHelpId:function(i,a,n,o){return new Promise(function(s,r){var p="";e.isEmpty(a)?r(p):i.documentServices.tpa.appMarket.getDataAsync(a).then(function(a){var r=e.find(a.widgets,{widgetId:n}),d=e.get(r,"settings.helpId","");o===t.SETTINGS_MODAL?p=e.get(a,"dashboard.helpId",d):n&&(p=o===t.SETTINGS?d:i.isMobileEditor()?e.get(r,"mobileHelpId",""):e.get(r,"helpId","")),s(p)},r)})},HELP_END_POINTS:t}}),define("tpa/superApps/provisionService",["tpa/services/tpaAlertsService"],function(e){"use strict";var t=function(t,i){e.openSaveFailedAlertForDashboardUrl(t,i.appDefinitionId)};return{preSaveProvision:function(t,i){var a=function(){e.openProvisionFailedAlert(t.panelManager.openPanel,i.appDefinitionId)};return new Promise(function(e){t.documentServices.tpa.provision.provisionAppDemoSave(i.applicationId,e,a)})},save:function(e,i){return new Promise(function(a){e.saveManager.saveInBackground(a,t.bind(null,e,i))})},onSaveError:t}}),define("tpa/services/tpaSettingsModalService",["lodash","tpa/utils/tpaUtils","tpa/constants/constants","tpa/services/tpaHelpService"],function(e,t,i,a){"use strict";var n=function(e){return"number"==typeof e&&(e=e.toString()+"px"),e};return{settingsOpenModal:function(o,s,r){var p=i.TPA_SETTING_MODAL,d=void 0,c=void 0,l=e.get(s,"data.appDefinitionId");l?d=o.documentServices.tpa.app.getDataByAppDefId(l):(c=o.selection.getSelectedComponentData(),d=o.documentServices.tpa.app.getData(c.applicationId));var g={url:s.data.url,deviceType:s.deviceType,applicationId:d.applicationId,origCompId:o.selection.getSelectedComponentId(),bi:s.data.bi},m=e.clone(s.data);m.width=n(m.width),m.height=n(m.height),m.onClose=r,function(e,i){var a=t.getOpenedPanel(e.panelManager,i);a&&e.panelManager.closePanelByName(a.props.panelName)}(o,p),d.isWixTPA?(m.isBareMode&&delete m.title,m.shouldNotCloseOnBlur=m.shouldNotCloseOnBlur||e.get(m,"options.shouldNotCloseOnBlur",!1)):(m.isBareMode=!1,m.shouldNotCloseOnBlur=!1);var u=o.documentServices.tpa.getSettingsModalParams(g,m)||{},h=e.get(c,"widgetId")||e.get(o.documentServices.tpa.app.getMainSectionWidgetData(d),"widgetId");a.getHelpId(o,d.appDefinitionId,h,a.HELP_END_POINTS.SETTINGS_MODAL).then(function(e){u.appDefinitionId=d.appDefinitionId,u.helpId=e,u.widgetId=h,o.panelManager.openPanel(p,u,!0)})}}}),define("tpa/superApps/superApps",["lodash","util","stateManagement","superAppMenuInfra","tpa/utils/tpaUtils","tpa/appMarket/services/appMarketTabService","tpa/appMarket/utils/appMarketUtils","tpa/constants/constants","tpa/addPanelData/section","tpa/bi/bi","tpa/superApps/superAppsConstants","tpa/services/tpaAddRemoveDSService","tpa/packagePicker/packagePicker","tpa/services/tpaHelpService","tpa/superApps/provisionService","tpa/services/tpaStyleService","tpa/services/tpaAlertsService","tpa/services/dashboardAppService","tpa/services/tpaSettingsModalService","tpa/services/tpaAppInstallingService","experiment"],function(e,t,i,a,n,o,s,r,p,d,c,l,g,m,u,h,y,P,f,v,I){"use strict";var _=void 0,A=["dontStretch","styleId","parentContainerRef","presetId"],S=function(a,o,s,p){p=p||{};var d=r.TPA_SETTING_MODAL,c=n.getOpenedPanel(_.panelManager,d);c&&_.panelManager.closePanelByName(c.props.panelName);var l=t.guidUtils.getUniqueId(),g={width:o,height:s,title:p.title||"",isBareMode:p.isBareMode||!1,options:p.options,compId:l},u=P.getDashboardUrl(_,a,l,p),h=P.appHasBusinessManager(_,a.appDefinitionId);if(u&&h&&(_.store.dispatch(i.editorPlugins.tpa.actions.addAppDefIdsToRefreshOnDashboardClose([a.appDefinitionId])),g.isBareMode="true"===I.getValue("specs.wos.businessManagerPhase4")||g.isBareMode,g.width="100%",g.height="100%"),u){g.url=u,g.onClose=u&&h?e.partial(w,p.onClose):p.onClose,g.shouldNotCloseOnBlur=p.shouldNotCloseOnBlur;var y=p.leavePanelsOpen||!1;m.getHelpId(_,a.appDefinitionId,p.widgetId,m.HELP_END_POINTS.SETTINGS_MODAL).then(function(e){g.appDefinitionId=a.appDefinitionId,g.helpId=e,g.widgetId=p.widgetId,n.selectComponentAndNavigateIfNeeded(_,a,function(){_.panelManager.openPanel(d,g,y)})})}},w=function(e){var t=_.store.getState(),a=i.editorPlugins.tpa.selectors.getAppIdsToRefreshAfterDashboardClose(t);D(a),_.store.dispatch(i.editorPlugins.tpa.actions.setAppDefIdsToRefreshOnDashboardClose([])),e&&e()},D=function(e){var t=_.documentServices.tpa.app.getRenderedReactCompsByApplicationId(e);_.documentServices.tpa.app.refreshApp(t)},T=function(t,i,a,n){var o=e.merge({widgetId:t,layout:i},e.pick(a,A));return o.callback=function(i){_.bi.tryFlushingConditionedEvents();var o=_.documentServices.tpa.app.getDataByAppDefId(n);b(o,i.comp,t,e.get(a,"presetId")),e.get(a,"cb")&&a.cb(i.comp)},o},b=function(e,t,i,a){var n={app_id:e.appDefinitionId,app_site_id:e.instanceId,instance_id:t.id,widget_id:i,page_id:t.pageId,preset_id:a};_.bi.event(d.events.EXTENSION_ADDED,n)},E=function(e,t,i){var a={app_id:e.appDefinitionId,app_site_id:e.instanceId,instance_id:t.sectionId,widget_id:i,page_id:t.page.id};_.bi.event(d.events.EXTENSION_ADDED,a)},C=function(e,t){return p.getSectionStructure(e,t,"vertical_button")},M=function(t){f.settingsOpenModal(_,{data:e.omit(t,"autoProvision")})},k=function(e,t){n.bi.reportBIOnAppIntent(_,d.events.APP_INTENT,t,r.BI.initiator.EDITOR,e)},O=function(){var t=_.selection.getSelectedComponentData(),i=_.documentServices.tpa.app.getData(e.get(t,"applicationId"));return e.get(i,"appDefinitionId")};return{init:function(e){_=e},isPremium:function(e){return _.documentServices.tpa.app.isPremiumByAppDefinitionId(e)},getExtensions:function(e,t){t&&_.documentServices.tpa.appMarket.getDataAsync(e).then(function(e){t(_.documentServices.tpa.app.getExtensionsWidgets(e))})},openDashboardUrl:function(t,i,a,o,s){o=o||{};var p=e.get(s,"type")||r.BI.type.GFPP_MANAGE;k(p,t);var d=_.documentServices.tpa.app.getDataByAppDefId(t);if(d)if(I.isOpen("se_tpaProvisionOnAdd"))if(d.notProvisioned){var c=e.partial(y.openSaveFailedAlertForDashboardUrl,_,d.appDefinitionId);_.saveManager.saveInBackground(function(){o.bi=n.bi.getAppIntentBiParamsToAddToUrl(_,t,p),function(t){var i=_.selection.getSelectedComponentData(),a=_.selection.getSelectedComponentId(),o=_.documentServices.pages.getFocusedPageId(),s="Wix"!==t.by;n.bi.reportTpaAddedBiEvent(_,t.appDefinitionId,e.get(i,"widgetId"),o,a,!0,s,{origin:"template_provision",adding_method:"template"})}(d),S(d,i,a,o)},c)}else S(d,i,a,o);else o.bi=n.bi.getAppIntentBiParamsToAddToUrl(_,t,p),d.demoMode?u.preSaveProvision(_,d).then(e.partial(u.save,_,d)).then(e.partial(S,d,i,a,o)):!_.documentServices.generalInfo.isFirstSave()&&_.documentServices.tpa.app.isAppProvisionedOnServer(d.applicationId)?S(d,i,a,o):u.save(_,d).then(e.partial(S,d,i,a,o))},openAppMarketForAppDef:function(e){var t={urlParams:{openMarketOrigin:c.getMarketOpenOriginForBi(e),openAppDefId:e}};o.openAppMarketTab(t,_.panelManager.openPanel)},refreshAppCompsForAppDefId:function(e){var t=_.documentServices.tpa.app.getDataByAppDefId(e);D([t.applicationId])},openAppMarketInfoModal:function(e){var t=_.documentServices.tpa.appMarket.getInfoUrl({origin:s.getAppMarketTargetOrigin()},e);s.openAppMarketModal(_.panelManager.openPanel,"appMarketAppModal",{url:t})},registerOnAppInstalled:function(e,t){_.documentServices.tpa.app.registerOnInstalled(e,t)},registerOnAppDeleted:function(e,t){_.documentServices.tpa.app.registerOnDeleted(e,t)},addApp:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n.bi.reportBIOnAppIntent(_,d.events.APP_INTENT,t,r.BI.initiator.EDITOR,i.origin||r.BI.type.ADD_APP),_.documentServices.tpa.appMarket.getDataAsync(t).then(function(a){var n=e.get(a,"name");v.prePageAppInstalling(_,n,t,!0);var o=i.callback||e.noop;i.callback=function(e){v.onPageAppInstallingCompleted(_,n,t,e),o(e)},l.addSection(_,t,i)})},addWidget:function(e,t,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};n.bi.reportBIOnAppIntent(_,d.events.APP_INTENT,e,r.BI.initiator.EDITOR,a.origin||r.BI.type.ADD_APP);var o=T(t,i,a,e);l.addWidget(_,e,o)},addSection:function(e,t){var i=_.documentServices.tpa.app.getDataByAppDefId(e),a=i.widgets[t];a&&n.isMultiSectionInstanceEnabled(i,a.widgetId)&&(n.bi.reportBIOnAppIntent(_,d.events.APP_INTENT,e,r.BI.initiator.EDITOR,r.BI.type.ADD_WIDGET),l.addMultiSection(_,i.appDefinitionId,{pageId:a.appPage.id,callback:function(e){_.pages.navigateTo(e.page.id),E(i,e,a.widgetId)}}))},superAppsConstants:c,isInstalled:function(e){var t=_.documentServices.tpa.app.isInstalled(e);return t&&_.documentServices.tpa.appMarket.getData(e),t},getFirstAppCompPageId:function(e){return _.documentServices.tpa.app.getFirstAppCompPageId(e)},relatedApps:{addPanelCategories:["store"],constants:{store:{category:"store",categoryNum:{pre:"1153",post:"1039"}}},getRelatedAppsForPostInstall:C,getRelatedAppsForPreInstall:C},getSectionRefByPageId:function(e){return _.documentServices.tpa.section.getSectionRefByPageId(e)},upgrade:function(e,t,i){k(r.BI.type.APP_UPGRADE_BUTTON,e),g.startUpgradeFlow(_,e,!1,{origin:i})},hasPremiumOffering:function(e){var t=_.documentServices.tpa.app.getDataByAppDefId(e);return!!t&&_.documentServices.tpa.app.hasPremiumOffering(t.applicationId)},openSuperAppPanel:function(e,t,i,n,o,s,r){a.button.registerButton(_,e,t,i,n,o,s,r,!0),_.panelManager.openPanel(i,{appWasManuallyInstalled:!0})},openSuperAppsModal:function(t){var i=(t=t||{}).appDefinitionId||O();if(k(r.BI.type.APP_MANAGE_BUTTON,i),t.bi=n.bi.getAppIntentBiParamsToAddToUrl(_,i,r.BI.type.APP_MANAGE_BUTTON),e.get(t,"autoProvision")){var a=_.documentServices.tpa.app.getDataByAppDefId(i);a&&(I.isOpen("se_tpaProvisionOnAdd")?a.notProvisioned?_.saveManager.saveInBackground(e.partial(M,t),e.partial(y.openSaveFailedAlertForDashboardUrl,_,a.appDefinitionId)):M(t):a.demoMode?u.preSaveProvision(_,a).then(e.partial(u.save,_,a)).then(e.partial(M,t)):_.documentServices.generalInfo.isFirstSave()?u.save(_,a).then(e.partial(M,t)):M(t))}else M(t)},setStyleParam:function(e,t,i){h.setStyleParam(_,t,i)},unDockComp:function(e,t){_.components.layout.unDock(e),_.documentServices.waitForChangesApplied(function(){_.components.layout.update(e,t)})}}}),define("tpa/services/tpaAddAppService",["lodash","blog","experiment","tpa/services/pendingAppsService","tpa/utils/tpaUtils","tpa/constants/constants","tpa/services/tpaAddRemoveDSService","tpa/services/tpaAlertsService","tpa/services/tpaAppInstallingService","tpa/superApps/superApps","tpa/bi/bi","constants","stateManagement"],function(e,t,i,a,n,o,s,r,p,d,c,l,g){"use strict";var m=function(t,i){return e.includes(t.documentServices.pages.getPageIdList(!0),i)},u=function(e){var t={};return e&&e.x&&e.y&&(t={x:e.x,y:e.y}),t},h=function(t){return"WIDGET"===e.get(t,"componentType")?u(t):y(t)},y=function(t){var i={};return t&&(e.isNumber(t.x)&&(i.x=t.x),e.isNumber(t.y)&&(i.y=t.y),e.isNumber(t.width)&&(i.width=t.width),e.isNumber(t.height)&&(i.height=t.height)),i},P=function(e,i,a,n,o){if(n=n||{},t.siteHasOldBlog(e)){var s=t.getBlogPageId(e),r=e.documentServices.pages.getFocusedPageId();n.shouldNavigate&&s!==r&&e.pages.navigateTo(s)}else t.installApp(e,null,function(n){f(e,n,i,a),t.unregisterNewBlogButton(e),o&&o()})},f=function(e,i,a,o){var s=t.getBlogMainAppPartCompRef(e,i);n.bi.reportAddComponentBIEvent(e,s.id,a,o)};return{addApp:function(f,v,I,_,A,S,w,D,T){var b=arguments.length>9&&void 0!==arguments[9]?arguments[9]:e.noop,E=arguments[10];switch(T=e.pick(T,["widgetId","showPageAddedPanel","x","y","width","height","shouldNavigate","pageId","containerRef","componentOptions","originType"]),A){case o.APP.TYPE.SECTION:n.bi.reportBIOnAppIntent(f,c.events.APP_INTENT,v,S,o.BI.type.ADD_APP),function(o,d,c,l,m,u,P,f){var v=(m=m||{}).widgetId;if(o.documentServices.tpa.section.alreadyInstalled(d)){var I=function(){var e=o.documentServices.tpa.app.getFirstAppCompPageId(d);n.bi.reportTpaAddedBiEvent(o,d,v,e.pageId,e.compId,!0,u,P)},_=function(){r.openProvisionFailedAlert(o.panelManager.openPanel,d)};i.isOpen("se_tpaProvisionOnAdd")&&c.notProvisioned?o.saveManager.saveInBackground(I,_):c.demoMode&&o.documentServices.tpa.provision.provisionAppDemoSave(c.applicationId,I,_);var A=o.documentServices.tpa.app.getFirstAppCompPageId(d);if(A){var S=o.documentServices.pages.getFocusedPageId();m.shouldNavigate&&A.pageId!==S&&o.pages.navigateTo(A.pageId)}o.documentServices.tpa.appMarket.getDataAsync(d).then(function(t){o.panelManager.openPanel("tpaPanels.message.sectionAlreadyInstalled",{appName:l,appIcon:e.get(t,"colorSvgIcon")||e.get(t,"appIcon"),appDefId:d})})}else i.isOpen("se_tpaRefactorAdd")?(p.prePageAppInstalling(o,l,d,m.showPageAddedPanel),m.preAddOperation=e.partial(s.preAddComponent,o),m.callback=function(i){if(f&&i.onError&&f(i),(m.showPageAddedPanel||i.onError)&&p.onPageAppInstallingCompleted(o,l,d,i),!i.onError){if(a.updateNotification(o),n.bi.reportTpaAddedBiEvent(o,d,m.widgetId,i.page.id,i.sectionId,!0,u,P),"14bcded7-0066-7c35-14d7-466cb3f09103"===d){if(!t.siteHasOldBlog(o)){var s=e.cloneDeep(o.store.getState().leftBar);s.superApps.desktop=e.reject(s.superApps.desktop,{panelName:"blog.menuPanel"}),o.store.dispatch(g.editorPlugins.legacy.actions.setState({leftBar:s}))}t.isNewBlogIntegrationExperimentOn()&&t.registerNewBlogButton(o)}m.shouldNavigate&&o.pages.navigateTo(i.page.id,function(){o.panelManager.closePanelByName("tpa.compPanels.tpaSettings");var e=o.documentServices.tpa.section.getSectionRefByPageId(i.page.id);o.selection.selectComponentByCompRef(e)}),o.documentServices.waitForChangesApplied(function(){if(f){c=o.documentServices.tpa.app.getDataByAppDefId(d);var t=o.documentServices.pages.data.get(i.page.id);f({instanceId:e.get(c,"instanceId"),pageRef:i.page,pageUriSEO:e.get(t,"pageUriSEO"),title:e.get(t,"title")})}})}},o.documentServices.tpa.app.add(d,m)):(p.prePageAppInstalling(o,l,d,m.showPageAddedPanel),m.componentOptions&&(m.componentOptions.layout=h(m.componentOptions)),s.addSection(o,d,{widgetId:v,layout:y(m),componentOptions:m.componentOptions,callback:function(i){if(f&&i.onError&&f(i),(m.showPageAddedPanel||i.onError)&&p.onPageAppInstallingCompleted(o,l,d,i),!i.onError){if(a.updateNotification(o),n.bi.reportTpaAddedBiEvent(o,d,v,i.page.id,i.sectionId,!0,u,P),"14bcded7-0066-7c35-14d7-466cb3f09103"===d&&!t.siteHasOldBlog(o)){var s=e.cloneDeep(o.store.getState().leftBar);s.superApps.desktop=e.reject(s.superApps.desktop,{panelName:"blog.menuPanel"}),o.store.dispatch(g.editorPlugins.legacy.actions.setState({leftBar:s})),t.isNewBlogIntegrationExperimentOn()&&t.onNewBlogInstalled(o)}m.shouldNavigate&&o.pages.navigateTo(i.page.id,function(){o.panelManager.closePanelByName("tpa.compPanels.tpaSettings");var e=o.documentServices.tpa.section.getSectionRefByPageId(i.page.id);o.selection.selectComponentByCompRef(e)}),o.documentServices.waitForChangesApplied(function(){if(f){c=o.documentServices.tpa.app.getDataByAppDefId(d);var t=o.documentServices.pages.data.get(i.page.id);f({instanceId:e.get(c,"instanceId"),pageRef:i.page,pageUriSEO:e.get(t,"pageUriSEO"),title:e.get(t,"title")})}})}}}))}(f,v,_,I,T,w,D,b);break;case o.APP.TYPE.WIDGET:n.bi.reportBIOnAppIntent(f,c.events.APP_INTENT,v,S,o.BI.type.ADD_APP),function(t,o,c,g,y,P){if(c=c||{},o===d.superAppsConstants.SHOUTOUT_APP_DEF_ID)!function(e){e.documentServices.generalInfo.isFirstSave()?e.saveManager.saveInBackground(function(){d.openSuperAppPanel("shoutout",!0,l.SUPER_APPS.SHOUTOUT_PANEL_NAME,"SiteApp_ShoutOut_Button_Hover_Caption","SiteApp_ShoutOut_Button_Hover_Caption","shoutout-panel","shoutOutLeftBarIcon")},function(){r.openSaveFailedAlertForAppMarket(e)}):d.openSuperAppPanel("shoutout",!0,l.SUPER_APPS.SHOUTOUT_PANEL_NAME,"SiteApp_ShoutOut_Button_Hover_Caption","SiteApp_ShoutOut_Button_Hover_Caption","shoutout-panel","shoutOutLeftBarIcon")}(t);else if(i.isOpen("se_tpaRefactorAdd"))c.preAddOperation=e.partial(s.preAddComponent,t),c.callback=function(i){if(P&&i.onError&&P(i),i.onError)p.onPageAppInstallingCompleted(t,null,o,i);else{a.updateNotification(t);var s=t.documentServices.pages.getFocusedPageId(),r=!t.documentServices.tpa.app.isInstalled(o,!0);n.bi.reportTpaAddedBiEvent(t,o,c.widgetId,s,i.comp.id,r,g,y),t.bi.tryFlushingConditionedEvents(),c.shouldNavigate&&m(t,c.pageId)&&s!==c.pageId?t.pages.navigateTo(c.pageId,function(){t.panelManager.closePanelByName("tpa.compPanels.tpaSettings")}):c.pageId&&s!==c.pageId||t.panelManager.closePanelByName("tpa.compPanels.tpaSettings"),t.documentServices.waitForChangesApplied(function(){if(P){var i=t.documentServices.tpa.app.getDataByAppDefId(o);P({instanceId:e.get(i,"instanceId")})}})}},t.documentServices.tpa.app.add(o,c);else{var f=u(c),v=t.documentServices.pages.getFocusedPageId(),I=!t.documentServices.tpa.app.isInstalled(o,!0);c.componentOptions&&(c.componentOptions.layout=h(c.componentOptions));var _={widgetId:c.widgetId,layout:f,containerRef:c.containerRef,componentOptions:c.componentOptions,callback:function(i){P&&i.onError&&P(i),i.onError?p.onPageAppInstallingCompleted(t,null,o,i):(a.updateNotification(t),n.bi.reportTpaAddedBiEvent(t,o,c.widgetId,v,i.comp.id,I,g,y),t.bi.tryFlushingConditionedEvents(),c.shouldNavigate&&_.pageId&&v!==_.pageId?t.pages.navigateTo(_.pageId,function(){t.panelManager.closePanelByName("tpa.compPanels.tpaSettings")}):_.pageId&&v!==_.pageId||t.panelManager.closePanelByName("tpa.compPanels.tpaSettings"),t.documentServices.waitForChangesApplied(function(){if(P){var i=t.documentServices.tpa.app.getDataByAppDefId(o);P({instanceId:e.get(i,"instanceId")})}}))}};c.pageId&&m(t,c.pageId)&&(_.pageId=c.pageId),s.addWidget(t,o,_)}}(f,v,T,w,D,b);break;case o.APP.TYPE.APP_PART:P(f,A,D,T,b);break;case o.APP.TYPE.PLATFORM_ONLY:n.bi.reportBIOnAppIntent(f,c.events.APP_INTENT,v,S,T.originType||o.BI.type.ADD_APP),s.addPlatform(f,v,{origin:E,callback:b});break;default:throw new Error("Error: "+A+" is unknown tpa type")}},isAppInstalled:function(e,i,a){return!(i!==d.superAppsConstants.BLOG_APP_DEF_ID||!t.siteHasOldBlog(e))||e.documentServices.tpa.app.isInstalled(i,!a)}}}),define("tpa/services/tpaAddComponentService",["lodash","tpa/constants/constants","tpa/services/tpaAddRemoveDSService","tpa/services/tpaAddAppService","tpa/utils/tpaUtils","tpa/appMarket/utils/appMarketUtils","tpa/bi/bi","experiment"],function(e,t,i,a,n,o,s,r){"use strict";function p(t,i,a,n){t.documentServices.waitForChangesApplied(function(){var o=t.documentServices.pages.data.get(i.id);n({compId:a,pageRef:i,pageUriSEO:e.get(o,"pageUriSEO"),title:e.get(o,"title")})})}var d=function(e,t,i,a,n){if(i)switch(a.componentType){case"WIDGET":h(e,i,t,a,n);break;case"PAGE":c(e,i,t,a,n);break;default:n({onError:"componentType not supported."})}else n({onError:"General Error."})},c=function(t,i,a,n,o){var s=f(t,n.copyStyle,n.styleId,a),r=t.documentServices.tpa.app.getWidgetDataFromTPAPageId(i.appDefinitionId,e.get(n,"page.pageId")),p=l(t,i,r,o);p&&p(t,i.appDefinitionId,{pageId:e.get(n,"page.pageId"),title:e.get(n,"page.title"),styleId:s,layout:u(n),isHidden:e.get(n,"page.isHidden"),requireLogin:e.get(n,"page.requireLogin"),callback:function(e){g(t,e.page,e.sectionId,r,n,o),P(t,i,e.page,e.sectionId,r.widgetId)}})},l=function(e,t,a,o){return a?n.isMultiSectionInstanceEnabled(t,a.widgetId)?i.addMultiSection:m(e,t,a)?(o({onError:"Page already installed."}),null):i.addSubSection:(o({onError:"No page found."}),null)},g=function(t,i,a,n,o,s){!1!==e.get(o,"page.shouldNavigate",null)?t.pages.navigateTo(i.id,function(){p(t,i,a,s),t.panelManager.closePanelByName("tpa.compPanels.tpaSettings")}):p(t,i,a,s)},m=function(t,i,a){var n=e.get(a,"appPage.id");return t.documentServices.tpa.section.isSectionInstalledByTpaPageId(i.applicationId,n)},u=function(t){var i={};return e.isNumber(t.x)&&(i.x=t.x),e.isNumber(t.y)&&(i.y=t.y),e.isNumber(t.width)&&(i.width=t.width),e.isNumber(t.height)&&(i.height=t.height),i},h=function(t,a,n,o,s){var r=f(t,o.copyStyle,o.styleId,n),p=t.documentServices.pages.getFocusedPageId(),d=e.get(o,"widget.wixPageId")||p;if(function(t,i){return e.includes(t.documentServices.pages.getPageIdList(),i)}(t,d)||o.widget.allPages){var c=t.documentServices.tpa.app.getWidgetDataFromTPAWidgetId(a.appDefinitionId,e.get(o,"widget.tpaWidgetId"));if(c){var l=c.widgetId;i.addWidget(t,a.appDefinitionId,{pageId:d,widgetId:l,showOnAllPages:e.get(o,"widget.allPages"),styleId:r,callback:function(e){d!==p&&t.pages.navigateTo(d,function(){t.panelManager.closePanelByName("tpa.compPanels.tpaSettings")}),t.documentServices.waitForChangesApplied(function(){s({compId:e.comp.id}),y(t,a,e.comp,l)})}})}else s({onError:"No widget found."})}else s({onError:"pageId was not found."})},y=function(e,t,i,a){var n=e.components.getPage(i),o=n&&n.id,r={app_id:t.appDefinitionId,app_site_id:t.instanceId,instance_id:i.id,widget_id:a,page_id:o};e.bi.event(s.events.EXTENSION_ADDED,r)},P=function(e,t,i,a,n){var o={app_id:t.appDefinitionId,app_site_id:t.instanceId,instance_id:a,widget_id:n,page_id:i.id};e.bi.event(s.events.EXTENSION_ADDED,o)},f=function(t,i,a,n){var o=void 0;if(i)if(a)e.includes(t.theme.styles.getAllIds(),a)&&(o=a);else{var s=t.components.get.byId(n);o=t.components.style.getId(s)}return o},v=function(i,n,s,r){i.documentServices.tpa.appMarket.getDataAsync(n).then(function(p){if(p&&!p.error){var d="Wix"===p.by;if(d){var c=p.hasSection?t.APP.TYPE.SECTION:t.APP.TYPE.WIDGET,l=t.BI.initiator.SDK;a.addApp(i,n,p.name,null,c,l,!d,{adding_method:"sdk"},{componentOptions:s},function(){r()})}else{var g=i.documentServices.tpa.appMarket.getPermissionsUrl({appName:e.get(p,"slug")},n);o.openAppMarketModal(i.panelManager.openPanel,"appMarketPermissionsModal",{url:g}),r()}}else r({onError:"Application with "+n+" appDefinitionId do not exist."})})},I=function(t,i){var a=e.find(t.widgets,function(t){return"WIDGET"===i.componentType?t.tpaWidgetId===i.widget.tpaWidgetId:"PAGE"===i.componentType?e.get(t,"appPage.id")===i.page.pageId:null});return!!e.get(a,"autoAddToSite")},_=function(t,i,a,n){if(a){var o=t.documentServices.tpa.app.getAllCompsByApplicationId(i.applicationId);return e.find(o,{widgetId:e.get(a,"widgetId")})||e.find(o,{widgetId:null})}return n({onError:"No widget found."}),null},A=function(e,t,i,a){var n=void 0,o=void 0;if("WIDGET"===e.componentType)n=t.documentServices.tpa.app.getWidgetDataFromTPAWidgetId(i.appDefinitionId,e.widget.tpaWidgetId),(o=_(t,i,n,a))&&a({compId:o.id});else if("PAGE"===e.componentType&&(n=t.documentServices.tpa.app.getWidgetDataFromTPAPageId(i.appDefinitionId,e.page.pageId),o=_(t,i,n,a))){var s=t.documentServices.components.get.byId(o.pageId);g(t,s,o.id,n,e,a)}};return{addComponent:function(t,a,n,o){n=n||{},o=e.isFunction(o)?o:e.noop;var s=void 0,p=void 0;if(r.isOpen("se_tpaRefactorAdd")){if(!n.appDefinitionId){var c=t.selection.getSelectedComponentData();s=t.documentServices.tpa.app.getData(c.applicationId),n.appDefinitionId=s.appDefinitionId}n.compId=a,n.preAddOperation=e.partial(i.preAddComponent,t),n.callback=function(i){if(i.onError)o(i);else if(s=t.documentServices.tpa.app.getDataByAppDefId(p.appDefinitionId),"WIDGET"===p.componentType){var a=t.documentServices.pages.getFocusedPageId(),n=e.get(p,"widget.wixPageId")||a;n!==a&&t.pages.navigateTo(n,function(){t.panelManager.closePanelByName("tpa.compPanels.tpaSettings")}),t.documentServices.waitForChangesApplied(function(){o&&o({compId:i.comp.id});var a=t.documentServices.tpa.app.getWidgetDataFromTPAWidgetId(p.appDefinitionId,e.get(p,"widget.tpaWidgetId"));y(t,s,i.comp,e.get(a,"widgetId"))})}else if("PAGE"===p.componentType){var r=t.documentServices.tpa.app.getWidgetDataFromTPAPageId(p.appDefinitionId,e.get(p,"page.pageId"));r&&(g(t,i.page,i.sectionId,r,p,o),P(t,s,i.page,i.sectionId,r.widgetId))}},p=e.clone(n),t.documentServices.tpa.comp.add(n)}else if(n.appDefinitionId)t.documentServices.tpa.app.isInstalled(n.appDefinitionId)?(s=t.documentServices.tpa.app.getDataByAppDefId(n.appDefinitionId),d(t,a,s,n,o)):v(t,n.appDefinitionId,n,function(){s=t.documentServices.tpa.app.getDataByAppDefId(n.appDefinitionId),I(s,n)?A(n,t,s,o):d(t,a,s,n,o)});else{var l=t.selection.getSelectedComponentData();l?(s=t.documentServices.tpa.app.getData(l.applicationId),d(t,a,s,n,o)):o({onError:"General Error."})}}}}),define("tpa/handlers/editorSuperAppsHandlers",["lodash","tpa/constants/constants","tpa/packagePicker/packagePicker","tpa/utils/mediaDialogHandlerUtils","tpa/handlers/editorRefreshTPADataAfterUpgrade","tpa/services/mediaDialogService","tpa/superApps/superApps"],function(e,t,i,a,n,o,s){"use strict";return{trackAppUpgrade:function(e){var t=e.selection.getSelectedComponentData();n.trackAppUpgrade(e,t.applicationId)},superAppsOpenMediaDialog:function(t,i,n){o.openMediaDialogByPayloadParsingMethod(t,i,function(t){e.isArray(t)||(t=[t]);var n=t.map(a.convertMediaManagerResultForSuperApps);return n=i.data.multiSelection?n:n[0]},n)},getWixUpgradeUrl:function(e,t,a){var n=e.selection.getSelectedComponentData(),o=e.documentServices.tpa.app.getData(n.applicationId);e.documentServices.tpa.app.hasPremiumOffering(o.applicationId)&&i.getWixUpgradeUrl(e,o.appDefinitionId,a)},setHelpArticle:function(t,i){var a=e.get(i,"data.articleId");"MODAL"===e.get(i,"data.type")?t.panelManager.updatePanelProps("tpa.compModals.tpaSettingsModal",{articleId:a}):t.panelManager.updatePanelProps("tpa.compPanels.tpaSettings",{articleId:a})},openDashboard:function(i,a,n){var o=e.get(a,"data",{}),r=o.state||"",p=o.origin||"",d=function(e){var t=e.selection.getSelectedComponentData();return t?(e.documentServices.tpa.app.getData(t.applicationId)||{}).appDefinitionId||null:null}(i),c=i.selection.getSelectedComponentData().widgetId,l=o.width||"100%",g=o.height||"100%";s.openDashboardUrl(d,l,g,{state:r,origin:p,widgetId:c,onClose:n,shouldNotCloseOnBlur:!0,leavePanelsOpen:!0},{type:t.BI.type.TPA_DASHBOARD})}}}),define("tpa/handlers/editorTPAHandlers",["lodash","util","stateManagement","tpa/utils/mediaDialogHandlerUtils","tpa/packagePicker/packagePicker","tpa/constants/constants","tpa/services/dashboardAppService","tpa/bi/bi","tpa/services/tpaStyleService","tpa/appMarket/utils/appMarketUtils","textControls","tpa/services/mediaDialogService","tpa/services/tpaAddComponentService","tpa/services/tpaSettingsModalService","tpa/handlers/editorSuperAppsHandlers","experiment"],function(e,t,i,a,n,o,s,r,p,d,c,l,g,m,u,h){"use strict";function y(t){return e.isNaN(e.toNumber(t))?e.endsWith(t,"px")?{px:parseFloat(t)}:e.endsWith(t,"vw")?{vw:parseFloat(t)}:e.endsWith(t,"%")?{pct:parseFloat(t)}:null:{px:e.toNumber(t)}}function P(t){return e.isNumber(t.pct)?{pct:t.pct}:{vw:t.vw||0,px:t.px||0}}var f=function(i){var a=e.keyBy(c.constants.DEFAULT_STYLES_MAP,"cssClass");return e.transform(i,function(e,i,n){a[i.editorKey]&&(i.displayName=t.translate(a[i.editorKey].displayName),e[n]=i)},{})},v=function(){};return{addComponent:function(t,i,a){if(i.data.appDefinitionId){var n=t.selection.getSelectedComponentData(),o=t.documentServices.tpa.app.getData(e.get(n,"applicationId"));o&&!o.isWixTPA&&delete i.data.appDefinitionId}g.addComponent(t,i.compId,i.data,function(t){a(e.get(t,"compId")?t.compId:t)})},appEngaged:function(t,i){var a=t.selection.getSelectedComponentData();if(a){var n=t.documentServices.tpa.app.getData(a.applicationId),o={app_id:n.appDefinitionId,instance_id:n.instanceId,premium_intent:e.get(i,"data.premiumIntent")};t.bi.event(r.events.APP_ENGAGEMENT,o)}},appIsAlive:function(t,i,a){t.panelManager.updatePanelProps("tpa.compPanels.tpaSettings",{isAlive:!0,sdkVersion:e.get(i,"data.version")});var n=t.documentServices.tpa.style.get(i.compId,!0);n.siteTextPresets=f(n.siteTextPresets),a(n)},closeWindow:function(t,i){i=i||{};var a=t.panelManager.getOpenPanels(),n=function(t){switch(e.get(i.data,["message","target"],"").toLowerCase()){case"all":return[o.TPA_SETTINGS_PANEL_ID,o.TPA_SETTING_MODAL];case"settings":return[o.TPA_SETTINGS_PANEL_ID];case"modal":default:return[o.TPA_SETTING_MODAL]}}();(n=e.reject(n,function(t){return!e.find(a,{name:t})})).forEach(function(a){t.panelManager.updatePanelProps(a,{shouldCloseModal:!0,closeModalMessage:e.get(i,"data.message")})})},getCurrentPageId:function(e,t,i){i(e.pages.getCurrentPageId())},getDashboardAppUrl:function(e,t,i){s.getDashboardAppUrlAsync(e,t.data,i)},getExternalId:function(e,t,i){var a=e.components.get.byId(t.compId);i(e.documentServices.tpa.comp.getExternalId(a))},getProducts:function(t,i,a){var o=t.selection.getSelectedComponentData(),s=t.documentServices.tpa.app.getData(e.get(o,"applicationId")),r=e.get(i,"data.appDefinitionId"),p=e.get(i,"data.currency");r&&s.isWixTPA?function(t,i,a,n){var o=t.documentServices.tpa.app.getDataByAppDefId(i);!function(t,i){return h.isOpen("se_tpaProvisionOnAdd")?i&&!t.documentServices.tpa.app.isPermissionsRevoked(i):i&&t.documentServices.tpa.app.isAppProvisionedOnServer(e.get(i,"applicationId"))&&!t.documentServices.tpa.app.isPermissionsRevoked(i)}(t,o)?n({error:"app is not installed"}):t.documentServices.tpa.appMarket.getPackages(i,e.get(o,"instanceId"),{currency:a}).then(n,n)}(t,r,p,a):!h.isOpen("se_tpaProvisionOnAdd")&&n.isSaveSiteNeeded(t,s)?t.saveManager.saveInBackground(function(){t.documentServices.tpa.appMarket.getPackages(e.get(s,"appDefinitionId"),e.get(s,"instanceId"),{currency:p}).then(a,a)}):t.documentServices.tpa.appMarket.getPackages(e.get(s,"appDefinitionId"),e.get(s,"instanceId"),{currency:p}).then(a,a)},getWindowPlacement:function(e,t,i){var a=e.components.properties.get(e.selection.getSelectedComponents());if(!a)throw new Error("Selected widget is not Glued Widget");i({placement:a.placement,verticalMargin:parseFloat(a.verticalMargin),horizontalMargin:parseFloat(a.horizontalMargin)})},isComponentInstalled:function(t,i,a){var n=e.get(i,"data.componentId"),o=t.selection.getSelectedComponentData();if(o){var s=t.documentServices.tpa.app.getData(o.applicationId);if(s){var r=e.find(s.widgets,function(e){return e.appPage?e.appPage.id===n:e.tpaWidgetId===n});if(r)return void a(t.documentServices.tpa.comp.isInstalled(r.widgetId))}}a(!1)},isFullWidth:function(e,t,i){var a=e.selection.getSelectedComponents();i(e.components.layout.isHorizontallyStretchedToScreen(a))},openBillingPage:function(t,i){var a=t.selection.getSelectedComponentData();if(a){var o=t.documentServices.tpa.app.getData(a.applicationId);if(!n.isFullyUpgraded(t,o)){var s={origin:e.get(i,"data.referrer")||"settings"},r=e.get(i,"data.premiumIntent");r&&(s.premiumIntent=r),n.startUpgradeFlow(t,o.appDefinitionId,!0,s)}}},openLinkPanel:function(t,i,a){t.openLinkPanel({link:e.get(i,"data.link"),hideExternalLinkTarget:!0,callback:a,onCancelCallback:function(){a&&a({onCancel:!0})}})},openMediaDialog:function(t,i,n){t.documentServices.tpa.app.isSuperAppByCompId(i.compId)&&"SuperApps.Settings"===i.namespace?u.superAppsOpenMediaDialog(t,i,n):(e.unset(i,["data","options","imageAnalysis"]),l.openMediaDialogByPayloadParsingMethod(t,i,function(t){e.isArray(t)||(t=[t]);var n=t.map(a.convertMediaManagerResult);return n=i.data.multiSelection?n:n[0]},n))},openReviewInfo:function(e){var t=e.selection.getSelectedComponentData(),i=e.documentServices.tpa.app.getData(t.applicationId);e.documentServices.tpa.appMarket.getDataAsync(i.appDefinitionId).then(function(t){if(t){var i={origin:d.origin(),openMarketOrigin:"settings_panel"},a=e.documentServices.tpa.appMarket.getAppReviewsUrl(i,t.slug);d.openAppMarketModal(e.panelManager.openPanel,"appMarketAppModal",{url:a})}})},openSiteMembersSettingsDialog:function(e){e.panelManager.openPanel("panels.focusPanels.siteMembersSettingsPanel",{},!0)},postMessage:function(e,t){var i=e.selection.getSelectedComponentData();i&&e.documentServices.tpa.change.trigger.settingsUpdated(i.applicationId,t.data.compId,t.data.message)},refreshAppsOnDashboardClose:function(t,a){if(a&&a.data){var n=a.data.appsToRefresh;(e.isString(n)||e.isArray(n)&&n.every(e.isString))&&(n=[].concat(n),t.store.dispatch(i.editorPlugins.tpa.actions.addAppDefIdsToRefreshOnDashboardClose(n)))}},setExternalId:function(e,t,i){var a=e.components.get.byId(t.compId);e.documentServices.tpa.comp.setExternalId(a,t.data.externalId,i)},setFullWidth:function(t,i,a){var n=i.data.stretch,o=t.selection.getSelectedComponents(),s=t.components.layout.isHorizontallyStretchedToScreen(o);if(n){var r=function(e){if(e){var t=y(e.left),i=y(e.right);return t&&i?{left:t||{},right:i||{}}:null}return{}}(e.get(i,"data.margins"));r?function(t,i,a,n){var o=e.get(i,"left")||{},s=e.get(i,"right")||{},r={left:P(o),right:P(s)};t.components.layout.setDock(a,r),t.documentServices.waitForChangesApplied(n)}(t,r,o,a):a({onError:"Margin values are not valid."})}else s&&t.documentServices.waitForChangesApplied(function(){!function(e,t,i){var a=e.selection.getSelectedComponentData(),n=e.documentServices.tpa.app.getDefaultLayout(a.applicationId,a.widgetId);n.height=e.components.layout.get(t).height,e.components.layout.unDock(t),e.documentServices.waitForChangesApplied(function(){e.components.layout.update(t,n),i()})}(t,o,a)})},setStyleParam:function(e,t,i){p.setStyleParam(e,t.compId,t.data,i),e.documentServices.tpa.style.setParamOldSDK(t.compId,t.data)},settingsOpenModal:function(e,t,i){m.settingsOpenModal(e,t,i)},setWindowPlacement:function(t,i){var a=i.data.placement;if("CENTER"===a)throw new Error("Invalid position: "+a+". please use a valid position");var n=i.data.verticalMargin||0,o=i.data.horizontalMargin||0,s=t.components.get.byId(i.compId,"masterPage"),r=t.components.properties.get(s);e.assign(r,{placement:a,verticalMargin:n,horizontalMargin:o}),t.components.properties.update(s,r),t.documentServices.tpa.change.trigger.windowPlacement(i)},stylesReady:function(t,i){t.panelManager.updatePanelProps("tpa.compPanels.tpaSettings",{stylesReady:!0,sdkVersion:e.get(i,"data.version")})},getViewModeInternal:v,toWixDate:v,getCompId:v,getOrigCompId:v,getWidth:v,getLocale:v,getCacheKiller:v,getTarget:v,getInstanceId:v,getSignDate:v,getUid:v,getPermissions:v,getIpAndPort:v,getDemoMode:v,getDeviceType:v,getInstanceValue:v,getSiteOwnerId:v,getImageUrl:v,getResizedImageUrl:v,getAudioUrl:v,getDocumentUrl:v,getSwfUrl:v,getPreviewSecureMusicUrl:v,getStyleParams:v,getStyleColorByKey:v,getColorByreference:v,getEditorFonts:v,getSiteTextPresets:v,getFontsSpriteUrl:v,getStyleFontByKey:v,getStyleFontByReference:v,getSiteColors:v,setUILIBParamValue:v}}),define("tpa/handlers/editorSettingsModalHandlersService",[],function(){"use strict";return function(e){return{resizeWindow:function(t,i,a){e.panelManager.updatePanelProps(a.name,{width:t.data.width,height:t.data.height})}}}}),define("tpa/settings/uiLib/fontPickerStyleService",["lodash","textControls","tpa/services/tpaStyleService"],function(e,t,i){"use strict";var a=function(e,i,a){var n=e.documentServices.tpa.style.getNameToFontsKeyMap()[i],o=e.documentServices.theme.fonts.get(i),s=t.fontUtils.parseStyleFont(o,e.documentServices.theme.fonts.getAll(),e.theme.colors.getAll());return{preset:n,editorKey:i,displayName:a,size:s.size,family:s.family.toLowerCase(),style:{bold:s.bold,italic:s.italic,underline:!1}}},n=function(t,i,n,o,s,r){var p={style:{italic:!1,bold:!1,underline:!1},family:"arial"},d=t.documentServices.tpa.style.get(i);switch(d.style&&d.style.fonts&&d.style.fonts[n]&&(delete(p=d.style.fonts[n]).displayName,delete p.value),o){case"theme":e.assign(p,a(t,s,r));break;case"family":p.preset="Custom",p.family=s;break;case"size":p.preset="Custom",p.size=s;break;case"bold":p.preset="Custom",p.style.bold=s;break;case"italic":p.preset="Custom",p.style.italic=s;break;case"underline":p.preset="Custom",p.style.underline=s}return p.fontStyleParam=!0,p};return{onStyleChange:function(e,t,a,o,s,r,p){var d={key:a,param:{value:n(e,t,a,s,r,p)},type:"font"};i.setStyleParam(e,t,d),e.documentServices.waitForChangesApplied(function(){var i=e.documentServices.tpa.style.get(t);o({fontParam:i.style.fonts[d.key]})})},onStyleChangeWithoutWixParam:function(t,i,n,o,s,r){i=e.isPlainObject(i)?i:{},"theme"===o?e.assign(i,a(t,s,r)):e.includes(["bold","italic","underline"],o)?e.set(i,["style",o],s):i[o]=s,r?i.displayName=r:delete i.displayName,n({fontParam:i})}}}),define("tpa/settings/uiLib/colorPickerStyleService",["lodash","tpa/services/tpaStyleService"],function(e,t){"use strict";var i=function(t){return!e.isUndefined(t)&&!!e.includes(t,"#")},a=function(e){if(/^rgba\(((\d+),\s*){3}(0?\.\d+)\)$/.test(e)){return e.split(",")[3].split(")")[0]}return 1},n=function(t,i){var a=void 0;if(e.includes(t,"rgba")){var n=t.split(",");n[3]=i+")",a=n.join(",")}else{t=t.replace("#","");a="rgba("+parseInt(t.substring(0,2),16)+","+parseInt(t.substring(2,4),16)+","+parseInt(t.substring(4,6),16)+","+i+")"}return a};return{onStyleChangeWithoutWixParam:function(e,t){var a={};a[i(t)?"value":"themeName"]=t,e({colorParam:a})},onStyleChange:function(e,o,s,r,p){var d=e.documentServices.tpa.style.get(o)||{},c=d.style&&d.style.colors[s]||{},l=a(c.value),g=l?+l:1,m={key:s,param:{value:{opacity:g}},type:"color"};i(p)?m.param.value.rgba=n(p,g):m.param.value.color={name:p},t.setStyleParam(e,o,m),e.documentServices.waitForChangesApplied(function(){(d=e.documentServices.tpa.style.get(o)).style&&d.style.colors&&r({colorParam:d.style.colors[m.key]})})}}}),define("tpa/handlers/editorUILibHandlers",["zepto","lodash","tpa/settings/uiLib/fontPickerStyleService","tpa/settings/uiLib/colorPickerStyleService"],function(e,t,i,a){"use strict";var n=function(t){var i=e("#tpaSettingsFrame").offset();return i?{left:(t.left||0)+(i.left||0),top:(t.top||0)+(i.top||0)}:{left:t.left,top:t.top}},o=function(e,t,i,a){e.theme.colors.update(a),e.documentServices.waitForChangesApplied(function(){var n=e.documentServices.tpa.style.get(t);n.style&&n.style.colors&&i({paletteChange:!0,colors:n.style.colors,palette:a})})},s=function(e){e({panelClose:!0})};return{openColorPicker:function(e,i,r){var p=n(t.pick(i.data,["top","left"])),d=i.data.wixParam,c=i.compId,l=i.data.color||"#ffffff",g=void 0;g=d?a.onStyleChange.bind(null,e,c,d,r):t.partial(a.onStyleChangeWithoutWixParam,r),e.panelManager.openPanel("panels.toolPanels.colorPicker.colorPickerPanel",{value:l,onChange:g,onClose:s.bind(null,r),history:null,palettePresets:e.theme.colors.getColorPresets(),updateSitePalette:o.bind(null,e,c,r),previewOnHover:!1,top:p.top,left:p.left},!0)},openFontPicker:function(e,a,o){var s=a.data.wixParam,r=a.compId,p=n(t.pick(a.data,["top","left"])),d=void 0,c=void 0;s?(c=function(e,i,a){var n=e.documentServices.tpa.style.get(i);if(n&&t.has(n,"style.fonts"))return n.style.fonts[a]}(e,r,s),d=i.onStyleChange.bind(null,e,r,s,o)):(c=t.isPlainObject(a.data.value)?a.data.value:{},d=t.partial(i.onStyleChangeWithoutWixParam,e,c,o)),e.panelManager.openPanel("tpaPanels.uiLib.uiLibTextParamDesignPanel",{title:a.data.title||"Font picker",hideTheme:a.data.hideTheme||!1,hideFont:a.data.hideFont||!1,hideSize:a.data.hideSize||!1,hideStyle:a.data.hideStyle||!1,top:p.top,left:p.left,fontMaxSize:a.data.fontMaxSize,fontMinSize:a.data.fontMinSize,compStyle:c,onStyleChange:d},!0)}}}),define("tpa/handlers/editorPublicDataHandlers",[],function(){"use strict";return{setValue:function(e,t,i){var a=e.components.get.byId(t.compId);e.documentServices.tpa.data.set(a,t.data.key,t.data.value,t.data.scope,i)},removeValue:function(e,t,i){var a=e.components.get.byId(t.compId);e.documentServices.tpa.data.remove(a,t.data.key,t.data.scope,i)},getValue:function(e,t,i){if(t.data.scope===e.documentServices.tpa.data.SCOPE.APP){var a=e.selection.getSelectedComponentData();e.documentServices.tpa.data.app.get(a.applicationId,t.data.key,i)}else{var n=e.components.get.byId(t.compId);e.documentServices.tpa.data.comp.get(n,t.data.key,i)}},getValues:function(e,t,i){if(t.data.scope===e.documentServices.tpa.data.SCOPE.APP){var a=e.selection.getSelectedComponentData();e.documentServices.tpa.data.app.getMulti(a.applicationId,t.data.keys,i)}else{var n=e.components.get.byId(t.compId);e.documentServices.tpa.data.comp.getMulti(n,t.data.keys,i)}}}}),define("tpa/common/editorTPAPostMessageCommon",["lodash"],function(e){"use strict";var t={TPA_MESSAGE:"TPA",TPA_MESSAGE2:"TPA2",TPA_RESPONSE:"TPA_RESPONSE",UI_LIB_RESPONSE:"UI_LIB_RESPONSE",PINGPONG_PREFIX:"pingpong:"},i=function(t,i,a){if(!e.isUndefined(t)){var n="";try{n=JSON.stringify(i)}catch(e){return}t.postMessage||(t=t.contentWindow),t.postMessage(n,a||"*")}},a=function(a,n){var o=t.TPA_RESPONSE;return e.includes(["openColorPicker","openFontPicker"],n.type)&&(o=t.UI_LIB_RESPONSE),function(e){try{i(a,{intent:o,callId:n.callId,type:n.type,res:e,status:!0})}catch(e){}}},n=function(e){return(e.intent===t.TPA_MESSAGE||e.intent===t.TPA_MESSAGE2)&&!o(e)},o=function(e){return"[UNKNOWN]"===e.compId};return{Intents:t,callPostMessage:i,generateResponseFunction:a,isTPAMessage:n,fixOldPingPongMessageType:function(e){return e.replace(t.PINGPONG_PREFIX,"")},handleTPAMessage:function(e,t,i){var o=void 0;try{i.data?o=JSON.parse(i.data):i.originalEvent&&i.originalEvent.data&&(i=i.originalEvent,o=JSON.parse(i.data))}catch(e){return}o&&n(o)&&t(e,o,a(i.source,o))}}}),define("tpa/services/tpaPostMessageService",["lodash","tpa/handlers/editorTPAHandlers","tpa/handlers/editorSettingsModalHandlersService","tpa/handlers/editorUILibHandlers","tpa/handlers/editorPublicDataHandlers","tpa/handlers/editorSuperAppsHandlers","tpa/common/editorTPAPostMessageCommon","tpa/utils/tpaUtils","tpa/constants/constants"],function(e,t,i,a,n,o,s,r,p){"use strict";function d(d,c){var l=i(d),g=function(e){return function(t,i){return Boolean(e[i.type])}},m=[{test:g(n),handlers:n},{test:function(e,t){return Boolean(o[t.type])&&e.documentServices.tpa.app.isSuperAppByCompId(t.compId)},handlers:o},{test:g(t),handlers:t},{test:g(a),handlers:a}],u=function(t,i,a){e.assign(i,{compId:t.selection.getSelectedComponentId()});var n=r.getOpenedPanel(d.panelManager,p.TPA_SETTING_MODAL);if(n&&l[i.type])l[i.type].call(this,i,a,n),t.documentServices.tpa.bi.sendBIEvent(i,"editor");else{var o=function(t,i){var a=e.find(m,function(e){return e.test(t,i)});if(a)return a.handlers[i.type]}(t,i);o?(o.call(this,t,i,a),t.documentServices.tpa.bi.sendBIEvent(i,"editor")):t.documentServices.tpa.handlers(e.assign(i,{originFrame:"editor"}),a)}};return{addListenerToTpaMessage:function(){c("message",s.handleTPAMessage.bind(this,d,u),!1)}}}return d}),define("tpa/handlers/editorTPAPreviewHandlers",["lodash","tpa/constants/constants","tpa/services/tpaHelpService","tpa/services/tpaAddAppService","tpa/appMarket/utils/appMarketUtils","tpa/superApps/superApps"],function(e,t,i,a,n,o){"use strict";var s=function(e,t,i){e.preview.togglePreview();var a=e.components.get.byId(t,i);e.selection.selectComponentByCompRef(a);var n={selectedComponent:e.selection.getSelectedComponents(),origCompId:t};e.panelManager.openPanel("tpa.compPanels.tpaSettings",n)};return{openHelp:function(e,t){e.preview.togglePreview();var a=e.documentServices.tpa.app.getFirstAppCompPageId(t.data),n=e.components.get.byId(a.compId,a.pageId);e.selection.selectComponentByCompRef(n);var o=e.selection.getSelectedComponentData(),s=e.documentServices.tpa.app.getData(o.applicationId),r=o.widgetId||e.documentServices.tpa.app.getMainSectionWidgetData(s).widgetId;i.getHelpId(e,s.appDefinitionId,r,i.HELP_END_POINTS.WIDGET).then(function(t){e.panelManager.openHelpCenter(t,{origin:"preview",component:"TPAWidget",learn_more:!1},{panel_name:"preview",origin:"preview"})})},getViewMode:function(e,t,i){return i(e.getPreviewMode()?"preview":"editor")},openSettingsDialog:function(t,i){if(t.isDesktopEditor()&&t.getPreviewMode()){var a=i.data.pageId,n=i.data.compId,o=[t.documentServices.pages.getFocusedPageId()];t.documentServices.pages.popupPages.isPopupOpened()||o.push(t.pages.getMasterPageId()),e.includes(o,a)?s(t,n,a):t.pages.navigateTo(a,s.bind(void 0,t,n,a))}},deselectComponent:function(e){e.selection.deselectComponents()},editorAddApplication:function(i,s,r){var p=e.get(s,"data.appDefinitionId");a.isAppInstalled(i,p,!0)?r({error:"Application already installed."}):i.isMobileEditor()?r({error:"Can't add application in mobile editor."}):i.documentServices.tpa.appMarket.getDataAsync(p).then(function(d){if(d&&!d.error){var c="Wix"===d.by;if(c){var l=d.hasSection?t.APP.TYPE.SECTION:t.APP.TYPE.WIDGET;l=p===o.superAppsConstants.BLOG_APP_DEF_ID?t.APP.TYPE.APP_PART:l;var g=t.BI.initiator.SDK,m={shouldNavigate:e.get(s,"data.shouldNavigate",!1),pageId:e.get(s,"data.pageId"),showPageAddedPanel:e.get(s,"data.showPageAddedPanel",!1)};a.addApp(i,p,d.name,null,l,g,!c,{adding_method:"sdk"},m,function(t){r(e.pick(t,["instanceId"]))})}else{var u=i.documentServices.tpa.appMarket.getPermissionsUrl({appName:e.get(d,"slug")},p);n.openAppMarketModal(i.panelManager.openPanel,"appMarketPermissionsModal",{url:u}),r()}}else r({error:"Application with "+p+" appDefinitionId do not exist."})})},editorIsApplicationInstalled:function(t,i,n){var o=e.get(i,"data.appDefinitionId");n(a.isAppInstalled(t,o,!0))}}}),define("tpa/services/tpaPreviewPostMessageService",["lodash","tpa/handlers/editorTPAPreviewHandlers","tpa/common/editorTPAPostMessageCommon"],function(e,t,i){"use strict";var a=function(e,i,a){t[i.type].call(this,e,i,a)},n=function(e,t){return function(a){var n={intent:"TPA_PREVIEW",callId:t.callId,type:t.type,res:a,status:!0};i.callPostMessage(e,n)}},o=function(e){return"TPA_PREVIEW"===e.intent};return{init:function(e){window.addEventListener("message",function(e,i){var s=void 0;try{i.data?s=JSON.parse(i.data):i.originalEvent&&i.originalEvent.data&&(i=i.originalEvent,s=JSON.parse(i.data))}catch(e){return}s&&o(s)&&function(e){return Boolean(t[e.type])}(s)&&a(e,s,n(i.source,s))}.bind(this,e),!1)}}}),define("tpa/settings/settings",["lodash","tpa/appMarket/utils/appMarketUtils","experiment","coreUtilsLib"],function(e,t,i,a){"use strict";function n(e){return s[e]+r}function o(t,i){return n(function(t,i){return e.includes(i,t)}(t,function(t){return e.has(t,"settings.languages")?t.settings.languages:[]}(i))?t:"en")}var s={en:116,da:120,sv:120,es:120,tr:128,pl:128,no:128,it:128,fr:128,de:128,ru:128,ja:138,pt:138,nl:138,ko:138},r=288,p=["13afb094-84f9-739f-44fd-78d036adb028","139a41fd-0b1d-975f-6f67-e8cbdf8ccc82","1380bba0-253e-a800-a235-88821cf3f8a4"],d=function(t,a){var n=e.get(t,["widgets",a,"settings"]),o=1!==e.get(n,"version"),s=e.get(n,"urlV2",!1);return o&&s&&function(t,a){return!e.get(t,"abTest")||!(!i.isOpen("se_ecom_galleries_settings2")||!e.includes(p,a))||i.isOpen("se_"+a.replace(/-/g,"_"))}(n,a)},c=function(t,i,a){if(!l("tpa.compPanels.tpaSettings",t.panelManager)){var n=e.merge({selectedComponent:i,origCompId:t.selection.getSelectedComponentId()},a);t.panelManager.openPanel("tpa.compPanels.tpaSettings",n)}},l=function(t,i){var a=i.getOpenPanels();return e.find(a,{name:t})};return{open:function(n,s){s=s||n.selection.getSelectedComponents();var r=n.components.data.get(s),p=n.documentServices.tpa.app.getData(r.applicationId),l=p.appDefinitionId;l?n.documentServices.tpa.appMarket.getDataAsync(l,{verticalsPremium:!0}).then(function(a){var l=r.widgetId||n.documentServices.tpa.app.getMainSectionWidgetData(p).widgetId;!function(a,n,s,r,p){var l=a.appDefinitionId;if(!i.isOpen("se_tpaProvisionOnAdd")&&a.demoMode&&"Wix"!==n.by){var g=s.documentServices.tpa.appMarket.getPermissionsUrl({appName:e.get(n,"slug")},l);g=g.concat("&demoMode=true"),t.openAppMarketModal(s.panelManager.openPanel,"appMarketPermissionsModal",{url:g})}else{var m=e.find(n.widgets,{widgetId:p}),u=d(a,p),h=u?o(s.documentServices.generalInfo.getLanguage(),m):a.settingsWidth;c(s,r,{width:h,isNewVersion:u})}}(p,a,n,s,l)}).catch(function(e){a.log.error(e)}):c(n,s)}}}),define("tpa/services/navigateAndOpenAppService",["lodash","util","tpa/appMarket/services/appMarketTabService","tpa/settings/settings","blog","constants","stateManagement"],function(e,t,i,a,n,o,s){"use strict";var r={},p=function(e,t){var i=c(e,t);i&&a.open(e,i)},d=function(e,t){"61f33d50-3002-4882-ae86-d319c1a249ab"===t?function(e){e.store.dispatch(s.editorPlugins.leftBar.actions.collapseMenu()),e.panelManager.openPanel(o.SUPER_APPS.BLOG_PANEL_NAME,{})}(e):p(e,t)},c=function(e,t){var i=e.documentServices.tpa.app.getFirstAppCompPageId(t,!0);if(i){var a=e.components.get.byId(i.compId,i.pageId);return e.selection.selectComponentByCompRef(a),a}return null};return r.handleIfComingFromETPA=function(a){var n=t.url.getParameterByName("etpa");if(n){if(a.documentServices.tpa.app.getFirstAppCompPageId(n)){var o="settings"===(t.url.getParameterByName("etpaMode")||"settings")?d:c;r.navigateAndScrollToComp(a,n,e.partial(o,a,n))}else i.openAppMarketTab({urlParams:{openAppDefId:n,openMarketOrigin:t.url.getParameterByName("referral_info")}},a.panelManager.openPanel)}},r.navigateAndScrollToComp=function(e,t,i){var a=void 0;(a="61f33d50-3002-4882-ae86-d319c1a249ab"===t?{pageId:n.getBlogPageId(e),compId:void 0}:e.documentServices.tpa.app.getFirstAppCompPageId(t,!0))&&function(e,t,i){t.pageId===e.pages.getMasterPageId()||t.pageId===e.documentServices.pages.getFocusedPageId()?i():e.pages.navigateTo(t.pageId,i)}(e,a,function(){e.pages.scrollToComponent(a.compId,{onComplete:i,onUpdate:function(e){e.getPreviewMode()||(e.shouldUpdateEditorScrollAfterHeightUpdate=!0,e.applyPreviewScrollToEditorScroll())}.bind(null,e)})})},r.navigateAndOpenSettingsForAppDefId=function(t,i){r.navigateAndScrollToComp(t,i,e.partial(d,t,i))},r.openSettingsPanel=function(e,t){p(e,t)},r}),define("tpa/componentsData/addCompKeyToCompTypeMap",[],function(){"use strict";var e={addAccordion:"tpa.viewer.components.Accordion",addAdminLoginButton:"wysiwyg.viewer.components.AdminLoginButton",addAudioPlayer:"wysiwyg.viewer.components.AudioPlayer",addBgImageStrip:"wysiwyg.viewer.components.BgImageStrip",addCollage:"tpa.viewer.components.Collage",addContactForm:"wysiwyg.viewer.components.ContactForm",addDocumentMedia:"wysiwyg.viewer.components.documentmedia.DocumentMedia",addFacebookComment:"wysiwyg.viewer.components.WFacebookComment",addFacebookLike:"wysiwyg.viewer.components.WFacebookLike",addDisqusComment:"wysiwyg.common.components.disquscomments.viewer.DisqusComments",addFacebookShare:"wysiwyg.viewer.components.FacebookShare",addFlashComponent:"wysiwyg.viewer.components.FlashComponent",addFreestyle:"tpa.viewer.components.Freestyle",addGoogleMap:"wysiwyg.viewer.components.GoogleMap",addGooglePlusOne:"wysiwyg.viewer.components.WGooglePlusOne",addHtmlComponent:"wysiwyg.viewer.components.HtmlComponent",addHoneycomb:"tpa.viewer.components.Honeycomb",addImpress:"tpa.viewer.components.Impress",addItunesButton:"wysiwyg.viewer.components.ItunesButton",addLoginButton:"wysiwyg.viewer.components.LoginButton",addMasonry:"tpa.viewer.components.Masonry",addMatrixGallery:"wysiwyg.viewer.components.MatrixGallery",addPaginatedGridGallery:"wysiwyg.viewer.components.PaginatedGridGallery",addPayPalButton:"wysiwyg.viewer.components.PayPalButton",addPinterestFollow:"wysiwyg.viewer.components.PinterestFollow",addSliderGallery:"wysiwyg.viewer.components.SliderGallery",addSlideShowGallery:"wysiwyg.viewer.components.SlideShowGallery",addSocialBar:"wysiwyg.viewer.components.LinkBar",addSoundCloud:"wysiwyg.viewer.components.SoundCloudWidget",addStripShowcase:"tpa.viewer.components.StripShowcase",addStripSlideshow:"tpa.viewer.components.StripSlideshow",addSvgShape:"wysiwyg.viewer.components.svgshape.SvgShape",addThumbnails:"tpa.viewer.components.Thumbnails",addTPA3DCarousel:"wysiwyg.viewer.components.tpapps.TPA3DCarousel",addTPA3DGallery:"wysiwyg.viewer.components.tpapps.TPA3DGallery",addTwitterFollow:"wysiwyg.viewer.components.WTwitterFollow",addTwitterTweet:"wysiwyg.viewer.components.WTwitterTweet",addVideo:"wysiwyg.viewer.components.Video",addVKShare:"wysiwyg.viewer.components.VKShareButton"};return{getCompType:function(t){return e[t]||t}}}),define("tpa/componentsData/componentsDefaultData.json",[],function(){return{"wysiwyg.viewer.components.tpapps.TPA3DCarousel":{layout:{width:803,height:272},componentType:"wysiwyg.viewer.components.tpapps.TPA3DCarousel",data:{type:"ImageList",metaData:{isPreset:!0,schemaVersion:"1.0",isHidden:!1},items:[{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Water Droplets",uri:"cd6a81b7d29d88425609ecc053a00d16.jpg",description:"Describe your image here",width:1e3,height:750},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Budding Tree",uri:"44dab8ba8e2b5ec71d897466745a1623.jpg",description:"Describe your image here",width:1e3,height:750},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Fallen Apples",uri:"8dfce587e3f99f17bba2d3346fea7a8d.jpg",description:"Describe your image here",width:758,height:569},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Cherry Blossom",uri:"3dcc6f56be1f8507181d0197e52d09e8.jpg",description:"Describe your image here",width:1e3,height:750},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Ray of Light",uri:"8fed9ef13904fb85b6b12092c269a465.jpg",description:"Describe your image here",width:750,height:563},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Bloom",uri:"24bba47f40f8473a534ae0301bf748c9.jpg",description:"Describe your image here",width:1e3,height:750},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Dew",uri:"8dde68848c4daae3a6905dc6a17d270e.jpg",description:"Describe your image here",width:800,height:600},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Tranquil forest",uri:"568544c06dafc9d2ab6f4f4496e7d7b9.jpg",description:"Describe your image here",width:800,height:600},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Lilly Pond",uri:"a3ae91861f93fde1b8917291180c5fe0.jpg",description:"Describe your image here",width:700,height:525}]},props:{type:"SlideShowGalleryProperties",metaData:{schemaVersion:"1.0"},expandEnabled:!0,galleryImageOnClickAction:"disabled",goToLinkText:"Go to link",imageMode:"clipImage",transition:"swipeHorizontal",autoplayInterval:5,autoplay:!1,transDuration:1,bidirectional:!0,reverse:!1,showAutoplay:!0,showNavigation:!0,showCounter:!0,showExpand:!1,showSocial:!1},style:"tfc1"},"wysiwyg.viewer.components.tpapps.TPA3DGallery":{layout:{width:790,height:237},componentType:"wysiwyg.viewer.components.tpapps.TPA3DGallery",data:{type:"ImageList",metaData:{isPreset:!0,schemaVersion:"1.0",isHidden:!1},items:[{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Water Droplets",uri:"cd6a81b7d29d88425609ecc053a00d16.jpg",description:"Describe your image here",width:1e3,height:750,alt:""},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Budding Tree",uri:"44dab8ba8e2b5ec71d897466745a1623.jpg",description:"Describe your image here",width:1e3,height:750,alt:""},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Fallen Apples",uri:"8dfce587e3f99f17bba2d3346fea7a8d.jpg",description:"Describe your image here",width:758,height:569,alt:""},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Cherry Blossom",uri:"3dcc6f56be1f8507181d0197e52d09e8.jpg",description:"Describe your image here",width:1e3,height:750,alt:""},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Ray of Light",uri:"8fed9ef13904fb85b6b12092c269a465.jpg",description:"Describe your image here",width:750,height:563,alt:""},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Bloom",uri:"24bba47f40f8473a534ae0301bf748c9.jpg",description:"Describe your image here",width:1e3,height:750,alt:""},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Dew",uri:"8dde68848c4daae3a6905dc6a17d270e.jpg",description:"Describe your image here",width:800,height:600,alt:""},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Tranquil forest",uri:"568544c06dafc9d2ab6f4f4496e7d7b9.jpg",description:"Describe your image here",width:800,height:600,alt:""},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Lilly Pond",uri:"a3ae91861f93fde1b8917291180c5fe0.jpg",description:"Describe your image here",width:700,height:525,alt:""}]},props:{type:"SlideShowGalleryProperties",metaData:{schemaVersion:"1.0"},expandEnabled:!0,galleryImageOnClickAction:"disabled",goToLinkText:"Go to link",imageMode:"clipImage",transition:"swipeHorizontal",autoplayInterval:5,autoplay:!1,transDuration:1,bidirectional:!0,reverse:!1,showAutoplay:!0,showNavigation:!0,showCounter:!0,showExpand:!1,showSocial:!1},style:"tfg1"},"tpa.viewer.components.Accordion":{layout:{width:473,height:270},componentType:"tpa.viewer.components.Accordion",data:{type:"ImageList",metaData:{isPreset:!0,schemaVersion:"1.0",isHidden:!1},items:[{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Water Droplets",uri:"cd6a81b7d29d88425609ecc053a00d16.jpg",description:"Describe your image here",width:1e3,height:750},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Budding Tree",uri:"44dab8ba8e2b5ec71d897466745a1623.jpg",description:"Describe your image here",width:1e3,height:750},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Fallen Apples",uri:"8dfce587e3f99f17bba2d3346fea7a8d.jpg",description:"Describe your image here",width:758,height:569},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Cherry Blossom",uri:"3dcc6f56be1f8507181d0197e52d09e8.jpg",description:"Describe your image here",width:1e3,height:750},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Ray of Light",uri:"8fed9ef13904fb85b6b12092c269a465.jpg",description:"Describe your image here",width:750,height:563},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Bloom",uri:"24bba47f40f8473a534ae0301bf748c9.jpg",description:"Describe your image here",width:1e3,height:750},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Dew",uri:"8dde68848c4daae3a6905dc6a17d270e.jpg",description:"Describe your image here",width:800,height:600},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Tranquil forest",uri:"568544c06dafc9d2ab6f4f4496e7d7b9.jpg",description:"Describe your image here",width:800,height:600},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Lilly Pond",uri:"a3ae91861f93fde1b8917291180c5fe0.jpg",description:"Describe your image here",width:700,height:525}]},props:{type:"AccordionProperties",metaData:{schemaVersion:"1.0"},font:"arial",descFont:"arial",alignText:"left",textMode:"titleOnly",galleryImageOnClickAction:"zoomMode",borderWidth:0,textColor:"#2F2E2E",alphaTextColor:"1",descriptionColor:"#605E5E",alphaDescriptionColor:"1",textBackgroundColor:"#FFFFFF",alphaTextBackgroundColor:"0.8",borderColor:"#FFFFFF",alphaBorderColor:"1"},style:{componentClassName:"tpa.viewer.components.Accordion",pageId:"",compId:"i6rzx2vz",styleType:"custom",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:{properties:{"alpha-color4":"1","alpha-color5":"1",color1:"color_15",color2:"color_14",color3:"color_11",color4:"color_11",color5:"color_15",version:"1","alpha-color1":"1","alpha-color2":"1","alpha-color3":"0.8"},propertiesSource:{color1:"theme",color2:"theme",color3:"theme",color4:"theme",color5:"theme",version:"value"},groups:{}},type:"TopLevelStyle",skin:"wysiwyg.viewer.skins.TPAAccordionSkin"}},"wysiwyg.viewer.components.AdminLoginButton":{layout:{width:125,height:20},componentType:"wysiwyg.viewer.components.AdminLoginButton",data:{type:"LinkableButton",metaData:{isPreset:!0,schemaVersion:"1.0",isHidden:!1},label:"Webmaster Login"},props:{type:"ButtonProperties",metaData:{schemaVersion:"1.0"},align:"center",margin:0},style:"admb0"},"wysiwyg.viewer.components.PaginatedGridGallery":{layout:{width:273,height:204},componentType:"wysiwyg.viewer.components.PaginatedGridGallery",style:"pagg1"},"wysiwyg.viewer.components.AudioPlayer":{layout:{width:42,height:40},componentType:"wysiwyg.viewer.components.AudioPlayer",style:"ap1"},"tpa.viewer.components.Collage":{layout:{width:631,height:846},componentType:"tpa.viewer.components.Collage",data:{type:"ImageList",metaData:{isPreset:!0,schemaVersion:"1.0",isHidden:!1},items:[{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Almond Tree Flowers",uri:"7b45bb77d4727e68f365c65043b64a97.jpg",description:"Describe your image here",width:800,height:750},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Autumn Leaves",uri:"acd902b0f9d63e266ef47931afefa885.jpg",description:"Describe your image here",width:1e3,height:673},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Berry Branches",uri:"905004d09ba3b477e9ea48cb2d33ceac.jpg",description:"Describe your image here",width:2294,height:1524},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Tranquil forest",uri:"568544c06dafc9d2ab6f4f4496e7d7b9.jpg",description:"Describe your image here",width:800,height:600},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Cherry Blossom",uri:"3dcc6f56be1f8507181d0197e52d09e8.jpg",description:"Describe your image here",width:1e3,height:750},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Dramatic Dew Drops",uri:"e216a94ff6d1a540dc14ee2f4beda3be.jpg",description:"Describe your image here",width:800,height:1067},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Echinacea Coneflowers",uri:"dfb23621c1d676831ce35d50b279d1be.jpg",description:"Describe your image here",width:555,height:580},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Fresh Herbs Close Up",uri:"9f5b9d38ec87d4d03d8ee8159af4d307.jpg",description:"Describe your image here",width:600,height:900},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Bloom",uri:"24bba47f40f8473a534ae0301bf748c9.jpg",description:"Describe your image here",width:1e3,height:750},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Lily Pond",uri:"a3ae91861f93fde1b8917291180c5fe0.jpg",description:"Describe your image here",width:700,height:525},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Lush Plants",uri:"7b181c91a72e6c368bb017f85b2f25f4.jpg",description:"Describe your image here",width:1e3,height:1500},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Open Field",uri:"dfcee47a2e2936abb046c3fa6c603ed2.jpg",description:"Describe your image here",width:700,height:814},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Raindrops on Window",uri:"e5433a67390ddeb83e13ebda5ddade7d.jpg",description:"Describe your image here",width:532,height:800},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Budding Tree",uri:"44dab8ba8e2b5ec71d897466745a1623.jpg",description:"Describe your image here",width:1e3,height:750},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Water Droplets",uri:"cd6a81b7d29d88425609ecc053a00d16.jpg",description:"Describe your image here",width:1e3,height:750},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Ray of Light",uri:"8fed9ef13904fb85b6b12092c269a465.jpg",description:"Describe your image here",width:750,height:563},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Tropical Berries Close Up",uri:"e6ab3aad737f5a6e8ddbe92567e164e5.jpg",description:"Describe your image here",width:803,height:1e3},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Stalks of Wheat",uri:"d30a81385011babaecf69c166c78ca8a.jpg",description:"Describe your image here",width:750,height:1e3}]},props:{type:"CollageProperties",metaData:{schemaVersion:"1.0"},font:"arial",alignText:"center",textMode:"titleOnly",galleryImageOnClickAction:"zoomMode",minImageSize:1,maxImageSize:3,margin:5,fitToScreenWidth:!1,showNavButtons:!0,orientation:"vertical",layoutSeed:50,numOfCells:5,textColor:"#2F2E2E",alphaTextColor:"1",descriptionColor:"#605E5E",alphaDescriptionColor:"1",backgroundMouseoverColor:"#FFFFFF",alphaBackgroundMouseoverColor:"0.7"},style:{componentClassName:"tpa.viewer.components.Collage",pageId:"",compId:"i6rzzs7n",styleType:"custom",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:{properties:{"alpha-color4":"1","alpha-color5":"1",color1:"color_15",color2:"color_14",color3:"color_11",color4:"color_15",color5:"color_15",version:"1","alpha-color1":"1","alpha-color2":"1","alpha-color3":"0.7"},propertiesSource:{color1:"theme",color2:"theme",color3:"theme",color4:"theme",color5:"theme",version:"value"},groups:{}},type:"TopLevelStyle",skin:"wysiwyg.viewer.skins.TPACollageSkin"}},"wysiwyg.viewer.components.documentmedia.DocumentMedia":{layout:{width:70,height:90},componentType:"wysiwyg.viewer.components.documentmedia.DocumentMedia",data:{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Document Title",uri:"https://static.parastorage.com/services/skins/2.1144.0/images/wysiwyg/core/themes/editor_web/add_image_thumb.png",width:0,height:0,alt:"",link:{type:"DocumentLink"}},props:{type:"DocumentMediaProperties",metaData:{schemaVersion:"1.0"},showTitle:!0},style:"dm1"},"wysiwyg.viewer.components.WFacebookComment":{layout:{width:555,height:116},componentType:"wysiwyg.viewer.components.WFacebookComment",props:{type:"WFacebookCommentProperties",metaData:{schemaVersion:"1.0"},numPosts:2,width:555,colorScheme:"light",canBeShownOnAllPagesBug:!0},data:{type:"WFacebookComment",urlFormat:"hashBang"},style:"fbc1"},"wysiwyg.common.components.disquscomments.viewer.DisqusComments":{type:"Component",skin:"wysiwyg.common.components.disquscomments.viewer.skins.DisqusCommentsSkin",layout:{width:500,height:325,x:0,y:1,scale:1,rotationInDegrees:0},componentType:"wysiwyg.common.components.disquscomments.viewer.DisqusComments",data:{type:"DisqusComments",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},disqusId:""},style:"disq2"},"wysiwyg.viewer.components.FacebookShare":{layout:{width:71,height:30,rotationInDegrees:0,scale:1,fixedPosition:!1},componentType:"wysiwyg.viewer.components.FacebookShare",data:{type:"FacebookShareButton",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},urlChoice:"Current page",urlFormat:"hashBang",label:"Share"},skin:"skins.viewer.facebookshare.FacebookShareSkin",style:"fs1"},"wysiwyg.viewer.components.WFacebookLike":{layout:{width:250,height:40},data:{type:"WFacebookLike",urlFormat:"hashBang"},componentType:"wysiwyg.viewer.components.WFacebookLike",style:"fbl1"},"wysiwyg.common.components.facebooklikebox.viewer.FacebookLikeBox":{layout:{width:280,height:575},componentType:"wysiwyg.common.components.facebooklikebox.viewer.FacebookLikeBox",data:{type:"FacebookLikeBox",metaData:{isPreset:!0,schemaVersion:"1.0",isHidden:!1},facebookPageId:"wix",colorScheme:"light",showFaces:!0,showStream:!0,showBorder:!0,showHeader:!0},props:{type:"FacebookLikeBoxProperties",metaData:{schemaVersion:"1.0"},transparentBg:!1},style:"FacebookLikeBox_1"},"wysiwyg.viewer.components.FlashComponent":{layout:{width:128,height:128},componentType:"wysiwyg.viewer.components.FlashComponent",data:{type:"LinkableFlashComponent",metaData:{isPreset:!0,schemaVersion:"1.0",isHidden:!1},uri:"",placeHolderImage:{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Default Flash",uri:"7ff659c252dfd1ca5c76533695cb9611.wix_mp",description:"Some description here",width:128,height:128,alt:""}},props:{type:"FlashComponentProperties",metaData:{schemaVersion:"1.0"},displayMode:"original"},style:"swf1"},"tpa.viewer.components.Freestyle":{layout:{width:602,height:600},componentType:"tpa.viewer.components.Freestyle",data:{type:"ImageList",metaData:{isPreset:!0,schemaVersion:"1.0",isHidden:!1},items:[{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Water Droplets",uri:"cd6a81b7d29d88425609ecc053a00d16.jpg",description:"Describe your image here",width:1e3,height:750},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Budding Tree",uri:"44dab8ba8e2b5ec71d897466745a1623.jpg",description:"Describe your image here",width:1e3,height:750},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Fallen Apples",uri:"8dfce587e3f99f17bba2d3346fea7a8d.jpg",description:"Describe your image here",width:758,height:569},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Cherry Blossom",uri:"3dcc6f56be1f8507181d0197e52d09e8.jpg",description:"Describe your image here",width:1e3,height:750},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Ray of Light",uri:"8fed9ef13904fb85b6b12092c269a465.jpg",description:"Describe your image here",width:750,height:563},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Bloom",uri:"24bba47f40f8473a534ae0301bf748c9.jpg",description:"Describe your image here",width:1e3,height:750},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Dew",uri:"8dde68848c4daae3a6905dc6a17d270e.jpg",description:"Describe your image here",width:800,height:600},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Tranquil forest",uri:"568544c06dafc9d2ab6f4f4496e7d7b9.jpg",description:"Describe your image here",width:800,height:600},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Lilly Pond",uri:"a3ae91861f93fde1b8917291180c5fe0.jpg",description:"Describe your image here",width:700,height:525}]},props:{type:"FreestyleProperties",metaData:{schemaVersion:"1.0"},galleryImageOnClickAction:"zoomMode",layoutSeed:50,cropAndFitStage:"fit",imageDecoration:"none",borderWidth:3,orientation:"horizontal",applyRotationInLayout:!0,borderColor:"#2F2E2E",alphaBorderColor:"1"},style:{componentClassName:"tpa.viewer.components.Freestyle",pageId:"",compId:"i6s02gma",styleType:"custom",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:{properties:{"alpha-color4":"1","alpha-color5":"1",color1:"color_15",color2:"color_15",color3:"color_15",color4:"color_15",color5:"color_15",version:"1","alpha-color1":"1","alpha-color2":"1","alpha-color3":"1"},propertiesSource:{color1:"theme",color2:"theme",color3:"theme",color4:"theme",color5:"theme",version:"value"},groups:{}},type:"TopLevelStyle",skin:"wysiwyg.viewer.skins.TPAFreestyleSkin"}},"wysiwyg.viewer.components.WGooglePlusOne":{layout:{width:250,height:24},componentType:"wysiwyg.viewer.components.WGooglePlusOne",style:"gp1"},"wysiwyg.viewer.components.GoogleMap":{layout:{width:500,height:400},componentType:"wysiwyg.viewer.components.GoogleMap",style:"gm1"},"wysiwyg.viewer.components.MatrixGallery":{layout:{width:675,height:712},componentType:"wysiwyg.viewer.components.MatrixGallery",style:"mg1"},"tpa.viewer.components.Honeycomb":{layout:{width:550,height:271},componentType:"tpa.viewer.components.Honeycomb",data:{type:"ImageList",metaData:{isPreset:!0,schemaVersion:"1.0",isHidden:!1},items:[{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Almond Tree Flowers",uri:"7b45bb77d4727e68f365c65043b64a97.jpg",description:"",width:800,height:594},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Autumn Leaves",uri:"acd902b0f9d63e266ef47931afefa885.jpg",description:"",width:1e3,height:673},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Berry Branches",uri:"905004d09ba3b477e9ea48cb2d33ceac.jpg",description:"",width:2294,height:1524},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Tranquil forest",uri:"568544c06dafc9d2ab6f4f4496e7d7b9.jpg",description:"",width:800,height:600},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Cherry Blossom",uri:"3dcc6f56be1f8507181d0197e52d09e8.jpg",description:"",width:1e3,height:750},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Echinacea Coneflowers",uri:"dfb23621c1d676831ce35d50b279d1be.jpg",description:"",width:555,height:580},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Fresh Herbs Close Up",uri:"9f5b9d38ec87d4d03d8ee8159af4d307.jpg",description:"",width:600,height:900},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Lily Pond",uri:"a3ae91861f93fde1b8917291180c5fe0.jpg",description:"",width:700,height:525},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Lush Plants",uri:"7b181c91a72e6c368bb017f85b2f25f4.jpg",description:"",width:1e3,height:1500},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Open Field",uri:"dfcee47a2e2936abb046c3fa6c603ed2.jpg",description:"",width:700,height:814},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Tropical Berries close Up",uri:"e6ab3aad737f5a6e8ddbe92567e164e5.jpg",description:"",width:803,height:1e3},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Stalks of Wheat",uri:"d30a81385011babaecf69c166c78ca8a.jpg",description:"",width:750,height:1e3}]},props:{type:"HoneycombProperties",metaData:{schemaVersion:"1.0"},expandEnabled:!1,galleryImageOnClickAction:"zoomMode",font:"arial",alignText:"left",textMode:"titleAndDescription",margin:1,numOfColumns:4,layoutSeed:50,rolloverAnimation:"colorOnly",imageShape:"hexagon",imageScale:"x1",textColor:"#30BDFF",alphaTextColor:"1",descriptionColor:"#FFFFFF",alphaDescriptionColor:"1",textBackgroundColor:"#2F2E2E",alphaTextBackgroundColor:"1",backgroundMouseoverColor:"#FFFFFF",alphaBackgroundMouseoverColor:"0.7",holesColor:"#FFFFFF",alphaHolesColor:"1"},style:{componentClassName:"tpa.viewer.components.Honeycomb",pageId:"",compId:"i6s04hn3",styleType:"custom",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:{properties:{"alpha-color4":"0.7","alpha-color5":"1",color1:"color_18",color2:"color_1",color3:"color_15",color4:"color_11",color5:"color_11",version:"1","alpha-color1":"1","alpha-color2":"1","alpha-color3":"1"},propertiesSource:{color1:"theme",color2:"theme",color3:"theme",color4:"theme",color5:"theme",version:"value"},groups:{}},type:"TopLevelStyle",skin:"wysiwyg.viewer.skins.TPAHoneycombSkin"}},"wysiwyg.viewer.components.HtmlComponent":{layout:{width:200,height:200},componentType:"wysiwyg.viewer.components.HtmlComponent",data:{type:"HtmlComponent",metaData:{isPreset:!0,schemaVersion:"1.0",isHidden:!1},url:"",sourceType:"external",freezeFrame:!1},style:"htco1"},"tpa.viewer.components.Impress":{layout:{width:980,height:390},componentType:"tpa.viewer.components.Impress",data:{type:"ImageList",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},items:[{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Water Droplets",uri:"cd6a81b7d29d88425609ecc053a00d16.jpg",description:"Describe your image here",width:1e3,height:750,alt:""},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Budding Tree",uri:"44dab8ba8e2b5ec71d897466745a1623.jpg",description:"Describe your image here",width:1e3,height:750,alt:""},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Fallen Apples",uri:"8dfce587e3f99f17bba2d3346fea7a8d.jpg",description:"Describe your image here",width:758,height:569,alt:""},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Cherry Blossom",uri:"3dcc6f56be1f8507181d0197e52d09e8.jpg",description:"Describe your image here",width:1e3,height:750,alt:""},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Ray of Light",uri:"8fed9ef13904fb85b6b12092c269a465.jpg",description:"Describe your image here",width:750,height:563,alt:""},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Bloom",uri:"24bba47f40f8473a534ae0301bf748c9.jpg",description:"Describe your image here",width:1e3,height:750,alt:""},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Dew",uri:"8dde68848c4daae3a6905dc6a17d270e.jpg",description:"Describe your image here",width:800,height:600,alt:""},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Tranquil forest",uri:"568544c06dafc9d2ab6f4f4496e7d7b9.jpg",description:"Describe your image here",width:800,height:600,alt:""},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Lilly Pond",uri:"a3ae91861f93fde1b8917291180c5fe0.jpg",description:"Describe your image here",width:700,height:525,alt:""}]},props:{type:"ImpressProperties",metaData:{schemaVersion:"1.0"},font:"arial",textMode:"titleAndDescription",alignText:"left",autoplayInterval:5,autoplay:!1,galleryImageOnClickAction:"zoomMode",cropAndFitStage:"crop",transition:"random",showPagination:!0,bcgColor1:"#A0A09F",alphaBcgColor1:"1",bcgColor2:"#30BDFF",alphaBcgColor2:"1",bcgColor3:"#41BAAE",alphaBcgColor3:"1",bcgColor4:"#DE5021",alphaBcgColor4:"1",bcgColor5:"#DEC328",alphaBcgColor5:"1",textColor:"#BAE9FF",alphaTextColor:"1",descriptionColor:"#FFFFFF",alphaDescriptionColor:"1",textBackgroundColor:"#605E5E",alphaTextBackgroundColor:"1"},style:{componentClassName:"tpa.viewer.components.Impress",pageId:"",compId:"i6s05c77",styleType:"custom",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:{properties:{"alpha-color4":"1","alpha-color5":"1","alpha-color6":"1","alpha-color7":"1","alpha-color8":"1",color1:"color_13",color2:"color_18",color3:"color_23",color4:"color_28",color5:"color_33",color6:"color_16",color7:"color_1",color8:"color_14","alpha-color1":"1","alpha-color2":"1","alpha-color3":"1"},propertiesSource:{color1:"theme",color2:"theme",color3:"theme",color4:"theme",color5:"theme",color6:"theme",color7:"theme",color8:"theme"},groups:{}},type:"TopLevelStyle",skin:"wysiwyg.viewer.skins.TPAImpressSkin"}},"wysiwyg.viewer.components.ItunesButton":{layout:{width:110,height:40},componentType:"wysiwyg.viewer.components.ItunesButton",data:{type:"ItunesButton",metaData:{isPreset:!0,schemaVersion:"1.0",isHidden:!1},downloadUrl:""},props:{type:"ItunesButtonProperties",metaData:{schemaVersion:"1.0"},language:"en",openIn:"_blank"},style:"ib1"},"tpa.viewer.components.Masonry":{layout:{width:980,height:1450},componentType:"tpa.viewer.components.Masonry",data:{type:"ImageList",metaData:{isPreset:!0,schemaVersion:"1.0",isHidden:!1},items:[{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Bloom",uri:"0bfb60ff6550b68a849ada091f254158.jpg",description:"Describe your image here.  Click me and then 'Organize Images' to change my text.  I'm a great way to display many images along with text to describe them.",width:800,height:1e3},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Fallen Apples",uri:"d5281560853f147420a877b24be7daec.jpg",description:"Describe your image here.  Click me and then 'Organize Images' to change my text.  I'm a great way to display many images along with text to describe them.    When your visitors click on me I can expand or link to anywhere you choose.",width:800,height:536},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Ray Of Light",uri:"84b2ba7d33c6c76e0976354bfeb53223.jpg",description:"Describe your image here.  Click me and then 'Organize Images' to change my text.",width:800,height:800},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Tranquil Forest",uri:"0560932b578ed39cc5ff0d4f9b257496.jpg",description:"Describe your image here.  Click me and then 'Organize Images' to change my text.  I'm a great way to display many images along with text to describe them.",width:800,height:800},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Cherry Blossom ",uri:"c18ef262eff1988801adc0c6cd9f69c2.jpg",description:"Describe your image here.  Click me and then 'Organize Images' to change my text.  I'm a great way to display many images along with text to describe them.    When your visitors click on me I can expand or link to anywhere you choose.",width:800,height:511},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Lily Pond",uri:"ae505cb9630a240ff39bd7e3a6a30e5b.jpg",description:"Describe your image here.  Click me and then 'Organize Images' to change my text.",width:700,height:525},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Budding Tree",uri:"bab38d8e951657c1122c9ef971e512b3.jpg",description:"Describe your image here.  Click me and then 'Organize Images' to change my text.  I'm a great way to display many images along with text to describe them.",width:800,height:800},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Water Droplets",uri:"bbb19657224f3880b7af258ffe1329ec.jpg",description:"Describe your image here.  Click me and then 'Organize Images' to change my text.  I'm a great way to display many images along with text to describe them.    When your visitors click on me I can expand or link to anywhere you choose.",width:800,height:532},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Dew",uri:"e216a94ff6d1a540dc14ee2f4beda3be.jpg",description:"Describe your image here.  Click me and then 'Organize Images' to change my text.",width:800,height:1067}]},props:{type:"MasonryProperties",metaData:{schemaVersion:"1.0"},font:"arial",galleryImageOnClickAction:"zoomMode",numCols:3,margin:25,textMode:"titleAndDescription",alignText:"left",boxShadowIsOn:!0,boxShadow:"0 1px 3px 0 rgba(0,0,0,0.33)",textColor:"#000000",alphaTextColor:"1",descriptionColor:"#000000",alphaDescriptionColor:"1",textBackgroundColor:"#ffffff",alphaTextBackgroundColor:"1",backgroundMouseoverColor:"#000000",alphaBackgroundMouseoverColor:"0.4",textButtonColor:"#2F2E2E",alphaTextButtonColor:"1"},style:{componentClassName:"tpa.viewer.components.Masonry",pageId:"",compId:"i6s06d18",styleType:"custom",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:{properties:{"alpha-color4":"0.4","alpha-color5":"1",color1:"#000000",color2:"#000000",color3:"#ffffff",color4:"#000000",color5:"color_15",version:"2","alpha-color1":"1","alpha-color2":"1","alpha-color3":"1"},propertiesSource:{color1:"value",color2:"value",color3:"value",color4:"value",color5:"theme",version:"value"},groups:{}},type:"TopLevelStyle",skin:"wysiwyg.viewer.skins.TPAMasonrySkin"}},"wysiwyg.viewer.components.LoginButton":{layout:{width:190,height:46},componentType:"wysiwyg.viewer.components.LoginButton",data:{type:"LoginButton",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},language:"en"},style:"lgn0"},"wysiwyg.viewer.components.PayPalButton":{layout:{width:170,height:47},componentType:"wysiwyg.viewer.components.PayPalButton",data:{type:"PayPalButton",metaData:{isPreset:!0,schemaVersion:"1.0",isHidden:!1},merchantID:""},props:{type:"PayPalButtonProperties",metaData:{schemaVersion:"1.0"},buttonType:"buy",itemName:"",itemID:"",organizationName:"",organizationID:"",amount:"",currencyCode:"USD",target:"_blank",showCreditCards:!0,smallButton:!1},style:"ppb0"},"wysiwyg.viewer.components.PinterestFollow":{layout:{width:40,height:20},componentType:"wysiwyg.viewer.components.PinterestFollow",data:{type:"PinterestFollow",metaData:{isPreset:!0,schemaVersion:"1.0",isHidden:!1},urlChoice:"www.pinterest.com/wixcom/",label:"Pinterest"},style:"pf1"},"wysiwyg.common.components.pinterestpinit.viewer.PinterestPinIt":{layout:{width:40,height:20},componentType:"wysiwyg.common.components.pinterestpinit.viewer.PinterestPinIt",data:{type:"PinterestPinIt",metaData:{isPreset:!0,schemaVersion:"1.0",isHidden:!1},uri:"",urlFormat:"hashBang",description:"Check it out!"},props:{type:"PinterestPinItProperties",metaData:{schemaVersion:"1.0"},size:"small",color:"gray",counterPosition:"none"},style:"PinterestPinIt_1"},"wysiwyg.common.components.pinitpinwidget.viewer.PinItPinWidget":{layout:{width:237,height:377,x:385,y:6358},componentType:"wysiwyg.common.components.pinitpinwidget.viewer.PinItPinWidget",data:{type:"PinItPinWidget",metaData:{isPreset:!0,schemaVersion:"1.0",isHidden:!1},pinId:"https://www.pinterest.com/pin/204421270569913516/"},style:"PinItPinWidget_1"},"wysiwyg.common.components.singleaudioplayer.viewer.SingleAudioPlayer":{layout:{width:280,height:68},componentType:"wysiwyg.common.components.singleaudioplayer.viewer.SingleAudioPlayer",style:"SingleAudioPlayer_1"},"wysiwyg.common.components.skypecallbutton.viewer.SkypeCallButton":{layout:{width:56,height:24},componentType:"wysiwyg.common.components.skypecallbutton.viewer.SkypeCallButton",data:{type:"SkypeCallButton",metaData:{isPreset:!0,schemaVersion:"1.0",isHidden:!1},skypeName:"",buttonType:"call"},props:{type:"SkypeCallButtonProperties",metaData:{schemaVersion:"1.0"},imageSize:"medium",imageColor:"blue"},style:"SkypeCallButton_1"},"wysiwyg.viewer.components.SliderGallery":{layout:{width:480,height:160},componentType:"wysiwyg.viewer.components.SliderGallery",style:"sg1"},"wysiwyg.viewer.components.SlideShowGallery":{layout:{width:480,height:360},componentType:"wysiwyg.viewer.components.SlideShowGallery",style:"ssg1"},"wysiwyg.viewer.components.LinkBar":{layout:{width:105,height:30},componentType:"wysiwyg.viewer.components.LinkBar",data:{type:"ImageList",metaData:{isPreset:!0,schemaVersion:"1.0",isHidden:!1},items:[{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Wix Facebook page",uri:"b1cd13f9d4dfb1450bbb325285106177.png",width:128,height:128,alt:"",link:{type:"ExternalLink",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},url:"https://www.facebook.com/wix",target:"_blank"}},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Wix Twitter page",uri:"01113281ebb7dfb57a8dc2a02eb1cb92.png",width:128,height:128,alt:"",link:{type:"ExternalLink",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},url:"http://www.twitter.com/wix",target:"_blank"}},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Wix Google+ page",uri:"806f5f56d9a7b8849f2f2ea71ff5c0cc.png",width:128,height:128,alt:"",link:{type:"ExternalLink",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},url:"https://plus.google.com/117167403531518744294/posts",target:"_blank"}}]},props:{type:"LinkBarProperties",metaData:{schemaVersion:"1.0"},gallery:"social_icons",iconSize:30,spacing:5,bgScale:1,orientation:"HORIZ"},style:"lb1"},"wysiwyg.viewer.components.SoundCloudWidget":{layout:{width:482,height:171},componentType:"wysiwyg.viewer.components.SoundCloudWidget",data:{type:"SoundCloudWidget",metaData:{isPreset:!0,schemaVersion:"1.0",isHidden:!1},url:"",showArtWork:!0,autoPlay:!1},style:"scw1"},"wysiwyg.common.components.spotifyfollow.viewer.SpotifyFollow":{layout:{width:300,height:56},componentType:"wysiwyg.common.components.spotifyfollow.viewer.SpotifyFollow",data:{type:"SpotifyFollow",metaData:{isPreset:!0,schemaVersion:"1.0",isHidden:!1},uri:""},props:{type:"SpotifyFollowProperties",metaData:{schemaVersion:"1.0"},size:"large",theme:"light",showFollowersCount:!0},style:"SpotifyFollow_1"},"wysiwyg.common.components.spotifyplayer.viewer.SpotifyPlayer":{layout:{width:250,height:82},componentType:"wysiwyg.common.components.spotifyplayer.viewer.SpotifyPlayer",data:{type:"SpotifyPlayer",metaData:{isPreset:!0,schemaVersion:"1.0",isHidden:!1},uri:""},props:{type:"SpotifyPlayerProperties",metaData:{schemaVersion:"1.0"},size:"compact",color:"black",style:"list"},style:"SpotifyPlayer_1"},"tpa.viewer.components.StripShowcase":{layout:{width:500,height:500},componentType:"tpa.viewer.components.StripShowcase",data:{type:"ImageList",metaData:{isPreset:!0,schemaVersion:"1.0",isHidden:!1},items:[{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Almond Tree Flowers",uri:"7b45bb77d4727e68f365c65043b64a97.jpg",description:"Describe your image here",width:800,height:750},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Fallen Apples",uri:"8dfce587e3f99f17bba2d3346fea7a8d.jpg",description:"Describe your image here",width:758,height:569},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Autumn Leaves",uri:"acd902b0f9d63e266ef47931afefa885.jpg",description:"Describe your image here",width:1e3,height:673},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Berry Branches",uri:"905004d09ba3b477e9ea48cb2d33ceac.jpg",description:"Describe your image here",width:2294,height:1524},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Tranquil forest",uri:"568544c06dafc9d2ab6f4f4496e7d7b9.jpg",description:"Describe your image here",width:800,height:600},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Cherry Blossom",uri:"3dcc6f56be1f8507181d0197e52d09e8.jpg",description:"Describe your image here",width:1e3,height:750},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Dramatic Dew Drops",uri:"e216a94ff6d1a540dc14ee2f4beda3be.jpg",description:"Describe your image here",width:800,height:1067},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Echinacea Coneflowers",uri:"dfb23621c1d676831ce35d50b279d1be.jpg",description:"Describe your image here",width:555,height:580},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Fresh Herbs Close Up",uri:"9f5b9d38ec87d4d03d8ee8159af4d307.jpg",description:"Describe your image here",width:600,height:900},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Bloom",uri:"24bba47f40f8473a534ae0301bf748c9.jpg",description:"Describe your image here",width:1e3,height:750},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Lily Pond",uri:"a3ae91861f93fde1b8917291180c5fe0.jpg",description:"Describe your image here",width:700,height:525},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Lush Plants",uri:"7b181c91a72e6c368bb017f85b2f25f4.jpg",description:"Describe your image here",width:1e3,height:1500},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Open Field",uri:"dfcee47a2e2936abb046c3fa6c603ed2.jpg",description:"Describe your image here",width:700,height:814},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Raindrops on Window",uri:"e5433a67390ddeb83e13ebda5ddade7d.jpg",description:"Describe your image here",width:532,height:800},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Budding Tree",uri:"44dab8ba8e2b5ec71d897466745a1623.jpg",description:"Describe your image here",width:1e3,height:750},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Water Droplets",uri:"cd6a81b7d29d88425609ecc053a00d16.jpg",description:"Describe your image here",width:1e3,height:750},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Ray of Light",uri:"8fed9ef13904fb85b6b12092c269a465.jpg",description:"Describe your image here",width:750,height:563},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Tropical Berries Close Up",uri:"e6ab3aad737f5a6e8ddbe92567e164e5.jpg",description:"Describe your image here",width:803,height:1e3},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Stalks of Wheat",uri:"d30a81385011babaecf69c166c78ca8a.jpg",description:"Describe your image here",width:750,height:1e3}]},props:{type:"StripShowcaseProperties",metaData:{schemaVersion:"1.0"},galleryImageOnClickAction:"disabled",cropAndFitStage:"fit",imageScale:"4:3",imageMargin:5,showThumbnails:!0,thumbsScale:"4:3",thumbsMargin:5,autoplay:!1,autoplayInterval:5,arrowMode:!1},style:{componentClassName:"tpa.viewer.components.StripShowcase",pageId:"",compId:"i6s28d55",styleType:"custom",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:{properties:{"alpha-color4":"1","alpha-color5":"1",color1:"color_1",color2:"color_15",color3:"color_15",color4:"color_15",color5:"color_15",version:"1","alpha-color1":"0.5","alpha-color2":"1","alpha-color3":"1"},propertiesSource:{color1:"theme",color2:"theme",color3:"theme",color4:"theme",color5:"theme",version:"value"},groups:{}},type:"TopLevelStyle",skin:"wysiwyg.viewer.skins.TPAStripShowcaseSkin"}},"tpa.viewer.components.StripSlideshow":{layout:{width:500,height:500},componentType:"tpa.viewer.components.StripSlideshow",data:{type:"ImageList",metaData:{isPreset:!0,schemaVersion:"1.0",isHidden:!1},items:[{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Lily Pond",uri:"27f904ad057a38ab22a806fba8051170.jpg",description:"Describe your image here.  Click me and then 'Organize Images' to change my text.",width:2560,height:600},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Lily Pond",uri:"632212ab58f9280a24539800cf453443.jpg",description:"Describe your image here.  Click me and then 'Organize Images' to change my text.",width:2560,height:600},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Lily Pond",uri:"f1aba941244eda43f8ed7116ab2a98d4.jpg",description:"Describe your image here.  Click me and then 'Organize Images' to change my text.",width:2560,height:600},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Lily Pond",uri:"60562c9106f4ca8ba07bb4d430935993.jpg",description:"Describe your image here.  Click me and then 'Organize Images' to change my text.",width:2560,height:600}]},props:{type:"StripSlideshowProperties",metaData:{schemaVersion:"1.0"},font:"arial",textMode:"titleAndDescription",alignText:"left",autoplayInterval:5,autoplay:!1,transDuration:1,transition:"scroll",titleColor:"#30BDFF",alphaTitleColor:"1",descriptionColor:"#2F2E2E",alphaDescriptionColor:"1",backgroundColor:"#FFFFFF",alphaBackgroundColor:"0.75"},style:{componentClassName:"tpa.viewer.components.StripSlideshow",pageId:"",compId:"i6s2b7bp",styleType:"custom",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:{properties:{"alpha-color4":"1","alpha-color5":"1",color1:"color_18",color2:"color_15",color3:"color_11",color4:"color_15",color5:"color_15",version:"1","alpha-color1":"1","alpha-color2":"1","alpha-color3":"0.75"},propertiesSource:{color1:"theme",color2:"theme",color3:"theme",color4:"theme",color5:"theme",version:"value"},groups:{}},type:"TopLevelStyle",skin:"wysiwyg.viewer.skins.TPAStripSlideshowSkin"}},"tpa.viewer.components.Thumbnails":{layout:{width:980,height:500},componentType:"tpa.viewer.components.Thumbnails",data:{type:"ImageList",metaData:{isPreset:!0,schemaVersion:"1.0",isHidden:!1},items:[{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Water Droplets",uri:"cd6a81b7d29d88425609ecc053a00d16.jpg",description:"Describe your image here",width:1e3,height:750},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Budding Tree",uri:"44dab8ba8e2b5ec71d897466745a1623.jpg",description:"Describe your image here",width:1e3,height:750},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Fallen Apples",uri:"8dfce587e3f99f17bba2d3346fea7a8d.jpg",description:"Describe your image here",width:758,height:569},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Cherry Blossom",uri:"3dcc6f56be1f8507181d0197e52d09e8.jpg",description:"Describe your image here",width:1e3,height:750},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Ray of Light",uri:"8fed9ef13904fb85b6b12092c269a465.jpg",description:"Describe your image here",width:750,height:563},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Bloom",uri:"24bba47f40f8473a534ae0301bf748c9.jpg",description:"Describe your image here",width:1e3,height:750},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Dew",uri:"8dde68848c4daae3a6905dc6a17d270e.jpg",description:"Describe your image here",width:800,height:600},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Tranquil forest",uri:"568544c06dafc9d2ab6f4f4496e7d7b9.jpg",description:"Describe your image here",width:800,height:600},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Lilly Pond",uri:"a3ae91861f93fde1b8917291180c5fe0.jpg",description:"Describe your image here",width:700,height:525}]},props:{type:"ThumbnailsProperties",metaData:{schemaVersion:"1.0"},font:"arial",cropAndFitStage:"crop",componentScale:"4:3",margin:5,textMode:"titleAndDescription",arrowMode:!0,alignText:"left",autoplayInterval:5,autoplay:!1,transDuration:1,transition:"crossFade",thumbnailsGravity:"bottom",galleryImageOnClickAction:"disabled",textColor:"#FFFFFF",alphaTextColor:"1",descriptionColor:"#FFFFFF",alphaDescriptionColor:"1",textBackgroundColor:"#2F2E2E",alphaTextBackgroundColor:"0.6"},style:{componentClassName:"tpa.viewer.components.Thumbnails",pageId:"",compId:"i6s2bmjp",styleType:"custom",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:{properties:{"alpha-color4":"1","alpha-color5":"1",color1:"color_11",color2:"color_11",color3:"color_15",color4:"color_15",color5:"color_15",version:"1","alpha-color1":"1","alpha-color2":"1","alpha-color3":"0.6"},propertiesSource:{color1:"theme",color2:"theme",color3:"theme",color4:"theme",color5:"theme",version:"value"},groups:{}},type:"TopLevelStyle",skin:"wysiwyg.viewer.skins.TPAThumbnailsSkin"}},"wysiwyg.viewer.components.WTwitterFollow":{layout:{width:183,height:22},componentType:"wysiwyg.viewer.components.WTwitterFollow",data:{type:"TwitterFollow",metaData:{isPreset:!0,schemaVersion:"1.0",isHidden:!1},accountToFollow:"wix"},props:{type:"WTwitterFollowProperties",metaData:{schemaVersion:"1.0"},showCount:!0,width:100,dataLang:"en",showScreenName:!0},style:"tf1"},"wysiwyg.viewer.components.WTwitterTweet":{layout:{width:100,height:20},componentType:"wysiwyg.viewer.components.WTwitterTweet",data:{type:"TwitterTweet",metaData:{isPreset:!0,schemaVersion:"1.0",isHidden:!1},defaultText:"",urlFormat:"hashBang",accountToFollow:""},style:"twt1"},"wysiwyg.viewer.components.Video":{layout:{width:480,height:360},componentType:"wysiwyg.viewer.components.Video",style:"v1"},"wysiwyg.viewer.components.VKShareButton":{layout:{width:100,height:21},componentType:"wysiwyg.viewer.components.VKShareButton",data:{type:"VKShareButton",metaData:{isPreset:!0,schemaVersion:"1.0",isHidden:!1},style:"Button",urlFormat:"hashBang",text:"Share"},props:{type:"VKShareProperties",metaData:{schemaVersion:"1.0"},rightAngles:!1},style:"vks1"},"wysiwyg.viewer.components.ContactForm":{layout:{width:480,height:180},componentType:"wysiwyg.viewer.components.ContactForm",style:"cf1"},"wysiwyg.common.components.youtubesubscribebutton.viewer.YouTubeSubscribeButton":{layout:{width:212,height:55},componentType:"wysiwyg.common.components.youtubesubscribebutton.viewer.YouTubeSubscribeButton",data:{type:"YouTubeSubscribeButton",metaData:{isPreset:!0,schemaVersion:"1.0",isHidden:!1},youtubeChannelId:"wix"},props:{type:"YouTubeSubscribeButtonProperties",metaData:{schemaVersion:"1.0"},layout:"full",theme:"light"},style:"YouTubeSubscribeButton_1"}}}),define("tpa/componentsData/componentsDefaultData",["lodash","tpa/componentsData/componentsDefaultData.json"],function(e,t){"use strict";return{getComponentDefaultData:function(i){return e.cloneDeep(t[i])||{}}}}),define("tpa/componentsData/componentsDefaultDataGenerator",["lodash","zepto","constants","tpa/componentsData/addCompKeyToCompTypeMap","tpa/componentsData/componentsDefaultData"],function(e,t,i,a,n){"use strict";function o(e,a){var n=function(e){var a=e.documentServices.siteSegments.getPagesContainer(),n=e.documentServices.siteSegments.layout.get(a);return{x:n.width/2,y:t(window).scrollTop()+window.innerHeight/2-n.y-i.UI.TOPBAR_HEIGHT}}(e);return{x:n.x-a.width/2,y:n.y-a.height/2}}return{getComponentDefinition:function(t,i){var s=a.getCompType(i.compType),r=n.getComponentDefaultData(s);return new Promise(function(i){require(["addPanelInfra"],function(a){var n=a.componentsDefaultData.getComponentDefault(s);n&&(r.layout=function(t,i){var a={};return e.forIn(i,function(i,n){e.includes(["width","height"],n)&&(a[n]=t?t.stageLayout?t.stageLayout[n]:t.panelLayout[n]:i)}),a}(n,r.layout),r.data=function(t){var i=t&&t.data,a=e.merge({},e.omit(i,"id"),t.stageData);return e.isEmpty(a)?null:a}(n)||r.data,r.props=n.props||r.props);var p=o(t,r.layout);e.merge(r.layout,p),r.type="Component",i(r)})})}}}),define("tpa/appMarket/appMarketHandlers",["lodash","experiment","platform","tpa/appMarket/services/appMarketTabService","tpa/appMarket/utils/appMarketUtils","tpa/services/pendingAppsService","tpa/services/navigateAndOpenAppService","tpa/componentsData/componentsDefaultDataGenerator","tpa/utils/tpaUtils","tpa/constants/constants","tpa/bi/bi","tpa/services/tpaAddAppService","tpa/services/tpaAlertsService","tpa/settings/settings","tpa/packagePicker/packagePicker"],function(e,t,i,a,n,o,s,r,p,d,c,l,g,m,u){"use strict";var h=function(e){n.closeAppMarketModal(e.panelManager.closePanelByName,"appMarketPermissionsModal")},y=function(e){n.closeAppMarketModal(e.panelManager.closePanelByName,"appMarketAppModal")};return{openMarketPopup:function(e,t,i){n.openAppMarketModalWithAppDefinitionId(e.panelManager.openPanel,"appMarketAppModal",{url:t.params.url,appDefinitionId:t.params.appDefinitionId,onClose:i})},closeMarketPopup:y,openDeletePopupMessage:function(t,i){var n=e.get(i,"params.appDefinitionId"),o=function(e,t){var i=e.documentServices.tpa.app.getDataByAppDefId(t);i&&(e.documentServices.tpa.app.hasMainSection(i)?e.panelManager.openPanel("tpa.message.cannotDeleteSection",{title:"tpa_messages_oops_title",appName:i.appDefinitionName,appDefId:i.appDefinitionId},!0):e.panelManager.openPanel("tpaPanels.message.deleteTPAWidgetInstructions",{appName:i.appDefinitionName,appDefId:i.appDefinitionId},!0))}.bind(null,t,n);a.closeAppMarketTab(t.panelManager.closePanelByName),s.navigateAndScrollToComp(t,n,o)},openTPAUpgradeModal:function(t,i){var n=e.get(i,"params.appDefinitionId"),o=e.partial(u.startUpgradeFlow,t,n,!0);a.closeAppMarketTab(t.panelManager.closePanelByName),s.navigateAndScrollToComp(t,n,o)},openModal:function(e,t){n.openAppMarketModalWithAppDefinitionId(e.panelManager.openPanel,"appMarketPermissionsModal",{url:t.params.url,appDefinitionId:t.params.appDefinitionId})},closeModal:h,openAppMarketModal:function(e,t){t.params.shouldTranslateTitle=void 0!==t.params.shouldTranslateTitle&&t.params.shouldTranslateTitle,e.ui.focus.setOnEditor(),n.openAppMarketModal(e.panelManager.openPanel,"appMarketModal",t.params)},closeAppMarketModal:function(e,t){n.closeAppMarketModalById(e,t.params.id)},closeAppMarket:function(e){n.closeAppMarket(e.panelManager.closePanelByName)},openAppMarketHelp:function(e){n.openAppMarketHelp(e)},addComponentToSite:function(e,t){var i=t.params,n=i&&i.pageId||e.documentServices.pages.getFocusedPageId(),o=e.documentServices.pages.getReference(n);r.getComponentDefinition(e,i).then(function(t){e.components.add(o,t,void 0,function(t){e.selection.selectComponentByCompRef(t),e.history.add("add component from app market"),p.bi.reportAddComponentBIEvent(e,t.id,i.type,i.biData)}),a.closeAppMarketTab(e.panelManager.closePanelByName)})},getUserDetails:function(e,t,i){var a=e.documentServices.generalInfo.getUserInfo();i(a&&a.name||"")},getPendingAppsList:function(e,t,i){i(o.getPendingApps(e))},addAppToSite:function(n,o){var s=e.get(o,"params.appDefinitionDataObj"),r=e.get(s,"appDefinitionId"),c=o.params.widgetId,u=n.documentServices.pages.getFocusedPageId(),P=n.documentServices.tpa.app.getDataByAppDefId(r),f=o.params.biData,v=o.params.is_permissions_app;if(o.params.provision_demo_app){var I=function(){m.open(n,n.selection.getSelectedComponents()),p.bi.reportTpaAddedBiEvent(n,r,c,u,null,!0,v,f,!0)},_=function(){g.openProvisionFailedAlert(n.panelManager.openPanel,r)};t.isOpen("se_tpaProvisionOnAdd")?n.saveManager.saveInBackground(I,_):n.documentServices.tpa.provision.provisionAppDemoSave(P.applicationId,I,_)}else{var A=o.params.type,S=function(t){return"ADD_PANEL"===e.get(t,"params.biData.referral_info")?d.BI.initiator.EDITOR:d.BI.initiator.APP_MARKET}(o),w=e.get(s,"appName"),D={widgetId:c,showPageAddedPanel:!e.get(s,"doNotShowPageAddedPanel"),x:o.params.x,y:o.params.y,shouldNavigate:!0},T={initiator:i.constants.ORIGIN.INITIATOR.EDITOR,info:{type:i.constants.ORIGIN.TYPE.APP_MARKET}};l.addApp(n,r,w,P,A,S,v,f,D,e.noop,T)}h(n),y(n),a.closeAppMarketTab(n.panelManager.closePanelByName)},appIsInstalled:function(t,i,a){var n=e.get(i,"params.appDefinitionId"),o=e.get(i,"params.includingDemoMode");a(l.isAppInstalled(t,n,o))},removePendingApp:function(e,t){o.dismiss(e,t.params.id)},addPendingApp:function(e,t){o.add(e,t.params.id)},save:function(e,t,i){e.documentServices.generalInfo.isFirstSave()?e.saveManager.saveInBackground(function(){i({response:"success",metaSiteId:e.documentServices.generalInfo.getMetaSiteId()})},function(){g.openSaveFailedAlertForAppMarket(e),i({response:"site was not saved."})}):i({response:"success",metaSiteId:e.documentServices.generalInfo.getMetaSiteId()})},openApp:function(t,i){var n=e.get(i,"params.appDefinitionId");p.bi.reportBIOnAppIntent(t,c.events.APP_INTENT,n,d.BI.initiator.EDITOR,d.BI.type.OPENAPP_SETTINGS),a.closeAppMarketTab(t.panelManager.closePanelByName),s.navigateAndOpenSettingsForAppDefId(t,n)},setAppMarketState:function(t,i){var a=e.get(i,"params.state","");n.setAppMarketSessionUserPrefs(t,{state:a})},isDevMode:function(e,t,i){i({isDevMode:p.isInDevMode()})}}}),define("tpa/appMarket/utils/appMarketPostMessageUtils",["tpa/common/editorTPAPostMessageCommon","tpa/appMarket/utils/appMarketUtils"],function(e,t){"use strict";var i={OPEN_MARKET_POPUP:"openMarketPopup",CLOSE_MARKET_POPUP:"closeMarketPopup",OPEN_MODAL:"openModal",CLOSE_MODAL:"closeModal",ADD_APP_TO_SITE:"addAppToSite",ADD_COMPONENT_TO_SITE:"addComponentToSite",GET_USER_DETAILS:"getUserDetails",GET_PENDING_APPS_LIST:"getPendingAppsList",APP_IS_INSTALLED:"appIsInstalled",REMOVE_PENDING_APP:"removePendingApp",ADD_PENDING_APP:"addPendingApp",OPEN_APP_MARKET_MODAL:"openAppMarketModal",CLOSE_APP_MARKET_MODAL:"closeAppMarketModal",CLOSE_APP_MARKET:"closeAppMarket",OPEN_APP_MARKET_HELP:"openAppMarketHelp",SAVE:"save",OPEN_APP:"openApp",SET_APP_MARKET_STATE:"setAppMarketState",IS_DEV_MODE:"isDevMode",OPEN_DELETE_POPUP_MESSAGE:"openDeletePopupMessage",OPEN_TPA_UPGRADE_MODAL:"openTPAUpgradeModal"},a=function(e){return i[e]};return{getMethodName:a,isAppMarketMessage:function(e){return"APP_MARKET"===e},shouldHandleMessage:function(e){return!!a(e)},sendOnOpenEvent:function(i){e.callPostMessage(i,{eventType:"ON_MARKET_OPEN"},t.getAppMarketTargetOrigin())},sendMessageToAppMarket:function(i,a,n){var o={eventType:"ON_COMMAND_RESPONSE",callerId:a,params:n};e.callPostMessage(i,o,t.getAppMarketTargetOrigin())}}}),define("tpa/appMarket/services/appMarketPostMessageService",["lodash","tpa/appMarket/appMarketHandlers","tpa/appMarket/utils/appMarketPostMessageUtils"],function(e,t,i){"use strict";var a=function(e,a,n){var o=i.getMethodName(a.cmd);t[o].apply(this,[e,a,n])},n=function(e,t){var n=void 0;try{t.data?n=JSON.parse(t.data):t.originalEvent&&t.originalEvent.data&&(t=t.originalEvent,n=JSON.parse(t.data))}catch(e){return}n&&i.isAppMarketMessage(n.intent)&&i.shouldHandleMessage(n.cmd)&&a(e,n,o(t.source,n))},o=function(e,t){return function(a){i.sendMessageToAppMarket(e,t.id,a)}};return{init:function(e){window.addEventListener("message",n.bind(this,e),!1)},callHandler:a,handleAppMarketMessage:n}}),define("tpa/services/tpaCompNameService",["lodash"],function(e){"use strict";return{getCompName:function(t,i){var a=t.components.data.get(i),n=t.documentServices.tpa.app.getData(a.applicationId),o=t.documentServices.tpa.appMarket.getData(n.appDefinitionId);if(o){var s=e.find(o.widgets,{widgetId:a.widgetId});return s?s.title:o.name}return n.appDefinitionName}}}),define("tpa/settings/frames/tpaSettingsPanelFrame.rt",["react","lodash","symbols","baseUI","baseUILib"],function(e,t,i,a,n){"use strict";return function(){return e.createElement("div",function(e,i){var a=t.assign({},e,i);return e.hasOwnProperty("style")&&(a.style=t.defaults(a.style,e.style)),e.hasOwnProperty("className")&&i.hasOwnProperty("className")&&(a.className=i.className+" "+e.className),a}({className:"tpa-settings-panel-frame"},this.getPanelProps()),e.createElement(n.PanelHeader,{className:"dragger dark",onMouseDown:function(e){this.startDrag(e,this.getDragLimits())}.bind(this),onHelp:this.props.openHelpCenter,onClose:this.props.close},e.createElement("span",{},this.props.title)),this.props.shouldAddScroll?e.createElement(n.CustomScroll,{key:"scroll"},e.createElement("div",{className:"content",style:this.getContentStyle()},this.props.children)):null,this.props.shouldAddScroll?null:e.createElement("div",{key:"noScroll",className:"content",style:this.getContentStyle()},this.props.children))}}),define("tpa/settings/frames/tpaSettingsPanelFrame",["lodash","create-react-class","prop-types","core","util","panels","higherOrderComponents","constants","tpa/settings/frames/tpaSettingsPanelFrame.rt"],function(e,t,i,a,n,o,s,r,p){"use strict";var d=["width","top","left"],c=t({displayName:r.PANEL_TYPES.TPA_SETTINGS,mixins:[n.draggableMixin,o.mixins.panelDragLimitsMixin,a.mixins.editorAPIMixin],propTypes:{panelName:i.string.isRequired,title:i.string.isRequired,width:i.number,height:i.number,top:i.string,left:i.string,onHelpClicked:i.func,shouldAddScroll:i.bool.isRequired},getInitialState:function(){return{showHelp:!1}},getPanelProps:function(){var t=this,i=e.filter(d,function(e){return t.props[e]}),a=e.pick(this.props,i);return e.defaults({style:a},e.pick(this.props,["className","style"]))},toggleHelp:function(){var e=!this.state.showHelp;this.setState({showHelp:e})},getContentStyle:function(){return{height:e.isNumber(this.props.height)?this.props.height+"px":"100%"}},render:p});return s.panelFrame(r.PANEL_TYPES.TPA_SETTINGS)(c)}),define("tpa/settings/compPanels/tpaSettings.rt",["react","lodash","baseUI","util","constants","tpa/settings/frames/tpaSettingsPanelFrame"],function(e,t,i,a,n,o){"use strict";return function(){return e.createElement(o,t.assign({},{className:t({"tpa-settings-panel-frame-padding":!this.state.isNewVersion,version2:this.state.isNewVersion}).transform(function(e,t,i){t&&e.push(i)},[]).join(" "),title:this.getAppName(),width:this.state.width,height:this.state.isNewVersion?this.state.height:null,ref:"tpaSettingsFrame",top:n.UI.TOPBAR_HEIGHT+24+"px",left:"78px",onHelpClicked:this.onHelpClicked,shouldAddScroll:!this.state.isNewVersion},this.getFrameProps()),e.createElement("div",{className:t({"tpa-settings-iframe-wrapper":!0,"tpa-settings-iframe-wrapper-padding":!this.state.isNewVersion}).transform(function(e,t,i){t&&e.push(i)},[]).join(" "),style:this.getDialogStyle()},this.shouldShowPreloader()?e.createElement("div",{key:"preloader",className:"tpa-preloader"},e.createElement("div",{},e.createElement(i.preloader,{}),e.createElement("div",{className:"text"},a.translate("tpa_loading_settings"),"."))):null,this.state.overlay===this.OVERLAY_STATE.UNRESPONSIVE?e.createElement("div",{key:"unavailableMessage",className:"tpa-unresponsive"},e.createElement("header",{},e.createElement(i.symbol,{name:"alert"}),"\n                ",a.translate("tpa_oops"),"\n            "),e.createElement("div",{id:"textContainer"},e.createElement("span",{id:"text",dangerouslySetInnerHTML:{__html:this.getUnresponsiveText()}}),e.createElement("span",{id:"dismissButton",onClick:this.refs.tpaSettingsFrame.openHelpCenter},e.createElement("a",{}," ",this.getAppName()," ")),e.createElement("span",{id:"text_2",dangerouslySetInnerHTML:{__html:this.getUnresponsiveContact()}}))):null,e.createElement("iframe",{scrolling:"no",frameBorder:"0",marginHeight:"0",marginWidth:"0",className:"tpa-iframe",width:"100%",height:this.getIframeHeight(),id:"tpaSettingsFrame",src:this.state.url})))}}),define("tpa/common/withOnCloseMessage",["react","create-react-class","prop-types","core"],function(e,t,i,a){"use strict";return function(n){var o=t({mixins:[a.mixins.editorAPIMixin],displayName:"closeMessageWrapperFor-"+n.displayName,propTypes:{onClose:i.func,shouldCloseModal:i.bool,closeModalMessage:i.any,panelName:i.string.isRequired},componentWillUnmount:function(){this.props.onClose&&this.props.onClose(this.props.closeModalMessage)},componentWillReceiveProps:function(e){e.shouldCloseModal&&this.getEditorAPI().panelManager.closePanelByName(this.props.panelName)},render:function(){return e.createElement(n,this.props)}});return o._BaseClass=n,o}}),define("tpa/settings/compPanels/tpaSettings",["lodash","create-react-class","prop-types","zepto","compPanels","tpa/bi/bi","util","stateManagement","tpa/utils/tpaUtils","tpa/services/tpaCompNameService","tpa/services/tpaHelpService","tpa/services/tpaAlertsService","tpa/settings/compPanels/tpaSettings.rt","tpa/constants/constants","tpa/common/withOnCloseMessage","constants","experiment"],function(e,t,i,a,n,o,s,r,p,d,c,l,g,m,u,h,y){"use strict";var P=528;return u(t({ALIVE_TIMEOUT:2e4,STYLES_READY_SDK_VERSION:"1.64.0",OVERLAY_STATE:{PRELOADER:"preloader",UNRESPONSIVE:"unresponsive",NONE:"none"},mixins:[n.compPanelMixin],displayName:"TPASettings",propTypes:{width:i.string},getDefaultProps:function(){return{panelName:"tpa.compPanels.tpaSettings"}},getInitialState:function(){var t=this.getEditorAPI();this.selectedComponent=e.isArray(this.props.selectedComponent)?this.props.selectedComponent[0]:this.props.selectedComponent,this.data=t.components.data.get(this.selectedComponent),this.appData=t.documentServices.tpa.app.getData(this.data.applicationId),this.maxScreenHeight=a(window).height()-126;var i=!!this.props.isNewVersion;if(this.helpId="",this.appDataIsValid()){var n=this.getContentSize(i);return{url:!y.isOpen("se_tpaProvisionOnAdd")&&this.appData.demoMode||y.isOpen("se_tpaProvisionOnAdd")&&this.appData.notProvisioned?void 0:this.getUrl(),width:this.props.width||n.width,height:n.height,overlay:this.OVERLAY_STATE.PRELOADER,isNewVersion:i}}return{width:400,height:200}},appDataIsValid:function(){return!(e.isArray(this.appData)&&0===e.size(this.appData)||e.isObject(this.appData)&&e.isEmpty(this.appData))},componentDidMount:function(){var t=this,i=this.getEditorAPI();if(this.isAppReady(this.props)||(this._appAliveTimeout=window.setTimeout(this.onAppAliveTimeoutExpires,this.ALIVE_TIMEOUT)),i.store.dispatch(r.editorPlugins.leftBar.actions.collapseMenu()),this.appDataIsValid()){if(y.isOpen("se_tpaProvisionOnAdd")&&this.appData.notProvisioned){var a=e.partial(l.openProvisionFailedAlert,i.panelManager.openPanel,this.appData.appDefinitionId);i.saveManager.saveInBackground(function(){t.reportTpaAddedBiEvent(i),t.setState({url:t.getUrl()})},a)}else if(this.appData.demoMode){i.documentServices.tpa.provision.provisionAppDemoSave(this.appData.applicationId,function(){t.appData=i.documentServices.tpa.app.getData(t.data.applicationId),t.setState({url:t.getUrl()}),t.reportTpaAddedBiEvent(i)},function(){l.openProvisionFailedAlert(i.panelManager.openPanel,t.appData.appDefinitionId),t.setState({overlay:t.OVERLAY_STATE.UNRESPONSIVE})})}}else this.setState({overlay:this.OVERLAY_STATE.UNRESPONSIVE});this.panelOpenTime=this.getTime();var n={app_id:this.appData.appDefinitionId,app_site_id:this.appData.instanceId,instance_id:this.props.origCompId};i.bi.event(o.events.TPA_OPEN_SETTINGS,n)},componentWillReceiveProps:function(t){this.helpId=e.get(t,"articleId");var i=this.getEditorAPI();i.components.is.exist(this.props.selectedComponent)||i.panelManager.closePanelByName(this.props.panelName),this.isAppReady(t)&&this.setState({overlay:this.OVERLAY_STATE.NONE})},reportTpaAddedBiEvent:function(e){var t=e.documentServices.generalInfo.isFirstSave()?e.documentServices.generalInfo.getMetaSiteId():"",i={is_permissions_app:"Wix"===this.appData.by?0:1,is_first:1,app_id:this.appData.appDefinitionId,widget_id:this.data.widgetId,app_site_id:this.appData.instanceId,instance_id:this.props.origCompId,category:"",section:"",search_term:"",item_position:"",referral_info_category:"",referral_info:"",template_guid:t,modal_tab_name:"",origin:"template_provision",adding_method:"template",page_id:e.documentServices.pages.getFocusedPageId()};e.bi.event(o.events.TPA_ADDED,i)},getContentSize:function(e){var t=this.isSection()?this.appData.widgets[this.data.widgetId].settings:this.appData.sectionSettings;return{height:function(e,t){return t=parseInt(t,10),e?Math.min(P,t):t}(e,t.height),width:parseInt(t.width,10)}},isSection:function(){return this.appData.widgets&&this.data.widgetId},getUrl:function(){var e=this.getEditorAPI(),t=this.data.widgetId||e.documentServices.tpa.app.getMainSectionWidgetData(this.appData).widgetId;return e.documentServices.tpa.app.url.getSettingsUrl(this.appData.applicationId,t,this.props.origCompId,{width:this.props.width,isNewVersion:this.props.isNewVersion,bi:p.bi.getAppIntentBiParamsToAddToUrl(e,this.appData.appDefinitionId,m.BI.type.GFPP_SETTINGS)})},getDialogStyle:function(){var t="100%";return this.state.isNewVersion||(t=this.state.overlay===this.OVERLAY_STATE.NONE?"100%":e.min([this.maxScreenHeight,this.state.height])),{height:t,position:"relative"}},getIframeHeight:function(){return this.state.isNewVersion?"100%":this.state.height},onAppAliveTimeoutExpires:function(){this.showUnresponsiveOverlay()},showUnresponsiveOverlay:function(){this.isAppReady(this.props)?(this.clearAliveTimeout(),this.setState({overlay:this.OVERLAY_STATE.NONE})):(this.reportBIAppNotResponsive(),this.setState({overlay:this.OVERLAY_STATE.UNRESPONSIVE}))},reportBIAppNotResponsive:function(){var t=this.getEditorAPI(),i=this.data.widgetId?e.get(this.appData.widgets,this.data.widgetId):t.documentServices.tpa.app.getMainSectionWidgetDataFromApplicationId(this.data.applicationId),a={endpoint:e.get(i,"settings.url"),app_id:this.appData.appDefinitionId};t.documentServices.bi.error(o.errors.APP_IS_NOT_RESPONSIVE,a)},getTime:function(){return Date.now()},sendClosePanelBI:function(){var e=this.getEditorAPI(),t=this.props.origCompId,i={app_id:this.appData.appDefinitionId,app_site_id:this.appData.instanceId,instance_id:t,seconds_opened:parseInt((this.getTime()-this.panelOpenTime)/1e3,10)};e.bi.event(o.events.TPA_CLOSE_SETTINGS,i)},componentWillUnmount:function(){this.clearAliveTimeout(),this.sendClosePanelBI()},clearAliveTimeout:function(){this._appAliveTimeout&&window.clearTimeout(this._appAliveTimeout)},isAppReady:function(t){var i=e.get(t,"sdkVersion")||this.props.sdkVersion;return p.sdkVersionIsAtLeast(i,this.STYLES_READY_SDK_VERSION)?this.shouldShowSettingsPanelFromStyleReadyEvent(t):this.shouldShowSettingsPanelFromIsAliveEvent(t)},shouldShowSettingsPanelFromStyleReadyEvent:function(t){return e.get(t,"stylesReady")||!1},shouldShowSettingsPanelFromIsAliveEvent:function(t){return e.get(t,"isAlive")||!1},shouldShowPreloader:function(){return!this.isAppReady(this.props)&&this.state.overlay===this.OVERLAY_STATE.PRELOADER||!0===this.appData.demoMode&&!y.isOpen("se_tpaProvisionOnAdd")},onHelpClicked:function(){var t=this.getEditorAPI(),i=o.events.TPA_HELP_CLICK,a=this.data.widgetId||t.documentServices.tpa.app.getMainSectionWidgetData(this.appData).widgetId,n={widget_id:a,app_id:this.appData.appDefinitionId,origin:"settings"},s=this.props.panelName,r={openPanelBiEvent:i,openPanelBiParams:e.merge({help_status:"open"},n),closePanelBiEvent:i,closePanelBiParams:e.merge({help_status:"close"},n),origin:"settings"},p={panel_name:s,origin:h.BI.HELP.ORIGIN.PANEL,component:t.selection.getSelectedComponentType(),learn_more:!1};this.helpId?t.panelManager.openHelpCenter(this.helpId,r,p):c.getHelpId(t,this.appData.appDefinitionId,a,c.HELP_END_POINTS.SETTINGS).then(function(e){t.panelManager.openHelpCenter(e,r,p)})},getUnresponsiveText:function(){var t=this.appData.appDefinitionName;if(t){return e.template(s.translate("tpa_unavail_problems"))({appName:t})}},getAppName:function(){var e=this.getEditorAPI();return e.components.is.exist(this.props.selectedComponent)?d.getCompName(e,this.selectedComponent):""},getUnresponsiveContact:function(){if(!e.isEmpty(this.appData))return s.translate("tpa_unavail_problems_2")},render:g}))}),define("tpa/compPanels/appMarketPanel.rt",["react","lodash","panels","experiment"],function(e,t,i,a){"use strict";return function(){return e.createElement(i.frames.leftPanelFrame,t.assign({},{panelName:this.props.panelName,label:a.isOpen("appMarketNoHeader")?void 0:this.translateIfNeeded("app_market_title"),className:this.getAppMarketPanelClass(),panelClass:this.getAppMarketContainingPanelClass(),panelIndex:this.props.panelIndex},this.getPanelProps()),e.createElement("iframe",{src:this.state.appMarketUrl,className:this.getAppMarketIframeClass(),frameBorder:"0",scrolling:"no"}))}}),define("tpa/compPanels/appMarketPanel",["lodash","create-react-class","prop-types","core","util","tpa/appMarket/utils/appMarketUtils","tpa/compPanels/appMarketPanel.rt","tpa/bi/bi","helpIds","experiment"],function(e,t,i,a,n,o,s,r,p,d){"use strict";function c(){var e=["app-market-panel-20"];return d.isOpen("appMarketNoHeader")&&e.push("no-header"),e}return t({displayName:"AppMarketPanel",propTypes:{urlParams:i.shape({openMarketOrigin:i.string.isRequired,referralInfoCategory:i.string,section:i.string,openAppDefId:i.string,appDefinitionId:i.string,categorySlug:i.string,query:i.string,tags:i.string,tests:i.string}).isRequired,helpId:i.string.isRequired},mixins:[n.translationMixin,a.mixins.editorAPIMixin],getInitialState:function(){return{appMarketUrl:function(t,i){var a={};return"market_button"===i.openMarketOrigin&&(a=o.getAppMarketUrlParams()),e.assign(a,i),a.origin=o.origin(),a.newUrl=!0,a.state=e.get(o.getAppMarketSessionUserPrefs(t),"state",""),t.documentServices.tpa.appMarket.getUrl(a)}(this.getEditorAPI(),this.props.urlParams)}},getDefaultProps:function(){return{panelName:"tpa.compPanels.appMarketPanel",helpId:p.EXTERNAL.APP_MARKET}},timeMarketOpened:void 0,openMarketOrigin:void 0,getTime:function(){return Date.now()},componentDidMount:function(){this.timeMarketOpened=this.getTime(),this.openMarketOrigin=this.props.urlParams&&this.props.urlParams.openMarketOrigin},componentWillUnmount:function(){var e={open_origin:this.openMarketOrigin,seconds_opened:parseInt((this.getTime()-this.timeMarketOpened)/1e3,10)};this.getEditorAPI().bi.event(r.events.MARKET_CLOSED,e)},getPanelProps:function(){return{urlParams:this.props.urlParams,onHelpClicked:this.onHelpClicked,helpId:this.props.helpId}},onHelpClicked:function(){this.getEditorAPI().bi.event(r.events.MARKET_HELP_CLICK)},getAppMarketContainingPanelClass:function(){var e=c();return d.isOpen("appMarketResponsivePanel")&&e.push("app-market-responsive"),e.join(" ")},getAppMarketIframeClass:function(){return d.isOpen("appMarketResponsivePanel")?"app-market-frame-responsive":"app-market-frame-20"},getAppMarketPanelClass:function(){return c().join(" ")},render:s})}),define("tpa/compModals/appMarketAppModal.rt",["react","lodash","panels"],function(e,t,i){"use strict";return function(){return e.createElement(i.frames.focusPanelFrame,{panelName:this.props.panelName,title:this.translateIfNeeded("app_market_title"),shouldHideHelp:!0,onClose:this.onClose},e.createElement("div",{className:"app-market-app-modal-container"},e.createElement("iframe",{src:this.props.iframeUrl,width:"100%",height:"100%",frameBorder:"0"})))}}),define("tpa/compModals/appMarketAppModal",["create-react-class","prop-types","core","util","tpa/compModals/appMarketAppModal.rt"],function(e,t,i,a,n){"use strict";return e({propTypes:{onClose:t.func.isRequired},displayName:"appMarketAppModal",mixins:[a.translationMixin,i.mixins.editorAPIMixin],render:n,onClose:function(){this.getEditorAPI().panelManager.closePanelByName(this.props.panelName),this.props.onClose&&this.props.onClose()}})}),define("tpa/compModals/appMarketPermissionsModal.rt",["react","lodash","panels"],function(e,t,i){"use strict";return function(){return e.createElement(i.frames.focusPanelFrame,{panelName:this.props.panelName,title:this.getTitle(),onClose:this.onClose,shouldHideHelp:!0},e.createElement("div",{className:"app-market-permissions-modal-container"},e.createElement("iframe",{src:this.props.iframeUrl,className:"app-market-permissions-modal",width:"100%",height:"100%",frameBorder:"0"})))}}),define("tpa/compModals/appMarketPermissionsModal",["lodash","create-react-class","core","util","tpa/compModals/appMarketPermissionsModal.rt","tpa/bi/bi","experiment"],function(e,t,i,a,n,o,s){"use strict";return t({displayName:"appMarketPermissionsModal",mixins:[a.translationMixin,i.mixins.editorAPIMixin],onClose:function(){var e={closing_method:"X",app_id:this.props.appDefinitionId};return this.getEditorAPI().bi.event(o.events.PERMISSION_MODAL_CLOSED,e),!0},getTitle:function(){return!s.isOpen("se_tpaProvisionOnAdd")&&e.includes(this.props.iframeUrl,"demoMode=true")?this.translateIfNeeded("app_market_permissions_template_message_title"):this.translateIfNeeded("app_market_permissions_message_title")},render:n})}),define("tpa/compModals/tpaSettingsModal.rt",["react","lodash","panels","core"],function(e,t,i,a){"use strict";return function(){return e.createElement(i.frames.focusPanelFrame,{title:this.props.title,shouldHideHeader:this.shouldHideHeader(),panelName:"tpa.compModals.tpaSettingsModal",width:this.getPanelWidth(),height:this.getPanelHeight(),onHelpClicked:this.helpClicked,isBareMode:this.props.isBareMode,className:this.getClassName(),containerBackground:t.get(this.props.options,"background"),overlayBackground:t.get(this.props.options,"overlay"),shouldNotCloseOnBlur:this.props.isBareMode||this.props.shouldNotCloseOnBlur},e.createElement("iframe",{id:"settingsModalIframe",src:this.props.url,style:{width:"100%",height:"100%",border:"0px"}}))}}),define("tpa/compModals/tpaSettingsModal",["lodash","create-react-class","core","tpa/bi/bi","constants","tpa/utils/tpaUtils","tpa/common/withOnCloseMessage","tpa/compModals/tpaSettingsModal.rt"],function(e,t,i,a,n,o,s,r){"use strict";return s(t({mixins:[i.mixins.editorAPIMixin],displayName:"settingsModal",getInitialState:function(){return this.helpId="",{}},modalShouldNotHaveMargin:function(){return!1===e.get(this.props.options,"margin")},getPanelHeight:function(){var e=o.getWindow().innerHeight,t=this.parsePercentToPixel(this.props.height,e);this.props.title&&(t+=54);var i=.05*e;return this.modalShouldNotHaveMargin()&&(i=n.UI.TOPBAR_HEIGHT),this.resizeToFitContainer(t,e,i).toString()},getPanelWidth:function(){var e=o.getWindow().innerWidth,t=this.parsePercentToPixel(this.props.width,e),i=.02*e;return this.modalShouldNotHaveMargin()&&(i=0),this.resizeToFitContainer(t,e,i).toString()},getClassName:function(){var t=e.template("tpa-settings-modal<%= c %>");return this.modalShouldNotHaveMargin()?t({c:" no-margin"}):this.props.isBareMode?"tpa-settings-modal bare":t({c:""})},parsePercentToPixel:function(t,i){return e.isString(t)&&/^[0-9]+%$/.test(t)?t=i*parseInt(t.replace("%",""),10)/100:e.isNumber(t)||(t=parseInt(t.replace("px",""),10)),t},resizeToFitContainer:function(e,t,i){var a=t-i;return e>a?a:e},shouldHideHeader:function(){return this.props.isBareMode},helpClicked:function(){var t=this.getEditorAPI(),i=this.props.appDefinitionId,o=this.helpId||this.props.helpId,s=this.props.widgetId,r=a.events.TPA_HELP_CLICK,p={widget_id:s||null,app_id:i,origin:"settings_modal"},d={openPanelBiEvent:r,openPanelBiParams:e.merge({help_status:"open"},p),closePanelBiEvent:r,closePanelBiParams:e.merge({help_status:"close"},p),origin:p.origin},c={panel_name:this.props.panelName,origin:n.BI.HELP.ORIGIN.PANEL,component:t.selection.getSelectedComponentType(),learn_more:!1};t.panelManager.openHelpCenter(o,d,c)},componentWillReceiveProps:function(t){this.helpId=e.get(t,"articleId")},render:r}))}),define("tpa/compModals/appMarketModal.rt",["react","lodash","panels"],function(e,t,i){"use strict";return function(){return e.createElement(i.frames.focusPanelFrame,{panelName:this.props.panelName,title:this.getTitle(),onClose:this.onClose,shouldHideHelp:!0,width:this.props.width,height:this.props.height,keyboardShortcuts:this.getShortcuts()},e.createElement("div",{className:"app-market-modal-container"},e.createElement("iframe",{src:this.props.iframeUrl,width:"100%",height:"100%",frameBorder:"0"})))}}),define("tpa/compModals/appMarketModal",["create-react-class","prop-types","core","util","tpa/compModals/appMarketModal.rt"],function(e,t,i,a,n){"use strict";var o={ESC:"esc"};return e({propTypes:{iframeUrl:t.string.isRequired,width:t.string.isRequired,height:t.string.isRequired,id:t.string.isRequired,title:t.string,closeModalBiEvent:t.object,closeModalBiParams:t.object},displayName:"appMarketModal",mixins:[a.translationMixin,i.mixins.editorAPIMixin],render:n,getTitle:function(){if(this.props.title)return this.translateIfNeeded(this.props.title)},onClose:function(e){var t=this.getEditorAPI();if(this.props.closeModalBiEvent){var i=this.props.closeModalBiParams||{};i.closeMethod=e,t.bi.event(this.props.closeModalBiEvent,i)}},getShortcuts:function(){var e=this;return{esc:function(){e.onClose(o.ESC)}}}})}),define("tpa/superApps/superAppsCustomData",["lodash","tpaGfppData"],function(e,t){"use strict";return{getSuperAppsGfppData:function(){return t.getData()},getSuperAppsAddPanelStyles:function(i,a){var n=i+"."+a;return e.get(t.getAddPanelData(),n)}}}),define("tpa/addPanelData/addPanelAddCompService",["lodash","util","tpa/superApps/superApps","tpa/constants/constants"],function(e,t,i,a){"use strict";function n(t){return{width:e.get(t,"layout.width"),height:e.get(t,"layout.height")}}function o(t,i,n,o,s){var r={styleId:e.get(n,"style")||null,origin:s||t.documentServices.tpa.app.isInstalled(i)?a.BI.type.ADD_WIDGET:a.BI.type.ADD_APP_ADD_PANEL};return o&&(r.dontStretch=!o.isFullWidth),t.documentServices.pages.isWidgetPage(t.pages.getFocusedPageId())&&(r.parentContainerRef=t.pages.getPrimaryContainer()),r}return{addCompOnClick:function(a,s,r,p,d,c){var l=(arguments.length>6&&void 0!==arguments[6]?arguments[6]:{}).origin;return new Promise(function(g){t.fedopsLogger.interactionStarted([t.fedopsLogger.INTERACTIONS.ADD_COMP_FROM_ADD_PANEL,t.fedopsLogger.INTERACTIONS.ADD_TPA_FROM_ADD_PANEL]),require(["addPanelInfra"],function(m){var u=n(p),h=m.addPanelUtils.calcCompPastePosition(a,p,c);e.merge(u,h);var y=o(a,s,p,d,l);y.cb=function(e){t.fedopsLogger.interactionEnded([t.fedopsLogger.INTERACTIONS.ADD_COMP_FROM_ADD_PANEL,t.fedopsLogger.INTERACTIONS.ADD_TPA_FROM_ADD_PANEL]),g(e)},i.addWidget(s,r,u,y)})})},addCompOnDrop:function(a,s,r,p,d,c){var l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e.noop,g=(arguments.length>7&&void 0!==arguments[7]?arguments[7]:{}).origin;t.fedopsLogger.interactionStarted(t.fedopsLogger.INTERACTIONS.ADD_TPA_FROM_ADD_PANEL);var m=n(d.structure),u={x:p.x||0,y:p.y||0};e.merge(m,u);var h=o(a,s,d.structure,e.get(d,"tags"),g);return h.parentContainerRef=c,h.cb=function(e){l(e),t.fedopsLogger.interactionEnded([t.fedopsLogger.INTERACTIONS.ADD_COMP_FROM_ADD_PANEL,t.fedopsLogger.INTERACTIONS.ADD_TPA_FROM_ADD_PANEL])},i.addWidget(s,r,m,h)}}}),define("tpa/addPanelData/music/musicSection",["lodash","addPanelDataConsts","tpa/superApps/superApps","tpa/superApps/superAppsConstants","tpa/superApps/superAppsCustomData","tpa/addPanelData/addPanelAddCompService","util"],function(e,t,i,a,n,o,s){"use strict";var r=a.WIXMUSIC.APP_DEF_ID,p=a.WIXMUSIC.WIDGET,d=function(e,t,i,a,n){o.addCompOnClick(n,r,p,e,i,a)},c=function(t,i,a,n){return o.addCompOnDrop(n,r,p,t,i,a,e.noop)},l=function(e){return{type:t.SECTIONS_TYPES.PRESET,hide:!1,title:"add_section_label_proplayer",showSectionHeader:!0,additionalBehaviours:{labelMode:t.LABEL_BEHAVIOUR.HOVER,infoIcon:t.INFO_ICON_BEHAVIOUR.NONE,hoverImageAction:t.HOVER_IMAGE_ACTIONS.SCALE,iconEnabledForComps:{}},props:{onClick:d,onDrop:c,image:function(e,t){return"addPanelData/sections/wixMusicPlayerSection_"+e+"/"+"wixMusicPlayerSection2_"+e+".png"}(s.languages.getLanguageCode()),items:[{id:"Music_Prop_Player_2",appDefinitionId:r,slug:"wix-music",structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:680,height:210,x:14,y:71,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",applicationId:"16",tpaData:{type:"TPAData",content:"{'wmp::paymentsId':'0352442c-26dc-415d-81f8-79d681c7efcf'}"},widgetId:p},style:{type:"TopLevelStyle",style:n.getSuperAppsAddPanelStyles(r,"compact"),componentClassName:"",pageId:"",compId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"}},preset:{rect:{width:324,height:160,x:0,y:0},label:"add_preset__WixMusic_Compact"}},{id:"Music_Prop_Player_1",structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:350,height:700,x:315,y:18,scale:1,rotationInDegrees:0},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",appDefinitionId:r,slug:"wix-music",data:{type:"TPAWidget",applicationId:"16",widgetId:p},style:"tpaw0"},preset:{rect:{width:324,height:470,x:0,y:160},label:"add_preset__WixMusic_Classic"}}]},help:{hide:!1,text:"add_section_info_text_proplayer"},teaser:{id:"proplayer_section_teaser",hide:!1,title:"add_section_teaser_title_proplayer",text:"add_section_teaser_text_proplayer",linkText:"add_category_teaser_link",learnMore:function(){i.openAppMarketInfoModal("wix-music"),e.panelManager.closePanelByName("rEditor.addPanel")}}}};return{registerSection:function(t){t.addPanel.registerToAddSectionAtTheStartOfCategory(["music"],e.partial(l,t))}}}),define("tpa/addPanelData/music/soundCloudSection",["lodash","util","addPanelDataConsts","tpa/superApps/superAppsConstants","tpa/addPanelData/addPanelAddCompService"],function(e,t,i,a,n){"use strict";var o=a.WIX_SOUNDCLOUD.APP_DEF_ID,s=a.WIX_SOUNDCLOUD.WIDGET,r=function(e,t,i,a,r){n.addCompOnClick(r,o,s,e,i,a)},p=function(t,i,a,r){return n.addCompOnDrop(r,o,s,t,i,a,e.noop)},d=function(){return{type:i.SECTIONS_TYPES.PRESET,hide:!1,title:"add_section_label_soundcloud",showSectionHeader:!0,additionalBehaviours:{labelMode:i.LABEL_BEHAVIOUR.NONE,infoIcon:i.INFO_ICON_BEHAVIOUR.NONE,hoverImageAction:i.HOVER_IMAGE_ACTIONS.SCALE,iconEnabledForComps:{}},props:{imageHover:null,onClick:r,onDrop:p,image:function(){var e=t.languages.getLanguageCode();return"addPanelData/sections/soundCloudAudioPlayerSection_"+e+"/soundCloudAudioPlayerSection_"+e+".png"}(),items:[{id:"soundcloud_preset_1",structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",layout:{width:482,height:450,x:241,y:-38,scale:1,rotationInDegrees:0,fixedPosition:!1},style:"tpaw0",data:{type:"TPAWidget",applicationId:"applicationId",widgetId:s},mobileStructure:{layout:{width:280,height:261,x:20,y:201,scale:1,rotationInDegrees:0,fixedPosition:!1},isCustomPreset:!0}},preset:{rect:{width:324,height:110,x:0,y:0},label:""}}]},help:{hide:!1,text:"add_section_info_text_soundcloud"}}};return{registerSection:function(e){e.addPanel.registerToAddSectionAtTheStartOfCategory(["music"],d)}}}),define("tpa/addPanelData/video/videoSection",["lodash","tpa/addPanelData/addPanelAddCompService","tpa/superApps/superAppsConstants","tpa/superApps/superAppsCustomData","addPanelDataConsts","experiment"],function(e,t,i,a,n,o){"use strict";function s(){var e="addPanelData/sections/videoSection_en/wixVideoSection_en.png",t=null;o.isOpen("se_wixVideo_addPanel_Compact")&&(e="addPanelData/sections/videoSection_en/WixVideo_addpanel_regular.png",t="addPanelData/sections/videoSection_en/WixVideo_addpanel_hover.png");return{title:"ADD_SECTION_LABEL_WIXVIDEO",type:n.SECTIONS_TYPES.PRESET,hide:!1,sectionNumber:1,showSectionHeader:!0,additionalBehaviours:{labelMode:n.LABEL_BEHAVIOUR.HOVER,infoIcon:n.INFO_ICON_BEHAVIOUR.NONE,hoverImageAction:o.isOpen("se_wixVideo_addPanel_Compact")?n.HOVER_IMAGE_ACTIONS.IMAGE:n.HOVER_IMAGE_ACTIONS.NONE,iconEnabledForComps:[]},props:{image:e,imageHover:t,items:function(){var e=[{id:"Video_Video_1",structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:980,height:480,x:0,y:50,scale:1,rotationInDegrees:0,fixedPosition:!1,docked:{left:{px:0,vw:0},right:{px:0,vw:0}}},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",applicationId:"1598",widgetId:p},style:{componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",styleType:"custom",style:a.getSuperAppsAddPanelStyles(r,"strip"),type:"TopLevelStyle",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"}},preset:{rect:{width:324,height:130,x:0,y:0},label:"add_preset_WixVideo_Strip",tags:{isFullWidth:!0,googleFontsCssUrl:"",uploadFontFaces:""}}},{id:"Video_Video_2",structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:800,height:706,x:90,y:50,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",applicationId:"1598",widgetId:p},style:{componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",styleType:"custom",style:a.getSuperAppsAddPanelStyles(r,"classic"),type:"TopLevelStyle",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"}},preset:{rect:{width:324,height:234,x:0,y:130},label:"add_preset_WixVideo_Classic"}}],t=[{id:"compact",structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:600,height:368,x:76,y:56,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},applicationId:"1598",referenceId:"a1ca9dac-7ee4-4d52-a418-68329471105b",widgetId:"144097ea-fea0-498e-ade7-e6de40127106"},style:{type:"TopLevelStyle",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:a.getSuperAppsAddPanelStyles(r,"compact"),componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"},mobileStructure:{layout:{width:280,height:247,x:20,y:10,scale:1,rotationInDegrees:0,fixedPosition:!1},isCustomPreset:!0},activeModes:{}},preset:{rect:{width:160,height:140,x:0,y:0},label:"add_preset_WixVideo_Compact"}},{id:"classic",structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:800,height:761,x:90,y:34,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},applicationId:"1598",referenceId:"a1ca9dac-7ee4-4d52-a418-68329471105b",widgetId:"144097ea-fea0-498e-ade7-e6de40127106"},style:{type:"TopLevelStyle",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:a.getSuperAppsAddPanelStyles(r,"classic_new"),componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"},mobileStructure:{layout:{width:320,height:279,x:0,y:10,scale:1,rotationInDegrees:0,fixedPosition:!1},isCustomPreset:!0},activeModes:{}},preset:{rect:{width:164,height:140,x:160,y:0},label:"add_preset_WixVideo_Classic"}},{id:"strip",structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:979,height:410,x:0,y:58,scale:1,rotationInDegrees:0,fixedPosition:!1,docked:{left:{px:.5,vw:0},right:{px:.5,vw:0}}},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},applicationId:"1598",referenceId:"a1ca9dac-7ee4-4d52-a418-68329471105b",widgetId:"144097ea-fea0-498e-ade7-e6de40127106"},style:{type:"TopLevelStyle",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:a.getSuperAppsAddPanelStyles(r,"strip_new"),componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"},mobileStructure:{layout:{width:280,height:247,x:20,y:10,scale:1,rotationInDegrees:0,fixedPosition:!1},isCustomPreset:!0},activeModes:{}},preset:{rect:{width:324,height:170,x:0,y:140},label:"add_preset_WixVideo_Strip",tags:{isFullWidth:!0,googleFontsCssUrl:"",uploadFontFaces:""}}}];return o.isOpen("se_wixVideo_addPanel_Compact")?t:e}(),onClick:d,onDrop:c},help:{hide:!1,text:"ADD_SECTION_INFO_TEXT_WIXVIDEO"}}}var r=i.WIX_VIDEO.APP_DEF_ID,p=i.WIX_VIDEO.WIDGET,d=function(e,i,a,n,o){t.addCompOnClick(o,r,p,e,a,n)},c=function(i,a,n,o){return t.addCompOnDrop(o,r,p,i,a,n,e.noop)};return{registerSection:function(e){e.addPanel.registerToAddSectionAtTheStartOfCategory(["video"],s)}}}),define("tpa/addPanelData/gallery/proGalleriesSection",["lodash","addPanelDataConsts","tpa/superApps/superAppsCustomData","tpa/addPanelData/addPanelAddCompService","experiment"],function(e,t,i,a,n){"use strict";var o="14271d6f-ba62-d045-549b-ab972ae1f70e",s="142bb34d-3439-576a-7118-683e690a1e0d",r=function(e,t,i,n,r){a.addCompOnClick(r,o,s,e,i,n)},p=function(t,i,n,r){return a.addCompOnDrop(r,o,s,t,i,n,e.noop)},d=function(){return{type:t.SECTIONS_TYPES.PRESET,hide:!1,title:n.isOpen("se_pro_gallery_label")?"add_section_label_progallery_v2":"design_section_label_explore_gallery_progallery",showSectionHeader:!0,sectionNumber:0,additionalBehaviours:{labelMode:t.LABEL_BEHAVIOUR.HOVER,infoIcon:t.INFO_ICON_BEHAVIOUR.NONE,hoverImageAction:t.HOVER_IMAGE_ACTIONS.VIDEO,iconEnabledForComps:{}},props:n.getValue("se_revampGalleriesAddPanel")?{onClick:r,onDrop:p,image:"addPanelData/sections/proGalleriesSection_en/add-panel-pro-gallery-section-new.png",retinaImage:{src:"addPanelData/sections/proGalleriesSection_en/add-panel-pro-gallery-section-new-@2x.png",dimensions:{width:648,height:2588}},items:c(),compTypes:["wysiwyg.viewer.components.tpapps.TPAWidget"]}:{onClick:r,onDrop:p,image:"addPanelData/sections/proGalleriesSection_en/add-panel-pro-gallery-section.png",items:c(),compTypes:["wysiwyg.viewer.components.tpapps.TPAWidget"]},help:{hide:!1,text:"add_section_info_text_progallery"}}},c=function(){var e=[{id:"collageFullWidth",structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:980,height:350,x:0,y:0,scale:1,rotationInDegrees:0,fixedPosition:!1,docked:{left:{px:0,vw:0},right:{px:0,vw:0}}},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},applicationId:"1307",referenceId:"5dbd0eb3-d14f-449b-9e0e-170fdab99931",widgetId:"142bb34d-3439-576a-7118-683e690a1e0d"},style:{type:"TopLevelStyle",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:i.getSuperAppsAddPanelStyles(o,"collageFullWidth"),componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"},behaviors:{type:"ObsoleteBehaviorsList",items:"[{'action':{'sourceId':'comp-iqhqgi44','type':'comp','name':'screenIn'},'behavior':{'targetId':'nomsy','type':'site','name':'prefetchPages','params':{'prefetchFilters':{'id':['nomsy']}}}}]"},mobileStructure:{layout:{width:280,height:421,x:20,y:10,scale:1,rotationInDegrees:0,fixedPosition:!1},isCustomPreset:!0},activeModes:{}},preset:{rect:{width:324,height:174,x:0,y:0},label:"add_preset_Galleries_Pro_Galleries_1",tags:{isFullWidth:!0},video:{poster:"poster-white-1x1.png",source:"gallery-video-thumb-pro-1"}}},{id:"gridFullWidth",structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:980,height:350,x:0,y:0,scale:1,rotationInDegrees:0,fixedPosition:!1,docked:{left:{px:0,vw:0},right:{px:0,vw:0}}},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},applicationId:"1307",referenceId:"f57fea8e-f497-480f-a40c-a341106fb371",widgetId:"142bb34d-3439-576a-7118-683e690a1e0d"},style:{type:"TopLevelStyle",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:i.getSuperAppsAddPanelStyles(o,"gridFullWidth"),componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"},behaviors:{type:"ObsoleteBehaviorsList",items:"[{'action':{'sourceId':'comp-iqhqgi44','type':'comp','name':'screenIn'},'behavior':{'targetId':'nomsy','type':'site','name':'prefetchPages','params':{'prefetchFilters':{'id':['nomsy']}}}}]"},mobileStructure:{layout:{width:280,height:373,x:20,y:10,scale:1,rotationInDegrees:0,fixedPosition:!1},isCustomPreset:!0},activeModes:{}},preset:{rect:{width:324,height:192,x:0,y:174},label:"add_preset_Galleries_Pro_Galleries_2",tags:{isFullWidth:!0},video:{poster:"poster-white-1x1.png",source:"gallery-video-thumb-pro-2",ignoreMargins:!0}}},{id:"masonryFullWidth",structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:980,height:350,x:0,y:0,scale:1,rotationInDegrees:0,fixedPosition:!1,docked:{left:{px:0,vw:0},right:{px:0,vw:0}}},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},applicationId:"1307",referenceId:"34d252cb-0516-4a30-9372-4bf86d3ec898",widgetId:"142bb34d-3439-576a-7118-683e690a1e0d"},style:{type:"TopLevelStyle",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:i.getSuperAppsAddPanelStyles(o,"masonryFullWidth"),componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"},behaviors:{type:"ObsoleteBehaviorsList",items:"[{'action':{'sourceId':'comp-iqhqgi44','type':'comp','name':'screenIn'},'behavior':{'targetId':'nomsy','type':'site','name':'prefetchPages','params':{'prefetchFilters':{'id':['nomsy']}}}}]"},mobileStructure:{layout:{width:280,height:264,x:20,y:10,scale:1,rotationInDegrees:0,fixedPosition:!1},isCustomPreset:!0},activeModes:{}},preset:{rect:{width:324,height:190,x:0,y:366},label:"add_preset_Galleries_Pro_Galleries_3",tags:{isFullWidth:!0},video:{poster:"poster-white-1x1.png",source:"gallery-video-thumb-pro-3",ignoreMargins:!0}}},{id:"grid",structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:980,height:350,x:0,y:0,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},applicationId:"1307",referenceId:"3a13e72a-cc26-4550-85ea-63050b253376",widgetId:"142bb34d-3439-576a-7118-683e690a1e0d"},style:{type:"TopLevelStyle",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:i.getSuperAppsAddPanelStyles(o,"grid"),componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"},behaviors:{type:"ObsoleteBehaviorsList",items:"[{'action':{'sourceId':'comp-irag4gis','type':'comp','name':'screenIn'},'behavior':{'targetId':'nomsy','type':'site','name':'prefetchPages','params':{'prefetchFilters':{'id':['nomsy']}}}}]"},mobileStructure:{layout:{width:320,height:390,x:0,y:10,scale:1,rotationInDegrees:0,fixedPosition:!1},isCustomPreset:!0},activeModes:{}},preset:{rect:{width:162,height:182,x:0,y:556},label:"add_preset_Galleries_Pro_Galleries_5",tags:{isFullWidth:!1},video:{poster:"poster-white-1x1.png",source:"gallery-video-thumb-pro-4",ignoreMargins:!0}}},{id:"masonryVertical",structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:980,height:350,x:-1,y:0,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},applicationId:"1307",referenceId:"76d4dea1-c0ab-4adb-8cb3-d67f3a3a9fce",widgetId:"142bb34d-3439-576a-7118-683e690a1e0d"},style:{type:"TopLevelStyle",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:i.getSuperAppsAddPanelStyles(o,"masonryVertical"),componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"},behaviors:{type:"ObsoleteBehaviorsList",items:"[{'action':{'sourceId':'comp-ivi2gvj2','type':'comp','name':'screenIn'},'behavior':{'targetId':'nomsy','type':'site','name':'prefetchPages','params':{'prefetchFilters':{'id':['nomsy']}}}}]"},mobileStructure:{layout:{width:280,height:290,x:20,y:10,scale:1,rotationInDegrees:0,fixedPosition:!1},isCustomPreset:!0},activeModes:{}},preset:{rect:{width:162,height:198,x:0,y:738},label:"add_preset_Galleries_Pro_Galleries_6",tags:{isFullWidth:!1},video:{poster:"poster-white-1x1.png",source:"gallery-video-thumb-pro-5",ignoreMargins:!0}}},{id:"oneColumn",structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:980,height:350,x:0,y:0,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},applicationId:"1307",referenceId:"759d03bd-9915-481e-91f3-51f4eb446f34",widgetId:"142bb34d-3439-576a-7118-683e690a1e0d"},style:{type:"TopLevelStyle",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:i.getSuperAppsAddPanelStyles(o,"oneColumn"),componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"},behaviors:{type:"ObsoleteBehaviorsList",items:"[{'action':{'sourceId':'comp-iqhqgi44','type':'comp','name':'screenIn'},'behavior':{'targetId':'nomsy','type':'site','name':'prefetchPages','params':{'prefetchFilters':{'id':['nomsy']}}}}]"},mobileStructure:{layout:{width:280,height:2337,x:20,y:10,scale:1,rotationInDegrees:0,fixedPosition:!1},isCustomPreset:!0},activeModes:{}},preset:{rect:{width:162,height:380,x:162,y:556},label:"add_preset_Galleries_Pro_Galleries_4",tags:{isFullWidth:!1},video:{poster:"poster-white-1x1.png",source:"gallery-video-thumb-pro-6",ignoreMargins:!0}}}],t=[{id:"gridProGallery",structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:570,height:569,x:0,y:0,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},applicationId:"1574",referenceId:"a3815ff1-316f-4a23-8de9-7a8737688038",widgetId:"142bb34d-3439-576a-7118-683e690a1e0d"},style:{type:"TopLevelStyle",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:i.getSuperAppsAddPanelStyles(o,"gridProGallery"),componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"},behaviors:{type:"ObsoleteBehaviorsList",items:"[{'action':{'sourceId':'comp-j3rfcxog','type':'comp','name':'screenIn'},'behavior':{'targetId':'lq5h5','type':'site','name':'prefetchPages','params':{'prefetchFilters':{'id':['lq5h5']}}}}]"},mobileStructure:{layout:{width:320,height:173,x:0,y:420,scale:1,rotationInDegrees:0,fixedPosition:!1},metaData:{originalCompId:"comp-j3rfcxog",author:"duplicate"}},activeModes:{}},preset:{rect:{width:162,height:182,x:0,y:0},label:"add_preset_pro_galleries_grid_label",tags:{isFullWidth:!1},video:{poster:"poster-white-1x1.png",source:"addpanel/gallery-pro/v1/gallery-video-thumb-pro-1",ignoreMargins:!0}}},{id:"thumbnailProGallery",structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:568,height:568,x:0,y:198,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},applicationId:"1574",referenceId:"72187da9-188d-4d8d-8754-0599700a1bcf",widgetId:"142bb34d-3439-576a-7118-683e690a1e0d"},style:{type:"TopLevelStyle",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:i.getSuperAppsAddPanelStyles(o,"thumbnailProGallery"),componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"},behaviors:{type:"ObsoleteBehaviorsList",items:'[{"action":{"sourceId":"comp-j3u10dhb","type":"comp","name":"screenIn"},"behavior":{"targetId":"lq5h5","type":"site","name":"prefetchPages","params":{"prefetchFilters":{"id":["lq5h5"]}}}}]'},mobileStructure:{layout:{width:320,height:146,x:0,y:420,scale:1,rotationInDegrees:0,fixedPosition:!1},metaData:{originalCompId:"comp-j3u10dhb",author:"duplicate"}},activeModes:{}},preset:{rect:{width:162,height:182,x:162,y:0},label:"add_preset_pro_galleries_thumbnail_label",tags:{isFullWidth:!1},video:{poster:"poster-white-1x1.png",source:"addpanel/gallery-pro/v1/gallery-video-thumb-pro-2",ignoreMargins:!0}}},{id:"stackedProGallery",structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:568,height:1039,x:0,y:52,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},applicationId:"1574",referenceId:"88867a85-11eb-455f-8b54-0e7956142552",widgetId:"142bb34d-3439-576a-7118-683e690a1e0d"},style:{type:"TopLevelStyle",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:i.getSuperAppsAddPanelStyles(o,"stackedProGallery"),componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"},behaviors:{type:"ObsoleteBehaviorsList",items:'[{"action":{"sourceId":"comp-j41sbvu1","type":"comp","name":"screenIn"},"behavior":{"targetId":"lq5h5","type":"site","name":"prefetchPages","params":{"prefetchFilters":{"id":["lq5h5"]}}}}]'},mobileStructure:{layout:{width:320,height:146,x:0,y:420,scale:1,rotationInDegrees:0,fixedPosition:!1},metaData:{originalCompId:"comp-j41sbvu1",author:"duplicate"}},activeModes:{}},preset:{rect:{width:162,height:208,x:0,y:182},label:"add_preset_pro_galleries_stacked_label",tags:{isFullWidth:!1},video:{poster:"poster-white-1x1.png",source:"addpanel/gallery-pro/v1/gallery-video-thumb-pro-3",ignoreMargins:!0}}},{id:"masonryProGallery",structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:568,height:1039,x:0,y:52,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},applicationId:"1574",referenceId:"88867a85-11eb-455f-8b54-0e7956142552",widgetId:"142bb34d-3439-576a-7118-683e690a1e0d"},style:{type:"TopLevelStyle",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:i.getSuperAppsAddPanelStyles(o,"masonryProGallery"),componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"},behaviors:{type:"ObsoleteBehaviorsList",items:'[{"action":{"sourceId":"comp-j41sbvu1","type":"comp","name":"screenIn"},"behavior":{"targetId":"lq5h5","type":"site","name":"prefetchPages","params":{"prefetchFilters":{"id":["lq5h5"]}}}}]'},mobileStructure:{layout:{width:320,height:146,x:0,y:420,scale:1,rotationInDegrees:0,fixedPosition:!1},metaData:{originalCompId:"comp-j41sbvu1",author:"duplicate"}},activeModes:{}},preset:{rect:{width:162,height:208,x:162,y:182},label:"add_preset_pro_galleries_masonry_label",tags:{isFullWidth:!1},video:{poster:"poster-white-1x1.png",source:"addpanel/gallery-pro/v1/gallery-video-thumb-pro-4",ignoreMargins:!0}}},{id:"collageProGallery",structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:1216,height:384,x:-118,y:237,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},applicationId:"1574",referenceId:"88867a85-11eb-455f-8b54-0e7956142552",widgetId:"142bb34d-3439-576a-7118-683e690a1e0d"},style:{type:"TopLevelStyle",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:i.getSuperAppsAddPanelStyles(o,"collageProGallery"),componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"},behaviors:{type:"ObsoleteBehaviorsList",items:'[{"action":{"sourceId":"comp-j41sbvu1","type":"comp","name":"screenIn"},"behavior":{"targetId":"lq5h5","type":"site","name":"prefetchPages","params":{"prefetchFilters":{"id":["lq5h5"]}}}}]'},mobileStructure:{layout:{width:320,height:146,x:0,y:420,scale:1,rotationInDegrees:0,fixedPosition:!1},metaData:{originalCompId:"comp-j41sbvu1",author:"duplicate"}},activeModes:{}},preset:{rect:{width:324,height:136,x:0,y:390},label:"add_preset_pro_galleries_collage_label",tags:{isFullWidth:!1},video:{poster:"poster-white-1x1.png",source:"addpanel/gallery-pro/v1/gallery-video-thumb-pro-5",ignoreMargins:!0}}},{id:"showcaseProGallery",structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:1216,height:464,x:-118,y:236,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},applicationId:"1574",referenceId:"88867a85-11eb-455f-8b54-0e7956142552",widgetId:"142bb34d-3439-576a-7118-683e690a1e0d"},style:{type:"TopLevelStyle",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:i.getSuperAppsAddPanelStyles(o,"showcaseProGallery"),componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"},behaviors:{type:"ObsoleteBehaviorsList",items:'[{"action":{"sourceId":"comp-j41sbvu1","type":"comp","name":"screenIn"},"behavior":{"targetId":"lq5h5","type":"site","name":"prefetchPages","params":{"prefetchFilters":{"id":["lq5h5"]}}}}]'},mobileStructure:{layout:{width:320,height:146,x:0,y:420,scale:1,rotationInDegrees:0,fixedPosition:!1},metaData:{originalCompId:"comp-j41sbvu1",author:"duplicate"}},activeModes:{}},preset:{rect:{width:324,height:156,x:0,y:526},label:"add_preset_pro_galleries_showcase_label",tags:{isFullWidth:!1},video:{poster:"poster-white-1x1.png",source:"addpanel/gallery-pro/v1/gallery-video-thumb-pro-6",ignoreMargins:!0}}},{id:"gridSliderProGallery",structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:1216,height:416,x:-142,y:236,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},applicationId:"1574",referenceId:"88867a85-11eb-455f-8b54-0e7956142552",widgetId:"142bb34d-3439-576a-7118-683e690a1e0d"},style:{type:"TopLevelStyle",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:i.getSuperAppsAddPanelStyles(o,"gridSliderProGallery"),componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"},behaviors:{type:"ObsoleteBehaviorsList",items:'[{"action":{"sourceId":"comp-j41sbvu1","type":"comp","name":"screenIn"},"behavior":{"targetId":"lq5h5","type":"site","name":"prefetchPages","params":{"prefetchFilters":{"id":["lq5h5"]}}}}]'},mobileStructure:{layout:{width:320,height:146,x:0,y:420,scale:1,rotationInDegrees:0,fixedPosition:!1},metaData:{originalCompId:"comp-j41sbvu1",author:"duplicate"}},activeModes:{}},preset:{rect:{width:324,height:144,x:0,y:682},label:"add_preset_pro_galleries_slider_label",tags:{isFullWidth:!1},video:{poster:"poster-white-1x1.png",source:"addpanel/gallery-pro/v1/gallery-video-thumb-pro-7",ignoreMargins:!0}}},{id:"accordionProGallery",structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:980,height:416,x:0,y:275,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},applicationId:"1574",referenceId:"88867a85-11eb-455f-8b54-0e7956142552",widgetId:"142bb34d-3439-576a-7118-683e690a1e0d"},style:{type:"TopLevelStyle",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:i.getSuperAppsAddPanelStyles(o,"accordionProGallery"),componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"},behaviors:{type:"ObsoleteBehaviorsList",items:'[{"action":{"sourceId":"comp-j41sbvu1","type":"comp","name":"screenIn"},"behavior":{"targetId":"lq5h5","type":"site","name":"prefetchPages","params":{"prefetchFilters":{"id":["lq5h5"]}}}}]'},mobileStructure:{layout:{width:320,height:146,x:0,y:420,scale:1,rotationInDegrees:0,fixedPosition:!1},metaData:{originalCompId:"comp-j41sbvu1",author:"duplicate"}},activeModes:{}},preset:{rect:{width:324,height:144,x:0,y:826},label:"add_preset_pro_galleries_accordion_label",tags:{isFullWidth:!1},video:{poster:"poster-white-1x1.png",source:"addpanel/gallery-pro/v1/gallery-video-thumb-pro-8",ignoreMargins:!0}}},{id:"slideDeckProGallery",structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:1216,height:660,x:-118,y:125,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},applicationId:"1574",referenceId:"88867a85-11eb-455f-8b54-0e7956142552",widgetId:"142bb34d-3439-576a-7118-683e690a1e0d"},style:{type:"TopLevelStyle",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:i.getSuperAppsAddPanelStyles(o,"slideDeckProGallery"),componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"},behaviors:{type:"ObsoleteBehaviorsList",items:'[{"action":{"sourceId":"comp-j41sbvu1","type":"comp","name":"screenIn"},"behavior":{"targetId":"lq5h5","type":"site","name":"prefetchPages","params":{"prefetchFilters":{"id":["lq5h5"]}}}}]'},mobileStructure:{layout:{width:320,height:146,x:0,y:420,scale:1,rotationInDegrees:0,fixedPosition:!1},metaData:{originalCompId:"comp-j41sbvu1",author:"duplicate"}},activeModes:{}},preset:{rect:{width:324,height:166,x:0,y:970},label:"add_preset_pro_galleries_slide_deck_label",tags:{isFullWidth:!1},video:{poster:"poster-white-1x1.png",source:"addpanel/gallery-pro/v1/gallery-video-thumb-pro-9",ignoreMargins:!0}}},{id:"sliderProGallery",structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:1216,height:472,x:-112,y:236,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},applicationId:"1574",referenceId:"40bc889a-02c7-49ee-8d0c-1c4ada8665a3",widgetId:"142bb34d-3439-576a-7118-683e690a1e0d"},style:{type:"TopLevelStyle",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:i.getSuperAppsAddPanelStyles(o,"sliderProGallery"),componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"},behaviors:{type:"ObsoleteBehaviorsList",items:'[{"action":{"sourceId":"comp-j41krf33","type":"comp","name":"screenIn"},"behavior":{"targetId":"lq5h5","type":"site","name":"prefetchPages","params":{"prefetchFilters":{"id":["lq5h5"]}}}}]'},mobileStructure:{layout:{width:320,height:146,x:0,y:420,scale:1,rotationInDegrees:0,fixedPosition:!1},metaData:{originalCompId:"comp-j41krf33",author:"duplicate"}},activeModes:{}},preset:{rect:{width:324,height:158,x:0,y:1136},label:"add_preset_pro_galleries_slider_label",tags:{isFullWidth:!1},video:{poster:"poster-white-1x1.png",source:"addpanel/gallery-pro/v1/gallery-video-thumb-pro-10",ignoreMargins:!0}}}];return n.getValue("se_revampGalleriesAddPanel")?t:e};return{registerSection:function(e){e.addPanel.registerToAddSectionAtTheStartOfCategory(["gallery"],function(){return d()})}}}),define("tpa/addPanelData/contact/contactSection",["lodash","addPanelDataConsts","util","tpa/addPanelData/addPanelAddCompService","tpa/superApps/superApps"],function(e,t,i,a,n){"use strict";var o="1375baa8-8eca-5659-ce9d-455b2009250d",s="1375babd-6f2b-87ed-ff19-5778602c8b86",r=function(e,t,i,n,r){return a.addCompOnClick(r,o,s,e,i,n)},p=function(t,i,n,r){return a.addCompOnDrop(r,o,s,t,i,n,e.noop)},d=function(e){return{type:t.SECTIONS_TYPES.PRESET,hide:!1,title:"add_section_label_getsubscribers",additionalBehaviours:{labelMode:t.LABEL_BEHAVIOUR.NONE,infoIcon:t.INFO_ICON_BEHAVIOUR.NONE,hoverImageAction:t.HOVER_IMAGE_ACTIONS.SCALE,iconEnabledForComps:{}},showSectionHeader:!0,props:{onClick:r,onDrop:p,image:"addPanelData/sections/getSubscribersSection_"+i.languages.getLanguageCode()+"/getSubscribersSection_"+i.languages.getLanguageCode()+".png",items:[{structure:{layout:{x:315,y:650,width:500,height:200,scale:1,rotationInDegrees:0},type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",appDefinitionId:o,slug:"wix-get-subscribers",data:{widgetId:s,applicationId:"18",type:"TPAWidget",metaData:{isHidden:!1,isPreset:!0,schemaVersion:"1.0"}},style:"tpaw0"},preset:{rect:{width:324,height:110,x:0,y:0},label:""}}]},help:{hide:!1,text:"add_section_info_text_getsubscribers"},teaser:{id:"get_subscribers_section_teaser",hide:!1,title:"add_section_teaser_title_getsubscribers",text:"add_section_teaser_text_getsubscribers",linkText:"add_category_teaser_link",learnMore:function(){n.openAppMarketInfoModal("wix-get-subscribers"),e.panelManager.closePanelByName("rEditor.addPanel")}}}};return{registerSection:function(e){e.addPanel.registerToAddSectionAtTheStartOfCategory(["contact"],function(){return d(e)})}}}),define("tpa/addPanelData/events/eventsSection",["lodash","addPanelDataConsts","tpa/addPanelData/addPanelAddCompService","tpa/constants/constants","tpa/superApps/superAppsCustomData"],function(e,t,i,a,n){"use strict";function o(){return{type:t.SECTIONS_TYPES.PRESET,hide:!1,title:"add_section_label_wixevents",sectionNumber:6,showSectionHeader:!0,additionalBehaviours:{labelMode:t.LABEL_BEHAVIOUR.HOVER,infoIcon:t.INFO_ICON_BEHAVIOUR.NONE,hoverImageAction:t.HOVER_IMAGE_ACTIONS.IMAGE,iconEnabledForComps:{}},props:{onClick:m,onDrop:u,image:"addPanelData/sections/eventsSection_en/eventsSection_en.png",imageHover:"addPanelData/sections/eventsSection_en/hover_en/eventsSection_hover_en.png",items:[{id:p,structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:859,height:409,x:60,y:204,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},applicationId:"2153",widgetId:"1440e92d-47d8-69be-ade7-e6de40127106"},style:{type:"TopLevelStyle",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:n.getSuperAppsAddPanelStyles(s,p),componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"},activeModes:{}},preset:{rect:{width:324,height:176,x:0,y:0},label:"add_preset_wixevents_flashsale"}},{id:d,structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:899,height:582,x:40,y:237,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},applicationId:"2153",widgetId:"1440e92d-47d8-69be-ade7-e6de40127106"},style:{type:"TopLevelStyle",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:n.getSuperAppsAddPanelStyles(s,d),componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"},activeModes:{}},preset:{rect:{width:324,height:219,x:0,y:176},label:"add_preset_wixevents_meetup"}},{id:c,structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:899,height:1072,x:40,y:178,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},applicationId:"2153",widgetId:"1440e92d-47d8-69be-ade7-e6de40127106"},style:{type:"TopLevelStyle",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:n.getSuperAppsAddPanelStyles(s,c),componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"},activeModes:{}},preset:{rect:{width:324,height:320,x:0,y:395},label:"add_preset_wixevents_launch"}},{id:l,structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:918,height:422,x:31,y:223,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},applicationId:"2153",widgetId:"1440e92d-47d8-69be-ade7-e6de40127106"},style:{type:"TopLevelStyle",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:n.getSuperAppsAddPanelStyles(s,l),componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"},activeModes:{}},preset:{rect:{width:324,height:159,x:0,y:715},label:"add_preset_wixevents_tour"}},{id:g,structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:860,height:427,x:60,y:172,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},applicationId:"2153",widgetId:"1440e92d-47d8-69be-ade7-e6de40127106"},style:{type:"TopLevelStyle",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:n.getSuperAppsAddPanelStyles(s,g),componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"},activeModes:{}},preset:{rect:{width:324,height:187,x:0,y:874},label:"add_preset_wixevents_fundraiser"}}],compTypes:["wysiwyg.viewer.components.tpapps.TPAWidget"]}}}var s="140603ad-af8d-84a5-2c80-a0f60cb47351",r="1440e92d-47d8-69be-ade7-e6de40127106",p="onImage",d="cards",c="sideBySide",l="list",g="single",m=function(e,t,n,o,p){i.addCompOnClick(p,s,r,e,n,o,{origin:a.BI.type.ADD_WIDGET})},u=function(e,t,n,o){return i.addCompOnDrop(o,s,r,e,t,n,null,{origin:a.BI.type.ADD_WIDGET})};return{registerSection:function(t){t.addPanel.registerToAddSectionAtTheStartOfCategory(["contact"],e.partial(o,t))}}}),define("tpa/addPanelData/contact/liveChatSection",["lodash","addPanelDataConsts","tpa/superApps/superApps","tpa/superApps/superAppsConstants","tpa/superApps/superAppsCustomData","tpa/addPanelData/addPanelAddCompService","tpa/services/navigateAndOpenAppService"],function(e,t,i,a,n,o,s){"use strict";var r=a.WIX_CHAT.APP_DEF_ID,p=a.WIX_CHAT.WIDGET,d={width:350,height:700},c=function(e,t){if(!i.isInstalled(r))return t();s.openSettingsPanel(e,r)},l=function(a){var s=a.documentServices.theme.colors.getAll(),l=s.color_18,g=/^#FFFFFF$/i.test(s.color_15)?s.color_11:s.color_15;return{type:t.SECTIONS_TYPES.PRESET,hide:!1,title:"add_section_label_livechat",additionalBehaviours:{labelMode:t.LABEL_BEHAVIOUR.NONE,infoIcon:t.INFO_ICON_BEHAVIOUR.NONE,hoverImageAction:t.HOVER_IMAGE_ACTIONS.SCALE,iconEnabledForComps:{}},showSectionHeader:!0,props:{onClick:function(e,t,i,a){var n=this;c(this.editorAPI,function(){return o.addCompOnClick(n.editorAPI,r,p,e,i,a)})}.bind({editorAPI:a}),onDrop:function(t,i){var a=this,n=e.merge({},d,{x:t.x,y:t.y});c(this.editorAPI,function(){return o.addCompOnDrop(a.editorAPI,r,p,n,i)})}.bind({editorAPI:a}),image:"addPanelData/sections/liveChatSection_en/liveChatSection_en.v2.png",imageStyle:{background:"linear-gradient(to left, "+l+" 0%, "+l+" 75%, "+g+" 50%, "+g+" 100%)",height:"100%",width:"100%"},items:[{id:"bubble",structure:{layout:{x:315,y:650,width:60,height:60,scale:1,rotationInDegrees:0},type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",appDefinitionId:r,slug:"wix-live-chat",data:{widgetId:p,applicationId:"applicationId",type:"TPAWidget",metaData:{isHidden:!1,isPreset:!0,schemaVersion:"1.0"}},style:{componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",styleType:"custom",style:n.getSuperAppsAddPanelStyles(r,"bubble"),type:"TopLevelStyle",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"}},preset:{rect:{width:81,height:110,x:0,y:0},label:""}},{id:"bar",structure:{layout:{x:315,y:650,width:336,height:54,scale:1,rotationInDegrees:0},type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",appDefinitionId:r,slug:"wix-live-chat",data:{widgetId:p,applicationId:"applicationId",type:"TPAWidget",metaData:{isHidden:!1,isPreset:!0,schemaVersion:"1.0"}},style:{componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",styleType:"custom",style:n.getSuperAppsAddPanelStyles(r,"bar"),type:"TopLevelStyle",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"}},preset:{rect:{width:243,height:110,x:81,y:0},label:""}}]},help:{hide:!1,text:"add_section_info_text_livechat"},teaser:{id:"livechat_section_teaser",hide:!1,title:"add_section_teaser_title_livechat",text:"add_section_teaser_text_livechat",linkText:"add_category_teaser_link",learnMore:function(){i.openAppMarketInfoModal("wix-live-chat"),a.panelManager.closePanelByName("rEditor.addPanel")}}}};return{registerSection:function(e){e.addPanel.registerToAddSectionAtTheStartOfCategory(["contact"],function(){return l(e)})}}}),define("tpa/addPanelData/members/service",["constants","tpa/constants/constants","tpa/addPanelData/addPanelAddCompService"],function(e,t,i){"use strict";var a=function(t,i){var a=t.documentServices.platform.editorApps.SANTA_MEMBERS.appDefId,n=t.documentServices.platform.getAppDataByAppDefId(a);t.documentServices.platform.notifyApplication(n.applicationId,{eventType:e.EVENTS.ADD_PANEL.COMPONENT_ADDED_TO_STAGE,eventPayload:{compRef:i}})};return{registerSectionFactory:function(e){return function(t){t.addPanel.registerToAddSectionAtTheStartOfCategory(["members"],function(){return e(t)})}},onClickFactory:function(e,n){return function(o,s,r,p,d){i.addCompOnClick(d,e,n,o,r,p,{origin:t.BI.type.ADD_WIDGET}).then(a.bind(this,d))}},onDropFactory:function(e,n){return function(o,s,r,p){var d=a.bind(this,p);return i.addCompOnDrop(p,e,n,o,s,r,d,{origin:t.BI.type.ADD_WIDGET})}}}}),define("tpa/addPanelData/members/profileWidgetSection",["addPanelDataConsts","tpa/superApps/superAppsConstants","tpa/addPanelData/members/service"],function(e,t,i){"use strict";var a=t.MEMBER_PROFILE_CARD.APP_DEF_ID,n=t.MEMBER_PROFILE_CARD.WIDGET,o=i.onClickFactory(a,n),s=i.onDropFactory(a,n);return{registerSection:i.registerSectionFactory(function(){return{type:e.SECTIONS_TYPES.PRESET,hide:!1,title:"add_section_label_memberprofile",showSectionHeader:!0,additionalBehaviours:{labelMode:e.LABEL_BEHAVIOUR.NONE,infoIcon:e.INFO_ICON_BEHAVIOUR.NONE,hoverImageAction:e.HOVER_IMAGE_ACTIONS.SCALE,iconEnabledForComps:{}},props:{onClick:o,onDrop:s,image:"addPanelData/sections/membersProfileSection_en/membersProfileSection_en.png",items:[{id:"Member_Profile_1",structure:{layout:{x:224,y:127,fixedPosition:!1,width:250,height:183,scale:1,rotationInDegrees:0},type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{widgetId:n,type:"TPAWidget",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},referenceId:""},style:"tpaw0",activeModes:{}},preset:{rect:{width:324,height:217,x:0,y:0}}}]},help:{hide:!1,text:"add_section_label_membermenu_tooltip_description"}}}.bind(this))}}),define("tpa/addPanelData/members/membersWidgetSection",["addPanelDataConsts","tpa/superApps/superAppsConstants","tpa/addPanelData/members/service"],function(e,t,i){"use strict";var a=t.MEMBERS_WIDGET.APP_DEF_ID,n=t.MEMBERS_WIDGET.WIDGET,o=i.onClickFactory(a,n),s=i.onDropFactory(a,n);return{registerSection:i.registerSectionFactory(function(){return{type:e.SECTIONS_TYPES.PRESET,hide:!1,title:"add_section_label_memberswidget",showSectionHeader:!0,additionalBehaviours:{labelMode:e.LABEL_BEHAVIOUR.NONE,infoIcon:e.INFO_ICON_BEHAVIOUR.NONE,hoverImageAction:e.HOVER_IMAGE_ACTIONS.SCALE,iconEnabledForComps:{}},props:{onClick:o,onDrop:s,image:"addPanelData/sections/membersWidgetSection_en/membersWidgetSection_en.v2.png",items:[{id:"Members_Widget_1",structure:{layout:{x:0,y:0,fixedPosition:!1,width:980,height:825,scale:1,rotationInDegrees:0},type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{widgetId:n,type:"TPAWidget",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},referenceId:""},style:"tpaw0",activeModes:{}},preset:{rect:{width:324,height:248,x:0,y:0}}}]},help:{hide:!1,text:"add_section_label_memberswidget_tooltip_description"}}}.bind(this))}}),define("tpa/addPanelData/newBlog/triggerElementAddedBiEvent",["lodash","blog","constants","tpa/superApps/superAppsConstants"],function(e,t,i,a){"use strict";var n=a.NEW_BLOG_APP_DEF_ID;return function(a,o){var s=a.tpa.app.getDataByAppDefId(n),r=a.panelHelpers.isPanelOpen(i.SUPER_APPS.NEW_BLOG_PANEL_NAME);a.bi.event(t.newBlogBi.events.BLOG_ELEMENT_ADDED,e.assign({instance_id:s.instanceId,origin:r?"6th_button":"add_panel",is_first_time_view:!1},o))}}),define("tpa/addPanelData/newBlog/customFeedSection",["lodash","addPanelDataConsts","tpa/addPanelData/addPanelAddCompService","tpa/addPanelData/newBlog/triggerElementAddedBiEvent","tpa/superApps/superAppsCustomData","tpa/constants/constants","tpa/superApps/superAppsConstants"],function(e,t,i,a,n,o,s){"use strict";function r(){return{type:t.SECTIONS_TYPES.PRESET,hide:!1,title:"add_section_label_newblog_customfeed",showSectionHeader:!0,additionalBehaviours:{labelMode:t.LABEL_BEHAVIOUR.HOVER,infoIcon:t.INFO_ICON_BEHAVIOUR.NONE,hoverImageAction:t.HOVER_IMAGE_ACTIONS.NONE,iconEnabledForComps:{}},props:{onClick:u,onDrop:h,image:"addPanelData/sections/blogCustomFeedSection_en/blogCustomFeedSection_en.png",imageHover:null,items:[{id:l.SIDE_BY_SIDE,structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:980,height:800,x:0,y:0,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},applicationId:"1977",widgetId:"14e5b39b-6d47-99c3-3ee5-cee1c2574c89"},style:{type:"TopLevelStyle",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:n.getSuperAppsAddPanelStyles(d,l.SIDE_BY_SIDE),componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"},mobileStructure:{componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",type:"Component",conversionData:{isCustomPreset:!0},layout:{width:280,height:229,x:20,y:10,scale:1,rotationInDegrees:0,fixedPosition:!1}},activeModes:{}},preset:{rect:{width:162,height:154,x:0,y:0},label:"add_preset_newblog_sidebyside",tags:null}},{id:l.MAGAZINE,structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:980,height:980,x:0,y:0,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},applicationId:"1977",widgetId:"14e5b39b-6d47-99c3-3ee5-cee1c2574c89"},style:{type:"TopLevelStyle",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:n.getSuperAppsAddPanelStyles(d,l.MAGAZINE),componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"},mobileStructure:{componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",type:"Component",conversionData:{isCustomPreset:!0},layout:{width:280,height:280,x:20,y:10,scale:1,rotationInDegrees:0,fixedPosition:!1}},activeModes:{}},preset:{rect:{width:162,height:182,x:162,y:0},label:"add_preset_newblog_magazine",tags:null}},{id:l.POSTCARD,structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:980,height:656,x:0,y:0,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},applicationId:"1977",widgetId:"14e5b39b-6d47-99c3-3ee5-cee1c2574c89"},style:{type:"TopLevelStyle",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:n.getSuperAppsAddPanelStyles(d,l.POSTCARD),componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"},mobileStructure:{componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",type:"Component",conversionData:{isCustomPreset:!0},layout:{width:280,height:187,x:20,y:10,scale:1,rotationInDegrees:0,fixedPosition:!1}},activeModes:{}},preset:{rect:{width:162,height:136,x:0,y:154},label:"add_preset_newblog_postcard",tags:null}},{id:l.ONE_COLUMN,structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:980,height:1410,x:0,y:0,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},applicationId:"1977",widgetId:"14e5b39b-6d47-99c3-3ee5-cee1c2574c89"},style:{type:"TopLevelStyle",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:n.getSuperAppsAddPanelStyles(d,l.ONE_COLUMN),componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"},mobileStructure:{componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",type:"Component",conversionData:{isCustomPreset:!0},layout:{width:280,height:403,x:20,y:10,scale:1,rotationInDegrees:0,fixedPosition:!1}},activeModes:{}},preset:{rect:{width:162,height:239,x:162,y:182},label:"add_preset_newblog_onecolumn",tags:null}},{id:l.EDITORIAL,structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:980,height:698,x:0,y:0,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},applicationId:"1977",widgetId:"14e5b39b-6d47-99c3-3ee5-cee1c2574c89"},style:{type:"TopLevelStyle",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:n.getSuperAppsAddPanelStyles(d,l.EDITORIAL),componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"},mobileStructure:{componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",type:"Component",conversionData:{isCustomPreset:!0},layout:{width:280,height:199,x:20,y:10,scale:1,rotationInDegrees:0,fixedPosition:!1}},activeModes:{}},preset:{rect:{width:162,height:162,x:0,y:290},label:"add_preset_newblog_editorial",tags:null}}],compTypes:["wysiwyg.viewer.components.tpapps.TPAWidget"]},help:{hide:!1,text:"add_section_info_text_customfeed"}}}var p,d=s.NEW_BLOG_APP_DEF_ID,c="14e5b39b-6d47-99c3-3ee5-cee1c2574c89",l={SIDE_BY_SIDE:"customFeedSideBySide",MAGAZINE:"customFeedMagazine",POSTCARD:"customFeedPostcard",ONE_COLUMN:"customFeedOneColumn",EDITORIAL:"customFeedEditorial"},g=(p={},_defineProperty(p,l.SIDE_BY_SIDE,"side_by_side"),_defineProperty(p,l.MAGAZINE,"magazine"),_defineProperty(p,l.POSTCARD,"postcard"),_defineProperty(p,l.ONE_COLUMN,"one_column"),_defineProperty(p,l.EDITORIAL,"editorial"),p),m=function(e){return{element_type:"custom_feed",layout:g[e]}},u=function(e,t,n,s,r){a(r,m(s)),i.addCompOnClick(r,d,c,e,n,s,{origin:o.BI.type.ADD_WIDGET})},h=function(t,n,s,r){return a(r,m(n.itemId)),i.addCompOnDrop(r,d,c,t,n,s,e.noop,{origin:o.BI.type.ADD_WIDGET})};return{registerSection:function(i){i.addPanel.registerToAddSectionAtTheStartOfCategory([t.CATEGORIES_ID.NEW_BLOG],e.partial(r,i))}}}),define("tpa/addPanelData/newBlog/recentPostsSection",["lodash","addPanelDataConsts","tpa/addPanelData/newBlog/triggerElementAddedBiEvent","tpa/addPanelData/addPanelAddCompService","tpa/constants/constants","tpa/superApps/superAppsConstants"],function(e,t,i,a,n,o){"use strict";function s(){return{type:t.SECTIONS_TYPES.PRESET,hide:!1,title:"add_section_label_newblog_recentposts",showSectionHeader:!0,additionalBehaviours:{labelMode:t.LABEL_BEHAVIOUR.NONE,infoIcon:t.INFO_ICON_BEHAVIOUR.NONE,hoverImageAction:t.HOVER_IMAGE_ACTIONS.NONE,iconEnabledForComps:{}},props:{onClick:c,onDrop:l,image:"addPanelData/sections/blogRecentPostsSection_en/blogRecentPostsSection_en.png",imageHover:null,items:[{id:"recentPosts",structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:980,height:353,x:0,y:0,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},applicationId:"1708",widgetId:"14e5b36b-e545-88a0-1475-2487df7e9206"},style:"tpaw0",mobileStructure:{componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",type:"Component",conversionData:{isCustomPreset:!0},layout:{width:280,height:101,x:20,y:10,scale:1,rotationInDegrees:0,fixedPosition:!1}},activeModes:{}},preset:{rect:{width:324,height:132,x:0,y:0},label:"",tags:null}}],compTypes:["wysiwyg.viewer.components.tpapps.TPAWidget"]},help:{hide:!1,text:"add_section_info_text_customfeed"}}}var r=o.NEW_BLOG_APP_DEF_ID,p="14e5b36b-e545-88a0-1475-2487df7e9206",d={element_type:"recent_posts"},c=function(e,t,o,s,c){i(c,d),a.addCompOnClick(c,r,p,e,o,s,{origin:n.BI.type.ADD_WIDGET})},l=function(t,o,s,c){return i(c,d),a.addCompOnDrop(c,r,p,t,o,s,e.noop,{origin:n.BI.type.ADD_WIDGET})};return{registerSection:function(i){i.addPanel.registerToAddSectionAtTheStartOfCategory([t.CATEGORIES_ID.NEW_BLOG],e.partial(s,i))}}}),define("tpa/addPanelData/newBlog/rssButtonSection",["lodash","addPanelDataConsts","tpa/addPanelData/addPanelAddCompService","tpa/addPanelData/newBlog/triggerElementAddedBiEvent","tpa/superApps/superAppsCustomData","tpa/constants/constants","tpa/superApps/superAppsConstants"],function(e,t,i,a,n,o,s){"use strict";function r(){return{type:t.SECTIONS_TYPES.PRESET,hide:!1,title:"add_section_label_newblog_rss_button",showSectionHeader:!0,sectionNumber:2,additionalBehaviours:{labelMode:t.LABEL_BEHAVIOUR.NONE,infoIcon:t.INFO_ICON_BEHAVIOUR.NONE,hoverImageAction:t.HOVER_IMAGE_ACTIONS.NONE,iconEnabledForComps:{}},props:{onClick:u,onDrop:h,image:"addPanelData/sections/blogRssButtonSection_en/blogRssButtonSection_en.png",imageHover:null,items:[{id:l.SQUARE,structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:39,height:39,x:0,y:0,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},widgetId:c},style:{type:"TopLevelStyle",styleType:"custom",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:n.getSuperAppsAddPanelStyles(d,l.SQUARE),componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"},activeModes:{}},preset:{rect:{width:54,height:76,x:0,y:0},label:"",tags:null}},{id:l.ROUNDED_DARK,structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:39,height:39,x:0,y:0,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},widgetId:c},style:{type:"TopLevelStyle",styleType:"custom",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:n.getSuperAppsAddPanelStyles(d,l.ROUNDED_DARK),componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"},activeModes:{}},preset:{rect:{width:54,height:76,x:54,y:0},label:"",tags:null}},{id:l.ROUNDED_LIGHT,structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:39,height:39,x:0,y:0,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},widgetId:c},style:{type:"TopLevelStyle",styleType:"custom",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:n.getSuperAppsAddPanelStyles(d,l.ROUNDED_LIGHT),componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"},activeModes:{}},preset:{rect:{width:54,height:76,x:108,y:0},label:"",tags:null}},{id:l.TRANSPARENT_DARK,structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:39,height:39,x:0,y:0,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},widgetId:c},style:{type:"TopLevelStyle",styleType:"custom",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:n.getSuperAppsAddPanelStyles(d,l.TRANSPARENT_DARK),componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"},activeModes:{}},preset:{rect:{width:54,height:76,x:162,y:0},label:"",tags:null}},{id:l.TRANSPARENT_LIGHT,structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:39,height:39,x:0,y:0,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},widgetId:c},style:{type:"TopLevelStyle",styleType:"custom",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:n.getSuperAppsAddPanelStyles(d,l.TRANSPARENT_LIGHT),componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"},activeModes:{}},preset:{rect:{width:54,height:76,x:210,y:0},label:"",tags:null}}],compTypes:["wysiwyg.viewer.components.tpapps.TPAWidget"]},help:{hide:!1,text:"add_section_info_text_rss_button"}}}var p,d=s.NEW_BLOG_APP_DEF_ID,c="1515a9e7-b579-fbbb-43fc-0e3051c14803",l={SQUARE:"rssButtonSquare",ROUNDED_DARK:"rssButtonRoundedDark",ROUNDED_LIGHT:"rssButtonRoundedLight",TRANSPARENT_DARK:"rssButtonTransparentDark",TRANSPARENT_LIGHT:"rssButtonTransparentLight"},g=(p={},_defineProperty(p,l.SQUARE,"square"),_defineProperty(p,l.ROUNDED_DARK,"rounded_dark"),_defineProperty(p,l.ROUNDED_LIGHT,"rounded_light"),_defineProperty(p,l.TRANSPARENT_DARK,"transparent_dark"),_defineProperty(p,l.TRANSPARENT_LIGHT,"transparent_light"),p),m=function(e){return{element_type:"rss_button",border:g[e]}},u=function(e,t,n,s,r){a(r,m(s)),i.addCompOnClick(r,d,c,e,n,s,{origin:o.BI.type.ADD_WIDGET})},h=function(t,n,s,r){return a(r,m(n.itemId)),i.addCompOnDrop(r,d,c,t,n,s,e.noop,{origin:o.BI.type.ADD_WIDGET})};return{registerSection:function(i){i.addPanel.registerToAddSectionAtTheStartOfCategory([t.CATEGORIES_ID.NEW_BLOG],e.partial(r,i))}}}),define("tpa/experiments/experiments",["experiment"],function(e){"use strict";return{isEcomAddAppExperimentOn:function(){return e.isOpen("se_ecomAddApp")},isStorePagesUsability1bExperimentOn:function(){return e.isOpen("StorePagesUsability1b")},isShouldShowPhotoAlbumsAboutExperimentOn:function(){return e.isOpen("se_shouldShowPhotoAlbumsAbout")}}}),define("tpa/superApps/gfpp/superAppsGfppDataCacheService",["lodash","tpa/superApps/superApps","tpa/superApps/superAppsCustomData","tpa/constants/constants","tpa/experiments/experiments"],function(e,t,i,a,n){"use strict";var o={},s=function(t,i){return e.forEach(i,function(i){e.forEach(i,function(i){i.actions=e.filter(i.actions,function(e){return p(e)&&r(t,e)})})}),i},r=function(i,a){var n={openDashboardUrl:d,openSuperAppsModal:t.openSuperAppsModal,openPanel:i.openPanel};if(e.get(a,"onClick.name")&&e.get(a,"onClick.params")){var o=n[a.onClick.name];return!!e.isFunction(o)&&(a.onClick=o.bind.apply(o,[null].concat(a.onClick.params)),!0)}return!1},p=function(t){if(!t.experiment)return!0;var i=n[t.experiment];return e.isFunction(i)&&i()?(delete t.experiment,!0):void 0},d=function(e){e=e||{},t.openDashboardUrl(e.appDefId,e.width,e.height,{state:e.state,title:e.title,origin:e.origin,widgetId:e.widgetId,onClose:t.refreshAppCompsForAppDefId.bind(void 0,e.appDefId),shouldNotCloseOnBlur:e.shouldNotCloseOnBlur,isBareMode:e.isBareMode,options:e.options},{type:a.BI.type.GFPP_MANAGE})};return{init:function(e){var t=i.getSuperAppsGfppData();o=s(e,t)},getCustomMainActions:function(){return o},clearCustomMainActions:function(){o={}}}}),define("tpa/superApps/gfpp/superAppsGfppData",["lodash","tpa/superApps/superApps","tpa/superApps/gfpp/superAppsGfppDataCacheService"],function(e,t,i){"use strict";var a=function(){return i.getCustomMainActions()};return{getCustomMainActionsFor:function(e,t,i){var n=a()[t];return n&&n[i]?n[i]:n&&n[t]?n[t]:void 0},hasCustomActions:function(t){var i=a();return!e.isUndefined(i[t])},hasExternalUpgrade:function(e,i){if(t.hasPremiumOffering(e)){var n=a()[e];if(n&&n[i])return n[i].showUpgrade;if(n&&n[e])return n[e].showUpgrade}return!1}}}),define("tpa/gfpp/tpaGfppConfig",[],function(){"use strict";return{connectableTpaWidgetIds:["142bb34d-3439-576a-7118-683e690a1e0d"]}}),define("tpa/gfpp/tpaGfppData",["lodash","tpa/packagePicker/packagePicker","tpa/services/dashboardAppService","tpa/superApps/gfpp/superAppsGfppData","tpa/constants/constants","tpa/bi/bi","tpa/utils/tpaUtils","tpa/settings/settings","tpa/services/tpaHelpService","tpa/gfpp/tpaGfppConfig","constants","experiment"],function(e,t,i,a,n,o,s,r,p,d,c,l){"use strict";function g(e,t){var i=e.components.data.get(t)||{},a=e.documentServices.tpa.app.getData(i.applicationId);a&&a.appDefinitionId&&function(e,t,i){s.bi.reportBIOnAppIntent(e,t,i,n.BI.initiator.EDITOR,n.BI.type.GFPP_SETTINGS)}(e,o.events.APP_INTENT,a.appDefinitionId)}function m(t,i){var a=e.get(i,"appDefinitionId");e.forEach(t,function(e){e.appId=a})}var u={label:"gfpp_mainaction_tpa",isApplied:!0,onClick:function(e,t){g(e,t),r.open(e,t)}},h=function(e){var t=e.selection.getSelectedComponentData(),i=e.documentServices.tpa.app.getData(t.applicationId),a={app_id:i.appDefinitionId,app_site_id:i.instanceId,instance_id:t.id,origin:"gfpp"};e.bi.event(o.events.OPEN_DASHBOARD_APP_CLICK,a)},y=function(e,i){var n=e.documentServices.tpa.app.getData(i.applicationId);if(a.hasExternalUpgrade(n.appDefinitionId,i.widgetId))return!0;if(e.documentServices.tpa.app.hasPremiumOffering(i.applicationId)){return!t.isFullyUpgraded(e,n)}return!1},P=function(t,i){return!!l.isOpen("se_addConnectButtonToTpaGalleries")&&e.includes(d.connectableTpaWidgetIds,i.widgetId)},f=function(t,i,n,o){var s=a.getCustomMainActionsFor(t,i,n);e.isEmpty(s)||e.forEach(s.actions,function(e){e.addAtBack?A(e,o):_(e,o)})},v=function(e){var t=e.selection.getSelectedComponentData();return e.documentServices.tpa.app.getData(t.applicationId)},I=function(t,a){var n=function(e){var t=void 0,a=i.getEditorGfppData(e);return a.openInDashboard&&(t=function(e,t){return{label:a.openInDashboardText,isApplied:!0,shouldTranslate:!1,onClick:function(){i.getDashboardAppUrlAsync(e,void 0,function(e,t){t&&(window.open(t),h(e))}.bind(null,e))}}}(e)),t}(t);e.isEmpty(n)||a.push(n)},_=function(t,i){e.isEmpty(t)||i.unshift(t)},A=function(t,i){e.isEmpty(t)||i.push(t)};return{mainActions:function(e){var t=[u];I(e,t);var i=e.selection.getSelectedComponentData(),n=e.documentServices.tpa.app.getData(i.applicationId);return a.hasCustomActions(n.appDefinitionId)&&f(e,n.appDefinitionId,i.widgetId,t),m(t,n),t},mobileMainActions:function(t){var i=t.selection.getSelectedComponentData(),a=t.documentServices.tpa.app.getData(i.applicationId),n=i.widgetId||t.documentServices.tpa.app.getMainSectionWidgetData(a).widgetId;return!0===e.get(a,["widgets",n,"componentFields","mobileSettingsEnabled"],!1)?[u]:[]},enabledActions:function(e,t){var i=[t.HELP],a=e.selection.getSelectedComponentData();return P(e,a)&&i.unshift(t.CONNECT),y(e,a)&&i.unshift(t.UPGRADE),i},presetActions:function(a){var r={help:{isSelected:!1,tooltip:"gfpp_tooltip_help",onClick:function(){var t=v(a),i=a.selection.getSelectedComponentData().widgetId,n={widget_id:i,app_id:t.appDefinitionId,panel_name:a.selection.getSelectedComponentType(),origin:c.BI.HELP.ORIGIN.GFPP},s={openPanelBiEvent:o.events.TPA_HELP_CLICK,openPanelBiParams:e.merge({help_status:"open"},n),closePanelBiParams:e.merge({help_status:"close"},n),closePanelBiEvent:o.events.TPA_HELP_CLICK};i=i||a.documentServices.tpa.app.getMainSectionWidgetData(t).widgetId,p.getHelpId(a,t.appDefinitionId,i,p.HELP_END_POINTS.WIDGET).then(function(e){var t={origin:c.BI.HELP.ORIGIN.GFPP,panel_name:a.selection.getSelectedComponentType(),component:a.selection.getSelectedComponentType(),learn_more:!1};a.panelManager.openHelpCenter(e,s,t)})}},upgrade:{isSelected:!1,shouldTranslate:function(){return!i.getEditorGfppData(a).upgradeText},tooltip:function(){return i.getEditorGfppData(a).upgradeText||"tpa_package_picker_upgrade_title"},icon:"upgrade",onClick:function(){var e=v(a);s.bi.reportBIOnAppIntent(a,o.events.APP_INTENT,e.appDefinitionId,n.BI.initiator.EDITOR,n.BI.type.GFPP_UPGRADE),t.startUpgradeFlow(a,e.appDefinitionId,!1,{origin:"gfpp"});var i={pp_origin:"gfpp",app_site_id:e.instanceId,app_id:e.appDefinitionId};a.bi.event(o.events.CLICK_UPGRADE_APP,i)}}};return m(r,v(a)),r}}}),define("tpa/services/tpaDeleteService",["lodash","util","tpa/services/tpaAddRemoveDSService","experiment"],function(e,t,i,a){"use strict";var n=function(e,a,n,o){var s=e.documentServices.tpa.app.isLastAppComp(a.applicationId);i.deleteWidget(e,n);var r={app_id:o.appDefinitionId,app_site_id:o.instanceId,instance_id:n.id,is_last_tpa:s?1:0,component_type:"tpa"};e.bi.event(t.bi.events.REMOVE_COMPONENT_SECOND_STEP_CLICK,r)},o=function(e,t,n,o){if(a.isOpen("us_groupRightClick"))return i.deleteSection(e,t,o),void(n&&n());e.pages.beforePageRemoveHook(t,function(){i.deleteSection(e,t,o),n&&n()})},s=function(i,a,n,s){o(i,a,n,s);var r=e.clone(s);r=e.map(r,function(t){return e.pick(t,["app_id","app_site_id","component_id","component_type","instance_id","is_last_tpa"])}),i.bi.reportBI(t.bi.events.REMOVE_COMPONENT_SECOND_STEP_CLICK,r)};return{deleteWidget:function(e,t,a){var o=e.components.data.get(t),s=e.documentServices.tpa.app.isPremium(o.applicationId),r=e.documentServices.tpa.app.getData(o.applicationId),p=e.documentServices.tpa.app.hasSections(r);return new Promise(function(d){s&&!p&&a?e.panelManager.openPanel("tpaPanels.confirmation.premiumTPADelete",{appName:r.appDefinitionName,appDefId:r.appDefinitionId,onConfirm:function(){n(e,o,t,r),d()}},!0):(i.deleteWidget(e,t),d())})},deleteSection:function(t,i,n,r,p,d,c){e.assign(c,c);var l=t.documentServices.tpa.app.isMultiSectionInstalled(r.applicationId),g=t.documentServices.tpa.app.getInstalledDependentAppsData(r.applicationId);p&&!e.isEmpty(g)?function(t,i,a,n,o,r,p){t.panelManager.openPanel("tpaPanels.confirmation.sectionDeleteMultipleApps",{appName:i.appDefinitionName,pageName:a,appDefId:i.appDefinitionId,dependentAppNames:e.map(p,"appDefinitionName"),onConfirm:function(){s(t,n,o,r)}},!0)}(t,r,n,i,d,c,g):!p||l||!a.isOpen("se_tpaProvisionOnAdd")&&r.demoMode?!a.isOpen("us_groupRightClick")&&p?function(e,t,i,a,n){e.panelManager.openPanel("panels.messagePanels.deletePageMessage",{pageTitle:t,onConfirm:function(){o(e,i,a,n)}},!0)}(t,n,i,d,c):o(t,i,d,c):function(e,t,i,a,n,o){e.panelManager.openPanel("tpaPanels.confirmation.sectionDelete",{appName:t.appDefinitionName,pageName:i,appDefId:t.appDefinitionId,onConfirm:function(){s(e,a,n,o)}},!0)}(t,r,n,i,d,c)},displaySectionDeleteMessage:function(e,t){var i=e.components.data.get(t),a=e.documentServices.tpa.app.getData(i.applicationId);e.panelManager.openPanel("tpaPanels.message.cannotDeleteSection",{title:"tpa_messages_oops_title",appName:a.appDefinitionName,appDefId:a.appDefinitionId},!0)}}}),define("tpa/services/tpaCopyPasteService",["lodash","tpa/bi/bi","tpa/utils/tpaUtils","tpa/constants/constants","tpa/services/tpaDeleteService","tpa/services/tpaAddRemoveDSService"],function(e,t,i,a,n,o){"use strict";return{copyComponentPlugin:function(e,t){return t.originCompId=e.id,t},addComponentPlugin:function(n,s,r){var p=e.get(r,"data.applicationId"),d=e.get(r,"data.widgetId"),c=e.get(r,"originCompId"),l=n.documentServices.tpa.app.getData(p),g=n.components.get.byId(c),m=n.components.layout.isHorizontallyStretchedToScreen(g);return r.originCompId&&i.bi.reportBIOnAppIntent(n,t.events.APP_INTENT,l.appDefinitionId,a.BI.initiator.EDITOR,a.BI.type.COPY_APP),o.addWidgetSync(n,l.appDefinitionId,{widgetId:d,componentDefinition:r,parentContainerRef:s,invokeAddAppCallbacks:!1,dontStretch:!m})},cutComponentPlugin:function(e,t){n.deleteWidget(e,t,!1)}}}),define("tpa",["lodash","experiment","stateManagement","tpa/utils/tpaUtils","tpa/constants/constants","tpa/services/tpaPostMessageService","tpa/services/tpaPreviewPostMessageService","tpa/appMarket/services/appMarketPostMessageService","tpa/appMarket/services/appMarketTabService","tpa/settings/compPanels/tpaSettings","tpa/compPanels/appMarketPanel","tpa/packagePicker/packagePicker","tpa/compModals/appMarketAppModal","tpa/compModals/appMarketPermissionsModal","tpa/compModals/tpaSettingsModal","tpa/compModals/appMarketModal","tpa/services/navigateAndOpenAppService","tpa/addPanelData/section","tpa/addPanelData/music/musicSection","tpa/addPanelData/music/soundCloudSection","tpa/addPanelData/video/videoSection","tpa/addPanelData/gallery/proGalleriesSection","tpa/addPanelData/contact/contactSection","tpa/addPanelData/events/eventsSection","tpa/addPanelData/contact/liveChatSection","tpa/addPanelData/members/profileWidgetSection","tpa/addPanelData/members/membersWidgetSection","tpa/addPanelData/newBlog/customFeedSection","tpa/addPanelData/newBlog/recentPostsSection","tpa/addPanelData/newBlog/rssButtonSection","tpa/bi/bi","tpa/superApps/superApps","tpa/services/pendingAppsService","tpa/services/dashboardAppService","tpa/gfpp/tpaGfppData","tpa/addPanelData/addPanelService","tpa/services/tpaDeleteService","tpa/services/tpaCompNameService","tpa/handlers/editorTPAHandlers","tpa/handlers/editorRefreshTPADataAfterUpgrade","tpa/appMarket/utils/appMarketUtils","tpa/appMarket/appMarketHandlers","tpa/settings/settings","tpa/experiments/experiments","tpa/superApps/superAppsConstants","tpa/superApps/gfpp/superAppsGfppDataCacheService","tpa/services/tpaCopyPasteService","tpa/handlers/editorSuperAppsHandlers","tpa/services/tpaAddComponentService","tpa/services/tpaAddAppService","tpa/services/tpaAddRemoveDSService","constants","tpa/services/tpaAppInstallingService","tpa/services/tpaAlertsService"],function(e,t,i,a,n,o,s,r,p,d,c,l,g,m,u,h,y,P,f,v,I,_,A,S,w,D,T,b,E,C,M,k,O,N,B,x,F,R,L,W,H,V,G,U,j,Y,K,q,z,X,J,Z,Q,$){"use strict";var ee=!1,te=void 0,ie=i.editorPlugins.leftBar.selectors.getDeviceType,ae=function(t){var a=t.store.dispatch;t.registerSitePublishedCallbacks(function(){var n=t.store.getState();!i.editorPlugins.userPreferences.selectors.getSiteUserPreferences("tpa.compPanels.appMarketPanel"+Z.LEFT_BAR.WAS_BUTTON_CLICKED_KEY)(n)&&e.isEmpty(i.editorPlugins.leftBar.selectors.getCollapseOnClick(n))&&(a(i.editorPlugins.leftBar.actions.expandButton("tpa.compPanels.appMarketPanel")),a(i.editorPlugins.bi.actions.event(M.events.APP_MARKET_ICON_EXPANDED,{site_id:t.documentServices.generalInfo.getSiteId()})))})},ne=function(e){e.documentServices.tpa.app.isInstalled(j.ECOM.APP_DEF_ID)&&(oe(e)||(e.documentServices.bi.error(M.errors.ECOM_MISSING_PAGES),U.isEcomAddAppExperimentOn()&&e.panelManager.openPanel("tpaPanels.confirmation.addEcom",{onConfirm:function(){e.documentServices.tpa.section.add(j.ECOM.APP_DEF_ID)}},!0)))},oe=function(t){var i=t.documentServices.tpa.app.getDataByAppDefId(j.ECOM.APP_DEF_ID).applicationId,a=t.documentServices.tpa.app.getSections(i);return a&&!e.isEmpty(a)},se=function(t,i){var o=e.head(i.comp),s=t.components.data.get(o),r=t.documentServices.tpa.app.getData(s.applicationId);if(t.isDesktopEditor()){var p=e.get(r,"appDefinitionId",null);a.bi.reportBIOnAppIntent(t,M.events.APP_INTENT,p,n.BI.initiator.EDITOR,n.BI.type.DOUBLECLICK_SETTINGS),G.open(t,o)}},re=function(e){pe(e),I.registerSection(e),t.isOpen("se_chatInAddPanel")&&w.registerSection(e),A.registerSection(e),D.registerSection(e),T.registerSection(e),b.registerSection(e),E.registerSection(e),t.isOpen("newBlogRssButtonSection")&&C.registerSection(e),_.registerSection(e),t.isOpen("eventsSection")&&S.registerSection(e)},pe=function(e){v.registerSection(e),f.registerSection(e)},de=function(e){e.documentServices.tpa.appMarket.getDataForPage(e.documentServices.pages.getFocusedPageId()),e.registerPageNavigationCallback(function(t){e.documentServices.tpa.appMarket.getDataForPage(t)})},ce=function(e,t){e.documentServices.tpa.change.editMode(t?"preview":"editor"),ee=t,t||e.documentServices.tpa.closePopupsAndModal()},le=function(e){e.documentServices.tpa.change.sitePublished()},ge=function(e){var t=e.store.getState();e.documentServices.tpa.change.deviceType(ie(t))},me=function(e){e.registerToViewerChange(function(){var t=e.getPreviewMode();t!==ee&&ce(e,t)})},ue=function(e){x.init(e,k.relatedApps.addPanelCategories,function(){P.registerAddPanelSection(e)})};return{initEditor:function(e){te=e,o(e,window.addEventListener).addListenerToTpaMessage(),s.init(e),r.init(e),k.init(e),Y.init(e.panelManager),ae(e)},onPreviewReady:function(i){var n=a.isInDevMode();i.documentServices.tpa.initEditor(n,U),me(i);var o=i.pluginService;e.forEach(i.documentServices.tpa.constants.COMP_TYPES,function(e){i.registerCompNamePlugin(e,R.getCompName.bind(null,i)),o.registerPlugin(o.pluginConstants.DOUBLE_CLICK,e,se)}),e.forEach(i.documentServices.tpa.constants.TPA_COMP_TYPES,function(e){i.registerCompNamePlugin(e,R.getCompName.bind(null,i)),o.registerPlugin(o.pluginConstants.DOUBLE_CLICK,e,se)}),i.registerRemovePlugin(i.documentServices.tpa.constants.COMP_TYPES.TPA_WIDGET,F.deleteWidget.bind(null,i)),i.registerRemovePlugin(i.documentServices.tpa.constants.COMP_TYPES.TPA_GLUED_WIDGET,F.deleteWidget.bind(null,i)),i.registerRemovePlugin(i.documentServices.tpa.constants.TPA_COMP_TYPES.TPA_WIDGET,F.deleteWidget.bind(null,i)),i.registerRemovePlugin(i.documentServices.tpa.constants.TPA_COMP_TYPES.TPA_GLUED_WIDGET,F.deleteWidget.bind(null,i)),i.registerRemovePagePlugin(i.documentServices.tpa.constants.COMP_TYPES.TPA_SECTION,F.deleteSection.bind(null,i)),i.registerRemovePagePlugin(i.documentServices.tpa.constants.TPA_COMP_TYPES.TPA_SECTION,F.deleteSection.bind(null,i)),i.registerCopyComponentPlugin(i.documentServices.tpa.constants.COMP_TYPES.TPA_WIDGET,K.copyComponentPlugin),i.registerCopyComponentPlugin(i.documentServices.tpa.constants.COMP_TYPES.TPA_GLUED_WIDGET,K.copyComponentPlugin),i.registerCopyComponentPlugin(i.documentServices.tpa.constants.TPA_COMP_TYPES.TPA_WIDGET,K.copyComponentPlugin),i.registerCopyComponentPlugin(i.documentServices.tpa.constants.TPA_COMP_TYPES.TPA_GLUED_WIDGET,K.copyComponentPlugin),i.registerAddComponentPlugin(i.documentServices.tpa.constants.COMP_TYPES.TPA_WIDGET,K.addComponentPlugin),i.registerAddComponentPlugin(i.documentServices.tpa.constants.TPA_COMP_TYPES.TPA_GLUED_WIDGET,K.addComponentPlugin),i.registerAddComponentPlugin(i.documentServices.tpa.constants.TPA_COMP_TYPES.TPA_WIDGET,K.addComponentPlugin),i.registerAddComponentPlugin(i.documentServices.tpa.constants.TPA_COMP_TYPES.TPA_GLUED_WIDGET,K.addComponentPlugin),i.registerCutComponentPlugin(i.documentServices.tpa.constants.COMP_TYPES.TPA_WIDGET,K.cutComponentPlugin.bind(null,i)),i.registerCutComponentPlugin(i.documentServices.tpa.constants.TPA_COMP_TYPES.TPA_GLUED_WIDGET,K.cutComponentPlugin.bind(null,i)),i.registerCutComponentPlugin(i.documentServices.tpa.constants.TPA_COMP_TYPES.TPA_WIDGET,K.cutComponentPlugin.bind(null,i)),i.registerCutComponentPlugin(i.documentServices.tpa.constants.TPA_COMP_TYPES.TPA_GLUED_WIDGET,K.cutComponentPlugin.bind(null,i)),i.registerCannotRemovePlugin(i.documentServices.tpa.constants.COMP_TYPES.TPA_SECTION,F.displaySectionDeleteMessage.bind(null,i)),i.registerCannotRemovePlugin(i.documentServices.tpa.constants.TPA_COMP_TYPES.TPA_SECTION,F.displaySectionDeleteMessage.bind(null,i)),t.isOpen("us_groupRightClick")||(i.tooltipTextService.registerTooltipText(i.documentServices.tpa.constants.COMP_TYPES.TPA_SECTION,"DELETE","tpa_section_cant_delete_tooltip"),i.tooltipTextService.registerTooltipText(i.documentServices.tpa.constants.TPA_COMP_TYPES.TPA_SECTION,"DELETE","tpa_section_cant_delete_tooltip")),i.tooltipTextService.registerTooltipText(i.documentServices.tpa.constants.COMP_TYPES.TPA_GLUED_WIDGET,"SHOW_ON_ALL_PAGES","tpa_glued_show_on_all_pages_tooltip"),i.tooltipTextService.registerTooltipText(i.documentServices.tpa.constants.TPA_COMP_TYPES.TPA_GLUED_WIDGET,"SHOW_ON_ALL_PAGES","tpa_glued_show_on_all_pages_tooltip"),p.openAppMarketTabFromUrlParamIfNeeded(i.panelManager.openPanel),y.handleIfComingFromETPA(i),i.registerInitUserPrefsCallback(function(){O.updateNotification(i)}),ue(i),re(i),i.documentServices.tpa.billing.getPremiumApps(i.site.getMetaSiteId()),i.registerSitePublishedCallbacks(le.bind(null,i)),i.registerDeviceTypeChangeCallbacks(ge.bind(null,i)),de(i),M.registerEvents(i),ne(i)},editModeChange:ce,packagePicker:l,compPanels:{tpaSettings:d,appMarketPanel:c},compModals:{tpaSettingsModal:u,appMarketAppModal:g,appMarketPermissionsModal:m,appMarketModal:h},constants:n,superApps:k,superAppsConstants:j,dashboardApps:N,gfpp:B,getEditorAPI:function(){return te},editorTPAHandlers:L,editorSuperAppsHandlers:q,editorRefreshTPADataAfterUpgrade:W,appMarketUtils:H,settings:G,appMarketTabService:p,appMarketHandlers:V,bi:M,tpaUtils:a,services:{tpaAddComponentService:z,tpaAddAppService:X,tpaAddRemoveDSService:J,tpaAppInstallingService:Q,tpaAlertsService:$}}});
//# sourceMappingURL=tpa.min.js.map